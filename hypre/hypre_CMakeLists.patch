diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index 2f766f7..1b339e7 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -3,6 +3,8 @@ project (hypre)
 
 # The version number.
 set (HYPRE_VERSION 2.15.1)
+set (HYPRE_MAJOR 0)
+set (HYPRE_MINOR 0.2.6)
 set (HYPRE_DATE    2018/10/19)
 set (HYPRE_TIME    00:00:00)
 set (HYPRE_BUGS    hypre-support@llnl.gov)
@@ -775,19 +777,6 @@ else ()
   set (BUILD_SHARED_LIBS OFF CACHE INTERNAL "" FORCE)
 endif ()
 
-# Set MPI compile flags
-if (NOT HYPRE_SEQUENTIAL)
-  find_package (MPI)
-  if ((MPI_C_FOUND) AND (NOT CMAKE_C_COMPILER STREQUAL MPI_C_COMPILER))
-    include_directories (${MPI_C_INCLUDE_PATH})
-    set (CMAKE_C_FLAGS "${CMAKE_C_FLAGS} ${MPI_C_COMPILE_FLAGS}")
-  endif ()
-  if ((MPI_CXX_FOUND) AND (NOT CMAKE_CXX_COMPILER STREQUAL MPI_CXX_COMPILER))
-    include_directories (${MPI_CXX_INCLUDE_PATH})
-    set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${MPI_CXX_COMPILE_FLAGS}")
-  endif ()
-endif (NOT HYPRE_SEQUENTIAL)
-
 # Set OpenMP compile flags
 if (HYPRE_USING_OPENMP)
   find_package (OpenMP)
@@ -832,9 +821,25 @@ if (HYPRE_USING_FEI)
 endif ()
 
 add_library (HYPRE ${HYPRE_SOURCES} ${FEI_LIBS})
+set_target_properties(HYPRE PROPERTIES VERSION ${HYPRE_MINOR} SOVERSION ${HYPRE_MAJOR})
+
+# Set MPI compile flags
+if (NOT HYPRE_SEQUENTIAL)
+  find_package (MPI)
+  include_directories(${MPI_INCLUDE_PATH})
+  if (MPI_COMPILE_FLAGS)
+    set_target_properties(HYPRE PROPERTIES COMPILE_FLAGS "${MPI_COMPILE_FLAGS}")
+  endif()
+  if (MPI_LINK_FLAGS)
+    set_target_properties(HYPRE PROPERTIES LINK_FLAGS "${MPI_LINK_FLAGS}")
+  endif()
+  target_link_libraries(HYPRE ${MPI_C_LIBRARIES})
+endif (NOT HYPRE_SEQUENTIAL)
+
+
 
-install (TARGETS HYPRE DESTINATION lib)
-install (FILES ${HYPRE_HEADERS} DESTINATION include)
+install (TARGETS HYPRE DESTINATION lib${LIB_SUFFIX})
+install (FILES ${HYPRE_HEADERS} DESTINATION include/hypre)
 
 # add_subdirectory (test EXCLUDE_FROM_ALL)
  
