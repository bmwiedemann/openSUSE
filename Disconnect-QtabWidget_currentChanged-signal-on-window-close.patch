From eeab31a116535efc6d4757f027897265736ed161 Mon Sep 17 00:00:00 2001
From: Wolfgang Bauer <wbauer@tmo.at>
Date: Sun, 17 May 2020 20:22:45 +0000
Subject: Disconnect `QtabWidget::currentChanged` signal on window close event

Otherwise `MainWindow::changeCurrentTab()` may still get called when things are already being destroyed, leading to crashes.

BUG: 409375
FIXED-IN: 20.04.2
---
 src/mainWindow.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/mainWindow.cpp b/src/mainWindow.cpp
index 3607f6c..a30449c 100644
--- a/src/mainWindow.cpp
+++ b/src/mainWindow.cpp
@@ -350,6 +350,8 @@ void MainWindow::updateReloading()
 
 void MainWindow::closeEvent(QCloseEvent *event)
 {
+    disconnect(d->tabs, &QTabWidget::currentChanged, this, &MainWindow::changeCurrentTab);
+
     LogManager *currentLogManager = d->tabs->activeLogManager();
     if (currentLogManager) {
         currentLogManager->stopWatching();
-- 
cgit v1.1

