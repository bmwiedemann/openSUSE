--- createrepo/yumbased.py.orig	2010-04-09 10:22:09.000000000 +0200
+++ createrepo/yumbased.py	2010-04-09 10:28:58.000000000 +0200
@@ -63,8 +63,8 @@
             t.append("".join(self.hdr[rpm.RPMTAG_SIGGPG]))
         if type(self.hdr[rpm.RPMTAG_SIGPGP]) is not types.NoneType:
             t.append("".join(self.hdr[rpm.RPMTAG_SIGPGP]))
-        if type(self.hdr[rpm.RPMTAG_HDRID]) is not types.NoneType:
-            t.append("".join(self.hdr[rpm.RPMTAG_HDRID]))
+        if type(self.hdr[rpm.RPMTAG_SHA1HEADER]) is not types.NoneType:
+            t.append("".join(self.hdr[rpm.RPMTAG_SHA1HEADER]))
 
         kcsum = misc.Checksums(checksums=[self.checksum_type])
         kcsum.update("".join(t))
