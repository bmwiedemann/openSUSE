--- html2text-1.3.2a/html2text.C.orig	2009-01-22 16:59:21.000000000 +0100
+++ html2text-1.3.2a/html2text.C	2009-01-22 17:01:28.000000000 +0100
@@ -36,13 +36,14 @@
 
 
 #include <iostream>
+#include <fstream>
 #include <string.h>
 #include <stdlib.h>
 #include <unistd.h>
 
 #include "html.h"
 #include "HTMLControl.h"
-#include "urlistream.h"
+// #include "urlistream.h"
 #include "format.h"
 
 #define stringify(x) stringify2(x)
@@ -50,13 +51,15 @@
 
 /* ------------------------------------------------------------------------- */
 
+using std::ifstream;
+
 class MyParser : public HTMLControl {
 
 public:
   enum { PRINT_AS_ASCII, UNPARSE, SYNTAX_CHECK };
 
   MyParser(
-    urlistream &is_,
+    istream &is_,
     bool       debug_scanner_,
     bool       debug_parser_,
     ostream    &os_,
@@ -357,15 +360,14 @@ main(int argc, char **argv)
     }
 
     istream    *isp;
-    urlistream uis;
+    ifstream     uis;
 
     uis.open(input_url);
     if (!uis.is_open()) {
       std::cerr
-        << "Opening input URL \""
+        << "Cannot open input file \""
 	<< input_url
-        << "\": "
-        << uis.open_error()
+        << "\"."
         << std::endl;
       exit(1);
     }
--- html2text-1.3.2a/HTMLControl.h.orig	2003-11-23 12:05:29.000000000 +0100
+++ html2text-1.3.2a/HTMLControl.h	2009-01-27 17:22:05.000000000 +0100
@@ -38,7 +38,6 @@
 /* ------------------------------------------------------------------------- */
 
 #include "HTMLParser.h"
-#include "urlistream.h"
 #include <istream>
 
 using std::istream;
@@ -48,7 +47,7 @@ using std::istream;
 class HTMLControl : public HTMLParser {
 
 public:
-  HTMLControl(urlistream &is_, bool debug_scanner_, bool debug_parser_) :
+  HTMLControl(istream &is_, bool debug_scanner_, bool debug_parser_) :
     HTMLParser(),
     current_line(1),
     current_column(0),
@@ -84,7 +83,7 @@ private:
 
   bool debug_scanner;
 
-  urlistream &is;
+  istream &is;
   int     ungotten_chars[5];
   int     number_of_ungotten_chars;
 };
--- html2text-1.3.2a/Makefile.in.orig	2004-01-14 14:47:02.000000000 +0100
+++ html2text-1.3.2a/Makefile.in	2009-01-27 17:22:05.000000000 +0100
@@ -68,7 +68,7 @@ all : html2text
 	@echo '"/usr/local/bin", "/usr/local/man/man1" and "/usr/local/man/man5").';
 	@echo
 
-OBJS = html2text.o html.o HTMLControl.o HTMLParser.o Area.o format.o sgml.o table.o urlistream.o Properties.o cmp_nocase.o
+OBJS = html2text.o html.o HTMLControl.o HTMLParser.o Area.o format.o sgml.o table.o Properties.o cmp_nocase.o
 
 html2text : $(OBJS) $(LIBSTDCXX_LIBS)
 	$(CXX) $(LDFLAGS) $(OBJS) $(LOADLIBES) $(LDLIBS) -o $@
