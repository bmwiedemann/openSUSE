-------------------------------------------------------------------
Wed Jan  4 09:32:50 UTC 2023 - Stefan Schubert <schubi@suse.com>

- Migration of PAM settings to /usr/lib/pam.d. 

-------------------------------------------------------------------
Mon Nov  7 14:58:46 UTC 2022 - Stefan Dirsch <sndirsch@suse.com>

- Release 1.12.0 covers bugfixes for bsc#1197119,bsc#1199477

-------------------------------------------------------------------
Mon Nov  7 10:10:03 UTC 2022 - Stefan Dirsch <sndirsch@suse.com>

- Release 1.12.0 supersedes the following patches still used with
  tigervnc 1.10.1 on sle15-sp4/Leap 15.4:
  * U_0003-Update-Surface_X11.cxx.patch
  * U_Handle-pending-data-in-TLS-buffers.patch

-------------------------------------------------------------------
Tue Aug  9 12:17:29 UTC 2022 - Thorsten Kukuk <kukuk@suse.com>

- Use %_pam_vendordir

-------------------------------------------------------------------
Thu Apr 28 21:10:19 UTC 2022 - Dirk Müller <dmueller@suse.com>

- fix homepage url
- move license to licensedir
- a few of the trivial spec-cleaner cleanups 

-------------------------------------------------------------------
Fri Apr 15 00:35:02 UTC 2022 - Cristian Rodríguez <crrodriguez@opensuse.org>

- nasm is not needed for build, remove from buildrequires 

-------------------------------------------------------------------
Wed Mar  2 13:23:00 UTC 2022 - Stefan Dirsch <sndirsch@suse.com>

- x11vnc: no longer explicitely require python3, since it's already
  required implicitely via autogenerated RPM requires

-------------------------------------------------------------------
Wed Mar  2 08:12:41 UTC 2022 - Joan Torres <joan.torres@suse.com>

- x11vnc requires python3 (bsc#1196623)

-------------------------------------------------------------------
Mon Feb 21 16:18:49 UTC 2022 - Joan Torres <joan.torres@suse.com>

- Remove patch: tigervnc-clean-pressed-key-on-exit.patch 
  * fixed bsc#670448 wich can no longer be reproduced
  * removing the patch fixes bsc#1196214
  * related: https://github.com/TigerVNC/tigervnc/pull/14

-------------------------------------------------------------------
Thu Feb 17 14:14:13 UTC 2022 - Stefan Dirsch <sndirsch@suse.com>

- n_vncserver.patch
  * fix location of Xsession script
- vncserver usage has radically changed; please check this: 
  https://github.com/TigerVNC/tigervnc/blob/master/unix/vncserver/HOWTO.md 

-------------------------------------------------------------------
Thu Feb 17 09:22:52 UTC 2022 - Joan Torres <joan.torres@suse.com>

- Update to tigervnc 1.12.0
  * The native viewer now supports full screen over a subset of monitors (e.g. 2 out of 3), and reacts properly to monitors being added or removed
  * Recent server history in the native viewer
  * The native viewer now has an option to reconnect if the connection is dropped
  * Translations are now enabled on Windows and macOS for the native viewer
  * The native viewer now respects the system security policy
  * Better handling of accented keys in the Java viewer
  * The Unix servers can now listen to both a Unix socket and a TCP port at the same time
  * The network code in both the servers and the native viewer has been restructured to give a more responsive experience
  * The vncserver service now correctly handles settings set to "0"
  * Fixed the clipboard Unicode handling in both the native viewer and the servers
  * Support for pointer "warping" in Xvnc and the native viewer, enabling e.g. FPS games
- Update to tigervnc 1.11.0
  * A security issue has been fixed in how the viewers handle TLS certificate exceptions
  * vncserver has gotten a major redesign to be compatible with modern distributions
  * The native viewer now has touch gestures to handle certain mouse actions (e.g. scroll wheel)
  * Middle mouse button emulation in the native viewer, for devices with only two mouse buttons
  * The Java viewer now supports Java 9+, but also now requires Java 8+
  * Support for alpha cursors in the Java viewer (a feature already supported in the native viewer)
  * The password and username can now be specified via the environment for the native viewer
  * Support for building Xvnc/libvnc.so with Xorg 1.20.7+ and deprecate support for Xorg older than 1.16
  * The official builds have been fixed to work on the upcoming macOS 11
  * The Windows server (WinVNC) is now packaged separately as it is unmaintained and buggy
- Removed patches (included in 1.12.0):
  * U_viewer-reset-ctrl-alt-to-menu-state-on-focus.patch
  * tigervnc-fix-saving-of-bad-server-certs.patch
  * u_xorg-server-1.20.7-ddxInputThreadInit.patch
  * U_0001-Properly-store-certificate-exceptions.patch
  * U_0002-Properly-store-certificate-exceptions-in-Java-viewer.patch
  * tigervnc-FIPS-use-RFC7919.patch
  * u_Fix-non-functional-MaxDisconnectionTime.patch
- Removed patches (no longer needed):
  * u_tigervnc-cve-2014-8240.patch (https://github.com/TigerVNC/tigervnc/pull/1258)
  * u_tigervnc_update_default_vncxstartup.patch
- Refreshed patches:
  * n_correct_path_in_desktop_file.patch
  * n_tigervnc-date-time.patch
  * n_utilize-system-crypto-policies.patch
  * tigervnc-clean-pressed-key-on-exit.patch
  * tigervnc-newfbsize.patch
  * u_build_libXvnc_as_separate_library.patch
  * u_change-button-layout-in-ServerDialog.patch
  * u_tigervnc-add-autoaccept-parameter.patch
  * u_tigervnc-211.patch

-------------------------------------------------------------------
Thu Feb 10 12:17:07 UTC 2022 - Joan Torres <joan.torres@suse.com>

- u_Fix-non-functional-MaxDisconnectionTime.patch
  * Backport patch that fixes issue with MaxDisconnetionTime
    (bsc#1195661). 

-------------------------------------------------------------------
Mon Nov 15 17:22:13 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- Use a template xvnc@.service.in to dynamically adjust xvnc@.service
  during installation to cater for the correct libexecdir value. This
  fixes wrong path for with-vnc-key.sh on sle15-sp4 (bsc#1192713)

-------------------------------------------------------------------
Fri Oct 29 16:57:10 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- buildrequire xorg-x11-server-sdk/xorg-x11-server-source >= 21.1.0

-------------------------------------------------------------------
Thu Oct 28 13:05:33 UTC 2021 - Callum Farmer <gmbr3@opensuse.org>

- Change to systemd-sysusers

-------------------------------------------------------------------
Thu Oct 28 12:03:58 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- u_tigervnc-211.patch, xserver211.patch
  * fixes build against xorg-server 21.1 sources

-------------------------------------------------------------------
Thu Oct 21 10:16:38 UTC 2021 - Joan Torres <joan.torres@suse.com>

- Not using System crypto policies for <= sle15-sp3 (boo#1191394)

-------------------------------------------------------------------
Tue Sep 28 10:58:00 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- contains fix for crash in free() when using "-f" option of
  vncpasswd  command (bsc#1171519)

-------------------------------------------------------------------
Mon Sep 27 12:51:25 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- covers SLE/SLE-18630

-------------------------------------------------------------------
Mon Aug 23 13:49:20 UTC 2021 - Jan Engelhardt <jengelh@inai.de>

- Remove --with-pic which has no effect with --disable-static.
- Remove old specfile constructs.
- Drop %if..%endif guards around %package; these do not affect
  the build result.
- Combine %service_* calls to reduce generated boilerplate.

-------------------------------------------------------------------
Mon Aug  2 15:21:39 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- no longer require libXfont(1) 

-------------------------------------------------------------------
Sat Jun 19 00:07:23 UTC 2021 - Jason Sikes <jsikes@suse.com>

- Specify RFC7919 parameters for GnuTLS versions older than 3.6.0.
  * Modified tigervnc-FIPS-use-RFC7919.patch
  * https://github.com/TigerVNC/tigervnc/pull/1273

-------------------------------------------------------------------
Mon Jun  7 01:47:07 UTC 2021 - Jason Sikes <jsikes@suse.com>

- Enable GnuTLS to use Diffie-Hellman parameters from RFC7919
  instead of generating our own.
  * bsc#1179809
  * tigervnc-FIPS-use-RFC7919.patch
  * DH parameter generation was depricated in GnuTLS 3.6.0.

-------------------------------------------------------------------
Mon May  3 09:19:17 UTC 2021 - Dominique Leuenberger <dimstar@opensuse.org>

- Do not carry two variants of the same servcice file, but rather
  bring a template which we dynamically adjust during installation
  to cater for the correct libexecdir value.
  + Replace xvnc-novnc-libexec.service and xvnc-novnc-lib.service
    with xvnc-novnc.service.in.

-------------------------------------------------------------------
Mon May  3 08:54:23 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- package both xvnc-novnc-libexec.service and xvnc-novnc-lib.service
  source files

-------------------------------------------------------------------
Tue Apr 27 13:41:26 UTC 2021 - Scott Bradnick <scott.bradnick@suse.com>

- Adjusting suse_version check from '> 1500' to '>= 1550' per request.

-------------------------------------------------------------------
Fri Apr 23 14:26:45 UTC 2021 - Scott Bradnick <scott.bradnick@suse.com>

- Adding if statement to control libexec (Tumbleweed +) vs lib based
  'Source#' file for 'xvnc-novnc.service'.

-------------------------------------------------------------------
Thu Apr 22 18:30:29 UTC 2021 - Scott Bradnick <scott.bradnick@suse.com>

- 'xvnc-novnc.service' requires '/usr/libexec/vnc/with-vnc-key.sh'
  vs '/usr/lib/vnc/with-vnc-key.sh' for ExecStart to work correctly.

-------------------------------------------------------------------
Fri Mar  5 14:46:02 UTC 2021 - Pedro Monreal <pmonreal@suse.com>

- Use the system crypto-policies [bsc#1183082]
- Add n_utilize-system-crypto-policies.patch

-------------------------------------------------------------------
Mon Dec  7 12:01:22 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- x11vnc wrapper script: converted to python3 (boo#1179592)

-------------------------------------------------------------------
Wed Nov 25 16:28:09 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- u_tigervnc_update_default_vncxstartup.patch
  * check first for /usr/libexec/xinit/xinitrc, then 
    /etc/X11/xinit/xinitrc (reported by aschnell @SUSE)

-------------------------------------------------------------------
Thu Nov 19 13:43:27 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- xvnc@.service: fixed path for %libexecdir (boo#1178601) 

-------------------------------------------------------------------
Fri Sep 25 10:38:58 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- CVE-2020-26117: Server certificates were stored as certiticate
  authoritied, allowing malicious owners of these certificates
  to impersonate any server after a client had added an exception
  (boo#1176733)
  U_0001-Properly-store-certificate-exceptions.patch,
  U_0002-Properly-store-certificate-exceptions-in-Java-viewer.patch
- adjusted u_tigervnc-add-autoaccept-parameter.patch

-------------------------------------------------------------------
Wed Sep 16 10:01:17 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- vnserver: fix startup of Plasma desktop (boo#1176571)

-------------------------------------------------------------------
Wed Aug 19 09:51:43 UTC 2020 - Callum Farmer <callumjfarmer13@gmail.com>

- Fixes for %_libexecdir changing to /usr/libexec (bsc#1174075)
- Spec file cleanups

-------------------------------------------------------------------
Wed Jul  1 10:19:18 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- moved vnc snippet to /usr/share/X11/xorg.conf.d (boo#1173045)
- package SLP sample config vnc.reg only as %doc (boo#1173045)
- moved vnc pam config to /etc/usr/pam.d (boo#1173045)

-------------------------------------------------------------------
Mon Apr 13 18:20:43 UTC 2020 - Lorenzo Paulatto <paulatz@gmail.com>

- TigerVNC 1.10.1:
  Added libXdamage-devel and libXrandr-devel to the BuildRequisites,
  to build x0vncserver with DAMAGE, RANDR and XTEXT support

-------------------------------------------------------------------
Fri Apr 10 10:33:53 UTC 2020 - Andreas Stieger <andreas.stieger@gmx.de>

- TigerVNC 1.10.1:
  Previously patched security fixes now in upstream release:
  CVE-2019-15691, bsc#1159856
  CVE-2019-15692, bsc#1160250
  CVE-2019-15693, bsc#1159858
  CVE-2019-15694, bsc#1160251
  CVE-2019-15695, bsc#1159860 
  dropping the following patches:
  * 0001-Make-ZlibInStream-more-robust-against-failures.patch
  * 0002-Encapsulate-PixelBuffer-internal-details.patch
  * 0003-Restrict-PixelBuffer-dimensions-to-safe-values.patch
  * 0004-Add-write-protection-to-OffsetPixelBuffer.patch
  * 0005-Handle-empty-Tight-gradient-rects.patch
  * 0006-Add-unit-test-for-PixelFormat-sanity-checks.patch
  * 0007-Fix-depth-sanity-test-in-PixelFormat.patch
  * 0008-Add-sanity-checks-for-PixelFormat-shift-values.patch
  * 0009-Remove-unused-FixedMemOutStream.patch
  * 0010-Use-size_t-for-lengths-in-stream-objects.patch
  * 0011-Be-defensive-about-overflows-in-stream-objects.patch
  * 0012-Add-unit-tests-for-PixelFormat.is888-detection.patch
  * 0013-Handle-pixel-formats-with-odd-shift-values.patch

-------------------------------------------------------------------
Sun Feb 23 10:18:23 UTC 2020 - Hans-Peter Jansen <hpj@urpla.net>

- raise java dependency to 1.8.0 in order to compile the java part
  on older distributions

-------------------------------------------------------------------
Fri Feb  7 11:55:20 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- added a reference to bsc#1162951 about the reasoning why adding
  the vnc user to the shadow group

-------------------------------------------------------------------
Wed Jan 15 11:42:20 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- u_xorg-server-1.20.7-ddxInputThreadInit.patch
  * buildfix for xorg-server 1.20.7, which moved ddxInputThread
    call from os layer into ddx layer

-------------------------------------------------------------------
Tue Jan  7 15:43:09 UTC 2020 - Stefan Dirsch <sndirsch@suse.com>

- TigerVNC security fix:
  0001-Make-ZlibInStream-more-robust-against-failures.patch
  0002-Encapsulate-PixelBuffer-internal-details.patch
  0003-Restrict-PixelBuffer-dimensions-to-safe-values.patch
  0004-Add-write-protection-to-OffsetPixelBuffer.patch
  0005-Handle-empty-Tight-gradient-rects.patch
  0006-Add-unit-test-for-PixelFormat-sanity-checks.patch
  0007-Fix-depth-sanity-test-in-PixelFormat.patch
  0008-Add-sanity-checks-for-PixelFormat-shift-values.patch
  0009-Remove-unused-FixedMemOutStream.patch
  0010-Use-size_t-for-lengths-in-stream-objects.patch
  0011-Be-defensive-about-overflows-in-stream-objects.patch
  0012-Add-unit-tests-for-PixelFormat.is888-detection.patch
  0013-Handle-pixel-formats-with-odd-shift-values.patch
  * stack use-after-return due to incorrect usage of stack memory
    in ZRLEDecoder (CVE-2019-15691, bsc#1159856)
  * improper value checks in CopyRectDecode may lead to heap
    buffer overflow (CVE-2019-15692, bsc#1160250)
  * heap buffer overflow in TightDecoder::FilterGradient
    (CVE-2019-15693, bsc#1159858)
  * improper error handling in processing MemOutStream may lead
    to heap buffer overflow (CVE-2019-15694, bsc#1160251
  * stack buffer overflow, which could be triggered from
    CMsgReader::readSetCurso (CVE-2019-15695, bsc#1159860) 

-------------------------------------------------------------------
Tue Dec 31 09:53:30 UTC 2019 - Loic Devulder <ldevulder@suse.com>

- Add tigervnc-fix-saving-of-bad-server-certs.patch
  * fix saving of bad server certificates (boo#1159948)

-------------------------------------------------------------------
Tue Dec  3 10:32:36 UTC 2019 - Marius Kittler <marius.kittler@suse.com>

- tigervnc-1.10.0
  * The clipboard now supports full Unicode in the native viewer, WinVNC and Xvnc/libvnc.so
  * The native client will now respect the system trust store when verifying server certificates
  * Improved compatibility with VMware's VNC server
  * Improved compatibility with some input methods on macOS
  * Improvements to the automatic "repair" of JPEG artefacts
  * Better handling of the Alt keys in some corner cases
  * The Java web server has been removed as applets are no longer support by most browsers
  * x0vncserver can now be configured to only allow local connections
  * x0vncserver has received fixes for when only part of the display is shared
  * Polling is now default in WinVNC as that works better for most

-------------------------------------------------------------------
Fri Oct  4 14:19:48 UTC 2019 - Hans-Peter Jansen <hpj@urpla.net>

- tigervnc-1.9.0-201-e71a426
  * implements extended clipboard handling (now utf-8 based)
  * fixes a couple of small glitches

-------------------------------------------------------------------
Sat Apr 20 09:54:02 UTC 2019 - Stefan Dirsch <sndirsch@suse.com>

- tigervnc-1.9.0-199-005db35
  * update to current git master in order to fix boo#1132901

-------------------------------------------------------------------
Tue Mar 26 08:22:53 UTC 2019 - Yifan Jiang <yfjiang@suse.com>

- Update with-vnc-key.sh to use only hostname for CN.

  The gnutls introduces gnutls_x509_crt_check_hostname2 in
  gnutls/lib/x509/hostname-verify.c#L159 to check if the given
  certificate's subject matches the given hostname.

  The function is used by the recent version of libvncclient which
  will fail to verify the certification if there is a mismatching
  between the connected hostname and the cert issuer's common name.

  https://github.com/LibVNC/libvncserver/commit/cc69ee9

  So the previous way to generate the vnc server's cert brings a
  complicated CN, making the client using libvncclient
  (e.g. vinagre, remmina) hard to adapt the hostname check. It is
  better to populate the hostname as the common name without extra
  strings.

-------------------------------------------------------------------
Thu Mar 21 09:16:51 UTC 2019 - Dominique Leuenberger <dimstar@opensuse.org>

- Change Requires(post): firewall-macros to BuildRequires: the
  macros are expanded at build time and not needed at all at
  runtime.

-------------------------------------------------------------------
Thu Feb  7 12:34:03 UTC 2019 - Stephan Kulow <coolo@suse.com>

- Fix build with latest cmake - which now requires the source
  directory as argument (still works with old cmake versions)

-------------------------------------------------------------------
Thu Jan 17 12:07:27 UTC 2019 - msrb@suse.com

- Switch websocket dependency to python3. (bsc#1119737)

-------------------------------------------------------------------
Thu Jan 17 10:21:29 UTC 2019 - msrb@suse.com

- Do not build xorg-x11-Xvnc-module on s390. It fails to build
  because macros.xorg-server is incomplete on s390 and the module
  would be useless without real X server anyway.

-------------------------------------------------------------------
Tue Jan  8 12:38:42 UTC 2019 - msrb@suse.com

- Add U_viewer-reset-ctrl-alt-to-menu-state-on-focus.patch
  * Fix the ALT and CTRL buttons in viewer's F8 menu. (bsc#1119354)

-------------------------------------------------------------------
Wed Sep 19 21:19:21 UTC 2018 - Jason Sikes <jsikes@suse.de>

- Changed "openssl" requirement to "openssl(cli)"
  * (bsc#1101470)

-------------------------------------------------------------------
Mon Aug  6 12:04:52 UTC 2018 - msrb@suse.com

- Add xvnc.target to fix xvnc-novnc.service's dependency.
  (bnc#1103552)
- Split the X server's VNC module into subpackage and give it
  dependency on the current extension ABI.

-------------------------------------------------------------------
Thu Aug  2 08:31:09 UTC 2018 - msrb@suse.com

- Update to tigervnc 1.9.0
  * Alternative, "raw" keyboard mode in the native client and all servers
  * CapsLock/NumLock/ScrollLock synchronisation in the native client and all servers
  * Automatic "repair" of JPEG artefacts on screen in all servers
  * Support for UNIX sockets in the native client and in the UNIX servers
  * Both clients now warn when sending the password over a possibly insecure channel
  * Performance improvements in the Java client
  * The Java client now requires Java 7
  * Improved high latency handling in all servers
  * Slightly better keyboard handling in x0vncserver
  * x0vncserver now supports cursors and screen resize
  * Xorg 1.20 can now be used as a base for Xvnc/libvnc.so
    - Fixes bnc#1103537

- Removed patches (included in 1.9.0):
  * u_tigervnc-show-unencrypted-warning.patch
  * U_allow_multiple_certs_with_same_dn_in_saved_certs_file.patch
  * U_handle_certificate_verification_for_saved_certs_correctly.patch
  * u_Unset-pixel-buffer-when-x0vncserver-client-disconnect.patch
  * u_add-support-for-X-server-1.20.0.patch
  * U_vncviewer-Fix-fullscreen-scrolling.patch
  * U_vncviewer-Fix-scrollbar-visibility.patch

- Removed patches (no longer needed):
  * tigervnc-1.8.0-nowindows.patch

- Refreshed patches:
  * n_tigervnc-date-time.patch
  * tigervnc-clean-pressed-key-on-exit.patch
  * u_tigervnc-add-autoaccept-parameter.patch
  * u_tigervnc-ignore-epipe-on-write.patch

- Added patches:
  * n_correct_path_in_desktop_file.patch

- Fixed typo in 10-libvnc.conf

-------------------------------------------------------------------
Fri Jun  8 09:09:38 UTC 2018 - msrb@suse.com

- Updated u_add-support-for-X-server-1.20.0.patch to version sent
  upstream. Fixes GLX initialization.

-------------------------------------------------------------------
Wed Jun  6 09:07:23 UTC 2018 - msrb@suse.com

- U_vncviewer-Fix-fullscreen-scrolling.patch,
  U_vncviewer-Fix-scrollbar-visibility.patch
  * Fix scrolling in vncviewer. (boo#1095664)

- u_add-support-for-X-server-1.20.0.patch
  * Fix build against X server 1.20.0.

-------------------------------------------------------------------
Tue Apr 24 09:16:59 UTC 2018 - msrb@suse.com

- Reload firewalld files after installation.

-------------------------------------------------------------------
Wed Apr 11 09:48:51 UTC 2018 - jengelh@inai.de

- Limit feature description to openSUSE. Ensure neutrality of
  description.

-------------------------------------------------------------------
Wed Apr 11 08:12:52 UTC 2018 - msrb@suse.com

- Add u_change-button-layout-in-ServerDialog.patch
  * To fit strings in languages with longer words... (bnc#1084865)
- Refresh n_tigervnc-date-time.patch
  * Completely hide the build time (bnc#1082968)

-------------------------------------------------------------------
Thu Mar 22 14:27:28 UTC 2018 - msrb@suse.com

- Enable xvnc.socket if upgraded from previous installation that
  had VNC enabled in xinetd configuration. (bnc#1085974)
- Subpackage xorg-x11-Xvnc must also obsolete tightvnc.

-------------------------------------------------------------------
Wed Feb 28 12:19:52 UTC 2018 - msrb@suse.com

- Replace SuSEFirewall2 by firewalld. (bnc#1081952)

-------------------------------------------------------------------
Mon Dec 18 16:44:20 UTC 2017 - dimstar@opensuse.org

- Do not mess with /usr/lib*64)?/debug: this is RPM's playground
  for debuginfo packages.

-------------------------------------------------------------------
Mon Dec 18 14:56:17 UTC 2017 - fstrba@suse.com

- Added patch:
  * tigervnc-1.8.0-nowindows.patch
    + Remove Windows code that is removed from jdk10

-------------------------------------------------------------------
Tue Dec 12 13:15:25 UTC 2017 - msrb@suse.com

- Depend on pkgconfig's gl, egl and gbm instead of Mesa-devel.
  * Those dependencies are what the underlying X server really
    needs. Mesa-devel is too general and is a bottleneck in
    distribution build. (bnc#1071297)

-------------------------------------------------------------------
Tue Sep 26 11:53:23 UTC 2017 - msrb@suse.com

- u_Unset-pixel-buffer-when-x0vncserver-client-disconnect.patch
  * Fixes crash in x0vncserver after client disconnects.
    (bnc#1058587)

-------------------------------------------------------------------
Mon Sep 25 08:36:07 UTC 2017 - msrb@suse.com

- Add tigervnc-x11vnc wrapper for x0vncserver that replaces x11vnc.
  (fate#323207)

- Replace java applet with novnc as web-based VNC viewer.
  (fate#323880)

- Convert xinetd services to systemd socket activated services.
  (bnc#1058460)

-------------------------------------------------------------------
Mon Sep 11 14:12:30 UTC 2017 - fstrba@suse.com

- Specify java source and target level 1.6 in order to be able to
  build with jdk9

-------------------------------------------------------------------
Fri Aug 11 08:59:54 UTC 2017 - msrb@suse.com

- Disable MIT-SHM extension when running under vnc user.
  (bnc#1053373)

-------------------------------------------------------------------
Thu Jul 20 07:49:41 UTC 2017 - msrb@suse.com

- U_allow_multiple_certs_with_same_dn_in_saved_certs_file.patch,
  U_handle_certificate_verification_for_saved_certs_correctly.patch
  * Fix certificate handling in the java client. (bnc#1041847)

- Refresh u_tigervnc-add-autoaccept-parameter.patch and apply it
  last.

- Make sure CN in generated certificate doesn't exceed 64
  characters. (bnc#1041847)

-------------------------------------------------------------------
Fri Jul  7 08:06:00 UTC 2017 - msrb@suse.com

- Change with-vnc-key.sh to generate TLS certificate using current
  hostname. (bnc#1041847)

-------------------------------------------------------------------
Fri Jun  9 11:03:23 UTC 2017 - tchvatal@suse.com

- Require java-deve >= 1.6.0 to avoid bootstrap fail

-------------------------------------------------------------------
Fri Jun  2 10:02:06 UTC 2017 - meissner@suse.com

- removed unneeded -fPIC flags for CFLAGS, these made it avoid
  PIE support.

-------------------------------------------------------------------
Wed May 31 11:33:52 UTC 2017 - msrb@suse.com

- Update to tigervnc 1.8.0
  * Overhaul of the Java client to match the look and behaviour of the native client
  * Initial work for multi-threaded decoding in the Java client
  * vncconfig no longer needed for clipboard with Xvnc/libvnc.so
  * vncserver has system wide config support
  * Full support for alpha cursors in Xvnc/libvnc.so and both viewers

- Removed patches:
  * U_Add-xorg-xserver-1.19-support.patch
  * U_tigervnc-fix-inetd-not-working-with-xserver-1-19.patch
  * U_tigervnc-better-check-for-screen-visibility.patch

-------------------------------------------------------------------
Mon Apr 10 14:24:51 UTC 2017 - msrb@suse.com

- U_tigervnc-better-check-for-screen-visibility.patch
  * Crop operations to visible screen. (bnc#1032272)

-------------------------------------------------------------------
Thu Mar  2 14:19:27 UTC 2017 - msrb@suse.com

- Readd index.vnc. (bnc#1026833)

-------------------------------------------------------------------
Mon Feb 20 17:43:56 UTC 2017 - msrb@suse.com

- U_tigervnc-fix-inetd-not-working-with-xserver-1-19.patch
  * Fixes inetd mode with x server 1.19 (bnc#1025759)

-------------------------------------------------------------------
Wed Jan 25 14:52:21 UTC 2017 - msrb@suse.com

- Update to tigervnc 1.7.1.
  * This is a security update for TigerVNC 1.7.0 which fixes a
    memory overflow issue via the RRE decoder. A malicious server
    could possibly use this issue to take control of the TigerVNC
    viewer.

-------------------------------------------------------------------
Wed Nov 30 17:15:40 UTC 2016 - sndirsch@suse.com

- U_Add-xorg-xserver-1.19-support.patch
  * Add xorg-xserver 1.19 support

-------------------------------------------------------------------
Tue Sep 13 14:10:08 UTC 2016 - msrb@suse.com

- Update to tigervnc 1.7.0.
  * Multi-threaded decoder in the FLTK viewer
  * Improved SSH integration in the Java viewer
  * Fine grained lock down of Xvnc parameters
  * Compatibility with Xorg 1.18
  * Lots of packaging fixes
  * Better compatibility with Vino, both in the FLTK and Java viewer
- Removed patches:
  * U_add_allowoverride_parameter.patch
  * U_include-vencrypt-only-if-any-subtype-present.patch
  * U_tigervnc_clear_up_zlibinstream_reset_behaviour.patch
  * u_xserver118.patch

-------------------------------------------------------------------
Mon Aug  8 20:05:19 UTC 2016 - eich@suse.com

- Adding a generic 'windowmanager' requires which will be
  satisfied by any package providing 'windowmanager':
  Requires:       windowmanager
  (boo#981663).

-------------------------------------------------------------------
Thu Jun 16 13:17:15 UTC 2016 - msrb@suse.com

- Generate VNC key and certificate on first use, not during
  installation. (bnc#982349)

-------------------------------------------------------------------
Mon Jun 13 15:21:19 UTC 2016 - msrb@suse.com

- Add U_tigervnc_clear_up_zlibinstream_reset_behaviour.patch
  * Fix zlib stream reset in tight encoding. (bnc#963417)

-------------------------------------------------------------------
Tue May 24 12:46:07 UTC 2016 - msrb@suse.com

- Add /etc/pam.d/vnc configuration and add vnc user to shadow
  group. (bnc#980326)
- Add dependency on fltk-devel version >= 1.3.3.

-------------------------------------------------------------------
Fri Apr 29 14:13:22 UTC 2016 - msrb@suse.com

- Add U_add_allowoverride_parameter.patch and
    u_build_libXvnc_as_separate_library.patch (fate#319319)
- Add u_tigervnc-show-unencrypted-warning.patch (fate#319701)

-------------------------------------------------------------------
Wed Apr 27 10:34:05 UTC 2016 - msrb@suse.com

- Add dependency on xorg-x11-fonts-core. (bnc#977019)

-------------------------------------------------------------------
Tue Jan 12 12:14:27 UTC 2016 - msrb@suse.com

- Updated to tigervnc 1.6.0.
- Removed patches:
  * N_tigervnc_revert_fltk_1_3_3_requirements.patch
  * U_tigervnc-fix-reversed-logic-in-vncIsTCPPortUsed.patch
  * u_tigervnc-display-SHA-1-fingerprint-of-untrusted-certificate.patch
  * u_tigervnc-use-default-trust-manager-in-java-viewer-if-custom.patch
  * u_tigervnc-use_preferred_mode.patch
  * u_tigervnc-vncserver-clean-pid-files.patch
- Updated patches:
  * n_tigervnc-date-time.patch
  * u_tigervnc-add-autoaccept-parameter.patch
  * u_tigervnc_update_default_vncxstartup.patch

-------------------------------------------------------------------
Wed Dec 16 14:25:35 UTC 2015 - msrb@suse.com

- u_tigervnc_update_default_vncxstartup.patch
  * Update default VNC xstartup script.
- Add dependency on xinit and icewm. (bnc#956537)

-------------------------------------------------------------------
Thu Nov 12 12:51:31 UTC 2015 - msrb@suse.com

- u_xserver118.patch
  * Build with xserver 1.18.0.

-------------------------------------------------------------------
Thu Oct  1 23:16:52 UTC 2015 - msrb@suse.com

- u_tigervnc-vncserver-clean-pid-files.patch
  * vncserver: Clean pid files of dead processes. (bnc#948392)

-------------------------------------------------------------------
Sun Sep 13 14:57:35 UTC 2015 - msrb@suse.com

- U_tigervnc-fix-reversed-logic-in-vncIsTCPPortUsed.patch
  * Fixes Xvnc with -inetd parameter. (bnc#945600)

-------------------------------------------------------------------
Thu Aug 27 14:14:46 UTC 2015 - hguo@suse.com

- VNC server cannot run without xauth and xkbcomp, therefore
  introduce these dependencies.

-------------------------------------------------------------------
Tue Aug 25 15:14:04 UTC 2015 - msrb@suse.com

- Remove commented out DefaultDepth 16 from 10-libvnc.conf file.
  Using 16 bit depth can cause troubles and does not have any
  positives anymore, so lets not suggest it to users. (bnc#942982)

-------------------------------------------------------------------
Fri Jul 31 13:48:16 UTC 2015 - dimstar@opensuse.org

- Add /usr/sbin/groupadd and /usr/sbin/useradd Requires(post) to
  xorg-x11-Xvnc: the scripts are creating users/groups.

-------------------------------------------------------------------
Wed Jul 15 11:52:02 UTC 2015 - msrb@suse.com

- Updated to tigervnc 1.5.0.
- Dropped no longer needed patches:
  * tigervnc-sf3495623.patch
  * u_syslog.patch
  * u_tigervnc-build-with-xserver-1.17.patch
  * tigervnc-gnutls-3.4-required.patch
  * u_tigervnc-dont-send-ascii-control-characters.patch
  * u_terminate_instead_of_ignoring_restart.patch
- Dropped no longer needed index.vnc.
- Use encryption everywhere. (fate#318936)
  * u_tigervnc-display-SHA-1-fingerprint-of-untrusted-certificate.patch
  * u_tigervnc-use-default-trust-manager-in-java-viewer-if-custom.patch
  * u_tigervnc-add-autoaccept-parameter.patch
- Work with fltk 1.3.2.
  * N_tigervnc_revert_fltk_1_3_3_requirements.patch

-------------------------------------------------------------------
Thu May 28 02:10:46 CEST 2015 - ro@suse.de

- add buildrequires for xf86driproto and presentproto to
  match xserver
- disable dri2 on s390/s390x

-------------------------------------------------------------------
Mon Apr 20 12:10:10 UTC 2015 - msrb@suse.com

- u_syslog.patch, vnc.xinetd
  * Add logging to syslog.

-------------------------------------------------------------------
Wed Apr 15 10:39:07 UTC 2015 - dimstar@opensuse.org

- Add tigervnc-gnutls-3.4-required.patch: raise gnutls dependency
  to 3.2. Simplifies code, but makes it build with gnutls 3.4.
  Patch taken from Arch.

-------------------------------------------------------------------
Tue Apr 14 08:53:09 UTC 2015 - meissner@suse.com

- Updated to tigervnc 1.4.3

  * Upstream patches applied to the underlying Xorg code base to mitigate
    CVE-2015-0255 / bsc#915810.
  * Fixes for performance regressions introduced in 1.4.0.
  * Character encoding of clipboard text send by Java viewer now strictly
    adheres to the RFB specification.

-------------------------------------------------------------------
Wed Apr  1 12:44:09 UTC 2015 - msrb@suse.com

- u_terminate_instead_of_ignoring_restart.patch
  * Terminate instead of ignoring restart. (bnc#920969)

-------------------------------------------------------------------
Tue Feb 24 13:00:22 UTC 2015 - msrb@suse.com

- Fix build against X server 1.17.x.
  * u_tigervnc-build-with-xserver-1.17.patch

-------------------------------------------------------------------
Thu Feb  5 13:39:04 UTC 2015 - msrb@suse.com

- Use xserver sources from xorg-x11-server-source.
- Drop no longer needed patches:
  * N_xorg-server-xdmcp.patch
  * n_tigervnc-dont-build-gtf.patch

-------------------------------------------------------------------
Fri Jan  9 12:50:45 UTC 2015 - msrb@suse.com

- Update to tigervnc 1.4.1 on xorg-server 1.16.1.
- Drop upstreamed or obsolete patches:
    tigervnc-sf3492352.diff
    u_aarch64-support.patch
    u_tigervnc-check-shm-harder.patch
    u_arch-Fix-image-and-bitmap-byte-order-for-ppc64le.patch
    u_tigervnc-1.3.0-fix-use-after-free.patch
    tigervnc-1.2.80-fix-int-to-pointer.patch

-------------------------------------------------------------------
Sun Nov 16 09:33:04 UTC 2014 - oscar@naiandei.net

- add -fPIC to CFLAGS and CXXFLAGS to compile correctly on armv7l 

-------------------------------------------------------------------
Thu Oct 30 13:33:27 UTC 2014 - msrb@suse.com

- u_tigervnc-cve-2014-8240.patch
  * Prevent potentially dangerous integer overflow.
    (bnc#900896 CVE-2014-8240)

-------------------------------------------------------------------
Mon Oct 13 11:51:03 UTC 2014 - msrb@suse.com

- u_tigervnc-use_preferred_mode.patch
  * Mark user chosen resolution as preferred. (bnc#896540)

-------------------------------------------------------------------
Mon Aug 18 13:58:30 UTC 2014 - sndirsch@suse.com

- use update-alternatives only on openSUSE > 13.1

-------------------------------------------------------------------
Mon Aug 18 11:07:09 UTC 2014 - msrb@suse.com

- u_tigervnc-check-shm-harder.patch
  * Check if SHM really works before deciding to use it.
    (bnc#890580)

-------------------------------------------------------------------
Mon Aug  4 10:37:08 UTC 2014 - msrb@suse.com

- U_include-vencrypt-only-if-any-subtype-present.patch
  * Do not automatically offer VeNCrypt security if none of it's
    subtypes is selected. (bnc#889781)

-------------------------------------------------------------------
Wed Jun  4 11:39:54 UTC 2014 - msrb@suse.com

- Fix some errors reported by rpmlint.

-------------------------------------------------------------------
Thu May 29 03:37:30 UTC 2014 - crrodriguez@opensuse.org

- n_tigervnc-date-time.patch package republishes everyday
 and gets on my nerves, this is because the binaries contain
 hardcoded timestamps, avoid that.
- export CXXFLAGS and CFLAGS before building ttigervnc otherwise
  it gets built without optimization.
- Make build verbose so it rpmlint catches errors like the above ones.

-------------------------------------------------------------------
Wed May 28 14:54:02 UTC 2014 - msrb@suse.com

- Use update-alternatives.

-------------------------------------------------------------------
Tue May 20 13:55:30 UTC 2014 - msrb@suse.com

- u_tigervnc-ignore-epipe-on-write.patch
  * Do not display error message because of EPIPE on write.
    (bnc#864676)

-------------------------------------------------------------------
Fri May 16 13:52:19 UTC 2014 - msrb@suse.com

- Update to version 1.3.1
  * Security release (CVE-2014-0011).

-------------------------------------------------------------------
Mon Apr 28 01:00:39 UTC 2014 - sndirsch@suse.com

- added missing pkgconfig(xorg-macros) >= 1.14 

-------------------------------------------------------------------
Sat Apr 26 12:04:30 UTC 2014 - sndirsch@suse.com

- xorg-x11-Xvnc: require xkeyboard-config (bnc#875329) 

-------------------------------------------------------------------
Fri Apr 25 11:55:11 UTC 2014 - msrb@suse.com

- vnc.xinetd
  * Do not use 16 bpp by default anymore. The network trafic gain
    of 16 bpp together with Tight encoding is arguable. 16 bpp
    causes graphical issues and is known to not work properly
    in Mesa. (bnc#871965)

-------------------------------------------------------------------
Mon Mar 17 13:47:18 UTC 2014 - msrb@suse.com

- Update HTML page that serves vnc client applet. (bnc#867273)
- u_tigervnc-dont-send-ascii-control-characters.patch
  * Send CTRL+[A-Z] combinations instead of ascii control characters.
    (bnc#864666)

-------------------------------------------------------------------
Mon Feb 24 14:42:50 UTC 2014 - msrb@suse.com

- u_arch-Fix-image-and-bitmap-byte-order-for-ppc64le.patch:
  arch: Fix image and bitmap byte order for ppc64le (bnc#865069)

-------------------------------------------------------------------
Thu Feb 13 14:29:47 UTC 2014 - msrb@suse.com

- Readd vncpasswd.arg for compatibility with installation system
  and potentially another users. (bnc#855246)

-------------------------------------------------------------------
Fri Feb  7 14:52:02 UTC 2014 - msrb@suse.com

- Drop tigervnc-sf3492503.diff, tigervnc-sf3495623.diff and
  tigervnc-sf3495623.patch.old (not used and not needed).
- Update tigervnc-sf3492352.diff and tigervnc-sf3495623.patch.

-------------------------------------------------------------------
Fri Jan 10 15:11:50 UTC 2014 - sndirsch@suse.com

- do not include vnc Xserver module and xorg.conf snippet on s390x

-------------------------------------------------------------------
Thu Jan  9 11:40:13 UTC 2014 - msrb@suse.com

- Remove unnecessary BuildRequires for binutils-gold.

-------------------------------------------------------------------
Mon Dec 16 14:51:48 UTC 2013 - msrb@suse.com

- Exclude xorg-server-1.13.0/hw/xfree86/modes/xf86gtf.c and
  xorg-server-1.13.0/hw/xfree86/utils/gtf/gtf.c from xserver
  sources. (bnc#855566)
- n_tigervnc-dont-build-gtf.patch
  * Fix build with gtf files excluded. (bnc#855566)

-------------------------------------------------------------------
Tue Dec  3 14:34:56 UTC 2013 - msrb@suse.com

- tigervnc-clean-pressed-key-on-exit.patch
  * Send release events for pressed keys after X I/O error.
    (bnc#670448)

-------------------------------------------------------------------
Mon Nov 18 14:05:44 UTC 2013 - msrb@suse.com

- Update to 1.3.0.
- Build xorg-x11-Xvnc package from this sources.

-------------------------------------------------------------------
Wed Sep 19 08:08:53 UTC 2012 - werner@suse.de

- Make it build with latest TeXLive 2012 and use pdf engine 

-------------------------------------------------------------------
Wed Mar 21 23:30:32 UTC 2012 - jengelh@medozas.de

- Add missing tarball
- Parallel build with %_smp_mflags
- Remove redundant sections

-------------------------------------------------------------------
Fri Feb 24 20:47:33 UTC 2012 - giecrilj@stegny.2a.pl

- bump to 1.1 (current stable)
- add documentation (bnc#748504)
- build dynamic server
- eliminate gethostbyname, patch submitted upstream
- incidental clean-up

-------------------------------------------------------------------
Wed Feb  9 15:07:34 UTC 2011 - sndirsch@novell.com

- added jpeg-devel to BuildRequires 

-------------------------------------------------------------------
Wed Feb  9 14:00:16 UTC 2011 - sndirsch@novell.com

- use system jpeg for building
- fixed xkb path
- added more reasonable options for Xvfb building

-------------------------------------------------------------------
Wed Feb  9 08:57:06 UTC 2011 - sndirsch@novell.com

- added Reinhard's xdmcp fix (bnc #625593) 

-------------------------------------------------------------------
Wed Feb  9 08:50:10 UTC 2011 - sndirsch@novell.com

- TigerVNC build
  * fix fontpatch
  * cleanup 

-------------------------------------------------------------------
Wed Feb  9 04:41:24 UTC 2011 - sndirsch@novell.com

- build Xvnc of TigerVNC project when %tigervnc is set; make this
  the default for now

-------------------------------------------------------------------
Tue Feb  8 17:00:32 UTC 2011 - sndirsch@novell.com

- latest version of Perl script

-------------------------------------------------------------------
Thu Feb  3 17:41:02 UTC 2011 - sndirsch@novell.com

- renamed package from xorg-x11-Xvnc-ng to xorg-x11-Xvnc

-------------------------------------------------------------------
Thu Feb  3 17:26:04 UTC 2011 - sndirsch@novell.com

- rewritten wrapper script in Perl 

-------------------------------------------------------------------
Wed Jan 26 10:07:10 UTC 2011 - sndirsch@novell.com

- added services file for SuSEfirewall2 

-------------------------------------------------------------------
Wed Jan 26 00:43:01 UTC 2011 - sndirsch@novell.com

- created package 

