--- kinput2-v3.1.orig/lib/imlib/imrequest.c	2005-12-06 21:35:49.211048184 -0800
+++ kinput2-v3.1/lib/imlib/imrequest.c	2005-12-06 21:34:01.973350792 -0800
@@ -1351,6 +1351,10 @@
     IMPutC16(conn, (unsigned int)text_length);
     if (text_length > 0) IMPutString(conn, text, text_length);
     IMFinishRequest(conn, offset);
+    /*
+     * Send RESET_IC_REPLY 
+     */
+    IMFlush(conn);
     if (text != NULL) XtFree(text);
     icp->state &= ~IC_RESETTING;
 
