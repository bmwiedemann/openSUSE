From f9c184bf52ce218c2121301a68480b105594a071 Mon Sep 17 00:00:00 2001
From: Adam Williamson <awilliam@redhat.com>
Date: Mon, 4 Mar 2024 16:16:15 -0800
Subject: [PATCH] kiosk-compositor.c: drop xevent_filter

mutter dropped this upstream in
https://gitlab.gnome.org/GNOME/mutter/-/merge_requests/3599

Signed-off-by: Adam Williamson <awilliam@redhat.com>
---
 compositor/kiosk-compositor.c | 11 -----------
 1 file changed, 11 deletions(-)

diff --git a/compositor/kiosk-compositor.c b/compositor/kiosk-compositor.c
index 6c25c6c..9527408 100644
--- a/compositor/kiosk-compositor.c
+++ b/compositor/kiosk-compositor.c
@@ -462,16 +462,6 @@ kiosk_compositor_show_window_menu_for_rect (MetaPlugin         *plugin,
         g_assert (META_PLUGIN_CLASS (kiosk_compositor_parent_class)->show_window_menu_for_rect == NULL);
 }
 
-static gboolean
-kiosk_compositor_xevent_filter (MetaPlugin *plugin,
-                                XEvent     *x_server_event)
-{
-        KioskCompositor *self = KIOSK_COMPOSITOR (plugin);
-
-        g_signal_emit (G_OBJECT (self), signals[X_SERVER_EVENT], 0, x_server_event);
-        return FALSE;
-}
-
 static gboolean
 kiosk_compositor_keybinding_filter (MetaPlugin     *plugin,
                                     MetaKeyBinding *binding)
@@ -546,7 +536,6 @@ kiosk_compositor_class_init (KioskCompositorClass *compositor_class)
         plugin_class->show_window_menu = kiosk_compositor_show_window_menu;
         plugin_class->show_window_menu_for_rect = kiosk_compositor_show_window_menu_for_rect;
 
-        plugin_class->xevent_filter = kiosk_compositor_xevent_filter;
         plugin_class->keybinding_filter = kiosk_compositor_keybinding_filter;
 
         plugin_class->confirm_display_change = kiosk_compositor_confirm_display_change;
-- 
GitLab


