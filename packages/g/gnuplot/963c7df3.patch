From 963c7df3e0c5266efff260d0dff757dfe03d3632 Mon Sep 17 00:00:00 2001
From: Ethan A Merritt <merritt@u.washington.edu>
Date: Tue, 1 Sep 2020 17:57:37 -0700
Subject: [PATCH] Better error handling for faulty font syntax

A missing close-quote in an enhanced text font specification could
cause a segfault.
Bug #2303
---
 src/term.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git src/term.c src/term.c
index fb99a9a6f..7fd46fa04 100644
--- src/term.c
+++ src/term.c
@@ -2175,7 +2175,7 @@ enhanced_recursion(
 			    ++p;
 			if (*p != *start_of_fontname) {
 			    int_warn(NO_CARET, "cannot interpret font name %s", start_of_fontname);
-			    p = start_of_fontname;
+			    p = start_of_fontname + 1;
 			}
 			start_of_fontname++;
 			end_of_fontname = p++;
-- 
2.26.2

