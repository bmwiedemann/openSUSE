Index: inetlib/source/gnu/inet/smtp/SMTPConnection.java
===================================================================
--- inetlib.orig/source/gnu/inet/smtp/SMTPConnection.java	2004-08-07 16:39:46.000000000 +0200
+++ inetlib/source/gnu/inet/smtp/SMTPConnection.java	2009-07-28 15:33:05.665516445 +0200
@@ -39,7 +39,8 @@
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.List;
-import java.util.Properties;
+import java.util.Map;
+import java.util.HashMap;
 
 import javax.net.ssl.SSLContext;
 import javax.net.ssl.SSLSocket;
@@ -598,13 +599,13 @@
         String[] m = new String[] { mechanism };
         CallbackHandler ch = new SaslCallbackHandler (username, password);
         // Avoid lengthy callback procedure for GNU Crypto
-        Properties p = new Properties ();
-        p.put ("gnu.crypto.sasl.username", username);
-        p.put ("gnu.crypto.sasl.password", password);
+        Map<String, String> mp = new HashMap<String, String>();
+        mp.put ("gnu.crypto.sasl.username", username);
+        mp.put ("gnu.crypto.sasl.password", password);
         SaslClient sasl =
-          Sasl.createSaslClient (m, null, "smtp",
+          Sasl.createSaslClient (m, (String)null, "smtp",
                                  socket.getInetAddress ().getHostName (),
-                                 p, ch);
+                                 mp, ch);
         if (sasl == null)
           {
             return false;
Index: inetlib/source/gnu/inet/imap/IMAPConnection.java
===================================================================
--- inetlib.orig/source/gnu/inet/imap/IMAPConnection.java	2004-08-07 16:39:46.000000000 +0200
+++ inetlib/source/gnu/inet/imap/IMAPConnection.java	2009-07-28 15:37:52.945203113 +0200
@@ -46,7 +46,6 @@
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
-import java.util.Properties;
 
 import javax.net.ssl.SSLContext;
 import javax.net.ssl.SSLSocket;
@@ -653,12 +652,12 @@
         String[] m = new String[] { mechanism };
         CallbackHandler ch = new SaslCallbackHandler (username, password);
         // Avoid lengthy callback procedure for GNU Crypto
-        Properties p = new Properties ();
-        p.put ("gnu.crypto.sasl.username", username);
-        p.put ("gnu.crypto.sasl.password", password);
-        SaslClient sasl = Sasl.createSaslClient (m, null, "smtp",
+        Map<String, String> mp = new HashMap<String, String>();
+        mp.put ("gnu.crypto.sasl.username", username);
+        mp.put ("gnu.crypto.sasl.password", password);
+        SaslClient sasl = Sasl.createSaslClient (m, (String) null, "smtp",
                                                  socket.getInetAddress ().
-                                                 getHostName (), p, ch);
+                                                 getHostName (), mp, ch);
         if (sasl == null)
           {
             return false;
Index: inetlib/source/gnu/inet/pop3/POP3Connection.java
===================================================================
--- inetlib.orig/source/gnu/inet/pop3/POP3Connection.java	2004-08-07 16:39:46.000000000 +0200
+++ inetlib/source/gnu/inet/pop3/POP3Connection.java	2009-07-28 15:40:37.730443009 +0200
@@ -44,7 +44,7 @@
 import java.util.LinkedHashMap;
 import java.util.List;
 import java.util.Map;
-import java.util.Properties;
+import java.util.HashMap;
 
 import javax.net.ssl.SSLContext;
 import javax.net.ssl.SSLSocket;
@@ -232,13 +232,13 @@
         String[] m = new String[] { mechanism };
         CallbackHandler ch = new SaslCallbackHandler (username, password);
         // Avoid lengthy callback procedure for GNU Crypto
-        Properties p = new Properties ();
-        p.put ("gnu.crypto.sasl.username", username);
-        p.put ("gnu.crypto.sasl.password", password);
+        Map<String, String> mp = new HashMap<String, String>();
+        mp.put ("gnu.crypto.sasl.username", username);
+        mp.put ("gnu.crypto.sasl.password", password);
         SaslClient sasl =
-          Sasl.createSaslClient (m, null, "smtp",
+          Sasl.createSaslClient (m, (String)null, "smtp",
                                  socket.getInetAddress ().getHostName (),
-                                 p, ch);
+                                 mp, ch);
         if (sasl == null)
           {
             return false;
Index: inetlib/source/gnu/inet/nntp/NNTPConnection.java
===================================================================
--- inetlib.orig/source/gnu/inet/nntp/NNTPConnection.java	2004-08-19 23:27:07.000000000 +0200
+++ inetlib/source/gnu/inet/nntp/NNTPConnection.java	2009-07-28 15:42:57.226337720 +0200
@@ -42,7 +42,8 @@
 import java.util.Calendar;
 import java.util.Date;
 import java.util.GregorianCalendar;
-import java.util.Properties;
+import java.util.Map;
+import java.util.HashMap;
 import java.util.TimeZone;
 
 import javax.security.auth.callback.CallbackHandler;
@@ -1140,13 +1141,13 @@
     String[] m = new String[] { mechanism };
     CallbackHandler ch = new SaslCallbackHandler (username, password);
     // Avoid lengthy callback procedure for GNU Crypto
-    Properties p = new Properties ();
-    p.put ("gnu.crypto.sasl.username", username);
-    p.put ("gnu.crypto.sasl.password", password);
+    Map<String, String> mp = new HashMap<String, String> ();
+    mp.put ("gnu.crypto.sasl.username", username);
+    mp.put ("gnu.crypto.sasl.password", password);
     SaslClient sasl =
-      Sasl.createSaslClient (m, null, "smtp",
+      Sasl.createSaslClient (m, (String) null, "smtp",
                              socket.getInetAddress ().getHostName (),
-                             p, ch);
+                             mp, ch);
     if (sasl == null)
       {
         return false;
