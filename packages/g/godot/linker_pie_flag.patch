From: cunix@mail.de
Date: 2020-02-12 12:00:00
Subject: linker should use "-pie" instead of "-no-pie"
References: https://github.com/godotengine/godot/pull/23542#issuecomment-436385853
            https://github.com/godotengine/godot/pull/23542
            https://github.com/godotengine/godot/issues/34533
Upstream:   seems to do the opposite
Rebased:    2020-06-25

Linker flag "-no-pie" is added by upstream.
rpmlint complains this violates project policy.
Patch replaces flag "-no-pie" with "-pie".

---

diff -Naur a/platform/x11/detect.py b/platform/x11/detect.py
--- a/platform/x11/detect.py	2020-06-26 12:57:27.036237658 -0400
+++ b/platform/x11/detect.py	2020-06-26 12:57:50.187746327 -0400
@@ -185,7 +185,7 @@
     if using_gcc(env):
         if version[0] >= 6:
             env.Append(CCFLAGS=["-fpie"])
-            env.Append(LINKFLAGS=["-no-pie"])
+            env.Append(LINKFLAGS=["-pie"])
     # Do the same for clang should be fine with Clang 4 and higher
     if using_clang(env):
         if version[0] >= 4:
