Index: ghc-9.6.2/libraries/Cabal/Cabal-syntax/src/Distribution/System.hs
===================================================================
--- ghc-9.6.2.orig/libraries/Cabal/Cabal-syntax/src/Distribution/System.hs
+++ ghc-9.6.2/libraries/Cabal/Cabal-syntax/src/Distribution/System.hs
@@ -159,7 +159,7 @@ buildOS = classifyOS Permissive System.I
 
 -- | These are the known Arches: I386, X86_64, PPC, PPC64, Sparc,
 -- Arm, AArch64, Mips, SH, IA64, S390, S390X, Alpha, Hppa, Rs6000,
--- M68k, Vax, JavaScript and Wasm32.
+-- M68k, Vax, RISCV64, JavaScript and Wasm32.
 --
 -- The following aliases can also be used:
 --    * PPC alias: powerpc
@@ -174,6 +174,7 @@ data Arch = I386  | X86_64  | PPC  | PPC
           | IA64  | S390    | S390X
           | Alpha | Hppa    | Rs6000
           | M68k  | Vax
+          | RISCV64
           | JavaScript
           | Wasm32
           | OtherArch String
@@ -189,6 +190,7 @@ knownArches = [I386, X86_64, PPC, PPC64,
               ,IA64, S390, S390X
               ,Alpha, Hppa, Rs6000
               ,M68k, Vax
+              ,RISCV64
               ,JavaScript
               ,Wasm32]
 
Index: ghc-9.6.2/libraries/Cabal/Cabal/src/Distribution/Simple/PreProcess.hs
===================================================================
--- ghc-9.6.2.orig/libraries/Cabal/Cabal/src/Distribution/Simple/PreProcess.hs
+++ ghc-9.6.2/libraries/Cabal/Cabal/src/Distribution/Simple/PreProcess.hs
@@ -731,6 +731,7 @@ platformDefines lbi =
       Rs6000      -> ["rs6000"]
       M68k        -> ["m68k"]
       Vax         -> ["vax"]
+      RISCV64     -> ["riscv64"]
       JavaScript  -> ["javascript"]
       Wasm32      -> ["wasm32"]
       OtherArch _ -> []
