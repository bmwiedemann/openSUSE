From 19dc95258888a9e110ad54fa25a613611956a13f Mon Sep 17 00:00:00 2001
From: Tom de Vries <tdevries@suse.de>
Date: Tue, 13 Jun 2023 15:04:32 +0200
Subject: [PATCH 5/6] fixup gdb-6.3-attach-see-vdso-test.patch

---
 gdb/testsuite/gdb.base/attach-see-vdso.exp | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/gdb/testsuite/gdb.base/attach-see-vdso.exp b/gdb/testsuite/gdb.base/attach-see-vdso.exp
index 5457ec4129d..35c49731f0b 100644
--- a/gdb/testsuite/gdb.base/attach-see-vdso.exp
+++ b/gdb/testsuite/gdb.base/attach-see-vdso.exp
@@ -34,10 +34,11 @@ set escapedbinfile  [string_to_regexp [standard_output_file ${testfile}]]
 # The kernel VDSO is used for the syscalls returns only on i386 (not x86_64).
 #
 if  { [gdb_compile "${srcdir}/${subdir}/${srcfile}" "${binfile}" executable {debug additional_flags=-m32}] != "" } {
-    gdb_suppress_entire_file "Testcase nonthraded compile failed, so all tests in this file will automatically fail."
+    unsupported "Testcase nonthreaded compile failed, so all tests in this file will automatically fail."
+    return
 }
 
-if [get_compiler_info ${binfile}] {
+if [get_compiler_info] {
     return -1
 }
 
-- 
2.35.3

