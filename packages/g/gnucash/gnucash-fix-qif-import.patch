See https://github.com/Gnucash/gnucash/commit/b33b864c2fa0ba72d1940465e7fa962dd36833c9

--- gnucash-5.6/gnucash/import-export/qif-imp/qif-to-gnc.scm.orig        2024-04-02 23:12:50.335306666 +0200
+++ gnucash-5.6/gnucash/import-export/qif-imp/qif-to-gnc.scm     2024-04-01 23:13:12.071450498 +0200
@@ -596,13 +596,6 @@
       (else
         (apply xaccTransSetDate gnc-xtn (qif-xtn:date qif-xtn))))
 
-    (unless qif-action
-      (qif-import:log progress-dialog "qif-import:qif-xtn-to-gnc-xtn"
-                      (format #f (G_ "Missing QIF investment action for transaction dated ~a.")
-                              (qof-print-date (qif-date-to-time64 qif-date))))
-      (throw 'missing-action "qif-import:qif-xtn-to-gnc-xtn" "Missing investment action."
-             #f #f))
-
     ;; fixme: bug #105
     (if qif-payee
         (xaccTransSetDescription gnc-xtn qif-payee))
@@ -743,6 +736,13 @@
 
           (if (not num-shares) (set! num-shares (gnc-numeric-zero)))
 
+          (unless qif-action
+            (qif-import:log progress-dialog "qif-import:qif-xtn-to-gnc-xtn"
+                            (format #f (G_ "Missing QIF investment action for transaction dated ~a.")
+                                    (qof-print-date (qif-date-to-time64 qif-date))))
+            (throw 'missing-action "qif-import:qif-xtn-to-gnc-xtn" "Missing investment action."
+                   #f #f))
+
           ;; Determine the extended price of all shares without commission.
           (if xtn-amt
               ;; Adjust for commission (if any).
