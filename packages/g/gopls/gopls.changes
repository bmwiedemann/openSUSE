-------------------------------------------------------------------
Mon Mar 11 20:48:17 UTC 2024 - Jeff Kowalczyk <jkowalczyk@suse.com>

- Update to version 0.15.2:
  * gopls: update go.mod for v0.15.2-pre.2
  * gopls/internal/server: update telemetry prompt link
  * gopls/internal/golang: fix crash in package references
  * gopls/internal/server: fix crash in SignatureHelp
  * gopls: update go.mod for v0.15.2-pre.1
  * gopls/internal/cache: add assertions for telemetry crash
  * gopls/internal/server: set -mod=readonly when checking for upgrades
  * gopls/internal/cache: avoid go/types panic on version "go1.2.3"
  * gopls/internal/cache: fix spurious diagnostics in multi-root workspaces
  * gopls/internal/cache: prune broken edges to command-line-arguments pkgs

-------------------------------------------------------------------
Wed Feb 28 17:53:41 UTC 2024 - Jeff Kowalczyk <jkowalczyk@suse.com>

- Update to version 0.15.1:
  * gopls: update go.mod for v0.15.1-pre.1
  * gopls/internal/test: add test for NPE in control flow highlighting
  * gopls: add non nil if check around function result highlight

-------------------------------------------------------------------
Mon Feb 26 21:39:43 UTC 2024 - Jeff Kowalczyk <jkowalczyk@suse.com>

- Update to version 0.15.0:
  * gopls: update go.mod for v0.15.0-pre.5
  * gopls/internal/cache: don't create Views for vendored modules
  * gopls/internal/cache: fix two bugs related to workspace packages
  * gopls/internal/settings: default "includeReplaceInWorkspace" to false
  * gopls: update go.mod for v0.15.0-pre.4
  * gopls/internal/server: disambiguate diagnostics by OS,ARCH
  * gopls: update go.mod for v0.15.0-pre.3
  * gopls/internal/test/integration: slightly more ergonomic FolderSettings
  * gopls/internal/server: fix two bugs related to dynamic configuration
  * gopls/internal/golang: close open file
  * gopls: update x/telemetry dependency to fix crash
  * gopls: record that v0.15 will be the last to support go1.18
  * gopls/internal/settings: add a hidden option to disable zero config
  * gopls/internal/golang: add resolve support for inline refactorings
  * gopls/internal/cache: treat local replaces as workspace modules
  * gopls/internal/cache: check views on any on-disk change to go.mod files
  * gopls: update telemetry
  * gopls/internal/cache: fix crash in analysis
  * gopls/internal/utils/immutable: remove unused Map.Keys
  * gopls/semantic: elide zero-length tokens
  * gopls/doc: audit for types.Alias safety
  * gopls: update go.mod for v0.15.0-pre.2
  * gopls/internal/cache: prime goimports cache asynchronously
  * gopls/internal/cache: share goimports state for GOMODCACHE
  * gopls/internal/test/integration/bench: improve completion benchmarks
  * gopls/internal/test/marker: skip on LUCI solaris builders
  * gopls/internal/test/integration: add a test for an inner go.work file
  * gopls/internal/settings: deprecate "allowModfileModifications"
  * gopls/internal/cache: remove findWorkspaceModFile
  * gopls/internal/cache: detect and reinit on workspace vendor changes
  * gopls/internal/golang: add missing check for nil funcBody
  * gopls/internal/golang: move Go semantic tokens out of server
  * gopls: remove unused parameters
  * gopls/internal/cache: add assertions for export data inconsistency
  * gopls/internal/cache: support workspace vendoring
  * gopls/internal/golang: downgrade bug.Reportf for missing builtin
  * gopls/internal/cache: allow command-line-package >1 CompileGoFiles
  * gopls/internal/cache/metadata: assert graph is acyclic
  * gopls/internal/golang: hover: show embedded fields
  * gopls/internal/lsp/source: highlight returns correctly
  * gopls: enable crashmonitor for unexpected crashes
  * gopls: update third party dependencies
  * gopls/internal/test/marker: reject "module testdata"
  * gopls/internal/analysis/undeclaredname: improve fix name
  * gopls/internal/test/marker/testdata: move test to correct location
  * gopls/internal/cache/imports: simplify importsState invalidation
  * gopls/internal/golang: hover: show type's methods after doc comment
  * gopls: update x/telemetry dependency
  * gopls/internal/test/integration/bench: fix broken benchmarks
  * gopls/internal/cache: memoize the view filter func
  * gopls/internal/cache: skip TestZeroConfigAlgorithm on wasm
  * gopls/doc/emacs.md: explain how to organize imports automatically
  * gopls/internal/golang: don't bug.Report repaired ASTs in hover
  * gopls/internal/test: await quiescence in TestInconsistentVendoring
  * gopls/doc: s/source/golang/ in the SVG file
  * gopls: manual tweaks after the lsp/ -> . rename
  * gopls/internal/protocol/command: move from ../lsp
  * gopls/internal/protocol: move out of lsp/
  * gopls/internal/cache: move out of lsp/
  * gopls/internal/golang: move from lsp/source
  * gopls/internal/lsprpc: move out of lsp/
  * gopls: use relative watched file patterns if supported
  * gopls/internal/progress: simplify API
  * gopls/internal/progress: move from lsp/
  * gopls/internal/telemetry/cmd/stacks: include client name in report
  * gopls/internal/lsp/lsprpc: radically reduce API
  * gopls/doc: add Helix editor documentation for gopls
  * gopls/internal/test/integration: add regtest for hover crash
  * gopls/internal/lsp/cache: clean up public API
  * gopls/internal/lsp/cache: don't report a bug for standalone test files
  * gopls/internal/lsp/source: address problems detected by staticcheck
  * gopls/internal/test/marker: re-enable some tests
  * gopls: consolidate analyzers, eliminating "convenience" analyzers
  * gopls/internal/lsp/cache: allow versions of form "go1.2.3"
  * gopls/internal/lsp/cache: fix bug reports from toGobDiagnostics
  * gopls/internal/lsp/source: move Go CodeActions logic from server
  * gopls/internal/lsp/source: show promoted methods in hover
  * gopls/doc/design: rewrite the architecture overview
  * gopls/internal/version: amend the year in a recent copyright header
  * gopls/internal/lsp/source: factor edit conversion utils
  * gopls/internal/server: analyze widest packages for open files
  * gopls: add a main.version variable to override the version at linktime
  * gopls/internal/lsp/source/completion: infer parameter types
  * gopls/internal/lsp/source: fix Fix titles
  * gopls/internal/test/marker: fix test breakage due to semantic conflict
  * gopls/internal/analysis/unusedparams: eliminate false positives
  * gopls/internal/lsp/protocol: fix TestURIFromPath on windows
  * gopls/internal/test/marker: update skip comment for addgowork.txt
  * gopls/internal/server: simplify DiagnoseFiles to avoid a race
  * gopls/internal/test/integration: fix flakiness of TestResolveImportCycle
  * gopls/internal/lsp/protocol: deliver log messages in order
  * gopls/internal/test/marker: skip on solaris-amd64-oraclerel
  * gopls: simplify gopls command configuration
  * gopls/internal/test/marker: regenerate golden data
  * gopls/internal/lsp/source/stub: trim version suffix from module path
  * gopls/internal/lsp/cache: (re-)ensure clean shutdown
  * gopls/internal/lsp/source/completion: support postfix completion (iferr,
  * gopls/internal/lsp/source: add receiver name to stubbed methods
  * gopls/internal/test: skip marker tests on darwin builders if -short
  * gopls: update go.mod for v0.15.0-pre.1
  * all: update codereview.cfg for gopls-release-branch.0.15
  * gopls/internal/lsp/cache: address additional comments from CL 553095
  * gopls/internal/cmd: factor three loops in fix subcommand
  * gopls/internal/lsp/cache: simplify critical errors
  * gopls/internal/lsp/cache: don't scan for modules when defining a view
  * gopls/internal/lsp/cache: remove validBuildConfiguration
  * gopls/stub: support for method generation with same name but different receiver
  * gopls/internal/lsp/source/completion: complete return snippet
  * gopls/internal/lsp/cache: add dynamic build tag support
  * gopls/internal/lsp/source: simplify SuggestedFix plumbing
  * gopls/internal/server: simplify fileOf (n√©e beginFileRequest)
  * gopls/internal/lsp/cache: add support for checking views from tests
  * gopls/internal/lsp/cache: associate env with folders, not views
  * gopls/internal/lsp/cache: finish integrating the zero-config algorithm
  * gopls/internal/lsp/cache: don't preserve sequence IDs in updated views
  * gopls/internal/lsp/cache: switch to new bestViewForURI logic
  * gopls/internal/lsp/cache: add views for unused modules in selectViews
  * gopls/internal/work: fix crash during go.work completion
  * gopls/internal/lsp/cache: add the zero-config algorithm, and a unit test
  * gopls/internal/lsp/cache: simplify view definitions
  * gopls/internal/lsp/cache: reconcile view modes and workspace packages
  * gopls/internal: remove myers diff implementation from gopls
  * gopls/internal: remove old diff
  * gopls/internal/server: print stderr in go mod vendor error message
  * gopls/internal/server: rewrite the server diagnostic tracking
  * gopls/internal/lsp/cache: do not block View.Shutdown on Snapshot work
  * gopls/internal/lsp/cache: allow "" or "null" Diagnostics.Data
  * gopls: remove dead types and fields
  * gopls/internal/lsp/protocol: request.params is optional
  * gopls/internal/lsp/source: rename: update the doc link associated with the object
  * gopls/internal/test: set GOPACKAGESDRIVER=off for new marker tests
  * gopls/internal/test/marker: minor clean up of marker test doc
  * gopls/internal/lsp/source: hovering over broken packages is not an error
  * gopls/internal/analysis/fillstruct: don't panic with invalid fields
  * gopls/internal/util/goversion: warn about EOL for Go 1.18
  * gopls/internal/settings: remove MemoryMode option
  * gopls/protocol: Allow AnnotatedTextEdits
  * gopls/internal/analysis/stubmethods: fix OOB panic in fromValueSpec
  * gopls/internal/lsp/protocol: report panics in RPC goroutines
  * gopls/internal: don't bug.Report when given an invalid position
  * gopls/internal/lsp/source: forgive inliner failures in ill-typed code
  * gopls/internal/lsp/source: improve method hover
  * gopls/internal/server: tidy imports, fix build
  * gopls/internal/lsp/protocol: eliminate NonstandardRequest
  * gopls/internal/analysis: improve analyzer docs
  * gopls/internal/lsp/source: add test for rename spurious shadowing
  * Revert "gopls/internal/server: rewrite the server diagnostic tracking"
  * gopls/doc: add a note updating the original design doc
  * gopls/internal/server: rewrite the server diagnostic tracking
  * gopls/internal/lsp/cache: move gc_details toggle state to the snapshot
  * gopls/internal/cmd: remove gopls.run_vulncheck example
  * gopls/internal/lsp/cache/parsego: clamp positions when fixing statements
  * gopls/internal/lsp/protocol/generate: restore indentation
  * gopls/internal/cmd: add 'execute' command
  * gopls/internal/test/marker: move ExitIfSmallMachine back to TestMain
  * gopls/internal/lsp/source/completion: support more postfix completion for map and slice (len, for, forr)
  * gopls/internal/server: simplify snapshot diagnostics
  * gopls/internal/lsp/server: simplify logic for diagnosing changed files
  * gopls/internal/test: move the tests
  * gopls/internal/lsp: remove lsp path segment
  * gopls/internal/util: more renamings
  * gopls/internal/analysis: rename lsp/analysis -> analysis
  * gopls: move marker tests to internal/test/marker
  * gopls/internal/server: superficial clean up of diagnostics
  * gopls/internal/lsp: delete dead code
  * gopls/protocol/generate: files to generate lsp stubs
  * gopls: update lsp stubs
  * gopls/internal/util: move lru,frob,bug,{ast,types,path}util here
  * gopls/internal/server: rename from lsp
  * gopls/internal/lsp/cache/metadata: rename Metadata to Package
  * gopls/internal/regtest: avoid file segments ending in a period
  * gopls/internal/lsp/cache: move ignoreFilter onto View
  * gopls/internal/lsp: remove analysisMode, and other unused params
  * gopls/internal/lsp: cleanups to view logic
  * gopls: remove unnecessary conversions
  * gopls/internal/lsp/source: fix hover for objects in unsafe
  * gopls/internal/lsp: invert the import between cache and source
  * gopls/internal/lsp/source: eliminate AnalyzerErrorKind
  * gopls/internal/lsp/cache: clean up more references to the source package
  * gopls/internal/lsp/source/typerefs: move to ../cache/typerefs
  * gopls/internal/lsp/source/methodsets: move to ../cache/methodsets
  * gopls/internal/lsp/source/xrefs: move to ../cache/xrefs
  * gopls/internal/lsp/cache: move parsing types / algorithm to parsego
  * gopls/internal/lsp/cache: split metadata related types into a package
  * gopls/internal/lsp/cache: move load diagnostics to packageHandle
  * gopls/internal/telemetry/cmd/stacks: skip gopls@devel
  * gopls/internal/lsp: factor showMessage calls
  * gopls: enable telemetry uploading only with 'serve'
  * gopls/internal/lsp/protocol: reject non-'file' scheme DocumentURIs
  * gopls/internal/lsp/source/extract: don't assume Scope.Pos
  * gopls/internal/lsp/source: move NodeContains into the astutil pkg
  * gopls/internal/lsp/cache: clean up unnecessary type checking indirection
  * gopls/internal/lsp/cache: don't rebuild filters for each modcache dir
  * gopls/internal/lsp/cache: move quick-fix bundling logic to the cache pkg
  * gopls/internal/cmd/help_test.go: document
  * gopls/internal/lsp/source: stubmethods: fix out-of-bounds index
  * gopls/internal/lsp/source: move edit logic into the protocol package
  * gopls/internal/lsp/cache: move SuggestedFixFromCommand into cache
  * gopls/internal/lsp/source: extract InDir to a new pathutil package
  * gopls/internal/lsp/cache: simplify named error values
  * gopls/internal/lsp/cache: use local aliases for all source objects
  * gopls/internal/lsp/cache: avoid problematic use of goCommandInvocation
  * gopls/internal/lsp/cache: remove workspaceMode
  * gopls: remove the "tempModFile" setting
  * gopls/internal/lsp: simplify mod update commands
  * gopls: simplify the Snapshot and View interfaces
  * gopls/internal/lsp/cache: export Snapshot
  * gopls/internal/lsp/source: remove View.Snapshot
  * gopls: remove the "chattyDiagnostics" setting
  * gopls: remove the LiteralCompletions option
  * gopls/internal/lsp/cache: move go.work parsing into the view
  * Revert "gopls/internal/lsp/source: fix rename spurious shadowing error"
  * gopls/internal/lsp: eliminate server code generation
  * gopls/internal/lsp/source: fix rename spurious shadowing error
  * gopls/test: eliminate, by moving tests to more appropriate places
  * gopls: move settings to a settings package
  * gopls: move file-related types to a 'file' package
  * gopls/internal/lsp/source: make source.Analyzer pure configuration
  * gopls/internal/lsp/source: fix panic in definition(error.Error)
  * gopls/internal/lsp: remove redundant conversions
  * gopls/internal/lsp/fake: inline fake.toURI away
  * gopls/internal/lsp/protocol: delete $GOROOT hack in URIFromPath
  * gopls/internal/lsp/protocol: rename URI.Filename -> Path
  * gopls/internal/lsp/protocol: inline .SpanURI() away
  * gopls/internal/lsp/protocol: inline URIFromSpanURI away
  * gopls/internal/lsp/span: inline URI away
  * gopls/internal/span: inline URIFromPath away
  * gopls/internal/telemetry/cmd/stacks: create GH issues from telemetry
  * gopls/internal/cmd: remove "span" import, make Span private
  * gopls/internal/span: identify span.URI and protocol.DocumentURI
  * gopls/internal/lsp: add code action for conversion between raw and interpreted string
  * gopls/internal/lsp/cache: rename workspaceInformation to viewDefinition
  * gopls/internal/lsp/cache: remove unused Session.ModifyFiles
  * gopls/internal/lsp/cache: move upgrades and vulns onto the snapshot
  * gopls/internal/lsp/cache: exclusively use persistent data in snapshot
  * Revert "gopls/internal/lsp/cache: remove baseCtx from the View"
  * all: add versions.InitFileVersions to gopls where needed
  * gopls: remove ineffectual skips
  * gopls/internal/span: delete SameExistingFile
  * gopls/internal/lsp/protocol: include docs for {,Document}URI
  * gopls/internal/cmd: move span.{Span,Point} to cmd
  * gopls: upgrade x/telemetry and account for new mode logic
  * gopls/internal/lsp/cache: avoid span.Parse{,InDir}
  * gopls/internal/goversion: split out of lsp (server) package
  * gopls/internal/lsp: tweak docs
  * gopls/internal/lsp/cmd: move to ../cmd
  * gopls/internal/lsp: move semantic token helpers to protocol pkg
  * gopls/internal/lsp: unexport Server
  * gopls/internal/lsp: restore Server.semanticTokens{Full,Range}
  * gopls/internal/lsp/source: fix panic on T(x) conversion
  * gopls/internal/lsp/regtest: minor clean up of marker.go
  * gopls/internal/lsp: unify semanticTokens{Full,Range}
  * gopls/internal/regtest/marker: port remaining marker tests
  * gopls/internal/regtest/marker: port the selectionrange markers
  * gopls/internal/regtest/marker: clean up some random packages
  * gopls/internal/lsp/tests: remove AddImport support
  * gopls/internal/regtest/marker: port the semantic tokens tests
  * gopls/internal/regtest/marker: port the inlay hint tests
  * gopls/internal/regtest/marker: port remaining rename tests
  * gopls/internal/regtest/marker: trim redundant header from golden diffs
  * gopls/internal/regtest/marker: use diffs for rename tests
  * gopls/internal/regtest/marker: porting remaining suggestedfix tests
  * gopls/internal/lsp/cmd: add codelens subcommand
  * gopls/internal/regtest/marker: use line-based myers diff implementation
  * gopls/internal/regtest/marker: port the stub tests
  * gopls/internal/regtest/marker: port the invertifcondition tests
  * gopls/internal/lsp/mod: clarify inlayhint comment
  * gopls/internal/regtest/marker: porting extract tests
  * gopls/internal/regtest/marker: use golden diffs for suggested fixes
  * gopls/internal/lsp/source: fix signatureHelp with pointer receivers
  * gopls/internal/lsp/cache: remove baseCtx from the View
  * gopls/internal/lsp/cache: remove forceReloadMetadata from clone
  * gopls/internal/lsp/cache: pass workspace information into createView
  * gopls/internal/lsp/cache: isolate getWorkspaceInformation from Session
  * gopls/internal/lsp/source: enable nilness Analyzer in gopls
  * gopls: remove dead code
  * gopls/internal/lsp/cache: allow duplicate analyzer names
  * gopls/internal/regtest/marker: port half of the suggestedfix markers
  * gopls/internal/lsp/cache: move 'contains' from snapshot to view
  * gopls/internal/lsp/cache: make options immutable on the View
  * gopls/internal/regtest/marker: port remaining rank and snippet tests
  * gopls/internal/regtest/marker: port remaining completion tests
  * gopls/internal/regtest/marker: port rank and func_rank tests
  * gopls/internal/regtest/marker: port builtin/keyword completion tests
  * gopls/internal/regtest/marker: port five arbitrary completion tests
  * gopls/internal/regtest/marker: port all prepare markers
  * gopls/internal/lsp: add OnSave diagnostics
  * gopls/internal/lsp/cmd: add GOPACKAGESDRIVER to stat
  * gopls/internal/regtest/marker: port the links marker
  * gopls/internal/regtest/marker: port case sensitive completion tests
  * gopls/internal/regtest/marker: port all deep and fuzzy completion tests
  * gopls/internal/regtest/marker: port statements completion tests
  * gopls/internal/regtest/marker: port remaining @signature markers
  * gopls/internal/lsp: fix code action panic on params of external funcs
  * gopls/internal/lsp/source: remove unused parameters (cleanup)
  * gopls/internal/lsp: add semantic highlighting for go: directives
- Packaging improvements:
  * Build PIE with pattern that may become recommended procedure:
    %%ifnarch ppc64 GOFLAGS="-buildmode=pie" %%endif go build
    A go toolchain buildmode default config would be preferable
    but none exist at this time.
  * Drop mod=vendor, go1.14+ will detect vendor dir and auto-enable

-------------------------------------------------------------------
Thu Nov 16 19:45:10 UTC 2023 - Jeff Kowalczyk <jkowalczyk@suse.com>

- Update to version 0.14.2:
  * gopls: update go.mod for v0.14.2-pre.1
  * gopls: upgrade x/telemetry and account for new mode logic

-------------------------------------------------------------------
Mon Oct 30 16:56:27 UTC 2023 - Jeff Kowalczyk <jkowalczyk@suse.com>

- Update to version 0.14.1:
  * gopls: update go.mod for v0.14.1-pre.1
  * gopls/internal/lsp: fix code action panic on params of external funcs
  * go/packages: don't fail if GOPACKAGESDRIVER leaves Compiler/GOARCH=""

-------------------------------------------------------------------
Wed Oct 25 15:03:53 UTC 2023 - Jeff Kowalczyk <jkowalczyk@suse.com>

- Update to version 0.14.0:
  * gopls: update go.mod for v0.14.0-pre.5
  * gopls/internal/lsp/source: find linkname directives without parsing
  * gopls/internal/lsp: fix signature crash on error.Error
  * gopls: update go.mod for v0.14.0-pre.4
  * gopls/internal/lsp/source: abort change signature on overlapping calls
  * gopls/internal/lsp: add code actions to remove unused parameters
  * gopls: deprecate "tempModfile" and "expandWorkspaceToModule" settings
  * gopls: update go.mod for v0.14.0-pre.3
  * gopls: upgrade x/telemetry dependency
  * gopls: allow all drive letters in cache/filemap_test.go
  * gopls/internal/lsp: use the correct options for semantic tokens legend
  * gopls: update go.mod for v0.14.0-pre.2
  * gopls/internal/lsp: go to definition from embed directive
  * gopls: update x/telemetry dependency
  * gopls/internal/lsp: simplify the telemetry prompt
  * gopls/internal/lsp/fake: don't set a completion budget for tests
  * gopls/internal/lsp: hover over embed directives
  * gopls/internal/lsp/cache: remove snapshot.typeCheckMu
  * gopls/internal/regtest/source/completion: reuse functionCallSnippet in unimported completion
  * gopls/internal/lsp: use matcher score in ranking unimported candidates
  * gopls/internal/lsp/source: don't complete to golang.org/toolchain
  * gopls/internal/lsp/source: Add ui.complete.completeFunctionCalls toggle
  * gopls: set a context deadline after minimal completion results
  * gopls: update go.mod for v0.14.0-pre.1
  * all: update codereview.cfg for gopls-release-branch.0.14
  * gopls: upgrade x/telemetry to latest
  * gopls/internal/lsp/source/completion: fixes for completion budget
  * gopls/internal/lsp/source/completion: start timing before type checking
  * gopls/internal/lsp: use linkifyShowMessage in telemetryOnMessage
  * gopls/internal/regtest/bench: add additional completion benchmarks
  * gopls/internal/lsp: update telemetry prompt and add a follow-up message
  * gopls/internal/lsp/command: add maybePromptForTelemetry
  * gopls/internal/lsp/source: add linkifyShowMessage (internal option)
  * gopls/internal/lsp/cmd: undocument gopls vulncheck
  * gopls/internal/lsp: update prompting logic for local/off mode
  * gopls: instrument telemetry for latency of important operations
  * all: register the appends analyzer in a few places and update gopls/go.mod
  * gopls: update golang.org/x/telemetry dependency
  * gopls/internal/lsp: minor cleanup to prompt logic
  * gopls/internal/lsp: add an idle prompt asking users to enable telemetry
  * gopls/internal/vulncheck/scan: buffer govulncheck STDERR output
  * gopls/internal/regtest/marker: rename to clarify marker types
  * gopls/internal/lsp/tests: eliminate several old marker types
  * gopls: update x/telemetry to the latest
  * gopls/internal: move builtin completion test to a regtest
  * gopls/internal/regtest: support full features of old completion markers
  * gopls/internal/lsp/source: inliner: don't spam log
  * gopls/lsp/command: add gopls.add_telemetry_counters
  * gopls: improve usage instructions for neovim
  * gopls/internal/regtest: port the codelens marker tests
  * gopls/internal/lsp/source: recover from inliner panics
  * gopls: update to use the new golang.org/x/vuln API
  * gopls/internal/lsp/regtest: parallelize marker tests
  * gopls/internal/lsp/regtest: port the highlight marker
  * gopls/internal/lsp: track didChangeConfiguration diagnostics for tests
  * gopls/internal/lsp: move options into the snapshot
  * gopls/internal/lsp/cache: move Option management to the Server
  * gopls/internal/regtest/marker: support folding ranges
  * gopls/internal/lsp/tests: eliminate the go1.18 summary file
  * gopls/internal/lsp/tests: simplify options
  * gopls/internal/lsp/cache: move working dir to workspaceInformation
  * gopls/internal/lsp/cache: simplify file change propagation
  * gopls/internal/lsp/cache: only evaluate fileMap.dirs when necessary
  * gopls/internal/lsp/cache: consolidate logic for updating maps in clone
  * gopls: update staticcheck (v0.4.5)
  * gopls/internal/lsp/cache: simplify tracking of snapshot directories
  * gopls/internal/lsp/cache: use persistent.Set in a couple places
  * gopls: add and enable the slog analyzer
  * gopls: tidy for 1.17+
  * gopls/internal/lsp/cmd: don't use x/exp/slices
  * gopls/internal/telemetry: don't schedule the next upload
  * gopls: remove dead code
  * gopls/internal/lsp/cache: delete unused mustEncode
  * gopls/internal/lsp/cmd: consolidate editing flags
  * gopls: more 1.18 cleanup; use strings.Cut and os functions
  * gopls/internal: move Options and FileKind from View to Snapshot
  * gopls: update uses of deprecated ioutil APIs
  * gopls/internal/lsp/analysis/unusedparams: document the blank identifier
  * gopls/internal/lsp/frob: add defensive header
  * gopls/internal/lsp/source: implement refactor.inline code action
  * gopls/internal/telemetry: log timestamp when test fails
  * gopls/internal/lsp/frob: fix build breakage
  * gopls/internal/lsp/frob: make API generic
  * gopls: update x/telemetry dependency
  * gopls/internal/lsp/debug: remove hard-coded version
  * gopls/doc: update tests that fail on Kokoro to run at Go 1.21+
  * gopls/internal/telemetry: write counter unconditionally and run upload
  * gopls/internal/lsp/mod: remove TestModfileRemainsUnchanged
  * gopls/internal/regtest/codelens: avoid a race in TestUpgradeCodelens
  * gopls/doc: include stderr output from 'go list' in pkgDir errors
  * gopls/internal/lsp: add testing support for the new zero builtin
  * gopls/internal/lsp/source completion: don't suggest untyped conversions
  * gopls/internal/lsp/source: fix implementations query on error type
  * gopls/internal/lsp/source: add a test for local types stubbing
  * gopls: stubbed methods shouldn't qualify the current package
  * gopls/internal/lsp/source: fix renaming instantiated fields
  * gopls/internal/lsp: switch default diff to "new"
  * gopls/telemetry: accept vscode-insiders as a known editor
  * gopls/internal/lsp/source/completion: add ifnotnil postfix snippet
  * gopls/internal/lsp/cache: avoid dependency on StdSizes
  * gopls: fix raciness related to TestOrphanedFiles
  * gopls/internal/lsp: avoid duplicate type checking following invalidation
  * gopls/internal/regtest/bench: skip oracle didSave test
  * gopls/telemetry: test that telemetry counters are written
  * gopls/internal/regtest/bench: enable oracle benchmarks with -short
  * go/types/objectpath: remove use of linkname for gopls back doors
  * gopls/internal/protocol: remove // line comments from tsprotocol.go
  * gopls/internal/regtest/bench: add an oracle completion benchmark
  * gopls/internal/telemetry: record Go version used in each view
  * gopls/internal/lsp/source: enable new defers analyzer
  * gopls/internal/bug: add gopls/bug telemetry counter
  * gopls: add gopls/client telemetry counters

-------------------------------------------------------------------
Tue Sep 12 13:55:41 UTC 2023 - Lubos Kocman <lubos.kocman@suse.com>

- License correction based on legaldb review
  Add Apache-2.0 and MIT for vendor/gopkg.in/yaml.v3

-------------------------------------------------------------------
Thu Aug 17 20:11:29 UTC 2023 - jkowalczyk@suse.com

- Update to version 0.13.2:
  * gopls: update go.mod for v0.13.2-pre.1
  * [gopls-release-branch.0.13] refactor/satisfy: (re)allow composite lits of pointer type

-------------------------------------------------------------------
Sat Aug 12 13:48:30 UTC 2023 - jkowalczyk@suse.com

- Update to version 0.13.1:
  * gopls: update go.mod for v0.13.1-pre.2
  * gopls/internal/hooks: clean language version before passing to gofumpt
  * gopls/internal/lsp/analysis: fix stubmethods with variadic parameters
  * gopls: update go.mod for v0.13.1-pre.1
  * gopls/internal/lsp/source: reinstate equalOrigin for references check
  * gopls/internal/lsp/source: fix incorrect 'origin' logic for named types
  * gopls/internal/lsp/source: fix renaming of type parameters
  * gopls/internal/lsp/source: refresh embeddirective analyzer docs

-------------------------------------------------------------------
Mon Jul 31 14:45:07 UTC 2023 - jkowalczyk@suse.com

- Update to version 0.13.0:
  * gopls: update go.mod for v0.13.0-pre.3
  * gopls/internal/lsp/source: Add SuggestedFix for embeddirective Analyzer
  * gopls/internal/lsp/cache: keep analysis progress reports on one line
  * gopls: update go.mod and go.sum for v0.13.0-pre.2
  * gopls/internal/lsp/cache: fast-path for type-checking active packages
  * gopls/internal/lsp/cache: fix use of time.NewTimer instead of NewTicker
  * gopls: fix tests that depend on log sequencing
  * gopls: update go.mod and go.sum for v0.13.0
  * gopls/internal/lsp/debug: update debug version for v0.13.0
  * all: update codereview.cfg for gopls-release-branch.0.13
  * gopls/internal/lsp/cache: use correct metadata in resolveImportGraph
  * gopls/internal/lsp/cache: fix incorrect check for active package
  * gopls/internal/lsp/source: highlight deprecated symbols
  * gopls/internal/lsp: don't recompute diagnostics during code actions
  * gopls/internal/lsp/cache: memoize active packages after every operation
  * gopls/internal/regtest/bench: add benchmarks for codeactions
  * gopls/internal/lsp/cache: fix boundary cond in parseCache age eviction
  * gopls/internal/lsp/cache: purge Analysis.Results earlier
  * gopls/internal/lsp/cache: limit parallelism
  * gopls/internal/lsp/cache: move purgeFuncBodies into the parse cache
  * gopls/internal/lsp/cache: used time-based eviction in parseCache
  * gopls/internal/lsp/frob: document another restriction
  * go/types/objectpath: avoid sorting methods for gopls
  * gopls/internal/lsp/cache: UX improvements for analysis
  * gopls/internal/lsp/cache: better panic if metadata invariant is broken
  * gopls/internal/lsp/cache: frob: a fast encoder with gob-like powers
  * gopls/internal/lsp: don't awaitLoaded inside resolveImportGraph
  * gopls/internal/lsp: fix a latent bug in orphaned file reloading
  * gopls/internal/lsp/source/typerefs: optimize getPackageHandles
  * gopls/internal/lsp: only diagnose one package per file
  * gopls/protocol/generate: upgrade generating LSP stubs
  * gopls/internal/lsp/debug: display Analysis.Run times
  * gopls/internal: update LSP support
  * gopls/internal/lsp/source: fix spurious "unexpected var object" error
  * gopls/internal/regtest/bench: add a test simulating typing
  * gopls/internal/regtest/bench: add an 'oracle' benchmark repo
  * gopls/internal/regtest/bench: clean up profile flags
  * gopls/internal/regtest/workspace: fix TestQuickFix_AddGoWork for go1.21
  * gopls: commands to start/stop profiling, and a new benchmark metric
  * gopls/internal/lsp/source: put context first in extracted functions
  * gopls/internal/lsp/source/completion: avoid duplicates from variants
  * gopls/internal/lsp: make gopls.start_debugging open browser
  * gopls/internal/lsp/filecache: increase idle GC period to 6 hours
  * gopls/internal/lsp/source/completion: honor usePlaceholders
  * gopls/internal/lsp/source/completion: placeholders for type params
  * gopls/internal/regtest/marker: skip addgowork.txt
  * gopls/internal/lsp/source/xrefs: include refs to methods of generics
  * gopls/internal/lsp/source: ignore objectpath error in rename
  * gopls: remove dead code
  * gopls/internal/lsp/cache: plumb analysis URLs to client
  * gopls/doc/contributing.md: document error handling strategies
  * gopls/internal/lsp/source/typerefs: move test into _test.go
  * gopls/internal/lsp/filecache: reduce GC frequency
  * gopls/internal/lsp/cmd: list bug reports in 'gopls bug'
  * gopls/internal/lsp/cache: don't panic when import fails during analysis
  * gopls/internal/lsp/cache: don't record edges to invalid packages
  * gopls/internal/lsp/cache: remove ITVs from shared import graph

-------------------------------------------------------------------
Mon Jun 26 14:35:38 UTC 2023 - jkowalczyk@suse.com

- Update to version 0.12.4:
  * gopls/internal/lsp/cache: don't panic when import fails during analysis
  * gopls: update go.mod for v0.12.4
  * gopls/internal/lsp/cache: don't record edges to invalid packages

-------------------------------------------------------------------
Thu Jun 22 19:36:57 UTC 2023 - jkowalczyk@suse.com

- Update to version 0.12.3:
  * gopls: update go.mod for v0.12.3
  * gopls/internal/lsp/cache: fix nil panic in analysis toSourceDiagnostic
  * gopls/internal/lsp/debug: update hard-coded version for v0.12.3
  * gopls/internal/lsp/cache: add debugging assertion for golang/go#60904
  * gopls/internal/lsp/cache: guard against "unsafe" by package path, not ID
  * gopls/internal/lsp/cache: use types.Unsafe in analysisPackage
  * gopls/internal/lsp/work: don't crash when hovering over broken mod dir
  * gopls/internal/lsp/cache: reduce importing in analysis
  * gopls/internal/regtest: fix goimports on windows when using vendoring
  * gopls/internal/lsp/source/completion: ensuring completion completeness
  * gopls/internal/regtest/codelens: set GOWORK=off for go mod vendor
  * gopls/internal/lsp/cache: two minor simplifications
  * gopls/internal/lsp/filecache: reduce lifespan of os.FileInfos
  * gopls/internal/lsp: enable min/max builtin completion test

-------------------------------------------------------------------
Mon Jun  5 16:43:33 UTC 2023 - Jeff Kowalczyk <jkowalczyk@suse.com>

- Refactor tarball unpacked sources layout with gopls/ as subdir.
  This allows us to include the LICENSE file at the upstream
  monorepo repository root. The changes required for the subdir
  layout are perhaps excessive for including just one metadata
  file, but serves as a good exercise for packaging other utilities
  under Go x/tools monorepo.
  * Upstream uses monorepo x/tools/ with gopls/ and others in subdirs
  * Upstream monorepo shared tools/LICENSE file in repository root dir
  * Move param subdir gopls usage from tar_scm to go_modules
  * tar_scm param include gopls and LICENSE
  * tar_scm param drop extraneous param exclude .git
  * Creates gopls-0.12.2.tar.gz unpacked layout gopls-0.12.2/gopls/go.mod
  * New layout requires moving LICENSE and vendor/ to subdir in %prep
  * New layout requires change to subdir in %build
  * New layout requires use path to subdir in %check, %install, %files

-------------------------------------------------------------------
Mon Jun  5 04:54:12 UTC 2023 - Jeff Kowalczyk <jkowalczyk@suse.com>

- Initial package version 0.12.2:
  * Upstream uses monorepo x/tools/ with gopls/ and others in subdirs
  * service tar_scm use params subdir and filename both set to gopls
  * service go_modules_scm do not use any params
  * Creates gopls-0.12.2.tar.gz unpacked layout gopls-0.12.2/go.mod
  * Upstream monorepo shared tools/LICENSE file is one level above
    where we package
