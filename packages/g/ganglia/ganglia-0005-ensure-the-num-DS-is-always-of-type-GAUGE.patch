From: Dennis Klein <d.klein@gsi.de>
Date: Fri, 8 Jan 2016 18:59:44 +0100
Git-commit: ab3d7de6eef9fd0a5af0b8837f4b324aa3c7d96a
References: bsc#1087487
Subject: [PATCH] ensure the num DS is always of type GAUGE

Acked-by: John Jolly <jjolly@suse.de>
---
 gmetad/rrd_helpers.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/gmetad/rrd_helpers.c b/gmetad/rrd_helpers.c
index 740799a5..e38c6514 100644
--- a/gmetad/rrd_helpers.c
+++ b/gmetad/rrd_helpers.c
@@ -276,8 +276,8 @@ RRD_create( char *rrd, int summary, unsigned int step,
            heartbeat);
    argv[argc++] = sum;
    if (summary) {
-      sprintf(num,"DS:num:%s:%d:U:U", 
-              data_source_type,
+      sprintf(num,"DS:num:%s:%d:U:U",
+              "GAUGE",
               heartbeat);
       argv[argc++] = num;
    }
-- 
2.13.6

