-------------------------------------------------------------------
Sun Jun  7 13:52:05 UTC 2020 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- Add gasnet-fix-multiple-definitions.patch to fix compatibility with GCC10

-------------------------------------------------------------------
Fri Oct  4 07:03:25 UTC 2019 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- Always use the default openmpi

-------------------------------------------------------------------
Thu Sep 26 07:45:57 UTC 2019 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- Update to GASNet 1.32.0
  - Libfabric (ofi-conduit)
    - Fix bug 3682: incorrect behavior for non-bulk puts larger than a page
    - Compatibility fixes for libfabric version 1.6
  - InfiniBand Verbs (ibv-conduit)
    - GASNET_DISABLE_MUNMAP now defaults to enabled for ibv-conduit.
    - Now use HCA's maximum supported MTU by default, resulting in nearly a 2x
      increase in peak Get bandwidth on modern HCAs.
    - Fix bug 3339: allow ibv-conduit to operate on Omni-Path hardware.
      ofi-conduit and psm-conduit remain the recommended conduits for Omni-Path.
  - Portable UDP (udp-conduit)
    - Reduce polling cost on single-supernode runs. smp-conduit remains the
      recommended conduit for use on single-supernode shared-memory systems.
  - Portable MPI (mpi-conduit)
    - Reduce polling cost on single-supernode runs. smp-conduit remains the
      recommended conduit for use on single-supernode shared-memory systems.
  - GASNet tools (spec v1.12)
    - Numerous improvements to backtrace support, including fixing the
      following bugs:
      - Bug 3624: Improve backtrace fail-over behavior
      - Bug 3625: call prctl(PR_SET_PTRACER,...) before backtrace on Linux
      - Bug 3626: prioritize lldb on Mac OS X
      - Bug 3627: unblock the unfreeze signal prior to backtrace
      - Bug 3637: Fix EXECINFO backtrace for *BSD
      - Enable GDB backtrace on Cray systems, when available
      - Bug 3664: GASNETT_PREDICT_{TRUE,FALSE} result value semantics change slightly
    - Add gasnett_unreachable()
    - GASNETT_PLEASE_INLINE has been removed. Recommended replacement is `inline`
    - Improve behavior when installed public headers are passed to a compiler 
      that was not probed at configure time.
  - General and Misc.
    - GASNET_MAX_SEGSIZE syntax has been expanded and now defaults to 85% of physical 
      memory, split evenly between co-located processes on a host. 
      Configure option to control this default renamed to --with-max-segsize=
    - GASNET_VIS_{AMPIPE,REMOTECONTIG} is now enabled by default on most conduits
    - GASNET_VIS_MAXCHUNK default value adjusted on many conduits to improve perf
    - New knobs GASNET_VIS_{PUT,GET}_MAXCHUNK for tuning put/get VIS chunk size
    - Fix GASNET_NULL_ARGV_OK for mpi-conduit and mpi-spawner
    - Additional debug checks now detect prohibited overlap in loopback RMA and AMLong.
    - The extended-ref source directory has been re-arranged
    - Clients using gasnet_coll_* must now explicitly #include <gasnet_coll.h>
    - Events leading up to a crash are now more reliably reported in the trace file.
  - Platform support/portability
    - Support for Microsoft Windows 10 Subsystem for Linux (WSL) has graduated
      out of BETA status
    - Update MALLOC_OPTIONS setting for OpenBSD 6.x
    - Add gasnetrun support for IBM Job Step Manager (jsrun)
    - Add PLATFORM_COMPILER_C(XX)_LANGLVL to portable_platform (v5)
    - Fix bug 3741: misidentification of IBM XL Compilers 13.1.6 and newer (v6)
    - Fix bug 3743: verify correct KNL processor tuning on CNL
    - Fix bug 3679: AMUDP incompatibility with PGI C++ 17+
    - Public headers are less susceptible to malfunctions when compiled with
      un-prefixed tokens redefined by the preprocessor. C/C++ keywords remain
      reserved, as do tokens prepended by one or more underscores or one of the
      reserved gasnet prefixes (see 'GASNet coding standards' in README-devel)
  - Configure and Build
    - Option --enable-strict-prototypes has been removed, see bug 3608.
    - Fix bug 3613: warning on #pragma GCC diagnostic for gcc < 4.6
    - Fix bug 3629: avoid a parallel make bug
    - Add a git hash "watermark" to libraries
    - Warning enable flags are removed from GASNET_C(XX)FLAGS and friends. 
      The flags remain available in GASNET_DEVWARN_C(XX)FLAGS for opt-in.
- Drop gasnet-s390-support.patch as it was fixed upstream
- Enable SMP and PSM conduit.

-------------------------------------------------------------------
Mon Jan  7 08:45:39 UTC 2019 - Bernhard Wiedemann <bwiedemann@suse.com>

- Add gasnet-build-hostname.patch to make build reproducible (boo#1084909)

-------------------------------------------------------------------
Thu Oct  5 13:04:42 UTC 2017 - nmoreychaisemartin@suse.com

- Force load of MPI environment
- Use OpenMPI2 instead of OpenMPI1 except for ppc64be (unsupported by OpenMPI >= 2)

-------------------------------------------------------------------
Wed Sep  6 08:20:22 UTC 2017 - nmoreychaisemartin@suse.com

- Force timer to use POSIX RT instead of native, as native is not
  precise enough in VM and causes validation to crash.

-------------------------------------------------------------------
Fri Sep  1 17:03:06 UTC 2017 - junghans@votca.org

- Version update to 1.30.0:
  * InfiniBand Verbs (ibv-conduit)
    - Improve the handling of GASNET_PHYSMEM_* env vars

 * Libfabric (ofi-conduit)
    - Fix bug 3426: Unbounded recursion within gasnetc_ofi_poll()
    - Significant improvements to AM buffer management and wire header overheads
    - Finer-grained control over AM buffering, see ofi-conduit/README
    - Initialization cleanups for stricter compliance with the OFI specification
    - Support for the Intel(R) True Scale Fabric provider, psm, has been removed.
      The Intel(R) Omni-Path Fabric is still supported through the psm2 provider.
    - We now recommend ofi-conduit for the Intel Omni-Path fabric.
    - The conduit has been validated on libfabric version 1.5.0.

  * Intel Omni-Path PSM2 (psm-conduit)
    - This conduit is now DEPRECATED.
    - Use of ofi-conduit with libfabric's psm2 provider is recommended for users
      of the Intel Omni-Path fabric.

  * GASNet tools
    - Fix bug 3448: x86*/Linux timers once again default to use of the TSC due
      to addition of new logic for correct calibration on newer Intel CPUs.
    - Add gasnett_nsleep()

-------------------------------------------------------------------
Fri Aug 11 05:18:19 UTC 2017 - bwiedemann@suse.com

- Add gasnet-build-id.patch to fix build-compare (boo#1047218)

-------------------------------------------------------------------
Fri Jun 30 07:37:04 UTC 2017 - nmoreychaisemartin@suse.com

- Remove BuildRequires for libpsm2-compat
- Build with OFI support on x86

-------------------------------------------------------------------
Fri Jun  9 08:17:36 UTC 2017 - nmoreychaisemartin@suse.com

- Enable OFI conduit on x86_64
- Disable debug to build GASnet in optimized mode
- Add gasnet-date-time.patch to remove build date/times from binaries
- Add gasnet-s390-support.patch and enable s390/s390x builds

-------------------------------------------------------------------
Thu Jun  8 11:37:26 UTC 2017 - nmoreychaisemartin@suse.com

- Remove version dependency to libibverbs

-------------------------------------------------------------------
Wed May 31 12:54:20 UTC 2017 - nmoreychaisemartin@suse.com

- Build gasnet for all arch but s390*, s390x not supported by upstream:
  https://upc-bugs.lbl.gov/bugzilla/show_bug.cgi?id=3523  
- PSM2 support is only for x86_64

-------------------------------------------------------------------
Tue May 16 15:38:38 UTC 2017 - nmoreychaisemartin@suse.com

- Support gasnet over OFI and ibverbs

-------------------------------------------------------------------
Fri Apr  7 15:23:19 CEST 2017 - pth@suse.de

- Remove conflict marker.

-------------------------------------------------------------------
Fri Mar 31 12:04:16 UTC 2017 - nmoreychaisemartin@suse.com

- Fix dynamic linking for PSM libraries

-------------------------------------------------------------------
Fri Mar 31 13:35:50 CEST 2017 - pth@suse.de

- GASnet relies on libpsm2-compat which again only supports x86_64
  so make GASnet do the same.  

-------------------------------------------------------------------
Wed Mar 29 07:57:50 CEST 2017 - pth@suse.de

- Make dependencies on libs now coming from rdma-core versioned.

-------------------------------------------------------------------
Sat Mar 18 19:02:30 UTC 2017 - junghans@votca.org

- Version update to 1.28.2, lot of changes, see:
  https://gasnet.lbl.gov/dist/ChangeLog

-------------------------------------------------------------------
Mon Feb  6 14:52:50 UTC 2017 - jengelh@inai.de

- Declare bash as build shell

-------------------------------------------------------------------
Mon Oct 24 16:17:17 UTC 2016 - junghans@votca.org

- Version update to 1.28.0, lot of changes, see:
  https://gasnet.lbl.gov/dist/ChangeLog

-------------------------------------------------------------------
Mon Oct 17 08:54:54 UTC 2016 - jengelh@inai.de

- Implement shared library naming guideline
- Trim description

-------------------------------------------------------------------
Tue Sep 20 02:39:45 UTC 2016 - junghans@votca.org

- added %check block and related patch from upstream:
  https://bitbucket.org/berkeleylab/gasnet/pull-requests/37
- link shared libs, so that deps are fulfilled

-------------------------------------------------------------------
Mon Sep 12 15:26:11 UTC 2016 - junghans@votca.org

- Added upstream patch to support overwriting of flags:
  https://bitbucket.org/berkeleylab/gasnet/pull-requests/34
- Build shared libs manually as upstream doesn't want to support them:
  https://bitbucket.org/berkeleylab/gasnet/pull-requests/36
  but we need them for legion package

-------------------------------------------------------------------
Sun Sep  4 23:26:38 UTC 2016 - junghans@votca.org

- Update to GASNet 1.26.4
  Details: https://gasnet.lbl.gov/dist/ChangeLog

-------------------------------------------------------------------
Sun May 29 15:29:33 UTC 2016 - junghans@votca.org

- import into Science overlay

-------------------------------------------------------------------
Thu Mar 10 10:52:14 UTC 2016 - nirmoy.das@suse.com

- Initial package, version: 1.26.0(fate#319250) 

