From a39d6086ceb9445d2c16943e0719096a99920bf8 Mon Sep 17 00:00:00 2001
From: easymodo <easymodofrf@gmail.com>
Date: Fri, 1 May 2020 04:20:44 +0300
Subject: [PATCH] fix build with qt < 5.14  #205

---
 .../directorymanager/watchers/linux/linuxworker.cpp           | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/qimgv/components/directorymanager/watchers/linux/linuxworker.cpp b/qimgv/components/directorymanager/watchers/linux/linuxworker.cpp
index 96ec9d3..e49cf40 100644
--- a/qimgv/components/directorymanager/watchers/linux/linuxworker.cpp
+++ b/qimgv/components/directorymanager/watchers/linux/linuxworker.cpp
@@ -21,7 +21,11 @@ void LinuxWorker::setDescriptor(int desc) {
 
 void LinuxWorker::run() {
     emit started();
+#if QT_VERSION < QT_VERSION_CHECK(5, 14, 0)
+    isRunning.store(true);
+#else
     isRunning.storeRelaxed(true);
+#endif
 
     if (fd == -1) {
         qDebug() << TAG << "File descriptor isn't set! Stopping";
