From dd1beff10a53e4fe1afd18b5373e36805920e9ee Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Sandro=20Knau=C3=9F?= <hefee@debian.org>
Date: Sun, 17 Feb 2019 10:56:24 +0100
Subject: [PATCH 2/3] Detect XFCE desktop correctly.

---
 keychain_unix.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/keychain_unix.cpp b/keychain_unix.cpp
index 30b26c3..958927a 100644
--- a/keychain_unix.cpp
+++ b/keychain_unix.cpp
@@ -54,6 +54,8 @@ static DesktopEnvironment detectDesktopEnvironment() {
         return DesktopEnv_Unity;
     } else if ( xdgCurrentDesktop == "KDE" ) {
         return getKdeVersion();
+    } else if ( xdgCurrentDesktop == "XFCE" ) {
+        return DesktopEnv_Xfce;
     }
 
     QByteArray desktopSession = qgetenv("DESKTOP_SESSION");
-- 
2.21.0

