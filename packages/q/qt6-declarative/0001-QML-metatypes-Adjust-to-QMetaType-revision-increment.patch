From 25f02543ae8e334d880ce5975e32a8a6972ad962 Mon Sep 17 00:00:00 2001
From: Fabian Kosmale <fabian.kosmale@qt.io>
Date: Thu, 27 Apr 2023 09:57:42 +0200
Subject: [PATCH] QML metatypes: Adjust to QMetaType revision increment

Pick-to: 6.5
Task-number: QTBUG-113227
Change-Id: Icd2ca482ef8656d544c7c560ca05b9dd222f9c0a
---
 src/qml/qml/qqmlmetatype_p.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/qml/qml/qqmlmetatype_p.h b/src/qml/qml/qqmlmetatype_p.h
index c19dd8aff7..0604bbc4db 100644
--- a/src/qml/qml/qqmlmetatype_p.h
+++ b/src/qml/qml/qqmlmetatype_p.h
@@ -287,7 +287,7 @@ struct QQmlMetaTypeInterface : QtPrivate::QMetaTypeInterface
     const QByteArray name;
     QQmlMetaTypeInterface(const QByteArray &name)
         : QMetaTypeInterface {
-            /*.revision=*/ 0,
+            /*.revision=*/ QMetaTypeInterface::CurrentRevision,
             /*.alignment=*/ alignof(QObject *),
             /*.size=*/ sizeof(QObject *),
             /*.flags=*/ QtPrivate::QMetaTypeTypeFlags<QObject *>::Flags,
@@ -322,7 +322,7 @@ struct QQmlListMetaTypeInterface : QtPrivate::QMetaTypeInterface
     const QtPrivate::QMetaTypeInterface *valueType;
     QQmlListMetaTypeInterface(const QByteArray &name, const QtPrivate::QMetaTypeInterface *valueType)
         : QMetaTypeInterface {
-            /*.revision=*/ 0,
+            /*.revision=*/ QMetaTypeInterface::CurrentRevision,
             /*.alignment=*/ alignof(QQmlListProperty<QObject>),
             /*.size=*/ sizeof(QQmlListProperty<QObject>),
             /*.flags=*/ QtPrivate::QMetaTypeTypeFlags<QQmlListProperty<QObject>>::Flags,
-- 
2.40.0

