Index: emacs-25.2/configure.ac
===================================================================
---
 emacs-29.1/configure.ac |    2 +-
 emacs-29.1/src/image.c  |   12 ++++++++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

--- emacs-29.1/configure.ac
+++ emacs-29.1/configure.ac	2023-08-01 07:15:12.274827913 +0000
@@ -2883,7 +2883,7 @@ if test "${HAVE_X11}" = "yes" || test "$
     else
        ## 6.3.5 is the earliest version known to work; see Bug#17339.
        ## 6.8.2 makes Emacs crash; see Bug#13867.
-       EMACS_CHECK_MODULES([IMAGEMAGICK], [Wand >= 6.3.5 Wand != 6.8.2])
+       EMACS_CHECK_MODULES([IMAGEMAGICK], [MagickWand >= 6.3.5 MagickWand != 6.8.2])
     fi
 
     if test $HAVE_IMAGEMAGICK = yes; then
--- emacs-29.1/src/image.c
+++ emacs-29.1/src/image.c	2023-08-01 07:20:54.484555078 +0000
@@ -10207,7 +10207,11 @@ imagemagick_compute_animated_image (Magi
       PixelWand **source, **dest;
       size_t source_width, source_height;
       ssize_t source_left, source_top;
+#if MagickLibVersion >= 0x700
+      PixelInfo pixel;  
+#else
       MagickPixelPacket pixel;
+#endif
       DisposeType dispose;
       ptrdiff_t lines = 0;
 
@@ -10272,7 +10276,11 @@ imagemagick_compute_animated_image (Magi
 	      if (dispose == BackgroundDispose || PixelGetAlpha (source[x]))
 		{
 		  PixelGetMagickColor (source[x], &pixel);
+#if MagickLibVersion >= 0x700
+		  PixelSetPixelColor (dest[x + source_left], &pixel);
+#else
 		  PixelSetMagickColor (dest[x + source_left], &pixel);
+#endif
 		}
 	    }
 	  PixelSyncIterator (dest_iterator);
@@ -10317,7 +10325,11 @@ imagemagick_load_image (struct frame *f,
   MagickWand *image_wand;
   PixelIterator *iterator;
   PixelWand **pixels, *bg_wand = NULL;
+#if MagickLibVersion >= 0x700
+  PixelInfo pixel;
+#else
   MagickPixelPacket  pixel;
+#endif
   Lisp_Object image;
 #ifndef DONT_CREATE_TRANSFORMED_IMAGEMAGICK_IMAGE
   Lisp_Object value;
