Index: PackageKit-1.2.5/backends/zypp/pk-backend-zypp.cpp
===================================================================
--- PackageKit-1.2.5.orig/backends/zypp/pk-backend-zypp.cpp
+++ PackageKit-1.2.5/backends/zypp/pk-backend-zypp.cpp
@@ -2940,6 +2940,12 @@ backend_remove_packages_thread (PkBacken
 			return;
 		}
 		PoolItem item(solvable);
+        if (item.status ().isLocked ()) {
+            zypp_backend_finished_error (job, PK_ERROR_ENUM_PACKAGE_FAILED_TO_REMOVE,
+                    "Failed to remove %s: Locked package.",
+                    solvable.name ().c_str ());
+            return;
+        }
 		if (solvable.isSystem ()) {
 			item.status ().setToBeUninstalled (ResStatus::USER);
 			items.push_back (item);
