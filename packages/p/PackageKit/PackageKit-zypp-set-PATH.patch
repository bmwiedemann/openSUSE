From 2fb7fc6efa67351c05ec13495a50d1333191ed67 Mon Sep 17 00:00:00 2001
From: Jonathan Kang <jonathankang@gnome.org>
Date: Fri, 18 Sep 2020 15:18:24 +0800
Subject: [PATCH] zypp: set PATH variable

https://bugzilla.suse.com/show_bug.cgi?id=1175315
---
 backends/zypp/pk-backend-zypp.cpp | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/backends/zypp/pk-backend-zypp.cpp b/backends/zypp/pk-backend-zypp.cpp
index 0a5ed7766..5975b86f9 100644
--- a/backends/zypp/pk-backend-zypp.cpp
+++ b/backends/zypp/pk-backend-zypp.cpp
@@ -1829,6 +1829,9 @@ pk_backend_initialize (GKeyFile *conf, PkBackend *backend)
 	priv->zypp_mutex = PTHREAD_MUTEX_INITIALIZER;
 	zypp_logging ();
 
+	/* Set PATH variable to avoid problems when installing packges(bsc#1175315). */
+	g_setenv("PATH", "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", TRUE);
+
 	g_debug ("zypp_backend_initialize");
 }
 
-- 
2.26.2

