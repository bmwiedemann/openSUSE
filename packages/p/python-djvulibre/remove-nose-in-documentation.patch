From e68b6780bc191645ac7bfd0085f8b68a58729e71 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Mat=C4=9Bj=20Cepl?= <mcepl@cepl.eu>
Date: Mon, 26 Jul 2021 09:45:53 +0200
Subject: [PATCH] Remove nose in documentation

---
 doc/README                     | 3 ---
 private/apt-install-build-reqs | 1 -
 private/build-and-test         | 2 +-
 3 files changed, 1 insertion(+), 5 deletions(-)

diff --git a/doc/README b/doc/README
index 76f2b63..c808cb2 100644
--- a/doc/README
+++ b/doc/README
@@ -21,7 +21,6 @@ The following software is required to build python-djvulibre:
 
 Additionally, the following software is needed to run the tests:
 
-* nose_
 * subprocess32_ (only for Python 2.X)
 * DjVuLibre_ command-line tools
 * Ghostscript_
@@ -32,8 +31,6 @@ Additionally, the following software is needed to run the tests:
    https://cython.org/
 .. _pkg-config:
    https://wiki.freedesktop.org/www/Software/pkg-config/
-.. _nose:
-   https://nose.readthedocs.io/
 .. _subprocess32:
    https://pypi.org/project/subprocess32/
 .. _Ghostscript:
diff --git a/private/apt-install-build-reqs b/private/apt-install-build-reqs
index 69beade..744ba5f 100755
--- a/private/apt-install-build-reqs
+++ b/private/apt-install-build-reqs
@@ -21,7 +21,6 @@ python-dev
 cython
 '
 pkgs_tests='
-python-nose
 python-subprocess32
 djvulibre-bin
 ghostscript
diff --git a/private/build-and-test b/private/build-and-test
index 08aa4fb..c86665b 100755
--- a/private/build-and-test
+++ b/private/build-and-test
@@ -45,6 +45,6 @@ printf '%s\n' "$@" \
 | xargs -P"$opt_jobs" -t -I'{python}' env '{python}' setup.py build --build-lib 'build/{python}'
 cd tests
 printf '%s\n' "$@" \
-| xargs -t -I'{python}' env PYTHONPATH="$PWD/../build/{python}" '{python}' -c 'import nose; nose.main()' --verbose
+| xargs -t -I'{python}' env PYTHONPATH="$PWD/../build/{python}" '{python}' -c 'import unittest; unittest.main()' --verbose
 
 # vim:ts=4 sts=4 sw=4 et
-- 
2.32.0


