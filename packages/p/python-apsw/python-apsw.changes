-------------------------------------------------------------------
Mon Dec  5 20:22:14 UTC 2022 - Dirk Müller <dmueller@suse.com>

- update to 3.40.0.0:
  * Fixed regression in statement cache update (version 3.38.1-r1) where
    trailing whitespace in queries would be incorrectly treated as
    incomplete execution (APSW issue 376)
  * Added Various interesting and useful bits of functionality (APSW issue
    369)
  * Added more Pythonic attributes as an alternative to getters and setters,
    including Connection.in_transaction, Connection.exectrace,
    Connection.rowtrace, Cursor.exectrace, Cursor.rowtrace,
    Cursor.connection (APSW issue 371)
  * Completed: To the extent permitted by CPython APIs every item has the
    same docstring as this documentation. Every API can use named
    parameters. The type stubs cover everything including constants. The
    type stubs also include documentation for everything, which for example
    Visual Studio Code displays as you type or hover. There is a single
    source of documentation in the source code, which is then automatically
    extracted to make this documentation, docstrings, and docstrings in the
    type stubs.
  * Example/Tour updated and appearance improved (APSW issue 367).
  * Added Connection.cache_stats() to provide more information about the
    statement cache.
  * Cursor.execute() now uses sqlite_prepare_v3 which allows supplying
    flags.
  * Cursor.execute() has a new can_cache parameter to control whether the
    query can use the statement cache. One example use is with authorizers
    because they only run during prepare, which doesn’t happen with already
    cached statements.
  * (The Cursor.execute() additional parameters are keyword only and also
    present in Cursor.executemany(), and the corresponding
    Connection.execute() and Connection.executemany() methods.)
  * Added Cursor.is_readonly, Cursor.is_explain, and Cursor.expanded_sql.
  * Updated processing named bindings so that types registered with
    collections.abc.Mapping (such as collections.UserDict) will also be
    treated as dictionaries. (APSW issue 373)
  * Test no longer fails if APSW was compiled without
    SQLITE_ENABLE_COLUMN_METADATA but sqlite3 was separately compiled with
    it. APSW should be compiled with the same flags as sqlite3 to match
    functionality and APIs. (APSW issue 363)
  * –use-system-sqlite-config setup.py build_ext option added to allow
    Matching APSW and SQLite options. (APSW issue 364)
  * Source ▪ Downloads ▪ Changelogs  ▪ Documentation
  * PyPI now includes Python 3.11 builds.
  * Instead of using scripts, you can now run several tools directly:
  * tests: python3 -m apsw.tests [options]
  * tracer: python3 -m apsw.trace [options]
  * speed tester: python3 -m apsw.speedtest [options]
  * shell: python3 -m apsw [options]
  * The shell class has moved from apsw.Shell to apsw.shell.Shell (APSW
    issue 356). You can still reference it via the old name (ie existing
    code will not break, except on Python 3.6).
  * Shell: On Windows the native console support for colour is now used
    (previously a third party module was supported).
  * You can use –definevalues in setup.py build_ext to provide compiler
    defines used for configuring SQLite. (APSW issue 357)
  * If SQLITE_ENABLE_COLUMN_METADATA is enabled then Cursor.description_full
    is available providing all the column metadata available. (APSW issue
    354)
  * Connection.cursor_factory attribute is now present and is used when
    Connection.cursor() is called. Added Connection.execute() and
    Connection.executemany() which automatically obtain the underlying
    cursor. See customizing connections and cursors in the Tips. (APSW issue
    361)


-------------------------------------------------------------------
Mon Jan 17 20:40:34 UTC 2022 - Dirk Müller <dmueller@suse.com>

- update to 3.37.0-r1:
  * Allow breaking of reference cycles between objects that contain a
    Connection or Cursor 
  * Fixed custom VFS extension loading failure could leave the error message
    unterminated
  * Updated size of mutex array used by the fork checker
  * Connections are opened with SQLITE_OPEN_EXRESCODE so open errors will also
    include extended result codes
  * Connection.changes() and Connection.totalchanges() use the new SQLite APIs
    that return 64 bit values
  * Added Connection.autovacuum_pages()
  * Implemented Connection.serialize() and Connection.deserialize().
  * Allow any subclass of VFS to implement WAL, not just direct subclasses

-------------------------------------------------------------------
Fri Jun 25 06:20:00 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 3.35.4-r1:
  - Updates for SQLite download url (the year is part of the urls).
  - Added enable flag for built-in SQL math functions, and enable
    it by default with –enable-all-extensions.
  - Use the newer buffer API for Python 3
    (old API removed in Python 3.10).
- Fix loadable extensions are missing, 
  so insert --enable-all-extensions and --enable=load_extension.
  See: https://rogerbinns.github.io/apsw/build.html#building

-------------------------------------------------------------------
Tue Dec 29 13:46:03 UTC 2020 - Dirk Müller <dmueller@suse.com>

- udpate to 3.34.0-r1:
  * Windows MSI installer files are now provided
  * Added Connection.txn_state()
  * Added constants: SQLITE_IOERR_CORRUPTFS 

-------------------------------------------------------------------
Tue Sep 22 11:54:56 UTC 2020 - Tomáš Chvátal <tchvatal@suse.com>

- Fix the source url to really match reality

-------------------------------------------------------------------
Tue Sep 22 10:29:18 UTC 2020 - Hans-Peter Jansen <hpj@urpla.net>

- Update to 3.33.0-r1:
  * Small performance improvement in string handling
  * apsw module exposes Cursor, Blob, and Backup types (issue #273)
  * pkg-config is used to detect International Components for
    Unicode (ICU) sdk when the SQLite ICU extension is enabled. It
    falls back to icu-config as before. (issue #268).
- Update to 3.32.2-r2:
  * Added some constants
  * Minor documentation updates
- Fix source URL
-------------------------------------------------------------------
Tue Mar  3 09:44:34 UTC 2020 - Tomáš Chvátal <tchvatal@suse.com>

- Update the sqlite dependency
- Update to 3.31.1:
  * Fix deprecated universal newline use in shell (#283)
  * Shell now uses pragma function_list to get list of functions for tab completion

-------------------------------------------------------------------
Tue Feb  4 19:50:05 UTC 2020 - Ondřej Súkup <mimi.vx@gmail.com>

- update to 3.30.1-r1
- drop 0002-Skip-one-test-on-python3.8.patch
       0001-py3.8-avoid-invalid-escapes.patch
 * Updated hashing of SQL statements
 * Updated Connection.config() with all current SQLITE_DBCONFIG constants

-------------------------------------------------------------------
Tue Sep 10 13:32:46 UTC 2019 - Tomáš Chvátal <tchvatal@suse.com>

- Add more py3.8 patches:
  * 0001-py3.8-avoid-invalid-escapes.patch
  * 0002-Skip-one-test-on-python3.8.patch
- Remove patch obsoleted by above python38.patch

-------------------------------------------------------------------
Thu Jul  4 13:10:16 UTC 2019 - Tomáš Chvátal <tchvatal@suse.com>

- Update to 3.28.0-r1:
  * No changelog
- Add patch to build with python 3.8:
  * python38.patch

-------------------------------------------------------------------
Thu Aug 31 16:45:50 UTC 2017 - toddrme2178@gmail.com

- Update to version 3.9.2-r1
  * No changelog

-------------------------------------------------------------------
Thu Aug 24 13:32:48 UTC 2017 - jmatejek@suse.com

- singlespec auto-conversion

-------------------------------------------------------------------
Tue Oct 15 13:04:33 UTC 2013 - tchvatal@suse.com

- Downgrade to 3.7.17 so we build on 13.1 too.

-------------------------------------------------------------------
Tue Oct 15 12:56:58 UTC 2013 - tomas.chvatal@gmail.com

- Fix file collision between doc and normal

-------------------------------------------------------------------
Mon Oct 14 11:46:39 UTC 2013 - tchvatal@suse.com

- Version bump to 3.8.0.2-r1 to use latest sqlite queries.
- Drop the macroed commands in favor of normal ones
- Drop clean section
- Write fully what documents go where.

-------------------------------------------------------------------
Wed Oct  9 17:32:14 UTC 2013 - hrvoje.senjan@gmail.com

- Drop unused tarballs, defines and checks for obsolete openSUSE versions

-------------------------------------------------------------------
Tue Sep  3 10:31:58 UTC 2013 - jw@suse.com

- osc service localrun format_spec_file
  to add comments and such.

-------------------------------------------------------------------
Mon Dec 12 19:35:39 UTC 2011 - pascal.bleser@opensuse.org

- build for all supported versions from a single spec
- link dynamically against the sqlite3 version that ships with each distro
  version, rather than using amalgamation: this is required by s3ql

-------------------------------------------------------------------
Mon Aug  9 15:40:35 UTC 2010 - pascal.bleser@opensuse.org

- initial package (3.7.0.1-r1)


