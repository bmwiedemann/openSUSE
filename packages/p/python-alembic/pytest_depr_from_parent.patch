--- a/alembic/testing/plugin/pytestplugin.py
+++ b/alembic/testing/plugin/pytestplugin.py
@@ -35,16 +35,17 @@ def pytest_pycollect_makeitem(collector,
     if inspect.isclass(obj) and plugin_base.want_class(name, obj):
 
         # in pytest 5.4.0
-        # return [
-        #     pytest.Class.from_parent(collector,
-        # name=parametrize_cls.__name__)
-        #     for parametrize_cls in _parametrize_cls(collector.module, obj)
-        # ]
-
-        return [
-            pytest.Class(parametrize_cls.__name__, parent=collector)
-            for parametrize_cls in _parametrize_cls(collector.module, obj)
-        ]
+        if hasattr(pytest.Class, 'from_parent'):
+            return [
+                pytest.Class.from_parent(collector,
+            name=parametrize_cls.__name__)
+                for parametrize_cls in _parametrize_cls(collector.module, obj)
+            ]
+        else:
+            return [
+                pytest.Class(parametrize_cls.__name__, parent=collector)
+                for parametrize_cls in _parametrize_cls(collector.module, obj)
+            ]
     elif (
         inspect.isfunction(obj)
         and isinstance(collector, pytest.Instance)
