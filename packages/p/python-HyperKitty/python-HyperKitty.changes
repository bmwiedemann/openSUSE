-------------------------------------------------------------------
Tue Dec 28 07:02:11 UTC 2021 - John Vandenberg <jayvdb@gmail.com>

- Add hyperkitty-django4.patch to support Django 4

-------------------------------------------------------------------
Fri Dec 17 10:25:31 UTC 2021 - Matej Cepl <mcepl@suse.com>

- Add hyperkitty-fix-mistune-2.0-imports.patch ... two function
  moved in mistune 2.0 (gl#mailman/hyperkitty#379).

-------------------------------------------------------------------
Thu Dec 16 15:11:02 UTC 2021 - Sasi Olin <hel@lcp.world>

- Add a patch that fixes compatibility with the full release of mistune 2.0

-------------------------------------------------------------------
Wed Nov 17 08:30:52 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 1.3.5
  * https://gitlab.com/mailman/hyperkitty/-/blob/1.3.5/doc/news.rst
- Fixes CVE-2021-35057
- Removed obsolete python-HyperKitty-CVE-2021-33038.patch

-------------------------------------------------------------------
Wed Jun  2 18:33:55 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Fix log dir permissions

-------------------------------------------------------------------
Wed Jun  2 12:25:48 UTC 2021 - pgajdos@suse.com

- security update
- added patches
  fix CVE-2021-33038 [bsc#1186575], information disclosure when importing a private mailing list
  + python-HyperKitty-CVE-2021-33038.patch

-------------------------------------------------------------------
Wed May 26 14:04:05 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Remove the hyperkitty-admin user

-------------------------------------------------------------------
Tue May 25 18:55:19 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Create static files as part of the build process
- Fixed CVE-2021-25322

-------------------------------------------------------------------
Tue May  4 09:31:59 UTC 2021 - Ben Greiner <code@bnavigator.de>

- restrict to primary python3 flavor due to mailman 

-------------------------------------------------------------------
Wed Feb  3 12:29:57 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 1.3.4
  * Sync owners and moderators from Mailman Core for MailingList. (Fixes #302)
  * Implemented a new HYPERKITTY_JOBS_UPDATE_INDEX_LOCK_LIFE setting to set the
    lock lifetime for the update_and_clean_index job. (Closes #300)
  * Implemented a new HYPERKITTY_ALLOW_WEB_POSTING that allows disabling the
    web posting feature. (Closes #264)
  * Add the ability to disable Gravatar using HYPERKITTY_ENABLE_GRAVATAR
    settings. (Closes #303)
  * Replaced deprecated ugettext functions with gettext. (Closes #310)
  * Fix export of Email message where the In-Reply-To header doesn’t include
    the <> brackets. (Closes #331)
  * We now catch a few more exceptions in hyperkitty_import when getting
    messages from a mbox. (Closes #313 and #314)
  * Added a new contrib/check_hk_import script to check mboxes before running
    hyperkitty_import.
  * We now ignore a ValueError in hyperkitty_import when trying to replace a
    Subject: header. (Closes #317)
  * hyperkitty_import now includes the mbox name in error messages when
    importing multiple mboxes. (Closes #318)
  * `` at `` is now only replaced with @ in From: header values when necessary
    and not unconditionally. (Closes #320)
  * The wildcard notation for any host '*' is now supported into
    MAILMAN_ARCHVER_FROM to disable Hyperkitty clients IP checking.
  * Join the searchbar and search button like it was before bootstrap 4
    migration. (See !301)
  * Use the umd builds for popper.js instead of the regular ones. (See !309)
  * Exceptions thrown by smtplib in sending replies are now caught and give an
    appropriate error message. (Closes #309)
- Removed hyperkitty-fix-tests.patch
- Fixed build on tumbleweed

-------------------------------------------------------------------
Mon Dec 28 08:32:51 UTC 2020 - Andreas Schneider <asn@cryptomilk.org>

- Fix quarter hourly timer

-------------------------------------------------------------------
Sun Dec 20 14:37:27 UTC 2020 - Andreas Schneider <asn@cryptomilk.org>

- Fix access to CACHE dir
- Improve documentation (README.SUSE.md)
- Fix quaterly timer and service

-------------------------------------------------------------------
Sun Dec 13 11:16:18 UTC 2020 - Andreas Schneider <asn@cryptomilk.org>

- Added hyperkitty-qcluster.service
- Added hyperkitty-runjob.service and hyperkitty-runjob.timer

-------------------------------------------------------------------
Sat Dec 12 19:43:44 UTC 2020 - Andreas Schneider <asn@cryptomilk.org>

- Create a HyperKitty-web package with webroot files
- Create a HyperKitty-web-uwsgi with uwsgi configuration
- Added hyperkitty-settings.patch
  * Sets the FHS default paths
- Added hyperkitty-fix-tests.patch
  * Make migration compatible with django >= 3.1
- Added rpmlint config

-------------------------------------------------------------------
Tue Aug  4 01:35:17 UTC 2020 - Stasiek Michalski <stasiek@michalski.cc>

- Version update to 1.3.3
  * Allow SHOW_INACTIVE_LISTS_DEFAULT setting to be configurable. (Closes #276)
  * Fix a bug where the user couldn’t chose the address to send reply or new post as. (Closes #288)
  * Improve the Django admin command reference from hyperkitty_import. (Closes #281)
  * Fix FILTER_VHOST to work with web hosts other than the email host. (Closes #254)
  * Fixed a bug where export can fail if certain headers are wrapped. (Closes #292)
  * Fixed hyperkitty_import to allow odd line endings in a folded message subject. (Closes #280)
  * Fixed a bug that could throw an IndexError when exporting messages. (Closes #293)
  * Use errors='replace' when encoding attachments. (Closes #294)
- Drop merged python-HyperKitty-remove-legacy-use-of-available_attrs.patch

-------------------------------------------------------------------
Thu May 14 12:57:07 UTC 2020 - pgajdos@suse.com

- version update to 1.3.2
  - Remove support for Django 1.11. (Closes #273)
  - Skip ``Thread.DoesNotExist`` exception when raised within
    ``rebuild_thread_cache_votes``. (Closes #245)
  - Send 400 status code for ``ValueError`` when archiving. (Closes #271)
  - Fix a bug where exception for elasticsearch backend would not be caught. (Closes #263)  
- added patches
  https://gitlab.com/mailman/hyperkitty/-/commit/03c99ad5beefeac4474b5a00c840fd9debccba02
  + python-HyperKitty-remove-legacy-use-of-available_attrs.patch

-------------------------------------------------------------------
Fri Jan 10 12:30:33 UTC 2020 - pgajdos@suse.com

- fix dependency (django_compressor -> django-compressor)

-------------------------------------------------------------------
Tue Dec 10 14:34:40 UTC 2019 - pgajdos@suse.com

- version update to 1.3.1
  * Add support to delete mailing list. (Closes #3)
  * Fix a bug where messages with attachments would skip adding the body when
    exporting the email. (Closes #252)
  * Fix a bug where exporting mbox with messages that have attachments saved
    to disk would raise exception and return a corrupt mbox. (Closes #258)
  * Fix a bug where downloaded attachments are returned as a memoryview object
    instead of bytes and hence fail to download. (Closes #247)
  * Fix a bug where migrations would fail with exceptions on postgresl. (Closes
    #266)
  * Add support for Django 3.0.

-------------------------------------------------------------------
Mon Dec  2 10:47:13 UTC 2019 - pgajdos@suse.com

- call spec-cleaner

-------------------------------------------------------------------
Wed Nov 27 13:38:35 UTC 2019 - pgajdos@suse.com

- package documentation

-------------------------------------------------------------------
Wed Nov 27 13:09:09 UTC 2019 - pgajdos@suse.com

- require python-libsass

-------------------------------------------------------------------
Thu Nov 14 20:58:30 UTC 2019 - pgajdos@suse.com

- run the testsuite correctly

-------------------------------------------------------------------
Tue Oct  1 09:06:27 UTC 2019 - pgajdos@suse.com

- initial version 1.3.0 [SLE-7686]

