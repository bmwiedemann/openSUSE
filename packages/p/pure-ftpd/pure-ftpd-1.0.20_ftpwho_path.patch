Index: src/ftpwho-update.h
===================================================================
--- src/ftpwho-update.h.orig
+++ src/ftpwho-update.h
@@ -26,6 +26,9 @@ typedef struct FTPWhoEntry_ {
     volatile off_t download_total_size;
     volatile off_t download_current_size;
     char account[MAX_USER_LENGTH + 1U];
+#ifdef PATH_MAX
+    char filename[PATH_MAX];
+#else
 #if defined(__OpenBSD__) || defined(__Bitrig__)
     char filename[1024];
 #else
@@ -39,6 +42,7 @@ typedef struct FTPWhoEntry_ {
     char filename[1024];
 # endif
 #endif
+#endif
 } FTPWhoEntry;
 
 int ftpwho_initwho(void);
