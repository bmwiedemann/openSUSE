-------------------------------------------------------------------
Sat May  1 22:01:14 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Release 4.21.1
  * [pens] Reverted breaking change that turned AbstractPen and
    AbstractPointPen into abstract base classes (#2164, #2198).
- Release 4.21.0
  * [feaLib] Indent anchor statements in asFea() to make them more
    legible and diff-able (#2193).
  * [pens] Turn AbstractPen and AbstractPointPen into abstract
    base classes (#2164).
  * [feaLib] Added support for parsing and building STAT table
    from AFDKO feature files (#2039).
  * [instancer] Added option to update name table of generated
    instance using STAT table's axis values (#2189).
  * [bezierTools] Added functions to compute bezier point-at-time,
    as well as line-line, curve-line and curve-curve intersections
    (#2192).
  * [arrayTools] Added rectArea function to compute area of
    rectangle (#2192).
- Release 4.20.0
  * [COLRv1] Added unbuildColrV1 to deconstruct COLRv1 otTables to
    raw json-able data structure; it does the reverse of
    buildColrV1 (#2171).
  * [feaLib] Allow sub X by NULL sequence to delete a glyph (#2170)
  * [arrayTools] Fixed Vector division (#2173).
  * [COLRv1] Define new PaintSweepGradient (#2172).
  * [otTables] Moved Paint.Format enum class outside of Paint
    class definition, now named PaintFormat. It was clashing with
    paint instance Format attribute and thus was breaking lazy
    load of COLR table which relies on magic __getattr__ (#2175).
  * [COLRv1] Replace hand-coded builder functions with
    otData-driven dynamic implementation (#2181).
  * [COLRv1] Define additional static (non-variable) Paint formats
    (#2181).
  * [subset] Added support for subsetting COLR v1 and CPAL tables
    (#2174, #2177).
  * [fontBuilder] Allow setupFvar to optionally take
    designspaceLib.AxisDescriptor objects. Added new setupAvar
    method. Support localised names for axes and named instances
    (#2185).
- Don't update to 4.22 yet because it breaks afdko
- Clarify fs requirement

-------------------------------------------------------------------
Fri Apr 23 14:28:25 UTC 2021 - Matej Cepl <mcepl@suse.com>

- We do Require fs module.

-------------------------------------------------------------------
Fri Feb 12 13:48:21 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to 4.19.1
  * [woff2] An initial off-curve point with an overlap flag now
    stays an off-curve point after compression.
- Changes in 4.19.0
  * [codecs] Handle errors parameter different from 'strict' for
    the custom extended mac encodings (#2137, #2132).
  * [featureVars] Raise better error message when a script is
    missing the required default language system (#2154).
  * [COLRv1] Avoid abrupt change caused by rounding
    PaintRadialGradient.c0 when the start circle almost touches
    the end circle's perimeter (#2148).
  * [COLRv1] Support building unlimited lists of paints as 255-ary
    trees of PaintColrLayers tables (#2153).
  * [subset] Prune redundant format-12 cmap subtables when all
    non-BMP characters are dropped (#2146).
  * [basePen] Raise MissingComponentError instead of bare KeyError
    when a referenced component is missing (#2145).
- Only 'Recommend:' optional extra requirements (Some are not
  available in TW python36 flavor anymore)
- Don't require python36-scipy for testing. (NEP 29)

-------------------------------------------------------------------
Thu Jan 14 16:26:38 UTC 2021 - Dirk Müller <dmueller@suse.com>

- update to 4.18.2:
  - [COLRv1] Implemented ``PaintTranslate`` paint format (#2129).
  - [varLib.cff] Fixed unbound local variable error (#1787).
  - [otlLib] Don't crash when creating OpenType class definitions if some glyphs
    occur more than once (#2125).
  - [colorLib] Speed optimization for ``LayerV1ListBuilder`` (#2119).
  - [mutator] Fixed missing tab in ``interpolate_cff2_metrics`` (0957dc7a).
  - [COLRv1] Update to latest draft: added ``PaintRotate`` and ``PaintSkew`` (#2118).
  - [woff2] Support new ``brotlicffi`` bindings for PyPy (#2117).
  - [glifLib] Added ``expectContentsFile`` parameter to ``GlyphSet``, for use when
    reading existing UFOs, to comply with the specification stating that a
    ``contents.plist`` file must exist in a glyph set (#2114).
  - [subset] Allow ``LangSys`` tags in ``--layout-scripts`` option (#2112). For example:
    ``--layout-scripts=arab.dflt,arab.URD,latn``; this will keep ``DefaultLangSys``
    and ``URD`` language for ``arab`` script, and all languages for ``latn`` script.
  - [varLib.interpolatable] Allow UFOs to be checked; report open paths, non existant
    glyphs; add a ``--json`` option to produce a machine-readable list of
    incompatibilities
  - [pens] Added ``QuartzPen`` to create ``CGPath`` from glyph outlines on macOS.
    Requires pyobjc (#2107).
  - [feaLib] You can export ``FONTTOOLS_LOOKUP_DEBUGGING=1`` to enable feature file
    debugging info stored in ``Debg`` table (#2106).
  - [otlLib] Build more efficient format 1 and format 2 contextual lookups whenever
    possible (#2101).
  - [colorLib] Fixed regression in 4.17.0 when building COLR v0 table; when color
    layers are stored in UFO lib plist, we can't distinguish tuples from lists so
    we need to accept either types (e5439eb9, googlefonts/ufo2ft/issues#426).
  - [colorLib/otData] Updated to latest draft ``COLR`` v1 spec (#2092).
  - [svgLib] Fixed parsing error when arc commands' boolean flags are not separated
    by space or comma (#2094).
  - [varLib] Interpret empty non-default glyphs as 'missing', if the default glyph is
    not empty (#2082).
  - [feaLib.builder] Only stash lookup location for ``Debg`` if ``Builder.buildLookups_``
    has cooperated (#2065, #2067).
  - [varLib] Fixed bug in VarStore optimizer (#2073, #2083).
  - [varLib] Add designspace lib key for custom feavar feature tag (#2080).
  - Add HashPointPen adapted from psautohint. With this pen, a hash value of a glyph
    can be computed, which can later be used to detect glyph changes (#2005).
  - [varLib.instancer] Fixed ``TypeError`` exception when instantiating a VF with
    a GSUB table 1.1 in which ``FeatureVariations`` attribute is present but set to
    ``None`` -- indicating that optional ``FeatureVariations`` is missing (#2077).
  - [glifLib] Make ``x`` and ``y`` attributes of the ``point`` element required
    even when validation is turned off, and raise a meaningful ``GlifLibError``
    message when that happens (#2075).
  - [removeOverlaps] Added new module and ``removeOverlaps`` function that merges
    overlapping contours and components in TrueType glyphs. It requires the
    `skia-pathops <https://github.com/fonttools/skia-pathops>`__ module.
    Note that removing overlaps invalidates the TrueType hinting (#2068).
  - [varLib.instancer] Added ``--remove-overlaps`` command-line option.
    The ``overlap`` option in ``instantiateVariableFont`` now takes an ``OverlapMode``
    enum: 0: KEEP_AND_DONT_SET_FLAGS, 1: KEEP_AND_SET_FLAGS (default), and 2: REMOVE.
    The latter is equivalent to calling ``removeOverlaps`` on the generated static
    instance. The option continues to accept ``bool`` value for backward compatibility.
  - [plistlib] Added typing annotations to plistlib module. Set up mypy static
    typechecker to run automatically on CI (#2061).
  - [ttLib] Implement private ``Debg`` table, a reverse-DNS namespaced JSON dict.
  - [feaLib] Optionally add an entry into the ``Debg`` table with the original
    lookup name (if any), feature name / script / language combination (if any),
    and original source filename and line location. Annotate the ttx output for
    a lookup with the information from the Debg table (#2052).
  - [sfnt] Disabled checksum checking by default in ``SFNTReader`` (#2058).
  - [Docs] Document ``mtiLib`` module (#2027).
  - [varLib.interpolatable] Added checks for contour node count and operation type
    of each node (#2054).
  - [ttLib] Added API to register custom table packer/unpacker classes (#2055).
  - [feaLib] Allow anonymous classes in LookupFlags definitions (#2037).
  - [Docs] Better document DesignSpace rules processing order (#2041).
  - [ttLib] Fixed 21-year old bug in ``maxp.maxComponentDepth`` calculation (#2044,
    #2045).
  - [varLib.models] Fixed misspelled argument name in CLI entry point (81d0042a).
  - [subset] When subsetting GSUB v1.1, fixed TypeError by checking whether the
    optional FeatureVariations table is present (e63ecc5b).
  - [Snippets] Added snippet to show how to decompose glyphs in a TTF (#2030).
  - [otlLib] Generate GSUB type 5 and GPOS type 7 contextual lookups where appropriate
    (#2016).
  - [feaLib/otlLib] Moved lookup subtable builders from feaLib to otlLib; refactored
    some common code (#2004, #2007).
  - [docs] Document otlLib module (#2009).
  - [glifLib] Fixed bug with some UFO .glif filenames clashing on case-insensitive
    filesystems (#2001, #2002).
  - [colorLib] Updated COLRv1 implementation following changes in the draft spec:
    (#2008, googlefonts/colr-gradients-spec#24).

-------------------------------------------------------------------
Wed Aug 19 08:48:04 UTC 2020 - Marketa Calabkova <mcalabkova@suse.com>

- Switch from brotlipy to Brotli (bsc#1175303)

-------------------------------------------------------------------
Thu Aug 13 06:57:05 UTC 2020 - Marketa Calabkova <mcalabkova@suse.com>

- Update to 4.13.0
  * [feaLib/otlLib] Moved lookup subtable builders from feaLib to otlLib; refactored
    some common code (#2004, #2007).
  * [glifLib] Fixed bug with some UFO .glif filenames clashing on case-insensitive
    filesystems (#2001, #2002).
  * [_n_a_m_e] Fixed error in ``addMultilingualName`` with one-character names.
    Only attempt to recovered malformed UTF  *16 data from a ``bytes`` string,
    not from unicode ``str`` (#1997, #1998).
  * [OS/2] Don't calculate whole sets of unicode codepoints, use faster and more memory
    efficient ranges and bisect lookups (#1984).
  * [voltLib] Support writing back abstract syntax tree as VOLT data (#1983).
  * [voltLib] Accept DO_NOT_TOUCH_CMAP keyword (#1987).
  * [ufoLib] Silently delete duplicate glyphs within the same kerning group when reading
    groups (#1970).
  * [ttLib] Set version of COLR table when decompiling COLRv1 (commit 9d8a7e2).

-------------------------------------------------------------------
Tue May 26 06:34:20 UTC 2020 - Petr Gajdos <pgajdos@suse.com>

- %python3_only -> %python_alternative

-------------------------------------------------------------------
Wed May 20 10:13:15 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Update to 4.10.2:
  * Note: The v4.x version series only supports Python 3.6 or greater.
  * see NEWS.rst for the full changelog

- Use _multibuild to run the tests in a different flavor and make it
  possible to BuildRequire ufoLib2 (which requires FontTools to build)
  without creating a dependency cycle.

- Add curves.json from upstream as a separate source as it's
  missing from the zip file.

-------------------------------------------------------------------
Mon Apr  1 12:14:15 UTC 2019 - pgajdos@suse.com

- version update to 3.39.0
  see NEWS.rst
- deleted patches
  - 349cd94d171cf4e1e7541884df0d12bb6d4e841a.patch (upstreamed)
  - fix-missing-sys.patch (upstreamed)
- run the testsuite
- do not provide extra subpackage for tools
- do not require python-munkres, it is suprefluous when scipy is
  required

-------------------------------------------------------------------
Thu Sep  6 07:22:24 UTC 2018 - Matěj Cepl <mcepl@suse.com>

- Upstream provided fix for the issue with big endian machines. Remove
  fonttools-disable_failing_tests_bigendian.patch and replace with
  349cd94d171cf4e1e7541884df0d12bb6d4e841a.patch
- Upstream fix has a missing import; thus fix-missing-sys.patch

-------------------------------------------------------------------
Tue Sep  4 20:41:54 UTC 2018 - Matěj Cepl <mcepl@suse.com>

- Update to 3.29.0:
    too many changes to enlist here, complete list is on
    https://github.com/fonttools/fonttools/releases

-------------------------------------------------------------------
Thu Mar 15 08:53:18 CET 2018 - tiwai@suse.de

- add fonttools-disable_failing_tests_bigendian.patch
  disable two tests currently failing on bigendian archs 

-------------------------------------------------------------------
Thu Mar  8 16:02:24 UTC 2018 - toddrme2178@gmail.com

- Update to version 3.24.1
  * [varLib] Don’t remap the same DeviceTable twice in VarStore
    optimizer (#1206).
  * [varLib] Add --disable-iup option to fonttools varLib script,
    and a optimize=True keyword argument to varLib.build function,
    to optionally disable IUP optimization while building varfonts.
  * [ttCollection] Fixed issue while decompiling ttc with python3
    (#1207).
- Update to version 3.24.0
  * [ttGlyphPen] Decompose composite glyphs if any components’
    transform is too large to fit a F2Dot14 value, or clamp
    transform values that are (almost) equal to +2.0 to make them
    fit and avoid decomposing (#1200, #1204, #1205).
  * [ttx] Added new -g option to dump glyphs from the glyf table
    splitted as individual ttx files (#153, #1035, #1132, #1202).
  * Copied ufoLib.filenames module to fontTools.misc.filenames,
    used for the ttx split-glyphs option (#1202).
  * [feaLib] Added support for cvParameters blocks in Character
    Variant feautures cv01-cv99 (#860, #1169).
  * [Snippets] Added checksum.py script to generate/check SHA1
    hash of ttx files (#1197).
  * [varLib.mutator] Fixed issue while instantiating some variable
    fonts whereby the horizontal advance width computed from gvar
    phantom points could turn up to be negative (#1198).
  * [varLib/subset] Fixed issue with subsetting GPOS variation
    data not picking up ValueRecord Device objects (54fd71f).
  * [feaLib/voltLib] In all AST elements, the location is no
    longer a required positional argument, but an optional
    kewyord argument (defaults to None). This will make it easier
    to construct feature AST from code (#1201).
- Update to version 3.23.0
  * [designspaceLib] Added an optional lib element to the
    designspace as a whole, as well as to the instance elements,
    to store arbitrary data in a property list dictionary, similar
    to the UFO’s lib. Added an optional font attribute to the
    SourceDescriptor, to allow operating on in-memory font objects
    (#1175).
  * [cffLib] Fixed issue with lazy-loading of attributes when
    attempting to set the CFF TopDict.Encoding (#1177, #1187).
  * [ttx] Fixed regression introduced in 3.22.0 that affected
    the split tables -s option (#1188).
  * [feaLib] Added IncludedFeaNotFound custom exception subclass,
    raised when an included feature file cannot be found (#1186).
  * [otTables] Changed VarIdxMap to use glyph names internally
    instead of glyph indexes. The old ttx dumps of HVAR/VVAR
    tables that contain indexes can still be imported
    (21cbab8, 38a0ffb).
  * [varLib] Implemented VarStore optimizer (#1184).
  * [subset] Implemented pruning of GDEF VarStore, HVAR and
    MVAR (#1179).
  * [sfnt] Restore backward compatiblity with numFonts attribute
    of SFNTReader object (#1181).
  * [merge] Initial support for merging LangSysRecords (#1180).
  * [ttCollection] don’t seek(0) when writing to possibly
    unseekable strems.
  * [subset] Keep all --name-IDs from 0 to 6 by default
    (#1170, #605, #114).
  * [cffLib] Added width module to calculate optimal CFF default
    and nominal glyph widths.
  * [varLib] Don’t fail if STAT already in the master fonts
    (#1166).
- Fix conflict with old single-package version

-------------------------------------------------------------------
Mon Feb 26 17:42:47 UTC 2018 - toddrme2178@gmail.com

- Fix building on tumbleweed

-------------------------------------------------------------------
Tue Feb 20 19:05:53 UTC 2018 - toddrme2178@gmail.com

- Initial version
