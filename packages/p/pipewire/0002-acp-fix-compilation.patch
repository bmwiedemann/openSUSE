From 063805ccb49af859bd06a342ed107e61c9e11af4 Mon Sep 17 00:00:00 2001
From: Wim Taymans <wtaymans@redhat.com>
Date: Mon, 9 Oct 2023 10:15:10 +0200
Subject: [PATCH] acp: fix compilation

---
 spa/plugins/alsa/acp/acp.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/spa/plugins/alsa/acp/acp.c b/spa/plugins/alsa/acp/acp.c
index 127379fc4..1dbc0c2d7 100644
--- a/spa/plugins/alsa/acp/acp.c
+++ b/spa/plugins/alsa/acp/acp.c
@@ -390,7 +390,7 @@ static int add_pro_profile(pa_card *impl, uint32_t index)
 				pa_proplist_setf(m->output_proplist, "device.profile.pro", "true");
 				pa_proplist_setf(m->output_proplist, "node.group", "pro-audio-%u", index);
 				pa_proplist_setf(m->output_proplist, "node.link-group", "pro-audio-%u", index);
-				pa_proplist_set(m->input_proplist, "api.alsa.auto-link", "true");
+				pa_proplist_setf(m->input_proplist, "api.alsa.auto-link", "true");
 				pa_alsa_close(&m->output_pcm);
 				m->supported = true;
 				pa_channel_map_init_auto(&m->channel_map, m->sample_spec.channels, PA_CHANNEL_MAP_AUX);
@@ -424,7 +424,7 @@ static int add_pro_profile(pa_card *impl, uint32_t index)
 				pa_proplist_setf(m->input_proplist, "device.profile.pro", "true");
 				pa_proplist_setf(m->input_proplist, "node.group", "pro-audio-%u", index);
 				pa_proplist_setf(m->input_proplist, "node.link-group", "pro-audio-%u", index);
-				pa_proplist_set(m->input_proplist, "api.alsa.auto-link", "true");
+				pa_proplist_setf(m->input_proplist, "api.alsa.auto-link", "true");
 				pa_alsa_close(&m->input_pcm);
 				m->supported = true;
 				pa_channel_map_init_auto(&m->channel_map, m->sample_spec.channels, PA_CHANNEL_MAP_AUX);
-- 
GitLab

