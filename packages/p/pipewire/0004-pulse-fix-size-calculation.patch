From ba57de9b81cb9841b7183f57f300112458f5ee73 Mon Sep 17 00:00:00 2001
From: Wim Taymans <wtaymans@redhat.com>
Date: Wed, 17 Jun 2020 16:56:40 +0200
Subject: [PATCH] pulse: fix size calculation

---
 pipewire-pulseaudio/src/introspect.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/pipewire-pulseaudio/src/introspect.c b/pipewire-pulseaudio/src/introspect.c
index 5b2a7a1c..f0512ead 100644
--- a/pipewire-pulseaudio/src/introspect.c
+++ b/pipewire-pulseaudio/src/introspect.c
@@ -1245,7 +1245,7 @@ static void card_callback(struct card_data *d)
 	n_profiles = g->card_info.n_profiles;
 
 	i->profiles = alloca(sizeof(pa_card_profile_info) * n_profiles);
-	i->profiles2 = alloca(sizeof(pa_card_profile_info2 *) * n_profiles + 1);
+	i->profiles2 = alloca(sizeof(pa_card_profile_info2 *) * (n_profiles + 1));
 	i->n_profiles = 0;
 
 	pw_log_debug("context %p: info for %d", g->context, g->id);
