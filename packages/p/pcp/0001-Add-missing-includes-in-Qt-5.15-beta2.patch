From 04e083361da6c1f4ca4f58341ab9f2b9a6fdf892 Mon Sep 17 00:00:00 2001
From: Antonio Larrosa <alarrosa@suse.com>
Date: Fri, 27 Mar 2020 13:32:53 +0100
Subject: [PATCH] Add missing includes in Qt 5.15 beta2

Submitted to upstream in https://github.com/performancecopilot/pcp/pull/868

---
 src/libpcp_qwt/src/qwt_compass_rose.cpp     | 1 +
 src/libpcp_qwt/src/qwt_dial_needle.cpp      | 1 +
 src/libpcp_qwt/src/qwt_null_paintdevice.cpp | 1 +
 src/libpcp_qwt/src/qwt_painter.cpp          | 1 +
 src/libpcp_qwt/src/qwt_painter_command.h    | 3 +--
 src/libpcp_qwt/src/qwt_plot_panner.cpp      | 1 +
 src/libpcp_qwt/src/qwt_plot_renderer.cpp    | 1 +
 src/libpcp_qwt/src/qwt_widget_overlay.cpp   | 1 +
 8 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/src/libpcp_qwt/src/qwt_compass_rose.cpp b/src/libpcp_qwt/src/qwt_compass_rose.cpp
index 21a35f2444..d67175940b 100644
--- a/src/libpcp_qwt/src/qwt_compass_rose.cpp
+++ b/src/libpcp_qwt/src/qwt_compass_rose.cpp
@@ -11,6 +11,7 @@
 #include "qwt_point_polar.h"
 #include "qwt_painter.h"
 #include <qpainter.h>
+#include <qpainterpath.h>
 
 static QPointF qwtIntersection( 
     QPointF p11, QPointF p12, QPointF p21, QPointF p22 )
diff --git a/src/libpcp_qwt/src/qwt_dial_needle.cpp b/src/libpcp_qwt/src/qwt_dial_needle.cpp
index 1b53a3d5b3..694f7f2bb5 100644
--- a/src/libpcp_qwt/src/qwt_dial_needle.cpp
+++ b/src/libpcp_qwt/src/qwt_dial_needle.cpp
@@ -13,6 +13,7 @@
 #include "qwt_painter.h"
 #include <qapplication.h>
 #include <qpainter.h>
+#include <qpainterpath.h>
 
 #if QT_VERSION < 0x040601
 #define qFastSin(x) qSin(x)
diff --git a/src/libpcp_qwt/src/qwt_null_paintdevice.cpp b/src/libpcp_qwt/src/qwt_null_paintdevice.cpp
index db1611da25..b9b5dafb65 100644
--- a/src/libpcp_qwt/src/qwt_null_paintdevice.cpp
+++ b/src/libpcp_qwt/src/qwt_null_paintdevice.cpp
@@ -9,6 +9,7 @@
 
 #include "qwt_null_paintdevice.h"
 #include <qpaintengine.h>
+#include <qpainterpath.h>
 #include <qpixmap.h>
 
 class QwtNullPaintDevice::PrivateData
diff --git a/src/libpcp_qwt/src/qwt_painter.cpp b/src/libpcp_qwt/src/qwt_painter.cpp
index 0501298b18..18d8939028 100644
--- a/src/libpcp_qwt/src/qwt_painter.cpp
+++ b/src/libpcp_qwt/src/qwt_painter.cpp
@@ -17,6 +17,7 @@
 #include <qframe.h>
 #include <qrect.h>
 #include <qpainter.h>
+#include <qpainterpath.h>
 #include <qpalette.h>
 #include <qpaintdevice.h>
 #include <qpixmap.h>
diff --git a/src/libpcp_qwt/src/qwt_painter_command.h b/src/libpcp_qwt/src/qwt_painter_command.h
index 2da597a7fa..612a0fb260 100644
--- a/src/libpcp_qwt/src/qwt_painter_command.h
+++ b/src/libpcp_qwt/src/qwt_painter_command.h
@@ -15,8 +15,7 @@
 #include <qpixmap.h>
 #include <qimage.h>
 #include <qpolygon.h>
-
-class QPainterPath;
+#include <qpainterpath.h>
 
 /*!
   QwtPainterCommand represents the attributes of a paint operation
diff --git a/src/libpcp_qwt/src/qwt_plot_panner.cpp b/src/libpcp_qwt/src/qwt_plot_panner.cpp
index 62a75a2fb3..b242acceab 100644
--- a/src/libpcp_qwt/src/qwt_plot_panner.cpp
+++ b/src/libpcp_qwt/src/qwt_plot_panner.cpp
@@ -14,6 +14,7 @@
 #include <qbitmap.h>
 #include <qstyle.h>
 #include <qstyleoption.h>
+#include <qpainterpath.h>
 
 static QBitmap qwtBorderMask( const QWidget *canvas, const QSize &size )
 {
diff --git a/src/libpcp_qwt/src/qwt_plot_renderer.cpp b/src/libpcp_qwt/src/qwt_plot_renderer.cpp
index 3416f98062..33c4c932e6 100644
--- a/src/libpcp_qwt/src/qwt_plot_renderer.cpp
+++ b/src/libpcp_qwt/src/qwt_plot_renderer.cpp
@@ -18,6 +18,7 @@
 #include "qwt_text_label.h"
 #include "qwt_math.h"
 #include <qpainter.h>
+#include <qpainterpath.h>
 #include <qpaintengine.h>
 #include <qtransform.h>
 #include <qprinter.h>
diff --git a/src/libpcp_qwt/src/qwt_widget_overlay.cpp b/src/libpcp_qwt/src/qwt_widget_overlay.cpp
index d2b4220c4d..cdc3d16fef 100644
--- a/src/libpcp_qwt/src/qwt_widget_overlay.cpp
+++ b/src/libpcp_qwt/src/qwt_widget_overlay.cpp
@@ -10,6 +10,7 @@
 #include "qwt_widget_overlay.h"
 #include "qwt_painter.h"
 #include <qpainter.h>
+#include <qpainterpath.h>
 #include <qpaintengine.h>
 #include <qimage.h>
 #include <qevent.h>
