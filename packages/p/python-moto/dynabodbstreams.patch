From 40f241adc212c1c113399534616427d3e2c1d47a Mon Sep 17 00:00:00 2001
From: Steve Pulec <spulec@gmail.com>
Date: Thu, 21 Nov 2019 17:00:18 -0500
Subject: [PATCH] Fix dynamodb required stream parameter for new boto3.

---
 tests/test_dynamodbstreams/test_dynamodbstreams.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/tests/test_dynamodbstreams/test_dynamodbstreams.py b/tests/test_dynamodbstreams/test_dynamodbstreams.py
index 01cf915af..e23302022 100644
--- a/tests/test_dynamodbstreams/test_dynamodbstreams.py
+++ b/tests/test_dynamodbstreams/test_dynamodbstreams.py
@@ -213,7 +213,7 @@ def test_enable_stream_on_table(self):
 
         resp = conn.update_table(
             TableName="test-streams",
-            StreamSpecification={"StreamViewType": "KEYS_ONLY"},
+            StreamSpecification={"StreamViewType": "KEYS_ONLY", "StreamEnabled": True},
         )
         assert "StreamSpecification" in resp["TableDescription"]
         assert resp["TableDescription"]["StreamSpecification"] == {
@@ -226,7 +226,7 @@ def test_enable_stream_on_table(self):
         with assert_raises(conn.exceptions.ResourceInUseException):
             resp = conn.update_table(
                 TableName="test-streams",
-                StreamSpecification={"StreamViewType": "OLD_IMAGES"},
+                StreamSpecification={"StreamViewType": "OLD_IMAGES", "StreamEnabled": True},
             )
 
     def test_stream_with_range_key(self):
@@ -243,7 +243,7 @@ def test_stream_with_range_key(self):
                 {"AttributeName": "color", "AttributeType": "S"},
             ],
             ProvisionedThroughput={"ReadCapacityUnits": 1, "WriteCapacityUnits": 1},
-            StreamSpecification={"StreamViewType": "NEW_IMAGES"},
+            StreamSpecification={"StreamViewType": "NEW_IMAGES", "StreamEnabled": True},
         )
         stream_arn = resp["TableDescription"]["LatestStreamArn"]
 
