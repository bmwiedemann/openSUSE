From 99781ff7e2fd1fb507aed0e3e011f23ea2c805a7 Mon Sep 17 00:00:00 2001
From: Chagui- <apeciro@gmail.com>
Date: Thu, 21 Nov 2019 12:39:17 -0300
Subject: [PATCH] -Fixed problem with for loop

---
 moto/iot/models.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/moto/iot/models.py b/moto/iot/models.py
index b7a613cc3..b60e38ebf 100644
--- a/moto/iot/models.py
+++ b/moto/iot/models.py
@@ -82,8 +82,8 @@ def __init__(
         if parent_group_name:
             self.metadata["parentGroupName"] = parent_group_name
             self.metadata["rootToParentThingGroups"] = [
-                {"groupName": g.thing_group_name, "groupArn": g.arn}
-                for g in thing_groups
+                {"groupName": group.thing_group_name, "groupArn": group_arn}
+                for group_arn, group in thing_groups.items()
             ]
         self.arn = "arn:aws:iot:%s:1:thinggroup/%s" % (
             self.region_name,
