From 916ab26f463be22ef17aaf1b3b4f1531dddc1c8f Mon Sep 17 00:00:00 2001
From: Stanislav Filin <stasfilin@hotmail.com>
Date: Thu, 13 Jul 2023 14:19:31 +0000
Subject: [PATCH 1/6] Change assert self.app.timezone.zone  to assert
 self.app.timezone.key

Signed-off-by: Stanislav Filin <stasfilin@hotmail.com>
---
 t/unit/test_schedulers.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/t/unit/test_schedulers.py b/t/unit/test_schedulers.py
index 161d1e2a..f44d88cb 100644
--- a/t/unit/test_schedulers.py
+++ b/t/unit/test_schedulers.py
@@ -159,7 +159,7 @@ def test_entry_is_due__no_use_tz(self):
         os.environ["TZ"] = "Europe/Berlin"
         if hasattr(time, "tzset"):
             time.tzset()
-        assert self.app.timezone.zone == 'Europe/Berlin'
+        assert self.app.timezone.key == 'Europe/Berlin'
 
         # simulate last_run_at from DB - not TZ aware but localtime
         right_now = datetime.utcnow()
@@ -191,7 +191,7 @@ def test_entry_and_model_last_run_at_with_utc_no_use_tz(self, monkeypatch):
         os.environ["TZ"] = "Europe/Berlin"
         if hasattr(time, "tzset"):
             time.tzset()
-        assert self.app.timezone.zone == 'Europe/Berlin'
+        assert self.app.timezone.key == 'Europe/Berlin'
         # simulate last_run_at from DB - not TZ aware but localtime
         right_now = datetime.utcnow()
         # make sure to use fixed date time
@@ -227,7 +227,7 @@ def test_entry_is_due__celery_timezone_doesnt_match_time_zone(self):
         os.environ["TZ"] = "Europe/Berlin"
         if hasattr(time, "tzset"):
             time.tzset()
-        assert self.app.timezone.zone == 'America/New_York'
+        assert self.app.timezone.key == 'America/New_York'
 
         # simulate last_run_at all none, doing the same thing that
         # _default_now() would do

From b8d7cc2ce634df79a4d81250fc3543c747d3ed25 Mon Sep 17 00:00:00 2001
From: Stanislav Filin <stasfilin@hotmail.com>
Date: Thu, 13 Jul 2023 15:00:51 +0000
Subject: [PATCH 2/6] Add docstring to fix pydocstyle

Signed-off-by: Stanislav Filin <stasfilin@hotmail.com>
---
 django_celery_beat/admin.py | 1 +
 1 file changed, 1 insertion(+)

diff --git a/django_celery_beat/admin.py b/django_celery_beat/admin.py
index 0ba8a12f..f46dea92 100644
--- a/django_celery_beat/admin.py
+++ b/django_celery_beat/admin.py
@@ -264,6 +264,7 @@ class ClockedScheduleAdmin(admin.ModelAdmin):
 
 
 class CrontabScheduleAdmin(admin.ModelAdmin):
+    """Admin class for CrontabSchedule."""
     list_display = ('__str__', 'human_readable')
 
 

From 85a5ceea536be2e97e98aa5d6eb54ad6c8192553 Mon Sep 17 00:00:00 2001
From: Stanislav Filin <stasfilin@hotmail.com>
Date: Thu, 13 Jul 2023 15:17:40 +0000
Subject: [PATCH 3/6] Add blank line (PEP 257)

Signed-off-by: Stanislav Filin <stasfilin@hotmail.com>
---
 django_celery_beat/admin.py | 1 +
 1 file changed, 1 insertion(+)

diff --git a/django_celery_beat/admin.py b/django_celery_beat/admin.py
index f46dea92..add96779 100644
--- a/django_celery_beat/admin.py
+++ b/django_celery_beat/admin.py
@@ -265,6 +265,7 @@ class ClockedScheduleAdmin(admin.ModelAdmin):
 
 class CrontabScheduleAdmin(admin.ModelAdmin):
     """Admin class for CrontabSchedule."""
+
     list_display = ('__str__', 'human_readable')
 
 

From f9435971df6d4576fdcf04f2f78c610ec84f4faa Mon Sep 17 00:00:00 2001
From: Stanislav Filin <stasfilin@hotmail.com>
Date: Sat, 15 Jul 2023 09:36:28 +0000
Subject: [PATCH 4/6] Update docs/conf.py

Signed-off-by: Stanislav Filin <stasfilin@hotmail.com>
---
 docs/conf.py | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/docs/conf.py b/docs/conf.py
index 29e80319..9d6a4fe8 100644
--- a/docs/conf.py
+++ b/docs/conf.py
@@ -38,3 +38,7 @@
         ),
     },
 ))
+
+intersphinx_mapping = globals().get('intersphinx_mapping', {})
+intersphinx_mapping['celery'] = ('https://celery.readthedocs.io/en/main/', None)
+globals().update({'intersphinx_mapping': intersphinx_mapping})
\ No newline at end of file

From 17f79e8f658825ed1b922c30f56637a3a05ed146 Mon Sep 17 00:00:00 2001
From: Stanislav Filin <stasfilin@hotmail.com>
Date: Sat, 15 Jul 2023 09:37:14 +0000
Subject: [PATCH 5/6] Add blank line

Signed-off-by: Stanislav Filin <stasfilin@hotmail.com>
---
 docs/conf.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/conf.py b/docs/conf.py
index 9d6a4fe8..11587f60 100644
--- a/docs/conf.py
+++ b/docs/conf.py
@@ -41,4 +41,4 @@
 
 intersphinx_mapping = globals().get('intersphinx_mapping', {})
 intersphinx_mapping['celery'] = ('https://celery.readthedocs.io/en/main/', None)
-globals().update({'intersphinx_mapping': intersphinx_mapping})
\ No newline at end of file
+globals().update({'intersphinx_mapping': intersphinx_mapping})

From 691c37229ea080de601c1f870749bfc10ff8fac5 Mon Sep 17 00:00:00 2001
From: Stanislav Filin <stasfilin@hotmail.com>
Date: Sat, 15 Jul 2023 09:39:08 +0000
Subject: [PATCH 6/6] Fix docs/conf.py:43:80: E501 line too long (80 > 79
 characters)

Signed-off-by: Stanislav Filin <stasfilin@hotmail.com>
---
 docs/conf.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/docs/conf.py b/docs/conf.py
index 11587f60..2afa72bd 100644
--- a/docs/conf.py
+++ b/docs/conf.py
@@ -40,5 +40,6 @@
 ))
 
 intersphinx_mapping = globals().get('intersphinx_mapping', {})
-intersphinx_mapping['celery'] = ('https://celery.readthedocs.io/en/main/', None)
+intersphinx_mapping['celery'] = (
+    'https://celery.readthedocs.io/en/main/', None)
 globals().update({'intersphinx_mapping': intersphinx_mapping})
