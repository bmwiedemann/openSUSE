--- a/blue/__init__.py
+++ b/blue/__init__.py
@@ -397,9 +397,12 @@ def format_file_in_place(*args, **kws):
 
 
 try:
-    BaseConfigParser = flake8_config.ConfigParser              # flake8 v4
+    BaseConfigParser = flake8_config.configparser.ConfigParser     # flake8 v5
 except AttributeError:
-    BaseConfigParser = flake8_config.MergedConfigParser        # flake8 v3
+    try:
+        BaseConfigParser = flake8_config.ConfigParser              # flake8 v4
+    except AttributeError:
+        BaseConfigParser = flake8_config.MergedConfigParser        # flake8 v3
 
 
 class MergedConfigParser(BaseConfigParser):
--- blue-0.9.1.orig/setup.py
+++ blue-0.9.1/setup.py
@@ -37,7 +37,7 @@ setup(
     packages=['blue'],
     tests_require=['tox'],
     cmdclass={'test': Tox},
-    install_requires=['black==22.1.0', 'flake8>=3.8,<5.0.0'],
+    install_requires=['black==22.1.0', 'flake8>=3.8'],
     project_urls={
         'Documentation': 'https://blue.readthedocs.io/en/latest',
         'Source': 'https://github.com/grantjenks/blue.git',
