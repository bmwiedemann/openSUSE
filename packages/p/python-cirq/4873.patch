From f20efa3f2c0be5497156ff997dcac5b47a4f7462 Mon Sep 17 00:00:00 2001
From: Michael Broughton <mbbrough@google.com>
Date: Sat, 22 Jan 2022 11:58:19 -0800
Subject: [PATCH 1/2] Updated numpy 1.16 -> 1.19.

---
 cirq-core/requirements.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/cirq-core/requirements.txt b/cirq-core/requirements.txt
index 1a53e051051..b8822f4e3b5 100644
--- a/cirq-core/requirements.txt
+++ b/cirq-core/requirements.txt
@@ -6,7 +6,7 @@ dataclasses; python_version < '3.7'
 duet~=0.2.0
 matplotlib~=3.0
 networkx~=2.4
-numpy~=1.16
+numpy~=1.19
 pandas
 sortedcontainers~=2.0
 scipy

From 8f31245d8469adab19a1b8aaf1162193fcbe9f69 Mon Sep 17 00:00:00 2001
From: Michael Broughton <mbbrough@google.com>
Date: Sat, 22 Jan 2022 12:53:47 -0800
Subject: [PATCH 2/2] fix bad usage in pandas.

---
 cirq-core/cirq/experiments/t2_decay_experiment.py | 2 +-
 cirq-core/requirements.txt                        | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/cirq-core/cirq/experiments/t2_decay_experiment.py b/cirq-core/cirq/experiments/t2_decay_experiment.py
index 81568adb411..6c17f74e2aa 100644
--- a/cirq-core/cirq/experiments/t2_decay_experiment.py
+++ b/cirq-core/cirq/experiments/t2_decay_experiment.py
@@ -425,7 +425,7 @@ def plot_bloch_vector(self, ax: Optional[plt.Axes] = None, **plot_kwargs: Any) -
         # by squaring <X> and <Y> expectation values
         bloch_vector = self._expectation_pauli_x ** 2 + self._expectation_pauli_y ** 2
 
-        ax.plot(self._expectation_pauli_x['delay_ns'], bloch_vector, 'r+-', **plot_kwargs)
+        ax.plot(self._expectation_pauli_x['delay_ns'], bloch_vector['value'], 'r+-', **plot_kwargs)
         ax.set_xlabel(r"Delay between initialization and measurement (nanoseconds)")
         ax.set_ylabel('Bloch Vector X-Y Projection Squared')
         ax.set_title('T2 Decay Experiment Data')
diff --git a/cirq-core/requirements.txt b/cirq-core/requirements.txt
index b8822f4e3b5..1a53e051051 100644
--- a/cirq-core/requirements.txt
+++ b/cirq-core/requirements.txt
@@ -6,7 +6,7 @@ dataclasses; python_version < '3.7'
 duet~=0.2.0
 matplotlib~=3.0
 networkx~=2.4
-numpy~=1.19
+numpy~=1.16
 pandas
 sortedcontainers~=2.0
 scipy
