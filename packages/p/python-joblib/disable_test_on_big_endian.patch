From: Michel Normand <normand@linux.vnet.ibm.com>
Subject: disable test on big endian
Date: Fri, 21 Aug 2020 10:35:13 +0200

disable test on big endian

because still open
https://github.com/joblib/joblib/issues/279

Signed-off-by: Michel Normand <normand@linux.vnet.ibm.com>
---
 joblib/test/test_numpy_pickle.py |    7 +++++++
 1 file changed, 7 insertions(+)

Index: joblib-0.16.0/joblib/test/test_numpy_pickle.py
===================================================================
--- joblib-0.16.0.orig/joblib/test/test_numpy_pickle.py
+++ joblib-0.16.0/joblib/test/test_numpy_pickle.py
@@ -2,6 +2,7 @@
 
 import copy
 import os
+import sys
 import random
 import re
 import io
@@ -426,6 +427,12 @@ def _check_pickle(filename, expected_lis
 
 @with_numpy
 def test_joblib_pickle_across_python_versions():
+    # temporarily disable this test on non little-endian machines
+    # because next endianness lines not sufficient.
+    # https://github.com/joblib/joblib/issues/279 still open.
+    if sys.byteorder != 'little':
+        raise SkipTest('Skipping this test on non little-endian machines')
+
     # We need to be specific about dtypes in particular endianness
     # because the pickles can be generated on one architecture and
     # the tests run on another one. See
