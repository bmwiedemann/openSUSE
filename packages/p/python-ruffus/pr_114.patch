From d153b8e349aecccca773819f554f6debc6253133 Mon Sep 17 00:00:00 2001
From: John Vandenberg <jayvdb@gmail.com>
Date: Sat, 14 Sep 2019 18:05:17 +0700
Subject: [PATCH] test: Use sys.executable

---
 ruffus/test/test_drmaa_wrapper_run_job_locally.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/ruffus/test/test_drmaa_wrapper_run_job_locally.py b/ruffus/test/test_drmaa_wrapper_run_job_locally.py
index becd33c..f247d7f 100755
--- a/ruffus/test/test_drmaa_wrapper_run_job_locally.py
+++ b/ruffus/test/test_drmaa_wrapper_run_job_locally.py
@@ -114,14 +114,14 @@ def test_run_job(self):
         environ = {"RUFFUS_HEEHEE": "what?"}
         home_dir = os.path.expanduser("~")
         sys.stderr.write("    Run echoing to screen...\n")
-        stdout, stderr = ruffus.drmaa_wrapper.run_job(cmd_str="python %s/slow_process_for_testing.py" % script_dir,
+        stdout, stderr = ruffus.drmaa_wrapper.run_job(cmd_str="%s %s/slow_process_for_testing.py" % (sys.executable, script_dir),
                                                       job_environment=environ,
                                                       working_directory=home_dir,
                                                       run_locally=True,
                                                       verbose=1,
                                                       local_echo=True)
         sys.stderr.write("    Run silently...\n")
-        stdout, stderr = ruffus.drmaa_wrapper.run_job(cmd_str="python %s/slow_process_for_testing.py" % script_dir,
+        stdout, stderr = ruffus.drmaa_wrapper.run_job(cmd_str="%s %s/slow_process_for_testing.py" % (sys.executable, script_dir),
                                                       job_environment=environ,
                                                       working_directory=home_dir,
                                                       run_locally=True,
