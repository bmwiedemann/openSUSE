From: Benjamin Greiner <code@bnavigator.de>
Date: 2020-07-05 13:43:14 +0200
Subject: ignore test warnings for reproducible builds
References: gh#astropy/astropy#10228
Upstream: discussed on github, but openSUSE specific

Ignore leap-second and dubious year warnings for reproducible builds.

Patching setup.cfg instead of -W option for python/pytest call
because regular expressions do not work for the latter.

--- astropy-4.0.1.post1.orig/setup.cfg	2020-04-02 03:18:04.000000000 +0200
+++ astropy-4.0.1.post1/setup.cfg	2020-07-05 13:43:14.132689750 +0200
@@ -120,6 +120,9 @@
     ignore:PY_SSIZE_T_CLEAN will be required for '#' formats
     ignore:::astropy.tests.plugins.display
     ignore:::astropy.tests.disable_internet
+    ignore:the imp module is deprecated:DeprecationWarning
+    ignore:leap-second file is expired:astropy.utils.iers.iers.IERSStaleWarning
+    ignore:ERFA function.*dubious year:astropy.utils.exceptions.ErfaWarning
 
 [bdist_wininst]
 bitmap = static/wininst_background.bmp
