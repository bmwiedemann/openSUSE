-------------------------------------------------------------------
Wed Nov 30 13:43:36 UTC 2022 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Update to 10.0.0:
  * Add support for FFmpeg 5.0 and 5.1 (:issue:`817`).
  * Drop support for FFmpeg < 4.3.
  * Deprecate CodecContext.time_base for decoders (:issue:`966`).
  * Deprecate VideoStream.framerate and VideoStream.rate (:issue:`1005`).
  * Stop proxying Codec from Stream instances (:issue:`1037`).
  * Add VideoFrame ndarray operations for gbrp formats (:issue:`986`).
  * Add VideoFrame ndarray operations for gbrpf32 formats (:issue:`1028`).
  * Add VideoFrame ndarray operations for nv12 format (:issue:`996`).
  * Fix conversion to numpy array for multi-byte formats (:issue:`981`).
  * Safely iterate over filter pads (:issue:`1000`).
- Drop upstream patch:
  * python-av-ffmpeg5-compatibility.patch

-------------------------------------------------------------------
Mon Aug  8 21:41:40 UTC 2022 - Atri Bhattacharya <badshah400@gmail.com>

- Add python-av-ffmpeg5-compatibility.patch to drop references to
  symbols in ffmpeg4 and dropped from ffmpeg5 to allow building
  against ffmpeg5; patch taken from upstream git commit.

-------------------------------------------------------------------
Mon May  2 21:45:05 UTC 2022 - Ferdinand Thiessen <rpm@fthiessen.de>

- Update to version 9.2.0
  * Add an io_open argument to av.open for multi-file custom I/O.
  * Add support for AV_FRAME_DATA_SEI_UNREGISTERED
  * Ship .pxd files to allow other libraries to cimport av
  * Fix an ImportError when using Python 3.8/3.9
- Update to version 9.1.0
  * Add VideoFrame ndarray operations for rgb48be, rgb48le,
    rgb64be, rgb64le pixel formats.
  * Add VideoFrame ndarray operations for gray16be,
    gray16le pixel formats
  * Make it possible to use av.open() on a pipe
  * Use the "ASS without timings" format when decoding subtitles.
  * Fix crash when closing an output container an encountering an I/O error
  * Fix crash when probing corrupt raw format files
  * Fix crash when manipulating streams with an unknown codec
  * Remove obsolete KEEP_SIDE_DATA and MP4A_LATM flags which are
    gone in FFmpeg 5.0.
  * Deprecate to_bytes() method of Packet, Plane and SideData,
    use bytes(packet) instead.
- Update to version 9.0.2
  * Fix framerate when writing video with FFmpeg 4.4
- Update to version 9.0.0
  * Re-implement AudioResampler with aformat and buffersink
    AudioResampler.resample() now returns a list of frames.
  * Remove deprecated methods: AudioFrame.to_nd_array,
    VideoFrame.to_nd_array and Stream.seek.
  * Fix VideoFrame.to_image with height & width
  * Fix setting Stream time_base
  * Replace deprecated av_init_packet with av_packet_alloc
  * Validate pixel format in VideoCodecContext.pix_fmt setter
  * Fix AudioFrame ndarray conversion endianness
  * Improve time_base support with filters
  * Allow flushing filters by sending None
  * Avoid unnecessary vsnprintf() calls in log_callback()
  * Make Frame.from_ndarray raise ValueError instead of AssertionError.

-------------------------------------------------------------------
Tue Jan 11 03:17:08 UTC 2022 - Steve Kowalik <steven.kowalik@suse.com>

- Update to 8.1.0:
  * Update FFmpeg to 4.3.2 for the binary wheels.
  * Provide binary wheels for Python 3.10 (:issue:`820`).
  * Stop providing binary wheels for end-of-life Python 3.6.
  * Fix args order in Frame.__repr__ (:issue:`749`).
  * Fix documentation to remove unavailable QUIET log level (:issue:`719`).
  * Expose codec_context.codec_tag (:issue:`741`).
  * Add example for encoding with a custom PTS (:issue:`725`).
  * Use av_packet_rescale_ts in Packet._rebase_time() (:issue:`737`).
  * Do not hardcode errno values in test suite (:issue:`729`).
  * Use av_guess_format for output container format (:issue:`691`).
  * Fix setting CodecContext.extradata (:issue:`658`, :issue:`740`).
  * Fix documentation code block indentation (:issue:`783`).
  * Fix link to Conda installation instructions (:issue:`782`).
  * Export AudioStream from av.audio (:issue:`775`).
  * Fix setting CodecContext.extradata (:issue:`801`). 

-------------------------------------------------------------------
Tue Feb 23 18:33:31 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to 8.0.3
  * packaging and formatting (no relevant changes for openSUSE)
- Skip python36 build: With NumPy 1.20, python36-numpy is no
  longer available in Tumbleweed (NEP 29)

-------------------------------------------------------------------
Sat Aug 15 08:35:33 UTC 2020 - John Vandenberg <jayvdb@gmail.com>

- Add missing runtime dependency on numpy
- Require ffmpeg 4.3
- Re-activate test suite, removing nose

-------------------------------------------------------------------
Wed Jun 24 01:24:35 UTC 2020 - Steve Kowalik <steven.kowalik@suse.com>

- Update to 8.0.2:
  * v8.0.2
    + Minor:
      - Enable GnuTLS support in the FFmpeg build used for binary wheels (:issue:`675`).
      - Make binary wheels compatible with Mac OS X 10.9+ (:issue:`662`).
      - Drop Python 2.x buffer protocol code.
      - Remove references to previous repository location.
  * v8.0.1
    + Minor:
      - Enable additional FFmpeg features in the binary wheels.
      - Use os.fsencode for both input and output file names (:issue:`600`).
  * v8.0.0
    + Major:
      - Drop support for Python 2 and Python 3.4.
      - Provide binary wheels for Linux, Mac and Windows.
    + Minor:
      - Remove shims for obsolete FFmpeg versions (:issue:`588`).
      - Add yuvj420p format for :meth:`VideoFrame.from_ndarray` and :meth:`VideoFrame.to_ndarray` (:issue:`583`).
      - Add support for palette formats in :meth:`VideoFrame.from_ndarray` and :meth:`VideoFrame.to_ndarray` (:issue:`601`).
      - Fix Python 3.8 deprecation warning related to abstract base classes (:issue:`616`).
      - Remove ICC profiles from logos (:issue:`622`).
    + Fixes:
      - Avoid infinite timeout in :func:`av.open` (:issue:`589`). 

-------------------------------------------------------------------
Wed May 27 09:36:11 UTC 2020 - Petr Gajdos <pgajdos@suse.com>

- %python3_only -> %python_alternative

-------------------------------------------------------------------
Sat Mar 14 08:45:07 UTC 2020 - Tomáš Chvátal <tchvatal@suse.com>

- Fix build without py2 available

-------------------------------------------------------------------
Mon Feb 24 01:48:27 UTC 2020 - steven.kowalik@suse.com

- Update version to 7.0.1:
  + Major:
    * Drop support for FFmpeg < 4.0. (:issue:`559`)
    * Introduce per-error exceptions, and mirror the builtin exception heirarchy. It is recommended to examine your error handling code, as common FFmpeg errors will result in ValueError baseclasses now. (:issue:`563`)
    * Data stream's encode and decode return empty lists instead of none allowing common API use patterns with data streams.
    * Remove whence parameter from :meth:`InputContainer.seek` as non-time seeking doesn't seem to actually be supported by any FFmpeg formats.
   + Minor:
     * Users can disable the logging system to avoid lockups in sub-interpreters. (:issue:`545`)
     * Filters support audio in general, and a new :meth:`.Graph.add_abuffer`. (:issue:`562`)
     * :func:`av.open` supports timeout parameters. (:issue:`480` and :issue:`316`)
     * Expose :attr:`Stream.base_rate` and :attr:`Stream.guessed_rate`. (:issue:`564`)
     * :meth:`.VideoFrame.reformat` can specify interpolation.
     * Expose many sets of flags.
   + Fixes:
     * Removed deprecated AV_FRAME_DATA_QP_TABLE_* enums. (:issue:`607`)
     * Fix typing in :meth:`.CodecContext.parse` and make it more robust.
     * Fix wrong attribute in ByteSource. (:issue:`340`)
     * Remove exception that would break audio remuxing. (:issue:`537`)
     * Log messages include last FFmpeg error log in more helpful way.
     * Use AVCodecParameters so FFmpeg doesn't complain. (:issue:`222`)

-------------------------------------------------------------------
Thu Jul 25 11:52:20 UTC 2019 - pgajdos@suse.com

- version update to 6.2.0
  * Allow :meth:`av.open` to be used as a context manager.
  * Fix compatibility with PyPy, the full test suite now passes. (:issue:`130`)
  * Add :meth:`.InputContainer.close` method. (:issue:`317`, :issue:`456`)
  * Ensure audio output gets flushes when using a FIFO. (:issue:`511`)
  * Make Python I/O buffer size configurable. (:issue:`512`)
  * Make :class:`.AudioFrame` and :class:`VideoFrame` more garbage-collector
    friendly by breaking a reference cycle. (:issue:`517`)

-------------------------------------------------------------------
Tue Apr 16 10:10:03 UTC 2019 - Tomáš Chvátal <tchvatal@suse.com>

- Fix the spec file to adhere requirements
- Do not use service and fetch files from pypi

-------------------------------------------------------------------
Sun Apr 14 18:55:53 UTC 2019 - Antonio Larrosa <alarrosa@suse.com>

- Moved scratchpad (examples) to share dir

-------------------------------------------------------------------
Thu Mar 21 13:17:54 UTC 2019 - Adrian Schröter <adrian@suse.de>

- initial package of version 6.1.2
