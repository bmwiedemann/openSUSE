-------------------------------------------------------------------
Wed Jan 12 03:39:41 UTC 2022 - Steve Kowalik <steven.kowalik@suse.com>

- Update to 21.12.0b1:
  * Fix determination of f-string expression spans (#2654)
  * Fix bad formatting of error messages about EOF in multi-line statements (#2343)
  * Functions and classes in blocks now have more consistent surrounding spacing (#2472)
  * from __future__ import annotations statement now implies Python 3.7+ (#2690)
  * Fix assignment to environment variables in Jupyter Notebooks (#2642)
  * Point users to using --target-version py310 if we detect 3.10-only syntax (#2668)
  * Fix match statements with open sequence subjects, like match a, b: or match a, *b: (#2639) (#2659)
  * Fix match/case statements that contain match/case soft keywords multiple times, like match re.match() (#2661)
  * Fix case statements with an inline body (#2665)
  * Fix styling of starred expressions inside match subject (#2667)
  * Fix parser error location on invalid syntax in a match statement (#2649)
  * Fix Python 3.10 support on platforms without ProcessPoolExecutor (#2631)
  * Improve parsing performance on code that uses match under --target-version py310 up to ~50% (#2670)
  * Remove dependency on regex (#2644) (#2663)
  * Warn about Python 2 deprecation in more cases by improving Python 2 only syntax detection (#2592)
  * Add experimental PyPy support (#2559)
  * Add partial support for the match statement. As it's experimental, it's only enabled when --target-version py310 is explicitly specified (#2586)
  * Add support for parenthesized with (#2586)
  * Declare support for Python 3.10 for running Black (#2562)
  * Add new --workers parameter (#2514)
  * Fixed feature detection for positional-only arguments in lambdas (#2532)
  * Fixed a Python 3.10 compatibility issue where the loop argument was still being passed even though it has been removed (#2580)
  * Deprecate Python 2 formatting support (#2523)
  * Fix missing modules in self-contained binaries (#2466)
  * Fix missing toml extra used during installation (#2475)
  * Add support for formatting Jupyter Notebook files (#2357)
  * Move from appdirs dependency to platformdirs (#2375)
  * Present a more user-friendly error if .gitignore is invalid (#2414)
  * Pin setuptools-scm build-time dependency version (#2457)
  * Configuration files using TOML features higher than spec v0.5.0 are now supported (#2301)
  * Accept empty stdin (#2346)
  * Provide a more useful error when parsing fails during AST safety checks (#2304)
  * Fix failure caused by fmt: skip and indentation (#2281)
  * Account for += assignment when deciding whether to split string (#2312)
  * Correct max string length calculation when there are string operators (#2292)
  * Fixed option usage when using the --code flag (#2259)
  * Do not call uvloop.install() when Black is used as a library (#2303)
  * Added --required-version option to require a specific version to be running (#2300)
  * Fix incorrect custom breakpoint indices when string group contains fake f-strings (#2311)
  * Fix regression where R prefixes would be lowercased for docstrings (#2285)
  * Fix handling of named escapes (\N{...}) when --experimental-string-processing is used (#2319)
  * Restored compatibility with Click 8.0 on Python 3.6 when LANG=C used (#2227)
  * Add extra uvloop install + import support if in python env (#2258)
  * Fix --experimental-string-processing crash when matching parens are not found (#2283)
  * Make sure to split lines that start with a string operator (#2286)
  * Fix regular expression that black uses to identify f-expressions (#2287)
  * Blackd
  * Add a lower bound for the aiohttp-cors dependency. Only 0.4.0 or higher is supported. (#2231)
  * Refactor src/black/__init__.py into many files (#2206)
  * Set --pyi mode if --stdin-filename ends in .pyi (#2169)
  * Stop detecting target version as Python 3.9+ with pre-PEP-614 decorators that are being called but with no arguments (#2182)
  * Fix crash if the user configuration directory is inaccessible. (#2158)
  * Clarify circumstances in which Black may change the AST (#2159)
  * Fix crash on docstrings ending with "\ ". (#2142)
  * Fix crash when atypical whitespace is cleaned out of dostrings (#2120)
  * Reflect the --skip-magic-trailing-comma and --experimental-string-processing flags in the name of the cache file. Without this fix, changes in these flags would not take effect if the cache had already been populated. (#2131)
  * Fixed a rare but annoying formatting instability created by the combination of optional trailing commas inserted by Black and optional parentheses looking at pre-existing "magic" trailing commas. This fixes issue #1629 and all of its many many duplicates. (#2126)
  * Black now cleans up leading non-breaking spaces in comments (#2092)
  * Black no longer removes all empty lines between non-function code and decorators when formatting typing stubs. Now Black enforces a single empty line. (#1646)
  * Black no longer adds an incorrect space after a parenthesized assignment expression in if/while statements (#1655)
  * Added --skip-magic-trailing-comma / -C to avoid using trailing commas as a reason to split lines (#1824)
  * fixed a crash when PWD=/ on POSIX (#1631)
  * fixed "I/O operation on closed file" when using --diff (#1664)
  * Prevent coloured diff output being interleaved with multiple files (#1673)
  * Added support for PEP 614 relaxed decorator syntax on python 3.9 (#1711)
  * Added parsing support for unparenthesized tuples and yield expressions in annotated assignments (#1835)
  * --diff correctly indicates when a file doesn't end in a newline (#1662)
  * Added --stdin-filename argument to allow stdin to respect --force-exclude rules (#1780)
  * Lines ending with fmt: skip will now be not formatted (#1800)
  * PR #2053: Black no longer relies on typed-ast for Python 3.8 and higher
- Skip python 2 tests unconditionally.

-------------------------------------------------------------------
Sat Dec  5 23:44:07 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Fix Python 3.6 for Leap 15.2 and for the upcoming python36 flavor
  in Tumbleweed: Requires python-dataclasses
  gh#openSUSE/python-rpm-macros#66

-------------------------------------------------------------------
Fri Sep  4 12:19:10 UTC 2020 - John Vandenberg <jayvdb@gmail.com>

- Include change log and docs in package
- Update to v20.8b1
  * Explicitly depend on Click 7.1.2 or newer as `Black` no longer
    works with versions older than 7.0
- from v20.8b0
  * Re-implemented support for explicit trailing commas: now it
    works consistently within any bracket pair, including nested
    structures
  * Reindents docstrings when reindenting code around it
  * Show colored diffs
  * Supports Python 3.8 code, e.g. star expressions in return statements
  * No longer normalizes capital R-string prefixes as those have a
    community-accepted meaning
  * Uses exit code 2 when specified configuration file doesn't exit
  * Works on AWS Lambda
  * Added `--force-exclude` argument
  * Removed deprecated `--py36` option
  * Fixed `--diff` output when EOF is encountered
  * Fixed `# fmt: off` handling around decorators
  * Fixed unstable formatting with some `# type: ignore` comments
  * Fixed invalid removal on organizing brackets followed by indexing
  * Introduced `black-primer`, a CI tool that allows us to run
    regression tests against existing open source users of Black
  * Introduced property-based fuzzing to our test suite based on
    Hypothesis and Hypothersmith
  * Implemented experimental and disabled by default long string
    rewrapping hidden under a `--experimental-string-processing`
    flag while it's being worked on; this is an undocumented and
    unsupported feature
  * Vim plugin prefer virtualenv packages over global packages
 
-------------------------------------------------------------------
Mon Aug 24 21:56:53 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- update URL
- python-aiohttp_cors is now available --> install blackd 
- skip python2 test on big endian platforms gh#psf/black#1109
- drop fix-tests.patch

-------------------------------------------------------------------
Wed May 27 09:36:28 UTC 2020 - Petr Gajdos <pgajdos@suse.com>

- %python3_only -> %python_alternative

-------------------------------------------------------------------
Wed Nov 13 11:25:32 UTC 2019 - Ondřej Súkup <mimi.vx@gmail.com>

- Add missing Requires 

-------------------------------------------------------------------
Mon Nov 11 14:14:38 UTC 2019 - Ondřej Súkup <mimi.vx@gmail.com>

- update to 19.10b0
- add fix-tests.patch to avoid problem during test collection
- dont distribute 'blackd' as missing deps
 * no obvious changelog

-------------------------------------------------------------------
Tue Jun  4 13:53:31 UTC 2019 - Tomáš Chvátal <tchvatal@suse.com>

- Skip randomly failing test (only in OBS)

-------------------------------------------------------------------
Thu Mar 21 15:44:47 UTC 2019 - Tomáš Chvátal <tchvatal@suse.com>

- Update to 19.3b0:
   * No obvious changelog

-------------------------------------------------------------------
Wed Oct  3 12:40:28 UTC 2018 - Ondřej Súkup <mimi.vx@gmail.com>

- update to 18.9b0
 * numeric literals are now formatted by Black
 * numeric literals are normalized to include _ separators on Python 3.6+ code
 * added --skip-numeric-underscore-normalization to disable the above behavior
     and leave numeric underscores as they were in the input
 * code with _ in numeric literals is recognized as Python 3.6+
 * most letters in numeric literals are lowercased (e.g., in 1e10, 0x01)
 * hexadecimal digits are always uppercased (e.g. 0xBADC0DE)
 * added blackd, see its documentation for more info
 * adjacent string literals are now correctly split into multiple lines
 * trailing comma is now added to single imports that don't fit on a line
 * cache is now populated when --check is successful for a file which
     speeds up consecutive checks of properly formatted unmodified files
 * whitespace at the beginning of the file is now removed
 * fixed mangling pweave and Spyder IDE special comments
 * fixed unstable formatting when unpacking big tuples
 * fixed parsing of __future__ imports with renames
 * fixed scope of # fmt: off when directly preceding yield and other nodes
 * fixed formatting of lambda expressions with default arguments
 * fixed async for statements: Black no longer breaks them into separate lines
 * note: the Vim plugin stopped registering ,= as a default chord
    as it turned out to be a bad idea 

-------------------------------------------------------------------
Wed Aug 29 10:31:11 UTC 2018 - tchvatal@suse.com

- Raise minimal py required to be 3.6

-------------------------------------------------------------------
Tue Aug 28 21:27:40 UTC 2018 - jengelh@inai.de

- Replace all the marketing in the description with something
  substantial.

-------------------------------------------------------------------
Mon Aug 27 19:27:43 UTC 2018 - mimi.vx@gmail.com

- disable testsuite for py older than 3.7

-------------------------------------------------------------------
Mon Aug 27 09:08:50 UTC 2018 - tchvatal@suse.com

- Code formatter used by pytest/etc
