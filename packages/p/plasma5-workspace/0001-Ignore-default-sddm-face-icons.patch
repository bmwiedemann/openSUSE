From 846222c0dac6747256fd3d474db174643e84fee0 Mon Sep 17 00:00:00 2001
From: Fabian Vogt <fabian@ritter-vogt.de>
Date: Sat, 1 Oct 2016 19:22:36 +0200
Subject: [PATCH] Ignore default sddm face icons

They are not compatible with the theme
---
 lookandfeel/contents/components/UserList.qml | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

Index: plasma-workspace-5.17.80git.20220531T124808~09e811ca3/lookandfeel/org.kde.breeze/contents/components/UserList.qml
===================================================================
--- plasma-workspace-5.17.80git.20220531T124808~09e811ca3.orig/lookandfeel/org.kde.breeze/contents/components/UserList.qml	2022-05-31 12:48:08.000000000 +0200
+++ plasma-workspace-5.17.80git.20220531T124808~09e811ca3/lookandfeel/org.kde.breeze/contents/components/UserList.qml	2022-05-31 22:01:30.368435010 +0200
@@ -54,7 +54,13 @@
     interactive: count > 1

     delegate: UserDelegate {
-        avatarPath: model.icon || ""
+        avatarPath: {
+            var incompatible = /\/usr\/share\/sddm\/faces\/((root)?)\.face\.icon$/
+            if (!model.icon || incompatible.test(model.icon))
+                return ""
+
+            return model.icon
+        }
         iconSource: model.iconName || "user-identity"
         fontSize: view.fontSize
         needsPassword: model.needsPassword !== undefined ? model.needsPassword : true
