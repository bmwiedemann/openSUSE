From aa7b7b84c59dda419bf2aa7bca601ca415977e37 Mon Sep 17 00:00:00 2001
From: Seppo Yli-Olli <seppo.yliolli@gmail.com>
Date: Wed, 21 Oct 2020 08:38:19 +0300
Subject: [PATCH] Make enabling system ssl disable boring ssl

---
 setup.py | 1 +
 1 file changed, 1 insertion(+)

diff --git a/setup.py b/setup.py
index e23c9acf087..72307598a5b 100644
--- a/setup.py
+++ b/setup.py
@@ -249,6 +249,7 @@ def check_linker_need_libatomic():
                           CORE_C_FILES)
     CORE_C_FILES = filter(lambda x: 'src/boringssl' not in x, CORE_C_FILES)
     SSL_INCLUDE = (os.path.join('/usr', 'include', 'openssl'),)
+    BUILD_WITH_BORING_SSL_ASM = False
 
 if BUILD_WITH_SYSTEM_ZLIB:
     CORE_C_FILES = filter(lambda x: 'third_party/zlib' not in x, CORE_C_FILES)

