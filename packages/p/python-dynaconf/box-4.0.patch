From fa726b66fc4da0765790d8d0ca27866c331ef087 Mon Sep 17 00:00:00 2001
From: Bruno Rocha <rochacbruno@gmail.com>
Date: Thu, 27 Feb 2020 20:03:10 -0300
Subject: [PATCH] Unpinning python-box, removing box_it_up and default_box
 arguments

---
 dynaconf/base.py      |  6 +++---
 setup.py              |  3 +--
 tests/test_dynabox.py |  3 +--
 5 files changed, 14 insertions(+), 16 deletions(-)

diff --git a/dynaconf/base.py b/dynaconf/base.py
index 99b44ba..ccb1368 100644
--- a/dynaconf/base.py
+++ b/dynaconf/base.py
@@ -172,7 +172,7 @@ def __init__(self, settings_module=None, **kwargs):  # pragma: no cover
         self._loaded_envs = []
         self._loaded_files = []
         self._deleted = set()
-        self._store = DynaBox(box_it_up=True)
+        self._store = DynaBox()
         self._env_cache = {}
         self._loaded_by_loaders = {}
         self._loaders = []
@@ -656,7 +656,7 @@ def _dotted_set(self, dotted_key, value, tomlfy=False, **kwargs):
 
         split_keys = dotted_key.split(".")
         existing_data = self.get(split_keys[0], {})
-        new_data = DynaBox(default_box=True)
+        new_data = DynaBox()
 
         tree = new_data
         for k in split_keys[:-1]:
@@ -744,7 +744,7 @@ def set(
                 value = self._merge_before_set(key, existing, value, is_secret)
 
         if isinstance(value, dict):
-            value = DynaBox(value, box_it_up=True)
+            value = DynaBox(value)
 
         setattr(self, key, value)
         self.store[key] = value
diff --git a/setup.py b/setup.py
index 2043a5a..6a2a01b 100644
--- a/setup.py
+++ b/setup.py
@@ -44,7 +44,7 @@ def read(*names, **kwargs):
     include_package_data=True,
     zip_safe=False,
     platforms="any",
-    install_requires=["python-box<4.0.0", "python-dotenv", "toml", "click"],
+    install_requires=["python-box", "python-dotenv", "toml", "click"],
     tests_require=[
         "pytest",
         "pytest-cov",
@@ -84,7 +84,6 @@ def read(*names, **kwargs):
         "Programming Language :: Python",
         "Programming Language :: Python :: 3",
         "Programming Language :: Python :: 3 :: Only",
-        "Programming Language :: Python :: 3.5",
         "Programming Language :: Python :: 3.6",
         "Programming Language :: Python :: 3.7",
         "Topic :: Utilities",
diff --git a/tests/test_dynabox.py b/tests/test_dynabox.py
index 3fbb683..0e4ffab 100644
--- a/tests/test_dynabox.py
+++ b/tests/test_dynabox.py
@@ -12,8 +12,7 @@
                 "token": {"TYPE": 1, "value": 2},
             },
         }
-    },
-    box_it_up=True,
+    }
 )
 
 
