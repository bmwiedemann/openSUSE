-------------------------------------------------------------------
Thu May 18 18:40:12 UTC 2023 - Ben Greiner <code@bnavigator.de>

- Update to 2.15.0
  * Add AsdfProvisionalAPIWarning to warn developers of new
    features that may undergo breaking changes but are likely to be
    included as stable features (without this warning) in a future
    version of ASDF [#1295]
  * Add AsdfDeprecationWarning to AsdfFile.blocks [#1336]
  * Document policy for ASDF release cycle including when support
    for ASDF versions end. Also document dependency support policy.
    [#1323]
  * Update lower pins on numpy (per release policy), packaging, and
    pyyaml to ones that we can successfully build and test against.
    [#1360]
  * Provide more informative filename when failing to open a file
    [#1357]
  * Add new plugin type for custom schema validators. [#1328]
  * Add AsdfDeprecationWarning to asdf.types.CustomType [#1359]
  * Throw more useful error when provided with a path containing an
    extra leading slash [#1356]
  * Add AsdfDeprecationWarning to AsdfInFits. Support for reading
    and writing ASDF in fits files is being moved to stdatamodels.
    [#1337]
  * Add AsdfDeprecationWarning to asdf.resolver [#1362]
  * Add AsdfDeprecationWarning to
    asdf.tests.helpers.assert_extension_correctness [#1388]
  * Add AsdfDeprecationWarning to asdf.type_index [#1403]
  * Add warning to use of asdftool extract and remove-hdu about
    deprecation and impending removal [#1411]
  * Deprecate AsdfFile attributes that use the legacy extension api
    [#1417]
  * Add AsdfDeprecationWarning to asdf.types [#1401]
  * deprecate default_extensions, get_default_resolver and
    get_cached_asdf_extension_list in asdf.extension [#1409]
  * move asdf.types.format_tag to asdf.testing.helpers.format_tag
    [#1433]
  * Deprecate AsdfExtenion, AsdfExtensionList, BuiltinExtension
    [#1429]
  * Add AsdfDeprecationWarning to asdf_extensions entry point
    [#1361]
  * Deprecate asdf.tests.helpers [#1440]
  * respect umask when determining file permissions for written
    files [#1451]
- Release 2.14.4
  * require jsonschema<4.18 [#1487]
- Release 2.14.3
  * Use importlib_metadata for all python versions [#1260]
  * Fix issue #1268, where update could fail to clear memmaps for
    some files [#1269]
  * Bump asdf-transform-schemas version [#1278]
- Release 2.14.2
  * Fix issue #1256, where enum could not be used on tagged
    objects. [#1257]
- Release 2.14.1
  * Fix issue #1239, close memmap with asdf file context [#1241]
- Release 2.14.0
  * Update citation. [#1184]
  * Add search support to ~asdf.AsdfFile.schema_info. [#1187]
  * Add asdf.search.AsdfSearchResult support for
    ~asdf.AsdfFile.schema_info and
    ~asdf.search.AsdfSearchResult.schema_info method. [#1197]
  * Use forc ndarray flag to correctly test for fortran array
    contiguity [#1206]
  * Unpin jsonschema version and fix jsonschema deprecation
    warnings. [#1185]
  * Replace pkg_resources with importlib.metadata. [#1199]
  * Fix default validation for jsonschema 4.10+ [#1203]
  * Add asdf-unit-schemas as a dependency, for backwards
    compatibility. [#1210]
  * Remove stray toplevel packages docker docs and
    compatibility_tests from wheel [#1214]
  * Close files opened during a failed call to asdf.open [#1221]
  * Modify generic_file for fsspec compatibility [#1226]
  * Add fsspec http filesystem support [#1228]
  * Memmap whole file instead of each array [#1230]
  * Fix issue #1232 where array data was duplicated during resaving
    of a fits file [#1234]
- Drop asdf-pr1185+pr1203-fix-jsonschema.patch fixed upstream
- Drop asdf-pr1214-installed-packages.patch fixed upstream

-------------------------------------------------------------------
Thu May 18 16:08:18 UTC 2023 - Dirk Müller <dmueller@suse.com>

- set sle15_python_module_pythons to build with newer python
  stack on SLE15 on SLE15 on SLE15 on SLE15

-------------------------------------------------------------------
Sat Oct 22 10:00:12 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 2.13.0
  * The ASDF Standard is at v1.6.0
  * Add ability to pull information from schema about asdf file
    data, using ~asdf.AsdfFile.schema_info method. [#1167]
- Release 2.12.1
  * Overhaul of the ASDF documentation to make it more consistent
    and readable. [#1142, #1152]
  * Update deprecated instances of abstractproperty to
    abstractmethod [#1148]
  * Move build configuration into pyproject.toml [#1149, #1155]
  * Pin jsonschema to below 4.10.0. [#1171]
- Release 2.12.0
  * Added ability to display title as a comment in using the info()
    functionality. [#1138]
  * Add ability to set asdf-standard version for schema example
    items. [#1143]
- Add asdf-pr1185+pr1203-fix-jsonschema.patch
  * gh#asdf-format/asdf#1185, gh#asdf-format/asdf#1203
- Add asdf-pr1214-installed-packages.patch
  * gh#asdf-format/asdf#1214

-------------------------------------------------------------------
Tue Apr 26 11:36:22 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 2.11.1
  * Update minimum astropy version to 5.0.4. [#1133]
  * Update minimum jsonschema version to 4.0.1. [#1105]
- Collect tests from installed sitelib -- gh#pytest-dev/pytest#9765

-------------------------------------------------------------------
Sun Mar 13 07:57:12 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 2.10.1 
  * Bugfix for circular build dependency for asdf.
  * Fix small bug with handling multiple schema uris per tag.
  * Replace asdf-standard submodule with pypi package. [#1079]
  * Fix deprecation warnings stemming from the release of pytest
    7.0.0.
  * Fix bug in pytest plugin when schemas are not in a directory
    named "schemas".
- Release 2.9
  * The ASDF Standard is at v1.6.0.
  * Fix typo in testing module __init__.py name.
  * Add the capability for classes to expose their contents to
    AsdfFile.info and AsdfFile.search via the __asdf_traverse__
    method.
  * Drop support for Python 3.6.
  * Update setup.py to raise error if "git submodule update --init"
    has not been run.
  * Add ability for tags to correspond to multiple schema_uri, with
    an implied allOf among the schema_uris.
  * Add the URL of the file being parsed to SerializationContext.
  * Add asdf.testing.helpers module with simplified versions of
    test helpers previously available in asdf.tests.helpers.
- Drop patches merged
  * asdf-pr1034-tags.patch
  * asdf-standard-pr289-schema.patch

-------------------------------------------------------------------
Tue Dec 28 18:57:17 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Add patches for working with newer gwcs and asdf-astropy
  * asdf-pr1034-tags.patch
  * asdf-standard-pr289-schema.patch

-------------------------------------------------------------------
Mon Dec 13 18:43:20 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to version 2.8.3
  * Fix array compression for non-native byte order.
  * Fix bug in schema loading when URI is claimed by both legacy
    and new-style extensions.
  * Hide 'name' and 'version' attributes on instances of
    NDArrayType.
  * Fix use of "python" instead of "python3" in compatibility
    tests.
- Unpin pytest<6 -- gh#asdf-format/asdf#1038

-------------------------------------------------------------------
Thu Nov 11 23:33:42 UTC 2021 - Steve Kowalik <steven.kowalik@suse.com>

- Add multibuild to avoid a build loop. 

-------------------------------------------------------------------
Mon Jul 19 16:39:42 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to version 2.8.1
  * Fix bug that corrupts ndarray views when a new block is added
    to an existing file in absence of a block index.
- Release 2.8.0
  * New plugin APIs for block compressors, extensions, and schemas.
  * New global configuration mechanism (asdf.get_config()).
  * Support for the asdf:// URI scheme.
  * Drop support for Python 3.5.
  * Support for ASDF Standard 1.6.0, which is available via the
    version argument to AsdfFile.__init__ but not yet the
    default.
  * Values that match defaults defined in schemas are no longer
    automatically removed from the ASDF tree.
  * None values are no longer removed from the tree on write.
  * Remove the asdf.test method and asdf.__githash__ attribute.
  * And more, see CHANGES.rst for details.
- Update build and runtime requirements

-------------------------------------------------------------------
Sat Apr 17 14:21:09 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to version 2.7.3
  * Fix bug resulting in invalid strides values for views over FITS
    arrays.
  * Add pytest plugin options to skip and xfail individual tests
    and xfail the unsupported ndarray-1.0.0 schema example.

-------------------------------------------------------------------
Thu Feb 11 10:18:50 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to version 2.7.2 
  * Fix bug causing test collection failures under Python 3.9.
  * Fix bug when decompressing arrays with numpy 1.20.
  * Replace assert statements with raise at the behest
    of the bandit security linter.

-------------------------------------------------------------------
Tue Dec  8 22:37:37 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Fix pytest collection error by importing from source dir 
- Fix rpmlint shebang errors

-------------------------------------------------------------------
Mon Sep 14 18:11:01 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to version 2.7.1 
  * Fix bug preventing access to copied array data after 
    AsdfFile is closed. [#869]
- Changelog for 2.7.0
  * Fix bug preventing diff of files containing 
    ndarray-1.0.0 objects in simplified form. [#786]
  * Fix bug causing duplicate elements to appear when 
    calling copy.deepcopy on a TaggedList. [#788]
  * Improve validator performance by skipping unnecessary 
    step of copying schema objects. [#784]
  * Fix bug with auto_inline option where inline blocks are 
    not converted to internal when they exceed the threshold. 
    [#802]
  * Fix misinterpretation of byte order of blocks stored in 
    FITS files. [#810]
  * Improve read performance by skipping unnecessary 
    rebuild of tagged tree. [#787]
  * Add option to asdf.open and fits_embed.AsdfInFits.open 
    that disables validation on read. [#792]
  * Fix bugs and code style found by adding F and W flake8 
    checks. [#797]
  * Eliminate warnings in pytest plugin by using 
    from_parent when available. [#799]
  * Prevent validation of empty tree when AsdfFile is 
    initialized. [#794]
  * All warnings now subclass asdf.exceptions.AsdfWarning. 
    [#804]
  * Improve warning message when falling back to an older 
    schema, and note that fallback behavior will be removed 
    in 3.0. [#806]
  * Drop support for jsonschema 2.x. [#807]
  * Stop traversing oneOf and anyOf combiners when filling 
    or removing default values. [#811]
  * Fix bug in version map caching that caused incompatible 
    tags to be written under ASDF Standard 1.0.0. [#821]
  * Fix bug that corrupted ndarrays when the underlying 
    block array was converted to C order on write. [#827]
  * Fix bug that produced unreadable ASDF files when an 
    ndarray in the tree was both offset and broadcasted. 
    [#827]
  * Fix bug preventing validation of default values in 
    schema.check_schema. [#785]
  *  Add option to disable validation of schema default 
    values in the pytest plugin. [#831]
  * Prevent errors when extension metadata contains 
    additional properties. [#832]

-------------------------------------------------------------------
Tue Jul  7 11:06:32 UTC 2020 - Marketa Calabkova <mcalabkova@suse.com>

- Update to 2.6.0
  * AsdfDeprecationWarning now subclasses DeprecationWarning. [#710]
  * Resolve external references in custom schemas, and deprecate
    asdf.schema.load_custom_schema.  [#738]
  * Add ``asdf.info`` for displaying a summary of a tree, and
    ``AsdfFile.search`` for searching a tree. [#736]
  * Add pytest plugin option to skip warning when a tag is
    unrecognized. [#771]
  * Fix generic_io ``read_blocks()`` reading past the requested size [#773]
  * Add support for ASDF Standard 1.5.0, which includes several new
    transform schemas. [#776]
  * Enable validation and serialization of previously unhandled numpy
    scalar types. [#778]
  * Fix handling of trees containing implicit internal references and
    reference cycles.  Eliminate need to call ``yamlutil.custom_tree_to_tagged_tree``
    and ``yamlutil.tagged_tree_to_custom_tree`` from extension code,
    and allow ``ExtensionType`` subclasses to return generators. [#777]
  * Fix bug preventing history entries when a file was previously
    saved without them. [#779]
  * Update developer overview documentation to describe design of changes
    to handle internal references and reference cycles. [#781]

-------------------------------------------------------------------
Wed May 27 09:36:04 UTC 2020 - Petr Gajdos <pgajdos@suse.com>

- %python3_only -> %python_alternative

-------------------------------------------------------------------
Mon Apr  6 09:46:30 UTC 2020 - Tomáš Chvátal <tchvatal@suse.com>

- Update to 2.5.2:
  * Add schemas that were previously missing from ASDF Standard 1.4.0,
    and fix a variety of minor issues in AsdfType subclasses.
  * Add general and versioning-specific developer documentation.

-------------------------------------------------------------------
Thu Jan 30 14:36:45 UTC 2020 - Todd R <toddrme2178@gmail.com>

- Update to 2.5.1
  * Fix bug in test causing failure when test suite is run against
    an installed asdf package.
- Update to 2.5.0
  * Added asdf-standard 1.4.0 to the list of supported versions.
  * Fix load_schema LRU cache memory usage issue
  * Add convenience method for fetching the default resolver
  * ``SpecItem`` and ``Spec`` were deprecated  in ``semantic_version``
    and were replaced with ``SimpleSpec``.
  * Pinned the minimum required ``semantic_version`` to 2.8.
  * Fix bug causing segfault after update of a memory-mapped file.
- Drop upstream-included allow_recent_semantic_version.patch

-------------------------------------------------------------------
Fri Nov 22 15:12:48 UTC 2019 - Todd R <toddrme2178@gmail.com>

- Update to 2.4.2
  * Limit the version of semantic_version to <=2.6.0 to work around a Deprecation warning.
- Update to 2.4.1
  * Define the ``in`` operator for top-level ``AsdfFile`` objects.
  * Overhaul packaging infrastructure. Remove use of ``astropy_helpers``.
  * Automatically register schema tester plugin. Do not enable schema tests by
    default. Add configuration setting and command line option to enable schema
    tests.
  * Enable handling of subclasses of known custom types by using decorators for
    convenience.
  * Add support for jsonschema 3.x.
- Add allow_recent_semantic_version.patch to provide support for
  the version of python-semantic_version we have.
  From: https://github.com/spacetelescope/asdf/pull/715
  See: https://github.com/spacetelescope/asdf/issues/702

-------------------------------------------------------------------
Tue Aug  6 14:12:12 UTC 2019 - Todd R <toddrme2178@gmail.com>

- Does not support jsonschema 3 (this will be fixed in version 2.4).

-------------------------------------------------------------------
Fri Jul 26 18:02:11 UTC 2019 - Todd R <toddrme2178@gmail.com>

- Initial version
