diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/common.py magic-wormhole-0.12.0/src/wormhole/test/common.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/common.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/common.py	2022-05-17 17:37:10.917744728 +0200
@@ -4,7 +4,7 @@ from twisted.application import internet
 from twisted.internet import defer, endpoints, reactor, task
 from twisted.python import log
 
-import mock
+from unittest import mock
 from wormhole_mailbox_server.database import create_channel_db, create_usage_db
 from wormhole_mailbox_server.server import make_server
 from wormhole_mailbox_server.web import make_web_server
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/common.py magic-wormhole-0.12.0/src/wormhole/test/dilate/common.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/common.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/common.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,5 +1,5 @@
 from __future__ import print_function, unicode_literals
-import mock
+from unittest import mock
 from zope.interface import alsoProvides
 from ..._interfaces import IDilationManager, IWormhole
 
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_connection.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_connection.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_connection.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_connection.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,5 +1,5 @@
 from __future__ import print_function, unicode_literals
-import mock
+from unittest import mock
 from zope.interface import alsoProvides
 from twisted.trial import unittest
 from twisted.internet.task import Clock
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_connector.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_connector.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_connector.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_connector.py	2022-05-17 17:37:10.921744754 +0200
@@ -1,6 +1,6 @@
 from __future__ import print_function, unicode_literals
 
-import mock
+from unittest import mock
 from zope.interface import alsoProvides
 from twisted.trial import unittest
 from twisted.internet.task import Clock
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_connect.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_connect.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_connect.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_connect.py	2022-05-17 17:37:10.921744754 +0200
@@ -1,5 +1,5 @@
 import re
-import mock
+from unittest import mock
 from twisted.internet import reactor
 from twisted.trial import unittest
 from twisted.internet.task import Cooperator
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_endpoints.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_endpoints.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_endpoints.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_endpoints.py	2022-05-17 17:37:10.921744754 +0200
@@ -1,5 +1,5 @@
 from __future__ import print_function, unicode_literals
-import mock
+from unittest import mock
 from zope.interface import alsoProvides
 from twisted.trial import unittest
 from twisted.internet.task import Clock
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_framer.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_framer.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_framer.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_framer.py	2022-05-17 17:37:10.921744754 +0200
@@ -1,5 +1,5 @@
 from __future__ import print_function, unicode_literals
-import mock
+from unittest import mock
 from zope.interface import alsoProvides
 from twisted.trial import unittest
 from twisted.internet.interfaces import ITransport
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_inbound.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_inbound.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_inbound.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_inbound.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,5 +1,5 @@
 from __future__ import print_function, unicode_literals
-import mock
+from unittest import mock
 from zope.interface import alsoProvides
 from twisted.trial import unittest
 from ..._interfaces import IDilationManager
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_manager.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_manager.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_manager.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_manager.py	2022-05-17 17:37:10.921744754 +0200
@@ -3,7 +3,7 @@ from zope.interface import alsoProvides
 from twisted.trial import unittest
 from twisted.internet.task import Clock, Cooperator
 from twisted.internet.interfaces import IStreamServerEndpoint
-import mock
+from unittest import mock
 from ...eventual import EventualQueue
 from ..._interfaces import ISend, ITerminator, ISubChannel
 from ...util import dict_to_bytes
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_outbound.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_outbound.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_outbound.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_outbound.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,7 +1,7 @@
 from __future__ import print_function, unicode_literals
 from collections import namedtuple
 from itertools import cycle
-import mock
+from unittest import mock
 from zope.interface import alsoProvides
 from twisted.trial import unittest
 from twisted.internet.task import Clock, Cooperator
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_parse.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_parse.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_parse.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_parse.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,5 +1,5 @@
 from __future__ import print_function, unicode_literals
-import mock
+from unittest import mock
 from twisted.trial import unittest
 from ..._dilation.connection import (parse_record, encode_record,
                                      KCM, Ping, Pong, Open, Data, Close, Ack)
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_record.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_record.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_record.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_record.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,5 +1,5 @@
 from __future__ import print_function, unicode_literals
-import mock
+from unittest import mock
 from zope.interface import alsoProvides
 from twisted.trial import unittest
 from ..._dilation._noise import NoiseInvalidMessage
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_subchannel.py magic-wormhole-0.12.0/src/wormhole/test/dilate/test_subchannel.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/dilate/test_subchannel.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/dilate/test_subchannel.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,5 +1,5 @@
 from __future__ import print_function, unicode_literals
-import mock
+from unittest import mock
 from zope.interface import directlyProvides
 from twisted.trial import unittest
 from twisted.internet.interfaces import ITransport, IHalfCloseableProtocol
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_args.py magic-wormhole-0.12.0/src/wormhole/test/test_args.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_args.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_args.py	2022-05-17 17:37:10.917744728 +0200
@@ -3,7 +3,7 @@ import sys
 
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 
 from ..cli.public_relay import RENDEZVOUS_RELAY, TRANSIT_RELAY
 from .common import config
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_cli.py magic-wormhole-0.12.0/src/wormhole/test/test_cli.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_cli.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_cli.py	2022-05-17 17:37:10.921744754 +0200
@@ -19,7 +19,7 @@ from twisted.python import log, procutil
 from twisted.trial import unittest
 from zope.interface import implementer
 
-import mock
+from unittest import mock
 
 from .. import __version__
 from .._interfaces import ITorManager
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_eventual.py magic-wormhole-0.12.0/src/wormhole/test/test_eventual.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_eventual.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_eventual.py	2022-05-17 17:37:10.917744728 +0200
@@ -5,7 +5,7 @@ from twisted.internet.defer import Defer
 from twisted.internet.task import Clock
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 
 from ..eventual import EventualQueue
 
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_hints.py magic-wormhole-0.12.0/src/wormhole/test/test_hints.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_hints.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_hints.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,7 +1,7 @@
 from __future__ import print_function, unicode_literals
 import io
 from collections import namedtuple
-import mock
+from unittest import mock
 from twisted.internet import endpoints, reactor
 from twisted.trial import unittest
 from .._hints import (endpoint_from_hint_obj, parse_hint_argv, parse_tcp_v1_hint,
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_keys.py magic-wormhole-0.12.0/src/wormhole/test/test_keys.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_keys.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_keys.py	2022-05-17 17:37:10.917744728 +0200
@@ -1,6 +1,6 @@
 from __future__ import print_function, unicode_literals
 
-import mock
+from unittest import mock
 
 from twisted.trial import unittest
 
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_machines.py magic-wormhole-0.12.0/src/wormhole/test/test_machines.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_machines.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_machines.py	2022-05-17 17:37:10.921744754 +0200
@@ -7,7 +7,7 @@ from spake2 import SPAKE2_Symmetric
 from twisted.trial import unittest
 from zope.interface import directlyProvides, implementer
 
-import mock
+from unittest import mock
 
 from .. import (__version__, _allocator, _boss, _code, _input, _key, _lister,
                 _mailbox, _nameplate, _order, _receive, _rendezvous, _send,
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_rlcompleter.py magic-wormhole-0.12.0/src/wormhole/test/test_rlcompleter.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_rlcompleter.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_rlcompleter.py	2022-05-17 17:37:10.917744728 +0200
@@ -7,7 +7,7 @@ from twisted.internet.defer import inlin
 from twisted.internet.threads import deferToThread
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 
 from .._rlcompleter import (CodeInputter, _input_code_with_completion,
                             input_with_completion, warn_readline)
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_ssh.py magic-wormhole-0.12.0/src/wormhole/test/test_ssh.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_ssh.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_ssh.py	2022-05-17 17:37:10.917744728 +0200
@@ -3,7 +3,7 @@ import os
 
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 
 from ..cli import cmd_ssh
 
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_tor_manager.py magic-wormhole-0.12.0/src/wormhole/test/test_tor_manager.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_tor_manager.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_tor_manager.py	2022-05-17 17:37:10.917744728 +0200
@@ -6,7 +6,7 @@ from twisted.internet import defer
 from twisted.internet.error import ConnectError
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 
 from .._interfaces import ITorManager
 from ..errors import NoTorError
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_transit.py magic-wormhole-0.12.0/src/wormhole/test/test_transit.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_transit.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_transit.py	2022-05-17 17:37:10.917744728 +0200
@@ -13,7 +13,7 @@ from twisted.python import log
 from twisted.test import proto_helpers
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 from wormhole_transit_relay import transit_server
 
 from .. import transit
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_util.py magic-wormhole-0.12.0/src/wormhole/test/test_util.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_util.py	2022-05-17 17:37:10.901744627 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_util.py	2022-05-17 17:37:10.917744728 +0200
@@ -5,7 +5,7 @@ import unicodedata
 import six
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 
 from .. import util
 
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_wordlist.py magic-wormhole-0.12.0/src/wormhole/test/test_wordlist.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_wordlist.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_wordlist.py	2022-05-17 17:37:10.921744754 +0200
@@ -2,7 +2,7 @@ from __future__ import print_function, u
 
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 
 from .._wordlist import PGPWordList
 
diff -upr magic-wormhole-0.12.0.orig/src/wormhole/test/test_wormhole.py magic-wormhole-0.12.0/src/wormhole/test/test_wormhole.py
--- magic-wormhole-0.12.0.orig/src/wormhole/test/test_wormhole.py	2022-05-17 17:37:10.905744652 +0200
+++ magic-wormhole-0.12.0/src/wormhole/test/test_wormhole.py	2022-05-17 17:37:10.917744728 +0200
@@ -8,7 +8,7 @@ from twisted.internet.defer import gathe
 from twisted.internet.error import ConnectionRefusedError
 from twisted.trial import unittest
 
-import mock
+from unittest import mock
 
 from .. import _rendezvous, wormhole
 from ..errors import (KeyFormatError, LonelyError, NoKeyError,
