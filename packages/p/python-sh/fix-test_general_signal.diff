Index: sh-1.13.1/test.py
===================================================================
--- sh-1.13.1.orig/test.py
+++ sh-1.13.1/test.py
@@ -1449,10 +1449,9 @@ for i in range(5):
         self.assertTrue("4" not in stdout)
 
     def test_general_signal(self):
-        import signal
         from signal import SIGINT
 
-        py = create_tmp_test("""
+        py = create_tmp_test(r"""
 import sys
 import os
 import time
@@ -1478,7 +1477,7 @@ for i in range(5):
                 process.signal(SIGINT)
                 return True
 
-        p = python(py.name, _out=agg, _tee=True)
+        p = python('-u', py.name, _out=agg, _tee=True)
         p.wait()
 
         self.assertEqual(p.process.exit_code, 0)
