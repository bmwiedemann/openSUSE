-------------------------------------------------------------------
Tue Jan  3 16:15:08 UTC 2023 - Daniel Garcia <daniel.garcia@suse.com>

- Disable broken tests because of the new year gh#adobe-type-tools/afdko#1589

-------------------------------------------------------------------
Mon Sep 26 14:09:08 UTC 2022 - Daniel Garcia <daniel.garcia@suse.com>

- Disable more tests that fails for i586, test_dump_option

-------------------------------------------------------------------
Mon Sep 26 13:14:11 UTC 2022 - Daniel Garcia <daniel.garcia@suse.com>

- Avoid test_type1mm_inputs tests because it still fails for i586
  gh#adobe-type-tools/afdko#1163

-------------------------------------------------------------------
Mon Sep 26 11:40:00 UTC 2022 - Daniel Garcia <daniel.garcia@suse.com>

- Update to v3. Update to v3.9.1 
  * [CMake] Link LibXML2 statically for Linux for bug fix (#1527)
  * [makeotf][tx] Fix some linux compile problems with "bool" (#1524)
  * [tx] Replace UFO lib.plist parsing with libxml2 (#1523)
- 3.9.0 (released 2022-06-23)
  * [tx] Replace UFO fontinfo.plist parsing with libxml2 (#1515, #1517, #1518, #1519)
  * [makeotf] Copy va_list for second use (and add va_end's to avoid leaking) (#1512)
  * [requirements] updated dependencies
- 3.8.3 (released 2022-05-09)
  * [requirements] updated dependencies
  * [docs] Add links to previously opened Windows build issues (#1505)
  * [docs] Fix line wrap in feature file spec (#1509)
  * [ci] Enable Codecov informational checks (#1501)
- Add patch to use-system-libxml2.patch to build with system installed libxml2
- Remove some tests that are failing

-------------------------------------------------------------------
Tue Apr 12 09:08:44 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to v3.8.2
  * [tx] Fix Memory Crashes (#1497)
  * [antlr4] ANTLR v4.9.3 Upgrade (#1491)
  * [tx] ignore subr recursion limit (#1484)
  * [tx] Don't parse non-FDArray array of dictionaries in
    fontinfo.plist (#1478)
  * [requirements] updated dependencies
- Drop afdko-pr1478-fixFDarray.patch merged upstream
- Drop skip-tests-failing-on-i586.patch partially fixed in
  gh#adobe-type-tools/afdko#1321, except one test:
  gh#adobe-type-tools/afdko#1163
- No need to clone the Git repo for antlr4 anymore, use zip source
  gh#adobe-type-tools/afdko#1407

-------------------------------------------------------------------
Sun Mar  6 07:45:47 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to v3.8.1
  * [tx] Add safety initialization of pdwCtx structure in pdwNew
    (#1474)
  * [requirements] updated dependencies
  * [python] Drop Python 3.6, add Python 3.10 support (#1456)
  * [tx] Initialize variables in doFile (#1466)
  * [ci] Build universal2 wheel instead of arm64 (thanks
    @miguelsousa!) (#1462)
  * [ci] Add macOS arm64 wheel (thanks @miguelsousa!) (#1461)
  * [c] Fix C-code coverage reporting (thanks @miguelsousa!) (#1460)
  * [tx] Preserve intentional duplicate start points when PFA -> UFO
    (#1452)
  * [tx] Fix unintentional duplicate start points caused by
    floating-value coordinates when PFA -> UFO (#1448)
  * [README] Fix broken relative link in README (#1424)
  * [ttxn] Update ttxn for fontTools 4.27.0 update (#1423 #1418)
  * [otf2ttf] Add throttling to OTF2TTF to avoid hangs on Windows
    with large CPU (thanks @be5invis!) (#1421, #1420)
  * [requirements] updated dependencies
- Release notes for v3.7.1
  * [makeotfexe] Port of Feature File Parser to Antlr 4 (#548,
    #1367)
  * [spec] OpenType Feature File Specification updated to v1.26 with
    the following (here):
    - include directive is "statement-only"
    - with the exception of mark, keywords cannot be used as lookup
      names or tags
    - list of valid characters for tags has been updated
    - tags cannot start with a digit or hyphen
  * [build] Switch to CMake-based builds -- see documentation
    (#1124, #1360, #1384, #1372)
  * [makeinstancesufo] fixes for fontMath 0.8.1 update (#1391)
  * [tx] ufowrite for loop init declaration fix (#1373)
  * [tx] uforead deleting outlines fix (#1370)
  * [tx] Windows line endings in binary files fix (#1361)
  * [makeotf] Fix for makeotf heap use after free (#1356)
  * [tx] uforead, ufowrite, checkoutlinesufo fixes for reading &
    writing CID-keyed fonts (#1353)
  * [tx] t1read.c add error for fonts surpassing 65000 SID Limit
    (#1347)
  * [tx] cffread.c data type fix (#1344)
  * [spec] Spec 6.4.iii: 'markClass' instead of 'mark' in example 4
    (thanks @moyogo!) (#1336)
  * [checkoutlinesufo] Moved list sort out of loop to not waste time
    sorting (#1331)
  * [makeotf] aarch64 precision errors fix (#1329)
  * [tests] Add cpplint check (#1325)
- Add patches:
  * afdko-pr1478-fixFDarray.patch -- gh#adobe-type-tools/afdko#1478
  * afdko-opensuse-custom-build.patch
- Build and use static antlr4 from cloned git repository via
  _service -- gh#adobe-type-tools/afdko#1407

-------------------------------------------------------------------
Mon May  3 12:58:59 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Keep (empty) install section for test flavor in order to provide
  empty debuginfo file in the staging build
  (rpmlint-Factory-strict ?)

-------------------------------------------------------------------
Fri Apr 30 22:59:27 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Add missing specified 'req[extras]' to runtime requirements.
- The runtime requirements are automatically installed in the :test
  multibuild flavor.
- Clean up update-alternatives setup

-------------------------------------------------------------------
Thu Mar 11 05:09:13 UTC 2021 - Steve Kowalik <steven.kowalik@suse.com>

- Update to 3.6.2:
  * [spec] Allow deleting glyphs via Multiple substitution (thanks @simoncozens!) (#1251, #1234, #1294)
  * [makeotfexe] Allow negative internal leading (#1279, #1227)
  * [docs] Clean up README.md (thanks @vladdoster!) (#1280)
  * [cff2vf] Do not assume presence of STAT.AxisValueArray (#1283, #1281)
  * [repo] Re-sync master --> develop (#1285)
  * [spot] re-format documentation (#1287)
  * [checkoutlinesufo] Add ignore-contour-order flag (#1289)
  * [makeinstancesufo] Implement multiprocessing (#1293, #1161)
  * [checkoutlinesufo] Fix restore_contour_order (#1296, #1291)
  * [makeotf] don't fail when converting 'post' table format 3 -> 2 (#1303, #1301)
  * [checkoutlinesufo] Fix logic for reporting duplicated start point (#1318, #1315)
  * [tests, tx] increase precision (float --> double) to fix i586 failing tests (#1321, #1216, #1163)
  * [checkoutlinesufo] Add CID support (#1224)
  * [checkoutlinesufo] Fix nested loop variable (#1231)
  * [tests] Update date regex to skip date & time metrics (#1232)
  * [checkoutlinesufo] Update progress bar (#1243)
  * [checkoutlinesufo] Implement -o (output file) option (#1244)
  * [comparefamily, pdflib] Fix == None comparisons (#1264)
  * [checkoutlinesufo] Remove UFO2-as-UFO3 hack (now up-converts to UFO3) (#1135, #1270)
  * [tx] improve robustness (#1187, #1188)
  * [makeotfexe] support OS/2.sFamilyClass in feature files (#1191, #1192)
  * [docs] correct description of STAT location values (#1190, #1193)
  * [ttfcomponentizer] add warning for empty psnames (#1198, #1199)
  * [buildcff2vf] add STAT validation (#1200)
  * [makeotf] allow anonymous glyphclass in LookupFlags (#1206)
  * [agd] support 5-digit codepoints in AGD file (#1207, #1208)
  * [makeinstancesufo] make designspace attributes lowercase (#1211, #1212)
  * [makeotf] remove hyphen for STAT range definitions (#1197, #1213)
  * [docs] clarify use of python3 and pip3 in README (#1215)
  * [pdflib] fix circle-drawing bug (thanks @bcirc!) (#1218, #1219])
  * [docs] clarify description of glyph name ranges (thanks @PeterCon!) (#1222, #1211)
  * [checkoutlinesufo] add support for CID-keyed fonts (#1224) 

-------------------------------------------------------------------
Fri Feb 12 13:40:53 UTC 2021 - Dirk MÃ¼ller <dmueller@suse.com>

- skip python 36 as python36-scipy is missing 

-------------------------------------------------------------------
Fri Jul 24 06:52:07 UTC 2020 - Steve Kowalik <steven.kowalik@suse.com>

- Update to 3.5.0: 
  * [docs] fix broken links, add new links, fix typos, add templates
  * [tx] many fixes related to uninitialized variables, buffer/stack overflows,
    etc.
  * [makeotf] Drop Multiple Master in OpenType support
  * [checkoutlinesufo] Improve overlap removal
  * [fontsetplot, ttfdecomponentizer] Fix proofing issues
  * [requirements] remove dependency on standalone cu2qu (integrated into
    fontTools 4.7.0)
  * [makeinstancesufo] fix `use-varlib` flag, check for extrapolation/warn when
    using varLib
  * [makeotf] update a misleading comment regarding how CodePageRange bits are
    set
  * [sfntedit, sfntdiff] fix failures with long file/pathnames
  * [tx] don't write FontMatrix in CFF2 FontDict
  * [makeotf, makeotfexe] STAT table updates and improvements
  * [makeotf] Check for PostScript name in FontMenuNameDB
  * [autohint, stemhist] **REMOVED FROM AFDKO** (use psautohint/psstemhist)
  * [makeotfexe] fix stack buffer overflow and use-after-free issues
  * [mergefonts] fix stack buffer overflow issue
  * [spot] fix heap buffer overflow issue
- Update BuildRequires/Requires
- No longer install 2 removed binaries

-------------------------------------------------------------------
Fri Jun 12 13:44:19 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Add patch to skip tests that fail in i586. See
  https://github.com/adobe-type-tools/afdko/issues/1163 :
  * skip-tests-failing-on-i586.patch

-------------------------------------------------------------------
Fri Jun 12 07:36:28 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Use update-alternatives to provide a tx symlink to afdko-tx.
  This works around the issue of having tx binaries different
  packages (python-afdko and transifex-client).

-------------------------------------------------------------------
Thu Jun 11 15:19:15 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Rename %{_bindir}/tx to afdko-tx

-------------------------------------------------------------------
Tue Jun  2 14:04:02 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Update to 3.4.0
  * [makeotf] STAT table support
  * [makeotf] Support multiple chained lookups per position
  * [makeotf] Allow UTF-8 input for name strings
  * [spot] prevent string overflow
  * [spec] Update STAT examples, multiple lookup documentation,
    fix broken links
  * [sfntedit] Use portable rename
  * [absfont, ttread] Initialize variables before use

- Remove patches already included by upstream:
  * 0001-Update-checkoutlinesufo.py-fix-UfoFormatVersion.patch
  * 0002-tests-update-GSUBVar.ttx.patch
  * initialize-variables.patch

-------------------------------------------------------------------
Mon May 25 15:50:30 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Add patch from upstream to fix test_rvrn_vf from failing:
  (gh#adobe-type-tools/afdko#1142)
  * 0002-tests-update-GSUBVar.ttx.patch

-------------------------------------------------------------------
Fri May 22 17:26:06 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Add patch from upstream to fix UFOFormatVersion errors:
  * 0001-Update-checkoutlinesufo.py-fix-UfoFormatVersion.patch

-------------------------------------------------------------------
Fri May 22 09:30:34 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Add patch to initialize variables (gh#adobe-type-tools/afdko#1141)
  * initialize-variables.patch

-------------------------------------------------------------------
Mon Apr 27 10:46:37 UTC 2020 - Antonio Larrosa <alarrosa@suse.com>

- Initial release of python-afdko 3.3.0 (also known as adobe-afdko)
