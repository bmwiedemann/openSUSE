-------------------------------------------------------------------
Sat Sep 14 11:34:41 UTC 2019 - John Vandenberg <jayvdb@gmail.com>

- Add %ifpython2/3 to allow building only one flavour

-------------------------------------------------------------------
Tue Jul 23 17:06:57 UTC 2019 - Todd R <toddrme2178@gmail.com>

- Update to version 3.1.5
  + Fixed
    * a new small rendering glitch. When using an image with
      mask=None and interpolate=False the opacity of the image was
      reduced at the edges of the stimulus
- Update to version 3.1.4
  + Fixed
    * further fix to Mic for experiments created under the previous
      version (our last fix only solved the problem for new Mic
      Components being inserted)
    * fixed demo timeByFrames which was set to use Qt4 for plotting
      instead of Qt5 (which has been the default version provided
      since the switch to Python3)
    * fixed crash in the new Keyboard class caused by psychtoolbox
      lib incorrectly converting unicode characters in the device
      name that needed repackaging
    * error with Variable Component trying to save start/stop
      times (that might not exist for that variable)
    * some data could get orphaned (and not saved) by being
      collected in the outer section of a nested loop
    * when using Mouse.getPos() with retina display and
    win.units=='pix' the mouse pos was double the expected
    value
- Update to version 3.1.3
  + Fixed
    * StairHandler code from Builder was failing in 3.1 due to
      new tStartRefresh
    * data being sent to wrong method (addData not addOtherData)
    * Routines in online studies that weren't included in
      (or before) a loop were
      not having their data saved
    * Fix to audio capture error "bad argument at position 0"
      from Builder experiments
    * PsychoPy app didn't recognise projects that were pointing
      to gitlab ssh targets (e.g. created in terminal) 
- Update to version 3.1.2
  + Fixed
    * teething problems with new Keyboard class:
      > in Builder there was stuttering of sounds and lags in frame
        timing caused by accidentally creating lots of Kyeboards
        while checking for 'escape'
      > durations were being reported with correct magnitude but
        as negative values
      > problem on Windows if keyboard device name contained unicode
        (that problem was actually in psychtoolbox package, now
        updated in Standalone)
      > on Windows, the 'return' key was being called 'num_enter'
    * videos were not running online commit:9779579b6
    * fixed rounding error in filtering of NoiseStim
    * iohub waitKeys should act like getKeys if maxWait<=0
    * error if unicode items in the new Form class
  + Added
    * videos in Builder now have a Loop playback parameter
    * Standalone distributions now include tobii-research package
- Update to version 3.1.1
  + Fixed
    * The new Keyboard class wasn't clearing all events when
      requested (e.g. at the beginning of stimulus onset)
    * Microphone on windows failed if user didn't manually set pyo
      to be preferred lib. That isn't now needed
    * pyo lib is now provided in the 64 bit Python3 Standalone (win)
    * Parallel port lib in the Windows 32-bit version wasn't
      working (installed a new dll)
    * OpenCV in Mac Standalone wasn't working (updated to be a
      package not a single file)
    * Sounds with variable duration didn't stop properly
    * Fix to JS output when useVersion was set to something
    * Cedrus XID lib is now working on Python3 (although their
      official one is yet to come)
  + Added
    * Added the loop playback parameter to Movie Components
- Update to version 3.1.0
  + Highlights:
    * Adds the new Keyboard class
    * Improved ioHub and eyetracker compatibility for Python3
      (although this is still very much in a beta state)
- Update to version 3.0.7
  + Fixed
    * local project repeatedly asking to Create New Pavlovia
      project when one already exists
    * Fixed "No module named 'PyQt4'" on MacOS<10.10 caused by
      PyQt dropping support for Mac10.9 in PyQt5.9
    * don't allow movie->online to use units 'from experiment
      settings'
    * Py3 string/byte fixes for CRS ColorCal
    * various fixes to Japanese translations

-------------------------------------------------------------------
Tue Mar 19 17:04:07 UTC 2019 - Todd R <toddrme2178@gmail.com>

- Update to Psychopy 3.0.6
  + Fixed
    * TrialHandler.next() was accidentally removed by Python3 conversion and now added back in commit:c44621ab0
    * various fixes to iohub Python3 compatibility (especially for datastore)
    * permit reading "xlsm" files as conditions files (Excel files with macros although these will be ignored by Python) commit:9e11bfd61
    * added space key to the GlobalEventKeys #2310
    * fix to pasting into Code Component with windows EOLs
    * fixes to Japanese translation (and bug around saving Static Components in Japanese locale)
    * packaging: PyQt package inside one of the Standalone distros was broken
- Fix python3 version requires
- Remove upstream-included fix_async_and_gevent.patch

-------------------------------------------------------------------
Tue Mar  5 15:26:48 UTC 2019 - Todd R <toddrme2178@gmail.com>

- Update to Psychopy 3.0.5
  + Fixed
    * sounddevice backend not importing on systems that don't have readline
    * fix paste when using legacy macOS end-of-lines (convert them to '\n' always)
  + CHANGED
    * better automated Pavlovia logging-in for users
    * faster auto-logging for changes involving numpy arrays (e.g. elexment arrays XYs)
    * updated Japanese translations
- Update to PsychoPy 3.0.4
  + FIXED:
    * fixes to prevent stalled "Synchronizing..." message by preventing behaviours that would cause it 
    * workaround to stop `sounddevice` backend from silencing `input()` 
    * prevent JS experiments being compiled with units of "use prefs" 
    * cleaner ioHub shutdown  and datastore 
    * Slider in JS allows forceEndRoutine 
    * better error reporting when compiling scripts 
    * don't crash the app if no internet 
    * don't crash if scipy.optimize doesn't load 
    * set Slider label height to match tick height by default 
    * online sounds were never ending if duration was blank (now ends at end of file) 
    * problem converting EOLs between different formats when pasting code
  + ADDED:
    * New Builder Pavlovia button to examine properties of current project
    * Added star to ShapeStim (currently only in Python) 
    * Added tooltips for Pavlovia buttons
- Update to PsychoPy 3.0.3
  + CHANGED
    * Slight change to creation of *new* experiments, which will now default to`
      the units of 'height' rather than 'use preferences' (which led to potential confusion
      when the experiment moved to a different computer)
  + FIXED:
    * Force End Routine wasn't working with Slider when online 
    * Fix to the online error about units: if an experiment is given units of "use preferences"
      this will switch to height during HTML export 
    * First push of a new project to Pavlovia didn't note that remote now exists, so
      tried to "first push" again 
    * fixed detection of correct non-response in JavaScript outputs (so no-go works online) 
    * added workaround for strange clash of `sounddevice` with `input()` 
    * various small fixes to iohub for Py3   
  + ADDED:
    * star available as a Shape in Builder (but not online yet)
    * experiment info dialog now supports drop-downs to constrain options (e.g. ['male','female','other'] )
    * BBTK now supports mode Digital Stimulus Response Echo 
- Update to PsychoPy 3.0.2
  + FIXED:
    * Builder's PsychoJS outputs were not updating their versions (pointing to the version the script was first created in, not the version currently used) 
    * sounddevice under Python2 had a bug with being unable to copy() 
    * now prevent the user from accessing `useVersion` if that version can't be supported by the current install (e.g. incompatible Python version or wx version)
    * Windows Standalone version now includes dependency for pyqmixpumps
- Update to PsychoPy 3.0.1
  + FIXED:
- JS outputs were connecting to outdated PsychoJS version (3.0.0b11 instead of 3.0.0)
    * updated numpy (to 1.15.4) and scipy (to 1.2.0) for windows installs using https://www.lfd.uci.edu/~gohlke/pythonlibs/ in the hope of fixing numpy problems for some windows boxes
    * JS string values in Py27 were being convert to b'theString' in JS outputs which obviously broke JS
  + ADDED:
    * Slider support from JS outputs
  + PsychoPy 3.0.0
  + NEW:
    * supports heavily revamped PsychoJS library:
    * PsychoPy can search, sync and create experiments on Pavlovia.org:
    * Additional new features:
    * Slider class, recommended replacement for RatingScale (more efficient, more
      flexible and simpler to use)
    * support for Oculus Rift (only on Windows 64bit Python 3) all due to Matthew
      Cutone
  + ADDED:
    * support for Oculus Rift (only on Windows 64bit Python 3) all due to Matthew Cutone
    * Japanese translations to many of the new features/controls
  + FIXED:
    * New rating scale (Slider) handles color properly and better handling of button drag
    * 'newRating' Builder demo has been fixed (forceEndRoutine shouldn't have been happening)
    * timeByFrames now renders the graph into the PsychoPy window (was sometimes hanging on mac otherwise)
    * several sync problems with pavlovia.org: 
    * further fix to memory leak in MovieStim3 
    * fix to PsychoJS output code: loops were not being compiled correctly 
    * when compiling to JS we now detect tuples and convert to lists for params (JS only has one sequence, with `[ ]` )
    * some packaging issues on both Windows and Mac (e.g. updates to Pillow=5.2.0, soundfile=0.10.2) also fixes libsndfile error on Mac_Py2 standalone
    * when the localRoot has been set for a project (before sync) we should get back the sync window
    * clicking "runOnline" before creating/syncing your project with Pavlovia now does the right thing
    * fix to MovieStim3 unloading of movies
    * a further issue with the app not starting on some machines (due to the
      first-run wizard)
    * searching pavlovia projects now support stars and forks in sorting
    * Slider forceEndRoutine was having no effect
    * sounddevice problem when playing a mono sound to stereo stream or vice-versa
    * an issue with the app not starting (if git not installed)
- Add fix_async_and_gevent.patch
  python3.7 syntax error + gevent warning
  From: https://github.com/psychopy/psychopy/commit/b96914ffd99222368a2360d754a2185bfa412eaf
  Required for python 3.7 compatibility.  Should be in next release

-------------------------------------------------------------------
Tue Aug 14 16:55:45 UTC 2018 - toddrme2178@gmail.com

- Get lang files working properly.

-------------------------------------------------------------------
Mon Aug  6 22:12:49 UTC 2018 - jengelh@inai.de

- Trim filler wording from description.

-------------------------------------------------------------------
Sun Aug  5 02:26:28 UTC 2018 - toddrme2178@gmail.com

- Update to 1.90.3
  * Fixes event code creation for Black Box ToolKit `#1830 <https://github.com/psychopy/psychopy/issues/1830>`_
  * Removed redundant 'apply' button in preferences `#1832 <https://github.com/psychopy/psychopy/issues/1832>`_
  * Fixes problem with setting gamma with pyglet v1.3+ `#1834 <https://github.com/psychopy/psychopy/issues/1834>`_
  * Removes 'unknown color space' warning if user is using named colors `#1836 <https://github.com/psychopy/psychopy/issues/1836>`_
  * Fixes refcount error, raised when monitor centre was closed `#1838 <https://github.com/psychopy/psychopy/issues/1838>`_
  * For Py3, JSON calibration files are now loaded into monitor list `#1839 <https://github.com/psychopy/psychopy/issues/1839>`_
  * Fixes layout problem with RTL locale causing broken dialogs in the app `#1840 <https://github.com/psychopy/psychopy/issues/1840>`_
  * Anti-buzzing fix applied to sounddevice backend `#1847 <https://github.com/psychopy/psychopy/issues/1847>`_
  * Implements checks for variable name clashes between builder and conditions file  `#1852 <https://github.com/psychopy/psychopy/issues/1852>`_
  * Reduced code redundancy for _getRegionOfFrame, and can get single pixels from front buffer `#1854 <https://github.com/psychopy/psychopy/issues/1854>`_
  * Hex color space can now be specified as a window setting in Experiment Settings `#1857 <https://github.com/psychopy/psychopy/issues/1857>`_
  * Sound duration can now be specified in conditions files `#1858 <https://github.com/psychopy/psychopy/issues/1858>`_

-------------------------------------------------------------------
Wed May 16 16:52:25 UTC 2018 - toddrme2178@gmail.com

- Update to 1.90.2
  * TextStim now working GLFW backend commit:a909c95f
  * better checks for existing ffmpeg before trying to download commit:a909c95f
  * CRS Bits boxes bugs with Python3 commit:ff5a4ab7
  * Fixes to window position for Retina displays commit:e7b111cc commit:0d4538de
  * Fixes to sound component with duration=None commit:9b46ff0c
  * Fix to Hex-specified colors commit:6ffa413a
  * print(RunTimeInfo()) not working due to unicode/str error commit:29de9501
  * sounddevice stereo auto-detection wasn't working for wav files commit:b07f8fb1
- Update to 1.90.1
  + ADDED:
    * Option to move Y position of RatingScale in code #1776
    * Added option of providing extra arguments to scipy.optimize functions when fitting from psychopy.data #1772
  + FIXED:
    * Problem with icon path in GLFW backend on linux commit:bbf515216
    * PUINT didn't exist in older win32 package but was expected by pyglet
    * Better handling of conditions file with empty columns (from Excel adding them or from missing headers)
    * Several fixes to ioHub in Python3 #1770 #1771 and #1775
    * Mouse reporting incorrect position when using Mac Retina display commit:54ced9c26
    * sounddevice was failing to find portaudio.dylib on Mac
- Update to 1.90.0
  * This is the first release to be Python3 compatible
  * Using pip install psychopy now installs all the necessary dependencies (on either Py2 or Py3)
  * Builder: Mouse now allows stimuli to be "clickable" turning them in to buttons!
  * Visual "Noise" stimuli for use in vision studies (thanks Andrew Schofield)
  * Visual "second order" stimuli for use in vision studies (thanks Andrew Schofield)
  * Builder: ShapeStim now handles additional shapes, like Cross (actually only cross right now, but easy to add more custom shapes)
  * Monitor calibration files can now be saved/loaded in JSON format
- Implement single-spec version

-------------------------------------------------------------------
Wed Apr 13 14:47:50 UTC 2016 - toddrme2178@gmail.com

- Recommend python-opencv instead of requiring it.

-------------------------------------------------------------------
Fri Jan  8 14:55:26 UTC 2016 - toddrme2178@gmail.com

- Update to 1.83.03
  * FIXED: problems with the Mac Standalone failing to launch on 
           some OSX versions
  * FIXED: reduced impact of pyglet text memory leaks (make fewer
           updates). (NB There is still a leak in Pyglet’s code
           that we can’t fix)
  * FIXED: several fixes to RatingScale
  * FIXED: window viewScale and viewPos combine correctly;
           viewScale handles negative values, mirror-image flips
           the window correctly (except for Text) #1011
  * FIXED: fixed memory leak in sounds on 64bit Mac installation 
           (error in pyo)
  * FIXED: MovieStim3 was interacting badly with ShapeStim #981
  * FIXED: MovieStim3 was failing if no audio stream was present
           in the file #984
  * FIXED: PsychoPy app now gives a warning message if it can’t
           start due to permissions error #1055
  * FIXED: Faster rendering of MovieStim2 and Moviestim3 due to
           removal of mipmapping code
- Note: 1.83.02 never released officially

-------------------------------------------------------------------
Tue Oct 20 08:20:32 UTC 2015 - toddrme2178@gmail.com

- Update to 1.83.01
  * FIXED: new bug with pygame sounds giving fileName not defined
  * FIXED: several RatingScale bugs; reduce the memory leak
           (due to pyglet as used in TextStim)
  * ADDED: voice-key capability, e.g., for word-naming
           studies; includes a demo, auxillary functions
           (smoothing, zero-crossing, etc), and file-format
           options (all those supported by pyo)
  * CHANGED: remove support for google’s speech to text (the
             new google API is for chrome / chromium developers
             only)
  * CHANGED: deprecate psychopy.web.upload(); use the requests
             package instead: requests.post()
- Update to 1.83.00
  * ADDED: MovieStim3 using an alternative backend that doesn’t
           require avbin, vlc or streamer. It just uses a couple
           of python libs and FFMPEG, which are relatively easy
           to package. Seems to have good performance too but
           this needs more testing
  * IMPROVED: speed to load psychopy.visual (“lazy loading” only
              the stimuli you use are loaded)
  * ADDED: RatingScale precision=60 allows display of time-based
           values (min:sec or hours:min). Values from 
           .getRating() are decimal proportions 
           (1 min: 59 seconds -> 1.9833 minutes).
  * ADDED: Coder view can now be set to read-only mode to prevent
           subjects accidentally altering study #945
  * ADDED: TextStim now has property boundingBox telling you the
           maximum area of the letters (defined by the font,
           not by the actual rendered letters) #35c168f1
  * ADDED: Aperture can now be created using images (anything
           that worked with ImageStim) #923 and can also be
           inverted so that opaque becomes transparent and vice
           versa #922 Thanks Thomas Emerling for both
  * ADDED: New visual stimulus EnvelopeGrating for 
           contrast-modulated gratings. Thanks Andrew Schofield
  * ADDED: option to set mouse_exclusive mode (mouse locked to the
           window boundary and invisible) Thanks Suddha Sourav 
           #898
  * FIXED: DotStim can now change field size on the fly
  * FIXED: several (but probably not all) annoying error messages 
           that were unimportant
  * FIXED: Condition file in Builder no longer abbreviated. 
           Thanks Mike #913

-------------------------------------------------------------------
Tue Aug 18 09:00:40 UTC 2015 - toddrme2178@gmail.com

- Update to 1.82.02
  - FIXED: TrialHandler wasn't saving extraInfo (was overwritten 
           during trials)
  - FIXED: don't have pickle file re-saving itself when it comes 
           back from pickling
  - FIXED: Mouse Component could crash data saving if no response 
           was made
  - FIXED: memory leaks in MovieStim2 (opencv backend)
  - FIXED: checked that window positions are integers
  - FIXED: OSX "10.10" incorrectly looked older than "10.9"
  - FIXED: RatingScale would show "False" for scale description in 
           some cases
  - FIXED: problem with microphone saving files that end with 
           w, a or v
  - FIXED: MonitorCenter failing to create new monitor
  - FIXED: universal line endings in csv outputs files
  - FIXED: unicode in conditions files
  - FIXED: `iohub` not detecting Linux mouse events
  - FIXED: if output file is set to be `stdout` this should then 
           be closed
  - FIXED: don't abbreviate the path name of conditions files
  - FIXED: minor error in logging for `rush()` under win32
  - FIXED: unicode issues in user preferences panel
  - FIXED: MonitorCenter won't lock you out if given an invalid 
           screen number
  - FIXED: mono++ mode in CRS Bits++/#/Display++ is now using full
           dynamic range (previously 8bit blue gun overlay was
           overriding the 16bit screen buffer)

-------------------------------------------------------------------
Thu May 21 15:43:36 UTC 2015 - toddrme2178@gmail.com

- Fix included files

-------------------------------------------------------------------
Mon Mar  2 14:28:01 UTC 2015 - toddrme2178@gmail.com

- Update to 1.82.01
  * FIXED: problem with MovieStim2 showing black box instead of 
           movie on certain systems
  * FIXED: problem with Tobii eye tracker not closing calibration 
           window (Sol)
  * FIXED: better timing for non-slip routines that follow dynamic
           routines (Jeremy) #822
  * FIXED: problem with stimuli (e.g. shapes) not appearing if a
           texture had just been created and not yet drawn
  * FIXED: pygame sound engine complained about “global variable 
           loops not defined”
  * ENHANCED: Filename collision handling for ExperimentHandler 
              (Richard Höchenberger)
  * CHANGED: for text data outputs that give delim=’t’ the file
             extension ‘.tsv’ is added instead of ‘.dlm’ 
             (Richard Höchenberger)
- Update to 1.82.00
  * ADDED: improved support for Cambridge Research Systems 
           Display++ and Bits# devices:
    - Color++ and Mono++ modes now supported using shaders
    - fixed some bugs with search for identityLUT in Display++
  * ADDED: Psi adaptive staircase method (thanks Joseph Glavan 
           for writing this)
  * ADDED: bidi and xlwt packages to the Standalone distribution
  * ADDED: support for Mouse.setPos() under pyglet back end 
           (Jeremy)
  * ADDED: support for PST response box (Richard Höchenberger)
  * ADDED: Builder now supports ‘degFlat and ‘degFlatPos’ units
           and documentation has been added for these
  * ENHANCED: slightly faster rendering of movies for high-rate
              HD stimuli
  * CHANGED: pandas is now a strict requirement for the 
             psychopy.data module
  * FIXED: Builder sounds from file no longer loop indefinitely
  * FIXED: Builder: microphone recordings are explicitly stopped
           at the end of every trial
  * FIXED: Static Components could become hidden by having
           unknown durations and then couldn’t be changed. 
           Now they are always shown even when times are unknown 
           (Jeremy)
  * FIXED: extraInfo was not being saved in wide-text format
  * FIXED: Builder was not respecting order for drawing 
           polygon - it was always drawn first

-------------------------------------------------------------------
Tue Jan 13 12:41:54 UTC 2015 - toddrme2178@gmail.com

- Update to 1.81.03
  * ADDED: Sounds in Builder can now have a duration set by a 
           variable (changing each repeat). The work on this may 
           cause some systems to have a periodic 'tick' in the 
           sound if they last longer than 10s (probably dependent 
           on sound card and driver)
  * IMPROVED: RatingScale will always display a custom description
              ('scale') if provided by the user
  * ADDED: Monitor Center can now calibrate non-primary monitors
  * FIXED: components in Builder can now be 'stopped' at the same 
           time as they are started and never show up (previously at 
           least one frame was always required)
  * FIXED: several issues with Bits++ causing a rendering glitch and
           not being able to calibrate from Monitor Centre
  * FIXED: choice selection boxes stopped working in monitor centre 
           (caused by hardware.crs.bits importing pyglet.gl)
  * FIXED: Bits# can be set to do gamma correction in the PsychoPy 
           LUT ('software') rather than using the on-board gamma table
           file ('hardware')
  * FIXED: bug with monitor calib files not returning their 
           linearization method correctly
  * ADDED: psychopy.qtgui as alternative to gui which doesn't duffer
           from problem with choice boxes and pyglet clashing 
           (thanks Sol)
  * FIXED: data files now correctly include the originPath (the path
           to the script that created them). Thanks Alex Holcombe for 
           the fix
- Update copyright year to 2015

-------------------------------------------------------------------
Thu Nov 20 11:31:44 UTC 2014 - toddrme2178@gmail.com

- Fix building on earlier versions of openSUSE.

-------------------------------------------------------------------
Wed Nov 19 15:39:18 UTC 2014 - toddrme2178@gmail.com

- Initial version

