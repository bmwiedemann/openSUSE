-------------------------------------------------------------------
Mon May  2 09:29:09 UTC 2022 - pgajdos@suse.com

- version update to 6.5.1
  6.5.1 (2022-04-25)
  ==================
  Bug Fixes
  ---------
  - Fix traceback when trying to delete already deleted release or toxresult.
  - Preserve index config settings of plugins during import instead of aborting, even if the plugin isn't installed during import.
  6.5.0 (2022-03-18)
  ==================
  Features
  --------
  - Added ``--no-checksum`` option to ``devpi-fsck`` to skip checksum validation and only check for file existence.
  - Split keyfs cache into a small changelog cache and a relpath cache, this lowers overall memory usage and prevents cache trashing.
  - Lower memory usage by avoiding to read release files into memory and instead use existing file objects.
  - Switch to ``platformdirs`` from ``appdirs``.
  - Add streaming replica protocol, which is faster and uses less memory, especially when rebuilding a replica.
  - Better logging and handling if a thread unexpectedly dies.
  Bug Fixes
  ---------
  - Fix #871: authentication info in ``mirror_url`` wasn't passed on to release links anymore.
  - Open database connection after file was downloaded during replication to avoid conflicts and locking.
  - Avoid hashing data twice when writing to storage.
  - Close HTTP responses and sessions when done to free resources as early as possible instead of waiting for garbage collection.
  6.4.0 (2022-01-24)
  ==================
  Deprecations and Removals
  -------------------------
  - As announced with 6.0.0, support for Python 3.6 has been dropped, because it has reached its end of life.
  Features
  --------
  - When an installer user agent is detected the full list of projects is returned unsorted and with less info to improve performance and reduce memory usage.
  Bug Fixes
  ---------
  - Use ``__slots__`` for some classes to reduce memory usage.
  - Fix exceptions related to logging for some edge cases.
  6.3.1 (2021-12-07)
  ==================
  Bug Fixes
  ---------
  - Fix #864: enable settings from ``~/.netrc`` and ``HTTP_PROXY``/``HTTPS_PROXY`` env vars for aiohttp.
  6.3.0 (2021-11-19)
  ==================
  Features
  --------
  - Use aiohttp (asyncio) for fetching release links from mirrors to return stale links immediately in case of a timeout, but update the database in the background for the next request.
  Bug Fixes
  ---------
  - fix #853: prevent duplicate mirror indexes in sro method when there are multiple inheritance chains to the same mirror
  - fix #860: don't check for existing files and validate them during mirror links update, the operation is way to expensive and there is a low possibility for errors.
  - Add missing `lazy` package dependency. Previously this was only a transitive dependency coming from the devpi-common package.

-------------------------------------------------------------------
Mon Nov  8 11:58:00 UTC 2021 - Dirk Müller <dmueller@suse.com>

- update to 6.2.0:
  * Optimized some database access patterns. A new index is added to the
    database on first startup. For large databases that can take a while.
  * Improved performance of loads from database.
  * Optimized memory and cache use for database access.
  * Use frozenset for project name cache of mirror indexes. This mitigates
    memory fragmentation on some Linux distributions.

-------------------------------------------------------------------
Tue Aug  3 09:11:58 UTC 2021 - Markéta Machová <mmachova@suse.com>

- Update to 6.1.0
  * Proxy requests from replica to master are now streamed if possible.
  * Dropped support for Python 2.7, 3.4 and 3.5. Python 3.x versions 
    will be supported until their EOL.
  * Remove deprecated command line options which were replaced by 
    separate scripts.
  * The user creation and modification time is now stored.
  * add explicit ruamel.yaml dependency declaration after strictyaml 
    vendored it
  * Allow user and index URLs to work with a trailing slash.

-------------------------------------------------------------------
Tue May 26 07:22:39 UTC 2020 - Petr Gajdos <pgajdos@suse.com>

- %python3_only -> %python_alternative

-------------------------------------------------------------------
Thu Apr  2 11:26:56 UTC 2020 - Marketa Calabkova <mcalabkova@suse.com>

- Update to 5.4.1
  * This is the last feature release with Python 2.7 support!
  * Import won't abort anymore when a base index was removed. 
    The bases setting will be imported as is.
  * The ``requires_python`` metadata is now included in version 
    data on mirror indexes.
  * Downloaded files from mirrors can be included in exports with 
    the ``--include-mirrored-files`` option.
  * On import files for mirror indexes are now imported when they 
    were included in the dump (see ``--include-mirrored-files``).
  * Fix ``--no-root-pypi`` option when importing devpi data.
  * Fix pushing from mirror to an index when the file was removed 
    and ``mirror_use_external_urls`` is active.
- Drop Python2 anyway because of pyramid dropping Python2

-------------------------------------------------------------------
Sun Jan 12 00:25:31 CET 2020 - Matej Cepl <mcepl@suse.com>

- Update from 5.1.0 to 5.3.1:
  see
  https://devpi.net/docs/devpi/devpi/stable/+d/changelog.html#devpi-server
  for detailed changelog.
  Many options to devpi (e.g., devpi --export) were replaced by
  the dedicated commands (e.g., devpi-export).

-------------------------------------------------------------------
Tue Sep 17 11:16:44 UTC 2019 - Jan Engelhardt <jengelh@inai.de>

- Ensure neutrality of descriptions.

-------------------------------------------------------------------
Fri Dec 12 19:29:23 UTC 2014 - tbechtold@suse.com

- Initial version
