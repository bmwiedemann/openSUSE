-------------------------------------------------------------------
Wed Dec 14 13:02:26 UTC 2022 - Daniel Garcia <daniel.garcia@suse.com>

- Fix python-tomli requirement, there's no release > 2.0.1 yet.

-------------------------------------------------------------------
Tue Dec 13 21:07:43 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 1.3.1 
  * Fix an issue where an explicit dependency on lockfile was
    missing, resulting in a broken Poetry in rare circumstances
    (7169).
- Catch up with upstream dependencies changed in previous updates

-------------------------------------------------------------------
Tue Dec 13 16:01:04 UTC 2022 - Yogalakshmi Arunachalam <yarunachalam@suse.com>

- Update to 1.3.0 
  Added
  * Mark the lock file with an @generated comment as used by common tooling (#2773).
  * poetry check validates trove classifiers and warns for deprecations (#2881).
  * Introduce a top level -C, --directory option to set the working path (#6810).
  Changed
  * New lock file format (version 2.0) (#6393).
  * Path dependency metadata is unconditionally re-locked (#6843).
  * URL dependency hashes are locked (#7121).
  * poetry update and poetry lock should now resolve dependencies more similarly (#6477).
  * poetry publish will report more useful errors when a file does not exist (#4417).
  * poetry add will check for duplicate entries using canonical names (#6832).
  * Wheels are preferred to source distributions when gathering metadata (#6547).
  * Git dependencies of extras are only fetched if the extra is requested (#6615).
  * Invoke pip with --no-input to prevent hanging without feedback (#6724, #6966).
  * Invoke pip with --isolated to prevent the influence of user configuration (#6531).
  * Interrogate environments with Python in isolated (-I) mode (#6628).
  * Raise an informative error when multiple version constraints overlap and are incompatible (#7098).
  Fixed
  * Fix an issue where concurrent instances of Poetry would corrupt the artifact cache (#6186).
  * Fix an issue where Poetry can hang after being interrupted due to stale locking in cache (#6471).
  * Fix an issue where the output of commands executed with --dry-run contained duplicate entries (#4660).
  * Fix an issue where requestsâ€™s pool size did not match the number of installer workers (#6805).
  * Fix an issue where poetry show --outdated failed with a runtime error related to direct origin dependencies (#6016).
  * Fix an issue where only the last command of an ApplicationPlugin is registered (#6304).
  * Fix an issue where git dependencies were fetched unnecessarily when running poetry lock --no-update (#6131).
  * Fix an issue where stdout was polluted with messages that should go to stderr (#6429).
  * Fix an issue with poetry shell activation and zsh (#5795).
  * Fix an issue where a url dependencies were shown as outdated (#6396).
  * Fix an issue where the source field of a dependency with extras was ignored (#6472).
  * Fix an issue where a package from the wrong source was installed for a multiple-constraints dependency with different sources (#6747).
  * Fix an issue where dependencies from different sources where merged during dependency resolution (#6679).
  * Fix an issue where experimental.system-git-client could not be used via environment variable (#6783).
  * Fix an issue where Poetry fails with an AssertionError due to distribution.files being None (#6788).
  * Fix an issue where poetry env info did not respect virtualenvs.prefer-active-python (#6986).
  * Fix an issue where poetry env list does not list the in-project environment (#6979).
  * Fix an issue where poetry env remove removed the wrong environment (#6195).
  * Fix an issue where the return code of a script was not relayed as exit code (#6824).
  * Fix an issue where the solver could silently swallow ValueError (#6790).
  Docs
  * Improve documentation of package sources (#5605).
  * Correct the default cache path on Windows (#7012). 

-------------------------------------------------------------------
Mon Oct 10 20:02:18 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 1.2.2
  * Add forward compatibility for lock file format 2.0, which will
    be used by Poetry 1.3 (#6608).
  * Allow poetry lock to re-generate the lock file when invalid or
    incompatible (#6753).
  * Fix an issue where the deprecated JSON API was used to query
    PyPI for available versions of a package (#6081).
  * Fix an issue where versions were escaped wrongly when building
    the wheel name (#6476).
  * Fix an issue where the installation of dependencies failed if
    pip is a dependency and is updated in parallel to other
    dependencies (#6582).
  * Fix an issue where the names of extras were not normalized
    according to PEP 685 (#6541).
  * Fix an issue where sdist names were not normalized (#6621).
  * Fix an issue where invalid constraints, which are ignored, were
    only reported in a debug message instead of a warning (#6730).

-------------------------------------------------------------------
Sun Oct  9 12:43:51 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 1.2.1
  * Bump poetry-core to 1.2.0.
  * Bump poetry-plugin-export to ^1.0.7.
- Release 1.2.0
  * https://python-poetry.org/blog/announcing-poetry-1.2.0/
  * Dropping support for Python 2.7, 3.5 and 3.6 as runtimes
  * Dependency groups
  * Plugin support
  * Migration of the poetry export command
  * Support for yanked releases (PEP 592)
  * Support for Direct Origin URL records (PEP 610)
  * Subdirectory support for Git dependencies
  * Single page repository support
  * Synchronizing the environment with the lock file
  * Opting out of binary distributions
  * Native Python git client
  * Detection of the currently active Python (experimental)
  * PEP 508 dependency specification parsing
  * Comprehensive HTTPS certificate support
  * Non-verbose error handling
  * Management of setuptools and pip
  * Keyring backend issues
  * Usefulness of experimental.new-installer false
- Drop patches
  * poetry-1645-1.1.patch
  * poetry-4749-1.1.patch
  * use-new-name-of-MockFixture.patch
- Make multibuild because of circular dependencies with
  python-poetry-plugin-export

-------------------------------------------------------------------
Fri Aug 26 16:23:30 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 1.1.15
  * Poetry now fallback to gather metadata for dependencies via
    pep517 if parsing pyproject.toml fail (#6206)
  * Extras and extras dependencies are now sorted in lock file
    (#6207)

-------------------------------------------------------------------
Fri Jul  8 19:37:47 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 1.1.14
  * Fixed an issue where dependencies hashes could not be retrieved
    when locking due to a breaking change on PyPI JSON API (#5973)

-------------------------------------------------------------------
Fri Mar 18 11:07:48 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Update to 1.1.13
  * Fixed an issue where envs in MSYS2 always reported as broken
    (#4942)
  * Fixed an issue where conda envs in windows are always reported
    as broken(#5008)
  * Fixed an issue where Poetry doesn't find its own venv on poetry
    self update (#5048)
- Refresh use-new-name-of-MockFixture.patch
- Drop poetry-3544-py310.patch

-------------------------------------------------------------------
Fri Dec 17 18:14:36 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Add poetry-3544-py310.patch for compatibility with Python 3.10
  gh#python-poetry/poetry#3544

-------------------------------------------------------------------
Sat Dec  4 21:01:43 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to 1.1.12
  * Fixed broken caches on Windows due to Path starting with a
    slash (#4549)
  * Fixed JSONDecodeError when installing packages by updating
    cachecontrol version (#4831)
  * Fixed dropped markers in dependency walk (#4686)
- Release notes for 1.1.11
  * Fixed errors when installing packages on Python 3.10. (#4592)
  * Fixed an issue where the wrong git executable could be used on
    Windows. (python-poetry/poetry-core#213)
  * Fixed an issue where the Python 3.10 classifier was not
    automatically added. (python-poetry/poetry-core#215)
- Refresh poetry-4749-1.1.patch

-------------------------------------------------------------------
Sat Dec  4 16:18:45 UTC 2021 - lucasiregistraaisiti@protonmail.ch

- Add patch to fix compatibility with packaging >= 21.0:
  * poetry-4749-1.1.patch gh#python-poetry/poetry#4749

-------------------------------------------------------------------
Wed Sep 22 09:42:06 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to 1.1.10
  * Fixed an issue where non-sha256 hashes were not checked.
    (#4529)
- Release 1.1.9
  * Fixed a security issue where file hashes were not checked
    prior to installation. (#4420, #4444, python-poetry/
    poetry-core#193)
  * Fixed the detection of the system environment when the setting
    virtualenvs.create is deactivated. (#4507)
  * Fixed an issue where unsafe parameters could be passed to git
    commands. (python-poetry/poetry-core#203)
  * Fixed an issue where the wrong git executable could be used on
    Windows. (python-poetry/poetry-core#205)
- Release 1.1
  * Fixed an error with repository prioritization when specifying
    secondary repositories. (#4241)
  * Fixed the detection of the system environment when the setting
    virtualenvs.create is deactivated. (#4330, #4407)
  * Fixed the evaluation of relative path dependencies. (#4246)
  * Fixed environment detection for Python 3.10 environments.
    (#4387)
  * Fixed an error in the evaluation of in/not in markers
    (python-poetry/poetry-core#189)
- Release 1.1.7
  * Note: Lock files might need to be regenerated for the first
    fix below to take effect. You can use poetry lock to do so
    without the --no-update option.
  * This release is compatible with the install-poetry.py
    installation script to ease the migration path from 1.1
    releases to 1.2 releases. (#4192)
  * Fixed an issue where transitive dependencies of directory or
    VCS dependencies were not installed or otherwise removed.
    (#4203)
  * Fixed an issue where the combination of the --tree and
    --no-dev options for the show command was still displaying
    development dependencies. (#3992)

-------------------------------------------------------------------
Wed Jun 16 08:53:33 UTC 2021 - Antonio Larrosa <alarrosa@suse.com>

- Add patch to adapt code to pytest-mock > 3.3.1 where MockFixture
  was renamed to MockerFixture:
  * use-new-name-of-MockFixture.patch

-------------------------------------------------------------------
Wed Apr 14 21:36:47 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Release 1.1.6
  * Fixed export format for path dependencies. (#3121)
  * Fixed errors caused by environment modification when executing
    some commands. (#3253)
  * Fixed handling of wheel files with single-digit versions.
    (#3338)
  * Fixed an error when handling single-digit Python markers.
    (poetry-core#156)
  * Fixed dependency markers not being properly copied when
    changing the constraint leading to resolution errors.
    (poetry-core#163)
  * Fixed an error where VCS dependencies were always updated.
    (#3947)
  * Fixed an error where the incorrect version of a package was
    locked when using environment markers. (#3945)
- Release 1.1.5
  * Fixed an error in the export command when no lock file existed
    and a verbose flag was passed to the command. (#3310)
  * Fixed an error where the pyproject.toml was not reverted when
    using the add command. (#3622)
  * Fixed errors when using non-HTTPS indices. (#3622)
  * Fixed errors when handling simple indices redirection. (#3622)
  * Fixed errors when trying to handle newer wheels by using the
    latest version of poetry-core and packaging. (#3677)
  * Fixed an error when using some versions of poetry-core due to
    an incorrect import . (#3696)
- Time to drop simplify-toml.patch instead of refresh -- let
  dephell burn in its own &1

-------------------------------------------------------------------
Tue Oct 27 09:32:31 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to version 1.1.4
  * Added installer.parallel boolean flag (defaults to 
    true) configuration to enable/disable parallel 
    execution of operations when using the new installer. 
    (#3088)
  * When using system environments as an unprivileged user, 
    user site and bin directories are created if they do 
    not already exist. (#3107)
  * Fixed editable installation of poetry projects when 
    using system environments. (#3107)  
  * Fixed locking of nested extra activations. If you were 
    affected by this issue, you will need to regenerate the 
    lock file using poetry lock --no-update. (#3229)
  * Fixed prioritisation of non-default custom package 
    sources. (#3251)
  * Fixed detection of installed editable packages when 
    non-poetry managed .pth file exists. (#3210)
  * Fixed scripts generated by editable builder to use 
    valid import statements. (#3214)
  * Fixed recursion error when locked dependencies contain 
    cyclic dependencies. (#3237)
  * Fixed propagation of editable flag for VCS 
    dependencies. (#3264)
- Refresh poetry-1645-1.1.patch

-------------------------------------------------------------------
Wed Oct 21 09:47:53 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Run tests in virtualenv gh#python-poetry/poetry#1645 
- Add poetry-1645-1.1.patch gh#python-poetry/poetry#3255

-------------------------------------------------------------------
Thu Oct 15 12:15:27 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to version 1.1.3
  * Python version support deprecation warning is now written to
    stderr. (#3131)
  * Fixed KeyError when PATH is not defined in environment
    variables. (#3159)
  * Fixed error when using config command in a directory with an 
    existing pyproject.toml without any Poetry configuration.
    (#3172)
  * Fixed incorrect inspection of package requirements when same
    dependency is specified multiple times with unique markers.
    (#3147)
  * Fixed show command to use already resolved package metadata.
    (#3117)
  * Fixed multiple issues with export command output when using
    requirements.txt format. (#3119) 

-------------------------------------------------------------------
Thu Oct  8 13:29:35 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to version 1.1.2
  * Dependency installation of editable packages and all 
    uninstall operations are now performed serially within 
    their corresponding priority groups. (#3099)
  * Improved package metadata inspection of nested poetry 
    projects within project path dependencies. (#3105)
  * Fixed export of requirements.txt when project 
    dependency contains git dependencies. (#3100)
- Add missing virtualenv and poetry-core runtime requirements
- Install using pip with poetry-core backend
  * drop dephell setup
- Update simplify-toml.patch
  * fix cleo dep in pyproject.toml as poetry checks that during
    runtime

-------------------------------------------------------------------
Mon Oct  5 12:17:17 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to version 1.1.1
  * Added --no-update option to lock command. (#3034)
  * Fixed resolution of packages with missing required extras. 
    (#3035)
  * Fixed export of requirements.txt dependencies to include 
    development dependencies. (#3024)
  * Fixed incorrect selection of unsupported binary distribution 
    formats when selecting a package artifact to install. (#3058)
  * Fixed incorrect use of system executable when building package 
    distributions via build command. (#3056)
  * Fixed errors in init command when specifying --dependency in 
    non-interactive mode when a pyproject.toml file already exists. 
    (#3076)
  * Fixed incorrect selection of configured source url when a 
    publish repository url configuration with the same name already 
    exists. (#3047)
  * Fixed dependency resolution issues when the same package is 
    specified in multiple dependency extras. (#3046)
- More changes for rc, beta and alpha releases see CHANGELOG.md
- Update URL and GitHub repo address
- Update requirements according to pyproject.toml
- Update test suite setup and test deselection 
  * gh#python-poetry/poetry#1645

-------------------------------------------------------------------
Wed Aug  5 12:12:11 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to version 1.0.10
  * The lock files are now versioned to ease transitions for lock
    file format changes, with warnings being displayed on 
    incompatibility detection (#2695).
  * The init and new commands will now provide hints on invalid
    given licenses (#1634).
  * Fixed error messages when the authors specified in the
    pyproject.toml file are invalid (#2525).
  * Fixed empty .venv directories being deleted (#2064).
  * Fixed the shell command for tcsh shells (#2583).
  * Fixed errors when installing directory or file dependencies in
    some cases (#2582).
 
-------------------------------------------------------------------
Wed Jul 29 10:32:43 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- allow keyring >= 20.0.1

-------------------------------------------------------------------
Sun Jul 12 08:45:06 UTC 2020 - John Vandenberg <jayvdb@gmail.com>

- Skip one test that breaks due to clikit 0.6.0+ improving
  error messages

-------------------------------------------------------------------
Sun Jul  5 10:12:56 UTC 2020 - Sebastian Wagner <sebix+novell.com@sebix.at>

- update to version 1.0.9:
 - Fixed:
  - Fixed an issue where packages from custom indices where continuously updated ([#2525](https://github.com/python-poetry/poetry/pull/2525)).
  - Fixed errors in the way Python environment markers were parsed and generated ([#2526](https://github.com/python-poetry/poetry/pull/2526)).
- update to version 1.0.8:
 - Fixed:
  - Fixed a possible error when installing the root package ([#2505](https://github.com/python-poetry/poetry/pull/2505)).
  - Fixed an error where directory and VCS dependencies were not installed ([#2505](https://github.com/python-poetry/poetry/pull/2505)).
- update to version 1.0.7:
 - Fixed:
  - Fixed an error when trying to execute some packages `setup.py` file ([#2349](https://github.com/python-poetry/poetry/pull/2349)).
  - update to version 1.0.6:
 - Changed:
  - The `self update` command has been updated in order to handle future releases of Poetry ([#2429](https://github.com/python-poetry/poetry/pull/2429)).
 - Fixed:
  - Fixed an error were a new line was not written when displaying the virtual environment's path with `env info` ([#2196](https://github.com/python-poetry/poetry/pull/2196)).
  - Fixed a misleading error message when the `packages` property was empty ([#2265](https://github.com/python-poetry/poetry/pull/2265)).
  - Fixed shell detection by using environment variables ([#2147](https://github.com/python-poetry/poetry/pull/2147)).
  - Fixed the removal of VCS dependencies ([#2239](https://github.com/python-poetry/poetry/pull/2239)).
  - Fixed generated wheel ABI tags for Python 3.8 ([#2121](https://github.com/python-poetry/poetry/pull/2121)).
  - Fixed a regression when building stub-only packages ([#2000](https://github.com/python-poetry/poetry/pull/2000)).
  - Fixed errors when parsing PEP-440 constraints with whitespace ([#2347](https://github.com/python-poetry/poetry/pull/2347)).
  - Fixed PEP 508 representation of VCS dependencies ([#2349](https://github.com/python-poetry/poetry/pull/2349)).
  - Fixed errors when source distributions were read-only ([#1140](https://github.com/python-poetry/poetry/pull/1140)).
  - Fixed dependency resolution errors and inconsistencies with directory, file and VCS dependencies ([#2398](https://github.com/python-poetry/poetry/pull/2398)).
  - Fixed custom repositories information not being properly locked ([#2484](https://github.com/python-poetry/poetry/pull/2484)).
- update simplify-toml.patch to also simplify the pytest dependency.

-------------------------------------------------------------------
Mon May 18 20:11:33 UTC 2020 - Matej Cepl <mcepl@suse.com>

- Don't use %python3_only command, but properly use alternatives.

-------------------------------------------------------------------
Tue Mar 24 10:08:53 UTC 2020 - pgajdos@suse.com

- version update to 1.0.5
  - Fixed an error when building distributions if the `git` executable was not found ([#2105](https://github.com/python-poetry/poetry/pull/2105)).
  - Fixed various errors when reading Poetry's TOML files by upgrading [tomlkit](https://github.com/sdispater/tomlkit).
  - Fixed the PyPI URL used when installing packages ([#2099](https://github.com/python-poetry/poetry/pull/2099)).
  - Fixed errors when the author's name contains special characters ([#2006](https://github.com/python-poetry/poetry/pull/2006)).
  - Fixed VCS excluded files detection when building wheels ([#1947](https://github.com/python-poetry/poetry/pull/1947)).
  - Fixed packages detection when building sdists ([#1626](https://github.com/python-poetry/poetry/pull/1626)).
  - Fixed the local `.venv` virtual environment not being displayed in `env list` ([#1762](https://github.com/python-poetry/poetry/pull/1762)).
  - Fixed incompatibilities with the most recent versions of `virtualenv` ([#2096](https://github.com/python-poetry/poetry/pull/2096)).
  - Fixed Poetry's own vendor dependencies being retrieved when updating dependencies ([#1981](https://github.com/python-poetry/poetry/pull/1981)).
  - Fixed encoding of credentials in URLs ([#1911](https://github.com/python-poetry/poetry/pull/1911)).
  - Fixed url constraints not being accepted in multi-constraints dependencies ([#2035](https://github.com/python-poetry/poetry/pull/2035)).
  - Fixed an error where credentials specified via environment variables were not retrieved ([#2061](https://github.com/python-poetry/poetry/pull/2061)).
  - Fixed an error where git dependencies referencing tags were not locked to the corresponding commit ([#1948](https://github.com/python-poetry/poetry/pull/1948)).
  - Fixed an error when parsing packages `setup.py` files ([#2041](https://github.com/python-poetry/poetry/pull/2041)).
  - Fixed an error when parsing some git URLs ([#2018](https://github.com/python-poetry/poetry/pull/2018)).

-------------------------------------------------------------------
Mon Mar 23 18:13:45 UTC 2020 - Matej Cepl <mcepl@suse.com>

- Add macro %dephell_genspec to generate setup.py

-------------------------------------------------------------------
Sun Feb 16 20:26:58 UTC 2020 - Tomas Heger <heger.tomas@gmail.com>

- Update to v1.0.3
  * Changes in 1.0.3
    - Fixed an error which caused the configuration environment
      variables
    - Fixed an error where the `--help` option was not working
    - Fixed an error where packages from private indices were not
      decompressed properly
    - Fixed an error where the version of some PEP-508-formatted
      wheel dependencies was not properly retrieved
    - Fixed internal regexps to avoid potential catastrophic
      backtracking errors
    - Fixed performance issues when custom indices were defined in
      the `pyproject.toml` file
    - Fixed the `get_requires_for_build_wheel
  * Changes in 1.0.2
    - Reverted a previous fix
  * Changes in 1.0.1
    - Fixed an error in `env use` where the wrong Python executable
      was being used to check compatibility
    - Fixed an error where VCS dependencies were not properly
      categorized as development dependencies
    - Fixed an error where some shells would no longer be usable
      after using the `shell` command
    - Fixed an error where explicitly included files where not
      included in wheel distributions
    - Fixed an error where some Git dependencies url were not
      properly parsed
    - Fixed an error in the `env` commands on Windows if the path
      to the executable contained a space
    - Fixed several errors and UX issues caused by `keyring` on
      some systems
    - Fixed errors when trying to detect installed packages
    - Fixed an error when packaging projects where Python packages
      were not properly detected
    - Fixed an error where local file dependencies were exported as
      editable when using the `export` command
    - Fixed the way environment markers are propagated and
      evaluated when resolving dependencies
    - Fixed an error in the PEP-508 compliant representation of
      directory and file dependencies
    - Fixed an error where invalid virtual environments would be
      silently used. They will not be recreated and a warning will
      be displayed
    - Fixed an error where dependencies were not properly detected
      when reading the `setup.py` file in some cases
- refresh simplify-toml.patch
- update to version 1.0.1 also fixes bsc#1163765

-------------------------------------------------------------------
Wed Dec 18 23:31:45 UTC 2019 - John Vandenberg <jayvdb@gmail.com>

- Remove dephell build workaround

-------------------------------------------------------------------
Tue Dec 17 06:45:30 UTC 2019 - John Vandenberg <jayvdb@gmail.com>

- Update to v1.0.0

-------------------------------------------------------------------
Tue Sep 17 02:56:57 UTC 2019 - John Vandenberg <jayvdb@gmail.com>

- Update to v1.0.0b1

-------------------------------------------------------------------
Sat May 18 04:54:32 AM UTC 2019 - John Vandenberg <jayvdb@gmail.com>

- Initial spec for v0.12.16
