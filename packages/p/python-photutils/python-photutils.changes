-------------------------------------------------------------------
Fri Dec 24 14:06:32 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to 1.3.0
  General
  * The metadata in output tables now contains version information
    for all dependencies. [#1274]
  New Features
  * photutils.centroid
    * Extra keyword arguments can be input to centroid_sources that
      are then passed on to the centroid_func if supported.
      [#1276,#1278]
  * photutils.segmentation
    * Added copy method to SourceCatalog. [#1264]
    * Added kron_photometry method to SourceCatalog. [#1264]
    * Added add_extra_property, remove_extra_property,
      remove_extra_properties, and rename_extra_property methods
      and extra_properties attribute to SourceCatalog. [#1264,
      #1268]
    * Added name and overwrite keywords to SourceCatalog
      circular_photometry and fluxfrac_radius methods. [#1264]
    * SourceCatalog fluxfrac_radius was improved for cases where
      the source flux doesn't monotonically increase with
      increasing radius. [#1264]
    * Added meta and properties attributes to SourceCatalog.
      [#1268]
    * The SourceCatalog output table (using to_table) meta
      dictionary now includes a field for the date/time. [#1268]
    * Added SourceCatalog make_kron_apertures method. [#1268]
    * Added SourceCatalog plot_circular_apertures and
      plot_kron_apertures methods. [#1268]
  Bug fixes
  * photutils.segmentation
    * If detection_catalog is input to SourceCatalog then the
      detection centroids are used to calculate the
      circular_aperture, circular_photometry, and fluxfrac_radius.
      [#1264]
    * Units are applied to SourceCatalog circular_photometry output
      if the input data has units. [#1264]
    * SourceCatalog circular_photometry returns scalar values if
      catalog is scalar. [#1264]
    * SourceCatalog fluxfrac_radius returns a Quantity with pixel
      units. [#1264]
    * Fixed a bug where the SourceCatalog detection_catalog was not
      indexed/sliced when SourceCatalog was indexed/sliced. [#1268]
    * SourceCatalog circular_photometry now returns NaN for
      completely-masked sources. [#1268]
    * SourceCatalog kron_flux is always NaN for sources where
      kron_radius is NaN. [#1268]
    * SourceCatalog fluxfrac_radius now returns NaN if kron_flux is
      zero. [#1268]
  API changes
  * photutils.centroids
    * A ValueError is now raised in centroid_sources if the input
      xpos or ypos is outside of the input data. [#1276]
    * A ValueError is now raised in centroid_quadratic if the input
      xpeak or ypeak is outside of the input data. [#1276]
    * NaNs are now returned from centroid_sources where the
      centroid failed. This is usually due to a box_size that is
      too small when using a fitting-based centroid function.
      [#1276]
  * photutils.segmentation
    * Renamed the SourceCatalog circular_aperture method to
      make_circular_apertures. The old name is deprecated. [#1268]
    * The SourceCatalog kron_params keyword must have a minimum
      circular radius that is greater than zero. The default value
      is now 1.0. [#1268]
    * detect_sources now uses astropy.convolution.convolve, which
      allows for masking pixels. [#1269]

-------------------------------------------------------------------
Sun Sep 26 14:11:48 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update to 1.2.0
  * The minimum required scipy version is 1.6.0 [#1239]
  photutils.aperture
  * Added a mask keyword to the area_overlap method. [#1241]
  photutils.background
  * Improved the performance of Background2D by up to 10-50% when
    the optional bottleneck package is installed. [#1232]
  * Added a masked keyword to the background classes
    MeanBackground, MedianBackground, ModeEstimatorBackground,
    MMMBackground, SExtractorBackground,
    BiweightLocationBackground, StdBackgroundRMS,
    MADStdBackgroundRMS, and BiweightScaleBackgroundRMS. [#1232]
  * Enable all background classes to work with Quantity inputs.
    [#1233]
  * Added a markersize keyword to the Background2D method
    plot_meshes. [#1234]
  * Added __repr__ methods to all background classes. [#1236]
  * Added a grid_mode keyword to BkgZoomInterpolator. [#1239]
  photutils.detection
  * Added a xycoords keyword to DAOStarFinder and IRAFStarFinder.
    [#1248]
  photutils.psf
  * Enabled the reuse of an output table from BasicPSFPhotometry
    and its subclasses as an initial guess for another photometry
    run. [#1251]
  * Added the ability to skip the group_maker step by inputing an
    initial guess table with a group_id column. [#1251]
  photutils.aperture
  * Fixed a bug when converting between pixel and sky apertures
    with a gwcs object. [#1221]
  photutils.background
  * Fixed an issue where Background2D could fail when using the
    'pad' edge method. [#1227]
  photutils.detection
  * Fixed the DAOStarFinder import deprecation message. [#1195]
  photutils.morphology
  * Fixed an issue in data_properties where a scalar background
    input would raise an error. [#1198]
  photutils.psf
  * Fixed an issue in prepare_psf_model when xname or yname was
    None where the model offsets were applied in the wrong
    direction, resulting in the initial photometry guesses not
    being improved by the fit. [#1199]
  photutils.segmentation
  * Fixed an issue in SourceCatalog where the user-input mask was
    ignored when apermask_method='correct' for Kron-related
    calculations. [#1210]
  * Fixed an issue in SourceCatalog where the segment array could
    incorrectly have units. [#1220]
  photutils.utils
  * Fixed an issue in ShepardIDWInterpolator to allow its
    initialization with scalar data values and coordinate arrays
    having more than one dimension. [#1226]
  API changes
  photutils.aperture
  * The ApertureMask.get_values() function now returns an empty
    array if there is no overlap with the data. [#1212]
  * Removed the deprecated BoundingBox.slices and PixelAperture.
    bounding_boxes attributes. [#1215]
  photutils.background
  * Invalid data values (i.e., NaN or inf) are now automatically
    masked in Background2D. [#1232]
  * The background classes MeanBackground, MedianBackground,
    ModeEstimatorBackground, MMMBackground, SExtractorBackground,
    BiweightLocationBackground, StdBackgroundRMS,
    MADStdBackgroundRMS, and BiweightScaleBackgroundRMS now return
    by default a numpy.ndarray with np.nan values representing
    masked pixels instead of a masked array. A masked array can be
    returned by setting masked=True. [#1232]
  * Deprecated the Background2D attributes background_mesh_ma and
    background_rms_mesh_ma. They have been renamed to
    background_mesh_masked and background_rms_mesh_masked. [#1232]
  * By default, BkgZoomInterpolator now uses grid_mode=True. For
    zooming 2D images, this keyword should be set to True, which
    makes the interpolator’s behavior consistent with scipy.
    ndimage.map_coordinates, skimage.transform.resize, and OpenCV
    (cv2.resize). If backwards-compatiblity is needed with older
    Photutils’ versions, set grid_mode=False. [#1239]
  photutils.centroid
  * Deprecated the gaussian1d_moments and centroid_epsf functions.
    [#1240]
  photutils.datasets
  * Removed the deprecated random_state keyword in the
    apply_poisson_noise, make_noise_image,
    make_random_models_table, and make_random_gaussians_table
    functions. [#1244]
  * make_random_models_table and make_random_gaussians_table now
    return an astropy QTable with version metadata. [#1247]
  photutils.detection
  * DAOStarFinder, IRAFStarFinder, and find_peaks now return an
    astropy QTable with version metadata. [#1247]
  * The StarFinder label column was renamed to id for consistency
    with the other star finder classes. [#1254]
  photutils.isophote
  * The Isophote to_table method nows return an astropy QTable
    with version metadata. [#1247]
  photutils.psf
  * BasicPSFPhotometry, IterativelySubtractedPSFPhotometry, and
    DAOPhotPSFPhotometry now return an astropy QTable with version
    metadata. [#1247]
  photutils.segmentation
  * Deprecated the filter_kernel keyword in the detect_sources,
    deblend_sources, and make_source_mask functions. It has been
    renamed to simply kernel for consistency with SourceCatalog.
    [#1242]
  * Removed the deprecated random_state keyword in the make_cmap
    method. [#1244]
  * The SourceCatalog to_table method nows return an astropy
    QTable with version metadata. [#1247]
  photutils.utils
  * Removed the deprecated check_random_state function. [#1244]
  * Removed the deprecated random_state keyword in the
    make_random_cmap function. [#1244]

-------------------------------------------------------------------
Sat Mar 20 18:02:02 UTC 2021 - Ben Greiner <code@bnavigator.de>

- Update ot Version 1.1.0
  General
  -------
  * The minimum required python version is 3.7. [#1120]
  New Features
  ------------
  photutils.aperture
  * The PixelAperture.plot() method now returns a list of
    matplotlib.patches.Patch objects. [#923]
  * Added an area_overlap method for PixelAperture objects that
    gives the overlapping area of the aperture on the data. [#874]
  * Added a get_overlap_slices method and a center attribute to
    BoundingBox. [#1157]
  * Added a get_values method to ApertureMask that returns a 1D
    array of mask-weighted values. [#1158, #1161]
  * Added get_overlap_slices method to ApertureMask. [#1165]
  photutils.background
  * The Background2D class now accepts astropy NDData,
    CCDData, and Quantity objects as data inputs. [#1140]
  photutils.detection
  * Added a StarFinder class to detect stars with a user-defined
    kernel. [#1182]
  photutils.isophote
  * Added the ability to specify the output columns in the
    IsophoteList to_table method. [#1117]
  photutils.psf
  * The EPSFStars class is now usable with multiprocessing. 
    [#1152]
  * Slicing EPSFStars now returns an EPSFStars instance. [#1185]
  photutils.segmentation
  * Added a modified, significantly faster, SourceCatalog class.
    [#1170, #1188, #1191]
  * Added circular_aperture and circular_phometry methods to the
    SourceCatalog class. [#1188]
  * Added fwhm property to the SourceCatalog class. [#1191]
  * Added fluxfrac_radius method to the SourceCatalog class.
    [#1192]
  * Added a bbox attribute to SegmentationImage. [#1187]
  Bug Fixes
  ---------
  photutils.aperture
  * Slicing a scalar Aperture object now raises an informative
    error
    message. [#1154]
  * Fixed an issue where ApertureMask.multiply fill_value was
    not applied to pixels outside of the aperture mask, but within the
    aperture bounding box. [#1158]
  * Fixed an issue where ApertureMask.cutout would raise an error
    if fill_value was non-finite and the input array was integer
    type. [#1158]
  * Fixed an issue where RectangularAnnulus with a non-default
    h_in would give an incorrect ApertureMask. [#1160]
  photutils.isophote
  * Fix computation of gradient relative error when gradient=0.
    [#1180]
  photutils.psf
  * Fixed a bug in EPSFBuild where a warning was raised if the
    input smoothing_kernel was an numpy.ndarray. [#1146]
  * Fixed a bug that caused photometry to fail on an EPSFmodel
    with multiple stars in a group. [#1135]
  * Added a fallback aperture_radius for PSF models without a FWHM
    or sigma attribute, raising a warning. [#740]
  photutils.segmentation
  * Fixed SourceProperties local_background to work with
    Quantity data inputs. [#1162]
  * Fixed SourceProperties local_background for sources near the
    image edges. [#1162]
  * Fixed SourceProperties kron_radius for sources that are
    completely masked. [#1164]
  * Fixed SourceProperties Kron properties for sources near the
    image edges. [#1167]
  * Fixed SourceProperties Kron mask correction. [#1167]
  API changes
  -----------
  photutils.aperture
  * Deprecated the BoundingBox slices attribute. Use the
    get_overlap_slices method instead. [#1157]
  photutils.centroid
  * Removed the deprecated fit_2dgaussian function and
    GaussianConst2D class. [#1147]
  * Importing tools from the centroids subpackge without
    including the subpackage name is deprecated. [#1190]
  photutils.morphology
  * Importing tools from the morphology subpackge without
    including the subpackage name is deprecated. [#1190]
  photutils.segmentation
  * Deprecated the "mask_all" option in the SourceProperties
    kron_params keyword. [#1167]
  * Deprecated source_properties, SourceProperties, and
    LegacySourceCatalog.  Use the new SourceCatalog function
    instead. [#1170]
  * The detect_threshold function was moved to the segmentation
    subpackage. [#1171]
  * Removed the ability to slice SegmentationImage. Instead slice
    the segments attribute. [#1187]

-------------------------------------------------------------------
Wed Jan 20 23:50:38 UTC 2021 - Benjamin Greiner <code@bnavigator.de>

- Update to Version 1.0.2
  General
  ------
  photutils.background
  * Improved the performance of Background2D (e.g., by a 
    factor of ~4 with 2048x2048 input arrays when using the 
    default interpolator). [#1103, #1108]
  Bug Fixes
  --------
  photutils.background
  * Fixed a bug with Background2D where using 
    BkgIDWInterpolator would give incorrect results. 
    [#1104]
  photutils.isophote
  * Corrected calculations of upper harmonics and their 
    errors [#1089]
  * Fixed bug that caused an infinite loop when the sample 
    extracted from an image has zero length. [#1129]
  * Fixed a bug where the default fixed_parameters in 
    EllipseSample.update() were not defined. [#1139]
  photutils.psf
  * Fixed a bug where very incorrect PSF-fitting 
    uncertainties could be returned when the astropy fitter 
    did not return fit uncertainties. [#1143]
  photutils.segmentation
  * Fixed an issue where negative Kron radius values could 
    be returned, which would cause an error when 
    calculating Kron fluxes. [#1132]
  * Fixed an issue where an error was raised with 
    SegmentationImage.remove_border_labels() with 
    relabel=True when no segments remain. [#1133]
  photutils.psf
  * Changed the default recentering_func in EPSFBuilder, to 
    avoid convergence issues. [#1144]
- Drop photutils-ease-background2d-tests.patch fixed upstream
  gh#astropy/photutils#1145 
 
-------------------------------------------------------------------
Fri Jan 15 14:57:42 UTC 2021 - Benjamin Greiner <code@bnavigator.de>

- Add photutils-ease-background2d-tests.patch -- ease precision
  tolerance in background 2D tests gh#astropy/photutils#1145 

-------------------------------------------------------------------
Fri Sep 25 11:41:40 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to Version 1.0.1
  Bug Fixes
  * photutils.psf
    Fixed checks on oversampling factors. [#1086] 

-------------------------------------------------------------------
Wed Sep 23 09:24:36 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to Version 1.0.0
  General
  * The minimum required python version is 3.6. [#952]
  * The minimum required astropy version is 4.0. [#1081]
  * The minimum required numpy version is 1.17. [#1079]
  * Removed astropy-helpers and updated the package 
    infrastructure as described in Astropy APE 17. [#915]
  New Features
  * photutils.aperture
  * Added b_in as an optional ellipse annulus keyword. [#1070]
  * Added h_in as an optional rectangle annulus keyword. 
    [#1070]
  * photutils.background
  * Added coverage_mask and fill_value keyword options to 
    Background2D. [#1061]
  * photutils.centroids
  * Added quadratic centroid estimator function 
    (centroid_quadratic). [#1067]
  * photutils.psf
  * Added the ability to use odd oversampling factors in 
    EPSFBuilder. [#1076]
  * photutils.segmentation
  * Added Kron radius, flux, flux error, and aperture to 
    SourceProperties. [#1068]
  * Added local background to SourceProperties. [#1075]
  Bug Fixes
  * photutils.isophote
  * Fixed a typo in the calculation of the b4 higher-order 
    harmonic coefficient in build_ellipse_model. [#1052]
  * Fixed a bug where build_ellipse_model falls into an 
    infinite loop when the pixel to fit is outside of the 
    image. [#1039]
  * Fixed a bug where build_ellipse_model falls into an 
    infinite loop under certain image/parameters input 
    combinations. [#1056]
  * photutils.psf
  * Fixed a bug in subtract_psf caused by using a fill_value of 
    np.nan with an integer input array. [#1062]
  * photutils.segmentation
  * Fixed a bug where source_properties would fail with 
    unitless gwcs.wcs.WCS objects. [#1020]
  * photutils.utils
  * The effective_gain parameter in calc_total_error can now be 
    zero (or contain zero values). [#1019]
  API changes
  * photutils.aperture
  * Aperture pixel positions can no longer be shaped as 2xN. 
    [#953]
  * Removed the deprecated units keyword in aperture_photometry 
    and PixelAperture.do_photometry. [#953]
  * PrimaryHDU, ImageHDU, and HDUList can no longer be input to 
    aperture_photometry. [#953]
  * Removed the deprecated the Aperture mask_area method. 
    [#953]
  * Removed the deprecated Aperture plot keywords ax and 
    indices. [#953]
  * photutils.background
  * Removed the deprecated ax keyword in 
    Background2D.plot_meshes. [#953]
  * Background2D keyword options can not be input as positional 
    arguments. [#1061]
  * photutils.centroids
  * centroid_1dg, centroid_2dg, gaussian1d_moments, 
    fit_2dgaussian, and GaussianConst2D have been moved to a 
    new photutils.centroids.gaussian module. [#1064]
  * Deprecated fit_2dgaussian and GaussianConst2D. [#1064]
  * photutils.datasets
  * Removed the deprecated type keyword in make_noise_image. 
    [#953]
  * Renamed the random_state keyword (deprecated) to seed in 
    apply_poisson_noise, make_noise_image, 
    make_random_models_table, and make_random_gaussians_table 
    functions. [#1080]
  * photutils.detection
  * Removed the deprecated snr keyword in detect_threshold. 
    [#953]
  * photutils.psf
  * Added flux_residual_sigclip as an input parameter, allowing 
    for custom sigma clipping options in EPSFBuilder. [#984]
  * Added extra_output_cols as a parameter to 
    BasicPSFPhotometry, IterativelySubtractedPSFPhotometry and 
    DAOPhotPSFPhotometry. [#745]
  * photutils.segmentation
  * Removed the deprecated SegmentationImage methods cmap and 
    relabel. [#953]
  * Removed the deprecated SourceProperties values and coords 
    attributes. [#953]
  * Removed the deprecated xmin/ymin and xmax/ymax properties. 
    [#953]
  * Removed the deprecated snr and mask_value keywords in 
    make_source_mask. [#953]
  * Renamed the random_state keyword (deprecated) to seed in 
    the make_cmap method. [#1080]
  * photutils.utils
  * Removed the deprecated random_cmap, mask_to_mirrored_num, 
    get_version_info, filter_data, and std_blocksum functions. 
    [#953]
  * Removed the deprecated wcs_helpers functions 
    pixel_scale_angle_at_skycoord, assert_angle_or_pixel, 
    assert_angle, and pixel_to_icrs_coords. [#953]
  * Deprecated the check_random_state function. [#1080]
  * Renamed the random_state keyword (deprecated) to seed in 
    the make_random_cmap function. [#1080] 
- Drop patches merged upstream
  * 0001-aperture-mask-test-assert-almost-equal.patch
  * photutils-pr1041-update-watershed-import.patch
  
-------------------------------------------------------------------
Fri Aug 14 09:13:48 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- add photutils-pr1041-update-watershed-import.patch to fix failing
  test gh#astropy/photutils#1041 

-------------------------------------------------------------------
Fri Jul 17 11:35:55 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- actually detect failures with sys.exit(photutils.test())

-------------------------------------------------------------------
Mon Jul 13 18:40:46 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- fix failing tests: use astropy's test suite logic to call pytest 
- add URL for 0001-aperture-mask-test-assert-almost-equal.patch
  gh#astropy/photutils#1014

-------------------------------------------------------------------
Fri Jan 24 17:09:13 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- 0001-aperture-mask-test-assert-almost-equal.patch:
  upstream PR#1014 to avoid occasionally failing builds 

-------------------------------------------------------------------
Wed Dec 11 14:44:27 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- update to version 0.7.2:
  photutils.isophote
    * Fixed computation of upper harmonics a3, b3, a4, and b4 
       in the ellipse fitting algorithm. [#1008]
  photutils.psf 
    * Fix to algorithm in EPSFBuilder, addressing issues where
      ePSFs failed to build (yielding striped ePSFs). [#974]
    * Fix to IterativelySubtractedPSFPhotometry where an error
      could be thrown when a Finder was passed which did not 
      return None if no sources were found. [#986]
    * Fix to centroid_epsf where the wrong oversampling factor
      was used along the y axis. [#1002]
- needs new python-pytest-astropy 0.7 because of -header package
- fix clean c source files

-------------------------------------------------------------------
Thu Oct 10 09:48:35 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- update to version 0.7.1 

-------------------------------------------------------------------
Sat Sep 14 12:17:38 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- remove generated c source files 

-------------------------------------------------------------------
Sat Sep 14 09:49:39 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- new version 0.7 

-------------------------------------------------------------------
Wed Apr 24 14:34:08 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- add astropy helpers 

-------------------------------------------------------------------
Wed Apr 24 14:23:15 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- add dmb and scikit-* modules to build deps for module tests

-------------------------------------------------------------------
Wed Apr 24 14:13:37 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- add numpy-devel as dep 

-------------------------------------------------------------------
Wed Apr 24 14:09:05 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- fix deps typos 

-------------------------------------------------------------------
Wed Apr 24 14:07:25 UTC 2019 - Benjamin Greiner <code@bnavigator.de>

- initial spec 
