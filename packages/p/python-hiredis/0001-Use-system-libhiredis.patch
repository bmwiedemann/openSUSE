From ae18fb4390098eefc90442f9a7944f136758bbc4 Mon Sep 17 00:00:00 2001
From: Apollon Oikonomopoulos <apoikos@debian.org>
Date: Wed, 2 Jul 2014 10:51:27 +0300
Subject: Use system libhiredis

Patch setup.py to not build hiredis in vendor/

Forwarded: no
Last-Updated: 2022-01-15
Patch-Name: 0001-Use-system-libhiredis.patch
---
 setup.py |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

--- a/setup.py
+++ b/setup.py
@@ -26,8 +26,7 @@ def get_linker_args():
     if 'win32' in sys.platform or 'darwin' in sys.platform:
         return []
     else:
-        return ["-Wl,-Bsymbolic", ]
-
+        return ["-Wl,-Bsymbolic", "-lhiredis"]
 
 def get_compiler_args():
     if 'win32' in sys.platform:
@@ -47,8 +46,7 @@ ext = Extension("hiredis.hiredis",
                 sources=get_sources(),
                 extra_compile_args=get_compiler_args(),
                 extra_link_args=get_linker_args(),
-                libraries=get_libraries(),
-                include_dirs=["vendor"])
+                libraries=get_libraries())
 
 setup(
     name="hiredis",
