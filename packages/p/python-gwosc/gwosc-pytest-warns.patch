From e61e89ea23407d9ca92d19156289a86c00bc01ff Mon Sep 17 00:00:00 2001
From: "duncan.macleod" <duncan.macleod@ligo.org>
Date: Fri, 1 Apr 2022 20:05:49 +0100
Subject: [PATCH] tests: fix misues of pytest.warns

`pytest.warns(None)` is deprecated, see <https://docs.pytest.org/en/latest/how-to/capture-warnings.html#additional-use-cases-of-warnings-in-tests>
---
 gwosc/tests/test_datasets.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/gwosc/tests/test_datasets.py b/gwosc/tests/test_datasets.py
index 0f5e03e..83f2288 100644
--- a/gwosc/tests/test_datasets.py
+++ b/gwosc/tests/test_datasets.py
@@ -92,7 +92,7 @@ def test_find_datasets_event_version_detector():
 
 @mock.patch("gwosc.datasets._run_datasets", return_value=[])
 def test_find_datasets_warning(_):
-    with pytest.warns(None):
+    with pytest.warns(UserWarning):
         datasets.find_datasets(type='run', version=1)
 
 
-- 
GitLab

