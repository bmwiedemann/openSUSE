-------------------------------------------------------------------
Tue Dec  3 08:31:20 UTC 2019 - Egbert Eich <eich@suse.com>

- Update to version 3.12.2 (jsc#SLE-8505)
  * https://www.mcs.anl.gov/petsc/documentation/changes/312.html
- Remove petsc-3.3-p2-fix-shared-libs-sonames.patch
  link created directly in %install section
- Remove petsc-3.3-p2-dont-check-for-option-mistakes.patch
  not needed.
- Remove petsc-3.3-fix-error-detection-in-makefile.patch
  not needed.
- Add non-HPC build with openmpi3
- Add HPC builds for gcc8 & gcc 9 (jsc#SLE-7766 & jsc#SLE-8609).
- Disable openmpi1 builds for SLE/Leap > 15.1.
- Enable openmpi3 builds for Leap and SLE > 15.1 (jsc#SLE-7773).

-------------------------------------------------------------------
Wed Nov 27 16:38:25 UTC 2019 - Stefan Br端ns <stefan.bruens@rwth-aachen.de>

- Reflect renaming of openmpi packages to openmpi1 in Tumbleweed,
  fixes unresolvable packages.
- Fix copy'n'paste error, mpi_vers vs. mpi_ver
- Add non-HPC openmpi2 flavor.

-------------------------------------------------------------------
Wed Aug 21 08:20:23 UTC 2019 - Ana Guerrero Lopez <aguerrero@suse.com>

- Update to version 3.11.3 (jsc#SLE-8505)
  - https://www.mcs.anl.gov/petsc/documentation/changes/311.html
  - Binaries have changed path from bin/ to lib/petsc/bin/
- Patches removed, merged by upstream
  * Python-Fix-a-number-of-scripts-to-by-Python-3-compliant.patch
  * petsc-fix-nonmpi.patch
- Patches refreshed
  * petsc-3.3-p2-fix-shared-libs-sonames.patch
  * petsc-3.3-p2-no-rpath.patch
  * petsc-3.3-p2-dont-check-for-option-mistakes.patch
  * petsc-3.3-fix-error-detection-in-makefile.patch
  * petsc-3.7-fix-pastix-detection.patch
- Set -fPIC also on x86_64

-------------------------------------------------------------------
Fri Jul 19 16:15:44 UTC 2019 - Egbert Eich <eich@suse.com>

- Upped memory constraints to 6G for non-ppc systems as well,
  leaving the special ppc treatment in place in case we need to up it
  some more there.

-------------------------------------------------------------------
Wed Jul 17 06:07:56 UTC 2019 - Michel Normand <normand@linux.vnet.ibm.com>

- update _constraints for PowerPC more than 4G memory
- Add BuildRequires libopenblas-gnu-hpc >=  0.3.6 for hpc to  avoid
  to build when openblas library not available.

-------------------------------------------------------------------
Tue Mar 26 15:29:56 UTC 2019 - Stefan Br端ns <stefan.bruens@rwth-aachen.de>

- Disable pastix also in openmpi flavor, same as for serial and HPC flavors.
  Pastix is only built with openmpi, and not available in Factory.

-------------------------------------------------------------------
Wed Mar 20 18:15:58 UTC 2019 - Stefan Br端ns <stefan.bruens@rwth-aachen.de>

- Fix building non-MPI flavors of packages depending on petsc
  Add petsc-fix-nonmpi.patch
- Do not move headers to /usr/include and symlink, causes problems with
  -isystem

-------------------------------------------------------------------
Wed Mar 13 23:34:19 UTC 2019 - Stefan Br端ns <stefan.bruens@rwth-aachen.de>

- Fix spec for non-HPC, reenable serial and non-HPC openmpi build.
- Disable HYPRE for non-HPC, same as for HPC.

-------------------------------------------------------------------
Wed Feb 13 11:40:48 UTC 2019 - Egbert Eich <eich@suse.com>

- Consolidate use of openmpi1, openmpi2, openmpi3.
- Do not build non-HPC on SLE.

-------------------------------------------------------------------
Mon Apr 30 18:10:21 UTC 2018 - eich@suse.com

- (Temporarily) disable fpr S390* as a check test for netcdf fails
  currently on BE (bsc#1091474). 

-------------------------------------------------------------------
Fri Apr 27 12:53:49 UTC 2018 - guillaume.gardet@opensuse.org

- Add _constraints to avoid OOM errors

-------------------------------------------------------------------
Tue Apr 17 12:55:59 UTC 2018 - eich@suse.com

- Do not require 'Modules' for HPC build: seetings from 
  /etc/profile.d/lmod.[c]sh will be overwritten by
  /etc/profile.d/modules.[c]sh installed by Modules
  (bsc#1089865).

-------------------------------------------------------------------
Sun Apr  1 19:12:40 UTC 2018 - eich@suse.com

- Convert doc package build to noarch. This will hopefully avoid
  spurious build errors on SLE-12.

-------------------------------------------------------------------
Tue Mar 27 16:29:59 UTC 2018 - stefan.bruens@rwth-aachen.de

- Set '-fPIC' also on aarch64

-------------------------------------------------------------------
Tue Mar 27 10:34:46 UTC 2018 - eich@suse.com

- Reenable flavor 'serial' to build the doc package only
  (bsc#1087050).
  Note: for this flavor nothing else gets built: once the
  missing dependencies have been fixed, rearrange the 
  #%if 0%{?makedoc:1} ... %endif.

-------------------------------------------------------------------
Tue Mar 20 13:54:00 CET 2018 - ro@suse.de

- use "-fPIC" also on s390, like on ppc64 (bsc#1086008)

-------------------------------------------------------------------
Fri Mar  9 12:30:57 UTC 2018 - eich@suse.com

- Don't build the serial flavor as the build presently breaks
  everywhere (bsc#1084677).

-------------------------------------------------------------------
Sun Mar  4 09:11:32 UTC 2018 - eich@suse.com

- Python-Fix-a-number-of-scripts-to-by-Python-3-compliant.patch:
  Fix python scripts - convert to Python 3 (bsc#1082209).
- Restructure package: factor out SAWs stuff. We cannot
  support this as SAWs itself isn't available for SUSE.
- Move python files that are not stand-alone out of the
  bin directory.
- Fix permissions in bin and other directories.
- Removed some unwanted scripts:
  rules - make rules
  sendToJenkins - this should probably be modified to print an error message
  uncrustify.cfg - used by 'rules'
- Removed win32fe: DLLs for Windows
- Set '-fPIC' on ppc64.

-------------------------------------------------------------------
Thu Feb 22 13:56:02 UTC 2018 - eich@suse.com

- Update to version 3.8.3:
  http://www.mcs.anl.gov/petsc/documentation/changes/37.html
  (FATE#325333).

-------------------------------------------------------------------
Fri Feb  9 20:14:15 UTC 2018 - eich@suse.com

- Since the OpenBLAS build was fixed, reenable scalapack
  on s390 (bsc#1079513).
- Add support for openmpi2 for HPC (FATE#325089).
- Fix build on ppc64le (bsc#1080380).

-------------------------------------------------------------------
Fri Feb  9 15:00:10 UTC 2018 - cgoll@suse.com

- Fix summary in module files (bnc#1080259)

-------------------------------------------------------------------
Tue Feb  6 09:18:55 UTC 2018 - eich@suse.com

- Don't use baselibs.conf: some dependencies are not available for
  i586 on Factory.

-------------------------------------------------------------------
Tue Feb  6 09:13:14 UTC 2018 - eich@suse.com

- The HPC build of petsc depends on openBLAS. OpenBLAS doesn't
  support s390: skip building on s390 (bsc#1079513).

-------------------------------------------------------------------
Mon Jan 29 15:22:04 UTC 2018 - eich@suse.com

- Fix build with rpm v4.14.

-------------------------------------------------------------------
Fri Jan 12 15:49:16 UTC 2018 - eich@suse.com

- Disable the openmpi3 flavor in some products.

-------------------------------------------------------------------
Fri Jan  5 19:15:30 UTC 2018 - eich@suse.com

- Switch from gcc6 to gcc7 as additional compiler flavor for HPC on SLES.
- Fix library package requires - use HPC macro (boo#1074890).
- Add support for mpich and openmpi3 for HPC.
- Fix unexpanded rpm macro in environment module file for HPC (boo#1074897).

-------------------------------------------------------------------
Tue Nov 14 11:40:02 UTC 2017 - eich@suse.com

- emvironment modules: only set BIN when binary path exists.
- Fix RPM macro name %hpc_upcase.

-------------------------------------------------------------------
Fri Nov 10 17:02:52 UTC 2017 - eich@suse.com

- Add libhdf5/libscalapack*-hpc as Requires to the library package 
  for HPC.

-------------------------------------------------------------------
Thu Nov  2 19:28:46 UTC 2017 - eich@suse.com

- Simplify Group: - do not destinguish between MPI
  and non-MPI: the IBS check scripts cannot handle
  this well.

-------------------------------------------------------------------
Mon Oct 30 23:55:37 UTC 2017 - eich@suse.com

- Fix Requires for HPC build.

-------------------------------------------------------------------
Sun Oct 22 19:29:23 UTC 2017 - eich@suse.com

- Disable non-HPC openmpi flavor due to missing dependencies.

-------------------------------------------------------------------
Fri Sep  8 19:13:36 UTC 2017 - eich@suse.com

- Convert to multibuild.
- Add HPC build using environment modules
  (FATE#321718).
- Generate baselib.conf dynamically and only for the non-HPC
  builds: this avoids issues with the source validator.
- Updated to 3.7.6 (in sync with OpenHPC)
  Changelog at: http://www.mcs.anl.gov/petsc/documentation/changes/37.html

-------------------------------------------------------------------
Thu Mar  9 15:40:18 UTC 2017 - kkhere.geo@gmail.com

- recreate petsc package with version 3.7.5
  previously existing petsc package was deleted for unknown reasons.
  package in science repository is just a broken link.
  previous changelog salvaged from installed rpm is below.
- upstream version changelogs available at
  https://www.mcs.anl.gov/petsc/petsc-as/documentation/changes/index.html

-------------------------------------------------------------------
Mon Sep 28 15:44:21 UTC 2015 - kkhere.geo@gmail.com

- Refix blacs dependency, since blacs is now merged in scalapack

-------------------------------------------------------------------
Tue Jul 28 10:41:48 UTC 2015 - toddrme2178@gmail.com

- Fix blacs dependency ambiguity

-------------------------------------------------------------------
Wed Jul 15 09:21:49 UTC 2015 - toddrme2178@gmail.com

- Fix building on ppc64 and ppc64le

-------------------------------------------------------------------
Sat Apr  5 16:04:56 UTC 2014 - scorot@free.fr

- update files list of mvapich2 package and then fix build on SLE

-------------------------------------------------------------------
Thu Jan  9 14:27:31 UTC 2014 - kkhere.geo@gmail.com

- update to version 3.4.3
  * changelog at
    http://www.mcs.anl.gov/research/projects/petsc/petsc-as/documentation/changes/34.html
- modified patches:
  * petsc-3.3-fix-error-detection-in-makefile.patch
  * petsc-3.3-p2-dont-check-for-option-mistakes.patch
  * petsc-3.3-p2-fix-shared-libs-sonames.patch
  * petsc-3.3-p2-no-rpath.patch
-------------------------------------------------------------------
Wed May 22 20:11:36 UTC 2013 - scorot@free.fr

- update ot latest patch level p7
  * No changelog available for a patch level upgrade

-------------------------------------------------------------------
Sun Feb 24 14:59:13 UTC 2013 - scorot@free.fr

- updated to patch level p6
  * No changelog available for a patch level upgrade

-------------------------------------------------------------------
Mon Feb  4 20:28:03 UTC 2013 - scorot@free.fr

- updated to patch level p5
  * No changelog available for a patch level upgrade

-------------------------------------------------------------------
Mon Sep 17 21:27:12 UTC 2012 - scorot@free.fr

- fix module file for parallel version

-------------------------------------------------------------------
Sun Sep 16 20:30:11 UTC 2012 - scorot@free.fr

- add modules files
- add version number in the petsc directory to allow multiple
  versions to be installed at the same time
- update to patch level p3

-------------------------------------------------------------------
Sun Sep  2 10:47:04 UTC 2012 - scorot@free.fr

- add suitesparce-devel in the requirements list of devel packages

-------------------------------------------------------------------
Thu Aug 30 21:18:42 UTC 2012 - scorot@free.fr

- add requirments in devel packages
- fix license

-------------------------------------------------------------------
Thu Aug 23 19:07:07 UTC 2012 - scorot@free.fr

- enable umfpack and cholmod
- enable blacs and scalapack for parallel version

-------------------------------------------------------------------
Sat Aug 11 10:56:14 UTC 2012 - scorot@free.fr

- fix typo in spec file making install failure on x86_64

-------------------------------------------------------------------
Sat Aug 11 10:18:29 UTC 2012 - scorot@free.fr

- add missing %%_petsc_arch to %%_prefix path

-------------------------------------------------------------------
Sat Aug 11 09:49:39 UTC 2012 - scorot@free.fr

- add PETSC_ARCH in the subdirectory path

-------------------------------------------------------------------
Thu Aug  9 13:42:04 UTC 2012 - scorot@free.fr

- add symlink petsc_dir/include to %%_includedir

-------------------------------------------------------------------
Sat Aug  4 20:35:26 UTC 2012 - scorot@free.fr

- version 3.3
  * see http://www.mcs.anl.gov/petsc/documentation/changes/33.html
    for a list of changes

-------------------------------------------------------------------
Fri Aug  3 20:27:15 UTC 2012 - scorot@free.fr

- mvapich2 build for SLE 11
- update baselibs.conf

-------------------------------------------------------------------
Tue Jul 31 20:46:24 UTC 2012 - scorot@free.fr

- compress source tarball with xz

-------------------------------------------------------------------
Tue Jul 31 17:26:00 UTC 2012 - scorot@free.fr

- enable hypre support for openmpi build

-------------------------------------------------------------------
Fri Jul 27 20:54:50 UTC 2012 - scorot@free.fr

- enable fortran interface and c++ support

-------------------------------------------------------------------
Thu Jul 26 22:10:50 UTC 2012 - scorot@free.fr

- fix library dirs in petsc conf files

-------------------------------------------------------------------
Thu Jul 26 21:30:35 UTC 2012 - scorot@free.fr

- put all petsc file in a dedicated dir

-------------------------------------------------------------------
Tue Jul 24 22:27:11 UTC 2012 - scorot@free.fr

- add openmpi package
- fix libs dependencies

-------------------------------------------------------------------
Thu Jun  7 18:27:19 UTC 2012 - scorot@free.fr

- add baselibs.conf

-------------------------------------------------------------------
Sat May 19 15:14:53 UTC 2012 - scorot@free.fr

- first package base on spec file from Fabrice Bellet for fedora
