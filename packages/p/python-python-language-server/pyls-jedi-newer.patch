Index: python-language-server-0.36.2/pyls/plugins/symbols.py
===================================================================
--- python-language-server-0.36.2.orig/pyls/plugins/symbols.py
+++ python-language-server-0.36.2/pyls/plugins/symbols.py
@@ -37,7 +37,7 @@ def pyls_document_symbols(config, docume
                         not sym_full_name.startswith('__main__')):
                     continue
 
-        if _include_def(d) and document.path == d.module_path:
+        if _include_def(d) and os.path.samefile(document.path, d.module_path):
             tuple_range = _tuple_range(d)
             if tuple_range in exclude:
                 continue
Index: python-language-server-0.36.2/python_language_server.egg-info/requires.txt
===================================================================
--- python-language-server-0.36.2.orig/python_language_server.egg-info/requires.txt
+++ python-language-server-0.36.2/python_language_server.egg-info/requires.txt
@@ -1,4 +1,4 @@
-jedi<0.18.0,>=0.17.2
+jedi>=0.17.2
 python-jsonrpc-server>=0.4.0
 pluggy
 
Index: python-language-server-0.36.2/setup.py
===================================================================
--- python-language-server-0.36.2.orig/setup.py
+++ python-language-server-0.36.2/setup.py
@@ -10,7 +10,7 @@ install_requires = [
         'configparser; python_version<"3.0"',
         'future>=0.14.0; python_version<"3"',
         'backports.functools_lru_cache; python_version<"3.2"',
-        'jedi>=0.17.2,<0.18.0',
+        'jedi>=0.17.2',
         'python-jsonrpc-server>=0.4.0',
         'pluggy',
         'ujson<=2.0.3 ; platform_system!="Windows" and python_version<"3.0"',
