------------------------------------------------------------------------
r1954 | mabri | 2018-11-26 23:16:19 +0100 (lun 26 de nov de 2018) | 2 líneas

Fix issue #33 (null-pointer dereference in crop_page() of tools/podofocrop/podofocrop.cpp)


Index: tools/podofocrop/podofocrop.cpp
===================================================================
--- tools/podofocrop/podofocrop.cpp	(revisión: 1953)
+++ tools/podofocrop/podofocrop.cpp	(revisión: 1954)
@@ -61,6 +61,11 @@
            rCropBox.GetHeight());
     */
     rCropBox.ToVariant( var );
+    if (!pPage)
+    {
+        PODOFO_RAISE_ERROR_INFO( ePdfError_InvalidHandle,
+                                "crop_page: No page pointer given" );
+    }
     pPage->GetObject()->GetDictionary().AddKey( PdfName("MediaBox"), var );
 }
 

------------------------------------------------------------------------
