-------------------------------------------------------------------
Fri Oct  7 11:01:46 UTC 2022 - Daniel Garcia <daniel.garcia@suse.com>

- Update to version 8.1.1:
  * Support specifying the local address for outgoing connections (#5364,
    @meitinger)
  * Fix a bug where an excess empty chunk has been sent for chunked HEAD
    request. (#5372, @jixunmoe)
  * Drop pkg_resources dependency. (#5401, @PavelICS)
  * Fix huge (>65kb) http2 responses corrupted. (#5428, @dhabensky)
  * Remove overambitious assertions in the HTTP state machine, fix some error
    handling. (#5383, @mhils)
  * Use default_factory for parser_options. (#5474, @rathann)
- mitmproxy 8.1.0
  * DNS support (#5232, @meitinger)
  * Mitmproxy now requires Python 3.9 or above. (#5233, @mhils)
  * Fix a memory leak in mitmdump where flows were kept in memory. (#4786,
    @mhils)
  * Replayed flows retain their current position in the flow list. (#5227,
    @mhils)
  * Periodically send HTTP/2 ping frames to keep connections alive. (#5046,
    @EndUser509)
  * Console Performance Improvements (#3427, @BkPHcgQL3V)
  * Warn users if server side event responses are received without streaming.
    (#4469, @mhils)
  * Add flatpak support to the browser addon (#5200, @pauloromeira)
  * Add example addon to dump contents to files based on a filter expression
    (#5190, @redraw)
  * Fix a bug where the wrong SNI is sent to an upstream HTTPS proxy (#5109,
    @mhils)
  * Make sure that mitmproxy displays error messages on startup. (#5225,
    @mhils)
  * Add example addon for domain fronting. (#5217, @randomstuff)
  * Improve cut addon to better handle binary contents (#3965, @mhils)
  * Fix text truncation for full-width characters (#4278, @kjy00302)
  * Fix mitmweb export copy failed in non-secure domain. (#5264, @Pactortester)
  * Add example script for manipulating cookies. (#5278, @WillahScott)
  * When opening an external viewer for message contents, mailcap files are not
    considered anymore.
  * This preempts the upcoming deprecation of Python's mailcap module. (#5297,
    @KORraNpl)
  * Fix hostname encoding for IDNA domains in upstream mode. (#5316, @nneonneo)
  * Fix hot reloading of contentviews. (#5319, @nneonneo)
  * Ignore HTTP/2 information responses instead of raising an error. (#5332,
    @mhils)
  * Improve performance and memory usage by reusing OpenSSL contexts. (#5339,
    @mhils)
  * Fix handling of multiple Cookie headers when proxying HTTP/2 to HTTP/1
    (#5337, @rinsuki)
  * Improve http_manipulate_cookies.py example. (#5578, @insilications)

- Add fix-big-integer.patch to fix tests with modern python versions based on
  gh#mitmproxy/mitmproxy@780adbaf9b13

-------------------------------------------------------------------
Tue Mar 22 16:01:32 UTC 2022 - Ferdinand Thiessen <rpm@fthiessen.de>

- Update to 8.0.0
  * mitmweb improvements
    * Now renders TCP and WebSocket flows
    * Offers direct cURL/HTTPie/raw HTTP export
    * Added Experimental command bar
  * Added Async Event Hooks
  * Added event hooks to signal TLS handshake success and failure
    for client and server connections
  * Support proxy authentication for SOCKS v5 mode
  * CVE-2022-24766: Fix request smuggling vulnerability, boo#1197381

-------------------------------------------------------------------
Thu Jan  6 13:33:12 UTC 2022 - Ben Greiner <code@bnavigator.de>

- Register obs hypothesis profile for slow test executions

-------------------------------------------------------------------
Wed Dec  8 21:07:48 UTC 2021 - Ferdinand Thiessen <rpm@fthiessen.de>

- Update to 7.0.4
  * Compatibility with Python 3.10
  * Supports proxying raw TCP connections
  * Support TCP connections that start with a server-side greeting
  * Support SMTP
  * Accept HTTP/2 requests from the client and forward them to
    an HTTP/1 server
  * Displays WebSocket messages also in a dedicated UI tab
  * Clients can now establish TLS with the proxy right from the
    start, which can add a significant layer of defense in public
    networks.
  * Removed pathoc and pathod, see
    https://github.com/mitmproxy/mitmproxy/issues/4273

-------------------------------------------------------------------
Wed Jan 27 14:37:07 UTC 2021 - Markéta Machová <mmachova@suse.com>

- Update to 6.0.2
  * Mitmproxy now requires Python 3.8 or above.
  * Deprecation of pathod and pathoc tools and modules. Future releases 
    will not contain them!
  * SSLKEYLOGFILE now supports TLS 1.3 secrets
  * Tests: Replace asynctest with stdlib mock 
  * Many smaller improvements and bugfixes
- Drop unpin.patch and replace it with a sed script
- Drop merged replace-asynctest.patch

-------------------------------------------------------------------
Tue Aug 11 10:05:06 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to v5.2 
  * Add Filter message to mitmdump (@sarthak212)
  * Display TCP flows at flow list (@Jessonsotoventura,
    @nikitastupin, @mhils)
  * Colorize JSON Contentview (@sarthak212)
  * Fix console crash when entering regex escape character in
    half-open string (@sarthak212)
  * Integrate contentviews to TCP flow details (@nikitastupin)
  * Added add-ons that enhance the performance of web application
    scanners (@anneborcherding)
  * Increase WebSocket message timestamp precision
    (@JustAnotherArchivist)
  * Fix HTTP reason value on HTTP/2 reponses (@rbdixon)
  * mitmweb: support wslview to open a web browser (@G-Rath)
  * Fix dev version detection with parent git repo 
    (@JustAnotherArchivist)
  * Restructure examples and supported addons (@mhils)
  * Certificate generation: mark SAN as critical if no CN is set
    (@mhils)
  * Simplify Replacements with new ModifyBody addon (@mplattner)
  * Rename SetHeaders addon to ModifyHeaders (@mplattner)
  * mitmweb: "New -> File" menu option has been renamed to
    "Clear All" (@yogeshojha)
  * Add new MapRemote addon to rewrite URLs of requests
    (@mplattner)
  * Add support for HTTP Trailers to the HTTP/2 protocol
    (@sanlengjingvv and @Kriechi)
  * Fix certificate runtime error during expire cleanup
    (@gorogoroumaru)
  * Fixed the DNS Rebind Protection for secure support of IPv6
    addresses (@tunnelpr0)
  * WebSockets: match the HTTP-WebSocket flow for the ~websocket
    filter (@Kriechi)
  * Fix deadlock caused by the "replay.client.stop" command
    (@gorogoroumaru)
  * Add new MapLocal addon to serve local files instead of remote
    resources (@mplattner and @mhils)
  * Add minimal TCP interception and modification (@nikitastupin)
  * Add new CheckSSLPinning addon to check SSL-Pinning on client
    (@su-vikas)
  * Add a JSON dump script: write data into a file or send to an
    endpoint as JSON (@emedvedev)
  * Fix console output formatting (@sarthak212)
  * Add example for proxy authentication using selenium
    (@anneborcherding and @weichweich)
- refresh unpin.patch
- replace unmaintained asynctest by native python 3.8 unittest
  calls
  * replace-asynctest.patch 
  * gh#mitmproxy/mitmproxy#4020

-------------------------------------------------------------------
Mon Jun 15 10:39:50 UTC 2020 - Marketa Calabkova <mcalabkova@suse.com>

- initial packaging (v5.1.1)
