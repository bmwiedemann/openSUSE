-------------------------------------------------------------------
Mon Feb 16 05:57:45 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.3.3:
  * Enhancements
    - Read Python version specifier from hook repo pyproject.toml
      (#1596)
    - Add #:schema directives to generated prek.toml (#1597)
    - Add prek util list-builtins command (#1600)
    - Expand install source detection to mise, uv tool, pipx, and
      asdf (#1605, #1607)
    - Add progress bar to cache clean and show removal summary
      (#1616)
    - Make yaml-to-toml CONFIG argument optional (#1593)
    - prek uninstall removes legacy scripts too (#1622)
  * Bug fixes
    - Fix underflow when formatting summary output (#1626)
    - Match files/exclude filter against relative path of nested
      project (#1624)
    - Select musllinux wheel tag for uv on musl-based distros
      (#1628)
  * Documentation
    - Clarify prek list description (#1604)

-------------------------------------------------------------------
Fri Feb 06 14:30:13 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.3.2:
  * Highlights
    - prek.toml is here!
      You can now use prek.toml as an alternative to
      .pre-commit-config.yaml for configuring prek. prek.toml
      mirrors the structure of .pre-commit-config.yaml, but TOML is
      less error-prone. Your existing .pre-commit-config.yaml will
      continue to work, but for new users and new projects,
      prek.toml may make more sense. If you want to switch, run
      prek util yaml-to-toml to convert YAML configs to prek.toml.
      See configuration docs for details.

      For example, this config:

        repos:
          - repo: https://github.com/pre-commit/pre-commit-hooks
            rev: v6.0.0
            hooks:
              - id: check-yaml

      Can be written as prek.toml like this:

        [[repos]]
        repo = "https://github.com/pre-commit/pre-commit-hooks"
        rev = "v6.0.0"
        hooks = [ { id = "check-yaml" } ]

    - serde-yaml has been replaced with serde-saphyr
      We replaced the long-deprecated serde-yaml crate with
      serde-saphyr for YAML parsing. It is written in safe Rust and
      has better error messages, performance, and security. This
      lets us provide precise location information for
      configuration parsing errors, which should make it easier to
      fix config issues.

      For example, this invalid config:

        repos:
          - repo: https://github.com/crate-ci/typos
            hooks:
              - id: typos

      Before:

        $ prek run
        error: Failed to parse `.pre-commit-config.yaml`
          caused by: Invalid remote repo: missing field `rev`

      Now:

        $ prek run
        error: Failed to parse `.pre-commit-config.yaml`
          caused by: error: line 2 column 5: missing field `rev` at line 2, column 5
          --> <input>:2:5
            |
          1 | repos:
          2 |   - repo: https://github.com/crate-ci/typos
            |     ^ missing field `rev` at line 2, column 5
          3 |     hooks:
          4 |       - id: typos
            |

  - prek util subcommands
    We added a new prek util top-level command for miscellaneous
    utilities that don't fit into other categories. The first two
    utilities are:
    - prek util identify: shows the identification tags of files
      that prek uses for file filtering, which can be useful for
      debugging and writing types/types_or/exclude_types filters.
    - prek util yaml-to-toml: converts .pre-commit-config.yaml to
      prek.toml.
    We also moved prek init-template-dir under prek util for better
    organization. The old prek init-template-dir command is still
    available (hidden) as an alias for backward compatibility.
  * Enhancements
    - Add prek util identify subcommand (#1554)
    - Add prek util yaml-to-toml to convert .pre-commit-config.yaml
      to prek.toml (#1584)
    - Detect install source for actionable upgrade hints (#1540)
    - Detect prek installed by the standalone installer (#1545)
    - Implement serialize_yaml_scalar using serde-saphyr (#1534)
    - Improve max cli arguments length calculation (#1518)
    - Move identify and init-template-dir under the prek util
      top-level command (#1574)
    - Replace serde-yaml with serde-saphyr (again) (#1520)
    - Show precise location for config parsing error (#1530)
    - Support Julia language (#1519)
    - Support prek.toml (#1271)
    - Added PREK_QUIET environment variable support (#1513)
    - Remove upper bound constraint of uv version (#1588)
  * Bug fixes
    - Do not make the child a session leader (#1586)
    - Fix FilePattern schema to accept plain strings (#1564)
    - Use semver fallback sort when tag timestamps are equal
      (#1579)
  * Documentation
    - Add OpenClaw to the list of users (#1517)
    - Add cachix/devenv, apache/lucene, copper-project/copper-rs as
      projects using prek (#1531, #1514, #1569)
    - Add document about authoring remote hooks (#1571)
    - Add llms.txt generation for LLM-friendly documentation
      (#1553)
    - Document using --refresh to pick up .prekignore changes
      (#1575)
    - Fix PowerShell completion instruction syntax (#1568)
    - Update quick start to use prek.toml (#1576)
  * Other changes
    - Include prek.toml in run hint for config filename (#1578)

-------------------------------------------------------------------
Sun Feb 01 19:32:01 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.3.1:
  * Enhancements
    - Add language: swift support (#1463)
    - Add language: haskell support (#1484)
    - Extract go version constraint from go.mod (#1457)
    - Warn when config file exists but fails to parse (#1487)
    - Add GitHub artifact attestations to release and build-docker
      workflow (#1494, #1497)
    - Allow GIT_CONFIG_PARAMETERS for private repository
      authentication (#1472)
    - Show progress bar when running builtin hooks (#1504)
  * Bug fixes
    - Cap ARG_MAX at 1<<19 for safety (#1506)
    - Don't check Python executable path in health check (#1496)
  * Documentation
    - Include CocoIndex as a project using prek (#1477)
    - Add commands for artifact verification using GitHub
      Attestations (#1500)

-------------------------------------------------------------------
Thu Jan 22 07:00:04 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.3.0:
  * Highlights
    - prek cache gc (also available via prek gc for pre-commit
      compatibility) is finally here! You can now run prek cache gc
      to clean up unused repos, hook envs and tool versions from
      prek cache.
    - language: bun is now supported, making it possible to write
      and run hooks with Bun.
  * Enhancements
    - Implement prek cache gc (#1410)
      - Bootstrap tracking configs from workspace cache (#1417)
      - Show total size prek cache gc removed (#1418)
      - Show accurate repo and hook details in prek cache gc -v
        (#1420)
      - prek cache gc remove specific unused tool versions (#1422)
      - Fix unused tool versions not removed in prek cache gc
        (#1436)
    - Add language: bun support (#1411)
      - Use git ls-remote --tags to list bun versions (#1439)
    - Accept --stage as an alias for --hook-stage in prek run
      (#1398)
    - Expand ~ tilde in PREK_HOME (#1431)
    - Support refs to trees (#1449)
  * Bug fixes
    - Avoid file lock warning for in-process contention (#1406)
    - Resolve relative repo paths from config file directory
      (#1443)
    - fix: use split() instead of resolve(None) for builtin hook
      argument parsing (#1415)
  * Documentation
    - Add simple-icons and ast-grep to the users of prek (#1403)
    - Improve JSON schema for repo field (#1432)
    - Improve JSON schema for builtin and meta hooks (#1427)
    - Add pronunciation entry to FAQ (#1442)
    - Add commitizen to the list of projects using prek (#1413)
    - Move docs to zensical (#1421)
  * Other Changes
    - Refactor config layout (#1407)

-------------------------------------------------------------------
Mon Jan 19 06:38:20 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.30:
  * Enhancements
    - Build binaries using minimal-size profile (#1376)
    - Check for duplicate keys in check-json5 builtin hook (#1387)
    - Preserve quoting style in auto-update (#1379)
    - Show warning if file lock acquiring blocks for long time
      (#1353)
    - Singleflight Python health checks with cached interpreter
      info (#1381)
  * Bug fixes
    - Do not resolve entry for docker_image (#1386)
    - Fix command lookup on Windows (#1383)
  * Documentation
    - Document language support details (#1380)
    - Document that check-json5 now rejects duplicate keys (#1391)

-------------------------------------------------------------------
Fri Jan 16 14:03:50 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.29:
  * Highlights
    files / exclude now support globs (including glob lists),
    making config filters much easier to read and maintain than
    heavily-escaped regex.

    Before (regex):

      files: "^(src/.*\\.rs$|crates/[^/]+/src/.*\\.rs$)"

    After (glob list):

      files:
        glob:
          - src/**/*.rs
          - crates/**/src/**/*.rs

  * Enhancements
    - Add check-json5 as builtin hooks (#1367)
    - Add glob list support for file patterns (files and exclude)
      (#1197)
  * Bug fixes
    - Fix missing commit hash from version info (#1352)
    - Remove git env vars from uv pip install subprocess (#1355)
    - Set TERM=dumb under PTY to prevent capability-probe hangs
      (#1363)
  * Documentation
    - Add home-assistant/core to the users of prek (#1350)
    - Document builtin hooks (#1370)
    - Explain project configuration scope (#1373)

-------------------------------------------------------------------
Wed Jan 14 07:13:37 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.28:
  * Enhancements
    - Avoid running git diff for skipped hooks (#1335)
    - More accurate command line length limit calculation (#1348)
    - Raise platform command line length upper limit (#1347)
    - Use /bin/sh in generated git hook scripts (#1333)
  * Bug fixes
    - Avoid rewriting if config is up-to-date (#1346)
  * Documentation
    - Add ty to the users of prek (#1342)
    - Add ruff to the users of prek (#1334)
    - Complete configuration document (#1338)
    - Document UV environment variable inheritance in prek (#1339)

-------------------------------------------------------------------
Tue Jan 13 06:15:01 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.27 (.26 was not released):
  * Highlights
  * python/cpython is now using prek. That’s the highlight of this
    release!
  * Enhancements
    - Add hook-level env option to set environment variables for
      hooks (#1279) (#1285)
    - Support apple's container for docker language (#1306)
    - Skip cookiecutter template directories like
      {{cookiecutter.project_slug}} during project discovery
      (#1316)
    - Use global CONCURRENCY for repo clone (#1292)
    - untar: disallow external symlinks (#1314)
  * Bug fixes
    - Exit with success if no hooks match the hook stage (#1317)
    - Fix Go template string to detect rootless podman (#1302)
    - Panic on overly long filenames instead of silently dropping
      files (#1287)
  * Other changes
    - Add python/cpython to users (#1308)
    - Add MoonshotAI/kimi-cli to users (#1286)
    - Drop powerpc64 wheels (#1319)
- Update to version 0.2.25:
  * Performance
    - Use git cat-file -e in check if a rev exists (#1277)
  * Bug fixes
    - Fix priority not applied for remote hooks (#1281)
    - Report config file parsing error in auto-update (#1274)
    - Unset GIT_DIR for auto-update (#1269)
- Update to version 0.2.24:
  * Enhancements
    - Build and publish docker image to ghcr.io/j178/prek (#1253)
    - Support git urls for rust dependencies (#1256)
  * Bug fixes
    - Ensure running uv pip install inside the remote repo path
      (#1262)
    - Fix check-added-large-files for traced files (#1260)
    - Respect GIT_DIR set by git (#1258)
  * Documentation
    - Add docker integration docs (#1254)
    - Clarify priority scope across repos (#1251)
    - Improve documentation for configurations (#1247)
    - Render changelog in document site (#1248)

-------------------------------------------------------------------
Sat Dec 20 07:02:44 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.23:
  * Highlights
    - This release introduces priority-based parallel hook
      execution: prek can run multiple hooks in parallel when they
      share the same priority, which can be a huge speed-up for
      many configs. See configuration docs for priority.
  * Enhancements
    - Allow uv reading user-level or system-level configuration
      files (#1227)
    - Implement check-case-conflict as builtin hook (#888)
    - Implement priority based parallel execution (#1232)
  * Bug fixes
    - Fix check-executable-have-shebangs "command line too long"
      error on Windows (#1236)
  * Documentation
    - Add FastAPI to the list of projects using prek (#1241)
    - Document hook_types flag and default_install_hook_types
      behavior (#1225)
    - Improve documentation for priority (#1245)
    - Mention prek can be installed viataiki-e/install-action@prek
      (#1234)

-------------------------------------------------------------------
Sat Dec 13 19:27:35 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.22:
  * Highlights
    In this release, prek adds support for the --cooldown-days
    option in the prek auto-update command.
    This option allows users to skip releases that are newer than a
    specified number of days.
    It is useful to mitigate open source supply chain risks by
    avoiding very recent releases that may not have been widely
    adopted or vetted yet.
  * Enhancements
    - Support--cooldown-days in prek auto-update (#1172)
      - Prefer tag creation timestamp in --cooldown-days (#1221)
    - Use cargo install for packages in workspace (#1207)
  * Bug fixes
    - Set CARGO_HOME for cargo metadata (#1209)

-------------------------------------------------------------------
Fri Dec 12 08:36:57 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.21:
  * Bug fixes
    - Fallback to use remote repo package root instead of erroring
      (#1203)
    - Prepend toolchain bin directory to PATH when calling cargo
      (#1204)
    - Use cargo from installed toolchain (#1202)

-------------------------------------------------------------------
Fri Dec 12 08:17:26 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.20:
  * Highlights in this release:
    - Rust hooks are now fully supported with automatic toolchain
      management, including package discovery in virtual
      workspaces. Big thanks to @lmmx for driving this.
    - Added a prek cache size subcommand so you can quickly see how
      much cache space prek is using. Thanks @MatthewMckee4!
    - Nested workspaces are easier to reason about: set orphan:
      true on a project to isolate it from parents so its files are
      processed only once.
  * Enhancements
    - Support Rust language (#989) Refactor Rust toolchain
      management (#1198) Add support for finding packages in
      virtual workspaces (#1180)
    - Add prek cache size command (#1183)
    - Support orphan projects (#1129)
    - Fallback to manual stage for hooks specified directly in
      command line (#1185)
    - Make go module cache read-writeable (thus deletable) (#1164)
    - Provide more information when validating configs and
      manifests (#1182)
    - Improve error message for invalid number of arguments to
      hook-impl (#1196)
  * Bug fixes
    - Disable git terminal prompts (#1193)
    - Prevent post-checkout deadlock when cloning repos (#1192)
    - Prevent color output when redirecting stdout to a file
      (#1159)
  * Documentation
    - Add MacPorts to installation methods (#1157)
    - Add a FAQ page explaining prek install --install--hooks
      (#1162)
  * Other changes
    - Add prek: enabled repo badge (#1171)
    - Add favicon for docs website (#1187)

-------------------------------------------------------------------
Thu Nov 27 06:03:24 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.19:
  * Performance
    - Simplify fix_byte_order_marker hook (#1136)
    - Simplify trailing-whitespace hook to improve performance
      (#1135)
  * Bug fixes
    - Close stdin for hook subcommands (#1155)
    - Fix parsing Python interpreter info containing non-UTF8 chars
      (#1141)

-------------------------------------------------------------------
Fri Nov 21 15:08:38 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.18:
  * Highlights
    In this release, prek adds a new special repo type repo:
    builtin that lets you use built‑in hooks.
    It basically gives you another way to use the existing built‑in
    fast path for pre‑commit‑hooks, but without needing to point to
    an external repo.
    Since prek doesn’t have to clone anything or set up a virtual
    environment, repo: builtin hooks work even in air‑gapped
    environments.
    For more details, see: https://prek.j178.dev/builtin/
  * Enhancements
    - Add support repo: builtin (#1118)
    - Enable virtual terminal processing on Windows (#1123)
  * Bug fixes
    - Do not recurse into submodules during workspace discovery
      (#1121)
    - Do not dim the hook output (#1126)
    - Further reduce max cli length for cmd.exe on Windows (#1131)
    - Revert "Disallow hook-level minimum_prek_version (#1101)"
      (#1120)
  * Other changes
    - docs: refer airflow as Apache Airflow (#1116)

-------------------------------------------------------------------
Wed Nov 19 09:54:27 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.17:
  * Bug fixes
    - Revert back to use serde_yaml again (#1112)

-------------------------------------------------------------------
Tue Nov 18 12:22:59 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.16:
  * Bug fixes
    - Disallow hook-level minimum_prek_version (#1101)
    - Do not require a project in prek init-template-dir (#1109)
    - Make sure uv pip install uses the Python from virtualenv
      (#1108)
    - Restore using serde_yaml in check-yaml hook (#1106)

-------------------------------------------------------------------
Mon Nov 17 12:24:40 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.15:
  * Enhancements
    - Clean up hook environments when install fails (#1085)
    - Prepare for publishing prek to crates.io (#1088)
    - Replace serde-yaml with serde_saphyr (#1087)
    - Warn unexpected keys in repo and hook level (#1096)
  * Bug fixes
    - Fix prek init-template-dir fails in non-git repo (#1093)

-------------------------------------------------------------------
Mon Nov 17 06:39:05 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.14:
  * Enhancements
    - Support PREK_CONTAINER_RUNTIME=podman to override container
      runtime (#1033)
    - Support rootless container runtime (#1018)
    - Support language: unsupported and language:
      unsupported_script introduced in pre-commit v4.4 (#1073)
    - Tweak to regex used for mountinfo (#1037)
  * Bug fixes
    - Fix --files argument - files referencing other projects
      aren’t being filtered (#1064)
    - Unset objectFormat in git init (#1048)
  * Documentation
    - Add scoop to installation (#1067)
    - Document workspace file visibility constraints (#1071)
    - Add iceberg-python, msgspec and humanize to "who is using
      prek" (#1039, #1042, #1063)
  * Other changes
    - Add a hint to install when running inside a sub-project
      (#1045)
    - Add a hint to use --refresh when no configuration found
      (#1046)
    - Run uv pip install from the current directory (#1069)

-------------------------------------------------------------------
Sat Nov 08 07:27:31 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.13:
  * Enhancements
    - Add Ruby support (no download support yet) (#993)
    - Implement check-executables-have-shebangs as builtin-hook
      (#924)
    - Improve container id detection (#1031)
  * Performance
    - Optimize hot paths: reduce allocations (#997)
    - Refactor identify using smallvec (#982)
  * Bug fixes
    - Fix YAML with nested merge keys (#1020)
    - Treat every file as executable on Windows to keep
      compatibility with pre-commit (#980)
  * Documentation
    - Document that .gitignore is respected by default during
      workspace discovery (#983)
    - Update project stability status (#1005)
    - Add FastMCP to "who is using prek" (#1034)
    - Add attrs to "who is using prek" (#981)

-------------------------------------------------------------------
Sat Nov 08 07:19:11 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.12:
  * Enhancements
    - Add a warning for unimplemented hooks (#976)
    - Allow using system trusted store by PREK_NATIVE_TLS (#959)
  * Bug fixes
    - Do not check for script subprocess status (#964)
    - Fix compatibility with older luarocks (#967)
    - Fix local relative path in try-repo (#975)
  * Documentation
    - Update language support status (#970)

-------------------------------------------------------------------
Sat Nov 08 07:09:57 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 0.2.11:
  * Enhancements
    - Support language: lua hooks (#954)
    - Support language_version: system (#949)
    - Implement no-commit-to-branch as builtin hook (#930)
    - Improve styling for stashing error message (#953)
    - Support nix-shell style shebang (#929)
  * Documentation
    - Add a page about "Quick start" (#934)
    - Add kreuzberg to "who is using prek" (#936)
    - Clarify minimum mise version required to use mise use prek
      (#931)

-------------------------------------------------------------------
Mon Oct 20 07:12:29 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- new package prek: prek is a reimagined version of pre-commit,
  built in Rust. It is designed to be a faster, dependency-free and
  drop-in alternative for it, while also providing some additional
  long-requested features
