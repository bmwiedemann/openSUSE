Index: python-lsp-server-1.6.0/.github/workflows/static.yml
===================================================================
--- python-lsp-server-1.6.0.orig/.github/workflows/static.yml
+++ python-lsp-server-1.6.0/.github/workflows/static.yml
@@ -21,7 +21,7 @@ jobs:
       - uses: actions/cache@v1
         with:
           path: ~/.cache/pip
-          key: static-pip-${{ hashFiles('setup.py') }}
+          key: static-pip-${{ hashFiles('pyproject.toml') }}
           restore-keys: static-pip-
       - uses: actions/checkout@v2
       - uses: actions/setup-python@v2
Index: python-lsp-server-1.6.0/.github/workflows/test-linux.yml
===================================================================
--- python-lsp-server-1.6.0.orig/.github/workflows/test-linux.yml
+++ python-lsp-server-1.6.0/.github/workflows/test-linux.yml
@@ -26,7 +26,7 @@ jobs:
       - uses: actions/cache@v1
         with:
           path: ~/.cache/pip
-          key: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-${{ hashFiles('setup.py') }}
+          key: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-${{ hashFiles('pyproject.toml') }}
           restore-keys: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-
       - uses: actions/checkout@v2
       - uses: actions/setup-python@v2
@@ -34,7 +34,6 @@ jobs:
           python-version: ${{ matrix.PYTHON_VERSION }}
           architecture: 'x64'
       - name: Create Jedi environment for testing
-        if: matrix.PYTHON_VERSION != '2.7'
         run: |
           python3 -m venv /tmp/pyenv
           /tmp/pyenv/bin/python -m pip install loghub
Index: python-lsp-server-1.6.0/.github/workflows/test-mac.yml
===================================================================
--- python-lsp-server-1.6.0.orig/.github/workflows/test-mac.yml
+++ python-lsp-server-1.6.0/.github/workflows/test-mac.yml
@@ -26,7 +26,7 @@ jobs:
       - uses: actions/cache@v1
         with:
           path: ~/Library/Caches/pip
-          key: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-${{ hashFiles('setup.py') }}
+          key: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-${{ hashFiles('pyproject.toml') }}
           restore-keys: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-
       - uses: actions/checkout@v2
       - uses: actions/setup-python@v2
@@ -34,7 +34,6 @@ jobs:
           python-version: ${{ matrix.PYTHON_VERSION }}
           architecture: 'x64'
       - name: Create Jedi environment for testing
-        if: matrix.PYTHON_VERSION != '2.7'
         run: |
           python3 -m venv /tmp/pyenv
           /tmp/pyenv/bin/python -m pip install loghub
Index: python-lsp-server-1.6.0/.github/workflows/test-win.yml
===================================================================
--- python-lsp-server-1.6.0.orig/.github/workflows/test-win.yml
+++ python-lsp-server-1.6.0/.github/workflows/test-win.yml
@@ -26,7 +26,7 @@ jobs:
       - uses: actions/cache@v1
         with:
           path: ~\AppData\Local\pip\Cache
-          key: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-${{ hashFiles('setup.py') }}
+          key: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-${{ hashFiles('pyproject.toml') }}
           restore-keys: ${{ runner.os }}-${{ matrix.PYTHON_VERSION }}-pip-
       - uses: actions/checkout@v2
       - uses: actions/setup-python@v2
Index: python-lsp-server-1.6.0/pyproject.toml
===================================================================
--- python-lsp-server-1.6.0.orig/pyproject.toml
+++ python-lsp-server-1.6.0/pyproject.toml
@@ -28,22 +28,22 @@ Homepage = "https://github.com/python-ls
 [project.optional-dependencies]
 all = [
     "autopep8>=1.6.0,<1.7.0",
-    "flake8>=5.0.0,<5.1.0",
+    "flake8>=5.0.0,<7",
     "mccabe>=0.7.0,<0.8.0",
-    "pycodestyle>=2.9.0,<2.10.0",
+    "pycodestyle>=2.9.0,<2.11.0",
     "pydocstyle>=2.0.0",
-    "pyflakes>=2.5.0,<2.6.0",
+    "pyflakes>=2.5.0,<3.1.0",
     "pylint>=2.5.0",
     "rope>=0.10.5",
     "yapf",
     "whatthepatch"
 ]
 autopep8 = ["autopep8>=1.6.0,<1.7.0"]
-flake8 = ["flake8>=5.0.0,<5.1.0"]
+flake8 = ["flake8>=5.0.0,<7"]
 mccabe = ["mccabe>=0.7.0,<0.8.0"]
-pycodestyle = ["pycodestyle>=2.9.0,<2.10.0"]
+pycodestyle = ["pycodestyle>=2.9.0,<2.11.0"]
 pydocstyle = ["pydocstyle>=2.0.0"]
-pyflakes = ["pyflakes>=2.5.0,<2.6.0"]
+pyflakes = ["pyflakes>=2.5.0,<3.1.0"]
 pylint = ["pylint>=2.5.0"]
 rope = ["rope>0.10.5"]
 yapf = ["yapf", "whatthepatch>=1.0.2,<2.0.0"]
