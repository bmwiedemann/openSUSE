Index: httpx-sse-0.4.0/README.md
===================================================================
--- httpx-sse-0.4.0.orig/README.md
+++ httpx-sse-0.4.0/README.md
@@ -95,7 +95,7 @@ async def auth_events(request):
 app = Starlette(routes=[Route("/sse/auth/", endpoint=auth_events)])
 
 async def main():
-    async with httpx.AsyncClient(app=app) as client:
+    async with httpx.AsyncClient(transport=httpx.ASGITransport(app=app)) as client:
         async with aconnect_sse(
             client, "GET", "http://localhost:8000/sse/auth/"
         ) as event_source:
Index: httpx-sse-0.4.0/tests/test_asgi.py
===================================================================
--- httpx-sse-0.4.0.orig/tests/test_asgi.py
+++ httpx-sse-0.4.0/tests/test_asgi.py
@@ -29,7 +29,7 @@ def app() -> ASGIApp:
 
 @pytest_asyncio.fixture
 async def client(app: ASGIApp) -> AsyncIterator[httpx.AsyncClient]:
-    async with httpx.AsyncClient(app=app) as client:
+    async with httpx.AsyncClient(transport=httpx.ASGITransport(app=app)) as client:
         yield client
 
 
