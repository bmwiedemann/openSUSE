From e290e9e666fcf7a84dcd42529f4069d4c92098ae Mon Sep 17 00:00:00 2001
From: David Faure <faure@kde.org>
Date: Fri, 22 May 2020 14:18:42 +0200
Subject: Port these two to KCModuleInfo::property() as well, seems to fix
 Configure Kontact

NO_CHANGELOG
---
 src/ksettings/dialog.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/ksettings/dialog.cpp b/src/ksettings/dialog.cpp
index 2412413..08bd4a1 100644
--- a/src/ksettings/dialog.cpp
+++ b/src/ksettings/dialog.cpp
@@ -329,7 +329,7 @@ void DialogPrivate::createDialogFromServices()
 
     //qDebug() << kcmInfos.count();
     for (const KCModuleInfo &info : qAsConst(kcmInfos)) {
-        const QStringList parentComponents = info.pluginInfo().property(QStringLiteral("X-KDE-ParentComponents")).toStringList();
+        const QStringList parentComponents = info.property(QStringLiteral("X-KDE-ParentComponents")).toStringList();
         bool blacklisted = false;
         for (const QString &parentComponent : parentComponents) {
             if (componentBlacklist.contains(parentComponent)) {
@@ -340,7 +340,7 @@ void DialogPrivate::createDialogFromServices()
         if (blacklisted) {
             continue;
         }
-        const QString parentId = info.pluginInfo().property(QStringLiteral("X-KDE-CfgDlgHierarchy")).toString();
+        const QString parentId = info.property(QStringLiteral("X-KDE-CfgDlgHierarchy")).toString();
         KPageWidgetItem *parent = pageItemForGroupId.value(parentId);
         if (!parent) {
             // dummy kcm
-- 
cgit v1.1

