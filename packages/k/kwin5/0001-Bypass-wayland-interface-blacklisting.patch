From 76abce728d3abb94c71076e6211a0da655397b0f Mon Sep 17 00:00:00 2001
From: Fabian Vogt <fabian@ritter-vogt.de>
Date: Tue, 12 Nov 2019 13:18:26 +0100
Subject: [PATCH] Bypass wayland interface blacklisting

Currently the check isn't worth anything and it breaks some applications.
See discussion on https://phabricator.kde.org/D22571 and https://phabricator.kde.org/T4437#207062.
---
 src/wayland_server.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/wayland_server.cpp b/src/wayland_server.cpp
index e93d51911..95f3a746a 100644
--- a/src/wayland_server.cpp
+++ b/src/wayland_server.cpp
@@ -130,6 +130,7 @@ public:
     QSet<QString> m_reported;
 
     bool allowInterface(KWaylandServer::ClientConnection *client, const QByteArray &interfaceName) override {
+        return true;
         if (client->processId() == getpid()) {
             return true;
         }
-- 
2.25.1

