From 92fd6435c5fb72dcf917153d885a414ff44773ad Mon Sep 17 00:00:00 2001
From: Fabian Vogt <fabian@ritter-vogt.de>
Date: Tue, 21 Oct 2025 11:27:44 +0200
Subject: [PATCH] Fix build with ffmpeg < 8

---
 src/h264vaapiencoder.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/h264vaapiencoder.cpp b/src/h264vaapiencoder.cpp
index eaec8dd..fe2435e 100644
--- a/src/h264vaapiencoder.cpp
+++ b/src/h264vaapiencoder.cpp
@@ -19,7 +19,7 @@ extern "C" {
 #include "logging_record.h"
 
 #ifndef AV_PROFILE_H264_BASELINE // ffmpeg before 8.0
-#define AV_PROFILE_H264_BASELINE FF_PROFILE_H264_BASELINE
+#define AV_PROFILE_H264_CONSTRAINED_BASELINE FF_PROFILE_H264_CONSTRAINED_BASELINE
 #define AV_PROFILE_H264_MAIN FF_PROFILE_H264_MAIN
 #define AV_PROFILE_H264_HIGH FF_PROFILE_H264_HIGH
 #endif
-- 
2.50.1

