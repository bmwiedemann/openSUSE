From: Daniel Schemmel <daniel@schemmel.net>
Date: Fri, 9 Feb 2024 22:34:03 +0000
Subject: Fix brittleness in Feature/VarArgByVal test
Git-repo: https://github.com/danielschemmel/klee.git#varargbyval-fix
Git-commit: 022c8102b7be781f809d589ed37d5f755bead81b
Patch-mainline: PR#1692
References: llvm 15 fix

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 test/Feature/VarArgByVal.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/test/Feature/VarArgByVal.c b/test/Feature/VarArgByVal.c
index 7b979f61..3f60ea12 100644
--- a/test/Feature/VarArgByVal.c
+++ b/test/Feature/VarArgByVal.c
@@ -9,7 +9,7 @@
 //
 // TODO: Make noundef unconditional when LLVM 14 is the oldest supported version.
 // CHECK: call void (ptr, i32, ...) @test1(ptr sret(%struct.foo) align 8 {{.*}}, i32 noundef -1, ptr noundef byval(%struct.foo) align 8 {{.*}}, ptr noundef byval(%struct.bar) align 8 {{.*}})
-// CHECK: call void (ptr, i32, i64, ...) @test2(ptr sret(%struct.foo) align 8 %tmp, i32 noundef {{.*}}, i64 noundef {{.*}}, i32 noundef {{.*}}, ptr noundef byval(%struct.foo) align 8 {{.*}}, i64 noundef {{.*}}, ptr noundef byval(%struct.bar) align 8 {{.*}}, ptr noundef byval(%struct.foo) align 8 {{.*}}, ptr noundef byval(%struct.bar) align 8 {{.*}})
+// CHECK: call void (ptr, i32, i64, ...) @test2(ptr sret(%struct.foo) align 8 {{.*}}, i32 noundef {{.*}}, i64 noundef {{.*}}, i32 noundef {{.*}}, ptr noundef byval(%struct.foo) align 8 {{.*}}, i64 noundef {{.*}}, ptr noundef byval(%struct.bar) align 8 {{.*}}, ptr noundef byval(%struct.foo) align 8 {{.*}}, ptr noundef byval(%struct.bar) align 8 {{.*}})
 #include <stdarg.h>
 #include <assert.h>
 #include <stdio.h>
-- 
2.43.0

