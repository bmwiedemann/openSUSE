From: Martin Nowack <m.nowack@imperial.ac.uk>
Date: Mon, 30 Oct 2023 14:54:46 +0000
Subject: Add support to `aligned_alloc` generated by LLVM
Patch-mainline: no
References: llvm16

Handle like `memalign` for now.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 lib/Core/SpecialFunctionHandler.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/lib/Core/SpecialFunctionHandler.cpp b/lib/Core/SpecialFunctionHandler.cpp
index 488fba51..79a86112 100644
--- a/lib/Core/SpecialFunctionHandler.cpp
+++ b/lib/Core/SpecialFunctionHandler.cpp
@@ -87,6 +87,7 @@ static constexpr std::array handlerInfo = {
   addDNR("klee_abort", handleAbort),
   addDNR("klee_silent_exit", handleSilentExit),
   addDNR("klee_report_error", handleReportError),
+  add("aligned_alloc", handleMemalign, true),
   add("calloc", handleCalloc, true),
   add("free", handleFree, false),
   add("klee_assume", handleAssume, false),
-- 
2.43.0

