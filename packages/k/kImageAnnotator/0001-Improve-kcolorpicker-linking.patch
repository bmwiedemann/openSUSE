From 643e15e45ef7474f6f4c4b01ee3c3f71ef82f022 Mon Sep 17 00:00:00 2001
From: Nicolas Fella <nicolas.fella@gmx.de>
Date: Wed, 15 Apr 2020 20:13:12 +0200
Subject: [PATCH] Improve kcolorpicker linking

Use imported target for kcolorpicker, fixes include directories when installing kcolorpicker in non-standard locations
extract duplicate target_link_library calls
Make link to kcolorpicker private
---
 CMakeLists.txt | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 98df51c..a923453 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -55,10 +55,10 @@ target_include_directories(kImageAnnotator
 						   $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>
 						   )
 
+target_link_libraries(kImageAnnotator PUBLIC Qt5::Widgets PRIVATE kColorPicker::kColorPicker)
+
 if (UNIX)
-	target_link_libraries(kImageAnnotator PUBLIC Qt5::Widgets kColorPicker X11)
-else ()
-	target_link_libraries(kImageAnnotator PUBLIC Qt5::Widgets kColorPicker)
+	target_link_libraries(kImageAnnotator PRIVATE X11)
 endif ()
 
 target_compile_definitions(kImageAnnotator PRIVATE KIMAGEANNOTATOR_LIB)
-- 
2.25.1

