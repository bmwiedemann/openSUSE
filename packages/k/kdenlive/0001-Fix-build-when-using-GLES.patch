From d19d683490cd5f4408cb4fd84afdfe8d8d996668 Mon Sep 17 00:00:00 2001
From: Christophe Marin <christophe@krop.fr>
Date: Tue, 28 May 2024 13:39:45 +0200
Subject: [PATCH] Fix build when using GLES

---
 src/monitor/openglvideowidget.cpp | 4 ++++
 src/monitor/videowidget.cpp       | 4 ++++
 2 files changed, 8 insertions(+)

diff --git a/src/monitor/openglvideowidget.cpp b/src/monitor/openglvideowidget.cpp
index 2cc9032..b84078f 100644
--- a/src/monitor/openglvideowidget.cpp
+++ b/src/monitor/openglvideowidget.cpp
@@ -7,8 +7,12 @@
 #include "core.h"
 #include "profiles/profilemodel.hpp"
 
+#if QT_CONFIG(opengles2)
+#include <QOpenGLFunctions_ES2>
+#else
 #include <QOpenGLFunctions_1_1>
 #include <QOpenGLFunctions_3_2_Core>
+#endif
 #include <QOpenGLVersionFunctionsFactory>
 #include <utility>
 
diff --git a/src/monitor/videowidget.cpp b/src/monitor/videowidget.cpp
index 040f851..efdbf42 100644
--- a/src/monitor/videowidget.cpp
+++ b/src/monitor/videowidget.cpp
@@ -15,7 +15,11 @@
 #include <QApplication>
 #include <QFontDatabase>
 #include <QOpenGLContext>
+#if QT_CONFIG(opengles2)
+#include <QOpenGLFunctions_ES2>
+#else
 #include <QOpenGLFunctions_3_2_Core>
+#endif
 #include <QPainter>
 #include <QQmlContext>
 #include <QQuickItem>
-- 
2.45.1

