From e58ab02bac8dd33964a71e4336d072e8ca4c71ed Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andrius=20=C5=A0tikonas?= <andrius@stikonas.eu>
Date: Sat, 1 Jan 2022 16:18:57 +0000
Subject: [PATCH] Add support for copying unknown partitions.

BUG: 447784
---
 src/fs/unknown.cpp | 1 +
 src/fs/unknown.h   | 5 +++++
 2 files changed, 6 insertions(+)

diff --git a/src/fs/unknown.cpp b/src/fs/unknown.cpp
index 156862c..6b441e2 100644
--- a/src/fs/unknown.cpp
+++ b/src/fs/unknown.cpp
@@ -13,6 +13,7 @@ namespace FS
 {
 
 FileSystem::CommandSupportType unknown::m_Move = FileSystem::cmdSupportCore;
+FileSystem::CommandSupportType unknown::m_Copy = FileSystem::cmdSupportCore;
 
 unknown::unknown(qint64 firstsector, qint64 lastsector, qint64 sectorsused, const QString& label, const QVariantMap& features) :
     FileSystem(firstsector, lastsector, sectorsused, label, features, FileSystem::Type::Unknown)
diff --git a/src/fs/unknown.h b/src/fs/unknown.h
index 5f06943..a279370 100644
--- a/src/fs/unknown.h
+++ b/src/fs/unknown.h
@@ -37,7 +37,12 @@ public:
         return m_Move;
     }
 
+    CommandSupportType supportCopy() const override {
+        return m_Copy;
+    }
+
     static CommandSupportType m_Move;
+    static CommandSupportType m_Copy;
 };
 }
 
-- 
2.35.1

