From 858f8d9baefb3e2402ad7cfabb31f77928004989 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andrius=20=C5=A0tikonas?= <andrius@stikonas.eu>
Date: Sun, 20 Feb 2022 20:49:57 +0000
Subject: [PATCH] Add a comment about WriteOnly.

---
 src/util/externalcommandhelper.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/util/externalcommandhelper.cpp b/src/util/externalcommandhelper.cpp
index 6da2a21..484f91a 100644
--- a/src/util/externalcommandhelper.cpp
+++ b/src/util/externalcommandhelper.cpp
@@ -137,6 +137,7 @@ bool ExternalCommandHelper::WriteFstab(const QByteArray& fileContents)
     QString fstabPath = QStringLiteral("/etc/fstab");
     QFile fstabFile(fstabPath);
 
+    // WriteOnly implies O_TRUNC
     auto flags = QIODevice::WriteOnly | QIODevice::Unbuffered;
     if (!fstabFile.open(flags)) {
         qCritical() << xi18n("Could not open file <filename>%1</filename> for writing.", fstabPath);
-- 
2.35.1

