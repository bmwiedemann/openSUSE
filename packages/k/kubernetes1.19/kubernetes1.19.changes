-------------------------------------------------------------------
Wed Jan 20 10:01:24 UTC 2021 - dmueller@suse.com

- Update to version 1.19.7:
  * use default unkown sock for kubeadm cmd if cri detect is not needed
  * cherry-pick part of #97451: fix nodeport quota check failure during creating clusterip
  * Release reserved GCE IP address after ensure completes.
  * Ensure reproducible builds when build through docker
  * Fix cadvisor machine metrics
  * Create OWNERS for most of the API Priority and Fairness impl
  * Fix bug in CPUManager with race on map acccess
  * fix azure file secret not found issue
  * fix: azure file latency issue for metadata-heavy workload
  * Update CHANGELOG/CHANGELOG-1.19.md for v1.19.6
  * Add more logging for Mount error

-------------------------------------------------------------------
Tue Jan 05 12:02:26 UTC 2021 - rbrown@suse.com

- Update to version 1.19.6:
  * volumebinding: report UnschedulableAndUnresolvable status instead of an error when PVC not found
  * E2E stress test suite for VolumeSnapshots
  * [go1.15] Use go-runner:buster-v2.2.2 image (built on go1.15.5)
  * [go1.15] staging/publishing: Set default go version to go1.15.5
  * [go1.15] Update to go1.15.5
  * [go1.15] hack/tools: Update to k/repo-infra@v0.1.3 (supports go1.15.5)
  * [go1.15] build: Update to k/repo-infra@v0.1.3 (supports go1.15.5)
  * Flush FibreChannel devices before deleting
  * Fix FibreChannel volume plugin corrupting filesystem on detach
  * vendor: update cAdvisor to v0.37.3
  * Update CHANGELOG/CHANGELOG-1.19.md for v1.19.5
  * fix migration logic
  * Add AcceleratorStats to cri_stats_provider
  * coredns dep.Severity is newdefault, not newDefault
  * Update ingress conformance test for finalizers
  * bump cadvisor to 0.37.2
  * Restore beta os/arch labels on initial node registration
  * fix bug: concurrent map writes error
  * range_allocator: Test (lack of) double counting
  * cidrset: Add test for double counting
  * Fix double counting of IP addresses
  * Choosing the right source VIP for local endpoints
  * Bump node-problem-detector to v0.8.5
  * allow configuring ReadIdelTimeout and PingTimeout via env var
  * Add a unit test testing the HTTP/2 health check help the REST client detects broken TCP connections.
  * configure the ReadIdleTimeout and PingTimeout of the h2 transport
  * update golang.org/x/net and golang.org/x/sys, equivalent of #96549
  * fix: resize Azure disk issue when it's in attached state
  * Remove ready directory which created in empty volumeMounter setUp func
  * Updating to cadvisor v0.37.1
  * Fix cacheWatcher leak when time jump to the future and jump back
  * update e2e kubectl test
  * prune type in preserve-unknown-fields objects
  * apiextensions: prune array type without items in published OpenAPI
  * fix pull image error from multiple ACRs using azure managed identity
  * fix kube-proxy cleanup
  * change GetFullQualifiedPluginNameForVolume to distinuish different drivers
  * Fix a bug that DefaultPreemption plugin is disabled when using scheduler policy
  * Update CHANGELOG/CHANGELOG-1.19.md for v1.19.4
  * use patch instead of replace to test the dry-run option
  * Fix --dry-run invocation in kubectl e2e
  * Clean up remaining ns flag
  * Use namespace flag passed to RunKubectl* methods
  * Update max data disk count with new instance types
  * fix the panic when kubelet registers if a node object already exists with no Status.Capacity or Status.Allocatable
  * report UnschedulableAndUnresolvable status instead of an error when PVCs can't find bound persistent volumes
  * do not allow inflight watermark histograms to fall too far behind
  * Fix bug in JSON path parser where an error occurs when a range is empty
  * Build files
  * Allow priority to be set for kubelet process on Windows
  * DelegatingAuthorizationOptions: exposes and sets a default timeout for SubjectAccessReview client
  * Do not update managedFields timestamp when they don't change
  * Mask bearer token in logs when logLevel >= 9

-------------------------------------------------------------------
Fri Nov 13 13:03:45 UTC 2020 - rbrown@suse.com

- Update to version 1.19.4:
  * Do not skip externalLB update if some nodes are not found.
  * Honor disabled LocalStorageCapacityIsolation in scheduling
  * Disable watchcache for events
  * Fix seccomp PSP docker/default annotation handling
  * Re-add the event recorder in the release test
  * Don't clear the cached resourcelock when errors occurs on updates
  * Add failing test showing release is not working properly
  * Add lease release tests in leader election
  * Generate complete leader election record to resolve leader election issues with LeaseLocks
  * Fix a bug that Pods with topologySpreadConstraints get scheduled to nodes without required labels
  * If we set SelectPolicy MinPolicySelect on scaleUp behavior or scaleDown behavior,Horizontal Pod Autoscaler doesn`t automatically scale the number of pods correctly
  * fix: add missing patch flag for kubeadm init phase control-plane
  * Update the PIP when it is not in the Succeeded provisioning state during the LB update.
  * Do not assume storageclass is still in-tree after csi migration
  * Fix `kubectl describe ingress` format
  * Fixes high CPU usage in kubectl drain
  * Ignore deleted pods.
  * Automated cherry pick of #94781: Don't attempt to detach an FC device if we don't know its name
  * add a local tlsTransportCache to available_controller
  * don't cache transports for incomparable configs
  * Fix fcpath
  * Update CHANGELOG/CHANGELOG-1.19.md for v1.19.3
  * fix upgrade test
  * fix azure disk data loss issue on Windows
  * fix azure disk attach failure for disk size bigger than 4TB
  * cloud node controller: handle empty providerID from getProviderID
  * Updating kube-proxy to trim space from loadBalancerSourceRanges
  * Don't create a new sandbox for pod with RestartPolicyOnFailure if all containers succeeded

-------------------------------------------------------------------
Thu Oct 15 17:06:17 UTC 2020 - rbrown@suse.com

- Update to version 1.19.3:
  * Azure: fix node removal race condition on VMSS deletion
  * Fix reporting network_programming_latency metrics in kube-proxy
  * make download-or-bust compatible with both sha512/sha1
  * replace sha1 with sha512
  * avoid potential secret leaking while reading .dockercfg
  * Mask Ceph RBD adminSecrets in logs when logLevel >= 4
  * upgrade test for BoundServiceAccountTokenVolume
  * fix detach azure disk issue when vm not exist
  * vsphere: improve logging message on node cache refresh event
  * Fix UpdateSnapshot when Node is partially removed
  * kubeadm: make the CP join handling of kubeconfig similar to "init"
  * kubeadm: warn but do not error out on missing CA keys on CP join
  * Return the Kubernetes version which stopped serving deprecated APIs by default
  * fix: detach azure disk broken on Azure Stack
  * Ensuring EndpointSlices are recreated after Service recreation
  * Handle nil elements when sorting, instead of panicking
  * use more granular buckets for azure api calls
  * do not mutate endpoints in the apiserver
  * Remove HeadlessService label in endpoints controller before comparing
  * test: add unit-test for TranslateCSIPVToInTree.
  * fix azure file migration panic
  * kubeadm: relax the validation of kubeconfig server URLs
  * portforward: Fix UDP-only ports calculation
  * make kube::util::find-binary not dependent on bazel-out/ structure
  * output go_binary rule directly from go_binary_conditional_pure
  * hack/lib/util.sh: some bash cleanups
  * bazel: Replace --features with Starlark build settings flag
  * [go1.15] staging/publishing: Set default go version to go1.15.2
  * [go1.15] build: Use go-runner:buster-v2.0.1 (built using go1.15.1)
  * [go1.15] Update to go1.15.2
  * [go1.15] hack/tools: Update to k/repo-infra@v0.1.1 (supports go1.15.2)
  * [go1.15] build: Update to k/repo-infra@v0.1.1 (supports go1.15.2)
  * Update CHANGELOG/CHANGELOG-1.19.md for v1.19.2
  * count of etcd object should be limited to the specified resource
  * Track pods with required anti-affinity
  * Ensure getPrimaryInterfaceID not panic when network interfaces for Azure VMSS are null
  * Fix misusage of RLock in timeCache lru.Cache.Get()
  * support ipv6 in e2e policy tests
  * Allow 404 error on lb deletion in azure
  * fix: azure disk resize error if source does not exist
  * chore: add diskclient.Update interface
  * chore: add diskclient.ListByResourceGroup interface

-------------------------------------------------------------------
Wed Oct  7 19:04:00 UTC 2020 - Dirk Mueller <dmueller@suse.com>

- use obsinfo again for commit id extraction, as this matches
  upstream's build commit id (just in case).

-------------------------------------------------------------------
Wed Oct  7 14:37:30 UTC 2020 - Dirk Mueller <dmueller@suse.com>

- fix git commit determination (bsc#1177289) 

-------------------------------------------------------------------
Thu Sep 17 09:05:50 UTC 2020 - rbrown@suse.com

- Update to version 1.19.2:
  * Fix index out of range panic for kubectl alpha debug
  * kubectl describe pod: use ReportingController as an event source
  * Update CNI plugins to v0.8.7
  * Add roundtrip tests for metrics repo
  * Cleanup custom metrics conversion functions
  * Update CHANGELOG/CHANGELOG-1.19.md for v1.19.1
  * Sort list of formats for --logging-format description to make it deterministic

-------------------------------------------------------------------
Thu Sep 10 09:41:24 UTC 2020 - rbrown@suse.com

- Update to version 1.19.1:
  * build/lib/release: Explicitly use '--platform' in building server images
  * build/common.sh: Remove extraneous reference to debian-base image
  * Update default etcd server to 3.4.13
  * kubeadm: remove the CoreDNS check for supported image digests
  * Update snapshot controller to use k8s.gcr.io
  * kubeadm: make the scheduler and KCM connect to local endpoint
  * Fixed reflector not recovering from "Too large resource version" errors with API servers 1.17.0-1.18.5
  * let panics propagate up when processLoop panic
  * kubeadm: Fix `upgrade plan` for air-gapped setups
  * Add impersonated user to system:authenticated group
  * cleanup: print warning message after timeout
  * Revert "cleanup: decrease log level from warn to v3"
  * cleanup: decrease log level from warn to v3
  * Remove duplicate nodeSelector
  * test(kubelet): add a regression test to verify kubelet would not panic
  * fix(kubelet): protect `containerCleanupInfos` from concurrent map writes
  * fix(azure): check error returned by scaleSet.getVMSS
  * Fix issue on skipTest in storage suits
  * Use NLB Subnet CIDRs instead of VPC CIDRs in updateInstanceSecurityGroupsForNLB
  * Add PR #89069 Action Required
  * Update CHANGELOG/CHANGELOG-1.19.md for v1.19.0

-------------------------------------------------------------------
Mon Sep  7 08:36:36 UTC 2020 - Richard Brown <rbrown@suse.com>

- kubernetes%{baseversion}-kubeadm now obsoletes kubernetes%{baseversionminus1}-kubeadm
 
-------------------------------------------------------------------
Fri Aug 28 13:01:23 UTC 2020 - Richard Brown <rbrown@suse.com>

- Introduce kubernetes$FOO-client-common package to make -client truely parralel installable

-------------------------------------------------------------------
Thu Aug 27 11:42:58 UTC 2020 - rbrown@suse.com

- Update to version 1.19.0:
  * Updating EndpointSliceMirroring controller to listen for Service changes
  * test(kuberuntime): deflake TestRemoveContainer
  * build: Update to go-runner:buster-v2.0.0
  * build: Migrate go-runner image building to k/release
  * Reserve Static IP in Ingress test
  * Add rbac patch permissions for system:controller:glbc ingresses/status
  * Update json-patch to v4.9.0 tagged release
  * synchronize agnhost image / app version
  * track agnhost version in dependencies.yaml
  * Make sampleAndWaterMarkHistograms not fall very far behind
  * fix e2e test
  * etcd 3.4.12
  * Deflake TestServiceRegistryUpdateDryRun test
  * Fixing a flaky EndpointSliceMirroring integration test
  * Updating EndpointSlice controller to wait for all caches to be synced
  * Deflake TestSubresourcePatch
  * Speed up master reconciler tests
  * Remove flaky audit e2e test
  * Fix building with GOFLAGS=-v
  * Fix issue in evaluating symlink path for subpath
  * move ixdy to emeritus
  * move krzyzacy to emeritus
  * Fix bug for inconsistent lists served from etcd
  * publishing: Drop 'go' field from 'controller-manager' 'master' branch
  * publishing: Use go1.15.0 as default version
  * publishing: Use go1.13.15 for 1.18, 1.17, and 1.16 release branches
  * Refactor locks on registeredNodesLocks
  * fix(pluginwatcher): watch socket dir before traversing it
  * test(kubectl): deflake run_kubectl_apply_tests
  * upgrade rules_docker
  * Fix validation of ingress rules with wildcard host
  * Add missing changelog entries for v1.18.7
  * Add missing changelog entries for v1.17.10
  * Keep track of remaining pods when a node is deleted.
  * Remove direct accesses to cache's node map
  * CHANGELOG: Update directory for v1.18.8 release
  * [go115] Require go1.15 in build helper scripts
  * CHANGELOG: Update directory for v1.17.11 release
  * Add sigs for root folders
  * CHANGELOG: Update directory for v1.16.14 release
  * [go1.15] Update to go1.15
  * [go1.15] hack/tools: Update to k/repo-infra@v0.0.12 (supports go1.15.0)
  * [go1.15] build: Update to k/repo-infra@v0.0.12 (supports go1.15.0)
  * [e2e]Bind csi driver namespace to test namespace to avoid namespace collision
  * Promote spiffxp to build/ approver
  * Updating EndpointSlice controllers to return if error encountered
  * e2e storage: avoid flaky test failure when watch dies
  * Validate ingress TLS secretName in v1
  * e2e services wait for endpoint and endpoint slices
  * [Flaky test]kubectl log test never restart pod
  * cluster/images/etcd: Build etcd@3.4.9-3 using debian-base@v2.1.3
  * build: Update to debian-base@v2.1.3 and debian-iptables@v12.1.2
  * Updating EndpointSlice e2e tests to accept duplicate EndpointSlices
  * test(endpoints): deflake TestWatchHTTPTimeout
  * Sync cache before starting scheduler test
  * forget the pod when the reserve plugins fail
  * Update SMD to v4.0.1 and kube-openapi
  * Wait for mock CSI Driver bringup to perform e2e test
  * scheduler_perf: label nodes for pod affinity
  * Skip LB test per schedulable node count
  * fix(azure): set default value of VmssVirtualMachinesCacheTTLInSeconds during init to prevent data race
  * [go1.15] Update to go1.15rc2
  * generated: hack/update-hack-tools.sh && hack/update-vendor.sh
  * [go1.15] hack/tools: Update to k/repo-infra@v0.0.11 (supports go1.15rc2)
  * [go1.15] build: Update to k/repo-infra@v0.0.11 (supports go1.15rc2)
  * Sign up dims for additional review roles
  * Update to json-patch 4.8.0
  * Deflake LimitRange e2e test
  * Add test cluster check when starting csi proxy
  * [go1.15] Use errors.As to unwrap net errors
  * Fix namespace controller cleanup orphaning
  * Add LabelSelector validation in Pod Affinity/AntiAffinity Filter and Score plugins
  * Add tests for out of band attachments
  * Add missing termination metrics to priority-and-fairness handler
  * e2e delete namespaces after finish
  * Add missing ppc64le architecture in the get-kube* scripts
  * Requeue service after endpoint deletion
  * Do not evict pods which tolerate all NoExecute taints
  * fix: deflake run_kubectl_apply_tests
  * Deflake TestUpdateNodeStatusWithLease - guard cached machineInfo
  * CHANGELOG: Update directory for v1.19.0-rc.4 release
  * Update CHANGELOG/CHANGELOG-1.19.md for v1.19.0-rc.4
  * Fix /readyz to contain informer-sync
  * Move bgrant0607 to emeritus status.
  * Update e2e csi images to k8s.gcr.io
  * Deflake scheduler PostBind integration test
  * cloud-node-lifecycle controller: add missing instancev2 calls for node exists and node shutdown
  * cloud provider: remove redundant implementation of InstanceMetadataByProviderID since instanceV2 is disabled for all providers
  * cloud provider: remove provider ID references and improve documentation
  * test/e2e: fail test rather than flooding logs if PVC watch is closed prematurely
  * fix TestVolumeBinding unit test
  * Deflake TestExpectationsOnRecreate
  * Add kind/regression label to the pull request template
  * Update Cluster Autoscaler version to 1.19.0
  * Make AttachDisk idempotent again
  * integration: Wait for PV to be available
  * Fixing memory leak in EndpointSliceMirroring EndpointSlice tracker
  * Fix an issue when rotated logs of dead containers are not removed.
  * Remove unuseful error message about updating pod conditions not owned by kubelet
  * Makefile: update test-e2e-node help

-------------------------------------------------------------------
Wed Aug 26 08:18:37 UTC 2020 - Richard Brown <rbrown@suse.com>

- Initial Packaging 
