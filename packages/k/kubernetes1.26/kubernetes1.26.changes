-------------------------------------------------------------------
Wed Jan 24 14:36:14 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update .spec file to remove go version build requirements:
  * above build requirement causing build failures with following error:
     - `go: download go1.20.13 for linux/amd64: toolchain not available`
     - ref: https://go.dev/doc/toolchain

- Update to version 1.26.13:
  * [go] Bump images, dependencies and versions to go 1.20.13 and distroless iptables to 0.2.9
  * Handle edge cases in seat demand stats
  * fix: 119921
  * Use a separate function for checking if device was reconstructed
  * Add tests for checking of uncertain device paths
  * Fix device uncertain errors on reboot
  * fix(scheduler): fix incorrect loop logic in MultiPoint to avoid a plugin being loaded multiple times
  * etcd: Update to version 3.5.10

-------------------------------------------------------------------
Wed Jan 24 14:34:29 UTC 2024 - priyanka.saggu@suse.com

- Update to version 1.26.12:
  * run update-vendor script
  * [go] Bump images, dependencies and versions to go 1.20.12
  * pass GOTOOLCHAIN to build containers
  * handle GOTOOLCHAIN in kube::golang::verify_go_version
  * fix: requeue pods rejected by Extenders properly
  * Bump distroless-iptables to v0.2.8 that uses go1.20.11
  * fix: smb file share unavailable issue when it's deleted
  * run hack scripts to update cyphar/filepath-securejoin to v0.2.4 correctly
  * update filepath-securejoin dependency to 0.2.4 to fix security vulnerability

-------------------------------------------------------------------
Fri Nov 24 07:40:48 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.20.11`

- Update to version 1.26.11:
  * Use golang library instead of mklink
  * [go] Bump images, dependencies and versions to go 1.20.11
  * Fixing attempt to deploy past allocatable memory limits test on Windows
  * bump golang.org/grpc to v1.56.3
  * Add more test cases ensuring nextScheduleTimeDuration is never < 0
  * Modify mostRecentScheduleTime to return more detailed information about missed schedules
  * Re-use common parts between getNextScheduleTime and nextScheduledTimeDuration
  * Cleanups in controller utils
  * Fixing gmsa-webhook install steps for Windows GMSA full tests
  * Service controller: improve node lifecycle updates
  * KCCM: fix GCP ILB by reintroducing readiness predicate for eTP:Local
  * Use Patch instead of SSA for Pod Disruption condition
  * Retry operations if CSI Driver Isn't Found by Treating this Error as Transient

-------------------------------------------------------------------
Thu Oct 26 05:44:41 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.20.10`
- Update to version 1.26.10:
  * Release commit for Kubernetes v1.26.10
  * Register UnauthenticatedHTTP2DOSMitigation into kube components
  * Skip TestUnauthenticatedHTTP2ClientConnectionClose http1 tests
  * Disable UnauthenticatedHTTP2DOSMitigation by default
  * Prevent rapid reset http2 DOS on API server
  * Fix concurrent write when filling PVC labels
  * Modify test PVC to detect concurrent map write bug
  * [go] Bump images, dependencies and versions to go 1.20.10
  * .: bump golang.org/x/net to v0.17.0
  * Add nil checks for hpa object target type values
  * Mark a volume as uncertain-attached after detach error
  * [go] Bump images, versions and deps to use Go 1.20.9
  * bump etcd cluster image to 3.5.9
  * cronjob controller: ensure already existing jobs are added to Active list of cronjobs
  * change rolling update logic to exclude sunsetting nodes
  * vsphere: adapt to govmomi bump
  * .: bump govmomi to v0.30.6
  * Increase range of job_sync_duration_seconds
  * sync Service API status rest storage
  * scheduler: start scheduling attempt with clean UnschedulablePlugins
  * updating dependencies.yaml for etcd v3.5.9 version
  * use upstream etcd github path instead of redirecting one
  * update etcd version in install.sh to 3.5.9
  * move check for noop managed field timestamp updates

-------------------------------------------------------------------
Wed Sep 20 18:00:04 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- fixes for bsc#1214406
- update `Wants` directive in [Unit] section of `kubelet.service`:
  * add: `containerd.service`
  * remove: `docker.service`
- updating container runtime prerequisites:
  (Refer: k8s.io/docs/setup/production-environment/container-runtimes/#install-and-configure-prerequisites)
  * update `90-kubeadm.conf` to add below iptables rules:
    - net.bridge.bridge-nf-call-iptables = 1
    - net.bridge.bridge-nf-call-ip6tables = 1
  * update `kubeadm.conf` to add `overlay` kernel module
  * update .spec file to:
    - add post-installation scriptlet for `kubeadm` package to enable iptables rules defined in `90-kubeadm.conf` using sysctl
    - add conditional checks to load kernel modules (br_netfilter, overlay) in `kubelet-common` package post-installation scriptlet
    - update `kubelet-common` post scriptlet to correctly update `KUBELET_VER` var in `/etc/sysconfig/kubelet` file based on fillup template
- add below to `kubelet` subpackage to recommend installing correct version of package providing `kubernetes-kubelet-common` :
  * `Recommends: kubernetes-kubelet-common = %{version}`
- add below to `kubeadm` subpackage to recommend installing correct version of `kubelet` and `kubelet-common` packages:
  * `Recommends: kubernetes%{baseversion}-kubelet`

-------------------------------------------------------------------
Wed Sep 20 09:25:03 UTC 2023 - priyanka.saggu@suse.com

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.20.8`
- Update to version 1.26.9:
  * Release commit for Kubernetes v1.26.9
  * [go] Bump images, versions and deps to use Go 1.20.8
  * Automated cherry pick of #119776: Fix a job quota related deadlock (#120321)
  * TopologyAwareHints: Take lock in HasPopulatedHints
  * Mark Job onPodConditions as optional in pod failure policy
  * Update CHANGELOG/CHANGELOG-1.26.md for v1.26.8
  * Incorporating feedback on 119341
  * check for overflow
  * Fix CEL cost handling of zero length replacement strings
  * generate ReportingInstance and ReportingController in Event
  * Pass Pinned field to kubecontainer.Image
  * update otelhttp to v0.35.1
  * prep for go1.21: use -e in go list
  * Skip apiserver_admission_webhook_request_total during context-canceled
  * Ignore context canceled from validate and mutate webhook failopen metric
  * kubeadm: fix nil pointer when etcd member is already removed
  * update to golangci-lint v1.54.1 + go-ruleguard v0.4.0
  * fix: when PreFilter returns UnschedulableAndUnresolvable, copy the state in all nodes in statusmap
  * Issue 4230: remove readiness check for cache exclusion
  * run dummy command return status 0
  * unit test not requiring priviledge
  * Revert "Revert #114605: its unit test requires root permission"
  * node: devicemgr: topomgr: add logs
  * e2e: node: add test to check device-requiring pods are cleaned up
  * e2e: node: devices: improve the node reboot test
  * e2e: node: devicemanager: update tests
  * kubelet: devices: skip allocation for running pods
  * Add test coverage of result size of string operations
  * Bump cel-go to v0.12.7

-------------------------------------------------------------------
Tue Sep 12 12:24:26 UTC 2023 - priyanka.saggu@suse.com

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.20.7`
- Update to version 1.26.8:
  * Release commit for Kubernetes v1.26.8
  * Use environment varaibles for parameters in Powershell
  * Use env varaibles for passing path
  * Avoid returning nil responseKind in v1beta1 aggregated discovery
  * [release-1.26] releng/go: Bump images, versions and deps to use Go 1.20.7 and update protoc
  * e2e_node: move getSampleDevicePluginPod to device_plugin_test.go
  * fix 'pod' in kubelet prober metrics
  * priority & fairness: support dynamically configuring work estimator max seats
  * events: fix EventSeries starting count discrepancy
  * tools/events: fix data race when emitting series
  * tools/events: retry on AlreadyExist for Series
  * kubeadm: backdate generated CAs by 5 minutes
  * client-go: allow to set NotBefore in NewSelfSignedCACert()
  * Fix a data race in TopologyCache
  * Fix TopologyAwareHint not working when zone label is added after Node creation

-------------------------------------------------------------------
Tue Aug  1 12:55:16 UTC 2023 - Egbert Eich <eich@suse.com>

- Restore the correct content of the  kublet wrapper script (boo#1213829).

-------------------------------------------------------------------
Wed Jul 26 10:50:38 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update: `BuildRequires:  go >= 1.20.6`
- Update: `BuildRequires:  golang(API) = 1.20`

- Update to version 1.26.7:
  * [release-1.26] releng/go: Bump images, versions and deps to use Go 1.20.6
  * Fix the converts an empty string to nil.
  * Add unit tests for parallel StatefulSet create & delete
  * Parallel StatefulSet pod create & delete
  * Refactor StatefulSet controller update logic
  * Only declare job as finished after removing all finalizers
  * Cherry pick of #118716 upstream release 1.26 (#118912)
  * Hide numberOfMissedSchedules as an algorithm internal number
  * Update schedule logic to properly calculate missed schedules
  * kubeadm: set priority for "system-node-critical" Pods
  * Automated cherry pick of #118805: test comment should match the code in podgc (#118914)
  * call ./hack/update-vendor.sh
  * kubeadm: remove function pointer comparison in phase test
  * Make etcd component status consistent with health probes
  * Fix deadlock in ready test
  * fix the existing problem (0 SerialNumber in all certificate) as part of this PR in a separate commit
  * update serial number to a valid non-zero number in ca certificate
  * deps: Bump to cAdvisor v0.46.1
  * AWS: fix code for picking region from zone
  * Fix the git-repo test error caused by the correct use of loop variables
  * dra scheduler plugin test: fix loopvar bug and "reserve" expected data
  * don't process unsupported loadbalancers with mixed protocols
  * make MixedProtocolNotSupported public
  * Add node check to vSphere cloud provider
  * Set permissions on volume before publishing update
  * Adding additional validations to queried endpoint list iteration.

-------------------------------------------------------------------
Wed Jun 21 04:55:08 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update: `BuildRequires:  go >= 1.19.10`
- Update to version 1.26.6:
  * Release commit for Kubernetes v1.26.6
  * update-vendor: update vendored go.sums
  * [release-1.26] releng/go: Update images, dependencies and version to Go 1.19.10
  * kube-proxy avoid race condition using LocalModeNodeCIDR
  * Add ephemeralcontainer to imagepolicy securityaccount admission plugin
  * Add DisruptionTarget condition when preempting for critical pod
  * update webhook test to go 1.21
  * Test APIService safe handling at startup
  * Fix waiting for CRD sync at server start
  * kubeadm: fix a bug where the static pod changes detection logic is inconsistent with kubelet
  * kubeadm: Make etcd member removal idempotent
  * kubeadm: Add etcd client unit tests
  * kubeadm: Use internal etcd client through an interface
  * run update-vendor.sh
  * vclib: Modify x509.UnknownAuthorityError unwrap check
  * vsphere: Adapt to govmomi version bumps
  * *: Bump version of vmware/govmomi

-------------------------------------------------------------------
Mon Jun 12 05:04:12 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update BuildRequires:  `go >= 1.19.9`
- Update to version 1.26.5:
  * Release commit for Kubernetes v1.26.5
  * benchmark test to evaluate the overhead of podMatchesScopeFunc
  * Fix incorrect calculation for ResourceQuota with PriorityClass as its scope
  * Update podFailurePolicy comments from alpha-level to beta
  * releng/go: Update images, dependencies and version to Go 1.19.9
  * Kube-proxy/ipvs: accept access to healthCheckNodePort on LbIP
  * node: device-plugin: e2e: Additional test cases
  * node: device-plugin: add node reboot test scenario
  * node: device-plugin: e2e: Capture pod admission failure
  * node: device-mgr: e2e: adapt to sample device plugin refactoring
  * node: device-mgr: e2e: Update the e2e test to reproduce issue:109595
  * node: device-mgr: e2e: Implement End to end test
  * node: device-mgr: Handle recovery by checking if healthy devices exist
  * node: device-plugin: e2e: Add test case for kubelet restart
  * node: device-plugin: e2e: Provide sleep intervals via constants
  * node: device-plugin: e2e: Update test description to make it explicit
  * node: device-plugin: e2e: Isolate test to pod restart scenario
  * node: device-plugin: e2e: Annotate device check with error message
  * node: device-plugins: e2e: s/devLen/expectedSampleDevsAmount
  * node: device-plugins: e2e: Refactor parse log to return string and error
  * test: Fix path to e2e node sample device plugin
  * node: device-mgr: sample device plugin: manifest to avoid registration
  * node: device-mgr: sample device plugin: control registration process
  * e2e: node: unify sample device plugin utilities
  * Bump runc go module v1.1.4 -> v1.1.6
  * Use absolute path instead requestURI in openapiv3 discovery
  * Correct the changelog for GlusterFS removal in 1.26.
  * Refactors discovery content-type and helper functions
  * Fix directory mismatch for `volume.SetVolumeOwnership()`
  * Investigate and fix the handling of Succeeded pods in DaemonSet
  * KCCM: add providerID predicate to service controller
  * add log includes pod preemption details
  * fix: the volume is not detached after the pod and PVC objects are deleted
  * use case-insensitive header keys for http probes
  * kube-aggregator: correctly use client-go TLS cache with custom dialer
  * Do not look at VPC-related resources outside the cluster's network
  * Bump konnectivity-client to 0.0.37
  * kubelet: Do not mutate pods in the pod manager
  * Fix azure disk e2e after migration
  * Return error for localhost seccomp type with no localhost profile defined
  * Bump the timeout for volume expansion
  * Wait for pod to be running before expanding

-------------------------------------------------------------------
Thu Apr 13 11:02:02 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.26.4:
  * Release commit for Kubernetes v1.26.4
  * releng/go: Update images, dependencies and version to Go 1.19.8
  * Drop development dependencies from test targets
  * Clear front proxy headers after authentication is complete
  * Make prerelease tag optional in CI versions
  * Annotate CI version regexes
  * Drop unused regex grouping
  * Delete unused version regex function
  * kubelet: Fix fs quota monitoring on volumes
  * fsquota: only generate pod uuid is nil
  * Preserve UID/ResourceVersion in the BindingREST endpoint
  * Add integration test for DefaultBinder
  * API-initiated eviction: handle deleteOptions correctly
  * Change where transformers are called.
  * Aggregated discovery resilient to nil GVK
  * wait again on pending state
  * cacher allow context cancellation if not ready
  * Unlock CSIMigrationvSphere feature gate until there is a supported vSphere CSI driver available
  * Route controller should update routes with NodeIP changed When a node reboots or kubelet restarts, it is possible that its IP is changed. In this case, node route should be updated with the correct IP. In this PR, it checks if the IP in an existing route is the same as the actual one. If not, it marks it as "update" so the old route will be deleted and a new one will be created. There's a new field EnableNodeAddresses, which is a feature gate for specific cloud providers to enable after they update their cloud provider code for CreateRoute().
  * client-go/cache: update Replace comment to be more clear
  * client-go/cache: rewrite Replace to check queue first
  * client-go/cache: merge ReplaceMakesDeletionsForObjectsInQueue tests
  * client-go/cache: fix missing delete event on replace without knownObjects
  * client-go/cache: fix missing delete event on replace
  * CHANGELOG-1.26: move OpenStack in-tree provider removal to urgent notes

-------------------------------------------------------------------
Mon Mar 27 09:24:52 UTC 2023 - Robert Munteanu <rombert@apache.org>

- Stronger conflicts for completion packages 

-------------------------------------------------------------------
Mon Mar 27 08:53:20 UTC 2023 - Robert Munteanu <rombert@apache.org>

- Split individual completions into separate packages

-------------------------------------------------------------------
Wed Mar 22 08:35:51 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Add "BuildRequires: go>=1.19.7" in spec file  

-------------------------------------------------------------------
Tue Mar 21 08:16:15 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.26.3:
  * Release commit for Kubernetes v1.26.3
  * Avoid metric lookup in Parallelizer.Util on every work piece
  * One lock among PodNominator and SchedulingQueue
  * Removes old discovery hack ignoring 403 and 404
  * Plumb stale GroupVersions through aggregated discovery
  * releng/go: Update images, dependencies and version to Go 1.19.7
  * Tolerate empty discovery response in memcache client
  * Fix for windows kube-proxy: 'externalTrafficPolicy: Local' results in no clusterIP entry in windows node.
  * Deflake tests in staging/src/k8s.io/kube-aggregator/pkg/apiserver
  * Fix a data race in TestDirty
  * ut: fix TestLegacyFallbackNoCache versions order
  * Fix legacy fallback stale for aggregated discovery
  * Re-enable label selector
  * Add integration test for diff --prune --selector
  * Use label selector for filtering out resources when pruning. Matches same behavior as for kubectl apply
  * svc: Support pods with same address
  * api: generated files
  * api: drop Resources.Claims from PVC and PVC template
  * scheduler/framework/plugins/volumebinding: fix inaccurate log for when a volume is bound to a claim
  * Fix validation.go to validate without StatefulSetStartOrdinal feature gate check. Adds test case to validate regression fix of validation failing when spec.ordinals set and feature gate disabled
  * Remove global framework variable
  * fix race in aggregated discovery handler
  * Remove check for CSI driver running on node for CSI migration attach operations
  * Disable multiple pv mount tests for vsphere intree driver
  * Simplify construction of /metrics request
  * Fix for issue with Loadbalancer policy creation for IPV6 endpoints in Dualstack mode.
  * Bump konnectivity-client to v0.0.36
  * make GetSubnetPrefix IP family agnostic
  * Invoke gimme from kube::golang::verify_go_version
  * Defer builds to test-cmd and test-integration targets
  * Set node_stage whenever available
  * Carefully compute request path for metrics

-------------------------------------------------------------------
Thu Mar  9 13:34:25 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.26.2:
  * Release commit for Kubernetes v1.26.2
  * releng: Update images, dependencies and version to Go 1.19.6
  * Update golang.org/x/net to v0.7.0
  * Pin golang.org/x/net to v0.4.0 in 1.26
  * Enforce nodeName cannot be set along with non empty schedulingGates
  * kubelet/client: collapse transport wiring onto standard approach
  * Ignore container events with nil PodSandboxStatus
  * apiserver: remove 34s from DELETECOLLECTION rest handler
  * update prev succeeded indexes for indexed jobs unconditionally
  * dynamic resource allocation: avoid apiserver complaint about list content
  * Avoid typechecking stdlib
  * Fix konnectivity-client metric registration.
  * Fix nil pointer error in nodevolumelimits csi logging
  * add scale test for probes
  * kubectl: use v2 for hpa
  * Fix panic on ClusterIP allocation for /28 subnets
  * use custom dialer for http probes
  * use custom dialer for tcp probes
  * add custom dialer optimized for probes
  * k8s.io/component-base/logs: match full help text in unit test
  * k8s.io/component-base/logs: relax flagset unit tests
  * k8s.io/component-base/logs: unit test for command line help output
  * k8s.io/component-base/logs: fix usage through Go flag package
  * fix bug with param controllers being removed if used by more than one policy
  * bump honnef.co/go/tools to support go1.20
  * PodGC should not add DisruptionTarget condition for pods which are in terminal phase
  * pkg/controller/job: re-honor exponential backoff
  * releng: Update images, dependencies and version to Go 1.19.5
  * Do not include scheduler name in the preemption event message
  * Explicitly call rand.Seed() method
  * Exports WarningPrinter field in DeleteOptions
  * Do not leak cross namespace pod metadata in preemption events
  * Adjust DisruptionTarget condition message to do not include preemptor pod metadata
  * egress_selector.go: register konnectivity-client metrics.
  * expose prometheus.Registerer so that we can hook into this from external sources
  * Bump konnectivity-client to v0.0.35
  * Cherry pick 114857 to release-1.26
  * Automated cherry pick of #114602: Removed the reverted changes from Changelogv1.26.md
  * Update daemonSet status even if syncDaemonSet fails
  * Licensing: skip modules with fewer subdirs than mods
  * Fix issues in volumesnapshot test for ephemeral storage
  * Fix clearing rate limiter in disruption controller
  * Add pod to dsw if termination is not completed during reconstruction #issues/113979
  * Add .go-version file containing build go version
  * Windows Kube-Proxy implementation for internal traffic policy.
  * Fix a regression that scheduler always go through all Filter plugins
  * Fix SPDY proxy authentication with special chars
  * fix double lock and excercise its codepath in tests
  * Creating Ingress IP loadbalancer alone when all the endpoints are terminating. KEP1669
  * Deflake a preemption test that may patch Node incorrectly
  * Introducing LoadbalancerPortMapping flags for VipExternalIP

-------------------------------------------------------------------
Thu Mar  9 07:29:22 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- initial package 
