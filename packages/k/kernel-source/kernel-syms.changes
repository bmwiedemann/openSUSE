-------------------------------------------------------------------
Tue Sep 10 12:23:11 CEST 2019 - jslaby@suse.cz

- Linux 5.2.14 (bnc#1012628).
- Revert "mmc: core: do not retry CMD6 in __mmc_switch()"
  (bnc#1012628).
- x86/boot: Preserve boot_params.secure_boot from sanitizing
  (bnc#1012628).
- Revert "x86/apic: Include the LDR when clearing out APIC
  registers" (bnc#1012628).
- libceph: allow ceph_buffer_put() to receive a NULL ceph_buffer
  (bnc#1012628).
- x86/boot/compressed/64: Fix missing initialization in
  find_trampoline_placement() (bnc#1012628).
- KVM: arm/arm64: VGIC: Properly initialise private IRQ affinity
  (bnc#1012628).
- gpio: Fix irqchip initialization order (bnc#1012628).
- RDMA/bnxt_re: Fix stack-out-of-bounds in
  bnxt_qplib_rcfw_send_message (bnc#1012628).
- afs: use correct afs_call_type in yfs_fs_store_opaque_acl2
  (bnc#1012628).
- afs: Fix possible oops in afs_lookup trace event (bnc#1012628).
- afs: Fix leak in afs_lookup_cell_rcu() (bnc#1012628).
- KVM: arm/arm64: Only skip MMIO insn once (bnc#1012628).
- ceph: fix buffer free while holding i_ceph_lock in fill_inode()
  (bnc#1012628).
- ceph: fix buffer free while holding i_ceph_lock in
  __ceph_build_xattrs_blob() (bnc#1012628).
- ceph: fix buffer free while holding i_ceph_lock in
  __ceph_setxattr() (bnc#1012628).
- drm/amdgpu: prevent memory leaks in AMDGPU_CS ioctl
  (bnc#1012628).
- selftests/kvm: make platform_info_test pass on AMD
  (bnc#1012628).
- selftests: kvm: fix state save/load on processors without XSAVE
  (bnc#1012628).
- infiniband: hfi1: fix memory leaks (bnc#1012628).
- infiniband: hfi1: fix a memory leak bug (bnc#1012628).
- IB/mlx4: Fix memory leaks (bnc#1012628).
- RDMA/cma: fix null-ptr-deref Read in cma_cleanup (bnc#1012628).
- nvme: Fix cntlid validation when not using NVMEoF (bnc#1012628).
- nvme-multipath: fix possible I/O hang when paths are updated
  (bnc#1012628).
- Tools: hv: kvp: eliminate 'may be used uninitialized' warning
  (bnc#1012628).
- Input: hyperv-keyboard: Use in-place iterator API in the
  channel callback (bnc#1012628).
- scsi: lpfc: Mitigate high memory pre-allocation by SCSI-MQ
  (bnc#1012628).
- x86/boot/compressed/64: Fix boot on machines with broken E820
  table (bnc#1012628).
- HID: cp2112: prevent sleeping function called from invalid
  context (bnc#1012628).
- HID: intel-ish-hid: ipc: add EHL device id (bnc#1012628).
- kprobes: Fix potential deadlock in kprobe_optimizer()
  (bnc#1012628).
- sched/core: Schedule new worker even if PI-blocked
  (bnc#1012628).
- ravb: Fix use-after-free ravb_tstamp_skb (bnc#1012628).
- wimax/i2400m: fix a memory leak bug (bnc#1012628).
- net: cavium: fix driver name (bnc#1012628).
- ibmvnic: Unmap DMA address of TX descriptor buffers after use
  (bnc#1012628).
- net: kalmia: fix memory leaks (bnc#1012628).
- cx82310_eth: fix a memory leak bug (bnc#1012628).
- vfs: fix page locking deadlocks when deduping files
  (bnc#1012628).
- lan78xx: Fix memory leaks (bnc#1012628).
- clk: Fix potential NULL dereference in clk_fetch_parent_index()
  (bnc#1012628).
- clk: Fix falling back to legacy parent string matching
  (bnc#1012628).
- net: myri10ge: fix memory leaks (bnc#1012628).
- liquidio: add cleanup in octeon_setup_iq() (bnc#1012628).
- selftests: kvm: fix vmx_set_nested_state_test (bnc#1012628).
- selftests: kvm: provide common function to enable eVMCS
  (bnc#1012628).
- selftests: kvm: do not try running the VM in
  vmx_set_nested_state_test (bnc#1012628).
- cxgb4: fix a memory leak bug (bnc#1012628).
- scsi: target: tcmu: avoid use-after-free after command timeout
  (bnc#1012628).
- scsi: qla2xxx: Fix gnl.l memory leak on adapter init failure
  (bnc#1012628).
- drm/mediatek: set DMA max segment size (bnc#1012628).
- drm/mediatek: use correct device to import PRIME buffers
  (bnc#1012628).
- netfilter: nft_flow_offload: skip tcp rst and fin packets
  (bnc#1012628).
- gpio: Fix build error of function redefinition (bnc#1012628).
- ibmveth: Convert multicast list size for little-endian system
  (bnc#1012628).
- s390/qeth: serialize cmd reply with concurrent timeout
  (bnc#1012628).
- Bluetooth: hci_qca: Send VS pre shutdown command (bnc#1012628).
- Bluetooth: btqca: Add a short delay before downloading the NVM
  (bnc#1012628).
- net: tc35815: Explicitly check NET_IP_ALIGN is not zero in
  tc35815_rx (bnc#1012628).
- hv_netvsc: Fix a warning of suspicious RCU usage (bnc#1012628).
- ixgbe: fix possible deadlock in ixgbe_service_task()
  (bnc#1012628).
- tools: bpftool: fix error message (prog -> object)
  (bnc#1012628).
- netfilter: nf_flow_table: teardown flow timeout race
  (bnc#1012628).
- netfilter: nf_flow_table: conntrack picks up expired flows
  (bnc#1012628).
- netfilter: nf_tables: use-after-free in failing rule with
  bound set (bnc#1012628).
- net: tundra: tsi108: use spin_lock_irqsave instead of
  spin_lock_irq in IRQ context (bnc#1012628).
- clk: samsung: exynos542x: Move MSCL subsystem clocks to its
  sub-CMU (bnc#1012628).
- clk: samsung: exynos5800: Move MAU subsystem clocks to MAU
  sub-CMU (bnc#1012628).
- clk: samsung: Change signature of exynos5_subcmus_init()
  function (bnc#1012628).
- net/mlx5e: Fix error flow of CQE recovery on tx reporter
  (bnc#1012628).
- netfilter: nf_flow_table: fix offload for flows that are
  subject to xfrm (bnc#1012628).
- libbpf: set BTF FD for prog only when there is supported
  .BTF.ext data (bnc#1012628).
- libbpf: fix erroneous multi-closing of BTF FD (bnc#1012628).
- batman-adv: Fix netlink dumping of all mcast_flags buckets
  (bnc#1012628).
- net/rds: Fix info leak in rds6_inc_info_copy() (bnc#1012628).
- net/sched: pfifo_fast: fix wrong dereference when qdisc is reset
  (bnc#1012628).
- net/sched: pfifo_fast: fix wrong dereference in
  pfifo_fast_enqueue (bnc#1012628).
- net: dsa: tag_8021q: Future-proof the reserved fields in the
  custom VID (bnc#1012628).
- Add genphy_c45_config_aneg() function to phy-c45.c
  (bnc#1012628).
- net/sched: cbs: Set default link speed to 10 Mbps in
  cbs_set_port_rate (bnc#1012628).
- taprio: Set default link speed to 10 Mbps in
  taprio_set_picos_per_byte (bnc#1012628).
- taprio: Fix kernel panic in taprio_destroy (bnc#1012628).
- r8152: remove calling netif_napi_del (bnc#1012628).
- Revert "r8152: napi hangup fix after disconnect" (bnc#1012628).
- nfp: flower: handle neighbour events on internal ports
  (bnc#1012628).
- nfp: flower: prevent ingress block binds on internal ports
  (bnc#1012628).
- tcp: remove empty skb from write queue in error cases
  (bnc#1012628).
- tcp: inherit timestamp on mtu probe (bnc#1012628).
- net: stmmac: dwmac-rk: Don't fail if phy regulator is absent
  (bnc#1012628).
- net_sched: fix a NULL pointer deref in ipt action (bnc#1012628).
- net: sched: act_sample: fix psample group handling on overwrite
  (bnc#1012628).
- net: fix skb use after free in netpoll (bnc#1012628).
- mld: fix memory leak in mld_del_delrec() (bnc#1012628).
- commit af75f09

-------------------------------------------------------------------
Mon Sep  9 11:50:58 CEST 2019 - mgorman@suse.de

- config: enable SLAB_FREELIST_HARDENED (bsc#1127808)
  Enable SLAB_FREELIST_HARDENED on all architectures. This obscures the
  free object pointer on a per-cache basis making it more difficult to
  locate kernel objects via exploits probing the cache metadata.
  This change was requested by the upstream openSUSE community to make
  the kernel more resistent to slab freelist attacks. Tests conducted
  by the kernel performance teams confirmed that the performance impact
  is detectable but negligible.
- commit 94938f2

-------------------------------------------------------------------
Mon Sep  9 09:39:52 CEST 2019 - guillaume.gardet@arm.com

- rpm/constraints.in: lower disk space required for ARM
  With a requirement of 35GB, only 2 slow workers are usable for ARM.
  Current aarch64 build requires 27G and armv6/7 requires 14G.
  Set requirements respectively to 30GB and 20GB.
- commit f84c163

-------------------------------------------------------------------
Mon Sep  9 06:49:29 CEST 2019 - mkubecek@suse.cz

- config: enable STACKPROTECTOR_STRONG also on armv6hl
  Recently reenabled armv6hl architecture has STACKPROTECTOR_STRONG disabled,
  enable it here as well.
- commit f434a32

-------------------------------------------------------------------
Fri Sep  6 12:49:15 CEST 2019 - jslaby@suse.cz

- Linux 5.2.13 (bnc#1012628).
- Revert "Input: elantech - enable SMBus on new (2018+) systems"
  (bnc#1012628).
- commit acd8e88

-------------------------------------------------------------------
Fri Sep  6 12:48:52 CEST 2019 - jslaby@suse.cz

- Linux 5.2.12 (bnc#1012628).
- dmaengine: ste_dma40: fix unneeded variable warning
  (bnc#1012628).
- nvme-multipath: revalidate nvme_ns_head gendisk in
  nvme_validate_ns (bnc#1012628).
- afs: Fix the CB.ProbeUuid service handler to reply correctly
  (bnc#1012628).
- afs: Fix loop index mixup in
  afs_deliver_vl_get_entry_by_name_u() (bnc#1012628).
- fs: afs: Fix a possible null-pointer dereference in
  afs_put_read() (bnc#1012628).
- afs: Fix off-by-one in afs_rename() expected data version
  calculation (bnc#1012628).
- afs: Only update d_fsdata if different in afs_d_revalidate()
  (bnc#1012628).
- afs: Fix missing dentry data version updating (bnc#1012628).
- nvmet: Fix use-after-free bug when a port is removed
  (bnc#1012628).
- nvmet-loop: Flush nvme_delete_wq when removing the port
  (bnc#1012628).
- nvmet-file: fix nvmet_file_flush() always returning an error
  (bnc#1012628).
- nvme-core: Fix extra device_put() call on error path
  (bnc#1012628).
- nvme: fix a possible deadlock when passthru commands sent to
  a multipath device (bnc#1012628).
- nvme-rdma: fix possible use-after-free in connect error flow
  (bnc#1012628).
- nvme: fix controller removal race with scan work (bnc#1012628).
- nvme-pci: Fix async probe remove race (bnc#1012628).
- soundwire: cadence_master: fix register definition for
  SLAVE_STATE (bnc#1012628).
- soundwire: cadence_master: fix definitions for INTSTAT0/1
  (bnc#1012628).
- auxdisplay: panel: need to delete scan_timer when misc_register
  fails in panel_attach (bnc#1012628).
- btrfs: trim: Check the range passed into to prevent overflow
  (bnc#1012628).
- IB/mlx5: Fix implicit MR release flow (bnc#1012628).
- dmaengine: stm32-mdma: Fix a possible null-pointer dereference
  in stm32_mdma_irq_handler() (bnc#1012628).
- omap-dma/omap_vout_vrfb: fix off-by-one fi value (bnc#1012628).
- iommu/dma: Handle SG length overflow better (bnc#1012628).
- dma-direct: don't truncate dma_required_mask to bus addressing
  capabilities (bnc#1012628).
- usb: gadget: composite: Clear "suspended" on reset/disconnect
  (bnc#1012628).
- usb: gadget: mass_storage: Fix races between fsg_disable and
  fsg_set_alt (bnc#1012628).
- habanalabs: fix DRAM usage accounting on context tear down
  (bnc#1012628).
- habanalabs: fix endianness handling for packets from user
  (bnc#1012628).
- habanalabs: fix completion queue handling when host is BE
  (bnc#1012628).
- habanalabs: fix endianness handling for internal QMAN submission
  (bnc#1012628).
- habanalabs: fix device IRQ unmasking for BE host (bnc#1012628).
- xen/blkback: fix memory leaks (bnc#1012628).
- arm64: cpufeature: Don't treat granule sizes as strict
  (bnc#1012628).
- riscv: fix flush_tlb_range() end address for flush_tlb_page()
  (bnc#1012628).
- i2c: rcar: avoid race when unregistering slave client
  (bnc#1012628).
- i2c: emev2: avoid race when unregistering slave client
  (bnc#1012628).
- drm/scheduler: use job count instead of peek (bnc#1012628).
- drm/ast: Fixed reboot test may cause system hanged
  (bnc#1012628).
- usb: host: fotg2: restart hcd after port reset (bnc#1012628).
- tools: hv: fixed Python pep8/flake8 warnings for lsvmbus
  (bnc#1012628).
- tools: hv: fix KVP and VSS daemons exit code (bnc#1012628).
- locking/rwsem: Add missing ACQUIRE to read_slowpath exit when
  queue is empty (bnc#1012628).
- lcoking/rwsem: Add missing ACQUIRE to read_slowpath sleep loop
  (bnc#1012628).
- watchdog: bcm2835_wdt: Fix module autoload (bnc#1012628).
- selftests/bpf: install files test_xdp_vlan.sh (bnc#1012628).
- drm/bridge: tfp410: fix memleak in get_modes() (bnc#1012628).
- mt76: usb: fix rx A-MSDU support (bnc#1012628).
- ipv6/addrconf: allow adding multicast addr if IFA_F_MCAUTOJOIN
  is set (bnc#1012628).
- ipv6: Fix return value of ipv6_mc_may_pull() for malformed
  packets (bnc#1012628).
- net: cpsw: fix NULL pointer exception in the probe error path
  (bnc#1012628).
- net: fix __ip_mc_inc_group usage (bnc#1012628).
- net/smc: make sure EPOLLOUT is raised (bnc#1012628).
- tcp: make sure EPOLLOUT wont be missed (bnc#1012628).
- ipv4: mpls: fix mpls_xmit for iptunnel (bnc#1012628).
- openvswitch: Fix conntrack cache with timeout (bnc#1012628).
- ipv4/icmp: fix rt dst dev null pointer dereference
  (bnc#1012628).
- xfrm/xfrm_policy: fix dst dev null pointer dereference in
  collect_md mode (bnc#1012628).
- mm/zsmalloc.c: fix build when CONFIG_COMPACTION=n (bnc#1012628).
- ALSA: usb-audio: Check mixer unit bitmap yet more strictly
  (bnc#1012628).
- ALSA: hda/ca0132 - Add new SBZ quirk (bnc#1012628).
- ALSA: line6: Fix memory leak at line6_init_pcm() error path
  (bnc#1012628).
- ALSA: hda - Fixes inverted Conexant GPIO mic mute led
  (bnc#1012628).
- ALSA: seq: Fix potential concurrent access to the deleted pool
  (bnc#1012628).
- ALSA: usb-audio: Fix invalid NULL check in
  snd_emuusb_set_samplerate() (bnc#1012628).
- ALSA: usb-audio: Add implicit fb quirk for Behringer UFX1604
  (bnc#1012628).
- kvm: x86: skip populating logical dest map if apic is not sw
  enabled (bnc#1012628).
- KVM: x86: hyper-v: don't crash on KVM_GET_SUPPORTED_HV_CPUID
  when kvm_intel.nested is disabled (bnc#1012628).
- KVM: x86: Don't update RIP or do single-step on faulting
  emulation (bnc#1012628).
- uprobes/x86: Fix detection of 32-bit user mode (bnc#1012628).
- x86/mm/cpa: Prevent large page split when ftrace flips RW on
  kernel text (bnc#1012628).
- x86/apic: Do not initialize LDR and DFR for bigsmp
  (bnc#1012628).
- x86/apic: Include the LDR when clearing out APIC registers
  (bnc#1012628).
- HID: logitech-hidpp: remove support for the G700 over USB
  (bnc#1012628).
- ftrace: Fix NULL pointer dereference in t_probe_next()
  (bnc#1012628).
- ftrace: Check for successful allocation of hash (bnc#1012628).
- ftrace: Check for empty hash and comment the race with
  registering probes (bnc#1012628).
- usbtmc: more sanity checking for packet size (bnc#1012628).
- usb-storage: Add new JMS567 revision to unusual_devs
  (bnc#1012628).
- USB: cdc-wdm: fix race between write and disconnect due to
  flag abuse (bnc#1012628).
- usb: hcd: use managed device resources (bnc#1012628).
- usb: chipidea: udc: don't do hardware access if gadget has
  stopped (bnc#1012628).
- usb: host: ohci: fix a race condition between shutdown and irq
  (bnc#1012628).
- usb: host: xhci: rcar: Fix typo in compatible string matching
  (bnc#1012628).
- USB: storage: ums-realtek: Update module parameter description
  for auto_delink_en (bnc#1012628).
- USB: storage: ums-realtek: Whitelist auto-delink support
  (bnc#1012628).
- tools/power turbostat: Fix caller parameter of get_tdp_amd()
  (bnc#1012628).
- KVM: PPC: Book3S: Fix incorrect guest-to-user-translation
  error handling (bnc#1012628).
- KVM: arm/arm64: vgic: Fix potential deadlock when ap_list is
  long (bnc#1012628).
- KVM: arm/arm64: vgic-v2: Handle SGI bits in GICD_I{S,C}PENDR0
  as WI (bnc#1012628).
- mei: me: add Tiger Lake point LP device ID (bnc#1012628).
- Revert "mmc: sdhci-tegra: drop ->get_ro() implementation"
  (bnc#1012628).
- mmc: sdhci-of-at91: add quirk for broken HS200 (bnc#1012628).
- mmc: sdhci-cadence: enable v4_mode to fix ADMA 64-bit addressing
  (bnc#1012628).
- mmc: core: Fix init of SD cards reporting an invalid VDD range
  (bnc#1012628).
- mmc: sdhci-sprd: fixed incorrect clock divider (bnc#1012628).
- mmc: sdhci-sprd: add SDHCI_QUIRK2_PRESET_VALUE_BROKEN
  (bnc#1012628).
- stm class: Fix a double free of stm_source_device (bnc#1012628).
- intel_th: pci: Add support for another Lewisburg PCH
  (bnc#1012628).
- intel_th: pci: Add Tiger Lake support (bnc#1012628).
- typec: tcpm: fix a typo in the comparison of pdo_max_voltage
  (bnc#1012628).
- fsi: scom: Don't abort operations for minor errors
  (bnc#1012628).
- lkdtm/bugs: fix build error in lkdtm_EXHAUST_STACK
  (bnc#1012628).
- NFSv4/pnfs: Fix a page lock leak in nfs_pageio_resend()
  (bnc#1012628).
- NFS: Ensure O_DIRECT reports an error if the bytes read/written
  is 0 (bnc#1012628).
- Revert "NFSv4/flexfiles: Abort I/O early if the layout segment
  was invalidated" (bnc#1012628).
- lib: logic_pio: Fix RCU usage (bnc#1012628).
- lib: logic_pio: Avoid possible overlap for unregistering regions
  (bnc#1012628).
- lib: logic_pio: Add logic_pio_unregister_range() (bnc#1012628).
- drm/amdgpu: Add APTX quirk for Dell Latitude 5495 (bnc#1012628).
- drm/amdgpu: fix GFXOFF on Picasso and Raven2 (bnc#1012628).
- drm/i915: Don't deballoon unused ggtt drm_mm_node in linux guest
  (bnc#1012628).
- drm/i915: Call dma_set_max_seg_size() in i915_driver_hw_probe()
  (bnc#1012628).
- i2c: piix4: Fix port selection for AMD Family 16h Model 30h
  (bnc#1012628).
- bus: hisi_lpc: Unregister logical PIO range to avoid potential
  use-after-free (bnc#1012628).
- bus: hisi_lpc: Add .remove method to avoid driver unbind crash
  (bnc#1012628).
- VMCI: Release resource if the work is already queued
  (bnc#1012628).
- crypto: ccp - Ignore unconfigured CCP device on suspend/resume
  (bnc#1012628).
- SUNRPC: Don't handle errors if the bind/connect succeeded
  (bnc#1012628).
- mt76: mt76x0u: do not reset radio on resume (bnc#1012628).
- mms: sdhci-sprd: add SDHCI_QUIRK_BROKEN_CARD_DETECTION
  (bnc#1012628).
- mm, memcg: partially revert "mm/memcontrol.c: keep local VM
  counters in sync with the hierarchical ones" (bnc#1012628).
- mm: memcontrol: fix percpu vmstats and vmevents flush
  (bnc#1012628).
- Revert "cfg80211: fix processing world regdomain when non
  modular" (bnc#1012628).
- mac80211: fix possible sta leak (bnc#1012628).
- cfg80211: Fix Extended Key ID key install checks (bnc#1012628).
- mac80211: Don't memset RXCB prior to PAE intercept
  (bnc#1012628).
- mac80211: Correctly set noencrypt for PAE frames (bnc#1012628).
- mmc: sdhci-sprd: clear the UHS-I modes read from registers
  (bnc#1012628).
- mmc: sdhci-sprd: Implement the get_max_timeout_count() interface
  (bnc#1012628).
- mmc: sdhci-sprd: add get_ro hook function (bnc#1012628).
- iwlwifi: add new cards for 22000 and fix struct name
  (bnc#1012628).
- iwlwifi: add new cards for 22000 and change wrong structs
  (bnc#1012628).
- iwlwifi: add new cards for 9000 and 20000 series (bnc#1012628).
- iwlwifi: change 0x02F0 fw from qu to quz (bnc#1012628).
- iwlwifi: pcie: add support for qu c-step devices (bnc#1012628).
- iwlwifi: pcie: don't switch FW to qnj when ax201 is detected
  (bnc#1012628).
- iwlwifi: pcie: handle switching killer Qu B0 NICs to C0
  (bnc#1012628).
- drm/i915: Do not create a new max_bpc prop for MST connectors
  (bnc#1012628).
- drm/i915/dp: Fix DSC enable code to use cpu_transcoder instead
  of encoder->type (bnc#1012628).
- bpf: fix use after free in prog symbol exposure (bnc#1012628).
- hsr: implement dellink to clean up resources (bnc#1012628).
- hsr: fix a NULL pointer deref in hsr_dev_xmit() (bnc#1012628).
- hsr: switch ->dellink() to ->ndo_uninit() (bnc#1012628).
- Revert "ASoC: Fail card instantiation if DAI format setup fails"
  (bnc#1012628).
- commit bb4c31d

-------------------------------------------------------------------
Fri Sep  6 12:17:23 CEST 2019 - msuchanek@suse.de

- powerpc/tm: Fix restoring FP/VMX facility incorrectly on
  interrupts (CVE-2019-15031 bsc#1149713).
- powerpc/tm: Fix FP/VMX unavailable exceptions inside a
  transaction (CVE-2019-15030 bsc#1149713).
- commit 76a34af

-------------------------------------------------------------------
Thu Sep  5 08:25:28 CEST 2019 - jslaby@suse.cz

- x86/ptrace: fix up botched merge of spectrev1 fix (bnc#1149376
  CVE-2019-15902).
- commit 77497b6

-------------------------------------------------------------------
Tue Sep  3 12:47:56 CEST 2019 - mkubecek@suse.cz

- config: enable STACKPROTECTOR_STRONG (jsc#SLE-9120 bsc#1130365)
  Enable CONFIG_STACKPROTECTOR_STRONG on all architectures except s390x
  (where the feature is not available). This extends the number of functions
  which are protected by "stack canary" check to catch functions writing past
  their stack frame.
  This change was requested by SUSE security to make our kernels more
  resistant to some types of stack overflow attacks. Tests performed by
  kernel performance teams confirmed that performance impact is acceptable.
- commit d6e8aab

-------------------------------------------------------------------
Thu Aug 29 08:41:19 CEST 2019 - jslaby@suse.cz

- Linux 5.2.11 (bnc#1012628).
- ASoC: simple_card_utils.h: care NULL dai at
  asoc_simple_debug_dai() (bnc#1012628).
- ASoC: simple-card: fix an use-after-free in
  simple_dai_link_of_dpcm() (bnc#1012628).
- ASoC: simple-card: fix an use-after-free in
  simple_for_each_link() (bnc#1012628).
- ASoC: audio-graph-card: fix use-after-free in
  graph_dai_link_of_dpcm() (bnc#1012628).
- ASoC: audio-graph-card: fix an use-after-free in
  graph_get_dai_id() (bnc#1012628).
- ASoC: audio-graph-card: add missing const at graph_get_dai_id()
  (bnc#1012628).
- regulator: axp20x: fix DCDCA and DCDCD for AXP806 (bnc#1012628).
- regulator: axp20x: fix DCDC5 and DCDC6 for AXP803 (bnc#1012628).
- ASoC: samsung: odroid: fix an use-after-free issue for codec
  (bnc#1012628).
- ASoC: samsung: odroid: fix a double-free issue for cpu_dai
  (bnc#1012628).
- ASoC: Intel: bytcht_es8316: Add quirk for Irbis NB41 netbook
  (bnc#1012628).
- HID: logitech-hidpp: add USB PID for a few more supported mice
  (bnc#1012628).
- HID: Add 044f:b320 ThrustMaster, Inc. 2 in 1 DT (bnc#1012628).
- MIPS: kernel: only use i8253 clocksource with periodic
  clockevent (bnc#1012628).
- mips: fix cacheinfo (bnc#1012628).
- libbpf: sanitize VAR to conservative 1-byte INT (bnc#1012628).
- netfilter: ebtables: fix a memory leak bug in compat
  (bnc#1012628).
- ASoC: dapm: Fix handling of custom_stop_condition on DAPM
  graph walks (bnc#1012628).
- ASoC: SOF: use __u32 instead of uint32_t in uapi headers
  (bnc#1012628).
- spi: pxa2xx: Balance runtime PM enable/disable on error
  (bnc#1012628).
- bpf: sockmap, sock_map_delete needs to use xchg (bnc#1012628).
- bpf: sockmap, synchronize_rcu before free'ing map (bnc#1012628).
- bpf: sockmap, only create entry if ulp is not already enabled
  (bnc#1012628).
- selftests/bpf: fix sendmsg6_prog on s390 (bnc#1012628).
- ASoC: dapm: fix a memory leak bug (bnc#1012628).
- bonding: Force slave speed check after link state recovery
  for 802.3ad (bnc#1012628).
- net: mvpp2: Don't check for 3 consecutive Idle frames for 10G
  links (bnc#1012628).
- selftests: forwarding: gre_multipath: Enable IPv4 forwarding
  (bnc#1012628).
- selftests: forwarding: gre_multipath: Fix flower filters
  (bnc#1012628).
- selftests/bpf: add another gso_segs access (bnc#1012628).
- libbpf: fix using uninitialized ioctl results (bnc#1012628).
- can: dev: call netif_carrier_off() in register_candev()
  (bnc#1012628).
- can: mcp251x: add error check when wq alloc failed
  (bnc#1012628).
- can: gw: Fix error path of cgw_module_init (bnc#1012628).
- ASoC: Fail card instantiation if DAI format setup fails
  (bnc#1012628).
- Staging: fbtft: Fix GPIO handling (bnc#1012628).
- libbpf: silence GCC8 warning about string truncation
  (bnc#1012628).
- st21nfca_connectivity_event_received: null check the allocation
  (bnc#1012628).
- st_nci_hci_connectivity_event_received: null check the
  allocation (bnc#1012628).
- {nl,mac}80211: fix interface combinations on crypto controlled
  devices (bnc#1012628).
- ASoC: ti: davinci-mcasp: Fix clk PDIR handling for i2s master
  mode (bnc#1012628).
- ASoC: rockchip: Fix mono capture (bnc#1012628).
- ASoC: ti: davinci-mcasp: Correct slot_width posed constraint
  (bnc#1012628).
- net: usb: qmi_wwan: Add the BroadMobi BM818 card (bnc#1012628).
- qed: RDMA - Fix the hw_ver returned in device attributes
  (bnc#1012628).
- isdn: mISDN: hfcsusb: Fix possible null-pointer dereferences
  in start_isoc_chain() (bnc#1012628).
- habanalabs: fix F/W download in BE architecture (bnc#1012628).
- mac80211_hwsim: Fix possible null-pointer dereferences in
  hwsim_dump_radio_nl() (bnc#1012628).
- net: stmmac: manage errors returned by of_get_mac_address()
  (bnc#1012628).
- netfilter: ipset: Actually allow destination MAC address for
  hash:ip,mac sets too (bnc#1012628).
- netfilter: ipset: Copy the right MAC address in bitmap:ip,mac
  and hash:ip,mac sets (bnc#1012628).
- netfilter: ipset: Fix rename concurrency with listing
  (bnc#1012628).
- rxrpc: Fix potential deadlock (bnc#1012628).
- rxrpc: Fix the lack of notification when sendmsg() fails on
  a DATA packet (bnc#1012628).
- nvmem: Use the same permissions for eeprom as for nvmem
  (bnc#1012628).
- iwlwifi: mvm: avoid races in rate init and rate perform
  (bnc#1012628).
- iwlwifi: dbg_ini: move iwl_dbg_tlv_load_bin out of debug
  override ifdef (bnc#1012628).
- iwlwifi: dbg_ini: move iwl_dbg_tlv_free outside of debugfs ifdef
  (bnc#1012628).
- iwlwifi: fix locking in delayed GTK setting (bnc#1012628).
- iwlwifi: mvm: send LQ command always ASYNC (bnc#1012628).
- enetc: Fix build error without PHYLIB (bnc#1012628).
- isdn: hfcsusb: Fix mISDN driver crash caused by transfer buffer
  on the stack (bnc#1012628).
- net: phy: phy_led_triggers: Fix a possible null-pointer
  dereference in phy_led_trigger_change_speed() (bnc#1012628).
- perf bench numa: Fix cpu0 binding (bnc#1012628).
- spi: pxa2xx: Add support for Intel Tiger Lake (bnc#1012628).
- can: sja1000: force the string buffer NULL-terminated
  (bnc#1012628).
- can: peak_usb: force the string buffer NULL-terminated
  (bnc#1012628).
- ASoC: amd: acp3x: use dma_ops of parent device for acp3x dma
  driver (bnc#1012628).
- net/ethernet/qlogic/qed: force the string buffer NULL-terminated
  (bnc#1012628).
- enetc: Select PHYLIB while CONFIG_FSL_ENETC_VF is set
  (bnc#1012628).
- NFSv4: Fix a credential refcount leak in
  nfs41_check_delegation_stateid (bnc#1012628).
- NFSv4: When recovering state fails with EAGAIN, retry the same
  recovery (bnc#1012628).
- NFSv4.1: Fix open stateid recovery (bnc#1012628).
- NFSv4.1: Only reap expired delegations (bnc#1012628).
- NFSv4: Fix a potential sleep while atomic in nfs4_do_reclaim()
  (bnc#1012628).
- NFS: Fix regression whereby fscache errors are appearing on
  'nofsc' mounts (bnc#1012628).
- HID: quirks: Set the INCREMENT_USAGE_ON_DUPLICATE quirk on
  Saitek X52 (bnc#1012628).
- HID: input: fix a4tech horizontal wheel custom usage
  (bnc#1012628).
- drm/rockchip: Suspend DP late (bnc#1012628).
- SMB3: Fix potential memory leak when processing compound chain
  (bnc#1012628).
- SMB3: Kernel oops mounting a encryptData share with
  CONFIG_DEBUG_VIRTUAL (bnc#1012628).
- sched/deadline: Fix double accounting of rq/running bw in push &
  pull (bnc#1012628).
- sched/psi: Reduce psimon FIFO priority (bnc#1012628).
- sched/psi: Do not require setsched permission from the trigger
  creator (bnc#1012628).
- s390/protvirt: avoid memory sharing for diag 308 set/store
  (bnc#1012628).
- s390/mm: fix dump_pagetables top level page table walking
  (bnc#1012628).
- s390: put _stext and _etext into .text section (bnc#1012628).
- ata: rb532_cf: Fix unused variable warning in
  rb532_pata_driver_probe (bnc#1012628).
- net: cxgb3_main: Fix a resource leak in a error path in
  'init_one()' (bnc#1012628).
- net: stmmac: Fix issues when number of Queues >= 4
  (bnc#1012628).
- net: stmmac: tc: Do not return a fragment entry (bnc#1012628).
- drm/amdgpu: pin the csb buffer on hw init for gfx v8
  (bnc#1012628).
- net: hisilicon: make hip04_tx_reclaim non-reentrant
  (bnc#1012628).
- net: hisilicon: fix hip04-xmit never return TX_BUSY
  (bnc#1012628).
- net: hisilicon: Fix dma_map_single failed on arm64
  (bnc#1012628).
- NFSv4: Ensure state recovery handles ETIMEDOUT correctly
  (bnc#1012628).
- libata: have ata_scsi_rw_xlat() fail invalid passthrough
  requests (bnc#1012628).
- libata: add SG safety checks in SFF pio transfers (bnc#1012628).
- x86/lib/cpu: Address missing prototypes warning (bnc#1012628).
- drm/vmwgfx: fix memory leak when too many retries have occurred
  (bnc#1012628).
- block: aoe: Fix kernel crash due to atomic sleep when exiting
  (bnc#1012628).
- block, bfq: handle NULL return value by bfq_init_rq()
  (bnc#1012628).
- perf ftrace: Fix failure to set cpumask when only one cpu is
  present (bnc#1012628).
- perf cpumap: Fix writing to illegal memory in handling cpumap
  mask (bnc#1012628).
- perf pmu-events: Fix missing "cpu_clk_unhalted.core" event
  (bnc#1012628).
- dt-bindings: riscv: fix the schema compatible string for the
  HiFive Unleashed board (bnc#1012628).
- KVM: arm64: Don't write junk to sysregs on reset (bnc#1012628).
- KVM: arm: Don't write junk to CP15 registers on reset
  (bnc#1012628).
- selftests: kvm: Adding config fragments (bnc#1012628).
- iwlwifi: mvm: disable TX-AMSDU on older NICs (bnc#1012628).
- HID: wacom: correct misreported EKR ring values (bnc#1012628).
- HID: wacom: Correct distance scale for 2nd-gen Intuos devices
  (bnc#1012628).
- Revert "KVM: x86/mmu: Zap only the relevant pages when removing
  a memslot" (bnc#1012628).
- Revert "dm bufio: fix deadlock with loop device" (bnc#1012628).
- clk: socfpga: stratix10: fix rate caclulationg for cnt_clks
  (bnc#1012628).
- ceph: clear page dirty before invalidate page (bnc#1012628).
- ceph: don't try fill file_lock on unsuccessful GETFILELOCK reply
  (bnc#1012628).
- libceph: fix PG split vs OSD (re)connect race (bnc#1012628).
- drm/amdgpu/gfx9: update pg_flags after determining if gfx off
  is possible (bnc#1012628).
- drm/nouveau: Don't retry infinitely when receiving no data on
  i2c over AUX (bnc#1012628).
- scsi: ufs: Fix NULL pointer dereference in
  ufshcd_config_vreg_hpm() (bnc#1012628).
- gpiolib: never report open-drain/source lines as 'input'
  to user-space (bnc#1012628).
- Drivers: hv: vmbus: Fix virt_to_hvpfn() for X86_PAE
  (bnc#1012628).
- userfaultfd_release: always remove uffd flags and clear
  vm_userfaultfd_ctx (bnc#1012628).
- x86/retpoline: Don't clobber RFLAGS during CALL_NOSPEC on i386
  (bnc#1012628).
- x86/CPU/AMD: Clear RDRAND CPUID bit on AMD family 15h/16h
  (bnc#1012628).
- x86/boot: Save fields explicitly, zero out everything else
  (bnc#1012628).
- x86/boot: Fix boot regression caused by bootparam sanitizing
  (bnc#1012628).
- IB/hfi1: Unsafe PSN checking for TID RDMA READ Resp packet
  (bnc#1012628).
- IB/hfi1: Add additional checks when handling TID RDMA READ
  RESP packet (bnc#1012628).
- IB/hfi1: Add additional checks when handling TID RDMA WRITE
  DATA packet (bnc#1012628).
- IB/hfi1: Drop stale TID RDMA packets that cause TIDErr
  (bnc#1012628).
- psi: get poll_work to run when calling poll syscall next time
  (bnc#1012628).
- dm kcopyd: always complete failed jobs (bnc#1012628).
- dm dust: use dust block size for badblocklist index
  (bnc#1012628).
- dm btree: fix order of block initialization in
  btree_split_beneath (bnc#1012628).
- dm integrity: fix a crash due to BUG_ON in
  __journal_read_write() (bnc#1012628).
- dm raid: add missing cleanup in raid_ctr() (bnc#1012628).
- dm space map metadata: fix missing store of apply_bops()
  return value (bnc#1012628).
- dm table: fix invalid memory accesses with too high sector
  number (bnc#1012628).
- dm zoned: improve error handling in reclaim (bnc#1012628).
- dm zoned: improve error handling in i/o map code (bnc#1012628).
- dm zoned: properly handle backing device failure (bnc#1012628).
- genirq: Properly pair kobject_del() with kobject_add()
  (bnc#1012628).
- mm/z3fold.c: fix race between migration and destruction
  (bnc#1012628).
- mm, page_alloc: move_freepages should not examine struct page
  of reserved memory (bnc#1012628).
- mm: memcontrol: flush percpu vmstats before releasing memcg
  (bnc#1012628).
- mm: memcontrol: flush percpu vmevents before releasing memcg
  (bnc#1012628).
- mm, page_owner: handle THP splits correctly (bnc#1012628).
- mm/zsmalloc.c: migration can leave pages in ZS_EMPTY
  indefinitely (bnc#1012628).
- mm/zsmalloc.c: fix race condition in zs_destroy_pool
  (bnc#1012628).
- mm/kasan: fix false positive invalid-free reports with
  CONFIG_KASAN_SW_TAGS=y (bnc#1012628).
- xfs: fix missing ILOCK unlock when xfs_setattr_nonsize fails
  due to EDQUOT (bnc#1012628).
- IB/hfi1: Drop stale TID RDMA packets (bnc#1012628).
- dm zoned: fix potential NULL dereference in dmz_do_reclaim()
  (bnc#1012628).
- io_uring: fix potential hang with polled IO (bnc#1012628).
- io_uring: don't enter poll loop if we have CQEs pending
  (bnc#1012628).
- io_uring: add need_resched() check in inner poll loop
  (bnc#1012628).
- powerpc: Allow flush_(inval_)dcache_range to work across ranges
  >4GB (bnc#1012628).
- rxrpc: Fix local endpoint refcounting (bnc#1012628).
- rxrpc: Fix read-after-free in rxrpc_queue_local() (bnc#1012628).
- rxrpc: Fix local endpoint replacement (bnc#1012628).
- rxrpc: Fix local refcounting (bnc#1012628).
- commit 6385110

-------------------------------------------------------------------
Wed Aug 28 15:34:11 CEST 2019 - tiwai@suse.de

- mwifiex: Fix three heap overflow at
  parsing element in cfg80211_ap_settings
  (CVE-2019-14814,bsc#1146512,CVE-2019-14815,bsc#1146514,CVE-2019-14816,bsc#1146516).
- commit 05e68fe

-------------------------------------------------------------------
Tue Aug 27 14:20:52 CEST 2019 - mkubecek@suse.cz

- rpm: raise required disk space for binary packages
  Current disk space constraints (10 GB on s390x, 25 GB on other
  architectures) no longer suffice for 5.3 kernel builds. The statistics
  show ~30 GB of disk consumption on x86_64 and ~11 GB on s390x so raise
  the constraints to 35 GB in general and 14 GB on s390x.
- commit 527cb66

-------------------------------------------------------------------
Tue Aug 27 10:09:41 CEST 2019 - jslaby@suse.cz

- Refresh
  patches.suse/x86-apic-Handle-missing-global-clockevent-gracefully.patch.
  Update to the upstreamed patch.
- commit bb236c2

-------------------------------------------------------------------
Mon Aug 26 11:47:18 CEST 2019 - tiwai@suse.de

- Update reference for ath6kl fix (CVE-2019-15290,bsc#1146543).
- commit 6f03484

-------------------------------------------------------------------
Mon Aug 26 11:31:19 CEST 2019 - tiwai@suse.de

- Fix a NULL-ptr-deref bug in ath6kl_usb_alloc_urb_from_pipe
  (CVE-2019-15098,bsc#1146378).
- Fix a NULL-ptr-deref bug in ath10k_usb_alloc_urb_from_pipe
  (CVE-2019-15099,bsc#1146368).
- commit 8c61e43

-------------------------------------------------------------------
Mon Aug 26 09:39:32 CEST 2019 - bpoirier@suse.com

- Fix a double free bug in rsi_91x_deinit (bnc#1147116
  CVE-2019-15504).
- commit 5009555

-------------------------------------------------------------------
Sun Aug 25 19:33:34 CEST 2019 - jslaby@suse.cz

- Linux 5.2.10 (bnc#1012628).
- KEYS: trusted: allow module init if TPM is inactive or
  deactivated (bnc#1012628).
- sh: kernel: hw_breakpoint: Fix missing break in switch statement
  (bnc#1012628).
- seq_file: fix problem when seeking mid-record (bnc#1012628).
- mm/hmm: fix bad subpage pointer in try_to_unmap_one
  (bnc#1012628).
- mm: mempolicy: make the behavior consistent when MPOL_MF_MOVE*
  and MPOL_MF_STRICT were specified (bnc#1012628).
- mm: mempolicy: handle vma with unmovable pages mapped correctly
  in mbind (bnc#1012628).
- mm/z3fold.c: fix z3fold_destroy_pool() ordering (bnc#1012628).
- mm/z3fold.c: fix z3fold_destroy_pool() race condition
  (bnc#1012628).
- mm/memcontrol.c: fix use after free in mem_cgroup_iter()
  (bnc#1012628).
- mm/usercopy: use memory range to be accessed for wraparound
  check (bnc#1012628).
- mm, vmscan: do not special-case slab reclaim when watermarks
  are boosted (bnc#1012628).
- cpufreq: schedutil: Don't skip freq update when limits change
  (bnc#1012628).
- drm/amdgpu: fix gfx9 soft recovery (bnc#1012628).
- drm/nouveau: Only recalculate PBN/VCPI on mode/connector changes
  (bnc#1012628).
- xtensa: add missing isync to the cpu_reset TLB code
  (bnc#1012628).
- arm64: ftrace: Ensure module ftrace trampoline is coherent
  with I-side (bnc#1012628).
- ALSA: hda/realtek - Add quirk for HP Envy x360 (bnc#1012628).
- ALSA: usb-audio: Fix a stack buffer overflow bug in
  check_input_term (bnc#1012628).
- ALSA: usb-audio: Fix an OOB bug in parse_audio_mixer_unit
  (bnc#1012628).
- ALSA: hda - Apply workaround for another AMD chip 1022:1487
  (bnc#1012628).
- ALSA: hda - Fix a memory leak bug (bnc#1012628).
- ALSA: hda - Add a generic reboot_notify (bnc#1012628).
- ALSA: hda - Let all conexant codec enter D3 when rebooting
  (bnc#1012628).
- HID: holtek: test for sanity of intfdata (bnc#1012628).
- HID: hiddev: avoid opening a disconnected device (bnc#1012628).
- HID: hiddev: do cleanup in failure of opening a device
  (bnc#1012628).
- Input: kbtab - sanity check for endpoint type (bnc#1012628).
- Input: iforce - add sanity checks (bnc#1012628).
- net: usb: pegasus: fix improper read if get_registers() fail
  (bnc#1012628).
- bpf: fix access to skb_shared_info->gso_segs (bnc#1012628).
- netfilter: ebtables: also count base chain policies
  (bnc#1012628).
- riscv: Correct the initialized flow of FP register
  (bnc#1012628).
- riscv: Make __fstate_clean() work correctly (bnc#1012628).
- Revert "i2c: imx: improve the error handling in
  i2c_imx_dma_request()" (bnc#1012628).
- blk-mq: move cancel of requeue_work to the front of
  blk_exit_queue (bnc#1012628).
- io_uring: fix manual setup of iov_iter for fixed buffers
  (bnc#1012628).
- RDMA/hns: Fix sg offset non-zero issue (bnc#1012628).
- IB/mlx5: Replace kfree with kvfree (bnc#1012628).
- clk: at91: generated: Truncate divisor to GENERATED_MAX_DIV +
  1 (bnc#1012628).
- clk: sprd: Select REGMAP_MMIO to avoid compile errors
  (bnc#1012628).
- clk: renesas: cpg-mssr: Fix reset control race condition
  (bnc#1012628).
- dma-mapping: check pfn validity in dma_common_{mmap,get_sgtable}
  (bnc#1012628).
- platform/x86: pcengines-apuv2: Fix softdep statement
  (bnc#1012628).
- platform/x86: intel_pmc_core: Add ICL-NNPI support to PMC Core
  (bnc#1012628).
- mm/hmm: always return EBUSY for invalid ranges in
  hmm_range_{fault,snapshot} (bnc#1012628).
- xen/pciback: remove set but not used variable 'old_state'
  (bnc#1012628).
- irqchip/gic-v3-its: Free unused vpt_page when alloc vpe table
  fail (bnc#1012628).
- irqchip/irq-imx-gpcv2: Forward irq type to parent (bnc#1012628).
- f2fs: fix to read source block before invalidating it
  (bnc#1012628).
- tools perf beauty: Fix usbdevfs_ioctl table generator to handle
  _IOC() (bnc#1012628).
- perf header: Fix divide by zero error if f_header.attr_size==0
  (bnc#1012628).
- perf header: Fix use of unitialized value warning (bnc#1012628).
- RDMA/qedr: Fix the hca_type and hca_rev returned in device
  attributes (bnc#1012628).
- ALSA: pcm: fix lost wakeup event scenarios in snd_pcm_drain
  (bnc#1012628).
- libata: zpodd: Fix small read overflow in zpodd_get_mech_type()
  (bnc#1012628).
- powerpc/nvdimm: Pick nearby online node if the device node is
  not online (bnc#1012628).
- drm/bridge: lvds-encoder: Fix build error while
  CONFIG_DRM_KMS_HELPER=m (bnc#1012628).
- drm/bridge: tc358764: Fix build error (bnc#1012628).
- Btrfs: fix deadlock between fiemap and transaction commits
  (bnc#1012628).
- scsi: hpsa: correct scsi command status issue after reset
  (bnc#1012628).
- scsi: qla2xxx: Fix possible fcport null-pointer dereferences
  (bnc#1012628).
- tracing: Fix header include guards in trace event headers
  (bnc#1012628).
- drm/amdkfd: Fix byte align on VegaM (bnc#1012628).
- drm/amd/powerplay: fix null pointer dereference around dpm
  state relates (bnc#1012628).
- drm/amdgpu: fix error handling in amdgpu_cs_process_fence_dep
  (bnc#1012628).
- drm/amdgpu: fix a potential information leaking bug
  (bnc#1012628).
- ata: libahci: do not complain in case of deferred probe
  (bnc#1012628).
- kbuild: modpost: handle KBUILD_EXTRA_SYMBOLS only for external
  modules (bnc#1012628).
- kbuild: Check for unknown options with cc-option usage in
  Kconfig and clang (bnc#1012628).
- arm64/efi: fix variable 'si' set but not used (bnc#1012628).
- riscv: Fix perf record without libelf support (bnc#1012628).
- arm64: Lower priority mask for GIC_PRIO_IRQON (bnc#1012628).
- arm64: unwind: Prohibit probing on return_address()
  (bnc#1012628).
- arm64/mm: fix variable 'pud' set but not used (bnc#1012628).
- arm64/mm: fix variable 'tag' set but not used (bnc#1012628).
- IB/core: Add mitigation for Spectre V1 (bnc#1012628).
- IB/mlx5: Fix MR registration flow to use UMR properly
  (bnc#1012628).
- RDMA/restrack: Track driver QP types in resource tracker
  (bnc#1012628).
- IB/mad: Fix use-after-free in ib mad completion handling
  (bnc#1012628).
- RDMA/mlx5: Release locks during notifier unregister
  (bnc#1012628).
- drm: msm: Fix add_gpu_components (bnc#1012628).
- RDMA/hns: Fix error return code in hns_roce_v1_rsv_lp_qp()
  (bnc#1012628).
- drm/exynos: fix missing decrement of retry counter
  (bnc#1012628).
- arm64: kprobes: Recover pstate.D in single-step exception
  handler (bnc#1012628).
- arm64: Make debug exception handlers visible from RCU
  (bnc#1012628).
- Revert "kmemleak: allow to coexist with fault injection"
  (bnc#1012628).
- ocfs2: remove set but not used variable 'last_hash'
  (bnc#1012628).
- page flags: prioritize kasan bits over last-cpuid (bnc#1012628).
- asm-generic: fix -Wtype-limits compiler warnings (bnc#1012628).
- arm64: KVM: regmap: Fix unexpected switch fall-through
  (bnc#1012628).
- staging: comedi: dt3000: Fix signed integer overflow 'divider *
  base' (bnc#1012628).
- staging: comedi: dt3000: Fix rounding up of timer divisor
  (bnc#1012628).
- iio: adc: max9611: Fix temperature reading in probe
  (bnc#1012628).
- USB: core: Fix races in character device registration and
  deregistraion (bnc#1012628).
- usb: gadget: udc: renesas_usb3: Fix sysfs interface of "role"
  (bnc#1012628).
- usb: cdc-acm: make sure a refcount is taken early enough
  (bnc#1012628).
- USB: CDC: fix sanity checks in CDC union parser (bnc#1012628).
- USB: serial: option: add D-Link DWM-222 device ID (bnc#1012628).
- USB: serial: option: Add support for ZTE MF871A (bnc#1012628).
- USB: serial: option: add the BroadMobi BM818 card (bnc#1012628).
- USB: serial: option: Add Motorola modem UARTs (bnc#1012628).
- usb: setup authorized_default attributes using usb_bus_notify
  (bnc#1012628).
- netfilter: conntrack: Use consistent ct id hash calculation
  (bnc#1012628).
- Input: psmouse - fix build error of multiple definition
  (bnc#1012628).
- bnx2x: Fix VF's VLAN reconfiguration in reload (bnc#1012628).
- bonding: Add vlan tx offload to hw_enc_features (bnc#1012628).
- net: dsa: Check existence of .port_mdb_add callback before
  calling it (bnc#1012628).
- net/mlx4_en: fix a memory leak bug (bnc#1012628).
- net/packet: fix race in tpacket_snd() (bnc#1012628).
- net: sched: sch_taprio: fix memleak in error path for sched
  list parse (bnc#1012628).
- sctp: fix memleak in sctp_send_reset_streams (bnc#1012628).
- sctp: fix the transport error_count check (bnc#1012628).
- team: Add vlan tx offload to hw_enc_features (bnc#1012628).
- tipc: initialise addr_trail_end when setting node addresses
  (bnc#1012628).
- xen/netback: Reset nr_frags before freeing skb (bnc#1012628).
- net/mlx5e: Only support tx/rx pause setting for port owner
  (bnc#1012628).
- bnxt_en: Fix VNIC clearing logic for 57500 chips (bnc#1012628).
- bnxt_en: Improve RX doorbell sequence (bnc#1012628).
- bnxt_en: Fix handling FRAG_ERR when NVM_INSTALL_UPDATE cmd fails
  (bnc#1012628).
- bnxt_en: Suppress HWRM errors for HWRM_NVM_GET_VARIABLE command
  (bnc#1012628).
- bnxt_en: Use correct src_fid to determine direction of the flow
  (bnc#1012628).
- bnxt_en: Fix to include flow direction in L2 key (bnc#1012628).
- net sched: update skbedit action for batched events operations
  (bnc#1012628).
- tc-testing: updated skbedit action tests with batch
  create/delete (bnc#1012628).
- netdevsim: Restore per-network namespace accounting for fib
  entries (bnc#1012628).
- net/mlx5e: ethtool, Avoid setting speed to 56GBASE when autoneg
  off (bnc#1012628).
- net/mlx5e: Fix false negative indication on tx reporter CQE
  recovery (bnc#1012628).
- net/mlx5e: Remove redundant check in CQE recovery flow of tx
  reporter (bnc#1012628).
- net/mlx5e: Use flow keys dissector to parse packets for ARFS
  (bnc#1012628).
- net/tls: prevent skb_orphan() from leaking TLS plain text with
  offload (bnc#1012628).
- net: phy: consider AN_RESTART status when reading link status
  (bnc#1012628).
- netlink: Fix nlmsg_parse as a wrapper for strict message parsing
  (bnc#1012628).
- Refresh patches.suse/supported-flag.
- commit 5878ee6

-------------------------------------------------------------------
Fri Aug 23 08:43:23 CEST 2019 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: Fix kernel-livepatch description typo.
- commit 36acf91

-------------------------------------------------------------------
Thu Aug 22 23:37:43 CEST 2019 - msuchanek@suse.de

- Pull packaging cleanup from mkubecek.
- Parametrize kgraft vs livepatch.
- commit 16f6816

-------------------------------------------------------------------
Wed Aug 21 09:09:00 CEST 2019 - tiwai@suse.de

- iwlwifi: Add support for SAR South Korea limitation
  (bsc#1142128).
- commit 0100738

-------------------------------------------------------------------
Mon Aug 19 17:46:30 CEST 2019 - bp@suse.de

- Update config files.
  As per https://jira.suse.com/browse/SLE-7041
  Factory first!
- commit fc98fd1

-------------------------------------------------------------------
Sun Aug 18 18:10:36 CEST 2019 - afaerber@suse.de

- config: arm64: Enable I2C_IMX (boo#1146026)
  Needed for Google Coral board.
- commit 5057605

-------------------------------------------------------------------
Fri Aug 16 22:01:45 CEST 2019 - jslaby@suse.cz

- Linux 5.2.9 (bnc#1012628).
- iwlwifi: mvm: fix version check for GEO_TX_POWER_LIMIT support
  (bnc#1012628).
- iwlwifi: mvm: don't send GEO_TX_POWER_LIMIT on version < 41
  (bnc#1012628).
- iwlwifi: mvm: fix a use-after-free bug in iwl_mvm_tx_tso_segment
  (bnc#1012628).
- iwlwifi: mvm: fix an out-of-bound access (bnc#1012628).
- iwlwifi: don't unmap as page memory that was mapped as single
  (bnc#1012628).
- mwifiex: fix 802.11n/WPA detection (bnc#1012628).
- KVM: arm/arm64: Sync ICH_VMCR_EL2 back when about to block
  (bnc#1012628).
- KVM: Fix leak vCPU's VMCS value into other pCPU (bnc#1012628).
- NFSv4: Fix an Oops in nfs4_do_setattr (bnc#1012628).
- NFSv4: Check the return value of update_open_stateid()
  (bnc#1012628).
- NFSv4: Fix delegation state recovery (bnc#1012628).
- smb3: send CAP_DFS capability during session setup
  (bnc#1012628).
- SMB3: Fix deadlock in validate negotiate hits reconnect
  (bnc#1012628).
- dax: dax_layout_busy_page() should not unmap cow pages
  (bnc#1012628).
- mac80211: don't WARN on short WMM parameters from AP
  (bnc#1012628).
- ALSA: hda - Workaround for crackled sound on AMD controller
  (1022:1457) (bnc#1012628).
- ALSA: hda - Don't override global PCM hw info flag
  (bnc#1012628).
- ALSA: hiface: fix multiple memory leak bugs (bnc#1012628).
- ALSA: firewire: fix a memory leak bug (bnc#1012628).
- drm/i915: Fix wrong escape clock divisor init for GLK
  (bnc#1012628).
- hwmon: (lm75) Fixup tmp75b clr_mask (bnc#1012628).
- hwmon: (nct7802) Fix wrong detection of in4 presence
  (bnc#1012628).
- can: peak_usb: pcan_usb_fd: Fix info-leaks to USB devices
  (bnc#1012628).
- can: peak_usb: pcan_usb_pro: Fix info-leaks to USB devices
  (bnc#1012628).
- KVM/nSVM: properly map nested VMCB (bnc#1012628).
- ALSA: usb-audio: fix a memory leak bug (bnc#1012628).
- HID: sony: Fix race condition between rumble and device remove
  (bnc#1012628).
- gen_compile_commands: lower the entry count threshold
  (bnc#1012628).
- s390/dma: provide proper ARCH_ZONE_DMA_BITS value (bnc#1012628).
- perf/core: Fix creating kernel counters for PMUs that override
  event->cpu (bnc#1012628).
- perf/x86: Apply more accurate check on hypervisor platform
  (bnc#1012628).
- perf/x86/intel: Fix invalid Bit 13 for Icelake MSR_OFFCORE_RSP_x
  register (bnc#1012628).
- perf/x86/intel: Fix SLOTS PEBS event constraint (bnc#1012628).
- tty/ldsem, locking/rwsem: Add missing ACQUIRE to read_failed
  sleep loop (bnc#1012628).
- test_firmware: fix a memory leak bug (bnc#1012628).
- scsi: scsi_dh_alua: always use a 2 second delay before retrying
  RTPG (bnc#1012628).
- scsi: ibmvfc: fix WARN_ON during event pool release
  (bnc#1012628).
- scsi: megaraid_sas: fix panic on loading firmware crashdump
  (bnc#1012628).
- ARM: dts: bcm: bcm47094: add missing #cells for mdio-bus-mux
  (bnc#1012628).
- ARM: davinci: fix sleep.S build error on ARMv4 (bnc#1012628).
- nvme: fix memory leak caused by incorrect subsystem free
  (bnc#1012628).
- nvme: ignore subnqn for ADATA SX6000LNP (bnc#1012628).
- ACPI/IORT: Fix off-by-one check in iort_dev_find_its_id()
  (bnc#1012628).
- drbd: dynamically allocate shash descriptor (bnc#1012628).
- perf probe: Avoid calling freeing routine multiple times for
  same pointer (bnc#1012628).
- perf session: Fix loading of compressed data split across
  adjacent records (bnc#1012628).
- perf stat: Fix segfault for event group in repeat mode
  (bnc#1012628).
- perf tools: Fix proper buffer size for feature processing
  (bnc#1012628).
- perf script: Fix off by one in brstackinsn IPC computation
  (bnc#1012628).
- ALSA: compress: Be more restrictive about when a drain is
  allowed (bnc#1012628).
- ALSA: compress: Don't allow paritial drain operations on
  capture streams (bnc#1012628).
- ALSA: compress: Prevent bypasses of set_params (bnc#1012628).
- ALSA: compress: Fix regression on compressed capture streams
  (bnc#1012628).
- s390/qdio: add sanity checks to the fast-requeue path
  (bnc#1012628).
- cpufreq/pasemi: fix use-after-free in pas_cpufreq_cpu_init()
  (bnc#1012628).
- arm64: dts: imx8mq: fix SAI compatible (bnc#1012628).
- arm64: dts: imx8mm: Correct SAI3 RXC/TXFS pin's mux option #1
  (bnc#1012628).
- drm: silence variable 'conn' set but not used (bnc#1012628).
- drm/msm/dpu: Correct dpu encoder spinlock initialization
  (bnc#1012628).
- iommu/vt-d: Check if domain->pgd was allocated (bnc#1012628).
- arm64: entry: SP Alignment Fault doesn't write to FAR_EL1
  (bnc#1012628).
- arm64: Force SSBS on context switch (bnc#1012628).
- powerpc/papr_scm: Force a scm-unbind if initial scm-bind fails
  (bnc#1012628).
- ARM: dts: imx6ul: fix clock frequency property name of I2C buses
  (bnc#1012628).
- hwmon: (nct6775) Fix register address and added missed tolerance
  for nct6106 (bnc#1012628).
- hwmon: (occ) Fix division by zero issue (bnc#1012628).
- allocate_flower_entry: should check for null deref
  (bnc#1012628).
- mac80211: don't warn about CW params when not using them
  (bnc#1012628).
- mac80211: fix possible memory leak in ieee80211_assign_beacon
  (bnc#1012628).
- nl80211: fix NL80211_HE_MAX_CAPABILITY_LEN (bnc#1012628).
- iscsi_ibft: make ISCSI_IBFT dependson ACPI instead of
  ISCSI_IBFT_FIND (bnc#1012628).
- Update config files.
  Set CONFIG_ISCSI_IBFT=m.
- drm/amd/display: Increase size of audios array (bnc#1012628).
- drm/amd/display: Only enable audio if speaker allocation exists
  (bnc#1012628).
- drm/amd/display: Fix dc_create failure handling and 666 color
  depths (bnc#1012628).
- drm/amd/display: allocate 4 ddc engines for RV2 (bnc#1012628).
- drm/amd/display: put back front end initialization sequence
  (bnc#1012628).
- drm/amd/display: use encoder's engine id to find matched free
  audio device (bnc#1012628).
- drm/amd/display: fix DMCU hang when going into Modern Standby
  (bnc#1012628).
- drm/amd/display: Wait for backlight programming completion in
  set backlight level (bnc#1012628).
- drm/amd/display: Clock does not lower in Updateplanes
  (bnc#1012628).
- drm/amd/display: No audio endpoint for Dell MST display
  (bnc#1012628).
- netfilter: nf_tables: Support auto-loading for inet nat
  (bnc#1012628).
- rq-qos: use a mb for got_token (bnc#1012628).
- rq-qos: set ourself TASK_UNINTERRUPTIBLE after we schedule
  (bnc#1012628).
- rq-qos: don't reset has_sleepers on spurious wakeups
  (bnc#1012628).
- scripts/sphinx-pre-install: fix latexmk dependencies
  (bnc#1012628).
- scripts/sphinx-pre-install: don't use LaTeX with CentOS 7
  (bnc#1012628).
- scripts/sphinx-pre-install: fix script for RHEL/CentOS
  (bnc#1012628).
- netfilter: nft_hash: fix symhash with modulus one (bnc#1012628).
- netfilter: conntrack: always store window size un-scaled
  (bnc#1012628).
- netfilter: nf_tables: fix module autoload for redir
  (bnc#1012628).
- netfilter: Fix rpfilter dropping vrf packets by mistake
  (bnc#1012628).
- vfio-ccw: Don't call cp_free if we are processing a channel
  program (bnc#1012628).
- vfio-ccw: Set pa_nr to 0 if memory allocation fails for
  pa_iova_pfn (bnc#1012628).
- netfilter: nfnetlink: avoid deadlock due to synchronous
  request_module (bnc#1012628).
- powerpc: fix off by one in max_zone_pfn initialization for
  ZONE_DMA (bnc#1012628).
- can: peak_usb: fix potential double kfree_skb() (bnc#1012628).
- can: flexcan: fix an use-after-free in flexcan_setup_stop_mode()
  (bnc#1012628).
- can: flexcan: fix stop mode acknowledgment (bnc#1012628).
- can: rcar_canfd: fix possible IRQ storm on high load
  (bnc#1012628).
- usb: typec: tcpm: Ignore unsupported/unknown alternate mode
  requests (bnc#1012628).
- usb: typec: tcpm: Add NULL check before dereferencing config
  (bnc#1012628).
- usb: typec: tcpm: remove tcpm dir if no children (bnc#1012628).
- usb: typec: tcpm: free log buf memory when remove debug file
  (bnc#1012628).
- usb: typec: ucsi: ccg: Fix uninitilized symbol error
  (bnc#1012628).
- usb: yurex: Fix use-after-free in yurex_delete (bnc#1012628).
- usb: host: xhci-rcar: Fix timeout in xhci_suspend()
  (bnc#1012628).
- gfs2: gfs2_walk_metadata fix (bnc#1012628).
- genirq/affinity: Create affinity mask for single vector
  (bnc#1012628).
- x86/purgatory: Use CFLAGS_REMOVE rather than reset KBUILD_CFLAGS
  (bnc#1012628).
- x86/purgatory: Do not use __builtin_memcpy and __builtin_memset
  (bnc#1012628).
- perf record: Fix module size on s390 (bnc#1012628).
- perf db-export: Fix thread__exec_comm() (bnc#1012628).
- perf annotate: Fix s390 gap between kernel end and module start
  (bnc#1012628).
- coresight: Fix DEBUG_LOCKS_WARN_ON for uninitialized attribute
  (bnc#1012628).
- mm/vmalloc: Sync unmappings in __purge_vmap_area_lazy()
  (bnc#1012628).
- x86/mm: Sync also unmappings in vmalloc_sync_all()
  (bnc#1012628).
- x86/mm: Check for pfn instead of page in vmalloc_sync_one()
  (bnc#1012628).
- Input: synaptics - enable RMI mode for HP Spectre X360
  (bnc#1012628).
- Input: elantech - enable SMBus on new (2018+) systems
  (bnc#1012628).
- Input: usbtouchscreen - initialize PM mutex before using it
  (bnc#1012628).
- bdev: Fixup error handling in blkdev_get() (bnc#1012628).
- loop: set PF_MEMALLOC_NOIO for the worker thread (bnc#1012628).
- mmc: cavium: Add the missing dma unmap when the dma has finished
  (bnc#1012628).
- mmc: cavium: Set the correct dma max segment size for mmc_host
  (bnc#1012628).
- sound: fix a memory leak bug (bnc#1012628).
- usb: iowarrior: fix deadlock on disconnect (bnc#1012628).
- Revert "USB: rio500: simplify locking" (bnc#1012628).
- usb: usbfs: fix double-free of usb memory upon submiturb error
  (bnc#1012628).
- driver core: platform: return -ENXIO for missing GpioInt
  (bnc#1012628).
- crypto: ccp - Ignore tag length when decrypting GCM ciphertext
  (bnc#1012628).
- crypto: ccp - Add support for valid authsize values less than 16
  (bnc#1012628).
- crypto: ccp - Fix oops by properly managing allocated structures
  (bnc#1012628).
- Staging: fbtft: Fix reset assertion when using gpio descriptor
  (bnc#1012628).
- Staging: fbtft: Fix probing of gpio descriptor (bnc#1012628).
- staging: android: ion: Bail out upon SIGKILL when allocating
  memory (bnc#1012628).
- staging: wilc1000: flush the workqueue before deinit the host
  (bnc#1012628).
- staging: gasket: apex: fix copy-paste typo (bnc#1012628).
- iio: adc: max9611: Fix misuse of GENMASK macro (bnc#1012628).
- iio: adc: gyroadc: fix uninitialized return code (bnc#1012628).
- iio: imu: mpu6050: add missing available scan masks
  (bnc#1012628).
- iio: cros_ec_accel_legacy: Fix incorrect channel setting
  (bnc#1012628).
- IIO: Ingenic JZ47xx: Set clock divider on probe (bnc#1012628).
- Revert "PCI: Add missing link delays required by the PCIe spec"
  (bnc#1012628).
- commit 80c0ffe

-------------------------------------------------------------------
Mon Aug 12 23:29:16 CEST 2019 - msuchanek@suse.de

- config.conf: syms should not depend on kernel-zfcpdump
  Kernel-zfcpdump is not modular so kernel-zfcpdump-devel does not make
  sense and is not built. kernel-syms cannot depend on it.
- commit 516192f

-------------------------------------------------------------------
Mon Aug 12 23:11:50 CEST 2019 - msuchanek@suse.de

- rpm/mkspec: Correct tarball URL for rc kernels.
- commit c4ef18d

-------------------------------------------------------------------
Mon Aug 12 09:11:56 CEST 2019 - jslaby@suse.cz

- x86/apic: Handle missing global clockevent gracefully
  (bnc#1142926).
- commit a44175e

-------------------------------------------------------------------
Fri Aug  9 19:51:51 CEST 2019 - jslaby@suse.cz

- Linux 5.2.8 (bnc#1012628).
- scsi: fcoe: Embed fc_rport_priv in fcoe_rport structure
  (bnc#1012628).
- libnvdimm/bus: Prepare the nd_ioctl() path to be re-entrant
  (bnc#1012628).
- libnvdimm/bus: Fix wait_nvdimm_bus_probe_idle() ABBA deadlock
  (bnc#1012628).
- ALSA: usb-audio: Sanity checks for each pipe and EP types
  (bnc#1012628).
- ALSA: usb-audio: Fix gpf in snd_usb_pipe_sanity_check
  (bnc#1012628).
- HID: wacom: fix bit shift for Cintiq Companion 2 (bnc#1012628).
- HID: Add quirk for HP X1200 PIXART OEM mouse (bnc#1012628).
- atm: iphase: Fix Spectre v1 vulnerability (bnc#1012628).
- bnx2x: Disable multi-cos feature (bnc#1012628).
- drivers/net/ethernet/marvell/mvmdio.c: Fix non OF case
  (bnc#1012628).
- ife: error out when nla attributes are empty (bnc#1012628).
- ip6_gre: reload ipv6h in prepare_ip6gre_xmit_ipv6 (bnc#1012628).
- ip6_tunnel: fix possible use-after-free on xmit (bnc#1012628).
- ipip: validate header length in ipip_tunnel_xmit (bnc#1012628).
- mlxsw: spectrum: Fix error path in mlxsw_sp_module_init()
  (bnc#1012628).
- mvpp2: fix panic on module removal (bnc#1012628).
- mvpp2: refactor MTU change code (bnc#1012628).
- net: bridge: delete local fdb on device init failure
  (bnc#1012628).
- net: bridge: mcast: don't delete permanent entries when fast
  leave is enabled (bnc#1012628).
- net: bridge: move default pvid init/deinit to
  NETDEV_REGISTER/UNREGISTER (bnc#1012628).
- net: fix ifindex collision during namespace removal
  (bnc#1012628).
- net/mlx5e: always initialize frag->last_in_page (bnc#1012628).
- net/mlx5: Use reversed order when unregister devices
  (bnc#1012628).
- net: phy: fixed_phy: print gpio error only if gpio node is
  present (bnc#1012628).
- net: phylink: don't start and stop SGMII PHYs in SFP modules
  twice (bnc#1012628).
- net: phylink: Fix flow control for fixed-link (bnc#1012628).
- net: phy: mscc: initialize stats array (bnc#1012628).
- net: qualcomm: rmnet: Fix incorrect UL checksum offload logic
  (bnc#1012628).
- net: sched: Fix a possible null-pointer dereference in
  dequeue_func() (bnc#1012628).
- net sched: update vlan action for batched events operations
  (bnc#1012628).
- net: sched: use temporary variable for actions indexes
  (bnc#1012628).
- net/smc: do not schedule tx_work in SMC_CLOSED state
  (bnc#1012628).
- net: stmmac: Use netif_tx_napi_add() for TX polling function
  (bnc#1012628).
- NFC: nfcmrvl: fix gpio-handling regression (bnc#1012628).
- ocelot: Cancel delayed work before wq destruction (bnc#1012628).
- tipc: compat: allow tipc commands without arguments
  (bnc#1012628).
- tipc: fix unitilized skb list crash (bnc#1012628).
- tun: mark small packets as owned by the tap sock (bnc#1012628).
- net/mlx5: Fix modify_cq_in alignment (bnc#1012628).
- net/mlx5e: Prevent encap flow counter update async to user query
  (bnc#1012628).
- r8169: don't use MSI before RTL8168d (bnc#1012628).
- bpf: fix XDP vlan selftests test_xdp_vlan.sh (bnc#1012628).
- selftests/bpf: add wrapper scripts for test_xdp_vlan.sh
  (bnc#1012628).
- selftests/bpf: reduce time to execute test_xdp_vlan.sh
  (bnc#1012628).
- net: fix bpf_xdp_adjust_head regression for generic-XDP
  (bnc#1012628).
- hv_sock: Fix hang when a connection is closed (bnc#1012628).
- net: phy: fix race in genphy_update_link (bnc#1012628).
- net/smc: avoid fallback in case of non-blocking connect
  (bnc#1012628).
- rocker: fix memory leaks of fib_work on two error return paths
  (bnc#1012628).
- mlxsw: spectrum_buffers: Further reduce pool size on Spectrum-2
  (bnc#1012628).
- net/mlx5: Add missing RDMA_RX capabilities (bnc#1012628).
- net/mlx5e: Fix matching of speed to PRM link modes
  (bnc#1012628).
- compat_ioctl: pppoe: fix PPPOEIOCSFWD handling (bnc#1012628).
- Revert "mac80211: set NETIF_F_LLTX when using intermediate tx
  queues" (bnc#1012628).
- spi: bcm2835: Fix 3-wire mode if DMA is enabled (bnc#1012628).
- commit bf37e83

-------------------------------------------------------------------
Fri Aug  9 18:16:57 CEST 2019 - msuchanek@suse.de

- rpm/config.sh: Enable building DTBs.
- commit 533dae1

-------------------------------------------------------------------
Fri Aug  9 18:14:50 CEST 2019 - msuchanek@suse.de

- rpm/mkspec: Make building DTBs optional.
- commit 7c057c8

-------------------------------------------------------------------
Fri Aug  9 13:42:51 CEST 2019 - msuchanek@suse.de

- rpm/modflist: Simplify compression support.
- commit fd135a6

-------------------------------------------------------------------
Fri Aug  9 13:33:49 CEST 2019 - mkubecek@suse.cz

- rpm: support compressed modules
  Some of our scripts and scriptlets in rpm/ do not expect module files not
  ending with ".ko" which currently leads to failure in preuninstall
  scriptlet of cluster-md-kmp-default (and probably also other subpackages).
  Let those which could be run on compressed module files recognize ".ko.xz"
  in addition to ".ko".
- commit 18fcdff

-------------------------------------------------------------------
Thu Aug  8 20:01:30 CEST 2019 - jslaby@suse.cz

- Use the upstream patch.
  (Including the tags.)
- commit 5dd5b2d

-------------------------------------------------------------------
Thu Aug  8 15:31:02 CEST 2019 - jslaby@suse.cz

- s390: enable detection of kernel version from bzImage
  (bnc#1139939).
- commit 8434c05

-------------------------------------------------------------------
Wed Aug  7 21:34:48 CEST 2019 - tiwai@suse.de

- drm/i915/vbt: Fix VBT parsing for the PSR section (bsc#1143139).
- commit 0bef772

-------------------------------------------------------------------
Wed Aug  7 21:14:19 CEST 2019 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: support partial rt debug config.
- commit af37821

-------------------------------------------------------------------
Wed Aug  7 17:55:06 CEST 2019 - afaerber@suse.de

- config: Enable SENSORS_GPIO_FAN for all of Arm (boo#1144723)
  We already had it for armv6hl but were lacking it on arm64.
  Add it on armv7hl for consistency while at it.
  (cherry picked from commit 607ebebd5af841d77de8908dbc8abb1fd7cdda4f)
- commit 71d4424

-------------------------------------------------------------------
Tue Aug  6 21:39:08 CEST 2019 - jslaby@suse.cz

- Linux 5.2.7 (bnc#1012628).
- Documentation: Add swapgs description to the Spectre v1
  documentation (bnc#1012628).
- x86/speculation/swapgs: Exclude ATOMs from speculation through
  SWAPGS (bnc#1012628).
- x86/entry/64: Use JMP instead of JMPQ (bnc#1012628).
- x86/speculation: Enable Spectre v1 swapgs mitigations
  (bnc#1012628).
- x86/speculation: Prepare entry code for Spectre v1 swapgs
  mitigations (bnc#1012628).
- x86/cpufeatures: Combine word 11 and 12 into a new scattered
  features word (bnc#1012628).
- x86/cpufeatures: Carve out CQM features retrieval (bnc#1012628).
- drm/i915/gvt: fix incorrect cache entry for guest page mapping
  (bnc#1012628).
- drm/i915/perf: fix ICL perf register offsets (bnc#1012628).
- IB/hfi1: Field not zero-ed when allocating TID flow memory
  (bnc#1012628).
- IB/hfi1: Drop all TID RDMA READ RESP packets after r_next_psn
  (bnc#1012628).
- IB/hfi1: Check for error on call to alloc_rsm_map_table
  (bnc#1012628).
- IB/mlx5: Fix RSS Toeplitz setup to be aligned with the HW
  specification (bnc#1012628).
- IB/mlx5: Fix clean_mr() to work in the expected order
  (bnc#1012628).
- IB/mlx5: Move MRs to a kernel PD when freeing them to the MR
  cache (bnc#1012628).
- IB/mlx5: Use direct mkey destroy command upon UMR unreg failure
  (bnc#1012628).
- IB/mlx5: Fix unreg_umr to ignore the mkey state (bnc#1012628).
- RDMA/devices: Do not deadlock during client removal
  (bnc#1012628).
- RDMA/bnxt_re: Honor vlan_id in GID entry comparison
  (bnc#1012628).
- xen/gntdev.c: Replace vm_map_pages() with vm_map_pages_zero()
  (bnc#1012628).
- xen/swiotlb: fix condition for calling
  xen_destroy_contiguous_region() (bnc#1012628).
- nbd: replace kill_bdev() with __invalidate_device() again
  (bnc#1012628).
- scsi: mpt3sas: Use 63-bit DMA addressing on SAS35 HBA
  (bnc#1012628).
- clk: mediatek: mt8183: Register 13MHz clock earlier for
  clocksource (bnc#1012628).
- io_uring: fix KASAN use after free in io_sq_wq_submit_work
  (bnc#1012628).
- arm64: cpufeature: Fix feature comparison for CTR_EL0.{CWG,ERG}
  (bnc#1012628).
- arm64: compat: Allow single-byte watchpoints on all addresses
  (bnc#1012628).
- drivers/perf: arm_pmu: Fix failure path in PM notifier
  (bnc#1012628).
- parisc: Fix build of compressed kernel even with debug enabled
  (bnc#1012628).
- parisc: Strip debug info from kernel before creating compressed
  vmlinuz (bnc#1012628).
- parisc: Add archclean Makefile target (bnc#1012628).
- cgroup: kselftest: relax fs_spec checks (bnc#1012628).
- s390/dasd: fix endless loop after read unit address
  configuration (bnc#1012628).
- loop: Fix mount(2) failure due to race with LOOP_SET_FD
  (bnc#1012628).
- mm/migrate.c: initialize pud_entry in migrate_vma()
  (bnc#1012628).
- ubsan: build ubsan.c more conservatively (bnc#1012628).
- mm: compaction: avoid 100% CPU usage during compaction when
  a task is killed (bnc#1012628).
- mm: migrate: fix reference check race between __find_get_block()
  and migration (bnc#1012628).
- mm: vmscan: check if mem cgroup is disabled or not before
  calling memcg slab shrinker (bnc#1012628).
- ALSA: hda: Fix 1-minute detection delay when i915 module is
  not available (bnc#1012628).
- selinux: fix memory leak in policydb_init() (bnc#1012628).
- powerpc/kasan: fix early boot failure on PPC32 (bnc#1012628).
- i2c: at91: fix clk_offset for sama5d2 (bnc#1012628).
- i2c: at91: disable TXRDY interrupt after sending data
  (bnc#1012628).
- i2c: iproc: Fix i2c master read more than 63 bytes
  (bnc#1012628).
- eeprom: at24: make spd world-readable again (bnc#1012628).
- mtd: rawnand: micron: handle on-die "ECC-off" devices correctly
  (bnc#1012628).
- drm/nouveau: Only release VCPI slots on mode changes
  (bnc#1012628).
- IB/hfi1: Fix Spectre v1 vulnerability (bnc#1012628).
- gpiolib: fix incorrect IRQ requesting of an active-low lineevent
  (bnc#1012628).
- gpio: don't WARN() on NULL descs if gpiolib is disabled
  (bnc#1012628).
- gpiolib: Preserve desc->flags when setting state (bnc#1012628).
- mmc: mmc_spi: Enable stable writes (bnc#1012628).
- mmc: host: sdhci-sprd: Fix the missing pm_runtime_put_noidle()
  (bnc#1012628).
- mmc: meson-mx-sdio: Fix misuse of GENMASK macro (bnc#1012628).
- mmc: dw_mmc: Fix occasional hang after tuning on eMMC
  (bnc#1012628).
- fgraph: Remove redundant ftrace_graph_notrace_addr() test
  (bnc#1012628).
- dax: Fix missed wakeup in put_unlocked_entry() (bnc#1012628).
- Btrfs: fix race leading to fs corruption after transaction abort
  (bnc#1012628).
- Btrfs: fix incremental send failure after deduplication
  (bnc#1012628).
- tpm: Fix null pointer dereference on chip register error path
  (bnc#1012628).
- kbuild: modpost: include .*.cmd files only when targets exist
  (bnc#1012628).
- kbuild: initialize CLANG_FLAGS correctly in the top Makefile
  (bnc#1012628).
- kconfig: Clear "written" flag to avoid data loss (bnc#1012628).
- drm/nouveau/dmem: missing mutex_lock in error path
  (bnc#1012628).
- drm/nouveau: fix memory leak in nouveau_conn_reset()
  (bnc#1012628).
- bpf: Disable GCC -fgcse optimization for ___bpf_prog_run()
  (bnc#1012628).
- x86, boot: Remove multiple copy of static function
  sanitize_boot_params() (bnc#1012628).
- x86/paravirt: Fix callee-saved function ELF sizes (bnc#1012628).
- x86/kvm: Don't call kvm_spurious_fault() from .fixup
  (bnc#1012628).
- xen/pv: Fix a boot up hang revealed by int3 self test
  (bnc#1012628).
- crypto: ccp - Fix SEV_VERSION_GREATER_OR_EQUAL (bnc#1012628).
- stacktrace: Force USER_DS for stack_trace_save_user()
  (bnc#1012628).
- mm/hotplug: make remove_memory() interface usable (bnc#1012628).
- device-dax: fix memory and resource leak if hotplug fails
  (bnc#1012628).
- nds32: fix asm/syscall.h (bnc#1012628).
- ipc/mqueue.c: only perform resource calculation if user valid
  (bnc#1012628).
- drivers/rapidio/devices/rio_mport_cdev.c: NUL terminate some
  strings (bnc#1012628).
- uapi linux/coda_psdev.h: move upc_req definition from uapi to
  kernel side headers (bnc#1012628).
- coda: fix build using bare-metal toolchain (bnc#1012628).
- coda: add error handling for fget (bnc#1012628).
- mm/ioremap: check virtual address alignment while creating
  huge mappings (bnc#1012628).
- lib/test_string.c: avoid masking memset16/32/64 failures
  (bnc#1012628).
- lib/test_overflow.c: avoid tainting the kernel and fix wrap size
  (bnc#1012628).
- mm/cma.c: fail if fixed declaration can't be honored
  (bnc#1012628).
- x86: math-emu: Hide clang warnings for 16-bit overflow
  (bnc#1012628).
- x86/apic: Silence -Wtype-limits compiler warnings (bnc#1012628).
- mm/z3fold.c: reinitialize zhdr structs after migration
  (bnc#1012628).
- mm/memcontrol.c: keep local VM counters in sync with the
  hierarchical ones (bnc#1012628).
- mm/slab_common.c: work around clang bug #42570 (bnc#1012628).
- mm/z3fold: don't try to use buddy slots after free
  (bnc#1012628).
- be2net: Signal that the device cannot transmit during
  reconfiguration (bnc#1012628).
- bpf: fix BTF verifier size resolution logic (bnc#1012628).
- KVM: nVMX: Ignore segment base for VMX memory operand when
  segment not FS or GS (bnc#1012628).
- ACPI: fix false-positive -Wuninitialized warning (bnc#1012628).
- x86: kvm: avoid constant-conversion warning (bnc#1012628).
- perf version: Fix segfault due to missing OPT_END()
  (bnc#1012628).
- cifs: fix crash in cifs_dfs_do_automount (bnc#1012628).
- drm/amd/display: Expose audio inst from DC to DM (bnc#1012628).
- selftests/bpf: do not ignore clang failures (bnc#1012628).
- scsi: zfcp: fix GCC compiler warning emitted with
  -Wmaybe-uninitialized (bnc#1012628).
- ACPI: blacklist: fix clang warning for unused DMI table
  (bnc#1012628).
- virtio-mmio: add error check for platform_get_irq (bnc#1012628).
- ceph: return -ERANGE if virtual xattr value didn't fit in buffer
  (bnc#1012628).
- ceph: fix dir_lease_is_valid() (bnc#1012628).
- ceph: fix improper use of smp_mb__before_atomic() (bnc#1012628).
- cifs: Fix a race condition with cifs_echo_request (bnc#1012628).
- btrfs: qgroup: Don't hold qgroup_ioctl_lock in
  btrfs_qgroup_inherit() (bnc#1012628).
- remoteproc: copy parent dma_pfn_offset for vdev (bnc#1012628).
- btrfs: Flush before reflinking any extent to prevent NOCOW write
  falling back to COW without data reservation (bnc#1012628).
- btrfs: fix minimum number of chunk errors for DUP (bnc#1012628).
- btrfs: tree-checker: Check if the file extent end overflows
  (bnc#1012628).
- arm64: dts: rockchip: Fix USB3 Type-C on rk3399-sapphire
  (bnc#1012628).
- clk: sprd: Add check for return value of sprd_clk_regmap_init()
  (bnc#1012628).
- fs/adfs: super: fix use-after-free bug (bnc#1012628).
- clk: tegra210: fix PLLU and PLLU_OUT1 (bnc#1012628).
- ARM: exynos: Only build MCPM support if used (bnc#1012628).
- Update config files.
- dmaengine: rcar-dmac: Reject zero-length slave DMA requests
  (bnc#1012628).
- MIPS: lantiq: Fix bitfield masking (bnc#1012628).
- swiotlb: fix phys_addr_t overflow warning (bnc#1012628).
- arm64: qcom: qcs404: Add reset-cells to GCC node (bnc#1012628).
- soc: imx8: Fix potential kernel dump in error path
  (bnc#1012628).
- firmware/psci: psci_checker: Park kthreads before stopping them
  (bnc#1012628).
- PCI: OF: Initialize dev->fwnode appropriately (bnc#1012628).
- kernel/module.c: Only return -EEXIST for modules that have
  finished loading (bnc#1012628).
- arm64: dts: rockchip: fix isp iommu clocks and power domain
  (bnc#1012628).
- dmaengine: tegra-apb: Error out if DMA_PREP_INTERRUPT flag is
  unset (bnc#1012628).
- soc: imx: soc-imx8: Correct return value of error handle
  (bnc#1012628).
- arm64: dts: marvell: mcbin: enlarge PCI memory window
  (bnc#1012628).
- soc: qcom: rpmpd: fixup rpmpd set performance state
  (bnc#1012628).
- arm64: dts: qcom: qcs404-evb: fix l3 min voltage (bnc#1012628).
- ftrace: Enable trampoline when rec count returns back to one
  (bnc#1012628).
- ARM: dts: rockchip: Mark that the rk3288 timer might stop in
  suspend (bnc#1012628).
- clk: meson: mpll: properly handle spread spectrum (bnc#1012628).
- ARM: dts: rockchip: Make rk3288-veyron-mickey's emmc work again
  (bnc#1012628).
- ARM: dts: rockchip: Make rk3288-veyron-minnie run at hs200
  (bnc#1012628).
- ARM: riscpc: fix DMA (bnc#1012628).
- commit a3e04b1

-------------------------------------------------------------------
Sun Aug  4 17:14:38 CEST 2019 - jslaby@suse.cz

- Linux 5.2.6 (bnc#1012628).
- vsock: correct removal of socket from the list (bnc#1012628).
- ISDN: hfcsusb: checking idx of ep configuration (bnc#1012628).
- bpf: fix NULL deref in btf_type_is_resolve_source_only
  (bnc#1012628).
- media: au0828: fix null dereference in error path (bnc#1012628).
- ath10k: Change the warning message string (bnc#1012628).
- media: cpia2_usb: first wake up, then free in disconnect
  (bnc#1012628).
- media: pvrusb2: use a different format for warnings
  (bnc#1012628).
- NFS: Cleanup if nfs_match_client is interrupted (bnc#1012628).
- media: radio-raremono: change devm_k*alloc to k*alloc
  (bnc#1012628).
- xfrm: policy: fix bydst hlist corruption on hash rebuild
  (bnc#1012628).
- nvme: fix multipath crash when ANA is deactivated (bnc#1012628).
- sched/fair: Don't free p->numa_faults with concurrent readers
  (bnc#1012628).
- sched/fair: Use RCU accessors consistently for ->numa_group
  (bnc#1012628).
- /proc/<pid>/cmdline: remove all the special cases (bnc#1012628).
- /proc/<pid>/cmdline: add back the setproctitle() special case
  (bnc#1012628).
- drivers/pps/pps.c: clear offset flags in PPS_SETPARAMS ioctl
  (bnc#1012628).
- Fix allyesconfig output (bnc#1012628).
- ceph: hold i_ceph_lock when removing caps for freeing inode
  (bnc#1012628).
- commit 187170c

-------------------------------------------------------------------
Wed Jul 31 12:41:34 CEST 2019 - acho@suse.com

- driver core: Fix use-after-free and double free on glue
  directory (bsc#1131281).
- Bluetooth: hci_uart: check for missing tty operations
  (CVE-2019-10207 bsc#1142857 bsc#1123959).
- commit 79b6a9c

-------------------------------------------------------------------
Wed Jul 31 11:53:24 CEST 2019 - jslaby@suse.cz

- Update config files: ARCH_HAS_DMA_MMAP_PGPROT is now selected
- commit 0a5eef3

-------------------------------------------------------------------
Wed Jul 31 11:06:04 CEST 2019 - jslaby@suse.cz

- Linux 5.2.5 (bnc#1012628).
- io_uring: don't use iov_iter_advance() for fixed buffers
  (bnc#1012628).
- io_uring: fix counter inc/dec mismatch in async_list
  (bnc#1012628).
- io_uring: ensure ->list is initialized for poll commands
  (bnc#1012628).
- io_uring: add a memory barrier before atomic_read (bnc#1012628).
- access: avoid the RCU grace period for the temporary subjective
  credentials (bnc#1012628).
- drm/i915: Make the semaphore saturation mask global
  (bnc#1012628).
- structleak: disable STRUCTLEAK_BYREF in combination with
  KASAN_STACK (bnc#1012628).
- libnvdimm/bus: Stop holding nvdimm_bus_list_mutex over
  __nd_ioctl() (bnc#1012628).
- libnvdimm/region: Register badblocks before namespaces
  (bnc#1012628).
- libnvdimm/bus: Prevent duplicate device_unregister() calls
  (bnc#1012628).
- drivers/base: Introduce kill_device() (bnc#1012628).
- iommu/iova: Fix compilation error with !CONFIG_IOMMU_IOVA
  (bnc#1012628).
- iommu/iova: Remove stale cached32_node (bnc#1012628).
- iommu/vt-d: Don't queue_iova() if there is no flush queue
  (bnc#1012628).
- io_uring: fix the sequence comparison in io_sequence_defer
  (bnc#1012628).
- powerpc/pmu: Set pmcregs_in_use in paca when running as LPAR
  (bnc#1012628).
- powerpc/tm: Fix oops on sigreturn on systems without TM
  (bnc#1012628).
- powerpc/mm: Limit rma_size to 1TB when running without HV mode
  (bnc#1012628).
- powerpc/xive: Fix loop exit-condition in
  xive_find_target_in_mask() (bnc#1012628).
- powerpc/dma: Fix invalid DMA mmap behavior (bnc#1012628).
- ALSA: hda - Add a conexant codec entry to let mute led work
  (bnc#1012628).
- ALSA: hda - Fix intermittent CORB/RIRB stall on Intel chips
  (bnc#1012628).
- ALSA: pcm: Fix refcount_inc() on zero usage (bnc#1012628).
- ALSA: line6: Fix wrong altsetting for LINE6_PODHD500_1
  (bnc#1012628).
- ALSA: ac97: Fix double free of ac97_codec_device (bnc#1012628).
- drm/panel: Add support for Armadeus ST0700 Adapt (bnc#1012628).
- hpet: Fix division by zero in hpet_time_div() (bnc#1012628).
- eeprom: make older eeprom drivers select NVMEM_SYSFS
  (bnc#1012628).
- mei: me: add mule creek canyon (EHL) device ids (bnc#1012628).
- fpga-manager: altera-ps-spi: Fix build error (bnc#1012628).
- binder: prevent transactions to context manager from its own
  process (bnc#1012628).
- binder: Set end of SG buffer area properly (bnc#1012628).
- x86/stacktrace: Prevent access_ok() warnings in
  arch_stack_walk_user() (bnc#1012628).
- x86/speculation/mds: Apply more accurate check on hypervisor
  platform (bnc#1012628).
- x86/sysfb_efi: Add quirks for some devices with swapped width
  and height (bnc#1012628).
- selinux: check sidtab limit before adding a new entry
  (bnc#1012628).
- btrfs: inode: Don't compress if NODATASUM or NODATACOW set
  (bnc#1012628).
- media: videodev2.h: change V4L2_PIX_FMT_BGRA444 define: fourcc
  was already in use (bnc#1012628).
- KVM: PPC: Book3S HV: XIVE: fix rollback when kvmppc_xive_create
  fails (bnc#1012628).
- KVM: PPC: Book3S HV: Save and restore guest visible PSSCR bits
  on pseries (bnc#1012628).
- KVM: PPC: Book3S HV: Always save guest pmu for guest capable
  of nesting (bnc#1012628).
- KVM: X86: Fix fpu state crash in kvm guest (bnc#1012628).
- usb: usb251xb: Reallow swap-dx-lanes to apply to the upstream
  port (bnc#1012628).
- Revert "usb: usb251xb: Add US port lanes inversion property"
  (bnc#1012628).
- Revert "usb: usb251xb: Add US lanes inversion dts-bindings"
  (bnc#1012628).
- usb: pci-quirks: Correct AMD PLL quirk detection (bnc#1012628).
- usb: wusbcore: fix unbalanced get/put cluster_id (bnc#1012628).
- usb-storage: Add a limitation for blk_queue_max_hw_sectors()
  (bnc#1012628).
- xhci: Fix crash if scatter gather is used with Immediate Data
  Transfer (IDT) (bnc#1012628).
- locking/lockdep: Hide unused 'class' variable (bnc#1012628).
- mm, swap: fix race between swapoff and some swap operations
  (bnc#1012628).
- mm: use down_read_killable for locking mmap_sem in
  access_remote_vm (bnc#1012628).
- locking/lockdep: Fix lock used or unused stats error
  (bnc#1012628).
- proc: use down_read_killable mmap_sem for /proc/pid/maps
  (bnc#1012628).
- cxgb4: reduce kernel stack usage in cudbg_collect_mem_region()
  (bnc#1012628).
- proc: use down_read_killable mmap_sem for /proc/pid/map_files
  (bnc#1012628).
- proc: use down_read_killable mmap_sem for /proc/pid/clear_refs
  (bnc#1012628).
- proc: use down_read_killable mmap_sem for /proc/pid/pagemap
  (bnc#1012628).
- proc: use down_read_killable mmap_sem for /proc/pid/smaps_rollup
  (bnc#1012628).
- mm/mmu_notifier: use hlist_add_head_rcu() (bnc#1012628).
- memcg, fsnotify: no oom-kill for remote memcg charging
  (bnc#1012628).
- mm/gup.c: remove some BUG_ONs from get_gate_page()
  (bnc#1012628).
- mm/gup.c: mark undo_dev_pagemap as __maybe_unused (bnc#1012628).
- mm/mincore.c: fix race between swapoff and mincore
  (bnc#1012628).
- 9p: pass the correct prototype to read_cache_page (bnc#1012628).
- mm/kmemleak.c: fix check for softirq context (bnc#1012628).
- sh: prevent warnings when using iounmap (bnc#1012628).
- nvme: fix NULL deref for fabrics options (bnc#1012628).
- block/bio-integrity: fix a memory leak bug (bnc#1012628).
- platform/x86: Fix PCENGINES_APU2 Kconfig warning (bnc#1012628).
- powerpc/eeh: Handle hugepages in ioremap space (bnc#1012628).
- dlm: check if workqueues are NULL before flushing/destroying
  (bnc#1012628).
- mailbox: handle failed named mailbox channel request
  (bnc#1012628).
- f2fs: avoid out-of-range memory access (bnc#1012628).
- f2fs: fix to avoid long latency during umount (bnc#1012628).
- rds: Accept peer connection reject messages due to incompatible
  version (bnc#1012628).
- block: init flush rq ref count to 1 (bnc#1012628).
- powerpc/boot: add {get, put}_unaligned_be32 to xz_config.h
  (bnc#1012628).
- powerpc/irq: Don't WARN continuously in arch_local_irq_restore()
  (bnc#1012628).
- nvme-tcp: set the STABLE_WRITES flag when data digests are
  enabled (bnc#1012628).
- io_uring: fix io_sq_thread_stop running in front of io_sq_thread
  (bnc#1012628).
- nvme-tcp: don't use sendpage for SLAB pages (bnc#1012628).
- nvme-pci: limit max_hw_sectors based on the DMA max mapping size
  (bnc#1012628).
- nvme-pci: check for NULL return from pci_alloc_p2pmem()
  (bnc#1012628).
- RDMA/core: Fix race when resolving IP address (bnc#1012628).
- perf intel-bts: Fix potential NULL pointer dereference found
  by the smatch tool (bnc#1012628).
- PCI: dwc: pci-dra7xx: Fix compilation when !CONFIG_GPIOLIB
  (bnc#1012628).
- RDMA/rxe: Fill in wc byte_len with IB_WC_RECV_RDMA_WITH_IMM
  (bnc#1012628).
- perf hists browser: Fix potential NULL pointer dereference
  found by the smatch tool (bnc#1012628).
- perf annotate: Fix dereferencing freed memory found by the
  smatch tool (bnc#1012628).
- perf map: Fix potential NULL pointer dereference found by
  smatch tool (bnc#1012628).
- perf session: Fix potential NULL pointer dereference found by
  the smatch tool (bnc#1012628).
- perf trace: Fix potential NULL pointer dereference found by
  the smatch tool (bnc#1012628).
- perf top: Fix potential NULL pointer dereference detected by
  the smatch tool (bnc#1012628).
- rseq/selftests: Fix Thumb mode build failure on arm32
  (bnc#1012628).
- perf stat: Fix use-after-freed pointer detected by the smatch
  tool (bnc#1012628).
- perf test mmap-thread-lookup: Initialize variable to suppress
  memory sanitizer warning (bnc#1012628).
- PCI: mobiveil: Use the 1st inbound window for MEM inbound
  transactions (bnc#1012628).
- PCI: mobiveil: Initialize Primary/Secondary/Subordinate bus
  numbers (bnc#1012628).
- kallsyms: exclude kasan local symbols on s390 (bnc#1012628).
- PCI: mobiveil: Fix the Class Code field (bnc#1012628).
- PCI: mobiveil: Fix PCI base address in MEM/IO outbound windows
  (bnc#1012628).
- KVM: nVMX: Stash L1's CR3 in vmcs01.GUEST_CR3 on nested entry
  w/o EPT (bnc#1012628).
- arm64: assembler: Switch ESB-instruction with a vanilla nop
  if !ARM64_HAS_RAS (bnc#1012628).
- IB/ipoib: Add child to parent list only if device initialized
  (bnc#1012628).
- powerpc/mm: Handle page table allocation failures (bnc#1012628).
- IB/mlx5: Fixed reporting counters on 2nd port for Dual port RoCE
  (bnc#1012628).
- serial: sh-sci: Fix TX DMA buffer flushing and workqueue races
  (bnc#1012628).
- serial: sh-sci: Terminate TX DMA during buffer flushing
  (bnc#1012628).
- RDMA/i40iw: Set queue pair state when being queried
  (bnc#1012628).
- powerpc/mm: mark more tlb functions as __always_inline
  (bnc#1012628).
- powerpc/4xx/uic: clear pending interrupt after irq type/pol
  change (bnc#1012628).
- powerpc: silence a -Wcast-function-type warning in
  dawr_write_file_bool (bnc#1012628).
- f2fs: fix is_idle() check for discard type (bnc#1012628).
- um: Silence lockdep complaint about mmap_sem (bnc#1012628).
- mm/swap: fix release_pages() when releasing devmap pages
  (bnc#1012628).
- mfd: hi655x-pmic: Fix missing return value check for
  devm_regmap_init_mmio_clk (bnc#1012628).
- mfd: arizona: Fix undefined behavior (bnc#1012628).
- mfd: core: Set fwnode for created devices (bnc#1012628).
- mfd: madera: Add missing of table registration (bnc#1012628).
- mfd: cros_ec: Register cros_ec_lid_angle driver when presented
  (bnc#1012628).
- recordmcount: Fix spurious mcount entries on powerpc
  (bnc#1012628).
- fixdep: check return value of printf() and putchar()
  (bnc#1012628).
- powerpc/rtas: retry when cpu offline races with
  suspend/migration (bnc#1012628).
- powerpc/xmon: Fix disabling tracing while in xmon (bnc#1012628).
- powerpc/cacheflush: fix variable set but not used (bnc#1012628).
- dt-bindings: backlight: lm3630a: correct schema validation
  (bnc#1012628).
- iio: iio-utils: Fix possible incorrect mask calculation
  (bnc#1012628).
- PCI: xilinx-nwl: Fix Multi MSI data programming (bnc#1012628).
- phy: meson-g12a-usb3-pcie: disable locking for cr_regmap
  (bnc#1012628).
- genksyms: Teach parser about 128-bit built-in types
  (bnc#1012628).
- kbuild: Add -Werror=unknown-warning-option to CLANG_FLAGS
  (bnc#1012628).
- i2c: stm32f7: fix the get_irq error cases (bnc#1012628).
- PCI: sysfs: Ignore lockdep for remove attribute (bnc#1012628).
- phy: renesas: rcar-gen3-usb2: fix imbalance powered flag
  (bnc#1012628).
- serial: mctrl_gpio: Check if GPIO property exisits before
  requesting it (bnc#1012628).
- drm/msm: Depopulate platform on probe failure (bnc#1012628).
- powerpc/pci/of: Fix OF flags parsing for 64bit BARs
  (bnc#1012628).
- drm/msm/adreno: Ensure that the zap shader region is big enough
  (bnc#1012628).
- kvm: vmx: segment limit check: use access length (bnc#1012628).
- KVM: nVMX: Intercept VMWRITEs to GUEST_{CS,SS}_AR_BYTES
  (bnc#1012628).
- mmc: sdhci: sdhci-pci-o2micro: Check if controller supports
  8-bit width (bnc#1012628).
- kvm: vmx: fix limit checking in get_vmx_mem_address()
  (bnc#1012628).
- usb: dwc3: Fix core validation in probe, move after clocks
  are enabled (bnc#1012628).
- usb: gadget: Zero ffs_io_data (bnc#1012628).
- tty: serial_core: Set port active bit in uart_port_activate
  (bnc#1012628).
- serial: uartps: Use the same dynamic major number for all ports
  (bnc#1012628).
- serial: imx: fix locking in set_termios() (bnc#1012628).
- iio: adxl372: fix iio_triggered_buffer_{pre,post}enable
  positions (bnc#1012628).
- platform/x86: asus-wmi: Increase input buffer size of WMI
  methods (bnc#1012628).
- drm/rockchip: Properly adjust to a true clock in adjusted_mode
  (bnc#1012628).
- dma-remap: Avoid de-referencing NULL atomic_pool (bnc#1012628).
- powerpc/pseries/mobility: prevent cpu hotplug during DT update
  (bnc#1012628).
- drm/bridge: tfp410: fix use of cancel_delayed_work_sync
  (bnc#1012628).
- sunhv: Fix device naming inconsistency between sunhv_console
  and sunhv_reg (bnc#1012628).
- drm/amd/display: fix compilation error (bnc#1012628).
- phy: renesas: rcar-gen2: Fix memory leak at error paths
  (bnc#1012628).
- drm/amd/display: set link->dongle_max_pix_clk to 0 on a
  disconnect (bnc#1012628).
- drm/virtio: Add memory barriers for capset cache (bnc#1012628).
- drm/amd/display: Update link rate from DPCD 10 (bnc#1012628).
- drm/amd/display: Always allocate initial connector state state
  (bnc#1012628).
- PCI: endpoint: Allocate enough space for fixed size BAR
  (bnc#1012628).
- serial: 8250: Fix TX interrupt handling condition (bnc#1012628).
- tty: serial: msm_serial: avoid system lockup condition
  (bnc#1012628).
- tty/serial: digicolor: Fix digicolor-usart already registered
  warning (bnc#1012628).
- memstick: Fix error cleanup path of memstick_init (bnc#1012628).
- drm/omap: don't check dispc timings for DSI (bnc#1012628).
- mm/hmm: fix use after free with struct hmm in the mmu notifiers
  (bnc#1012628).
- i2c: nvidia-gpu: resume ccgx i2c client (bnc#1012628).
- drm/vkms: Forward timer right after drm_crtc_handle_vblank
  (bnc#1012628).
- drm/crc-debugfs: Also sprinkle irqrestore over early exits
  (bnc#1012628).
- drm/crc-debugfs: User irqsafe spinlock in drm_crtc_add_crc_entry
  (bnc#1012628).
- gpu: host1x: Increase maximum DMA segment size (bnc#1012628).
- f2fs: Lower threshold for disable_cp_again (bnc#1012628).
- f2fs: Fix accounting for unusable blocks (bnc#1012628).
- drm/amd/display: Increase Backlight Gain Step Size
  (bnc#1012628).
- drm/amd/display: CS_TFM_1D only applied post EOTF (bnc#1012628).
- drm/amd/display: Reset planes for color management changes
  (bnc#1012628).
- drm/bridge: sii902x: pixel clock unit is 10kHz instead of 1kHz
  (bnc#1012628).
- drm/bridge: tc358767: read display_props in get_modes()
  (bnc#1012628).
- staging: kpc2000: report error status to spi core (bnc#1012628).
- PCI: Return error if cannot probe VF (bnc#1012628).
- tools: PCI: Fix broken pcitest compilation (bnc#1012628).
- drm/edid: Fix a missing-check bug in drm_load_edid_firmware()
  (bnc#1012628).
- drm/amdkfd: Fix sdma queue map issue (bnc#1012628).
- drm/amdkfd: Fix a potential memory leak (bnc#1012628).
- drm/amd/display: Disable ABM before destroy ABM struct
  (bnc#1012628).
- drm/amdgpu/sriov: Need to initialize the HDP_NONSURFACE_BAStE
  (bnc#1012628).
- f2fs: fix to avoid deadloop if data_flush is on (bnc#1012628).
- drm/amdgpu: Reserve shared fence for eviction fence
  (bnc#1012628).
- drm/amd/display: Fill plane attrs only for valid pxl format
  (bnc#1012628).
- drm/amd/display: Disable cursor when offscreen in negative
  direction (bnc#1012628).
- drm/msm/a6xx: Avoid freeing gmu resources multiple times
  (bnc#1012628).
- drm/amd/display: fix multi display seamless boot case
  (bnc#1012628).
- drm/amd/display: Fill prescale_params->scale for RGB565
  (bnc#1012628).
- ipmi_ssif: fix unexpected driver unregister warning
  (bnc#1012628).
- drm/msm/a6xx: Check for ERR or NULL before iounmap
  (bnc#1012628).
- f2fs: fix to check layout on last valid checkpoint park
  (bnc#1012628).
- tty: serial: cpm_uart - fix init when SMC is relocated
  (bnc#1012628).
- pinctrl: rockchip: fix leaked of_node references (bnc#1012628).
- tty: max310x: Fix invalid baudrate divisors calculator
  (bnc#1012628).
- usb: core: hub: Disable hub-initiated U1/U2 (bnc#1012628).
- drm/bochs: Fix connector leak during driver unload
  (bnc#1012628).
- staging: vt6656: use meaningful error code during buffer
  allocation (bnc#1012628).
- ipmi_si: fix unexpected driver unregister warning (bnc#1012628).
- staging: kpc2000: added missing clean-up to probe_core_uio
  (bnc#1012628).
- drm/virtio: set seqno for dma-fence (bnc#1012628).
- iio: adc: stm32-dfsdm: missing error case during probe
  (bnc#1012628).
- iio: adc: stm32-dfsdm: manage the get_irq error case
  (bnc#1012628).
- drm/panel: simple: Fix panel_simple_dsi_probe (bnc#1012628).
- drm/lima: handle shared irq case for lima_pp_bcast_irq_handler
  (bnc#1012628).
- btrfs: shut up bogus -Wmaybe-uninitialized warning
  (bnc#1012628).
- media: drivers: media: coda: fix warning same module names
  (bnc#1012628).
- regulator: 88pm800: fix warning same module names (bnc#1012628).
- commit b607c27

-------------------------------------------------------------------
Tue Jul 30 18:10:55 CEST 2019 - schwab@suse.de

- packaging: add support for riscv64
- commit c2885ea

-------------------------------------------------------------------
Sun Jul 28 09:25:17 CEST 2019 - jslaby@suse.cz

- Linux 5.2.4 (bnc#1012628).
- net: sched: verify that q!=NULL before setting q->flags
  (bnc#1012628).
- block: Limit zone array allocation size (bnc#1012628).
- sd_zbc: Fix report zones buffer allocation (bnc#1012628).
- Revert "kvm: x86: Use task structs fpu field for user"
  (bnc#1012628).
- KVM: nVMX: Clear pending KVM_REQ_GET_VMCS12_PAGES when leaving
  nested (bnc#1012628).
- KVM: nVMX: do not use dangling shadow VMCS after guest reset
  (bnc#1012628).
- ext4: allow directory holes (bnc#1012628).
- ext4: use jbd2_inode dirty range scoping (bnc#1012628).
- jbd2: introduce jbd2_inode dirty range scoping (bnc#1012628).
- mm: add filemap_fdatawait_range_keep_errors() (bnc#1012628).
- ext4: enforce the immutable flag on open files (bnc#1012628).
- ext4: don't allow any modifications to an immutable file
  (bnc#1012628).
- perf/core: Fix race between close() and fork() (bnc#1012628).
- perf/core: Fix exclusive events' grouping (bnc#1012628).
- perf script: Assume native_arch for pipe mode (bnc#1012628).
- MIPS: lb60: Fix pin mappings (bnc#1012628).
- gpio: davinci: silence error prints in case of EPROBE_DEFER
  (bnc#1012628).
- gpiolib: of: fix a memory leak in of_gpio_flags_quirks()
  (bnc#1012628).
- Revert "gpio/spi: Fix spi-gpio regression on active high CS"
  (bnc#1012628).
- dma-buf: Discard old fence_excl on retrying get_fences_rcu
  for realloc (bnc#1012628).
- dma-buf: balance refcount inbalance (bnc#1012628).
- mlxsw: spectrum: Do not process learned records with a dummy
  FID (bnc#1012628).
- net/mlx5: E-Switch, Fix default encap mode (bnc#1012628).
- mlxsw: spectrum_dcb: Configure DSCP map as the last rule is
  removed (bnc#1012628).
- bnxt_en: Fix VNIC accounting when enabling aRFS on 57500 chips
  (bnc#1012628).
- net/mlx5e: Fix error flow in tx reporter diagnose (bnc#1012628).
- net/mlx5e: Fix return value from timeout recover function
  (bnc#1012628).
- net/mlx5e: Rx, Fix checksum calculation for new hardware
  (bnc#1012628).
- net/mlx5e: Fix port tunnel GRE entropy control (bnc#1012628).
- net/tls: reject offload of TLS 1.3 (bnc#1012628).
- net/tls: fix poll ignoring partially copied records
  (bnc#1012628).
- selftests: txring_overwrite: fix incorrect test of mmap()
  return value (bnc#1012628).
- netrom: hold sock when setting skb->destructor (bnc#1012628).
- netrom: fix a memory leak in nr_rx_frame() (bnc#1012628).
- macsec: fix checksumming after decryption (bnc#1012628).
- macsec: fix use-after-free of skb during RX (bnc#1012628).
- net: bridge: stp: don't cache eth dest pointer before skb pull
  (bnc#1012628).
- net: bridge: don't cache ether dest pointer on input
  (bnc#1012628).
- net: bridge: mcast: fix stale ipv6 hdr pointer when handling
  v6 query (bnc#1012628).
- net: bridge: mcast: fix stale nsrcs pointer in igmp3/mld2
  report handling (bnc#1012628).
- net/mlx5e: IPoIB, Add error path in mlx5_rdma_setup_rn
  (bnc#1012628).
- vrf: make sure skb->data contains ip header to make routing
  (bnc#1012628).
- tcp: Reset bytes_acked and bytes_received when disconnecting
  (bnc#1012628).
- tcp: fix tcp_set_congestion_control() use from bpf hook
  (bnc#1012628).
- tcp: be more careful in tcp_fragment() (bnc#1012628).
- sky2: Disable MSI on ASUS P6T (bnc#1012628).
- sctp: not bind the socket in sctp_connect (bnc#1012628).
- sctp: fix error handling on stream scheduler initialization
  (bnc#1012628).
- rxrpc: Fix send on a connected, but unbound socket
  (bnc#1012628).
- r8169: fix issue with confused RX unit after PHY power-down
  on RTL8411b (bnc#1012628).
- nfc: fix potential illegal memory access (bnc#1012628).
- net/tls: make sure offload also gets the keys wiped
  (bnc#1012628).
- net: stmmac: Re-work the queue selection for TSO packets
  (bnc#1012628).
- net_sched: unset TCQ_F_CAN_BYPASS when adding filters
  (bnc#1012628).
- net: phy: sfp: hwmon: Fix scaling of RX power (bnc#1012628).
- net: openvswitch: fix csum updates for MPLS actions
  (bnc#1012628).
- net: neigh: fix multiple neigh timer scheduling (bnc#1012628).
- net: make skb_dst_force return true when dst is refcounted
  (bnc#1012628).
- net: dsa: mv88e6xxx: wait after reset deactivation
  (bnc#1012628).
- net: bcmgenet: use promisc for unsupported filters
  (bnc#1012628).
- ipv6: Unlink sibling route in case of failure (bnc#1012628).
- ipv6: rt6_check should return NULL if 'from' is NULL
  (bnc#1012628).
- ipv4: don't set IPv6 only flags to IPv4 addresses (bnc#1012628).
- igmp: fix memory leak in igmpv3_del_delrec() (bnc#1012628).
- hv_netvsc: Fix extra rcu_read_unlock in netvsc_recv_callback()
  (bnc#1012628).
- caif-hsi: fix possible deadlock in cfhsi_exit_module()
  (bnc#1012628).
- bnx2x: Prevent load reordering in tx completion processing
  (bnc#1012628).
- commit d795a82

-------------------------------------------------------------------
Sat Jul 27 16:48:47 CEST 2019 - msuchanek@suse.de

- rpm/macros.kernel-source: KMPs should depend on kmod-compat to build.
  kmod-compat links are used in find-provides.ksyms, find-requires.ksyms,
  and find-supplements.ksyms in rpm-config-SUSE.
- commit f97ca49

-------------------------------------------------------------------
Sat Jul 27 12:37:26 CEST 2019 - msuchanek@suse.de

- scripts/run_oldconfig.sh: Fix update-vanilla
  When CC is set we want to use it for native only. Cross-compilation
  still needs the crosscompilers.
- commit 3b9fcdb

-------------------------------------------------------------------
Fri Jul 26 10:47:45 CEST 2019 - jslaby@suse.cz

- Linux 5.2.3 (bnc#1012628).
- dm bufio: fix deadlock with loop device (bnc#1012628).
- dm thin metadata: check if in fail_io mode when setting
  needs_check (bnc#1012628).
- phy: qcom-qmp: Correct READY_STATUS poll break condition
  (bnc#1012628).
- pstore: Fix double-free in pstore_mkfile() failure path
  (bnc#1012628).
- dt-bindings: allow up to four clocks for orion-mdio
  (bnc#1012628).
- net: mvmdio: allow up to four clocks to be specified for
  orion-mdio (bnc#1012628).
- blkcg: update blkcg_print_stat() to handle larger outputs
  (bnc#1012628).
- blk-iolatency: clear use_delay when io.latency is set to zero
  (bnc#1012628).
- clk: imx: imx8mm: correct audio_pll2_clk to audio_pll2_out
  (bnc#1012628).
- blk-throttle: fix zero wait time for iops throttled group
  (bnc#1012628).
- usb: Handle USB3 remote wakeup for LPM enabled devices correctly
  (bnc#1012628).
- dax: Fix missed wakeup with PMD faults (bnc#1012628).
- Bluetooth: Add SMP workaround Microsoft Surface Precision
  Mouse bug (bnc#1012628).
- intel_th: msu: Fix single mode with disabled IOMMU
  (bnc#1012628).
- intel_th: msu: Remove set but not used variable 'last'
  (bnc#1012628).
- mtd: spinand: read returns badly if the last page has bitflips
  (bnc#1012628).
- mtd: rawnand: mtk: Correct low level time calculation of r/w
  cycle (bnc#1012628).
- eCryptfs: fix a couple type promotion bugs (bnc#1012628).
- mmc: sdhci-msm: fix mutex while in spinlock (bnc#1012628).
- powerpc/pseries: Fix oops in hotplug memory notifier
  (bnc#1012628).
- powerpc/pseries: Fix xive=off command line (bnc#1012628).
- powerpc/powernv: Fix stale iommu table base after VFIO
  (bnc#1012628).
- powerpc/powernv/idle: Fix restore of SPRN_LDBAR for POWER9
  stop state (bnc#1012628).
- powerpc/powernv/npu: Fix reference leak (bnc#1012628).
- powerpc/watchpoint: Restore NV GPRs while returning from
  exception (bnc#1012628).
- powerpc/mm/32s: fix condition that is always true (bnc#1012628).
- powerpc/32s: fix suspend/resume when IBATs 4-7 are used
  (bnc#1012628).
- parisc: Fix kernel panic due invalid values in IAOQ0 or IAOQ1
  (bnc#1012628).
- parisc: Avoid kernel panic triggered by invalid kprobe
  (bnc#1012628).
- parisc: Ensure userspace privilege for ptraced processes in
  regset functions (bnc#1012628).
- gpu: ipu-v3: ipu-ic: Fix saturation bit offset in TPMEM
  (bnc#1012628).
- resource: fix locking in find_next_iomem_res() (bnc#1012628).
- include/asm-generic/bug.h: fix "cut here" for WARN_ON for
  __WARN_TAINT architectures (bnc#1012628).
- coda: pass the host file in vma->vm_file on mmap (bnc#1012628).
- mm/z3fold.c: lock z3fold page before __SetPageMovable()
  (bnc#1012628).
- mm/memcontrol: fix wrong statistics in memory.stat
  (bnc#1012628).
- libnvdimm/pfn: fix fsdax-mode namespace info-block zero-fields
  (bnc#1012628).
- mm/nvdimm: add is_ioremap_addr and use that to check ioremap
  address (bnc#1012628).
- mm: vmscan: scan anonymous pages on file refaults (bnc#1012628).
- HID: wacom: correct touch resolution x/y typo (bnc#1012628).
- HID: wacom: generic: Correct pad syncing (bnc#1012628).
- HID: wacom: generic: only switch the mode on devices with LEDs
  (bnc#1012628).
- IB/mlx5: Report correctly tag matching rendezvous capability
  (bnc#1012628).
- Btrfs: add missing inode version, ctime and mtime updates when
  punching hole (bnc#1012628).
- Btrfs: fix fsync not persisting dentry deletions due to inode
  evictions (bnc#1012628).
- Btrfs: fix data loss after inode eviction, renaming it, and
  fsync it (bnc#1012628).
- btrfs: correctly validate compression type (bnc#1012628).
- PCI: qcom: Ensure that PERST is asserted for at least 100 ms
  (bnc#1012628).
- PCI: Do not poll for PME if the device is in D3cold
  (bnc#1012628).
- PCI: hv: Fix a use-after-free bug in hv_eject_device_work()
  (bnc#1012628).
- intel_th: pci: Add Ice Lake NNPI support (bnc#1012628).
- RDMA/odp: Fix missed unlock in non-blocking invalidate_start
  (bnc#1012628).
- RDMA/srp: Accept again source addresses that do not have a
  port number (bnc#1012628).
- block: Fix potential overflow in blk_report_zones()
  (bnc#1012628).
- block: Allow mapping of vmalloc-ed buffers (bnc#1012628).
- drm/edid: parse CEA blocks embedded in DisplayID (bnc#1012628).
- x86/stacktrace: Prevent infinite loop in arch_stack_walk_user()
  (bnc#1012628).
- perf/x86/amd/uncore: Set the thread mask for F17h L3 PMCs
  (bnc#1012628).
- perf/x86/amd/uncore: Do not set 'ThreadMask' and 'SliceMask'
  for non-L3 PMCs (bnc#1012628).
- perf/x86/intel: Fix spurious NMI on fixed counter (bnc#1012628).
- x86/boot: Fix memory leak in default_get_smp_config()
  (bnc#1012628).
- x86/hyper-v: Zero out the VP ASSIST PAGE on allocation
  (bnc#1012628).
- rt2x00usb: fix rx queue hang (bnc#1012628).
- 9p/virtio: Add cleanup path in p9_virtio_init (bnc#1012628).
- 9p/xen: Add cleanup path in p9_trans_xen_init (bnc#1012628).
- xen/events: fix binding user event channels to cpus
  (bnc#1012628).
- dm zoned: fix zone state management race (bnc#1012628).
- padata: use smp_mb in padata_reorder to avoid orphaned padata
  jobs (bnc#1012628).
- drm/nouveau/i2c: Enable i2c pads & busses during preinit
  (bnc#1012628).
- ARM: dts: gemini: Set DIR-685 SPI CS as active low
  (bnc#1012628).
- i3c: fix i2c and i3c scl rate by bus mode (bnc#1012628).
- fs/proc/proc_sysctl.c: fix the default values of i_uid/i_gid
  on /proc/sys inodes (bnc#1012628).
- signal: Correct namespace fixups of si_pid and si_uid
  (bnc#1012628).
- signal/usb: Replace kill_pid_info_as_cred with
  kill_pid_usb_asyncio (bnc#1012628).
- intel_th: msu: Fix unused variable warning on arm64 platform
  (bnc#1012628).
- arm64: Fix incorrect irqflag restore for priority masking
  (bnc#1012628).
- arm64: irqflags: Add condition flags to inline asm clobber list
  (bnc#1012628).
- arm64: tegra: Fix AGIC register range (bnc#1012628).
- KVM: x86/vPMU: refine kvm_pmu err msg when event creation failed
  (bnc#1012628).
- KVM: PPC: Book3S HV: Fix CR0 setting in TM emulation
  (bnc#1012628).
- KVM: PPC: Book3S HV: Clear pending decrementer exceptions on
  nested guest entry (bnc#1012628).
- KVM: PPC: Book3S HV: Signed extend decrementer value if not
  using large decrementer (bnc#1012628).
- KVM: Properly check if "page" is valid in kvm_vcpu_unmap
  (bnc#1012628).
- KVM: VMX: check CPUID before allowing read/write of IA32_XSS
  (bnc#1012628).
- KVM: VMX: Fix handling of #MC that occurs during VM-Entry
  (bnc#1012628).
- KVM: nVMX: Always sync GUEST_BNDCFGS when it comes from vmcs01
  (bnc#1012628).
- KVM: VMX: Always signal #GP on WRMSR to MSR_IA32_CR_PAT with
  bad value (bnc#1012628).
- KVM: nVMX: Don't dump VMCS if virtual APIC page can't be mapped
  (bnc#1012628).
- media: videobuf2-dma-sg: Prevent size from overflowing
  (bnc#1012628).
- media: videobuf2-core: Prevent size alignment wrapping buffer
  size to 0 (bnc#1012628).
- media: coda: Remove unbalanced and unneeded mutex unlock
  (bnc#1012628).
- media: v4l2: Test type instead of cfg->type in
  v4l2_ctrl_new_custom() (bnc#1012628).
- ceph: use ceph_evict_inode to cleanup inode's resource
  (bnc#1012628).
- ceph: fix end offset in truncate_inode_pages_range call
  (bnc#1012628).
- ALSA: hda/hdmi - Fix i915 reverse port/pin mapping
  (bnc#1012628).
- ALSA: hda/hdmi - Remove duplicated define (bnc#1012628).
- ALSA: hda/realtek: apply ALC891 headset fixup to one Dell
  machine (bnc#1012628).
- ALSA: hda/realtek - Fixed Headphone Mic can't record on Dell
  platform (bnc#1012628).
- ALSA: hda - Don't resume forcibly i915 HDMI/DP codec
  (bnc#1012628).
- ALSA: seq: Break too long mutex context in the write loop
  (bnc#1012628).
- kconfig: fix missing choice values in auto.conf (bnc#1012628).
- raid5-cache: Need to do start() part job after adding journal
  device (bnc#1012628).
- ASoC: core: Adapt for debugfs API change (bnc#1012628).
- ASoC: dapm: Adapt for debugfs API change (bnc#1012628).
- lib/scatterlist: Fix mapping iterator when sg->offset is
  greater than PAGE_SIZE (bnc#1012628).
- SUNRPC: Ensure the bvecs are reset when we re-encode the RPC
  request (bnc#1012628).
- pnfs: Fix a problem where we gratuitously start doing I/O
  through the MDS (bnc#1012628).
- pnfs/flexfiles: Fix PTR_ERR() dereferences in
  ff_layout_track_ds_error (bnc#1012628).
- Revert "NFS: readdirplus optimization by cache mechanism"
  (memleak) (bnc#1012628).
- NFSv4: Handle the special Linux file open access mode
  (bnc#1012628).
- tracing: Fix user stack trace "??" output (bnc#1012628).
- arm64: Fix interrupt tracing in the presence of NMIs
  (bnc#1012628).
- opp: Don't use IS_ERR on invalid supplies (bnc#1012628).
- iwlwifi: mvm: clear rfkill_safe_init_done when we start the
  firmware (bnc#1012628).
- iwlwifi: mvm: delay GTK setting in FW in AP mode (bnc#1012628).
- iwlwifi: fix RF-Kill interrupt while FW load for gen2 devices
  (bnc#1012628).
- iwlwifi: don't WARN when calling iwl_get_shared_mem_conf with
  RF-Kill (bnc#1012628).
- iwlwifi: pcie: fix ALIVE interrupt handling for gen2 devices
  w/o MSI-X (bnc#1012628).
- iwlwifi: pcie: don't service an interrupt that was masked
  (bnc#1012628).
- iwlwifi: add support for hr1 RF ID (bnc#1012628).
- arm64: tegra: Fix Jetson Nano GPU regulator (bnc#1012628).
- arm64: tegra: Update Jetson TX1 GPU regulator timings
  (bnc#1012628).
- regulator: s2mps11: Fix buck7 and buck8 wrong voltages
  (bnc#1012628).
- regulator: s2mps11: Fix ERR_PTR dereference on GPIO lookup
  failure (bnc#1012628).
- Input: alps - fix a mismatch between a condition check and
  its comment (bnc#1012628).
- Input: synaptics - whitelist Lenovo T580 SMBus intertouch
  (bnc#1012628).
- Input: alps - don't handle ALPS cs19 trackpoint-only device
  (bnc#1012628).
- Input: gtco - bounds check collection indent level
  (bnc#1012628).
- bcache: destroy dc->writeback_write_wq if failed to create
  dc->writeback_thread (bnc#1012628).
- bcache: fix mistaken sysfs entry for io_error counter
  (bnc#1012628).
- bcache: ignore read-ahead request failure on backing device
  (bnc#1012628).
- bcache: Revert "bcache: free heap cache_set->flush_btree in
  bch_journal_free" (bnc#1012628).
- bcache: Revert "bcache: fix high CPU occupancy during journal"
  (bnc#1012628).
- Revert "bcache: set CACHE_SET_IO_DISABLE in
  bch_cached_dev_error()" (bnc#1012628).
- CIFS: fix deadlock in cached root handling (bnc#1012628).
- cifs: flush before set-info if we have writeable handles
  (bnc#1012628).
- cifs: Properly handle auto disabling of serverino option
  (bnc#1012628).
- cifs: fix crash in smb2_compound_op()/smb2_set_next_command()
  (bnc#1012628).
- cifs: always add credits back for unsolicited PDUs
  (bnc#1012628).
- crypto: crypto4xx - fix a potential double free in
  ppc4xx_trng_probe (bnc#1012628).
- crypto: ccp/gcm - use const time tag comparison (bnc#1012628).
- crypto: ccp - memset structure fields to zero before reuse
  (bnc#1012628).
- crypto: crypto4xx - block ciphers should only accept complete
  blocks (bnc#1012628).
- crypto: crypto4xx - fix blocksize for cfb and ofb (bnc#1012628).
- crypto: crypto4xx - fix AES CTR blocksize value (bnc#1012628).
- crypto: chacha20poly1305 - fix atomic sleep when using async
  algorithm (bnc#1012628).
- crypto: arm64/sha2-ce - correct digest for empty data in finup
  (bnc#1012628).
- crypto: arm64/sha1-ce - correct digest for empty data in finup
  (bnc#1012628).
- crypto: ccp - Validate the the error value used to index error
  messages (bnc#1012628).
- crypto: caam - limit output IV to CBC to work around CTR mode
  DMA issue (bnc#1012628).
- crypto: ghash - fix unaligned memory access in ghash_setkey()
  (bnc#1012628).
- scsi: mac_scsi: Fix pseudo DMA implementation, take 2
  (bnc#1012628).
- scsi: mac_scsi: Increase PIO/PDMA transfer length threshold
  (bnc#1012628).
- scsi: megaraid_sas: Fix calculation of target ID (bnc#1012628).
- scsi: zfcp: fix request object use-after-free in send path
  causing wrong traces (bnc#1012628).
- scsi: zfcp: fix request object use-after-free in send path
  causing seqno errors (bnc#1012628).
- scsi: sd_zbc: Fix compilation warning (bnc#1012628).
- scsi: core: Fix race on creating sense cache (bnc#1012628).
- Revert "scsi: ncr5380: Increase register polling limit"
  (bnc#1012628).
- scsi: NCR5380: Handle PDMA failure reliably (bnc#1012628).
- scsi: NCR5380: Always re-enable reselection interrupt
  (bnc#1012628).
- xen: let alloc_xenballooned_pages() fail if not enough memory
  free (bnc#1012628).
- floppy: fix out-of-bounds read in copy_buffer (bnc#1012628).
- floppy: fix invalid pointer dereference in drive_name
  (bnc#1012628).
- floppy: fix out-of-bounds read in next_valid_format
  (bnc#1012628).
- floppy: fix div-by-zero in setup_format_params (bnc#1012628).
- libbpf: fix another GCC8 warning for strncpy (bnc#1012628).
- blk-iolatency: fix STS_AGAIN handling (bnc#1012628).
- iavf: fix dereference of null rx_buffer pointer (bnc#1012628).
- net: hns3: fix __QUEUE_STATE_STACK_XOFF not cleared issue
  (bnc#1012628).
- net: mvmdio: defer probe of orion-mdio if a clock is not ready
  (bnc#1012628).
- xdp: fix race on generic receive path (bnc#1012628).
- gtp: fix use-after-free in gtp_newlink() (bnc#1012628).
- gtp: fix use-after-free in gtp_encap_destroy() (bnc#1012628).
- gtp: fix Illegal context switch in RCU read-side critical
  section (bnc#1012628).
- gtp: fix suspicious RCU usage (bnc#1012628).
- Bluetooth: validate BLE connection interval updates
  (bnc#1012628).
- gtp: add missing gtp_encap_disable_sock() in gtp_encap_enable()
  (bnc#1012628).
- Bluetooth: hidp: NUL terminate a string in the compat ioctl
  (bnc#1012628).
- Bluetooth: Check state in l2cap_disconnect_rsp (bnc#1012628).
- perf tests: Fix record+probe_libc_inet_pton.sh for powerpc64
  (bnc#1012628).
- genirq: Update irq stats from NMI handlers (bnc#1012628).
- Bluetooth: 6lowpan: search for destination address in all peers
  (bnc#1012628).
- Bluetooth: Add new 13d3:3501 QCA_ROME device (bnc#1012628).
- Bluetooth: Add new 13d3:3491 QCA_ROME device (bnc#1012628).
- Bluetooth: hci_bcsp: Fix memory leak in rx_skb (bnc#1012628).
- net: hns3: fix port capbility updating issue (bnc#1012628).
- net: hns3: enable broadcast promisc mode when initializing VF
  (bnc#1012628).
- tools: bpftool: Fix json dump crash on powerpc (bnc#1012628).
- ASoC: audio-graph-card: fix use-after-free in
  graph_for_each_link (bnc#1012628).
- iommu/arm-smmu-v3: Invalidate ATC when detaching a device
  (bnc#1012628).
- gpiolib: Fix references to gpiod_[gs]et_*value_cansleep()
  variants (bnc#1012628).
- bonding: validate ip header before check IPPROTO_IGMP
  (bnc#1012628).
- selftests: bpf: fix inlines in test_lwt_seg6local (bnc#1012628).
- bpf, libbpf, smatch: Fix potential NULL pointer dereference
  (bnc#1012628).
- libbpf: fix GCC8 warning for strncpy (bnc#1012628).
- rxrpc: Fix oops in tracepoint (bnc#1012628).
- net: usb: asix: init MAC address buffers (bnc#1012628).
- bnx2x: Prevent ptp_task to be rescheduled indefinitely
  (bnc#1012628).
- vxlan: do not destroy fdb if register_netdevice() is failed
  (bnc#1012628).
- perf stat: Fix group lookup for metric group (bnc#1012628).
- perf stat: Don't merge events in the same PMU (bnc#1012628).
- perf stat: Fix metrics with --no-merge (bnc#1012628).
- perf stat: Make metric event lookup more robust (bnc#1012628).
- ALSA: hda: Fix a headphone detection issue when using SOF
  (bnc#1012628).
- bnxt_en: Cap the returned MSIX vectors to the RDMA driver
  (bnc#1012628).
- bnxt_en: Fix statistics context reservation logic for RDMA
  driver (bnc#1012628).
- bnxt_en: Disable bus master during PCI shutdown and driver
  unload (bnc#1012628).
- iwlwifi: dbg: fix debug monitor stop and restart delays
  (bnc#1012628).
- netfilter: Fix remainder of pseudo-header protocol 0
  (bnc#1012628).
- bpf: fix uapi bpf_prog_info fields alignment (bnc#1012628).
- iwlwifi: mvm: Drop large non sta frames (bnc#1012628).
- ixgbe: Avoid NULL pointer dereference with VF on non-IPsec hw
  (bnc#1012628).
- net: ethernet: ti: cpsw: Assign OF node to slave devices
  (bnc#1012628).
- net: hns3: add Asym Pause support to fix autoneg problem
  (bnc#1012628).
- igb: clear out skb->tstamp after reading the txtime
  (bnc#1012628).
- net: mvpp2: prs: Don't override the sign bit in SRAM parser
  shift (bnc#1012628).
- ath10k: destroy sdio workqueue while remove sdio module
  (bnc#1012628).
- ath10k: Fix memory leak in qmi (bnc#1012628).
- net: hns3: add some error checking in hclge_tm module
  (bnc#1012628).
- net: hns3: fix a -Wformat-nonliteral compile warning
  (bnc#1012628).
- bcache: fix potential deadlock in cached_def_free()
  (bnc#1012628).
- bcache: avoid a deadlock in bcache_reboot() (bnc#1012628).
- bcache: check c->gc_thread by IS_ERR_OR_NULL in
  cache_set_flush() (bnc#1012628).
- bcache: acquire bch_register_lock later in cached_dev_free()
  (bnc#1012628).
- bcache: check CACHE_SET_IO_DISABLE bit in bch_journal()
  (bnc#1012628).
- bcache: check CACHE_SET_IO_DISABLE in allocator code
  (bnc#1012628).
- bcache: fix return value error in bch_journal_read()
  (bnc#1012628).
- net/mlx5e: Attach/detach XDP program safely (bnc#1012628).
- EDAC: Fix global-out-of-bounds write when setting
  edac_mc_poll_msec (bnc#1012628).
- wil6210: drop old event after wmi_call timeout (bnc#1012628).
- ath9k: correctly handle short radar pulses (bnc#1012628).
- crypto: asymmetric_keys - select CRYPTO_HASH where needed
  (bnc#1012628).
- crypto: serpent - mark __serpent_setkey_sbox noinline
  (bnc#1012628).
- ixgbe: Check DDM existence in transceiver before access
  (bnc#1012628).
- net/mlx5: Get vport ACL namespace by vport index (bnc#1012628).
- net: hns3: restore the MAC autoneg state after reset
  (bnc#1012628).
- gpio: Fix return value mismatch of function
  gpiod_get_from_of_node() (bnc#1012628).
- rslib: Fix handling of of caller provided syndrome
  (bnc#1012628).
- bpf: fix BPF_ALU32 | BPF_ARSH on BE arches (bnc#1012628).
- rslib: Fix decoding of shortened codes (bnc#1012628).
- xsk: Properly terminate assignment in xskq_produce_flush_desc
  (bnc#1012628).
- netfilter: ctnetlink: Fix regression in conntrack entry deletion
  (bnc#1012628).
- clocksource/drivers/exynos_mct: Increase priority over ARM
  arch timer (bnc#1012628).
- clocksource/drivers/tegra: Restore base address before cleanup
  (bnc#1012628).
- libata: don't request sense data on !ZAC ATA devices
  (bnc#1012628).
- clocksource/drivers/tegra: Release all IRQ's on request_irq()
  error (bnc#1012628).
- block, bfq: fix rq_in_driver check in bfq_update_inject_limit
  (bnc#1012628).
- ASoC: Intel: hdac_hdmi: Set ops to NULL on remove (bnc#1012628).
- perf tools: Increase MAX_NR_CPUS and MAX_CACHES (bnc#1012628).
- ALSA: hdac: Fix codec name after machine driver is unloaded
  and reloaded (bnc#1012628).
- ath10k: fix PCIE device wake up failed (bnc#1012628).
- ath10k: fix fw crash by moving chip reset after napi disabled
  (bnc#1012628).
- ath10k: add missing error handling (bnc#1012628).
- mt76: mt7615: do not process rx packets if the device is not
  initialized (bnc#1012628).
- ipvs: fix tinfo memory leak in start_sync_thread (bnc#1012628).
- mt7601u: fix possible memory leak when the device is
  disconnected (bnc#1012628).
- x86/build: Add 'set -e' to mkcapflags.sh to delete broken
  capflags.c (bnc#1012628).
- mt7601u: do not schedule rx_tasklet when the device has been
  disconnected (bnc#1012628).
- rtlwifi: rtl8192cu: fix error handle when usb probe failed
  (bnc#1012628).
- net: stmmac: sun8i: force select external PHY when no internal
  one (bnc#1012628).
- media: hdpvr: fix locking and a missing msleep (bnc#1012628).
- media: vimc: cap: check v4l2_fill_pixfmt return value
  (bnc#1012628).
- media: coda: increment sequence offset for the last returned
  frame (bnc#1012628).
- media: coda: fix last buffer handling in V4L2_ENC_CMD_STOP
  (bnc#1012628).
- media: coda: fix mpeg2 sequence number handling (bnc#1012628).
- acpi/arm64: ignore 5.1 FADTs that are reported as 5.0
  (bnc#1012628).
- ASoC: soc-core: call snd_soc_unbind_card() under mutex_lock;
  (bnc#1012628).
- media: mt9m111: fix fw-node refactoring (bnc#1012628).
- timer_list: Guard procfs specific code (bnc#1012628).
- ntp: Limit TAI-UTC offset (bnc#1012628).
- media: i2c: fix warning same module names (bnc#1012628).
- media: s5p-mfc: Make additional clocks optional (bnc#1012628).
- ipvs: defer hook registration to avoid leaks (bnc#1012628).
- media: staging: davinci: fix memory leaks and check for
  allocation failure (bnc#1012628).
- ipsec: select crypto ciphers for xfrm_algo (bnc#1012628).
- arm64: Do not enable IRQs for ct_user_exit (bnc#1012628).
- nvme-pci: adjust irq max_vector using num_possible_cpus()
  (bnc#1012628).
- lightnvm: fix uninitialized pointer in nvm_remove_tgt()
  (bnc#1012628).
- lightnvm: pblk: fix freeing of merged pages (bnc#1012628).
- nvme-pci: set the errno on ctrl state change error
  (bnc#1012628).
- nvme-pci: properly report state change failure in
  nvme_reset_work (bnc#1012628).
- nvme: fix possible io failures when removing multipathed ns
  (bnc#1012628).
- EDAC/sysfs: Fix memory leak when creating a csrow object
  (bnc#1012628).
- EDAC/sysfs: Drop device references properly (bnc#1012628).
- spi: fix ctrl->num_chipselect constraint (bnc#1012628).
- ACPICA: Clear status of GPEs on first direct enable
  (bnc#1012628).
- blk-iolatency: only account submitted bios (bnc#1012628).
- x86/cacheinfo: Fix a -Wtype-limits warning (bnc#1012628).
- net: netsec: initialize tx ring on ndo_open (bnc#1012628).
- PCI: Add missing link delays required by the PCIe spec
  (bnc#1012628).
- perf build: Handle slang being in /usr/include and in
  /usr/include/slang/ (bnc#1012628).
- bpf: fix callees pruning callers (bnc#1012628).
- tools build: Fix the zstd test in the test-all.c common case
  feature test (bnc#1012628).
- ASoC: rsnd: fixup mod ID calculation in rsnd_ctu_probe_
  (bnc#1012628).
- ipoib: correcly show a VF hardware address (bnc#1012628).
- iavf: allow null RX descriptors (bnc#1012628).
- vhost_net: disable zerocopy by default (bnc#1012628).
- perf evsel: Make perf_evsel__name() accept a NULL argument
  (bnc#1012628).
- x86/atomic: Fix smp_mb__{before,after}_atomic() (bnc#1012628).
- integrity: Fix __integrity_init_keyring() section mismatch
  (bnc#1012628).
- perf/x86/intel/uncore: Handle invalid event coding for
  free-running counter (bnc#1012628).
- perf/x86/intel: Disable check_msr for real HW (bnc#1012628).
- sched/fair: Fix "runnable_avg_yN_inv" not used warnings
  (bnc#1012628).
- perf/x86/intel: Add more Icelake CPUIDs (bnc#1012628).
- sched/core: Add __sched tag for io_schedule() (bnc#1012628).
- xfrm: fix sa selector validation (bnc#1012628).
- blkcg, writeback: dead memcgs shouldn't contribute to writeback
  ownership arbitration (bnc#1012628).
- block: null_blk: fix race condition for null_del_dev
  (bnc#1012628).
- net: hns3: delay ring buffer clearing during reset
  (bnc#1012628).
- net: hns3: fix for skb leak when doing selftest (bnc#1012628).
- net: hns3: fix for dereferencing before null checking
  (bnc#1012628).
- qed: iWARP - Fix tc for MPA ll2 connection (bnc#1012628).
- x86/cpufeatures: Add FDP_EXCPTN_ONLY and ZERO_FCS_FDS
  (bnc#1012628).
- perf/x86: Add Intel Ice Lake NNPI uncore support (bnc#1012628).
- rcu: Force inlining of rcu_read_lock() (bnc#1012628).
- ASoC: meson: axg-tdm: fix sample clock inversion (bnc#1012628).
- x86/cpu: Add Ice Lake NNPI to Intel family (bnc#1012628).
- crypto: testmgr - add some more preemption points (bnc#1012628).
- selinux: fix empty write to keycreate file (bnc#1012628).
- media: s5p-mfc: fix reading min scratch buffer size on MFC v6/v7
  (bnc#1012628).
- bpf: silence warning messages in core (bnc#1012628).
- media: davinci: vpif_capture: fix memory leak in vpif_probe()
  (bnc#1012628).
- gpio: omap: Fix lost edge wake-up interrupts (bnc#1012628).
- regmap: fix bulk writes on paged registers (bnc#1012628).
- gpio: omap: ensure irq is enabled before wakeup (bnc#1012628).
- gpio: omap: fix lack of irqstatus_raw0 for OMAP4 (bnc#1012628).
- iommu: Fix a leak in iommu_insert_resv_region (bnc#1012628).
- media: fdp1: Support M3N and E3 platforms (bnc#1012628).
- media: uvcvideo: Fix access to uninitialized fields on probe
  error (bnc#1012628).
- irqchip/meson-gpio: Add support for Meson-G12A SoC
  (bnc#1012628).
- selftests/bpf : clean up feature/ when make clean (bnc#1012628).
- perf report: Fix OOM error in TUI mode on s390 (bnc#1012628).
- perf test 6: Fix missing kvm module load for s390 (bnc#1012628).
- perf cs-etm: Properly set the value of 'old' and 'head' in
  snapshot mode (bnc#1012628).
- ipset: Fix memory accounting for hash types on resize
  (bnc#1012628).
- netfilter: ipset: fix a missing check of nla_parse
  (bnc#1012628).
- net: sfp: add mutex to prevent concurrent state checks
  (bnc#1012628).
- RAS/CEC: Fix pfn insertion (bnc#1012628).
- s390/qdio: handle PENDING state for QEBSM devices (bnc#1012628).
- net: axienet: Fix race condition causing TX hang (bnc#1012628).
- net: fec: Do not use netdev messages too early (bnc#1012628).
- crypto: inside-secure - do not rely on the hardware last bit
  for result descriptors (bnc#1012628).
- net: stmmac: modify default value of tx-frames (bnc#1012628).
- net: stmmac: dwmac4: fix flow control issue (bnc#1012628).
- media: aspeed: fix a kernel warning on clk control
  (bnc#1012628).
- media: aspeed: change irq to threaded irq (bnc#1012628).
- perf jvmti: Address gcc string overflow warning for strncpy()
  (bnc#1012628).
- media: imx7-mipi-csis: Propagate the error if clock enabling
  fails (bnc#1012628).
- arm64: mm: make CONFIG_ZONE_DMA32 configurable (bnc#1012628).
- cpupower : frequency-set -r option misses the last cpu in
  related cpu list (bnc#1012628).
- net: hns3: set ops to null when unregister ad_dev (bnc#1012628).
- net: hns3: add a check to pointer in error_detected and
  slot_reset (bnc#1012628).
- media: wl128x: Fix some error handling in
  fm_v4l2_init_video_device() (bnc#1012628).
- media: platform: ao-cec-g12a: disable regmap fast_io for cec
  bus regmap (bnc#1012628).
- locking/lockdep: Fix merging of hlocks with non-zero references
  (bnc#1012628).
- locking/lockdep: Fix OOO unlock when hlocks need merging
  (bnc#1012628).
- batman-adv: Fix duplicated OGMs on NETDEV_UP (bnc#1012628).
- tua6100: Avoid build warnings (bnc#1012628).
- crypto: talitos - Align SEC1 accesses to 32 bits boundaries
  (bnc#1012628).
- crypto: talitos - properly handle split ICV (bnc#1012628).
- net: dsa: sja1105: Fix broken fixed-link interfaces on user
  ports (bnc#1012628).
- net: phy: Check against net_device being NULL (bnc#1012628).
- media: staging: media: davinci_vpfe: - Fix for memory leak if
  decoder initialization fails (bnc#1012628).
- ASoC: Intel: sof-rt5682: fix undefined references with
  Baytrail-only support (bnc#1012628).
- media: saa7164: fix remove_proc_entry warning (bnc#1012628).
- media: mc-device.c: don't memset __user pointer contents
  (bnc#1012628).
- ice: Check all VFs for MDD activity, don't disable
  (bnc#1012628).
- perf annotate TUI browser: Do not use member from variable
  within its own initialization (bnc#1012628).
- media: usb:zr364xx:Fix KASAN:null-ptr-deref Read in
  zr364xx_vidioc_querycap (bnc#1012628).
- fscrypt: clean up some BUG_ON()s in block encryption/decryption
  (bnc#1012628).
- media: v4l2-core: fix use-after-free error (bnc#1012628).
- media: vim2m: fix two double-free issues (bnc#1012628).
- xfrm: Fix xfrm sel prefix length validation (bnc#1012628).
- af_key: fix leaks in key_pol_get_resp and dump_sp (bnc#1012628).
- signal/pid_namespace: Fix reboot_pid_ns to use send_sig not
  force_sig (bnc#1012628).
- qed: Set the doorbell address correctly (bnc#1012628).
- net: hns3: fix for FEC configuration (bnc#1012628).
- net: hns3: initialize CPU reverse mapping (bnc#1012628).
- net: mvpp2: cls: Extract the RSS context when parsing the
  ethtool rule (bnc#1012628).
- ice: Fix couple of issues in ice_vsi_release (bnc#1012628).
- net: stmmac: Prevent missing interrupts when running NAPI
  (bnc#1012628).
- net: stmmac: dwmac4/5: Clear unused address entries
  (bnc#1012628).
- net: stmmac: dwmac1000: Clear unused address entries
  (bnc#1012628).
- crypto: caam - avoid S/G table fetching for AEAD zero-length
  output (bnc#1012628).
- media: venus: firmware: fix leaked of_node references
  (bnc#1012628).
- ice: Gracefully handle reset failure in ice_alloc_vfs()
  (bnc#1012628).
- media: media_device_enum_links32: clean a reserved field
  (bnc#1012628).
- media: vpss: fix a potential NULL pointer dereference
  (bnc#1012628).
- selftests/bpf: adjust verifier scale test (bnc#1012628).
- media: marvell-ccic: fix DMA s/g desc number calculation
  (bnc#1012628).
- media: ov7740: avoid invalid framesize setting (bnc#1012628).
- crypto: talitos - fix skcipher failure due to wrong output IV
  (bnc#1012628).
- media: spi: IR LED: add missing of table registration
  (bnc#1012628).
- media: dvb: usb: fix use after free in dvb_usb_device_exit
  (bnc#1012628).
- batman-adv: fix for leaked TVLV handler (bnc#1012628).
- regmap: debugfs: Fix memory leak in regmap_debugfs_init
  (bnc#1012628).
- ath10k: Fix encoding for protected management frames
  (bnc#1012628).
- ath: DFS JP domain W56 fixed pulse type 3 RADAR detection
  (bnc#1012628).
- wil6210: fix spurious interrupts in 3-msi (bnc#1012628).
- ath10k: add peer id check in ath10k_peer_find_by_id
  (bnc#1012628).
- ath6kl: add some bounds checking (bnc#1012628).
- wil6210: fix missed MISC mbox interrupt (bnc#1012628).
- ath10k: Fix the wrong value of enums for wmi tlv stats id
  (bnc#1012628).
- ath9k: Check for errors when reading SREV register
  (bnc#1012628).
- spi: rockchip: turn down tx dma bursts (bnc#1012628).
- ath10k: Do not send probe response template for mesh
  (bnc#1012628).
- wil6210: fix potential out-of-bounds read (bnc#1012628).
- ath9k: Don't trust TX status TID number when reporting airtime
  (bnc#1012628).
- ath10k: fix incorrect multicast/broadcast rate setting
  (bnc#1012628).
- ath10k: htt: don't use txdone_fifo with SDIO (bnc#1012628).
- ath10k: Check tx_stats before use it (bnc#1012628).
- commit f5296b5

-------------------------------------------------------------------
Wed Jul 24 13:00:28 CEST 2019 - msuchanek@suse.de

- scripts/arch-symbols: add missing link.
- commit ee7c635

-------------------------------------------------------------------
Tue Jul 23 17:48:41 CEST 2019 - tiwai@suse.de

- Add kernel module compression support (bsc#1135854)
  For enabling the kernel module compress, add the item COMPRESS_MODULES="xz"
  in config.sh, then mkspec will pass it to the spec file.
- commit cdf5806

-------------------------------------------------------------------
Tue Jul 23 00:11:24 CEST 2019 - jeffm@suse.com

- config: enable PPPoE for kvmsmall (bsc#1133945).
- commit 72c928d

-------------------------------------------------------------------
Mon Jul 22 16:43:10 CEST 2019 - mkubecek@suse.cz

- rpm/klp-symbols: update to work with kernel >= 5.3
  Since mainline commit b7dca6dd1e59 ("kbuild: create *.mod with full
  directory path and remove MODVERDIR") in v5.3-rc1, *.mod files are created
  in the build tree rather than in a single directory .tmp_versions
  ($MODVERDIR). They also do not provide path to the *.ko module file on
  their first line as the path is the same (except for the suffix).
  Update klp-symbols script to handle this new layout and format of *.mod
  files to fix build of 5.3-rc1 and newer kernel.
  Note: this is a quick band-aid to fix master branch build without risk of
  breaking any other branch. A more proper cleanup will follow.
- commit c32f8e7

-------------------------------------------------------------------
Sun Jul 21 19:42:03 CEST 2019 - mkubecek@suse.cz

- Revert "netfilter: conntrack: remove helper hook again"
  (http://lkml.kernel.org/r/20190718092128.zbw4qappq6jsb4ja@breakpoint.cc).
- commit 8e9a006

-------------------------------------------------------------------
Sun Jul 21 10:23:21 CEST 2019 - jslaby@suse.cz

- Linux 5.2.2 (bnc#1012628).
- x86/entry/32: Fix ENDPROC of common_spurious (bnc#1012628).
- crypto/NX: Set receive window credits to max number of CRBs
  in RxFIFO (bnc#1012628).
- crypto: talitos - fix hash on SEC1 (bnc#1012628).
- crypto: talitos - move struct talitos_edesc into talitos.h
  (bnc#1012628).
- s390/qdio: don't touch the dsci in tiqdio_add_input_queues()
  (bnc#1012628).
- s390/qdio: (re-)initialize tiqdio list entries (bnc#1012628).
- s390: fix stfle zero padding (bnc#1012628).
- s390/ipl: Fix detection of has_secure attribute (bnc#1012628).
- ARC: hide unused function unw_hdr_alloc (bnc#1012628).
- x86/irq: Seperate unused system vectors from spurious entry
  again (bnc#1012628).
- x86/irq: Handle spurious interrupt after shutdown gracefully
  (bnc#1012628).
- x86/ioapic: Implement irq_get_irqchip_state() callback
  (bnc#1012628).
- genirq: Add optional hardware synchronization for shutdown
  (bnc#1012628).
- genirq: Fix misleading synchronize_irq() documentation
  (bnc#1012628).
- genirq: Delay deactivation in free_irq() (bnc#1012628).
- firmware: improve LSM/IMA security behaviour (bnc#1012628).
- drivers: base: cacheinfo: Ensure cpu hotplug work is done
  before Intel RDT (bnc#1012628).
- nilfs2: do not use unexported cpu_to_le32()/le32_to_cpu()
  in uapi header (bnc#1012628).
- Input: synaptics - enable SMBUS on T480 thinkpad trackpad
  (bnc#1012628).
- e1000e: start network tx queue only when link is up
  (bnc#1012628).
- Revert "e1000e: fix cyclic resets at link up with active tx"
  (bnc#1012628).
- commit 93f0a54

-------------------------------------------------------------------
Tue Jul 16 14:57:13 CEST 2019 - lpechacek@suse.com

- rpm/kernel-binary.spec.in: build kernel-*-kgraft only for default SLE kernel
  RT and Azure variants are excluded for the moment. (bsc#1141600)
- commit 620816f

-------------------------------------------------------------------
Sun Jul 14 11:33:41 CEST 2019 - jslaby@suse.cz

- Linux 5.2.1 (bnc#1012628).
- staging: rtl8712: reduce stack usage, again (bnc#1012628).
- staging: bcm2835-camera: Handle empty EOS buffers whilst
  streaming (bnc#1012628).
- staging: bcm2835-camera: Remove check of the number of buffers
  supplied (bnc#1012628).
- staging: bcm2835-camera: Ensure all buffers are returned on
  disable (bnc#1012628).
- staging: bcm2835-camera: Replace spinlock protecting context_map
  with mutex (bnc#1012628).
- staging: fsl-dpaa2/ethsw: fix memory leak of switchdev_work
  (bnc#1012628).
- staging: vchiq: revert "switch to wait_for_completion_killable"
  (bnc#1012628).
- staging: vchiq: make wait events interruptible (bnc#1012628).
- staging: vchiq_2835_arm: revert "quit using custom
  down_interruptible()" (bnc#1012628).
- VMCI: Fix integer overflow in VMCI handle arrays (bnc#1012628).
- Revert "x86/build: Move _etext to actual end of .text"
  (bnc#1012628).
- carl9170: fix misuse of device driver API (bnc#1012628).
- coresight: tmc-etf: Do not call smp_processor_id from
  preemptible (bnc#1012628).
- coresight: tmc-etr: alloc_perf_buf: Do not call smp_processor_id
  from preemptible (bnc#1012628).
- coresight: tmc-etr: Do not call smp_processor_id() from
  preemptible (bnc#1012628).
- coresight: etb10: Do not call smp_processor_id from preemptible
  (bnc#1012628).
- coresight: Potential uninitialized variable in probe()
  (bnc#1012628).
- iio: adc: stm32-adc: add missing vdda-supply (bnc#1012628).
- binder: return errors from buffer copy functions (bnc#1012628).
- binder: fix memory leak in error path (bnc#1012628).
- lkdtm: support llvm-objcopy (bnc#1012628).
- HID: Add another Primax PIXART OEM mouse quirk (bnc#1012628).
- staging: mt7621-pci: fix PCIE_FTS_NUM_LO macro (bnc#1012628).
- staging: comedi: amplc_pci230: fix null pointer deref on
  interrupt (bnc#1012628).
- staging: bcm2835-camera: Restore return behavior of
  ctrl_set_bitrate() (bnc#1012628).
- staging: wilc1000: fix error path cleanup in
  wilc_wlan_initialize() (bnc#1012628).
- staging: comedi: dt282x: fix a null pointer deref on interrupt
  (bnc#1012628).
- p54: fix crash during initialization (bnc#1012628).
- drivers/usb/typec/tps6598x.c: fix 4CC cmd write (bnc#1012628).
- drivers/usb/typec/tps6598x.c: fix portinfo width (bnc#1012628).
- usb: renesas_usbhs: add a workaround for a race condition of
  workqueue (bnc#1012628).
- usb: dwc2: use a longer AHB idle timeout in dwc2_core_reset()
  (bnc#1012628).
- usb: gadget: ether: Fix race between gether_disconnect and
  rx_submit (bnc#1012628).
- usb: gadget: f_fs: data_len used before properly set
  (bnc#1012628).
- p54usb: Fix race between disconnect and firmware loading
  (bnc#1012628).
- Revert "serial: 8250: Don't service RX FIFO if interrupts are
  disabled" (bnc#1012628).
- USB: serial: option: add support for GosunCn ME3630 RNDIS mode
  (bnc#1012628).
- USB: serial: ftdi_sio: add ID for isodebug v1 (bnc#1012628).
- mwifiex: Don't abort on small, spec-compliant vendor IEs
  (bnc#1012628).
- Documentation/admin: Remove the vsyscall=native documentation
  (bnc#1012628).
- Documentation: Add section about CPU vulnerabilities for Spectre
  (bnc#1012628).
- x86/tls: Fix possible spectre-v1 in do_get_thread_area()
  (bnc#1012628).
- x86/ptrace: Fix possible spectre-v1 in ptrace_get_debugreg()
  (bnc#1012628).
- perf header: Assign proper ff->ph in
  perf_event__synthesize_features() (bnc#1012628).
- perf thread-stack: Fix thread stack return from kernel for
  kernel-only case (bnc#1012628).
- perf pmu: Fix uncore PMU alias list for ARM64 (bnc#1012628).
- perf intel-pt: Fix itrace defaults for perf script intel-pt
  documentation (bnc#1012628).
- perf auxtrace: Fix itrace defaults for perf script
  (bnc#1012628).
- perf intel-pt: Fix itrace defaults for perf script
  (bnc#1012628).
- block, bfq: NULL out the bic when it's no longer valid
  (bnc#1012628).
- block: fix .bi_size overflow (bnc#1012628).
- tpm: Fix TPM 1.2 Shutdown sequence to prevent future TPM
  operations (bnc#1012628).
- tpm: Actually fail on TPM errors during "get random"
  (bnc#1012628).
- ALSA: hda/realtek - Headphone Mic can't record after S3
  (bnc#1012628).
- ALSA: usb-audio: Fix parse of UAC2 Extension Units
  (bnc#1012628).
- media: stv0297: fix frequency range limit (bnc#1012628).
- udf: Fix incorrect final NOT_ALLOCATED (hole) extent length
  (bnc#1012628).
- fscrypt: don't set policy for a dead directory (bnc#1012628).
- crypto: talitos - rename alternative AEAD algos (bnc#1012628).
- crypto: lrw - use correct alignmask (bnc#1012628).
- commit 51ca500

-------------------------------------------------------------------
Thu Jul 11 05:18:41 CEST 2019 - glin@suse.com

- net: bpfilter: print umh messages to /dev/kmsg (bsc#1140221).
- commit 139acc9

-------------------------------------------------------------------
Wed Jul 10 11:10:30 CEST 2019 - jslaby@suse.cz

- series.conf: sync with master
- commit 80522d2

-------------------------------------------------------------------
Wed Jul 10 10:36:44 CEST 2019 - jslaby@suse.cz

- rpm/kernel-binary.spec.in: handle modules.builtin.modinfo
  It was added in 5.2.
- commit eb88df3

-------------------------------------------------------------------
Tue Jul  9 16:47:26 CEST 2019 - rgoldwyn@suse.com

- Disable CONFIG_OVERLAY_FS_REDIRECT_ALWAYS_FOLLOW in config (bsc#1140494)
- commit 8d950e4

-------------------------------------------------------------------
Tue Jul  9 08:40:27 CEST 2019 - jslaby@suse.cz

- Delete patches.suse/Revert-ovl-detect-overlapping-layers.patch.
- Delete
  patches.suse/Revert-ovl-don-t-fail-with-disconnected-lower-NFS.patch.
- Delete
  patches.suse/Revert-ovl-fix-bogus-Wmaybe-unitialized-warning.patch.
  transactional-update was fixed, see sr#714110.
- commit 927afc9

-------------------------------------------------------------------
Mon Jul  8 06:57:19 CEST 2019 - mkubecek@suse.cz

- Update to 5.2 final
- Eliminated 1 patch
- commit b36439f

-------------------------------------------------------------------
Sun Jul  7 19:29:51 CEST 2019 - msuchanek@suse.de

- Refresh tpm: tpm_ibm_vtpm: Fix unallocated banks (boo#1139244).
- commit 99f9469

-------------------------------------------------------------------
Fri Jul  5 15:14:59 CEST 2019 - tiwai@suse.de

- config: align CONFIG_PHYSICAL_START and CONFIG_PHYSICAL_ALIGN to default values
  As suggested in bsc#1067593, our kconfig keeps the old default values
  while the upstream took different (actually swapped) values for x86
  CONFIG_PHYSICAL_START and CONFIG_PHYSICAL_ALIGN.   Let's follow the
  upstream default now.
- commit baa2434

-------------------------------------------------------------------
Fri Jul  5 02:34:23 CEST 2019 - mkubecek@suse.cz

- Rename patches.suse/[PATCH]_tpm:_fixes_uninitialized_allocated_banks_for_IBM_vtpm_driver
  to patches.suse/tpm-fixes-uninitialized-allocated-banks-for-IBM-vtpm-driver.patch
  Let's not risk some tool somewhere does not handle special characters correctly.
- commit 8a3fff9

-------------------------------------------------------------------
Thu Jul  4 13:54:09 CEST 2019 - msuchanek@suse.de

- tpm: fixes uninitialized allocated banks for IBM vtpm driver
  (boo#1139244).
- Delete patches.suse/Revert-tpm-pass-an-array-of-tpm_extend_digest-struct.patch.
- commit 43ec0a5

-------------------------------------------------------------------
Wed Jul  3 19:09:38 CEST 2019 - msuchanek@suse.de

- crypto: user - prevent operating on larval algorithms
  (bsc#1133401).
- Delete patches.suse/crypto-algapi-guard-against-uninitialized-spawn-list.patch.
- commit 90eea5d

-------------------------------------------------------------------
Wed Jul  3 14:58:41 CEST 2019 - schwab@suse.de

- rpm/dtb.spec.in.in: don't make dtb directory inaccessible
  There is no reason to lock down the dtb directory for ordinary users.
- commit a69437a

-------------------------------------------------------------------
Wed Jul  3 14:37:23 CEST 2019 - jslaby@suse.cz

- Linux 5.1.16 (bnc#1012628).
- arm64: insn: Fix ldadd instruction encoding (bnc#1012628).
- tipc: pass tunnel dev as NULL to udp_tunnel(6)_xmit_skb
  (bnc#1012628).
- fanotify: update connector fsid cache on add mark (bnc#1012628).
- RDMA: Directly cast the sockaddr union to sockaddr
  (bnc#1012628).
- futex: Update comments and docs about return values of arch
  futex code (bnc#1012628).
- bpf, arm64: use more scalable stadd over ldxr / stxr loop in
  xadd (bnc#1012628).
- arm64: futex: Avoid copying out uninitialised stack in failed
  cmpxchg() (bnc#1012628).
- bpf: udp: ipv6: Avoid running reuseport's bpf_prog from
  __udp6_lib_err (bnc#1012628).
- bpf: udp: Avoid calling reuseport's bpf_prog from udp_gro
  (bnc#1012628).
- bpf: fix unconnected udp hooks (bnc#1012628).
- bpf: fix nested bpf tracepoints with per-cpu data (bnc#1012628).
- bpf: lpm_trie: check left child of last leftmost node for NULL
  (bnc#1012628).
- bpf: simplify definition of BPF_FIB_LOOKUP related flags
  (bnc#1012628).
- net: aquantia: fix vlans not working over bridged network
  (bnc#1012628).
- tun: wake up waitqueues after IFF_UP is set (bnc#1012628).
- tipc: check msg->req data len in tipc_nl_compat_bearer_disable
  (bnc#1012628).
- tipc: change to use register_pernet_device (bnc#1012628).
- team: Always enable vlan tx offload (bnc#1012628).
- sctp: change to hold sk after auth shkey is created successfully
  (bnc#1012628).
- net/tls: fix page double free on TX cleanup (bnc#1012628).
- net: stmmac: set IC bit when transmitting frames with HW
  timestamp (bnc#1012628).
- net: stmmac: fixed new system time seconds value calculation
  (bnc#1012628).
- net: remove duplicate fetch in sock_getsockopt (bnc#1012628).
- net/packet: fix memory leak in packet_set_ring() (bnc#1012628).
- ipv4: Use return value of inet_iif() for __raw_v4_lookup in
  the while loop (bnc#1012628).
- bonding: Always enable vlan tx offload (bnc#1012628).
- af_packet: Block execution of tasks waiting for transmit to
  complete in AF_PACKET (bnc#1012628).
- irqchip/mips-gic: Use the correct local interrupt map registers
  (bnc#1012628).
- SUNRPC: Fix up calculation of client message length
  (bnc#1012628).
- cpu/speculation: Warn on unsupported mitigations= parameter
  (bnc#1012628).
- NFS/flexfiles: Use the correct TCP timeout for flexfiles I/O
  (bnc#1012628).
- efi/memreserve: deal with memreserve entries in unmapped memory
  (bnc#1012628).
- mm: fix page cache convergence regression (bnc#1012628).
- x86/resctrl: Prevent possible overrun during bitmap operations
  (bnc#1012628).
- x86/microcode: Fix the microcode load on CPU hotplug for real
  (bnc#1012628).
- x86/speculation: Allow guests to use SSBD even if host does not
  (bnc#1012628).
- scsi: vmw_pscsi: Fix use-after-free in pvscsi_queue_lck()
  (bnc#1012628).
- io_uring: ensure req->file is cleared on allocation
  (bnc#1012628).
- dm log writes: make sure super sector log updates are written
  in order (bnc#1012628).
- dm init: fix incorrect uses of kstrndup() (bnc#1012628).
- mm, swap: fix THP swap out (bnc#1012628).
- mm/page_idle.c: fix oops because end_pfn is larger than max_pfn
  (bnc#1012628).
- mm: hugetlb: soft-offline: dissolve_free_huge_page() return
  zero on !PageHuge (bnc#1012628).
- mm: soft-offline: return -EBUSY if
  set_hwpoison_free_buddy_page() fails (bnc#1012628).
- drm/i915: Skip modeset for cdclk changes if possible
  (bnc#1012628).
- drm/i915: Remove redundant store of logical CDCLK state
  (bnc#1012628).
- drm/i915: Save the old CDCLK atomic state (bnc#1012628).
- drm/i915: Force 2*96 MHz cdclk on glk/cnl when audio power is
  enabled (bnc#1012628).
- clk: socfpga: stratix10: fix divider entry for the emac clocks
  (bnc#1012628).
- clk: tegra210: Fix default rates for HDA clocks (bnc#1012628).
- fs/binfmt_flat.c: make load_flat_shared_library() work
  (bnc#1012628).
- mm/mempolicy.c: fix an incorrect rebind node in
  mpol_rebind_nodemask (bnc#1012628).
- fs/proc/array.c: allow reporting eip/esp for all coredumping
  threads (bnc#1012628).
- qmi_wwan: Fix out-of-bounds read (bnc#1012628).
- Revert "x86/uaccess, ftrace: Fix ftrace_likely_update()
  vs. SMAP" (bnc#1012628).
- arm64: Don't unconditionally add -Wno-psabi to KBUILD_CFLAGS
  (bnc#1012628).
- commit 2af8a22

-------------------------------------------------------------------
Wed Jul  3 12:52:03 CEST 2019 - jslaby@suse.cz

- Update config files.
  Set CONFIG_SCSI_SCAN_ASYNC=y (bnc#1137686).
- commit a156b11

-------------------------------------------------------------------
Wed Jul  3 07:48:43 CEST 2019 - mkubecek@suse.cz

- config: switch to SLUB allocator (Jira:PM-1158)
- new config options:
  - SLUB=y
  - SLUB_DEBUG=y
  - SLUB_MEMCG_SYSFS_ON=y
  - SLAB_FREELIST_HARDENED=n
  - SLUB_CPU_PARTIAL=y
  - SLUB_DEBUG_ON=n
  - SLUB_STATS=n
- commit 0ab8cfd

-------------------------------------------------------------------
Tue Jul  2 13:17:14 CEST 2019 - jslaby@suse.cz

- Update patches.suse/Revert-ovl-detect-overlapping-layers.patch
  (bnc#1140057).
- Update
  patches.suse/Revert-ovl-don-t-fail-with-disconnected-lower-NFS.patch
  (bnc#1140057).
- Update
  patches.suse/Revert-ovl-fix-bogus-Wmaybe-unitialized-warning.patch
  (bnc#1140057).
  Add bnc to references.
- commit 512bcbe

-------------------------------------------------------------------
Tue Jul  2 12:39:50 CEST 2019 - jslaby@suse.cz

- Revert "ovl: detect overlapping layers" (openqa tests failing).
- Revert "ovl: don't fail with disconnected lower NFS" (openqa
  tests failing).
- Revert "ovl: fix bogus -Wmaybe-unitialized warning" (openqa
  tests failing).
- commit cb24bc9

-------------------------------------------------------------------
Sun Jun 30 23:03:34 CEST 2019 - mkubecek@suse.cz

- Update to 5.2-rc7
- Refresh configs
- commit 2d405cc

-------------------------------------------------------------------
Sun Jun 30 21:30:23 CEST 2019 - msuchanek@suse.de

- Delete patches.rpmify/BPF-UMH-do-not-detect-if-compiler-can-link-userspace.patch.
  Obsoleted by the gcc9 cross-compilers with libc.
- commit 0e0679b

-------------------------------------------------------------------
Sun Jun 30 16:37:35 CEST 2019 - msuchanek@suse.de

- Revert "tpm: pass an array of tpm_extend_digest structures to
  tpm_pcr_extend()" (boo#1139244).
- commit b09a129

-------------------------------------------------------------------
Fri Jun 28 14:33:14 CEST 2019 - msuchanek@suse.de

- Refresh patches.suse/supported-flag.
  Supported kernel does not build with the patch in master so imported
  patch from SLE15.
- commit 10d9b2c

-------------------------------------------------------------------
Thu Jun 27 14:44:00 CEST 2019 - msuchanek@suse.de

- Update config files
   - Add core options from SLE15 which are not enabled on master for no
   obvious reason
   - Add core option from x86 which are not enabled on non-x86 for no
   obvious reason
   - Enable fadump
  Changes:
  Scheduling:
     +CONFIG_CONTEXT_TRACKING=y
     -CONFIG_TICK_CPU_ACCOUNTING=y
     +CONFIG_VIRT_CPU_ACCOUNTING_GEN=y
     +CONFIG_VIRT_CPU_ACCOUNTING=y
     +CONFIG_IRQ_TIME_ACCOUNTING=y
     +CONFIG_TASKS_RCU=y
     +CONFIG_RT_GROUP_SCHED=y
   mm:
     +# CONFIG_TRANSPARENT_HUGEPAGE_ALWAYS is not set
     +CONFIG_TRANSPARENT_HUGEPAGE_MADVISE=y
     +CONFIG_FRONTSWAP=y
     +CONFIG_ZSWAP=y
   arc/ppc:
     +CONFIG_FA_DUMP=y
   fs:
     +CONFIG_9P_FSCACHE=y
   net:
     +CONFIG_TIPC=m
     +CONFIG_TIPC_DIAG=m
     +CONFIG_TIPC_MEDIA_UDP=y
   misc:
     -CONFIG_SERIAL_SIFIVE=m
     +CONFIG_SYSCTL_SYSCALL=y
   debug&test:
     +CONFIG_PAGE_EXTENSION=y
     +CONFIG_PAGE_OWNER=y
     +CONFIG_DEBUG_MISC=y
     +CONFIG_RCU_TRACE=y
     +CONFIG_KGDB_SERIAL_CONSOLE=y
     +CONFIG_SCOM_DEBUGFS=y
     +CONFIG_CRYPTO_TEST=m
     +CONFIG_RCU_TORTURE_TEST=m
     +CONFIG_TEST_FIRMWARE=m
     +CONFIG_TEST_LIVEPATCH=m
     +CONFIG_TEST_LKM=m
     +CONFIG_TEST_SYSCTL=m
     +CONFIG_TORTURE_TEST=m
- commit ce08519

-------------------------------------------------------------------
Tue Jun 25 09:55:47 CEST 2019 - jslaby@suse.cz

- Linux 5.1.15 (bnc#1012628).
- tracing: Silence GCC 9 array bounds warning (bnc#1012628).
- mmc: sdhci: sdhci-pci-o2micro: Correctly set bus width when
  tuning (bnc#1012628).
- mmc: sdhi: disallow HS400 for M3-W ES1.2, RZ/G2M, and V3H
  (bnc#1012628).
- mmc: mediatek: fix SDIO IRQ interrupt handle flow (bnc#1012628).
- mmc: mediatek: fix SDIO IRQ detection issue (bnc#1012628).
- mmc: core: API to temporarily disable retuning for SDIO CRC
  errors (bnc#1012628).
- mmc: core: Add sdio_retune_hold_now() and sdio_retune_release()
  (bnc#1012628).
- mmc: core: Prevent processing SDIO IRQs when the card is
  suspended (bnc#1012628).
- scsi: ufs: Avoid runtime suspend possibly being blocked forever
  (bnc#1012628).
- usb: chipidea: udc: workaround for endpoint conflict issue
  (bnc#1012628).
- xhci: detect USB 3.2 capable host controllers correctly
  (bnc#1012628).
- usb: xhci: Don't try to recover an endpoint if port is in
  error state (bnc#1012628).
- cifs: add spinlock for the openFileList to cifsInodeInfo
  (bnc#1012628).
- cifs: fix GlobalMid_Lock bug in cifs_reconnect (bnc#1012628).
- IB/hfi1: Validate fault injection opcode user input
  (bnc#1012628).
- IB/hfi1: Close PSM sdma_progress sleep window (bnc#1012628).
- IB/hfi1: Avoid hardlockup with flushlist_lock (bnc#1012628).
- IB/hfi1: Correct tid qp rcd to match verbs context
  (bnc#1012628).
- IB/hfi1: Silence txreq allocation warnings (bnc#1012628).
- iio: imu: st_lsm6dsx: fix PM support for st_lsm6dsx i2c
  controller (bnc#1012628).
- iio: temperature: mlx90632 Relax the compatibility check
  (bnc#1012628).
- Input: synaptics - enable SMBus on ThinkPad E480 and E580
  (bnc#1012628).
- Input: uinput - add compat ioctl number translation for
  UI_*_FF_UPLOAD (bnc#1012628).
- Input: silead - add MSSL0017 to acpi_device_id (bnc#1012628).
- apparmor: fix PROFILE_MEDIATES for untrusted input
  (bnc#1012628).
- apparmor: enforce nullbyte at end of tag string (bnc#1012628).
- apparmor: reset pos on failure to unpack for various functions
  (bnc#1012628).
- Revert "brcmfmac: disable command decode in sdio_aos"
  (bnc#1012628).
- brcmfmac: sdio: Disable auto-tuning around commands expected
  to fail (bnc#1012628).
- brcmfmac: sdio: Don't tune while the card is off (bnc#1012628).
- lkdtm/usercopy: Moves the KERNEL_DS test to non-canonical
  (bnc#1012628).
- ARC: fix build warnings (bnc#1012628).
- dmaengine: jz4780: Fix transfers being ACKed too soon
  (bnc#1012628).
- dmaengine: dw-axi-dmac: fix null dereference when pointer
  first is null (bnc#1012628).
- dmaengine: mediatek-cqdma: sleeping in atomic context
  (bnc#1012628).
- dmaengine: sprd: Fix the possible crash when getting descriptor
  status (bnc#1012628).
- dmaengine: sprd: Add validation of current descriptor in irq
  handler (bnc#1012628).
- dmaengine: sprd: Fix the incorrect start for 2-stage destination
  channels (bnc#1012628).
- dmaengine: sprd: Fix block length overflow (bnc#1012628).
- dmaengine: sprd: Fix the right place to configure 2-stage
  transfer (bnc#1012628).
- ARC: [plat-hsdk]: Add missing multicast filter bins number to
  GMAC node (bnc#1012628).
- ARC: [plat-hsdk]: Add missing FIFO size entry in GMAC node
  (bnc#1012628).
- MIPS: mark ginvt() as __always_inline (bnc#1012628).
- fpga: stratix10-soc: fix use-after-free on s10_init()
  (bnc#1012628).
- fpga: dfl: afu: Pass the correct device to dma_mapping_error()
  (bnc#1012628).
- fpga: dfl: Add lockdep classes for pdata->lock (bnc#1012628).
- parport: Fix mem leak in parport_register_dev_model
  (bnc#1012628).
- parisc: Fix compiler warnings in float emulation code
  (bnc#1012628).
- habanalabs: fix bug in checking huge page optimization
  (bnc#1012628).
- IB/rdmavt: Fix alloc_qpn() WARN_ON() (bnc#1012628).
- IB/hfi1: Insure freeze_work work_struct is canceled on shutdown
  (bnc#1012628).
- IB/{qib, hfi1, rdmavt}: Correct ibv_devinfo max_mr value
  (bnc#1012628).
- IB/hfi1: Validate page aligned for a given virtual address
  (bnc#1012628).
- MIPS: uprobes: remove set but not used variable 'epc'
  (bnc#1012628).
- crypto: hmac - fix memory leak in hmac_init_tfm() (bnc#1012628).
- xtensa: Fix section mismatch between memblock_reserve and
  mem_reserve (bnc#1012628).
- kselftest/cgroup: fix unexpected testing failure on
  test_memcontrol (bnc#1012628).
- kselftest/cgroup: fix unexpected testing failure on test_core
  (bnc#1012628).
- kselftest/cgroup: fix incorrect test_core skip (bnc#1012628).
- userfaultfd: selftest: fix compiler warning (bnc#1012628).
- selftests: vm: install test_vmalloc.sh for run_vmtests
  (bnc#1012628).
- net: dsa: mv88e6xxx: avoid error message on remove from VLAN 0
  (bnc#1012628).
- net: hns: Fix loopback test failed at copper ports
  (bnc#1012628).
- mdesc: fix a missing-check bug in get_vdev_port_node_info()
  (bnc#1012628).
- sparc: perf: fix updated event period in response to
  PERF_EVENT_IOC_PERIOD (bnc#1012628).
- net: ethernet: mediatek: Use hw_feature to judge if HWLRO is
  supported (bnc#1012628).
- net: ethernet: mediatek: Use NET_IP_ALIGN to judge if HW
  RX_2BYTE_OFFSET is enabled (bnc#1012628).
- selftests: set sysctl bc_forwarding properly in
  router_broadcast.sh (bnc#1012628).
- drm/arm/mali-dp: Add a loop around the second set CVAL and
  try 5 times (bnc#1012628).
- drm/arm/hdlcd: Actually validate CRTC modes (bnc#1012628).
- drm/arm/hdlcd: Allow a bit of clock tolerance (bnc#1012628).
- nvmet: fix data_len to 0 for bdev-backed write_zeroes
  (bnc#1012628).
- kbuild: tar-pkg: enable communication with jobserver
  (bnc#1012628).
- scripts/checkstack.pl: Fix arm64 wrong or unknown architecture
  (bnc#1012628).
- net: phylink: avoid reducing support mask (bnc#1012628).
- scsi: ufs: Check that space was properly alloced in
  copy_query_response (bnc#1012628).
- scsi: smartpqi: unlock on error in
  pqi_submit_raid_request_synchronous() (bnc#1012628).
- net: ipvlan: Fix ipvlan device tso disabled while
  NETIF_F_IP_CSUM is set (bnc#1012628).
- udmabuf: actually unmap the scatterlist (bnc#1012628).
- tests: fix pidfd-test compilation (bnc#1012628).
- s390/qeth: handle limited IPv4 broadcast in L3 TX path
  (bnc#1012628).
- s390/qeth: check dst entry before use (bnc#1012628).
- s390/qeth: fix VLAN attribute in bridge_hostnotify udev event
  (bnc#1012628).
- hwmon: (core) add thermal sensors only if dev->of_node is
  present (bnc#1012628).
- hwmon: (pmbus/core) Treat parameters as paged if on multiple
  pages (bnc#1012628).
- arm64: Silence gcc warnings about arch ABI drift (bnc#1012628).
- nvme: Fix u32 overflow in the number of namespace list
  calculation (bnc#1012628).
- ovl: detect overlapping layers (bnc#1012628).
- ovl: don't fail with disconnected lower NFS (bnc#1012628).
- ovl: fix bogus -Wmaybe-unitialized warning (bnc#1012628).
- btrfs: start readahead also in seed devices (bnc#1012628).
- can: xilinx_can: use correct bittiming_const for CAN FD core
  (bnc#1012628).
- can: flexcan: fix timeout when set small bitrate (bnc#1012628).
- can: purge socket error queue on sock destruct (bnc#1012628).
- riscv: mm: synchronize MMU after pte change (bnc#1012628).
- powerpc/bpf: use unsigned division instruction for 64-bit
  operations (bnc#1012628).
- ARM: imx: cpuidle-imx6sx: Restrict the SW2ISO increase to
  i.MX6SX (bnc#1012628).
- ARM: mvebu_v7_defconfig: fix Ethernet on Clearfog (bnc#1012628).
- ARM: dts: dra76x: Update MMC2_HS200_MANUAL1 iodelay values
  (bnc#1012628).
- ARM: dts: am57xx-idk: Remove support for voltage switching
  for SD card (bnc#1012628).
- arm64/sve: <uapi/asm/ptrace.h> should not depend on
  <uapi/linux/prctl.h> (bnc#1012628).
- arm64: ssbd: explicitly depend on <linux/prctl.h> (bnc#1012628).
- KVM: x86/mmu: Allocate PAE root array when using SVM's 32-bit
  NPT (bnc#1012628).
- ovl: make i_ino consistent with st_ino in more cases
  (bnc#1012628).
- drm/vmwgfx: Use the backdoor port if the HB port is not
  available (bnc#1012628).
- drm/i915: Don't clobber M/N values during fastset check
  (bnc#1012628).
- binder: fix possible UAF when freeing buffer (bnc#1012628).
- staging: erofs: add requirements field in superblock
  (bnc#1012628).
- Bluetooth: Align minimum encryption key size for LE and BR/EDR
  connections (bnc#1012628).
- Bluetooth: Fix regression with minimum encryption key size
  alignment (bnc#1012628).
- SMB3: retry on STATUS_INSUFFICIENT_RESOURCES instead of failing
  write (bnc#1012628).
- x86/vdso: Prevent segfaults due to hoisted vclock reads
  (bnc#1012628).
- fs/namespace: fix unprivileged mount propagation (bnc#1012628).
- cfg80211: fix memory leak of wiphy device name (bnc#1012628).
- mac80211: drop robust management frames from unknown TA
  (bnc#1012628).
- {nl,mac}80211: allow 4addr AP operation on crypto controlled
  devices (bnc#1012628).
- mac80211: handle deauthentication/disassociation from TDLS peer
  (bnc#1012628).
- nl80211: fix station_info pertid memory leak (bnc#1012628).
- mac80211: Do not use stack memory with scatterlist for GMAC
  (bnc#1012628).
- x86/resctrl: Don't stop walking closids when a locksetup group
  is found (bnc#1012628).
- powerpc/mm/64s/hash: Reallocate context ids on fork
  (bnc#1012628).
- Refresh patches.suse/apparmor-compatibility-with-v2.x-net.patch.
- commit e222743

-------------------------------------------------------------------
Mon Jun 24 19:17:51 CEST 2019 - msuchanek@suse.de

- crypto: algapi - guard against uninitialized spawn list in
  crypto_remove_spawns (bsc#1133401).
- commit 543f67d

-------------------------------------------------------------------
Mon Jun 24 13:39:01 CEST 2019 - tiwai@suse.de

- fonts: Prefer a bigger font for high resolution screens
  (bsc#1138496).
- fonts: Use BUILD_BUG_ON() for checking empty font table
  (bsc#1138496).
- fonts: Fix coding style (bsc#1138496).
- commit f99f70b

-------------------------------------------------------------------
Sun Jun 23 20:14:02 CEST 2019 - mkubecek@suse.cz

- Update to 5.2-rc6
- Eliminated 5 patches
  - patches.suse/net-phy-rename-Asix-Electronics-PHY-driver.patch
  - patches.suse/tcp-limit-payload-size-of-sacked-skbs.patch
  - patches.suse/tcp-tcp_fragment-should-apply-sane-memory-limits.patch
  - patches.suse/tcp-add-tcp_min_snd_mss-sysctl.patch
  - patches.suse/tcp-enforce-tcp_min_snd_mss-in-tcp_mtu_probing.patch
- Refresh
  - patches.suse/apparmor-compatibility-with-v2.x-net.patch
- commit 75acedc

-------------------------------------------------------------------
Sat Jun 22 13:55:36 CEST 2019 - jslaby@suse.cz

- Linux 5.1.14 (bnc#1012628).
- tcp: refine memory limit test in tcp_fragment() (bnc#1012628).
- commit f291042

-------------------------------------------------------------------
Sat Jun 22 13:54:24 CEST 2019 - jslaby@suse.cz

- Linux 5.1.13 (bnc#1012628).
- coredump: fix race condition between collapse_huge_page()
  and core dumping (bnc#1012628).
- nvme-tcp: fix queue mapping when queue count is limited
  (bnc#1012628).
- nvme-tcp: fix possible null deref on a timed out io queue
  connect (bnc#1012628).
- nvme-tcp: rename function to have nvme_tcp prefix (bnc#1012628).
- mm: mmu_gather: remove __tlb_reset_range() for force flush
  (bnc#1012628).
- ocfs2: fix error path kobject memory leak (bnc#1012628).
- mlxsw: spectrum: Prevent force of 56G (bnc#1012628).
- scsi: libsas: delete sas port if expander discover failed
  (bnc#1012628).
- scsi: scsi_dh_alua: Fix possible null-ptr-deref (bnc#1012628).
- scsi: smartpqi: properly set both the DMA mask and the coherent
  DMA mask (bnc#1012628).
- scsi: libcxgbi: add a check for NULL pointer in
  cxgbi_check_route() (bnc#1012628).
- net: phy: dp83867: Set up RGMII TX delay (bnc#1012628).
- net: phy: dp83867: increase SGMII autoneg timer duration
  (bnc#1012628).
- net: phy: dp83867: fix speed 10 in sgmii mode (bnc#1012628).
- net: phylink: ensure consistent phy interface mode
  (bnc#1012628).
- blk-mq: Fix memory leak in error handling (bnc#1012628).
- net: sh_eth: fix mdio access in sh_eth_close() for R-Car Gen2
  and RZ/A1 SoCs (bnc#1012628).
- arm64: use the correct function type for __arm64_sys_ni_syscall
  (bnc#1012628).
- arm64: use the correct function type in SYSCALL_DEFINE0
  (bnc#1012628).
- arm64: fix syscall_fn_t type (bnc#1012628).
- ALSA: fireface: Use ULL suffixes for 64-bit constants
  (bnc#1012628).
- KVM: PPC: Book3S HV: Don't take kvm->lock around
  kvm_for_each_vcpu (bnc#1012628).
- KVM: PPC: Book3S: Use new mutex to synchronize access to rtas
  token list (bnc#1012628).
- KVM: PPC: Book3S HV: Use new mutex to synchronize MMU setup
  (bnc#1012628).
- dfs_cache: fix a wrong use of kfree in flush_cache_ent()
  (bnc#1012628).
- xenbus: Avoid deadlock during suspend due to open transactions
  (bnc#1012628).
- xen/pvcalls: Remove set but not used variable (bnc#1012628).
- dpaa_eth: use only online CPU portals (bnc#1012628).
- ia64: fix build errors by exporting paddr_to_nid()
  (bnc#1012628).
- perf record: Fix s390 missing module symbol and warning for
  non-root users (bnc#1012628).
- perf namespace: Protect reading thread's namespace
  (bnc#1012628).
- s390/zcrypt: Fix wrong dispatching for control domain CPRBs
  (bnc#1012628).
- perf data: Fix 'strncat may truncate' build failure with recent
  gcc (bnc#1012628).
- configfs: Fix use-after-free when accessing sd->s_dentry
  (bnc#1012628).
- ALSA: hda - Force polling mode on CNL for fixing codec
  communication (bnc#1012628).
- i2c: dev: fix potential memory leak in i2cdev_ioctl_rdwr
  (bnc#1012628).
- net: aquantia: fix LRO with FCS error (bnc#1012628).
- net: aquantia: tx clean budget logic error (bnc#1012628).
- drm/etnaviv: lock MMU while dumping core (bnc#1012628).
- ACPI/PCI: PM: Add missing wakeup.flags.valid checks
  (bnc#1012628).
- net: tulip: de4x5: Drop redundant MODULE_DEVICE_TABLE()
  (bnc#1012628).
- dpaa2-eth: Use PTR_ERR_OR_ZERO where appropriate (bnc#1012628).
- dpaa2-eth: Fix potential spectre issue (bnc#1012628).
- io_uring: Fix __io_uring_register() false success (bnc#1012628).
- net: stmmac: dwmac-mediatek: modify csr_clk value to fix mdio
  read/write fail (bnc#1012628).
- net: stmmac: fix csr_clk can't be zero issue (bnc#1012628).
- net: stmmac: update rx tail pointer register to fix rx dma
  hang issue (bnc#1012628).
- gpio: fix gpio-adp5588 build errors (bnc#1012628).
- perf/ring-buffer: Always use {READ,WRITE}_ONCE() for
  rb->user_page data (bnc#1012628).
- perf/ring_buffer: Add ordering to rb->nest increment
  (bnc#1012628).
- perf/ring_buffer: Fix exposing a temporarily decreased data_head
  (bnc#1012628).
- x86/CPU/AMD: Don't force the CPB cap when running under a
  hypervisor (bnc#1012628).
- mISDN: make sure device name is NUL terminated (bnc#1012628).
- usb: xhci: Fix a potential null pointer dereference in
  xhci_debugfs_create_endpoint() (bnc#1012628).
- powerpc/powernv: Return for invalid IMC domain (bnc#1012628).
- clk: ti: clkctrl: Fix clkdm_clk handling (bnc#1012628).
- selftests: netfilter: missing error check when setting up veth
  interface (bnc#1012628).
- ipvs: Fix use-after-free in ip_vs_in (bnc#1012628).
- netfilter: nft_fib: Fix existence check support (bnc#1012628).
- netfilter: nf_queue: fix reinject verdict handling
  (bnc#1012628).
- perf/x86/intel/ds: Fix EVENT vs. UEVENT PEBS constraints
  (bnc#1012628).
- netfilter: nf_tables: fix oops during rule dump (bnc#1012628).
- pinctrl: intel: Clear interrupt status in mask/unmask callback
  (bnc#1012628).
- staging: wilc1000: Fix some double unlock bugs in
  wilc_wlan_cleanup() (bnc#1012628).
- Staging: vc04_services: Fix a couple error codes (bnc#1012628).
- staging: erofs: set sb->s_root to NULL when failing from
  __getname() (bnc#1012628).
- iio: imu: mpu6050: Fix FIFO layout for ICM20602 (bnc#1012628).
- net/mlx5e: Avoid detaching non-existing netdev under switchdev
  mode (bnc#1012628).
- net: correct udp zerocopy refcnt also when zerocopy only on
  append (bnc#1012628).
- net/mlx5e: Support tagged tunnel over bond (bnc#1012628).
- mlxsw: spectrum_buffers: Reduce pool size on Spectrum-2
  (bnc#1012628).
- net/mlx5e: Fix source port matching in fdb peer flow rule
  (bnc#1012628).
- mlxsw: spectrum_flower: Fix TOS matching (bnc#1012628).
- net/mlx5e: Add ndo_set_feature for uplink representor
  (bnc#1012628).
- mlxsw: spectrum_router: Refresh nexthop neighbour when it
  becomes dead (bnc#1012628).
- net/mlx5: Update pci error handler entries and command
  translation (bnc#1012628).
- net: ethtool: Allow matching on vlan DEI bit (bnc#1012628).
- net: dsa: microchip: Don't try to read stats for unused ports
  (bnc#1012628).
- net: mvpp2: prs: Use the correct helpers when removing all
  VID filters (bnc#1012628).
- net: mvpp2: prs: Fix parser range for VID filtering
  (bnc#1012628).
- geneve: Don't assume linear buffers in error handler
  (bnc#1012628).
- vxlan: Don't assume linear buffers in error handler
  (bnc#1012628).
- net/mlx5: Avoid reloading already removed devices (bnc#1012628).
- vsock/virtio: set SOCK_DONE on peer shutdown (bnc#1012628).
- tipc: purge deferredq list for each grp member in
  tipc_group_delete (bnc#1012628).
- sunhv: Fix device naming inconsistency between sunhv_console
  and sunhv_reg (bnc#1012628).
- sctp: Free cookie before we memdup a new one (bnc#1012628).
- nfc: Ensure presence of required attributes in the
  deactivate_target handler (bnc#1012628).
- net: tls, correctly account for copied bytes with multiple
  sk_msgs (bnc#1012628).
- net: openvswitch: do not free vport if register_netdevice()
  is failed (bnc#1012628).
- net: dsa: rtl8366: Fix up VLAN filtering (bnc#1012628).
- neigh: fix use-after-free read in pneigh_get_next (bnc#1012628).
- lapb: fixed leak of control-blocks (bnc#1012628).
- ipv6: flowlabel: fl6_sock_lookup() must use atomic_inc_not_zero
  (bnc#1012628).
- hv_netvsc: Set probe mode to sync (bnc#1012628).
- be2net: Fix number of Rx queues used for flow hashing
  (bnc#1012628).
- ax25: fix inconsistent lock state in ax25_destroy_timer
  (bnc#1012628).
- netfilter: nat: fix udp checksum corruption (bnc#1012628).
- commit 5fe336c

-------------------------------------------------------------------
Thu Jun 20 13:07:36 CEST 2019 - msuchanek@suse.de

- kernel-binary: rpm does not support multiline condition
- commit aceae50

-------------------------------------------------------------------
Thu Jun 20 12:40:20 CEST 2019 - msuchanek@suse.de

- kernel-binary: Use -c grep option in klp project detection.
- commit 5def2a2

-------------------------------------------------------------------
Thu Jun 20 12:10:03 CEST 2019 - msuchanek@suse.de

- kernel-binary: fix missing \
- commit 8325214

-------------------------------------------------------------------
Thu Jun 20 11:31:11 CEST 2019 - jslaby@suse.cz

- Update
  patches.kernel.org/5.1.8-025-btrfs-qgroup-Check-bg-while-resuming-relocation.patch
  (bnc#1012628 bnc#1134806).
- commit e868173

-------------------------------------------------------------------
Wed Jun 19 17:00:16 CEST 2019 - jslaby@suse.cz

- Linux 5.1.12 (bnc#1012628).
- powerpc/64s: Fix THP PMD collapse serialisation (bnc#1012628).
- powerpc: Fix kexec failure on book3s/32 (bnc#1012628).
- drm: add fallback override/firmware EDID modes workaround
  (bnc#1012628).
- drm/edid: abstract override/firmware EDID retrieval
  (bnc#1012628).
- x86/resctrl: Prevent NULL pointer dereference when local MBM
  is disabled (bnc#1012628).
- x86/mm/KASLR: Compute the size of the vmemmap section properly
  (bnc#1012628).
- x86/kasan: Fix boot with 5-level paging and KASAN (bnc#1012628).
- x86/microcode, cpuhotplug: Add a microcode loader CPU hotplug
  callback (bnc#1012628).
- RAS/CEC: Fix binary search function (bnc#1012628).
- RAS/CEC: Convert the timer callback to a workqueue
  (bnc#1012628).
- timekeeping: Repair ktime_get_coarse*() granularity
  (bnc#1012628).
- tracing/uprobe: Fix NULL pointer dereference in
  trace_uprobe_create() (bnc#1012628).
- USB: serial: option: add Telit 0x1260 and 0x1261 compositions
  (bnc#1012628).
- USB: serial: option: add support for Simcom SIM7500/SIM7600
  RNDIS mode (bnc#1012628).
- USB: serial: pl2303: add Allied Telesis VT-Kit3 (bnc#1012628).
- USB: usb-storage: Add new ID to ums-realtek (bnc#1012628).
- USB: Fix chipmunk-like voice when using Logitech C270 for
  recording audio (bnc#1012628).
- usb: dwc2: host: Fix wMaxPacketSize handling (fix webcam
  regression) (bnc#1012628).
- usb: dwc2: Fix DMA cache alignment issues (bnc#1012628).
- drm/vmwgfx: NULL pointer dereference from
  vmw_cmd_dx_view_define() (bnc#1012628).
- drm/vmwgfx: integer underflow in vmw_cmd_dx_set_shader()
  leading to an invalid read (bnc#1012628).
- tools/kvm_stat: fix fields filter for child events
  (bnc#1012628).
- kvm: selftests: aarch64: fix default vm mode (bnc#1012628).
- kvm: selftests: aarch64: dirty_log_test: fix unaligned memslot
  size (bnc#1012628).
- KVM: s390: fix memory slot handling for
  KVM_SET_USER_MEMORY_REGION (bnc#1012628).
- KVM: x86/pmu: do not mask the value that is written to fixed
  PMUs (bnc#1012628).
- KVM: x86/pmu: mask the result of rdpmc according to the width
  of the counters (bnc#1012628).
- KVM: x86: do not spam dmesg with VMCS/VMCB dumps (bnc#1012628).
- KVM: LAPIC: Fix lapic_timer_advance_ns parameter overflow
  (bnc#1012628).
- kvm: vmx: Fix -Wmissing-prototypes warnings (bnc#1012628).
- KVM: selftests: Fix a condition in test_hv_cpuid()
  (bnc#1012628).
- KVM: nVMX: really fix the size checks on KVM_SET_NESTED_STATE
  (bnc#1012628).
- KVM: arm/arm64: Move cc/it checks under hyp's Makefile to
  avoid instrumentation (bnc#1012628).
- tools/io_uring: fix Makefile for pthread library link
  (bnc#1012628).
- nvme-pci: use blk-mq mapping for unmanaged irqs (bnc#1012628).
- usbnet: ipheth: fix racing condition (bnc#1012628).
- tracing: Prevent hist_field_var_ref() from accessing NULL
  tracing_map_elts (bnc#1012628).
- selftests/timers: Add missing fflush(stdout) calls
  (bnc#1012628).
- selftests: fib_rule_tests: fix local IPv4 address typo
  (bnc#1012628).
- libnvdimm: Fix compilation warnings with W=1 (bnc#1012628).
- drm/amdgpu: keep stolen memory on picasso (bnc#1012628).
- scsi: bnx2fc: fix incorrect cast to u64 on shift operation
  (bnc#1012628).
- scsi: myrs: Fix uninitialized variable (bnc#1012628).
- platform/x86: pmc_atom: Add several Beckhoff Automation boards
  to critclk_systems DMI table (bnc#1012628).
- platform/x86: pmc_atom: Add Lex 3I380D industrial PC to
  critclk_systems DMI table (bnc#1012628).
- nvme: fix memory leak for power latency tolerance (bnc#1012628).
- nvme: release namespace SRCU protection before performing
  controller ioctls (bnc#1012628).
- nvme: merge nvme_ns_ioctl into nvme_ioctl (bnc#1012628).
- nvme: remove the ifdef around nvme_nvm_ioctl (bnc#1012628).
- nvme: fix srcu locking on error return in nvme_get_ns_from_disk
  (bnc#1012628).
- nvme-pci: Fix controller freeze wait disabling (bnc#1012628).
- selftests/bpf: fix bpf_get_current_task (bnc#1012628).
- tools/bpftool: move set_max_rlimit() before
  __bpf_object__open_xattr() (bnc#1012628).
- arm64/mm: Inhibit huge-vmap with ptdump (bnc#1012628).
- bpf, tcp: correctly handle DONT_WAIT flags and timeo == 0
  (bnc#1012628).
- enetc: Fix NULL dma address unmap for Tx BD extensions
  (bnc#1012628).
- net: macb: fix error format in dev_err() (bnc#1012628).
- arm64: Print physical address of page table base in show_pte()
  (bnc#1012628).
- scsi: lpfc: add check for loss of ndlp when sending RRQ
  (bnc#1012628).
- scsi: lpfc: correct rcu unlock issue in lpfc_nvme_info_show
  (bnc#1012628).
- scsi: lpfc: resolve lockdep warnings (bnc#1012628).
- scsi: qedi: remove set but not used variables 'cdev' and 'udev'
  (bnc#1012628).
- scsi: qedi: remove memset/memcpy to nfunc and use func instead
  (bnc#1012628).
- scsi: qla2xxx: Add cleanup for PCI EEH recovery (bnc#1012628).
- bpf: sockmap fix msg->sg.size account on ingress skb
  (bnc#1012628).
- bpf: sockmap remove duplicate queue free (bnc#1012628).
- bpf: sockmap, only stop/flush strp if it was enabled at some
  point (bnc#1012628).
- drivers/perf: arm_spe: Don't error on high-order pages for
  aux buf (bnc#1012628).
- f2fs: fix to avoid accessing xattr across the boundary
  (bnc#1012628).
- Drivers: misc: fix out-of-bounds access in function
  param_set_kgdbts_var (bnc#1012628).
- Revert "ALSA: seq: Protect in-kernel ioctl calls with mutex"
  (bnc#1012628).
- ALSA: seq: Fix race of get-subscription call vs port-delete
  ioctls (bnc#1012628).
- ALSA: seq: Protect in-kernel ioctl calls with mutex
  (bnc#1012628).
- x86/uaccess, kcov: Disable stack protector (bnc#1012628).
- drm/i915/dmc: protect against reading random memory
  (bnc#1012628).
- drm/i915: Fix per-pixel alpha with CCS (bnc#1012628).
- drm/i915/dsi: Use a fuzzy check for burst mode clock check
  (bnc#1012628).
- drm/i915/sdvo: Implement proper HDMI audio support for SDVO
  (bnc#1012628).
- drm/amdgpu/{uvd,vcn}: fetch ring's read_ptr after alloc
  (bnc#1012628).
- ASoC: soc-core: fixup references at soc_cleanup_card_resources()
  (bnc#1012628).
- ASoC: fsl_asrc: Fix the issue about unsupported rate
  (bnc#1012628).
- ASoC: cs42xx8: Add regcache mask dirty (bnc#1012628).
- cgroup: Use css_tryget() instead of css_tryget_online() in
  task_get_css() (bnc#1012628).
- bcache: only set BCACHE_DEV_WB_RUNNING when cached device
  attached (bnc#1012628).
- bcache: fix stack corruption by PRECEDING_KEY() (bnc#1012628).
- i2c: acorn: fix i2c warning (bnc#1012628).
- Smack: Restore the smackfsdef mount option and add missing
  prefixes (bnc#1012628).
- iommu/arm-smmu: Avoid constant zero in TLBI writes
  (bnc#1012628).
- media: dvb: warning about dvb frequency limits produces too
  much noise (bnc#1012628).
- ptrace: restore smp_rmb() in __ptrace_may_access()
  (bnc#1012628).
- signal/ptrace: Don't leak unitialized kernel memory with
  PTRACE_PEEK_SIGINFO (bnc#1012628).
- mm/vmscan.c: fix trying to reclaim unevictable LRU page
  (bnc#1012628).
- fs/ocfs2: fix race in ocfs2_dentry_attach_lock() (bnc#1012628).
- mm/list_lru.c: fix memory leak in __memcg_init_list_lru_node
  (bnc#1012628).
- io_uring: fix memory leak of UNIX domain socket inode
  (bnc#1012628).
- libata: Extend quirks for the ST1000LM024 drives with NOLPM
  quirk (bnc#1012628).
- selinux: fix a missing-check bug in selinux_sb_eat_lsm_opts()
  (bnc#1012628).
- selinux: fix a missing-check bug in selinux_add_mnt_opt( )
  (bnc#1012628).
- selinux: log raw contexts as untrusted strings (bnc#1012628).
- ALSA: firewire-motu: fix destruction of data for isochronous
  resources (bnc#1012628).
- ALSA: hda/realtek - Update headset mode for ALC256
  (bnc#1012628).
- ALSA: ice1712: Check correct return value to snd_i2c_sendbytes
  (EWS/DMX 6Fire) (bnc#1012628).
- ALSA: oxfw: allow PCM capture for Stanton SCS.1m (bnc#1012628).
- Revert "ALSA: hda/realtek - Improve the headset mic for Acer
  Aspire laptops" (bnc#1012628).
- HID: wacom: Sync INTUOSP2_BT touch state after each frame if
  necessary (bnc#1012628).
- HID: wacom: Correct button numbering 2nd-gen Intuos Pro over
  Bluetooth (bnc#1012628).
- HID: wacom: Send BTN_TOUCH in response to INTUOSP2_BT eraser
  contact (bnc#1012628).
- HID: wacom: Don't report anything prior to the tool entering
  range (bnc#1012628).
- HID: wacom: Don't set tool type until we're in range
  (bnc#1012628).
- HID: multitouch: handle faulty Elo touch device (bnc#1012628).
- Revert "HID: Increase maximum report size allowed by
  hid_field_extract()" (bnc#1012628).
- HID: input: fix assignment of .value (bnc#1012628).
- HID: input: make sure the wheel high resolution multiplier is
  set (bnc#1012628).
- nouveau: Fix build with CONFIG_NOUVEAU_LEGACY_CTX_SUPPORT
  disabled (bnc#1012628).
- drm/nouveau: add kconfig option to turn off nouveau legacy
  contexts. (v3) (bnc#1012628).
- commit c3db4a3

-------------------------------------------------------------------
Wed Jun 19 13:07:54 CEST 2019 - mkubecek@suse.cz

- config: refresh i386/default
- commit a562f5a

-------------------------------------------------------------------
Wed Jun 19 09:21:31 CEST 2019 - jslaby@suse.cz

- Update config files.
  Enable SECURITY_YAMA to allow protection against ptrace attacks
  (bnc#1128245).
- commit fb39868

-------------------------------------------------------------------
Tue Jun 18 14:44:46 CEST 2019 - jslaby@suse.cz

- Update config files.
  Set HARDENED_USERCOPY=y (bnc#1127808). This can be disabled on the
  commandline using hardened_usercopy=n.
- commit 04b86aa

-------------------------------------------------------------------
Tue Jun 18 09:07:43 CEST 2019 - tiwai@suse.de

- config: enable CONFIG_FONT_TER16x32 for HiDPI monitors (boo#1138496)
- commit 073136d

-------------------------------------------------------------------
Mon Jun 17 22:04:53 CEST 2019 - mkubecek@suse.cz

- tcp: enforce tcp_min_snd_mss in tcp_mtu_probing()
  (CVE-2019-11479 bsc#1137586).
- tcp: add tcp_min_snd_mss sysctl (CVE-2019-11479 bsc#1137586).
- tcp: tcp_fragment() should apply sane memory limits
  (CVE-2019-11478 bsc#1137586).
- tcp: limit payload size of sacked skbs (CVE-2019-11477
  bsc#1137586).
- commit ab45ff3

-------------------------------------------------------------------
Mon Jun 17 20:12:49 CEST 2019 - jslaby@suse.cz

- Update
  patches.kernel.org/5.1.11-001-tcp-limit-payload-size-of-sacked-skbs.patch
  (bnc#1012628 bsc#1137586 CVE-2019-11477).
- Update
  patches.kernel.org/5.1.11-002-tcp-tcp_fragment-should-apply-sane-memory-limi.patch
  (bnc#1012628 bsc#1137586 CVE-2019-11477).
- Update
  patches.kernel.org/5.1.11-003-tcp-add-tcp_min_snd_mss-sysctl.patch
  (bnc#1012628 bsc#1137586 CVE-2019-11477).
- Update
  patches.kernel.org/5.1.11-004-tcp-enforce-tcp_min_snd_mss-in-tcp_mtu_probing.patch
  (bnc#1012628 bsc#1137586 CVE-2019-11477).
  Add CVE references back.
- commit fa73bae

-------------------------------------------------------------------
Mon Jun 17 20:11:12 CEST 2019 - jslaby@suse.cz

- Linux 5.1.11 (bnc#1012628).
- commit 4aff7dc

-------------------------------------------------------------------
Mon Jun 17 16:44:35 CEST 2019 - jslaby@suse.cz

- move patches from .fixes to .suse
  There is no patches.fixes in stable.
- commit ad24342

-------------------------------------------------------------------
Mon Jun 17 16:44:11 CEST 2019 - jslaby@suse.cz

- tcp: enforce tcp_min_snd_mss in tcp_mtu_probing() (bsc#1137586
  CVE-2019-11479).
- tcp: add tcp_min_snd_mss sysctl (bsc#1137586 CVE-2019-11479).
- tcp: tcp_fragment() should apply sane memory limits (bsc#1137586
  CVE-2019-11478).
- tcp: limit payload size of sacked skbs (bsc#1137586
  CVE-2019-11477).
- commit a5ec6d9

-------------------------------------------------------------------
Mon Jun 17 08:59:40 CEST 2019 - jslaby@suse.cz

- Linux 5.1.10 (bnc#1012628).
- media: rockchip/vpu: Fix/re-order probe-error/remove path
  (bnc#1012628).
- media: rockchip/vpu: Add missing dont_use_autosuspend() calls
  (bnc#1012628).
- rapidio: fix a NULL pointer dereference when create_workqueue()
  fails (bnc#1012628).
- fs/fat/file.c: issue flush after the writeback of FAT
  (bnc#1012628).
- sysctl: return -EINVAL if val violates minmax (bnc#1012628).
- ipc: prevent lockup on alloc_msg and free_msg (bnc#1012628).
- drm/msm: correct attempted NULL pointer dereference in debugfs
  (bnc#1012628).
- drm/pl111: Initialize clock spinlock early (bnc#1012628).
- mm/mprotect.c: fix compilation warning because of unused 'mm'
  variable (bnc#1012628).
- ARM: prevent tracing IPI_CPU_BACKTRACE (bnc#1012628).
- mm/hmm: select mmu notifier when selecting HMM (bnc#1012628).
- hugetlbfs: on restore reserve error path retain subpool
  reservation (bnc#1012628).
- mm/memory_hotplug: release memory resource after
  arch_remove_memory() (bnc#1012628).
- mem-hotplug: fix node spanned pages when we have a node with
  only ZONE_MOVABLE (bnc#1012628).
- mm/cma.c: fix crash on CMA allocation if bitmap allocation fails
  (bnc#1012628).
- initramfs: free initrd memory if opening /initrd.image fails
  (bnc#1012628).
- mm/compaction.c: fix an undefined behaviour (bnc#1012628).
- mm/memory_hotplug.c: fix the wrong usage of N_HIGH_MEMORY
  (bnc#1012628).
- mm/cma.c: fix the bitmap status to show failed allocation reason
  (bnc#1012628).
- mm: page_mkclean vs MADV_DONTNEED race (bnc#1012628).
- mm/cma_debug.c: fix the break condition in cma_maxchunk_get()
  (bnc#1012628).
- mm/slab.c: fix an infinite loop in leaks_show() (bnc#1012628).
- kernel/sys.c: prctl: fix false positive in validate_prctl_map()
  (bnc#1012628).
- thermal: rcar_gen3_thermal: disable interrupt in .remove
  (bnc#1012628).
- drivers: thermal: tsens: Don't print error message on
  -EPROBE_DEFER (bnc#1012628).
- mfd: tps65912-spi: Add missing of table registration
  (bnc#1012628).
- mfd: intel-lpss: Set the device in reset state when init
  (bnc#1012628).
- drm/nouveau/disp/dp: respect sink limits when selecting failsafe
  link configuration (bnc#1012628).
- mfd: twl6040: Fix device init errors for ACCCTL register
  (bnc#1012628).
- perf/x86/intel: Allow PEBS multi-entry in watermark mode
  (bnc#1012628).
- drm/nouveau/kms/gf119-gp10x: push HeadSetControlOutputResource()
  mthd when encoders change (bnc#1012628).
- drm/nouveau: fix duplication of nv50_head_atom struct
  (bnc#1012628).
- drm/bridge: adv7511: Fix low refresh rate selection
  (bnc#1012628).
- objtool: Don't use ignore flag for fake jumps (bnc#1012628).
- drm/nouveau/kms/gv100-: fix spurious window immediate interlocks
  (bnc#1012628).
- bpf: fix undefined behavior in narrow load handling
  (bnc#1012628).
- EDAC/mpc85xx: Prevent building as a module (bnc#1012628).
- pwm: meson: Use the spin-lock only to protect register
  modifications (bnc#1012628).
- mailbox: stm32-ipcc: check invalid irq (bnc#1012628).
- ntp: Allow TAI-UTC offset to be set to zero (bnc#1012628).
- f2fs: fix to avoid panic in do_recover_data() (bnc#1012628).
- f2fs: fix to avoid panic in f2fs_inplace_write_data()
  (bnc#1012628).
- f2fs: fix error path of recovery (bnc#1012628).
- f2fs: fix to avoid panic in f2fs_remove_inode_page()
  (bnc#1012628).
- f2fs: fix to do sanity check on free nid (bnc#1012628).
- f2fs: fix to clear dirty inode in error path of f2fs_iget()
  (bnc#1012628).
- f2fs: fix to avoid panic in dec_valid_block_count()
  (bnc#1012628).
- f2fs: fix to use inline space only if inline_xattr is enable
  (bnc#1012628).
- f2fs: fix to avoid panic in dec_valid_node_count()
  (bnc#1012628).
- f2fs: fix to do sanity check on valid block count of segment
  (bnc#1012628).
- f2fs: fix to avoid deadloop in foreground GC (bnc#1012628).
- f2fs: fix to retrieve inline xattr space (bnc#1012628).
- f2fs: fix to do checksum even if inode page is uptodate
  (bnc#1012628).
- media: atmel: atmel-isc: fix asd memory allocation
  (bnc#1012628).
- percpu: remove spurious lock dependency between percpu and sched
  (bnc#1012628).
- configfs: fix possible use-after-free in configfs_register_group
  (bnc#1012628).
- uml: fix a boot splat wrt use of cpu_all_mask (bnc#1012628).
- PCI: dwc: Free MSI in dw_pcie_host_init() error path
  (bnc#1012628).
- PCI: dwc: Free MSI IRQ page in dw_pcie_free_msi() (bnc#1012628).
- fbcon: Don't reset logo_shown when logo is currently shown
  (bnc#1012628).
- ovl: do not generate duplicate fsnotify events for "fake" path
  (bnc#1012628).
- mmc: mmci: Prevent polling for busy detection in IRQ context
  (bnc#1012628).
- netfilter: nf_flow_table: fix missing error check for
  rhashtable_insert_fast (bnc#1012628).
- netfilter: nf_conntrack_h323: restore boundary check correctness
  (bnc#1012628).
- mips: Make sure dt memory regions are valid (bnc#1012628).
- netfilter: nf_tables: fix base chain stat rcu_dereference usage
  (bnc#1012628).
- watchdog: imx2_wdt: Fix set_timeout for big timeout values
  (bnc#1012628).
- watchdog: fix compile time error of pretimeout governors
  (bnc#1012628).
- blk-mq: move cancel of requeue_work into blk_mq_release
  (bnc#1012628).
- iommu/vt-d: Set intel_iommu_gfx_mapped correctly (bnc#1012628).
- vfio-pci/nvlink2: Fix potential VMA leak (bnc#1012628).
- misc: pci_endpoint_test: Fix test_reg_bar to be updated in
  pci_endpoint_test (bnc#1012628).
- PCI: designware-ep: Use aligned ATU window for raising MSI
  interrupts (bnc#1012628).
- nvme-pci: unquiesce admin queue on shutdown (bnc#1012628).
- nvme-pci: shutdown on timeout during deletion (bnc#1012628).
- netfilter: nf_flow_table: check ttl value in flow offload data
  path (bnc#1012628).
- netfilter: nf_flow_table: fix netdev refcnt leak (bnc#1012628).
- ALSA: hda - Register irq handler after the chip initialization
  (bnc#1012628).
- powerpc/pseries: Track LMB nid instead of using device tree
  (bnc#1012628).
- arm64: defconfig: Update UFSHCD for Hi3660 soc (bnc#1012628).
- iommu/vt-d: Don't request page request irq under
  dmar_global_lock (bnc#1012628).
- nvmem: core: fix read buffer in place (bnc#1012628).
- nvmem: sunxi_sid: Support SID on A83T and H5 (bnc#1012628).
- fuse: retrieve: cap requested size to negotiated max_write
  (bnc#1012628).
- nfsd: allow fh_want_write to be called twice (bnc#1012628).
- nfsd: avoid uninitialized variable warning (bnc#1012628).
- vfio: Fix WARNING "do not call blocking ops when !TASK_RUNNING"
  (bnc#1012628).
- iommu/arm-smmu-v3: Don't disable SMMU in kdump kernel
  (bnc#1012628).
- switchtec: Fix unintended mask of MRPC event (bnc#1012628).
- net: thunderbolt: Unregister ThunderboltIP protocol handler
  when suspending (bnc#1012628).
- x86/PCI: Fix PCI IRQ routing table memory leak (bnc#1012628).
- soc/tegra: pmc: Remove reset sysfs entries on error
  (bnc#1012628).
- i40e: Queues are reserved despite "Invalid argument" error
  (bnc#1012628).
- power: supply: cpcap-battery: Fix signed counter sample register
  (bnc#1012628).
- platform/chrome: cros_ec_proto: check for NULL transfer function
  (bnc#1012628).
- PCI: keystone: Invoke phy_reset() API before enabling PHY
  (bnc#1012628).
- PCI: keystone: Prevent ARM32 specific code to be compiled for
  ARM64 (bnc#1012628).
- soc: mediatek: pwrap: Zero initialize rdata in pwrap_init_cipher
  (bnc#1012628).
- clk: rockchip: Turn on "aclk_dmac1" for suspend on rk3288
  (bnc#1012628).
- usb: ohci-da8xx: disable the regulator if the overcurrent irq
  fired (bnc#1012628).
- iommu/vt-d: Flush IOTLB for untrusted device in time
  (bnc#1012628).
- soc: rockchip: Set the proper PWM for rk3288 (bnc#1012628).
- arm64: dts: imx8mq: Mark iomuxc_gpr as i.MX6Q compatible
  (bnc#1012628).
- ARM: dts: imx51: Specify IMX5_CLK_IPG as "ahb" clock to SDMA
  (bnc#1012628).
- ARM: dts: imx50: Specify IMX5_CLK_IPG as "ahb" clock to SDMA
  (bnc#1012628).
- ARM: dts: imx53: Specify IMX5_CLK_IPG as "ahb" clock to SDMA
  (bnc#1012628).
- ARM: dts: imx6sx: Specify IMX6SX_CLK_IPG as "ahb" clock to SDMA
  (bnc#1012628).
- ARM: dts: imx6sll: Specify IMX6SLL_CLK_IPG as "ipg" clock to
  SDMA (bnc#1012628).
- ARM: dts: imx7d: Specify IMX7D_CLK_IPG as "ipg" clock to SDMA
  (bnc#1012628).
- ARM: dts: imx6ul: Specify IMX6UL_CLK_IPG as "ipg" clock to SDMA
  (bnc#1012628).
- ARM: dts: imx6sx: Specify IMX6SX_CLK_IPG as "ipg" clock to SDMA
  (bnc#1012628).
- ARM: dts: imx6qdl: Specify IMX6QDL_CLK_IPG as "ipg" clock to
  SDMA (bnc#1012628).
- PCI: rpadlpar: Fix leaked device_node references in add/remove
  paths (bnc#1012628).
- drm/amd/display: disable link before changing link settings
  (bnc#1012628).
- drm/amd/display: Use plane->color_space for dpp if specified
  (bnc#1012628).
- ARM: OMAP2+: pm33xx-core: Do not Turn OFF CEFUSE as PPA may
  be using it (bnc#1012628).
- pinctrl: pinctrl-intel: move gpio suspend/resume to noirq phase
  (bnc#1012628).
- platform/x86: intel_pmc_ipc: adding error handling
  (bnc#1012628).
- power: supply: max14656: fix potential use-before-alloc
  (bnc#1012628).
- f2fs: fix potential recursive call when enabling data_flush
  (bnc#1012628).
- net: hns3: return 0 and print warning when hit duplicate MAC
  (bnc#1012628).
- PCI: dwc: Remove default MSI initialization for platform
  specific MSI chips (bnc#1012628).
- PCI: rcar: Fix a potential NULL pointer dereference
  (bnc#1012628).
- PCI: rcar: Fix 64bit MSI message address handling (bnc#1012628).
- scsi: qla2xxx: Reset the FCF_ASYNC_{SENT|ACTIVE} flags
  (bnc#1012628).
- Input: goodix - add GT5663 CTP support (bnc#1012628).
- video: hgafb: fix potential NULL pointer dereference
  (bnc#1012628).
- video: imsttfb: fix potential NULL pointer dereferences
  (bnc#1012628).
- block, bfq: increase idling for weight-raised queues
  (bnc#1012628).
- PCI: xilinx: Check for __get_free_pages() failure (bnc#1012628).
- arm64: dts: qcom: qcs404: Fix regulator supply names
  (bnc#1012628).
- gpio: gpio-omap: add check for off wake capable gpios
  (bnc#1012628).
- gpio: gpio-omap: limit errata 1.101 handling to wkup domain
  gpios only (bnc#1012628).
- ice: Add missing case in print_link_msg for printing flow
  control (bnc#1012628).
- media: v4l2-ctrl: v4l2_ctrl_request_setup returns with error
  upon failure (bnc#1012628).
- batman-adv: Adjust name for batadv_dat_send_data (bnc#1012628).
- ice: Enable LAN_EN for the right recipes (bnc#1012628).
- ice: Do not set LB_EN for prune switch rules (bnc#1012628).
- dmaengine: idma64: Use actual device for DMA transfers
  (bnc#1012628).
- pwm: tiehrpwm: Update shadow register for disabling PWMs
  (bnc#1012628).
- media: v4l2-fwnode: Defaults may not override endpoint
  configuration in firmware (bnc#1012628).
- ARM: dts: exynos: Always enable necessary APIO_1V8 and ABB_1V8
  regulators on Arndale Octa (bnc#1012628).
- pwm: Fix deadlock warning when removing PWM device
  (bnc#1012628).
- ARM: exynos: Fix undefined instruction during Exynos5422 resume
  (bnc#1012628).
- usb: typec: fusb302: Check vconn is off when we start toggling
  (bnc#1012628).
- soc: renesas: Identify R-Car M3-W ES1.3 (bnc#1012628).
- ARM: shmobile: porter: enable R-Car Gen2 regulator quirk
  (bnc#1012628).
- gpio: vf610: Do not share irq_chip (bnc#1012628).
- percpu: do not search past bitmap when allocating an area
  (bnc#1012628).
- Revert "Bluetooth: Align minimum encryption key size for LE
  and BR/EDR connections" (bnc#1012628).
- Revert "drm/nouveau: add kconfig option to turn off nouveau
  legacy contexts. (v3)" (bnc#1012628).
- ovl: check the capability before cred overridden (bnc#1012628).
- ovl: support stacked SEEK_HOLE/SEEK_DATA (bnc#1012628).
- ALSA: seq: Cover unsubscribe_port() in list_mutex (bnc#1012628).
- io_uring: fix failure to verify SQ_AFF cpu (bnc#1012628).
- Refresh
  patches.suse/RFC-Bluetooth-Check-key-sizes-only-when-Secure-Simple-Pairing-is-enabled.patch.
- commit 0aa1dd8

-------------------------------------------------------------------
Sun Jun 16 23:57:23 CEST 2019 - mkubecek@suse.cz

- Update to 5.2-rc5
- Config changes:
  - Sound:
    - SND_SOC_SOF_NOCODEC_SUPPORT=n on x86, =y on ARM
  - Storage:
    - MQ_IOSCHED_DEADLINE m -> y on arm64
- commit b5857f8

-------------------------------------------------------------------
Thu Jun 13 13:55:57 CEST 2019 - msuchanek@suse.de

- Build klp-symbols in kernel devel projects.
- commit ffd0ed9

-------------------------------------------------------------------
Thu Jun 13 12:09:06 CEST 2019 - jdelvare@suse.de

- supported.conf: Enable it87_wdt and f71808e_wdt
  Both drivers are for watchdog devices included in Super-I/O chipsets
  which are popular on x86 PC mainboards. Code is clean and simple,
  so supporting them isn't a problem.
- commit b818771

-------------------------------------------------------------------
Wed Jun 12 08:08:07 CEST 2019 - jslaby@suse.cz

- Update config files.
  The previous commit did not play well. 5.1.9 is broken with =n of that
  option, so leave it as =y as it was before 5.1.9.
- commit e68f829

-------------------------------------------------------------------
Wed Jun 12 07:10:07 CEST 2019 - jslaby@suse.cz

- Update config files.
  Set CONFIG_NOUVEAU_LEGACY_CTX_SUPPORT=n, the same as master.
- commit cf58ab1

-------------------------------------------------------------------
Tue Jun 11 22:55:37 CEST 2019 - jslaby@suse.cz

- Linux 5.1.9 (bnc#1012628).
- ethtool: fix potential userspace buffer overflow (bnc#1012628).
- Fix memory leak in sctp_process_init (bnc#1012628).
- ipv4: not do cache for local delivery if bc_forwarding is
  enabled (bnc#1012628).
- ipv6: fix the check before getting the cookie in rt6_get_cookie
  (bnc#1012628).
- net: ethernet: ti: cpsw_ethtool: fix ethtool ring param set
  (bnc#1012628).
- net: mvpp2: Use strscpy to handle stat strings (bnc#1012628).
- net: rds: fix memory leak in rds_ib_flush_mr_pool (bnc#1012628).
- net: sfp: read eeprom in maximum 16 byte increments
  (bnc#1012628).
- packet: unconditionally free po->rollover (bnc#1012628).
- pktgen: do not sleep with the thread lock held (bnc#1012628).
- Revert "fib_rules: return 0 directly if an exactly same rule
  exists when NLM_F_EXCL not supplied" (bnc#1012628).
- udp: only choose unbound UDP socket for multicast when not in
  a VRF (bnc#1012628).
- ipv6: use READ_ONCE() for inet->hdrincl as in ipv4
  (bnc#1012628).
- ipv6: fix EFAULT on sendto with icmpv6 and hdrincl
  (bnc#1012628).
- net: aquantia: fix wol configuration not applied sometimes
  (bnc#1012628).
- neighbor: Reset gc_entries counter if new entry is released
  before insert (bnc#1012628).
- neighbor: Call __ipv4_neigh_lookup_noref in neigh_xmit
  (bnc#1012628).
- cls_matchall: avoid panic when receiving a packet before filter
  set (bnc#1012628).
- ipmr_base: Do not reset index in mr_table_dump (bnc#1012628).
- net/mlx4_en: ethtool, Remove unsupported SFP EEPROM high pages
  query (bnc#1012628).
- net/tls: replace the sleeping lock around RX resync with a
  bit lock (bnc#1012628).
- rcu: locking and unlocking need to always be at least barriers
  (bnc#1012628).
- habanalabs: fix debugfs code (bnc#1012628).
- ARC: mm: SIGSEGV userspace trying to access kernel virtual
  memory (bnc#1012628).
- parisc: Use implicit space register selection for loading the
  coherence index of I/O pdirs (bnc#1012628).
- parisc: Fix crash due alternative coding for NP iopdir_fdc bit
  (bnc#1012628).
- SUNRPC fix regression in umount of a secure mount (bnc#1012628).
- SUNRPC: Fix a use after free when a server rejects the
  RPCSEC_GSS credential (bnc#1012628).
- NFSv4.1: Again fix a race where CB_NOTIFY_LOCK fails to wake
  a waiter (bnc#1012628).
- NFSv4.1: Fix bug only first CB_NOTIFY_LOCK is handled
  (bnc#1012628).
- fuse: fallocate: fix return with locked inode (bnc#1012628).
- fuse: fix copy_file_range() in the writeback case (bnc#1012628).
- pstore: Set tfm to NULL on free_buf_for_compression
  (bnc#1012628).
- pstore/ram: Run without kernel crash dump region (bnc#1012628).
- kbuild: use more portable 'command -v' for cc-cross-prefix
  (bnc#1012628).
- memstick: mspro_block: Fix an error code in
  mspro_block_issue_req() (bnc#1012628).
- mmc: tmio: fix SCC error handling to avoid false positive CRC
  error (bnc#1012628).
- mmc: sdhci_am654: Fix SLOTTYPE write (bnc#1012628).
- x86/power: Fix 'nosmt' vs hibernation triple fault during resume
  (bnc#1012628).
- x86/insn-eval: Fix use-after-free access to LDT entry
  (bnc#1012628).
- i2c: xiic: Add max_read_len quirk (bnc#1012628).
- s390/mm: fix address space detection in exception handling
  (bnc#1012628).
- nvme-rdma: fix queue mapping when queue count is limited
  (bnc#1012628).
- xen-blkfront: switch kcalloc to kvcalloc for large array
  allocation (bnc#1012628).
- MIPS: Bounds check virt_addr_valid (bnc#1012628).
- MIPS: pistachio: Build uImage.gz by default (bnc#1012628).
- genwqe: Prevent an integer overflow in the ioctl (bnc#1012628).
- test_firmware: Use correct snprintf() limit (bnc#1012628).
- drm/rockchip: fix fb references in async update (bnc#1012628).
- drm/vc4: fix fb references in async update (bnc#1012628).
- drm/gma500/cdv: Check vbt config bits when detecting lvds panels
  (bnc#1012628).
- drm/msm: fix fb references in async update (bnc#1012628).
- drm: add non-desktop quirk for Valve HMDs (bnc#1012628).
- drm/nouveau: add kconfig option to turn off nouveau legacy
  contexts. (v3) (bnc#1012628).
- drm: add non-desktop quirks to Sensics and OSVR headsets
  (bnc#1012628).
- drm: Fix timestamp docs for variable refresh properties
  (bnc#1012628).
- drm/amdgpu/psp: move psp version specific function pointers
  to early_init (bnc#1012628).
- drm/radeon: prefer lower reference dividers (bnc#1012628).
- drm/amdgpu: remove ATPX_DGPU_REQ_POWER_FOR_DISPLAYS check when
  hotplug-in (bnc#1012628).
- drm/i915: Fix I915_EXEC_RING_MASK (bnc#1012628).
- drm/amdgpu/soc15: skip reset on init (bnc#1012628).
- drm/amd/display: Add ASICREV_IS_PICASSO (bnc#1012628).
- drm/amdgpu: fix ring test failure issue during s3 in vce 3.0
  (V2) (bnc#1012628).
- drm/i915/fbc: disable framebuffer compression on GeminiLake
  (bnc#1012628).
- drm/i915/gvt: emit init breadcrumb for gvt request
  (bnc#1012628).
- drm: don't block fb changes for async plane updates
  (bnc#1012628).
- drm/i915/gvt: Initialize intel_gvt_gtt_entry in stack
  (bnc#1012628).
- drm/amd: fix fb references in async update (bnc#1012628).
- ipv4: Define __ipv4_neigh_lookup_noref when CONFIG_INET is
  disabled (bnc#1012628).
- commit 8904439

-------------------------------------------------------------------
Tue Jun 11 14:08:19 CEST 2019 - jslaby@suse.cz

- Revert "drm: allow render capable master with DRM_AUTH ioctls"
  (fix radv check).
- commit 3ca4077

-------------------------------------------------------------------
Tue Jun 11 10:22:40 CEST 2019 - jslaby@suse.cz

- drm/i915: Maintain consistent documentation subsection ordering
  (fix kernel-doc).
- Delete
  patches.rpmify/Revert-doc-Cope-with-the-deprecation-of-AutoReporter.patch.
  Use usptream fix instead of revert.
- commit 4e8aae9

-------------------------------------------------------------------
Mon Jun 10 20:41:26 CEST 2019 - lduncan@suse.com

- scsi: mpt3sas_ctl: fix double-fetch bug in _ctl_ioctl_main()
  (bsc#1136922 cve-2019-12456).
- commit 0c3fc9f

-------------------------------------------------------------------
Mon Jun 10 08:33:39 CEST 2019 - jslaby@suse.cz

- Revert "doc: Cope with the deprecation of AutoReporter"
  (fix kernel-doc).
- commit 1c5c2b4

-------------------------------------------------------------------
Mon Jun 10 07:06:10 CEST 2019 - mkubecek@suse.cz

- Update to 5.2-rc4
- Eliminated 1 patch
  - patches.rpmify/mlx5-avoid-64-bit-division.patch
- Refresh configs
  - IKHEADERS_PROC -> IKHEADERS
- commit c8bdb02

-------------------------------------------------------------------
Sun Jun  9 21:03:00 CEST 2019 - jslaby@suse.cz

- Linux 5.1.8 (bnc#1012628).
- sparc64: Fix regression in non-hypervisor TLB flush xcall
  (bnc#1012628).
- include/linux/bitops.h: sanitize rotate primitives
  (bnc#1012628).
- xhci: update bounce buffer with correct sg num (bnc#1012628).
- xhci: Use %zu for printing size_t type (bnc#1012628).
- xhci: Convert xhci_handshake() to use
  readl_poll_timeout_atomic() (bnc#1012628).
- usb: xhci: avoid null pointer deref when bos field is NULL
  (bnc#1012628).
- usbip: usbip_host: fix BUG: sleeping function called from
  invalid context (bnc#1012628).
- usbip: usbip_host: fix stub_dev lock context imbalance
  regression (bnc#1012628).
- USB: Fix slab-out-of-bounds write in usb_get_bos_descriptor
  (bnc#1012628).
- USB: sisusbvga: fix oops in error path of sisusb_probe
  (bnc#1012628).
- USB: Add LPM quirk for Surface Dock GigE adapter (bnc#1012628).
- USB: rio500: refuse more than one device at a time
  (bnc#1012628).
- USB: rio500: fix memory leak in close after disconnect
  (bnc#1012628).
- media: usb: siano: Fix general protection fault in smsusb
  (bnc#1012628).
- media: usb: siano: Fix false-positive "uninitialized variable"
  warning (bnc#1012628).
- media: smsusb: better handle optional alignment (bnc#1012628).
- brcmfmac: fix NULL pointer derefence during USB disconnect
  (bnc#1012628).
- scsi: zfcp: fix missing zfcp_port reference put on -EBUSY from
  port_remove (bnc#1012628).
- scsi: zfcp: fix to prevent port_remove with pure auto scan LUNs
  (only sdevs) (bnc#1012628).
- tracing: Avoid memory leak in predicate_parse() (bnc#1012628).
- Btrfs: fix wrong ctime and mtime of a directory after log replay
  (bnc#1012628).
- Btrfs: fix race updating log root item during fsync
  (bnc#1012628).
- Btrfs: fix fsync not persisting changed attributes of a
  directory (bnc#1012628).
- btrfs: correct zstd workspace manager lock to use spin_lock_bh()
  (bnc#1012628).
- btrfs: qgroup: Check bg while resuming relocation to avoid
  NULL pointer dereference (bnc#1012628).
- Btrfs: incremental send, fix file corruption when no-holes
  feature is enabled (bnc#1012628).
- btrfs: reloc: Also queue orphan reloc tree for cleanup to
  avoid BUG_ON() (bnc#1012628).
- iio: dac: ds4422/ds4424 fix chip verification (bnc#1012628).
- iio: adc: ads124: avoid buffer overflow (bnc#1012628).
- iio: adc: modify NPCM ADC read reference voltage (bnc#1012628).
- iio: adc: ti-ads8688: fix timestamp is not updated in buffer
  (bnc#1012628).
- s390/crypto: fix gcm-aes-s390 selftest failures (bnc#1012628).
- s390/crypto: fix possible sleep during spinlock aquired
  (bnc#1012628).
- KVM: PPC: Book3S HV: XIVE: Do not clear IRQ data of passthrough
  interrupts (bnc#1012628).
- KVM: PPC: Book3S HV: Fix lockdep warning when entering guest
  on POWER9 (bnc#1012628).
- KVM: PPC: Book3S HV: Restore SPRG3 in kvmhv_p9_guest_entry()
  (bnc#1012628).
- powerpc/perf: Fix MMCRA corruption by bhrb_filter (bnc#1012628).
- powerpc/kexec: Fix loading of kernel + initramfs with
  kexec_file_load() (bnc#1012628).
- ALSA: line6: Assure canceling delayed work at disconnection
  (bnc#1012628).
- ALSA: hda/realtek - Set default power save node to 0
  (bnc#1012628).
- ALSA: hda/realtek - Improve the headset mic for Acer Aspire
  laptops (bnc#1012628).
- KVM: s390: Do not report unusabled IDs via KVM_CAP_MAX_VCPU_ID
  (bnc#1012628).
- drm/nouveau/i2c: Disable i2c bus access after ->fini()
  (bnc#1012628).
- i2c: mlxcpld: Fix wrong initialization order in probe
  (bnc#1012628).
- i2c: synquacer: fix synquacer_i2c_doxfer() return value
  (bnc#1012628).
- tty: serial: msm_serial: Fix XON/XOFF (bnc#1012628).
- tty: max310x: Fix external crystal register setup (bnc#1012628).
- mm, memcg: consider subtrees in memory.events (bnc#1012628).
- kasan: initialize tag to 0xff in __kasan_kmalloc (bnc#1012628).
- kernel/signal.c: trace_signal_deliver when signal_group_exit
  (bnc#1012628).
- signal/arm64: Use force_sig not force_sig_fault for SIGKILL
  (bnc#1012628).
- mm, compaction: make sure we isolate a valid PFN (bnc#1012628).
- arm64: Fix the arm64_personality() syscall wrapper redirection
  (bnc#1012628).
- docs: Fix conf.py for Sphinx 2.0 (bnc#1012628).
- doc: Cope with the deprecation of AutoReporter (bnc#1012628).
- doc: Cope with Sphinx logging deprecations (bnc#1012628).
- x86/ima: Check EFI_RUNTIME_SERVICES before using (bnc#1012628).
- ima: fix wrong signed policy requirement when not appraising
  (bnc#1012628).
- ima: show rules with IMA_INMASK correctly (bnc#1012628).
- evm: check hash algorithm passed to init_desc() (bnc#1012628).
- clk: imx: imx8mm: fix int pll clk gate (bnc#1012628).
- vt/fbcon: deinitialize resources in visual_init() after failed
  memory allocation (bnc#1012628).
- serial: sh-sci: disable DMA for uart_console (bnc#1012628).
- staging: vc04_services: prevent integer overflow in
  create_pagelist() (bnc#1012628).
- staging: wlan-ng: fix adapter initialization failure
  (bnc#1012628).
- cifs: fix memory leak of pneg_inbuf on -EOPNOTSUPP ioctl case
  (bnc#1012628).
- CIFS: cifs_read_allocate_pages: don't iterate through whole
  page array on ENOMEM (bnc#1012628).
- Revert "lockd: Show pid of lockd for remote locks"
  (bnc#1012628).
- gcc-plugins: Fix build failures under Darwin host (bnc#1012628).
- drm/tegra: gem: Fix CPU-cache maintenance for BO's allocated
  using get_pages() (bnc#1012628).
- drm/vmwgfx: Fix user space handle equal to zero (bnc#1012628).
- drm/vmwgfx: Fix compat mode shader operation (bnc#1012628).
- drm/vmwgfx: Don't send drm sysfs hotplug events on initial
  master set (bnc#1012628).
- drm/sun4i: Fix sun8i HDMI PHY clock initialization
  (bnc#1012628).
- drm/sun4i: Fix sun8i HDMI PHY configuration for > 148.5 MHz
  (bnc#1012628).
- drm/imx: ipuv3-plane: fix atomic update status query for
  non-plus i.MX6Q (bnc#1012628).
- drm/fb-helper: generic: Call drm_client_add() after setup is
  done (bnc#1012628).
- drm/atomic: Wire file_priv through for property changes
  (bnc#1012628).
- drm: Expose "FB_DAMAGE_CLIPS" property to atomic aware
  user-space only (bnc#1012628).
- drm/rockchip: shutdown drm subsystem on shutdown (bnc#1012628).
- drm/lease: Make sure implicit planes are leased (bnc#1012628).
- drm/cma-helper: Fix drm_gem_cma_free_object() (bnc#1012628).
- Revert "x86/build: Move _etext to actual end of .text"
  (bnc#1012628).
- x86/kprobes: Set instruction page as executable (bnc#1012628).
- commit ed4965b

-------------------------------------------------------------------
Fri Jun  7 13:15:46 CEST 2019 - mvedovati@suse.com

- rpm/post.sh: correct typo in err msg (bsc#1137625)
- commit 9fe85cc

-------------------------------------------------------------------
Thu Jun  6 07:50:21 CEST 2019 - jslaby@suse.cz

- s390: drop meaningless 'targets' from tools Makefile (s390
  kmp build fix).
- commit c8cc0ca

-------------------------------------------------------------------
Wed Jun  5 17:39:56 CEST 2019 - mvedovati@suse.com

- Enhance kvmsmall configuration (bsc#1137361)
  Add a minimal set of modules to  kvmsmall, to make this config usable
  to set up guest VMs interacting with the host.
- commit 34c4eab

-------------------------------------------------------------------
Wed Jun  5 09:51:56 CEST 2019 - mkubecek@suse.cz

- config: refresh configs
  No functional change.
- commit cbc8b7e

-------------------------------------------------------------------
Tue Jun  4 16:33:51 CEST 2019 - oneukum@suse.com

- mwifiex: Fix heap overflow in mwifiex_uap_parse_tail_ies()
  (bsc#1136935).
- commit eda4f06

-------------------------------------------------------------------
Tue Jun  4 15:22:55 CEST 2019 - oneukum@suse.com

- mwifiex: Abort at too short BSS descriptor element (bsc#1136424
  CVE-2019-3846).
- commit 1841f21

-------------------------------------------------------------------
Tue Jun  4 15:04:37 CEST 2019 - oneukum@suse.com

- mwifiex: Fix possible buffer overflows at parsing bss descriptor
- commit 3972810

-------------------------------------------------------------------
Tue Jun  4 10:18:35 CEST 2019 - jslaby@suse.cz

- Update config files.
  Enable CRASH_DUMP and RELOCATABLE on ppc64le to be on par with the
  other archs and to allow for kdump (bnc#1135217).
- commit a6a9f0e

-------------------------------------------------------------------
Tue Jun  4 09:56:38 CEST 2019 - jslaby@suse.cz

- Linux 5.1.7 (bnc#1012628).
- tipc: fix modprobe tipc failed after switch order of device
  registration (bnc#1012628).
- Revert "tipc: fix modprobe tipc failed after switch order of
  device registration" (bnc#1012628).
- crypto: vmx - ghash: do nosimd fallback manually (bnc#1012628).
- net: correct zerocopy refcnt with udp MSG_MORE (bnc#1012628).
- cxgb4: Revert "cxgb4: Remove SGE_HOST_PAGE_SIZE dependency on
  page size" (bnc#1012628).
- net/tls: don't ignore netdev notifications if no TLS features
  (bnc#1012628).
- net/tls: fix state removal with feature flags off (bnc#1012628).
- selftests/tls: add test for sleeping even though there is data
  (bnc#1012628).
- net/tls: fix no wakeup on partial reads (bnc#1012628).
- selftests/tls: test for lowat overshoot with multiple records
  (bnc#1012628).
- net/tls: fix lowat calculation if some data came from previous
  record (bnc#1012628).
- bnxt_en: Reduce memory usage when running in kdump kernel
  (bnc#1012628).
- bnxt_en: Fix possible BUG() condition when calling
  pci_disable_msix() (bnc#1012628).
- bnxt_en: Fix aggregation buffer leak under OOM condition
  (bnc#1012628).
- net: stmmac: dma channel control register need to be init first
  (bnc#1012628).
- net: stmmac: fix ethtool flow control not able to get/set
  (bnc#1012628).
- net/mlx5e: Disable rxhash when CQE compress is enabled
  (bnc#1012628).
- net/mlx5: Allocate root ns memory using kzalloc to match kfree
  (bnc#1012628).
- tipc: Avoid copying bytes beyond the supplied data
  (bnc#1012628).
- net/mlx5: Avoid double free in fs init error unwinding path
  (bnc#1012628).
- usbnet: fix kernel crash after disconnect (bnc#1012628).
- r8169: fix MAC address being lost in PCI D3 (bnc#1012628).
- net: stmmac: fix reset gpio free missing (bnc#1012628).
- net: sched: don't use tc_action->order during action dump
  (bnc#1012628).
- net: phy: marvell10g: report if the PHY fails to boot firmware
  (bnc#1012628).
- net: mvpp2: fix bad MVPP2_TXQ_SCHED_TOKEN_CNTR_REG queue value
  (bnc#1012628).
- net: mvneta: Fix err code path of probe (bnc#1012628).
- net-gro: fix use-after-free read in napi_gro_frags()
  (bnc#1012628).
- net: fec: fix the clk mismatch in failed_reset path
  (bnc#1012628).
- net: dsa: mv88e6xxx: fix handling of upper half of
  STATS_TYPE_PORT (bnc#1012628).
- mlxsw: spectrum_acl: Avoid warning after identical rules
  insertion (bnc#1012628).
- llc: fix skb leak in llc_build_and_send_ui_pkt() (bnc#1012628).
- ipv6: Fix redirect with VRF (bnc#1012628).
- ipv6: Consider sk_bound_dev_if when binding a raw socket to
  an address (bnc#1012628).
- ipv4/igmp: fix build error if !CONFIG_IP_MULTICAST
  (bnc#1012628).
- ipv4/igmp: fix another memory leak in igmpv3_del_delrec()
  (bnc#1012628).
- inet: switch IP ID generator to siphash (bnc#1012628).
- ethtool: Check for vlan etype or vlan tci when parsing flow_rule
  (bnc#1012628).
- cxgb4: offload VLAN flows regardless of VLAN ethtype
  (bnc#1012628).
- bonding/802.3ad: fix slave link initialization transition states
  (bnc#1012628).
- commit 55f2451

-------------------------------------------------------------------
Mon Jun  3 08:02:40 CEST 2019 - mkubecek@suse.cz

- Update to 5.2-rc3
- Eliminated 1 patch
  - patches.suse/kvm-memunmap-also-needs-HAS_IOMEM.patch
- commit 038ee83

-------------------------------------------------------------------
Mon Jun  3 07:27:42 CEST 2019 - jslaby@suse.cz

- Refresh
  patches.suse/memcg-make-it-work-on-sparse-non-0-node-systems.patch.
  Update upstream status.
- commit 2e484d7

-------------------------------------------------------------------
Fri May 31 20:31:30 CEST 2019 - jslaby@suse.cz

- Linux 5.1.6 (bnc#1012628).
- x86: Hide the int3_emulate_call/jmp functions from UML
  (bnc#1012628).
- ext4: do not delete unlinked inode from orphan list on failed
  truncate (bnc#1012628).
- ext4: wait for outstanding dio during truncate in nojournal mode
  (bnc#1012628).
- KVM: x86: fix return value for reserved EFER (bnc#1012628).
- bio: fix improper use of smp_mb__before_atomic() (bnc#1012628).
- sbitmap: fix improper use of smp_mb__before_atomic()
  (bnc#1012628).
- Revert "scsi: sd: Keep disk read-only when re-reading partition"
  (bnc#1012628).
- crypto: hash - fix incorrect HASH_MAX_DESCSIZE (bnc#1012628).
- crypto: vmx - CTR: always increment IV as quadword
  (bnc#1012628).
- mmc: sdhci-iproc: cygnus: Set NO_HISPD bit to fix HS50 data
  hold time problem (bnc#1012628).
- mmc: sdhci-iproc: Set NO_HISPD bit to fix HS50 data hold time
  problem (bnc#1012628).
- tracing: Add a check_val() check before updating cond_snapshot()
  track_val (bnc#1012628).
- dax: Arrange for dax_supported check to span multiple devices
  (bnc#1012628).
- kvm: Check irqchip mode before assign irqfd (bnc#1012628).
- kvm: svm/avic: fix off-by-one in checking host APIC ID
  (bnc#1012628).
- KVM: nVMX: Fix using __this_cpu_read() in preemptible context
  (bnc#1012628).
- libnvdimm/pmem: Bypass CONFIG_HARDENED_USERCOPY overhead
  (bnc#1012628).
- arm64/kernel: kaslr: reduce module randomization range to 2 GB
  (bnc#1012628).
- arm64: Kconfig: Make ARM64_PSEUDO_NMI depend on BROKEN for now
  (bnc#1012628).
- arm64/iommu: handle non-remapped addresses in ->mmap and
  ->get_sgtable (bnc#1012628).
- gfs2: Fix sign extension bug in gfs2_update_stats (bnc#1012628).
- btrfs: don't double unlock on error in btrfs_punch_hole
  (bnc#1012628).
- btrfs: Check the compression level before getting a workspace
  (bnc#1012628).
- Btrfs: do not abort transaction at btrfs_update_root() after
  failure to COW path (bnc#1012628).
- Btrfs: avoid fallback to transaction commit during fsync of
  files with holes (bnc#1012628).
- Btrfs: fix race between ranged fsync and writeback of adjacent
  ranges (bnc#1012628).
- btrfs: sysfs: Fix error path kobject memory leak (bnc#1012628).
- btrfs: sysfs: don't leak memory when failing add fsid
  (bnc#1012628).
- fbdev: fix divide error in fb_var_to_videomode (bnc#1012628).
- arm64: errata: Add workaround for Cortex-A76 erratum #1463225
  (bnc#1012628).
- ovl: relax WARN_ON() for overlapping layers use case
  (bnc#1012628).
- fbdev: fix WARNING in __alloc_pages_nodemask bug (bnc#1012628).
- media: cpia2: Fix use-after-free in cpia2_exit (bnc#1012628).
- media: serial_ir: Fix use-after-free in serial_ir_init_module
  (bnc#1012628).
- media: vb2: add waiting_in_dqbuf flag (bnc#1012628).
- media: vivid: use vfree() instead of kfree() for dev->bitmap_cap
  (bnc#1012628).
- ssb: Fix possible NULL pointer dereference in
  ssb_host_pcmcia_exit (bnc#1012628).
- bpf: devmap: fix use-after-free Read in __dev_map_entry_free
  (bnc#1012628).
- batman-adv: mcast: fix multicast tt/tvlv worker locking
  (bnc#1012628).
- at76c50x-usb: Don't register led_trigger if usb_register_driver
  failed (bnc#1012628).
- acct_on(): don't mess with freeze protection (bnc#1012628).
- netfilter: ctnetlink: Resolve conntrack L3-protocol flush
  regression (bnc#1012628).
- Revert "btrfs: Honour FITRIM range constraints during free
  space trim" (bnc#1012628).
- gfs2: Fix lru_count going negative (bnc#1012628).
- cxgb4: Fix error path in cxgb4_init_module (bnc#1012628).
- afs: Fix getting the afs.fid xattr (bnc#1012628).
- NFS: make nfs_match_client killable (bnc#1012628).
- gfs2: fix race between gfs2_freeze_func and unmount
  (bnc#1012628).
- io_uring: use cpu_online() to check p->sq_thread_cpu instead
  of cpu_possible() (bnc#1012628).
- IB/hfi1: Fix WQ_MEM_RECLAIM warning (bnc#1012628).
- gfs2: Fix occasional glock use-after-free (bnc#1012628).
- mmc: core: Verify SD bus width (bnc#1012628).
- tools/bpf: fix perf build error with uClibc (seen on ARC)
  (bnc#1012628).
- i40e: Fix of memory leak and integer truncation in
  i40e_virtchnl.c (bnc#1012628).
- libbpf: fix invalid munmap call (bnc#1012628).
- selftests/bpf: set RLIMIT_MEMLOCK properly for
  test_libbpf_open.c (bnc#1012628).
- bpftool: exclude bash-completion/bpftool from .gitignore pattern
  (bnc#1012628).
- ice: Separate if conditions for ice_set_features()
  (bnc#1012628).
- ice: Preserve VLAN Rx stripping settings (bnc#1012628).
- blk-mq: split blk_mq_alloc_and_init_hctx into two parts
  (bnc#1012628).
- blk-mq: grab .q_usage_counter when queuing request from plug
  code path (bnc#1012628).
- dmaengine: tegra210-dma: free dma controller in remove()
  (bnc#1012628).
- net: ena: gcc 8: fix compilation warning (bnc#1012628).
- net: ena: fix: set freed objects to NULL to avoid failing
  future allocations (bnc#1012628).
- hv_netvsc: fix race that may miss tx queue wakeup (bnc#1012628).
- Bluetooth: Ignore CC events not matching the last HCI command
  (bnc#1012628).
- pinctrl: zte: fix leaked of_node references (bnc#1012628).
- ASoC: Intel: kbl_da7219_max98357a: Map BTN_0 to KEY_PLAYPAUSE
  (bnc#1012628).
- usb: dwc2: gadget: Increase descriptors count for ISOC's
  (bnc#1012628).
- usb: dwc3: move synchronize_irq() out of the spinlock protected
  block (bnc#1012628).
- usb: gadget: f_fs: don't free buffer prematurely (bnc#1012628).
- ASoC: hdmi-codec: unlock the device on startup errors
  (bnc#1012628).
- powerpc/perf: Return accordingly on invalid chip-id in
  (bnc#1012628).
- powerpc/boot: Fix missing check of lseek() return value
  (bnc#1012628).
- powerpc/perf: Fix loop exit condition in nest_imc_event_init
  (bnc#1012628).
- spi: atmel-quadspi: fix crash while suspending (bnc#1012628).
- ASoC: imx: fix fiq dependencies (bnc#1012628).
- spi: pxa2xx: fix SCR (divisor) calculation (bnc#1012628).
- net/mlx5: E-Switch, Use atomic rep state to serialize state
  change (bnc#1012628).
- brcm80211: potential NULL dereference in
  brcmf_cfg80211_vndr_cmds_dcmd_handler() (bnc#1012628).
- ACPI / property: fix handling of data_nodes in
  acpi_get_next_subnode() (bnc#1012628).
- drm/nouveau/bar/nv50: ensure BAR is mapped (bnc#1012628).
- media: stm32-dcmi: return appropriate error codes during probe
  (bnc#1012628).
- ARM: vdso: Remove dependency with the arch_timer driver
  internals (bnc#1012628).
- arm64: Fix compiler warning from pte_unmap() with
  -Wunused-but-set-variable (bnc#1012628).
- mt76: remove mt76_queue dependency from tx_queue_skb function
  pointer (bnc#1012628).
- x86/ftrace: Set trampoline pages as executable (bnc#1012628).
- powerpc/watchdog: Use hrtimers for per-CPU heartbeat
  (bnc#1012628).
- cpufreq: Fix kobject memleak (bnc#1012628).
- scsi: qla2xxx: Fix a qla24xx_enable_msix() error path
  (bnc#1012628).
- scsi: qla2xxx: Fix abort handling in tcm_qla2xxx_write_pending()
  (bnc#1012628).
- scsi: qla2xxx: Avoid that lockdep complains about unsafe
  locking in tcm_qla2xxx_close_session() (bnc#1012628).
- scsi: qla2xxx: Fix hardirq-unsafe locking (bnc#1012628).
- x86/modules: Avoid breaking W^X while loading modules
  (bnc#1012628).
- Btrfs: fix data bytes_may_use underflow with fallocate due to
  failed quota reserve (bnc#1012628).
- btrfs: fix panic during relocation after ENOSPC before writeback
  happens (bnc#1012628).
- btrfs: Don't panic when we can't find a root key (bnc#1012628).
- iwlwifi: pcie: don't crash on invalid RX interrupt
  (bnc#1012628).
- rtc: 88pm860x: prevent use-after-free on device remove
  (bnc#1012628).
- rtc: stm32: manage the get_irq probe defer case (bnc#1012628).
- scsi: qedi: Abort ep termination if offload not scheduled
  (bnc#1012628).
- s390/kexec_file: Fix detection of text segment in ELF loader
  (bnc#1012628).
- ALSA: hda: fix unregister device twice on ASoC driver
  (bnc#1012628).
- sched/nohz: Run NOHZ idle load balancer on HK_FLAG_MISC CPUs
  (bnc#1012628).
- net: ethernet: ti: cpsw: fix allmulti cfg in dual_mac mode
  (bnc#1012628).
- w1: fix the resume command API (bnc#1012628).
- net: hns3: fix pause configure fail problem (bnc#1012628).
- net: hns3: fix for TX clean num when cleaning TX BD
  (bnc#1012628).
- net: phy: improve genphy_soft_reset (bnc#1012628).
- s390: qeth: address type mismatch warning (bnc#1012628).
- arm64: futex: Fix FUTEX_WAKE_OP atomic ops with non-zero result
  value (bnc#1012628).
- net: hns3: use atomic_t replace u32 for arq's count
  (bnc#1012628).
- dmaengine: pl330: _stop: clear interrupt status (bnc#1012628).
- mac80211/cfg80211: update bss channel on channel switch
  (bnc#1012628).
- drm: prefix header search paths with $(srctree)/ (bnc#1012628).
- libbpf: fix samples/bpf build failure due to undefined
  UINT32_MAX (bnc#1012628).
- slimbus: fix a potential NULL pointer dereference in
  of_qcom_slim_ngd_register (bnc#1012628).
- regulator: core: Actually put the gpiod after use (bnc#1012628).
- ASoC: fsl_sai: Update is_slave_mode with correct value
  (bnc#1012628).
- Fix nfs4.2 return -EINVAL when do dedupe operation
  (bnc#1012628).
- mwifiex: prevent an array overflow (bnc#1012628).
- rsi: Fix NULL pointer dereference in kmalloc (bnc#1012628).
- net: cw1200: fix a NULL pointer dereference (bnc#1012628).
- nvme: set 0 capacity if namespace block size exceeds PAGE_SIZE
  (bnc#1012628).
- nvme-rdma: fix a NULL deref when an admin connect times out
  (bnc#1012628).
- nvme-tcp: fix a NULL deref when an admin connect times out
  (bnc#1012628).
- crypto: sun4i-ss - Fix invalid calculation of hash end
  (bnc#1012628).
- bcache: avoid potential memleak of list of journal_replay(s)
  in the CACHE_SYNC branch of run_cache_set (bnc#1012628).
- bcache: return error immediately in bch_journal_replay()
  (bnc#1012628).
- bcache: fix failure in journal relplay (bnc#1012628).
- bcache: add failure check to run_cache_set() for journal replay
  (bnc#1012628).
- bcache: avoid clang -Wunintialized warning (bnc#1012628).
- RDMA/cma: Consider scope_id while binding to ipv6 ll address
  (bnc#1012628).
- vfio-ccw: Do not call flush_workqueue while holding the spinlock
  (bnc#1012628).
- vfio-ccw: Release any channel program when releasing/removing
  vfio-ccw mdev (bnc#1012628).
- x86/build: Move _etext to actual end of .text (bnc#1012628).
- smpboot: Place the __percpu annotation correctly (bnc#1012628).
- x86/uaccess: Dont leak the AC flag into __put_user() argument
  evaluation (bnc#1012628).
- x86/mm: Remove in_nmi() warning from 64-bit implementation of
  vmalloc_fault() (bnc#1012628).
- mm/uaccess: Use 'unsigned long' to placate UBSAN warnings on
  older GCC versions (bnc#1012628).
- Bluetooth: hci_qca: Fix crash with non-serdev devices
  (bnc#1012628).
- Bluetooth: hci_qca: Give enough time to ROME controller to
  bootup (bnc#1012628).
- Bluetooth: btbcm: Add default address for BCM43341B
  (bnc#1012628).
- Bluetooth: mediatek: Fixed incorrect type in assignment
  (bnc#1012628).
- HID: logitech-hidpp: use RAP instead of FAP to get the protocol
  version (bnc#1012628).
- pinctrl: pistachio: fix leaked of_node references (bnc#1012628).
- pinctrl: st: fix leaked of_node references (bnc#1012628).
- pinctrl: samsung: fix leaked of_node references (bnc#1012628).
- clk: rockchip: undo several noc and special clocks as critical
  on rk3288 (bnc#1012628).
- perf/arm-cci: Remove broken race mitigation (bnc#1012628).
- dmaengine: at_xdmac: remove BUG_ON macro in tasklet
  (bnc#1012628).
- media: coda: clear error return value before picture run
  (bnc#1012628).
- media: ov6650: Move v4l2_clk_get() to ov6650_video_probe()
  helper (bnc#1012628).
- media: au0828: stop video streaming only when last user stops
  (bnc#1012628).
- media: ov2659: make S_FMT succeed even if requested format
  doesn't match (bnc#1012628).
- audit: fix a memory leak bug (bnc#1012628).
- media: stm32-dcmi: fix crash when subdev do not expose any
  formats (bnc#1012628).
- media: au0828: Fix NULL pointer dereference in
  au0828_analog_stream_enable() (bnc#1012628).
- media: pvrusb2: Prevent a buffer overflow (bnc#1012628).
- iio: adc: stm32-dfsdm: fix unmet direct dependencies detected
  (bnc#1012628).
- block: fix use-after-free on gendisk (bnc#1012628).
- powerpc/numa: improve control of topology updates (bnc#1012628).
- powerpc/64: Fix booting large kernels with STRICT_KERNEL_RWX
  (bnc#1012628).
- random: fix CRNG initialization when random.trust_cpu=1
  (bnc#1012628).
- random: add a spinlock_t to struct batched_entropy
  (bnc#1012628).
- cgroup: protect cgroup->nr_(dying_)descendants by css_set_lock
  (bnc#1012628).
- sched/core: Check quota and period overflow at usec to nsec
  conversion (bnc#1012628).
- sched/rt: Check integer overflow at usec to nsec conversion
  (bnc#1012628).
- sched/core: Handle overflow in cpu_shares_write_u64
  (bnc#1012628).
- staging: vc04_services: handle kzalloc failure (bnc#1012628).
- drm/msm/dpu: release resources on modeset failure (bnc#1012628).
- drm/msm: a5xx: fix possible object reference leak (bnc#1012628).
- drm/msm: dpu: Don't set frame_busy_mask for async updates
  (bnc#1012628).
- drm/msm: Fix NULL pointer dereference (bnc#1012628).
- irq_work: Do not raise an IPI when queueing work on the local
  CPU (bnc#1012628).
- thunderbolt: Take domain lock in switch sysfs attribute
  callbacks (bnc#1012628).
- s390/qeth: handle error from qeth_update_from_chp_desc()
  (bnc#1012628).
- USB: core: Don't unbind interfaces following device reset
  failure (bnc#1012628).
- x86/irq/64: Limit IST stack overflow check to #DB stack
  (bnc#1012628).
- drm: etnaviv: avoid DMA API warning when importing buffers
  (bnc#1012628).
- dt-bindings: phy-qcom-qmp: Add UFS PHY reset (bnc#1012628).
- phy: sun4i-usb: Make sure to disable PHY0 passby for peripheral
  mode (bnc#1012628).
- phy: mapphone-mdm6600: add gpiolib dependency (bnc#1012628).
- phy: ti: usb2: fix OMAP_CONTROL_PHY dependency (bnc#1012628).
- dpaa2-eth: Fix Rx classification status (bnc#1012628).
- i40e: Able to add up to 16 MAC filters on an untrusted VF
  (bnc#1012628).
- i40e: don't allow changes to HW VLAN stripping on active port
  VLANs (bnc#1012628).
- ACPI/IORT: Reject platform device creation on NUMA node mapping
  failure (bnc#1012628).
- arm64: vdso: Fix clock_getres() for CLOCK_REALTIME
  (bnc#1012628).
- RDMA/cxgb4: Fix null pointer dereference on alloc_skb failure
  (bnc#1012628).
- fscrypt: use READ_ONCE() to access ->i_crypt_info (bnc#1012628).
- perf/x86/msr: Add Icelake support (bnc#1012628).
- perf/x86/intel/rapl: Add Icelake support (bnc#1012628).
- perf/x86/intel/cstate: Add Icelake support (bnc#1012628).
- PM / devfreq: Fix static checker warning in
  try_then_request_governor (bnc#1012628).
- hwmon: (vt1211) Use request_muxed_region for Super-IO accesses
  (bnc#1012628).
- hwmon: (smsc47m1) Use request_muxed_region for Super-IO accesses
  (bnc#1012628).
- hwmon: (smsc47b397) Use request_muxed_region for Super-IO
  accesses (bnc#1012628).
- hwmon: (pc87427) Use request_muxed_region for Super-IO accesses
  (bnc#1012628).
- hwmon: (f71805f) Use request_muxed_region for Super-IO accesses
  (bnc#1012628).
- scsi: libsas: Do discovery on empty PHY to update PHY info
  (bnc#1012628).
- mmc: core: make pwrseq_emmc (partially) support sleepy GPIO
  controllers (bnc#1012628).
- mmc_spi: add a status check for spi_sync_locked (bnc#1012628).
- mmc: sdhci-of-esdhc: add erratum eSDHC5 support (bnc#1012628).
- mmc: sdhci-of-esdhc: add erratum A-009204 support (bnc#1012628).
- mmc: sdhci-of-esdhc: add erratum eSDHC-A001 and A-008358 support
  (bnc#1012628).
- net: hns3: free the pending skb when clean RX ring
  (bnc#1012628).
- drm/amdgpu: fix old fence check in amdgpu_fence_emit
  (bnc#1012628).
- PM / core: Propagate dev->power.wakeup_path when no callbacks
  (bnc#1012628).
- clk: rockchip: Fix video codec clocks on rk3288 (bnc#1012628).
- extcon: arizona: Disable mic detect if running when driver is
  removed (bnc#1012628).
- clk: rockchip: Make rkpwm a critical clock on rk3288
  (bnc#1012628).
- clk: zynqmp: fix check for fractional clock (bnc#1012628).
- s390: zcrypt: initialize variables before_use (bnc#1012628).
- x86/microcode: Fix the ancient deprecated microcode loading
  method (bnc#1012628).
- drm/amd/display: Initialize stream_update with memset
  (bnc#1012628).
- s390/mm: silence compiler warning when compiling without
  CONFIG_PGSTE (bnc#1012628).
- s390: cio: fix cio_irb declaration (bnc#1012628).
- drm/amd/display: use proper formula to calculate bandwidth
  from timing (bnc#1012628).
- selftests: cgroup: fix cleanup path in
  test_memcg_subtree_control() (bnc#1012628).
- net: hns3: fix keep_alive_timer not stop problem (bnc#1012628).
- qmi_wwan: Add quirk for Quectel dynamic config (bnc#1012628).
- net: hns3: add error handler for initializing command queue
  (bnc#1012628).
- cpufreq: ppc_cbe: fix possible object reference leak
  (bnc#1012628).
- cpufreq/pasemi: fix possible object reference leak
  (bnc#1012628).
- cpufreq: pmac32: fix possible object reference leak
  (bnc#1012628).
- cpufreq: kirkwood: fix possible object reference leak
  (bnc#1012628).
- cpufreq: imx6q: fix possible object reference leak
  (bnc#1012628).
- cpufreq: ap806: fix possible object reference leak
  (bnc#1012628).
- block: sed-opal: fix IOC_OPAL_ENABLE_DISABLE_MBR (bnc#1012628).
- habanalabs: prevent device PTE read/write during hard-reset
  (bnc#1012628).
- habanalabs: all FD must be closed before removing device
  (bnc#1012628).
- samples/bpf: fix build with new clang (bnc#1012628).
- x86/build: Keep local relocations with ld.lld (bnc#1012628).
- spi: Don't call spi_get_gpio_descs() before device name is set
  (bnc#1012628).
- regulator: core: Avoid potential deadlock on
  regulator_unregister (bnc#1012628).
- ASoC: core: remove link components before cleaning up card
  resources (bnc#1012628).
- drm/pl111: fix possible object reference leak (bnc#1012628).
- iio: ad_sigma_delta: Properly handle SPI bus locking vs CS
  assertion (bnc#1012628).
- iio: hmc5843: fix potential NULL pointer dereferences
  (bnc#1012628).
- iio: common: ssp_sensors: Initialize calculated_time in
  ssp_common_process_data (bnc#1012628).
- iio: adc: ti-ads7950: Fix improper use of mlock (bnc#1012628).
- net: hns3: check resetting status in hns3_get_stats()
  (bnc#1012628).
- net: hns3: add protect when handling mac addr list
  (bnc#1012628).
- selftests/bpf: ksym_search won't check symbols exists
  (bnc#1012628).
- rtlwifi: fix a potential NULL pointer dereference (bnc#1012628).
- mwifiex: Fix mem leak in mwifiex_tm_cmd (bnc#1012628).
- brcmfmac: fix missing checks for kmemdup (bnc#1012628).
- b43: shut up clang -Wuninitialized variable warning
  (bnc#1012628).
- brcmfmac: convert dev_init_lock mutex to completion
  (bnc#1012628).
- brcmfmac: fix WARNING during USB disconnect in case of unempty
  psq (bnc#1012628).
- brcmfmac: fix race during disconnect when USB completion is
  in progress (bnc#1012628).
- brcmfmac: fix Oops when bringing up interface during USB
  disconnect (bnc#1012628).
- rtc: xgene: fix possible race condition (bnc#1012628).
- spi: Add missing error handling for CS GPIOs (bnc#1012628).
- rtlwifi: fix potential NULL pointer dereference (bnc#1012628).
- scsi: ufs: Fix regulator load and icc-level configuration
  (bnc#1012628).
- scsi: ufs: Avoid configuring regulator with undefined voltage
  range (bnc#1012628).
- drm/panel: otm8009a: Add delay at the end of initialization
  (bnc#1012628).
- drm/amd/display: Prevent cursor hotspot overflow for RV overlay
  planes (bnc#1012628).
- arm64: cpu_ops: fix a leaked reference by adding missing
  of_node_put (bnc#1012628).
- locking/static_key: Fix false positive warnings on concurrent
  dec/inc (bnc#1012628).
- wil6210: fix return code of wmi_mgmt_tx and wmi_mgmt_tx_ext
  (bnc#1012628).
- x86/uaccess, ftrace: Fix ftrace_likely_update() vs. SMAP
  (bnc#1012628).
- iwlwifi: mvm: IBSS: use BE FIFO for multicast (bnc#1012628).
- x86/uaccess, signal: Fix AC=1 bloat (bnc#1012628).
- x86/ia32: Fix ia32_restore_sigcontext() AC leak (bnc#1012628).
- x86/uaccess: Fix up the fixup (bnc#1012628).
- chardev: add additional check for minor range overlap
  (bnc#1012628).
- RDMA/hns: Fix bad endianess of port_pd variable (bnc#1012628).
- sh: sh7786: Add explicit I/O cast to sh7786_mm_sel()
  (bnc#1012628).
- HID: core: move Usage Page concatenation to Main item
  (bnc#1012628).
- ASoC: eukrea-tlv320: fix a leaked reference by adding missing
  of_node_put (bnc#1012628).
- ASoC: fsl_utils: fix a leaked reference by adding missing
  of_node_put (bnc#1012628).
- ASoC: wcd9335: fix a leaked reference by adding missing
  of_node_put (bnc#1012628).
- cxgb3/l2t: Fix undefined behaviour (bnc#1012628).
- clk: renesas: rcar-gen3: Correct parent clock of SYS-DMAC
  (bnc#1012628).
- block: avoid to break XEN by multi-page bvec (bnc#1012628).
- block: pass page to xen_biovec_phys_mergeable (bnc#1012628).
- clk: renesas: rcar-gen3: Correct parent clock of Audio-DMAC
  (bnc#1012628).
- HID: logitech-hidpp: change low battery level threshold from
  31 to 30 percent (bnc#1012628).
- spi: tegra114: reset controller on probe (bnc#1012628).
- habanalabs: prevent CPU soft lockup on Palladium (bnc#1012628).
- kobject: Don't trigger kobject_uevent(KOBJ_REMOVE) twice
  (bnc#1012628).
- media: video-mux: fix null pointer dereferences (bnc#1012628).
- media: wl128x: prevent two potential buffer overflows
  (bnc#1012628).
- media: gspca: Kill URBs on USB device disconnect (bnc#1012628).
- media: mtk-vcodec: fix access to incorrect planes member
  (bnc#1012628).
- thunderbolt: property: Fix a missing check of kzalloc
  (bnc#1012628).
- thunderbolt: Fix to check the return value of kmemdup
  (bnc#1012628).
- drm: rcar-du: lvds: Set LVEN and LVRES bits together on D3
  (bnc#1012628).
- drm: rcar-du: lvds: Fix post-DLL divider calculation
  (bnc#1012628).
- timekeeping: Force upper bound for setting CLOCK_REALTIME
  (bnc#1012628).
- IB/mlx5: Compare only index part of a memory window rkey
  (bnc#1012628).
- scsi: qedf: Add missing return in qedf_post_io_req() in the
  fcport offload check (bnc#1012628).
- misc: fastrpc: consider address offset before sending to DSP
  (bnc#1012628).
- misc: fastrpc: make sure memory read and writes are visible
  (bnc#1012628).
- misc: fastrpc: Fix a possible double free (bnc#1012628).
- virtio_console: initialize vtermno value for ports
  (bnc#1012628).
- tty: ipwireless: fix missing checks for ioremap (bnc#1012628).
- staging: mt7621-mmc: Initialize completions a single time
  during probe (bnc#1012628).
- overflow: Fix -Wtype-limits compilation warnings (bnc#1012628).
- x86/mce: Fix machine_check_poll() tests for error types
  (bnc#1012628).
- rcutorture: Fix cleanup path for invalid torture_type strings
  (bnc#1012628).
- x86/mce: Handle varying MCA bank counts (bnc#1012628).
- rcuperf: Fix cleanup path for invalid perf_type strings
  (bnc#1012628).
- rcu: Do a single rhp->func read in rcu_head_after_call_rcu()
  (bnc#1012628).
- x86/platform/uv: Fix missing checks of kcalloc() return values
  (bnc#1012628).
- RDMA/rxe: Fix slab-out-bounds access which lead to kernel
  crash later (bnc#1012628).
- spi: stm32-qspi: add spi_master_put in release function
  (bnc#1012628).
- usb: core: Add PM runtime calls to usb_hcd_platform_shutdown
  (bnc#1012628).
- ice: Fix for adaptive interrupt moderation (bnc#1012628).
- scsi: qla4xxx: avoid freeing unallocated dma memory
  (bnc#1012628).
- scsi: lpfc: avoid uninitialized variable warning (bnc#1012628).
- media: vicodec: bugfix - call v4l2_m2m_buf_copy_metadata also
  if decoding fails (bnc#1012628).
- ice: Prevent unintended multiple chain resets (bnc#1012628).
- selinux: avoid uninitialized variable warning (bnc#1012628).
- batman-adv: allow updating DAT entry timeouts on incoming ARP
  Replies (bnc#1012628).
- dmaengine: tegra210-adma: use devm_clk_*() helpers
  (bnc#1012628).
- x86/CPU/hygon: Fix phys_proc_id calculation logic for multi-die
  processors (bnc#1012628).
- net/mlx5e: Fix compilation warning in en_tc.c (bnc#1012628).
- staging: mt7621-mmc: Check for nonzero number of scatterlist
  entries (bnc#1012628).
- hwrng: omap - Set default quality (bnc#1012628).
- thunderbolt: Fix to check return value of ida_simple_get
  (bnc#1012628).
- thunderbolt: Fix to check for kmemdup failure (bnc#1012628).
- spi: export tracepoint symbols to modules (bnc#1012628).
- regulator: add regulator_get_linear_step() stub helper
  (bnc#1012628).
- drm/amd/display: fix releasing planes when exiting odm
  (bnc#1012628).
- drm/amd/display: Link train only when link is DP and backend
  is enabled (bnc#1012628).
- drm/amd/display: Update ABM crtc state on non-modeset
  (bnc#1012628).
- drm/amd/display: Reset alpha state for planes to the correct
  values (bnc#1012628).
- thunderbolt: property: Fix a NULL pointer dereference
  (bnc#1012628).
- media: v4l2-fwnode: The first default data lane is 0 on C-PHY
  (bnc#1012628).
- media: ov7670: restore default settings after power-up
  (bnc#1012628).
- media: staging/intel-ipu3: mark PM function as __maybe_unused
  (bnc#1012628).
- media: vicodec: reset last_src/dst_buf based on the IS_OUTPUT
  (bnc#1012628).
- ice: Fix issue with VF reset and multiple VFs support on PFs
  (bnc#1012628).
- e1000e: Disable runtime PM on CNP+ (bnc#1012628).
- tinydrm/mipi-dbi: Use dma-safe buffers for all SPI transfers
  (bnc#1012628).
- igb: Exclude device from suspend direct complete optimization
  (bnc#1012628).
- media: si2165: fix a missing check of return value
  (bnc#1012628).
- media: dvbsky: Avoid leaking dvb frontend (bnc#1012628).
- media: m88ds3103: serialize reset messages in
  m88ds3103_set_frontend (bnc#1012628).
- drm/amd/display: add pipe lock during stream update
  (bnc#1012628).
- media: staging: davinci_vpfe: disallow building with
  COMPILE_TEST (bnc#1012628).
- drm/amd/display: Fix Divide by 0 in memory calculations
  (bnc#1012628).
- drm/amd/display: Re-add custom degamma support (bnc#1012628).
- drm/amd/display: half bandwidth for YCbCr420 during validation
  (bnc#1012628).
- drm/amd/display: Set stream->mode_changed when connectors change
  (bnc#1012628).
- scsi: ufs: fix a missing check of devm_reset_control_get
  (bnc#1012628).
- media: vimc: stream: fix thread state before sleep
  (bnc#1012628).
- media: gspca: do not resubmit URBs when streaming has stopped
  (bnc#1012628).
- media: vicodec: avoid clang frame size warning (bnc#1012628).
- media: go7007: avoid clang frame overflow warning with KASAN
  (bnc#1012628).
- media: mtk-vcodec: fix access to vb2_v4l2_buffer struct
  (bnc#1012628).
- media: imx: vdic: Restore default case to
  prepare_vdi_in_buffers() (bnc#1012628).
- media: vimc: zero the media_device on probe (bnc#1012628).
- media: vim2m: replace devm_kzalloc by kzalloc (bnc#1012628).
- media: cedrus: Add a quirk for not setting DMA offset
  (bnc#1012628).
- scsi: lpfc: Fix FDMI manufacturer attribute value (bnc#1012628).
- scsi: lpfc: Fix fc4type information for FDMI (bnc#1012628).
- scsi: lpfc: Fix io lost on host resets (bnc#1012628).
- media: saa7146: avoid high stack usage with clang (bnc#1012628).
- scsi: lpfc: Fix SLI3 commands being issued on SLI4 devices
  (bnc#1012628).
- scsi: lpfc: Fix mailbox hang on adapter init (bnc#1012628).
- scsi: lpfc: Resolve inconsistent check of hdwq in
  lpfc_scsi_cmd_iocb_cmpl (bnc#1012628).
- scsi: lpfc: Resolve irq-unsafe lockdep heirarchy warning in
  lpfc_io_free (bnc#1012628).
- scsi: lpfc: Fix use-after-free mailbox cmd completion
  (bnc#1012628).
- audit: fix a memleak caused by auditing load module
  (bnc#1012628).
- spi : spi-topcliff-pch: Fix to handle empty DMA buffers
  (bnc#1012628).
- drm: writeback: Fix leak of writeback job (bnc#1012628).
- drm/omap: dsi: Fix PM for display blank with paired dss_pll
  calls (bnc#1012628).
- drm/omap: Notify all devices in the pipeline of output
  disconnection (bnc#1012628).
- spi: rspi: Fix sequencer reset during initialization
  (bnc#1012628).
- regulator: wm831x ldo: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: wm831x isink: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: ltc3676: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: ltc3589: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: pv88060: Fix notifier mutex lock warning
  (bnc#1012628).
- spi: imx: stop buffer overflow in RX FIFO flush (bnc#1012628).
- regulator: lp8755: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: da9211: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: da9063: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: pv88080: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: wm831x: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: pv88090: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: da9062: Fix notifier mutex lock warning
  (bnc#1012628).
- regulator: da9055: Fix notifier mutex lock warning
  (bnc#1012628).
- spi: Fix zero length xfer bug (bnc#1012628).
- ASoC: davinci-mcasp: Fix clang warning without CONFIG_PM
  (bnc#1012628).
- ASoC: ti: fix davinci_mcasp_probe dependencies (bnc#1012628).
- drm/v3d: Handle errors from IRQ setup (bnc#1012628).
- drm/amd/display: Fix exception from AUX acquire failure
  (bnc#1012628).
- drm/amd/display: Reset planes that were disabled in init_pipes
  (bnc#1012628).
- drm/drv: Hold ref on parent device during drm_device lifetime
  (bnc#1012628).
- drm: Wake up next in drm_read() chain if we are forced to
  putback the event (bnc#1012628).
- drm/sun4i: dsi: Change the start delay calculation
  (bnc#1012628).
- drm/sun4i: dsi: Restrict DSI tcon clock divider (bnc#1012628).
- vfio-ccw: Prevent quiesce function going into an infinite loop
  (bnc#1012628).
- extcon: axp288: Add a depends on ACPI to the Kconfig entry
  (bnc#1012628).
- ice: Put __ICE_PREPARED_FOR_RESET check in ice_prepare_for_reset
  (bnc#1012628).
- drm/sun4i: dsi: Enforce boundaries on the start delay
  (bnc#1012628).
- NFS: Fix a double unlock from nfs_match,get_client
  (bnc#1012628).
- Update config files.
- commit 7375706

-------------------------------------------------------------------
Wed May 29 22:36:56 CEST 2019 - mkubecek@suse.cz

- config: refresh vanilla configs
- commit cbe6c1c

-------------------------------------------------------------------
Wed May 29 21:04:21 CEST 2019 - mkubecek@suse.cz

- reenable ARM architectures
- commit 194828b

-------------------------------------------------------------------
Wed May 29 21:03:47 CEST 2019 - mkubecek@suse.cz

- refresh configs after Tumbleweed switch to gcc9 as default
- commit 3b7ae7e

-------------------------------------------------------------------
Wed May 29 12:14:39 CEST 2019 - yousaf.kaukab@suse.com

- config: armv7hl: lpae: Update to v5.2.0-rc2
- commit 38ac345

-------------------------------------------------------------------
Wed May 29 12:12:44 CEST 2019 - yousaf.kaukab@suse.com

- config: armv7hl: Update to v5.2.0-rc2
- commit 737b08e

-------------------------------------------------------------------
Wed May 29 12:10:57 CEST 2019 - yousaf.kaukab@suse.com

- config: armv6hl: Update to v5.2.0-rc2
- commit c7bc712

-------------------------------------------------------------------
Tue May 28 15:25:47 CEST 2019 - yousaf.kaukab@suse.com

- config: arm64: Update to v5.2.0-rc2
- commit 18d0586

-------------------------------------------------------------------
Mon May 27 09:14:33 CEST 2019 - jslaby@suse.cz

- Update config files.
- commit 6ad4f79

-------------------------------------------------------------------
Mon May 27 07:39:13 CEST 2019 - mkubecek@suse.cz

- Update to 5.2-rc2
- Eliminated 4 patches
  - patches.suse/dm-make-sure-to-obey-max_io_len_target_boundary.patch
  - patches.suse/kvm-make-kvm_vcpu_-un-map-dependency-on-CONFIG_HAS_I.patch
  - patches.suse/vfio_pci-Add-local-source-directory-as-include.patch
  - patches.suse/x86-kvm-pmu-Set-AMD-s-virt-PMU-version-to-1.patch
- add s390x/zfcpdump build fix
  - patches.suse/kvm-memunmap-also-needs-HAS_IOMEM.patch
- commit b02c459

-------------------------------------------------------------------
Sun May 26 10:57:36 CEST 2019 - jslaby@suse.cz

- Linux 5.1.5 (bnc#1012628).
- ipv6: fix src addr routing with the exception table
  (bnc#1012628).
- ipv6: prevent possible fib6 leaks (bnc#1012628).
- net: Always descend into dsa/ (bnc#1012628).
- net: avoid weird emergency message (bnc#1012628).
- net/mlx4_core: Change the error print to info print
  (bnc#1012628).
- net: test nouarg before dereferencing zerocopy pointers
  (bnc#1012628).
- net: usb: qmi_wwan: add Telit 0x1260 and 0x1261 compositions
  (bnc#1012628).
- nfp: flower: add rcu locks when accessing netdev for tunnels
  (bnc#1012628).
- ppp: deflate: Fix possible crash in deflate_init (bnc#1012628).
- rtnetlink: always put IFLA_LINK for links with a link-netnsid
  (bnc#1012628).
- tipc: switch order of device registration to fix a crash
  (bnc#1012628).
- vsock/virtio: free packets during the socket release
  (bnc#1012628).
- tipc: fix modprobe tipc failed after switch order of device
  registration (bnc#1012628).
- mlxsw: core: Prevent QSFP module initialization for old hardware
  (bnc#1012628).
- mlxsw: core: Prevent reading unsupported slave address from
  SFP EEPROM (bnc#1012628).
- flow_offload: support CVLAN match (bnc#1012628).
- net/mlx5e: Fix calling wrong function to get inner vlan key
  and mask (bnc#1012628).
- net/mlx5: Fix peer pf disable hca command (bnc#1012628).
- vsock/virtio: Initialize core virtio vsock before registering
  the driver (bnc#1012628).
- net/mlx5e: Add missing ethtool driver info for representors
  (bnc#1012628).
- net/mlx5e: Additional check for flow destination comparison
  (bnc#1012628).
- net/mlx5: Imply MLXFW in mlx5_core (bnc#1012628).
- net/mlx5e: Fix ethtool rxfh commands when CONFIG_MLX5_EN_RXNFC
  is disabled (bnc#1012628).
- blk-mq: free hw queue's resource in hctx's release handler
  (bnc#1012628).
- regulator: core: fix error path for
  regulator_set_voltage_unlocked (bnc#1012628).
- parisc: Export running_on_qemu symbol for modules (bnc#1012628).
- parisc: Add memory clobber to TLB purges (bnc#1012628).
- parisc: Skip registering LED when running in QEMU (bnc#1012628).
- parisc: Add memory barrier to asm pdc and sync instructions
  (bnc#1012628).
- parisc: Allow live-patching of __meminit functions
  (bnc#1012628).
- parisc: Use PA_ASM_LEVEL in boot code (bnc#1012628).
- parisc: Rename LEVEL to PA_ASM_LEVEL to avoid name clash with
  DRBD code (bnc#1012628).
- stm class: Fix channel free in stm output free path
  (bnc#1012628).
- stm class: Fix channel bitmap on 32-bit systems (bnc#1012628).
- brd: re-enable __GFP_HIGHMEM in brd_insert_page() (bnc#1012628).
- proc: prevent changes to overridden credentials (bnc#1012628).
- Revert "MD: fix lock contention for flush bios" (bnc#1012628).
- md: batch flush requests (bnc#1012628).
- md: add mddev->pers to avoid potential NULL pointer dereference
  (bnc#1012628).
- md: add a missing endianness conversion in check_sb_changes
  (bnc#1012628).
- dcache: sort the freeing-without-RCU-delay mess for good
  (bnc#1012628).
- intel_th: msu: Fix single mode with IOMMU (bnc#1012628).
- p54: drop device reference count if fails to enable device
  (bnc#1012628).
- of: fix clang -Wunsequenced for be32_to_cpu() (bnc#1012628).
- brcmfmac: Add DMI nvram filename quirk for ACEPC T8 and T11
  mini PCs (bnc#1012628).
- cifs: fix credits leak for SMB1 oplock breaks (bnc#1012628).
- cifs: fix strcat buffer overflow and reduce raciness in
  smb21_set_oplock_level() (bnc#1012628).
- phy: ti-pipe3: fix missing bit-wise or operator when assigning
  val (bnc#1012628).
- media: ov6650: Fix sensor possibly not detected on probe
  (bnc#1012628).
- media: seco-cec: fix building with RC_CORE=m (bnc#1012628).
- media: imx: csi: Allow unknown nearest upstream entities
  (bnc#1012628).
- media: imx: Clear fwnode link struct for each endpoint iteration
  (bnc#1012628).
- media: imx: Rename functions that add IPU-internal subdevs
  (bnc#1012628).
- media: imx: Don't register IPU subdevs/links if CSI port missing
  (bnc#1012628).
- RDMA/mlx5: Use get_zeroed_page() for clock_info (bnc#1012628).
- RDMA/ipoib: Allow user space differentiate between valid
  dev_port (bnc#1012628).
- NFS4: Fix v4.0 client state corruption when mount (bnc#1012628).
- PNFS fallback to MDS if no deviceid found (bnc#1012628).
- clk: hi3660: Mark clk_gate_ufs_subsys as critical (bnc#1012628).
- clk: tegra: Fix PLLM programming on Tegra124+ when PMC overrides
  divider (bnc#1012628).
- clk: mediatek: Disable tuner_en before change PLL rate
  (bnc#1012628).
- clk: rockchip: fix wrong clock definitions for rk3328
  (bnc#1012628).
- udlfb: delete the unused parameter for dlfb_handle_damage
  (bnc#1012628).
- udlfb: fix sleeping inside spinlock (bnc#1012628).
- udlfb: introduce a rendering mutex (bnc#1012628).
- fuse: fix writepages on 32bit (bnc#1012628).
- fuse: honor RLIMIT_FSIZE in fuse_file_fallocate (bnc#1012628).
- ovl: fix missing upper fs freeze protection on copy up for ioctl
  (bnc#1012628).
- fsnotify: fix unlink performance regression (bnc#1012628).
- gcc-plugins: arm_ssp_per_task_plugin: Fix for older GCC < 6
  (bnc#1012628).
- iommu/tegra-smmu: Fix invalid ASID bits on Tegra30/114
  (bnc#1012628).
- ceph: flush dirty inodes before proceeding with remount
  (bnc#1012628).
- x86_64: Add gap to int3 to allow for call emulation
  (bnc#1012628).
- x86_64: Allow breakpoints to emulate call instructions
  (bnc#1012628).
- ftrace/x86_64: Emulate call function while updating in
  breakpoint handler (bnc#1012628).
- tracing: Fix partial reading of trace event's id file
  (bnc#1012628).
- tracing: probeevent: Fix to make the type of $comm string
  (bnc#1012628).
- memory: tegra: Fix integer overflow on tick value calculation
  (bnc#1012628).
- perf intel-pt: Fix instructions sampling rate (bnc#1012628).
- perf intel-pt: Fix improved sample timestamp (bnc#1012628).
- perf intel-pt: Fix sample timestamp wrt non-taken branches
  (bnc#1012628).
- MIPS: perf: Fix build with CONFIG_CPU_BMIPS5000 enabled
  (bnc#1012628).
- objtool: Allow AR to be overridden with HOSTAR (bnc#1012628).
- x86/mpx, mm/core: Fix recursive munmap() corruption
  (bnc#1012628).
- fbdev/efifb: Ignore framebuffer memmap entries that lack any
  memory types (bnc#1012628).
- fbdev: sm712fb: fix brightness control on reboot, don't set SR30
  (bnc#1012628).
- fbdev: sm712fb: fix VRAM detection, don't set SR70/71/74/75
  (bnc#1012628).
- fbdev: sm712fb: fix white screen of death on reboot, don't
  set CR3B-CR3F (bnc#1012628).
- fbdev: sm712fb: fix boot screen glitch when sm712fb replaces
  VGA (bnc#1012628).
- fbdev: sm712fb: fix crashes during framebuffer writes by
  correctly mapping VRAM (bnc#1012628).
- fbdev: sm712fb: fix support for 1024x768-16 mode (bnc#1012628).
- fbdev: sm712fb: use 1024x768 by default on non-MIPS, fix
  garbled display (bnc#1012628).
- fbdev: sm712fb: fix crashes and garbled display during DPMS
  modesetting (bnc#1012628).
- PCI: Mark AMD Stoney Radeon R7 GPU ATS as broken (bnc#1012628).
- PCI: Mark Atheros AR9462 to avoid bus reset (bnc#1012628).
- PCI: Reset Lenovo ThinkPad P50 nvgpu at boot if necessary
  (bnc#1012628).
- PCI: Init PCIe feature bits for managed host bridge alloc
  (bnc#1012628).
- PCI/AER: Change pci_aer_init() stub to return void
  (bnc#1012628).
- PCI: rcar: Add the initialization of PCIe link in resume_noirq()
  (bnc#1012628).
- PCI: Factor out pcie_retrain_link() function (bnc#1012628).
- PCI: Work around Pericom PCIe-to-PCI bridge Retrain Link erratum
  (bnc#1012628).
- dm cache metadata: Fix loading discard bitset (bnc#1012628).
- dm zoned: Fix zone report handling (bnc#1012628).
- dm init: fix max devices/targets checks (bnc#1012628).
- dm delay: fix a crash when invalid device is specified
  (bnc#1012628).
- dm crypt: move detailed message into debug level (bnc#1012628).
- dm integrity: correctly calculate the size of metadata area
  (bnc#1012628).
- dm ioctl: fix hang in early create error condition
  (bnc#1012628).
- dm mpath: always free attached_handler_name in parse_path()
  (bnc#1012628).
- fuse: Add FOPEN_STREAM to use stream_open() (bnc#1012628).
- md/raid: raid5 preserve the writeback action after the parity
  check (bnc#1012628).
- dmaengine: imx-sdma: Only check ratio on parts that support 1:1
  (bnc#1012628).
- driver core: Postpone DMA tear-down until after devres release
  for probe failure (bnc#1012628).
- bpf: relax inode permission check for retrieving bpf program
  (bnc#1012628).
- bpf: add map_lookup_elem_sys_only for lookups from syscall side
  (bnc#1012628).
- bpf, lru: avoid messing with eviction heuristics upon syscall
  lookup (bnc#1012628).
- y2038: Make CONFIG_64BIT_TIME unconditional (bnc#1012628).
- btrfs: reloc: Fix NULL pointer dereference due to expanded
  reloc_root lifespan (bnc#1012628).
- ARM: dts: imx6q-logicpd: Reduce inrush current on USBH1
  (bnc#1012628).
- ARM: dts: imx6q-logicpd: Reduce inrush current on start
  (bnc#1012628).
- fbdev: sm712fb: fix memory frequency by avoiding a switch/case
  fallthrough (bnc#1012628).
- Update config files.
- commit bde30e1

-------------------------------------------------------------------
Thu May 23 18:08:50 CEST 2019 - tiwai@suse.de

- Bluetooth: Check key sizes only when Secure Simple Pairing is
  enabled (bsc#1135556).
- commit ed1f493

-------------------------------------------------------------------
Wed May 22 18:56:35 CEST 2019 - msuchanek@suse.de

- Delete patches.suse/Revert-Bluetooth-btusb-driver-to-enable-the-usb-wake.patch (boo#1130448).
  Should be fixed in 5.1-rc5
  commit 771acc7e4a6e5dba779cb1a7fd851a164bc81033
  Author: Brian Norris <briannorris@chromium.org>
  Date:   Tue Apr 9 11:49:17 2019 -0700
    Bluetooth: btusb: request wake pin with NOAUTOEN
- commit 817786b

-------------------------------------------------------------------
Wed May 22 13:11:40 CEST 2019 - jslaby@suse.cz

- Update config files.
- commit 0739fa4

-------------------------------------------------------------------
Wed May 22 09:23:31 CEST 2019 - jslaby@suse.cz

- dm: make sure to obey max_io_len_target_boundary (bnc#1135868).
- commit dbeb07c

-------------------------------------------------------------------
Wed May 22 08:01:07 CEST 2019 - jslaby@suse.cz

- Linux 5.1.4 (bnc#1012628).
- s390/mm: convert to the generic get_user_pages_fast code
  (bnc#1012628).
- s390/mm: make the pxd_offset functions more robust
  (bnc#1012628).
- libnvdimm/namespace: Fix label tracking error (bnc#1012628).
- powerpc/32s: fix flush_hash_pages() on SMP (bnc#1012628).
- xen/pvh: correctly setup the PV EFI interface for dom0
  (bnc#1012628).
- xen/pvh: set xen_domain_type to HVM in xen_pvh_init
  (bnc#1012628).
- kbuild: turn auto.conf.cmd into a mandatory include file
  (bnc#1012628).
- smb3: display session id in debug data (bnc#1012628).
- KVM: lapic: Busy wait for timer to expire when using hv_timer
  (bnc#1012628).
- KVM: x86: Skip EFER vs. guest CPUID checks for host-initiated
  writes (bnc#1012628).
- KVM: Fix the bitmap range to copy during clear dirty
  (bnc#1012628).
- Revert "KVM: nVMX: Expose RDPMC-exiting only when guest supports
  PMU" (bnc#1012628).
- jbd2: fix potential double free (bnc#1012628).
- ALSA: hda/realtek - Fix for Lenovo B50-70 inverted internal
  microphone bug (bnc#1012628).
- ALSA: hda/realtek - Fixup headphone noise via runtime suspend
  (bnc#1012628).
- ALSA: hda/realtek - Corrected fixup for System76 Gazelle
  (gaze14) (bnc#1012628).
- ext4: avoid panic during forced reboot due to aborted journal
  (bnc#1012628).
- ext4: fix use-after-free in dx_release() (bnc#1012628).
- ext4: fix data corruption caused by overlapping unaligned and
  aligned IO (bnc#1012628).
- ext4: zero out the unused memory region in the extent tree block
  (bnc#1012628).
- tty: Don't force RISCV SBI console as preferred console
  (bnc#1012628).
- fs/writeback.c: use rcu_barrier() to wait for inflight wb
  switches going into workqueue when umount (bnc#1012628).
- mm/compaction.c: correct zone boundary handling when isolating
  pages from a pageblock (bnc#1012628).
- ARM: dts: imx: Fix the AR803X phy-mode (bnc#1012628).
- ipmi:ssif: compare block number correctly for multi-part return
  messages (bnc#1012628).
- ipmi: Add the i2c-addr property for SSIF interfaces
  (bnc#1012628).
- bcache: never set KEY_PTRS of journal key to 0 in
  journal_reclaim() (bnc#1012628).
- bcache: fix a race between cache register and cacheset
  unregister (bnc#1012628).
- Btrfs: fix race between send and deduplication that lead to
  failures and crashes (bnc#1012628).
- Btrfs: do not start a transaction at iterate_extent_inodes()
  (bnc#1012628).
- Btrfs: do not start a transaction during fiemap (bnc#1012628).
- Btrfs: send, flush dellaloc in order to avoid data loss
  (bnc#1012628).
- btrfs: Honour FITRIM range constraints during free space trim
  (bnc#1012628).
- btrfs: Correctly free extent buffer in case
  btree_read_extent_buffer_pages fails (bnc#1012628).
- btrfs: Check the first key and level for cached extent buffer
  (bnc#1012628).
- ext4: fix ext4_show_options for file systems w/o journal
  (bnc#1012628).
- ext4: actually request zeroing of inode table after grow
  (bnc#1012628).
- ext4: fix use-after-free race with debug_want_extra_isize
  (bnc#1012628).
- ext4: avoid drop reference to iloc.bh twice (bnc#1012628).
- ext4: ignore e_value_offs for xattrs with value-in-ea-inode
  (bnc#1012628).
- ext4: make sanity check in mballoc more strict (bnc#1012628).
- jbd2: check superblock mapped prior to committing (bnc#1012628).
- tty/vt: fix write/write race in ioctl(KDSKBSENT) handler
  (bnc#1012628).
- tty: vt.c: Fix TIOCL_BLANKSCREEN console blanking if
  blankinterval == 0 (bnc#1012628).
- mtd: maps: Allow MTD_PHYSMAP with MTD_RAM (bnc#1012628).
- mtd: maps: physmap: Store gpio_values correctly (bnc#1012628).
- mtd: spi-nor: intel-spi: Avoid crossing 4K address boundary
  on read/write (bnc#1012628).
- mfd: max77620: Fix swapped FPS_PERIOD_MAX_US values
  (bnc#1012628).
- mfd: da9063: Fix OTP control register names to match datasheets
  for DA9063/63L (bnc#1012628).
- ACPICA: Linux: move ACPI_DEBUG_DEFAULT flag out of ifndef
  (bnc#1012628).
- ACPI: PM: Set enable_for_wake for wakeup GPEs during
  suspend-to-idle (bnc#1012628).
- userfaultfd: use RCU to free the task struct when fork fails
  (bnc#1012628).
- ocfs2: fix ocfs2 read inode data panic in ocfs2_iget
  (bnc#1012628).
- hugetlb: use same fault hash key for shared and private mappings
  (bnc#1012628).
- mm/hugetlb.c: don't put_page in lock of hugetlb_lock
  (bnc#1012628).
- mm/huge_memory: fix vmf_insert_pfn_{pmd, pud}() crash, handle
  unaligned addresses (bnc#1012628).
- mm/mincore.c: make mincore() more conservative (bnc#1012628).
- crypto: ccree - handle tee fips error during power management
  resume (bnc#1012628).
- crypto: ccree - add function to handle cryptocell tee fips error
  (bnc#1012628).
- crypto: ccree - HOST_POWER_DOWN_EN should be the last CC access
  during suspend (bnc#1012628).
- crypto: ccree - pm resume first enable the source clk
  (bnc#1012628).
- crypto: ccree - don't map AEAD key and IV on stack
  (bnc#1012628).
- crypto: ccree - use correct internal state sizes for export
  (bnc#1012628).
- crypto: ccree - don't map MAC key on stack (bnc#1012628).
- crypto: ccree - fix mem leak on error path (bnc#1012628).
- crypto: ccree - remove special handling of chained sg
  (bnc#1012628).
- bpf: fix out of bounds backwards jmps due to dead code removal
  (bnc#1012628).
- bpf, arm64: remove prefetch insn in xadd mapping (bnc#1012628).
- ASoC: codec: hdac_hdmi add device_link to card device
  (bnc#1012628).
- ASoC: fsl_esai: Fix missing break in switch statement
  (bnc#1012628).
- ASoC: RT5677-SPI: Disable 16Bit SPI Transfers (bnc#1012628).
- ASoC: max98090: Fix restore of DAPM Muxes (bnc#1012628).
- ALSA: hdea/realtek - Headset fixup for System76 Gazelle (gaze14)
  (bnc#1012628).
- ALSA: hda/realtek - EAPD turn on later (bnc#1012628).
- ALSA: hda/hdmi - Consider eld_valid when reporting jack event
  (bnc#1012628).
- ALSA: hda/hdmi - Read the pin sense from register when repolling
  (bnc#1012628).
- ALSA: usb-audio: Fix a memory leak bug (bnc#1012628).
- ALSA: line6: toneport: Fix broken usage of timer for delayed
  execution (bnc#1012628).
- mmc: sdhci-pci: Fix BYT OCP setting (bnc#1012628).
- mmc: core: Fix tag set memory leak (bnc#1012628).
- mmc: tegra: fix ddr signaling for non-ddr modes (bnc#1012628).
- dt-bindings: mmc: Add disable-cqe-dcmd property (bnc#1012628).
- drivers/dax: Allow to include DEV_DAX_PMEM as builtin
  (bnc#1012628).
- crypto: arm64/aes-neonbs - don't access already-freed walk.iv
  (bnc#1012628).
- crypto: arm/aes-neonbs - don't access already-freed walk.iv
  (bnc#1012628).
- crypto: caam/qi2 - generate hash keys in-place (bnc#1012628).
- crypto: caam/qi2 - fix DMA mapping of stack memory
  (bnc#1012628).
- crypto: caam/qi2 - fix zero-length buffer DMA mapping
  (bnc#1012628).
- crypto: rockchip - update IV buffer to contain the next IV
  (bnc#1012628).
- crypto: gcm - fix incompatibility between "gcm" and "gcm_base"
  (bnc#1012628).
- crypto: arm64/gcm-aes-ce - fix no-NEON fallback code
  (bnc#1012628).
- crypto: x86/crct10dif-pcl - fix use via crypto_shash_digest()
  (bnc#1012628).
- crypto: crct10dif-generic - fix use via crypto_shash_digest()
  (bnc#1012628).
- crypto: skcipher - don't WARN on unprocessed data after slow
  walk step (bnc#1012628).
- crypto: vmx - fix copy-paste error in CTR mode (bnc#1012628).
- crypto: ccp - Do not free psp_master when PLATFORM_INIT fails
  (bnc#1012628).
- crypto: ccm - fix incompatibility between "ccm" and "ccm_base"
  (bnc#1012628).
- crypto: chacha20poly1305 - set cra_name correctly (bnc#1012628).
- crypto: chacha-generic - fix use as arm64 no-NEON fallback
  (bnc#1012628).
- crypto: lrw - don't access already-freed walk.iv (bnc#1012628).
- crypto: salsa20 - don't access already-freed walk.iv
  (bnc#1012628).
- crypto: crypto4xx - fix cfb and ofb "overran dst buffer" issues
  (bnc#1012628).
- crypto: crypto4xx - fix ctr-aes missing output IV (bnc#1012628).
- x86/MCE/AMD: Don't report L1 BTB MCA errors on some family
  17h models (bnc#1012628).
- x86/MCE: Add an MCE-record filtering function (bnc#1012628).
- sched/x86: Save [ER]FLAGS on context switch (bnc#1012628).
- arm64: Save and restore OSDLR_EL1 across suspend/resume
  (bnc#1012628).
- arm64: Clear OSDLR_EL1 on CPU boot (bnc#1012628).
- arm64: compat: Reduce address limit (bnc#1012628).
- arm64: arch_timer: Ensure counter register reads occur with
  seqlock held (bnc#1012628).
- arm64: mmap: Ensure file offset is treated as unsigned
  (bnc#1012628).
- power: supply: axp288_fuel_gauge: Add ACEPC T8 and T11 mini
  PCs to the blacklist (bnc#1012628).
- power: supply: axp288_charger: Fix unchecked return value
  (bnc#1012628).
- ARM: exynos: Fix a leaked reference by adding missing
  of_node_put (bnc#1012628).
- mmc: sdhci-of-arasan: Add DTS property to disable DCMDs
  (bnc#1012628).
- ARM: dts: exynos: Fix audio (microphone) routing on Odroid XU3
  (bnc#1012628).
- ARM: dts: exynos: Fix audio routing on Odroid XU3 (bnc#1012628).
- ARM: dts: exynos: Fix interrupt for shared EINTs on Exynos5260
  (bnc#1012628).
- ARM: dts: qcom: ipq4019: enlarge PCIe BAR range (bnc#1012628).
- arm64: dts: rockchip: Disable DCMDs on RK3399's eMMC controller
  (bnc#1012628).
- arm64: dts: rockchip: fix IO domain voltage setting of APIO5
  on rockpro64 (bnc#1012628).
- objtool: Fix function fallthrough detection (bnc#1012628).
- x86/speculation/mds: Improve CPU buffer clear documentation
  (bnc#1012628).
- x86/speculation/mds: Revert CPU buffer clear on double fault
  exit (bnc#1012628).
- locking/rwsem: Prevent decrement of reader count before
  increment (bnc#1012628).
- commit 047096a

-------------------------------------------------------------------
Tue May 21 07:25:27 CEST 2019 - jslaby@suse.cz

- TTY: serial_core, add ->install (bnc#1129693).
- commit da4e6dd

-------------------------------------------------------------------
Mon May 20 17:23:52 CEST 2019 - mkubecek@suse.cz

- kvm: make kvm_vcpu_(un)map dependency on CONFIG_HAS_IOMEM
  explicit.
  Fixes build of s390x/zfcpdump.
- commit b33dbfc

-------------------------------------------------------------------
Mon May 20 14:27:33 CEST 2019 - mkubecek@suse.cz

- config: refresh vanilla configs
- commit 4c41263

-------------------------------------------------------------------
Mon May 20 12:53:46 CEST 2019 - mkubecek@suse.cz

- net: phy: rename Asix Electronics PHY driver.
  Fix duplicate module name asix by renaming phy driver to ax88796b.
- Update config files.
- commit df18320

-------------------------------------------------------------------
Mon May 20 12:52:22 CEST 2019 - mkubecek@suse.cz

- mlx5: avoid 64-bit division.
  Fix i386 build.
- commit 89c5a47

-------------------------------------------------------------------
Mon May 20 08:34:00 CEST 2019 - mkubecek@suse.cz

- Update to 5.2-rc1
- Eliminated 106 patches (105 stable, 1 other)
- ARM configs need update
- Refresh
  	patches.rpmify/scripts-mkmakefile-honor-second-argument.patch
  	patches.suse/dm-mpath-leastpending-path-update
  	patches.suse/supported-flag
  	patches.suse/supported-flag-external
  	patches.suse/vfs-add-super_operations-get_inode_dev
- New config options:
  - General setup
    - IKHEADERS_PROC=n
    - SHUFFLE_PAGE_ALLOCATOR=y
  - Security
    - SECURITY_TOMOYO_INSECURE_BUILTIN_SETTING=n
  - Filesystems
    - UNICODE=y
    - UNICODE_NORMALIZATION_SELFTEST=n
  - Crypto
    - CRYPTO_ECRDSA=m
  - Networking
    - BATMAN_ADV_SYSFS=y
    - BT_MTKSDIO=m
    - XILINX_LL_TEMAC=m
    - MT7615E=m
    - RTW88=m
    - RTW88_8822BE=y
    - RTW88_8822CE=y
    - RTW88_DEBUG=n
    - RTW88_DEBUGFS=n
    - INFINIBAND_EFA=m
  - Storage
    - DM_DUST=m
  - MTD drivers
    - MTD_RAW_NAND=m
    - MTD_NAND_ECC_SW_BCH=y
    - MTD_NAND_ECC_SW_HAMMING_SMC=n
  - Input
    - KEYBOARD_QT1050=m
    - TOUCHSCREEN_IQS5XX=m
    - INPUT_GPIO_VIBRA=n
    - INPUT_REGULATOR_HAPTIC=m
    - HID_MACALLY=m
    - HID_U2FZERO=m
    - INPUT_MAX77650_ONKEY=m
  - Serial
    - NULL_TTY=m
    - SERIAL_SIFIVE=m
  - Power management
    - CHARGER_MANAGER=y
    - CHARGER_LT3651=m
    - CHARGER_UCS1002=m
    - SENSORS_IR38064=m
    - SENSORS_ISL68137=m
    - SENSORS_LTC2978_REGULATOR=y
    - THERMAL_MMIO=m
    - MFD_MAX77650=m
    - MFD_STMFX=m
    - REGULATOR_DEBUG=n
    - REGULATOR_FIXED_VOLTAGE=m
    - REGULATOR_VIRTUAL_CONSUMER=m
    - REGULATOR_USERSPACE_CONSUMER=m
    - REGULATOR_88PG86X=m
    - REGULATOR_ACT8865=m
    - REGULATOR_AD5398=m
    - REGULATOR_AXP20X=m
    - REGULATOR_DA9062=m
    - REGULATOR_DA9210=m
    - REGULATOR_DA9211=m
    - REGULATOR_FAN53555=m
    - REGULATOR_GPIO=m
    - REGULATOR_ISL9305=m
    - REGULATOR_ISL6271A=m
    - REGULATOR_LM363X=m
    - REGULATOR_LP3971=m
    - REGULATOR_LP3972=m
    - REGULATOR_LP872X=m
    - REGULATOR_LP8755=m
    - REGULATOR_LTC3589=m
    - REGULATOR_LTC3676=m
    - REGULATOR_MAX1586=m
    - REGULATOR_MAX77650=m
    - REGULATOR_MAX8649=m
    - REGULATOR_MAX8660=m
    - REGULATOR_MAX8907=m
    - REGULATOR_MAX8952=m
    - REGULATOR_MAX8973=m
    - REGULATOR_MCP16502=m
    - REGULATOR_MT6311=m
    - REGULATOR_PFUZE100=m
    - REGULATOR_PV88060=m
    - REGULATOR_PV88080=m
    - REGULATOR_PV88090=m
    - REGULATOR_PWM=m
    - REGULATOR_QCOM_SPMI=m
    - REGULATOR_SY8106A=m
    - REGULATOR_TPS51632=m
    - REGULATOR_TPS62360=m
    - REGULATOR_TPS65023=m
    - REGULATOR_TPS6507X=m
    - REGULATOR_TPS65132=m
    - REGULATOR_TPS6524X=m
    - REGULATOR_VCTRL=m
    - CHARGER_MAX77650=m
  - Media
    - MEDIA_CONTROLLER_REQUEST_API=y
    - VIDEO_V4L2_SUBDEV_API=y
    - V4L2_FLASH_LED_CLASS=m
    - VIDEO_COBALT=n
    - VIDEO_IPU3_CIO2=m
    - VIDEO_CADENCE_CSI2RX=m
    - VIDEO_CADENCE_CSI2TX=m
    - VIDEO_MUX=m
    - VIDEO_XILINX=m
    - VIDEO_XILINX_TPG=m
    - VIDEO_VIMC=m
    - VIDEO_IPU3_IMGU=m
  - DRM
    - NOUVEAU_LEGACY_CTX_SUPPORT=n
    - DRM_PANEL_FEIYANG_FY07024DI26A30D=n
    - DRM_PANEL_ROCKTECH_JH057N00900=n
    - DRM_PANEL_RONBO_RB070D30=n
  - Sound
    - SND_SOC_FSL_AUDMIX=n
    - SND_SOC_SOF_TOPLEVEL=y
    - SND_SOC_SOF_PCI=m
    - SND_SOC_SOF_ACPI=m
    - SND_SOC_SOF_NOCODEC=n
    - SND_SOC_SOF_STRICT_ABI_CHECKS=n
    - SND_SOC_SOF_DEBUG=n
    - SND_SOC_SOF_INTEL_TOPLEVEL=y
    - SND_SOC_SOF_BAYTRAIL_SUPPORT=y
    - SND_SOC_SOF_BROADWELL_SUPPORT=y
    - SND_SOC_SOF_MERRIFIELD_SUPPORT=y
    - SND_SOC_SOF_APOLLOLAKE_SUPPORT=y
    - SND_SOC_SOF_GEMINILAKE_SUPPORT=y
    - SND_SOC_SOF_CANNONLAKE_SUPPORT=y
    - SND_SOC_SOF_COFFEELAKE_SUPPORT=y
    - SND_SOC_SOF_ICELAKE_SUPPORT=y
    - SND_SOC_SOF_HDA_LINK=y
    - SND_SOC_SOF_HDA_AUDIO_CODEC=y
    - SND_SOC_INTEL_SOF_RT5682_MACH=m
  - USB
    - TYPEC_NVIDIA_ALTMODE=m
  - LEDS
    - LEDS_LM3532=m
    - LEDS_REGULATOR=m
    - LEDS_MAX77650=m
  - Platform
    - CROS_EC_RPMSG=m
    - CROS_USBPD_LOGGER=m
    - CLK_SIFIVE=n
    - IXP4XX_QMGR=n
    - IXP4XX_NPE=m
  - IIO
    - CC10001_ADC=n
    - TI_ADS8344=n
    - FXAS21002C=n
    - MB1232=n
    - MAX31856=m
  - Misc drivers
    - I2C_AMD_MP2=m
    - PINCTRL_STMFX=n
    - FIELDBUS_DEV=n
    - KPC2000=n
    - NVMEM_SYSFS=y
    - COUNTER=n
    - GPIO_MAX77650=m
  - Library
    - PACKING=n
  - Debugging and testing
    - DEBUG_INFO_BTF=n
    - DEBUG_MISC=n
    - DEBUG_PLIST=n
    - TEST_STRSCPY=n
  - x86
    - ACPI_HMAT=y
    - INTEL_CHT_INT33FE=m
    - INTEL_ISH_FIRMWARE_DOWNLOADER=m
  - i386
    - MEMORY_HOTPLUG=y
    - MEMORY_HOTPLUG_DEFAULT_ONLINE=n
    - MEMORY_HOTREMOVE
    - XEN_BALLOON_MEMORY_HOTPLUG=y
    - XEN_BALLOON_MEMORY_HOTPLUG_LIMIT=4
    - DEV_DAX_KMEM=m
    - MEMORY_NOTIFIER_ERROR_INJECT=m
    - ACPI_HOTPLUG_MEMORY=y
  - ppc64 / ppc64le
    - PPC_KUEP=y
    - PPC_KUAP=y
    - PPC_KUAP_DEBUG=n
    - MTD_NAND_DENALI_PCI=m
    - MTD_NAND_CAFE=m
    - MTD_NAND_GPIO=m
    - MTD_NAND_PLATFORM=m
    - MTD_NAND_NANDSIM=m
    - MTD_NAND_RICOH=m
    - MTD_NAND_DISKONCHIP=m
    - MTD_NAND_DISKONCHIP_PROBE_ADVANCED=n
    - MTD_NAND_DISKONCHIP_BBTWRITE=n
    - INTEGRITY_PLATFORM_KEYRING=y
    - OPTIMIZE_INLINING=y
    - XMON_DEFAULT_RO_MODE=y
  - s390x
    - KEXEC_VERIFY_SIG=n
    - RELOCATABLE=y
    - RANDOMIZE_BASE=y
    - PROTECTED_VIRTUALIZATION_GUEST=y
    - LCD_CLASS_DEVICE=n
    - BACKLIGHT_CLASS_DEVICE=n
    - INTEGRITY_PLATFORM_KEYRING=y
    - OPTIMIZE_INLINING=n
- commit c8b1101

-------------------------------------------------------------------
Fri May 17 13:37:31 CEST 2019 - jslaby@suse.cz

- Refresh
  patches.suse/memcg-make-it-work-on-sparse-non-0-node-systems.patch.
  Update to a solution proposed by upstream.
- commit 53906c9

-------------------------------------------------------------------
Fri May 17 06:54:10 CEST 2019 - jslaby@suse.cz

- Revert "selinux: do not report error on connect(AF_UNSPEC)"
  (git-fixes).
- Revert "Don't jump to compute_result state from check_result
  state" (git-fixes).
- commit 3d34296

-------------------------------------------------------------------
Fri May 17 06:38:43 CEST 2019 - jslaby@suse.cz

- Linux 5.1.3 (bnc#1012628).
- f2fs: Fix use of number of devices (bnc#1012628).
- PCI: hv: Add pci_destroy_slot() in pci_devices_present_work(),
  if necessary (bnc#1012628).
- PCI: hv: Add hv_pci_remove_slots() when we unload the driver
  (bnc#1012628).
- PCI: hv: Fix a memory leak in hv_eject_device_work()
  (bnc#1012628).
- virtio_ring: Fix potential mem leak in
  virtqueue_add_indirect_packed (bnc#1012628).
- powerpc/booke64: set RI in default MSR (bnc#1012628).
- powerpc/powernv/idle: Restore IAMR after idle (bnc#1012628).
- powerpc/book3s/64: check for NULL pointer in pgd_alloc()
  (bnc#1012628).
- drivers/virt/fsl_hypervisor.c: prevent integer overflow in ioctl
  (bnc#1012628).
- drivers/virt/fsl_hypervisor.c: dereferencing error pointers
  in ioctl (bnc#1012628).
- isdn: bas_gigaset: use usb_fill_int_urb() properly
  (bnc#1012628).
- flow_dissector: disable preemption around BPF calls
  (bnc#1012628).
- net: phy: fix phy_validate_pause (bnc#1012628).
- tuntap: synchronize through tfiles array instead of
  tun->numqueues (bnc#1012628).
- tuntap: fix dividing by zero in ebpf queue selection
  (bnc#1012628).
- vrf: sit mtu should not be updated when vrf netdev is the link
  (bnc#1012628).
- vlan: disable SIOCSHWTSTAMP in container (bnc#1012628).
- tipc: fix hanging clients using poll with EPOLLOUT flag
  (bnc#1012628).
- selinux: do not report error on connect(AF_UNSPEC)
  (bnc#1012628).
- packet: Fix error path in packet_init (bnc#1012628).
- net: ucc_geth - fix Oops when changing number of buffers in
  the ring (bnc#1012628).
- net: seeq: fix crash caused by not set dev.parent (bnc#1012628).
- net: macb: Change interrupt and napi enable order in open
  (bnc#1012628).
- net: ethernet: stmmac: dwmac-sun8i: enable support of unicast
  filtering (bnc#1012628).
- net: dsa: Fix error cleanup path in dsa_init_module
  (bnc#1012628).
- ipv4: Fix raw socket lookup for local traffic (bnc#1012628).
- fib_rules: return 0 directly if an exactly same rule exists
  when NLM_F_EXCL not supplied (bnc#1012628).
- dpaa_eth: fix SG frame cleanup (bnc#1012628).
- bridge: Fix error path for kobject_init_and_add() (bnc#1012628).
- bonding: fix arp_validate toggling in active-backup mode
  (bnc#1012628).
- Don't jump to compute_result state from check_result state
  (bnc#1012628).
- rtlwifi: rtl8723ae: Fix missing break in switch statement
  (bnc#1012628).
- mwl8k: Fix rate_idx underflow (bnc#1012628).
- USB: serial: fix unthrottle races (bnc#1012628).
- virt: vbox: Sanity-check parameter types for hgcm-calls coming
  from userspace (bnc#1012628).
- kernfs: fix barrier usage in __kernfs_new_node() (bnc#1012628).
- i2c: core: ratelimit 'transfer when suspended' errors
  (bnc#1012628).
- selftests/seccomp: Handle namespace failures gracefully
  (bnc#1012628).
- hwmon: (occ) Fix extended status bits (bnc#1012628).
- hwmon: (pwm-fan) Disable PWM if fetching cooling data fails
  (bnc#1012628).
- platform/x86: dell-laptop: fix rfkill functionality
  (bnc#1012628).
- platform/x86: thinkpad_acpi: Disable Bluetooth for some machines
  (bnc#1012628).
- platform/x86: sony-laptop: Fix unintentional fall-through
  (bnc#1012628).
- commit 073196d

-------------------------------------------------------------------
Thu May 16 14:35:55 CEST 2019 - mwilck@suse.com

- Update config files: disable CONFIG_IDE for ppc64/ppc64le (bsc#1135333)
- commit 012b7ed

-------------------------------------------------------------------
Wed May 15 09:44:48 CEST 2019 - mkubecek@suse.cz

- x86/kvm/pmu: Set AMD's virt PMU version to 1
  (https://patchwork.kernel.org/patch/10936271/).
- commit d737fc7

-------------------------------------------------------------------
Tue May 14 20:20:41 CEST 2019 - jslaby@suse.cz

- Linux 5.1.2 (bnc#1012628).
- x86/speculation/mds: Fix documentation typo (bnc#1012628).
- Documentation: Correct the possible MDS sysfs values
  (bnc#1012628).
- x86/mds: Add MDSUM variant to the MDS documentation
  (bnc#1012628).
- x86/speculation/mds: Add 'mitigations=' support for MDS
  (bnc#1012628).
- s390/speculation: Support 'mitigations=' cmdline option
  (bnc#1012628).
- powerpc/speculation: Support 'mitigations=' cmdline option
  (bnc#1012628).
- x86/speculation: Support 'mitigations=' cmdline option
  (bnc#1012628).
- cpu/speculation: Add 'mitigations=' cmdline option
  (bnc#1012628).
- x86/speculation/mds: Print SMT vulnerable on MSBDS with
  mitigations off (bnc#1012628).
- x86/speculation/mds: Fix comment (bnc#1012628).
- x86/speculation/mds: Add SMT warning message (bnc#1012628).
- x86/speculation: Move arch_smt_update() call to after mitigation
  decisions (bnc#1012628).
- x86/speculation/mds: Add mds=full,nosmt cmdline option
  (bnc#1012628).
- Documentation: Add MDS vulnerability documentation
  (bnc#1012628).
- Documentation: Move L1TF to separate directory (bnc#1012628).
- x86/speculation/mds: Add mitigation mode VMWERV (bnc#1012628).
- x86/speculation/mds: Add sysfs reporting for MDS (bnc#1012628).
- x86/speculation/mds: Add mitigation control for MDS
  (bnc#1012628).
- x86/speculation/mds: Conditionally clear CPU buffers on idle
  entry (bnc#1012628).
- x86/kvm/vmx: Add MDS protection when L1D Flush is not active
  (bnc#1012628).
- x86/speculation/mds: Clear CPU buffers on exit to user
  (bnc#1012628).
- x86/speculation/mds: Add mds_clear_cpu_buffers() (bnc#1012628).
- x86/kvm: Expose X86_FEATURE_MD_CLEAR to guests (bnc#1012628).
- x86/speculation/mds: Add BUG_MSBDS_ONLY (bnc#1012628).
- x86/speculation/mds: Add basic bug infrastructure for MDS
  (bnc#1012628).
- x86/speculation: Consolidate CPU whitelists (bnc#1012628).
- x86/msr-index: Cleanup bit defines (bnc#1012628).
- commit 5a8c05f

-------------------------------------------------------------------
Tue May 14 10:37:17 CEST 2019 - mkubecek@suse.cz

- config: keep LSM empty in s390x/zfcpdump
  This config doesn't really build AppArmor and always had
  DEFAULT_SECURITY_DAC so it seems more consistent to keep LSM list empty.
- commit 3073856

-------------------------------------------------------------------
Tue May 14 10:08:04 CEST 2019 - mkubecek@suse.cz

- config: enable AppArmor by default again (bsc#1134906)
  AppArmor used to be enabled in kernel by default by after the recent
  introduction of CONFIG_LSM, we disabled all LSM modules. Enable AppArmor
  again.
- commit 953db35

-------------------------------------------------------------------
Tue May 14 10:01:25 CEST 2019 - mkubecek@suse.cz

- Update upstream reference:
  patches.suse/efifb-Omit-memory-map-check-on-legacy-boot.patch
- commit 133a780

-------------------------------------------------------------------
Sat May 11 19:16:25 CEST 2019 - jslaby@suse.cz

- Linux 5.1.1 (bnc#1012628).
- arm64: futex: Bound number of LDXR/STXR loops in FUTEX_WAKE_OP
  (bnc#1012628).
- locking/futex: Allow low-level atomic operations to return
  -EAGAIN (bnc#1012628).
- i3c: Fix a shift wrap bug in i3c_bus_set_addr_slot_status()
  (bnc#1012628).
- ASoC: Intel: avoid Oops if DMA setup fails (bnc#1012628).
- UAS: fix alignment of scatter/gather segments (bnc#1012628).
- Bluetooth: hci_bcm: Fix empty regulator supplies for Intel Macs
  (bnc#1012628).
- Bluetooth: Fix not initializing L2CAP tx_credits (bnc#1012628).
- Bluetooth: Align minimum encryption key size for LE and BR/EDR
  connections (bnc#1012628).
- Bluetooth: hidp: fix buffer overflow (bnc#1012628).
- scsi: qla2xxx: Fix device staying in blocked state
  (bnc#1012628).
- scsi: qla2xxx: Set remote port devloss timeout to 0
  (bnc#1012628).
- scsi: qla2xxx: Fix incorrect region-size setting in optrom
  SYSFS routines (bnc#1012628).
- scsi: lpfc: change snprintf to scnprintf for possible overflow
  (bnc#1012628).
- soc: sunxi: Fix missing dependency on REGMAP_MMIO (bnc#1012628).
- ACPI / LPSS: Use acpi_lpss_* instead of acpi_subsys_* functions
  for hibernate (bnc#1012628).
- cpufreq: armada-37xx: fix frequency calculation for opp
  (bnc#1012628).
- iio: adc: qcom-spmi-adc5: Fix of-based module autoloading
  (bnc#1012628).
- intel_th: pci: Add Comet Lake support (bnc#1012628).
- genirq: Prevent use-after-free and work list corruption
  (bnc#1012628).
- usb-storage: Set virt_boundary_mask to avoid SG overflows
  (bnc#1012628).
- USB: cdc-acm: fix unthrottle races (bnc#1012628).
- USB: serial: f81232: fix interrupt worker not stop
  (bnc#1012628).
- usb: dwc3: Fix default lpm_nyet_threshold value (bnc#1012628).
- usb: dwc3: Allow building USB_DWC3_QCOM without EXTCON
  (bnc#1012628).
- staging: most: sound: pass correct device when creating a
  sound card (bnc#1012628).
- staging: most: cdev: fix chrdev_region leak in mod_exit
  (bnc#1012628).
- staging: wilc1000: Avoid GFP_KERNEL allocation from atomic
  context (bnc#1012628).
- staging: greybus: power_supply: fix prop-descriptor request size
  (bnc#1012628).
- ubsan: Fix nasty -Wbuiltin-declaration-mismatch GCC-9 warnings
  (bnc#1012628).
- Drivers: hv: vmbus: Remove the undesired put_cpu_ptr() in
  hv_synic_cleanup() (bnc#1012628).
- commit 8e0a089

-------------------------------------------------------------------
Thu May  9 10:50:34 CEST 2019 - guillaume.gardet@free.fr

- Sign non-x86 kernels when possible (boo#1134303)
- commit bac621c

-------------------------------------------------------------------
Mon May  6 07:06:01 CEST 2019 - mkubecek@suse.cz

- Update to 5.1 final
- Eliminated 1 patch
- New config options:
  - PCI:
    - PCIE_BW=n (recommended default)
- commit a974d8b

-------------------------------------------------------------------
Sun May  5 17:48:04 CEST 2019 - jslaby@suse.cz

- Linux 5.0.13 (bnc#1012628).
- ipv4: ip_do_fragment: Preserve skb_iif during fragmentation
  (bnc#1012628).
- ipv6: A few fixes on dereferencing rt->from (bnc#1012628).
- ipv6: fix races in ip6_dst_destroy() (bnc#1012628).
- ipv6/flowlabel: wait rcu grace period before put_pid()
  (bnc#1012628).
- ipv6: invert flowlabel sharing check in process and user mode
  (bnc#1012628).
- l2ip: fix possible use-after-free (bnc#1012628).
- l2tp: use rcu_dereference_sk_user_data() in
  l2tp_udp_encap_recv() (bnc#1012628).
- net: dsa: bcm_sf2: fix buffer overflow doing set_rxnfc
  (bnc#1012628).
- net: phy: marvell: Fix buffer overrun with stats counters
  (bnc#1012628).
- net/tls: avoid NULL pointer deref on nskb->sk in fallback
  (bnc#1012628).
- rxrpc: Fix net namespace cleanup (bnc#1012628).
- sctp: avoid running the sctp state machine recursively
  (bnc#1012628).
- selftests: fib_rule_tests: print the result and return 1 if
  any tests failed (bnc#1012628).
- packet: validate msg_namelen in send directly (bnc#1012628).
- packet: in recvmsg msg_name return at least sizeof sockaddr_ll
  (bnc#1012628).
- selftests: fib_rule_tests: Fix icmp proto with ipv6
  (bnc#1012628).
- tcp: add sanity tests in tcp_add_backlog() (bnc#1012628).
- udp: fix GRO reception in case of length mismatch (bnc#1012628).
- udp: fix GRO packet of death (bnc#1012628).
- bnxt_en: Improve multicast address setup logic (bnc#1012628).
- bnxt_en: Free short FW command HWRM memory in error path in
  bnxt_init_one() (bnc#1012628).
- bnxt_en: Fix possible crash in bnxt_hwrm_ring_free() under
  error conditions (bnc#1012628).
- bnxt_en: Pass correct extended TX port statistics size to
  firmware (bnc#1012628).
- bnxt_en: Fix statistics context reservation logic (bnc#1012628).
- bnxt_en: Fix uninitialized variable usage in bnxt_rx_pkt()
  (bnc#1012628).
- net/tls: don't copy negative amounts of data in reencrypt
  (bnc#1012628).
- net/tls: fix copy to fragments in reencrypt (bnc#1012628).
- KVM: nVMX: Fix size checks in vmx_set_nested_state
  (bnc#1012628).
- ALSA: line6: use dynamic buffers (bnc#1012628).
- iwlwifi: mvm: properly check debugfs dentry before using it
  (bnc#1012628).
- ath10k: Drop WARN_ON()s that always trigger during system resume
  (bnc#1012628).
- commit b11e2d7

-------------------------------------------------------------------
Sat May  4 17:39:08 CEST 2019 - jslaby@suse.cz

- Linux 5.0.12 (bnc#1012628).
- selinux: use kernel linux/socket.h for genheaders and mdp
  (bnc#1012628).
- drm/i915: Do not enable FEC without DSC (bnc#1012628).
- mm: make page ref count overflow check tighter and more explicit
  (bnc#1012628).
- mm: add 'try_get_page()' helper function (bnc#1012628).
- mm: prevent get_user_pages() from overflowing page refcount
  (bnc#1012628).
- fs: prevent page refcount overflow in pipe_buf_get
  (bnc#1012628).
- arm64: dts: renesas: r8a77990: Fix SCIF5 DMA channels
  (bnc#1012628).
- ARM: dts: bcm283x: Fix hdmi hpd gpio pull (bnc#1012628).
- s390: limit brk randomization to 32MB (bnc#1012628).
- mt76x02: fix hdr pointer in write txwi for USB (bnc#1012628).
- mt76: mt76x2: fix external LNA gain settings (bnc#1012628).
- mt76: mt76x2: fix 2.4 GHz channel gain settings (bnc#1012628).
- net: ieee802154: fix a potential NULL pointer dereference
  (bnc#1012628).
- ieee802154: hwsim: propagate genlmsg_reply return code
  (bnc#1012628).
- Btrfs: fix file corruption after snapshotting due to mix of
  buffered/DIO writes (bnc#1012628).
- net: stmmac: don't set own bit too early for jumbo frames
  (bnc#1012628).
- net: stmmac: fix jumbo frame sending with non-linear skbs
  (bnc#1012628).
- qlcnic: Avoid potential NULL pointer dereference (bnc#1012628).
- xsk: fix umem memory leak on cleanup (bnc#1012628).
- staging: axis-fifo: add CONFIG_OF dependency (bnc#1012628).
- staging, mt7621-pci: fix build without pci support
  (bnc#1012628).
- netfilter: nft_set_rbtree: check for inactive element after
  flag mismatch (bnc#1012628).
- netfilter: bridge: set skb transport_header before entering
  NF_INET_PRE_ROUTING (bnc#1012628).
- netfilter: fix NETFILTER_XT_TARGET_TEE dependencies
  (bnc#1012628).
- netfilter: ip6t_srh: fix NULL pointer dereferences
  (bnc#1012628).
- s390/qeth: fix race when initializing the IP address table
  (bnc#1012628).
- ARM: imx51: fix a leaked reference by adding missing of_node_put
  (bnc#1012628).
- sc16is7xx: missing unregister/delete driver on error in
  sc16is7xx_init() (bnc#1012628).
- serial: ar933x_uart: Fix build failure with disabled console
  (bnc#1012628).
- KVM: arm64: Reset the PMU in preemptible context (bnc#1012628).
- arm64: KVM: Always set ICH_HCR_EL2.EN if GICv4 is enabled
  (bnc#1012628).
- KVM: arm/arm64: vgic-its: Take the srcu lock when writing to
  guest memory (bnc#1012628).
- KVM: arm/arm64: vgic-its: Take the srcu lock when parsing the
  memslots (bnc#1012628).
- usb: dwc3: pci: add support for Comet Lake PCH ID (bnc#1012628).
- usb: gadget: net2280: Fix overrun of OUT messages (bnc#1012628).
- usb: gadget: net2280: Fix net2280_dequeue() (bnc#1012628).
- usb: gadget: net2272: Fix net2272_dequeue() (bnc#1012628).
- ARM: dts: pfla02: increase phy reset duration (bnc#1012628).
- i2c: i801: Add support for Intel Comet Lake (bnc#1012628).
- KVM: arm/arm64: Fix handling of stage2 huge mappings
  (bnc#1012628).
- net: ks8851: Dequeue RX packets explicitly (bnc#1012628).
- net: ks8851: Reassert reset pin if chip ID check fails
  (bnc#1012628).
- net: ks8851: Delay requesting IRQ until opened (bnc#1012628).
- net: ks8851: Set initial carrier state to down (bnc#1012628).
- staging: rtl8188eu: Fix potential NULL pointer dereference of
  kcalloc (bnc#1012628).
- staging: rtlwifi: rtl8822b: fix to avoid potential NULL pointer
  dereference (bnc#1012628).
- staging: rtl8712: uninitialized memory in read_bbreg_hdl()
  (bnc#1012628).
- staging: rtlwifi: Fix potential NULL pointer dereference of
  kzalloc (bnc#1012628).
- net: phy: Add DP83825I to the DP83822 driver (bnc#1012628).
- net: macb: Add null check for PCLK and HCLK (bnc#1012628).
- net/sched: don't dereference a->goto_chain to read the chain
  index (bnc#1012628).
- ARM: dts: imx6qdl: Fix typo in imx6qdl-icore-rqs.dtsi
  (bnc#1012628).
- drm/tegra: hub: Fix dereference before check (bnc#1012628).
- NFS: Fix a typo in nfs_init_timeout_values() (bnc#1012628).
- net: xilinx: fix possible object reference leak (bnc#1012628).
- net: ibm: fix possible object reference leak (bnc#1012628).
- net: ethernet: ti: fix possible object reference leak
  (bnc#1012628).
- drm: Fix drm_release() and device unplug (bnc#1012628).
- gpio: aspeed: fix a potential NULL pointer dereference
  (bnc#1012628).
- drm/meson: Fix invalid pointer in meson_drv_unbind()
  (bnc#1012628).
- drm/meson: Uninstall IRQ handler (bnc#1012628).
- ARM: davinci: fix build failure with allnoconfig (bnc#1012628).
- sbitmap: order READ/WRITE freed instance and setting clear bit
  (bnc#1012628).
- staging: vc04_services: Fix an error code in vchiq_probe()
  (bnc#1012628).
- scsi: mpt3sas: Fix kernel panic during expander reset
  (bnc#1012628).
- scsi: aacraid: Insure we don't access PCIe space during AER/EEH
  (bnc#1012628).
- scsi: qla4xxx: fix a potential NULL pointer dereference
  (bnc#1012628).
- usb: usb251xb: fix to avoid potential NULL pointer dereference
  (bnc#1012628).
- leds: trigger: netdev: fix refcnt leak on interface rename
  (bnc#1012628).
- SUNRPC: fix uninitialized variable warning (bnc#1012628).
- x86/realmode: Don't leak the trampoline kernel address
  (bnc#1012628).
- usb: u132-hcd: fix resource leak (bnc#1012628).
- ceph: fix use-after-free on symlink traversal (bnc#1012628).
- scsi: zfcp: reduce flood of fcrscn1 trace records on
  multi-element RSCN (bnc#1012628).
- x86/mm: Don't exceed the valid physical address space
  (bnc#1012628).
- libata: fix using DMA buffers on stack (bnc#1012628).
- kbuild: skip parsing pre sub-make code for recursion
  (bnc#1012628).
- afs: Fix StoreData op marshalling (bnc#1012628).
- gpio: of: Check propname before applying "cs-gpios" quirks
  (bnc#1012628).
- gpio: of: Check for "spi-cs-high" in child instead of parent
  node (bnc#1012628).
- KVM: nVMX: Do not inherit quadrant and invalid for the root
  shadow EPT (bnc#1012628).
- KVM: SVM: Workaround errata#1096 (insn_len maybe zero on SMAP
  violation) (bnc#1012628).
- kvm/x86: Move MSR_IA32_ARCH_CAPABILITIES to array emulated_msrs
  (bnc#1012628).
- x86/kvm/hyper-v: avoid spurious pending stimer on vCPU init
  (bnc#1012628).
- KVM: selftests: assert on exit reason in CR4/cpuid sync test
  (bnc#1012628).
- KVM: selftests: explicitly disable PIE for tests (bnc#1012628).
- KVM: selftests: disable stack protector for all KVM tests
  (bnc#1012628).
- KVM: selftests: complete IO before migrating guest state
  (bnc#1012628).
- gpio: of: Fix of_gpiochip_add() error path (bnc#1012628).
- nvme-multipath: relax ANA state check (bnc#1012628).
- nvmet: fix building bvec from sg list (bnc#1012628).
- nvmet: fix error flow during ns enable (bnc#1012628).
- perf cs-etm: Add missing case value (bnc#1012628).
- perf machine: Update kernel map address and re-order properly
  (bnc#1012628).
- kconfig/[mn]conf: handle backspace (^H) key (bnc#1012628).
- iommu/amd: Reserve exclusion range in iova-domain (bnc#1012628).
- kasan: fix variable 'tag' set but not used warning
  (bnc#1012628).
- ptrace: take into account saved_sigmask in
  PTRACE{GET,SET}SIGMASK (bnc#1012628).
- leds: pca9532: fix a potential NULL pointer dereference
  (bnc#1012628).
- leds: trigger: netdev: use memcpy in device_name_store
  (bnc#1012628).
- commit 0b5ff0f

-------------------------------------------------------------------
Thu May  2 13:01:21 CEST 2019 - jslaby@suse.cz

- Refresh
  patches.suse/KVM-x86-Whitelist-port-0x7e-for-pre-incrementing-rip.patch.
  Update upstream status.
- commit 410b1c0

-------------------------------------------------------------------
Thu May  2 12:46:32 CEST 2019 - jslaby@suse.cz

- Linux 5.0.11 (bnc#1012628).
- netfilter: nf_tables: bogus EBUSY when deleting set after flush
  (bnc#1012628).
- netfilter: nf_tables: bogus EBUSY in helper removal from
  transaction (bnc#1012628).
- intel_th: gth: Fix an off-by-one in output unassigning
  (bnc#1012628).
- powerpc/vdso32: fix CLOCK_MONOTONIC on PPC64 (bnc#1012628).
- ALSA: hda/realtek - Move to ACT_INIT state (bnc#1012628).
- fs/proc/proc_sysctl.c: Fix a NULL pointer dereference
  (bnc#1012628).
- block, bfq: fix use after free in bfq_bfqq_expire (bnc#1012628).
- cifs: fix memory leak in SMB2_read (bnc#1012628).
- cifs: fix page reference leak with readv/writev (bnc#1012628).
- cifs: do not attempt cifs operation on smb2+ rename error
  (bnc#1012628).
- tracing: Fix a memory leak by early error exit in
  trace_pid_write() (bnc#1012628).
- tracing: Fix buffer_ref pipe ops (bnc#1012628).
- crypto: xts - Fix atomic sleep when walking skcipher
  (bnc#1012628).
- crypto: lrw - Fix atomic sleep when walking skcipher
  (bnc#1012628).
- gpio: eic: sprd: Fix incorrect irq type setting for the sync
  EIC (bnc#1012628).
- zram: pass down the bvec we need to read into in the work struct
  (bnc#1012628).
- lib/Kconfig.debug: fix build error without CONFIG_BLOCK
  (bnc#1012628).
- MIPS: scall64-o32: Fix indirect syscall number load
  (bnc#1012628).
- trace: Fix preempt_enable_no_resched() abuse (bnc#1012628).
- mm: do not boost watermarks to avoid fragmentation for the
  DISCONTIG memory model (bnc#1012628).
- arm64: mm: Ensure tail of unaligned initrd is reserved
  (bnc#1012628).
- IB/rdmavt: Fix frwr memory registration (bnc#1012628).
- RDMA/mlx5: Do not allow the user to write to the clock page
  (bnc#1012628).
- RDMA/mlx5: Use rdma_user_map_io for mapping BAR pages
  (bnc#1012628).
- RDMA/ucontext: Fix regression with disassociate (bnc#1012628).
- sched/numa: Fix a possible divide-by-zero (bnc#1012628).
- ceph: only use d_name directly when parent is locked
  (bnc#1012628).
- ceph: ensure d_name stability in ceph_dentry_hash()
  (bnc#1012628).
- ceph: fix ci->i_head_snapc leak (bnc#1012628).
- nfsd: Don't release the callback slot unless it was actually
  held (bnc#1012628).
- nfsd: wake waiters blocked on file_lock before deleting it
  (bnc#1012628).
- nfsd: wake blocked file lock waiters before sending callback
  (bnc#1012628).
- sunrpc: don't mark uninitialised items as VALID (bnc#1012628).
- perf/x86/intel: Update KBL Package C-state events to also
  include PC8/PC9/PC10 counters (bnc#1012628).
- Input: synaptics-rmi4 - write config register values to the
  right offset (bnc#1012628).
- dmaengine: sh: rcar-dmac: With cyclic DMA residue 0 is valid
  (bnc#1012628).
- dmaengine: sh: rcar-dmac: Fix glitch in dmaengine_tx_status
  (bnc#1012628).
- dmaengine: mediatek-cqdma: fix wrong register usage in
  mtk_cqdma_start (bnc#1012628).
- ARM: 8857/1: efi: enable CP15 DMB instructions before cleaning
  the cache (bnc#1012628).
- powerpc/mm/radix: Make Radix require HUGETLB_PAGE (bnc#1012628).
- drm/vc4: Fix memory leak during gpu reset (bnc#1012628).
- drm/ttm: fix re-init of global structures (bnc#1012628).
- drm/vc4: Fix compilation error reported by kbuild test bot
  (bnc#1012628).
- USB: Add new USB LPM helpers (bnc#1012628).
- USB: Consolidate LPM checks to avoid enabling LPM twice
  (bnc#1012628).
- ext4: fix some error pointer dereferences (bnc#1012628).
- loop: do not print warn message if partition scan is successful
  (bnc#1012628).
- tipc: handle the err returned from cmd header function
  (bnc#1012628).
- slip: make slhc_free() silently accept an error pointer
  (bnc#1012628).
- workqueue: Try to catch flush_work() without INIT_WORK()
  (bnc#1012628).
- binder: fix handling of misaligned binder object (bnc#1012628).
- sched/deadline: Correctly handle active 0-lag timers
  (bnc#1012628).
- mac80211_hwsim: calculate if_combination.max_interfaces
  (bnc#1012628).
- NFS: Forbid setting AF_INET6 to "struct sockaddr_in"->sin_family
  (bnc#1012628).
- netfilter: ebtables: CONFIG_COMPAT: drop a bogus WARN_ON
  (bnc#1012628).
- fm10k: Fix a potential NULL pointer dereference (bnc#1012628).
- tipc: check bearer name with right length in
  tipc_nl_compat_bearer_enable (bnc#1012628).
- tipc: check link name with right length in
  tipc_nl_compat_link_set (bnc#1012628).
- net: netrom: Fix error cleanup path of nr_proto_init
  (bnc#1012628).
- net/rds: Check address length before reading address family
  (bnc#1012628).
- rxrpc: fix race condition in rxrpc_input_packet() (bnc#1012628).
- pin iocb through aio (bnc#1012628).
- aio: fold lookup_kiocb() into its sole caller (bnc#1012628).
- aio: keep io_event in aio_kiocb (bnc#1012628).
- aio: store event at final iocb_put() (bnc#1012628).
- Fix aio_poll() races (bnc#1012628).
- x86, retpolines: Raise limit for generating indirect calls
  from switch-case (bnc#1012628).
- x86/retpolines: Disable switch jump tables when retpolines
  are enabled (bnc#1012628).
- rdma: fix build errors on s390 and MIPS due to bad ZERO_PAGE
  use (bnc#1012628).
- ipv4: add sanity checks in ipv4_link_failure() (bnc#1012628).
- ipv4: set the tcp_min_rtt_wlen range from 0 to one day
  (bnc#1012628).
- mlxsw: spectrum: Fix autoneg status in ethtool (bnc#1012628).
- net/mlx5e: ethtool, Remove unsupported SFP EEPROM high pages
  query (bnc#1012628).
- net: rds: exchange of 8K and 1M pool (bnc#1012628).
- net/rose: fix unbound loop in rose_loopback_timer()
  (bnc#1012628).
- net: stmmac: move stmmac_check_ether_addr() to driver probe
  (bnc#1012628).
- net/tls: fix refcount adjustment in fallback (bnc#1012628).
- stmmac: pci: Adjust IOT2000 matching (bnc#1012628).
- team: fix possible recursive locking when add slaves
  (bnc#1012628).
- net: socionext: replace napi_alloc_frag with the netdev variant
  on init (bnc#1012628).
- net/ncsi: handle overflow when incrementing mac address
  (bnc#1012628).
- mlxsw: pci: Reincrease PCI reset timeout (bnc#1012628).
- mlxsw: spectrum: Put MC TCs into DWRR mode (bnc#1012628).
- net/mlx5e: Fix the max MTU check in case of XDP (bnc#1012628).
- net/mlx5e: Fix use-after-free after xdp_return_frame
  (bnc#1012628).
- net/tls: avoid potential deadlock in tls_set_device_offload_rx()
  (bnc#1012628).
- net/tls: don't leak IV and record seq when offload fails
  (bnc#1012628).
- commit 07c5318

-------------------------------------------------------------------
Wed May  1 23:18:08 CEST 2019 - tiwai@suse.de

- Revert "ACPICA: Clear status of GPEs before enabling them"
  (bsc#1132943).
- commit 13cf3aa

-------------------------------------------------------------------
Tue Apr 30 13:57:42 CEST 2019 - tiwai@suse.de

- HID: i2c-hid: Ignore input report if there's no data present
  on Elan touchpanels (bsc#1133486).
- commit 5a94296

-------------------------------------------------------------------
Tue Apr 30 07:16:33 CEST 2019 - mkubecek@suse.cz

- rdma: fix build errors on s390 and MIPS due to bad ZERO_PAGE use
  (http://lkml.kernel.org/r/20190429052136.GA21672@unicorn.suse.cz).
- Delete
  patches.suse/rdma-fix-argument-of-ZERO_PAGE-in-rdma_umap_fault.patch.
- commit a764394

-------------------------------------------------------------------
Tue Apr 30 07:14:58 CEST 2019 - jslaby@suse.cz

- KVM: x86: Whitelist port 0x7e for pre-incrementing %rip
  (bnc#1132694).
- Delete patches.suse/kvm-Workaround-OUT-0x7E.patch.
  Update per upstream.
- commit 93ba681

-------------------------------------------------------------------
Mon Apr 29 13:05:50 CEST 2019 - jslaby@suse.cz

- memcg: make it work on sparse non-0-node systems (bnc#1133616).
- commit c0ba22a

-------------------------------------------------------------------
Mon Apr 29 08:52:32 CEST 2019 - jslaby@suse.cz

- Workaround Qemu "OUT 0x7E" handling in KVM (bnc#1132694).
- commit e8fc1e9

-------------------------------------------------------------------
Mon Apr 29 08:12:08 CEST 2019 - mkubecek@suse.cz

- Update to 5.1-rc7
- add patches.suse/rdma-fix-argument-of-ZERO_PAGE-in-rdma_umap_fault.patch
  (tentative s390x build fix)
- New config options:
  - ARM:
    - KEYBOARD_SNVS_PWRKEY=m
  - armv7hl:
    - FRAME_POINTER=y
    - UNWINDER_FRAME_POINTER=y
- commit 04c1966

-------------------------------------------------------------------
Sat Apr 27 20:39:53 CEST 2019 - jslaby@suse.cz

- Linux 5.0.10 (bnc#1012628).
- bonding: fix event handling for stacked bonds (bnc#1012628).
- failover: allow name change on IFF_UP slave interfaces
  (bnc#1012628).
- net: atm: Fix potential Spectre v1 vulnerabilities
  (bnc#1012628).
- net: bridge: fix per-port af_packet sockets (bnc#1012628).
- net: bridge: multicast: use rcu to access port list from
  br_multicast_start_querier (bnc#1012628).
- net: fec: manage ahb clock in runtime pm (bnc#1012628).
- net: Fix missing meta data in skb with vlan packet
  (bnc#1012628).
- net: fou: do not use guehdr after iptunnel_pull_offloads in
  gue_udp_recv (bnc#1012628).
- tcp: tcp_grow_window() needs to respect tcp_space()
  (bnc#1012628).
- team: set slave to promisc if team is already in promisc mode
  (bnc#1012628).
- tipc: missing entries in name table of publications
  (bnc#1012628).
- vhost: reject zero size iova range (bnc#1012628).
- ipv4: recompile ip options in ipv4_link_failure (bnc#1012628).
- ipv4: ensure rcu_read_lock() in ipv4_link_failure()
  (bnc#1012628).
- mlxsw: spectrum_switchdev: Add MDB entries in prepare phase
  (bnc#1012628).
- mlxsw: core: Do not use WQ_MEM_RECLAIM for EMAD workqueue
  (bnc#1012628).
- mlxsw: core: Do not use WQ_MEM_RECLAIM for mlxsw ordered
  workqueue (bnc#1012628).
- mlxsw: core: Do not use WQ_MEM_RECLAIM for mlxsw workqueue
  (bnc#1012628).
- mlxsw: spectrum_router: Do not check VRF MAC address
  (bnc#1012628).
- net: thunderx: raise XDP MTU to 1508 (bnc#1012628).
- net: thunderx: don't allow jumbo frames with XDP (bnc#1012628).
- net/tls: fix the IV leaks (bnc#1012628).
- net/tls: don't leak partially sent record in device mode
  (bnc#1012628).
- net: strparser: partially revert "strparser: Call skb_unclone
  conditionally" (bnc#1012628).
- net/tls: fix build without CONFIG_TLS_DEVICE (bnc#1012628).
- net: bridge: fix netlink export of vlan_stats_per_port option
  (bnc#1012628).
- net/mlx5e: XDP, Avoid checksum complete when XDP prog is loaded
  (bnc#1012628).
- net/mlx5e: Protect against non-uplink representor for encap
  (bnc#1012628).
- net/mlx5e: Switch to Toeplitz RSS hash by default (bnc#1012628).
- net/mlx5e: Rx, Fixup skb checksum for packets with tail padding
  (bnc#1012628).
- net/mlx5e: Rx, Check ip headers sanity (bnc#1012628).
- Revert "net/mlx5e: Enable reporting checksum unnecessary also
  for L3 packets" (bnc#1012628).
- net/mlx5: FPGA, tls, hold rcu read lock a bit longer
  (bnc#1012628).
- net/tls: prevent bad memory access in
  tls_is_sk_tx_device_offloaded() (bnc#1012628).
- net/mlx5: FPGA, tls, idr remove on flow delete (bnc#1012628).
- route: Avoid crash from dereferencing NULL rt->from
  (bnc#1012628).
- nfp: flower: replace CFI with vlan present (bnc#1012628).
- nfp: flower: remove vlan CFI bit from push vlan action
  (bnc#1012628).
- sch_cake: Use tc_skb_protocol() helper for getting packet
  protocol (bnc#1012628).
- sch_cake: Make sure we can write the IP header before changing
  DSCP bits (bnc#1012628).
- NFC: nci: Add some bounds checking in nci_hci_cmd_received()
  (bnc#1012628).
- nfc: nci: Potential off by one in ->pipes[] array (bnc#1012628).
- sch_cake: Simplify logic in cake_select_tin() (bnc#1012628).
- CIFS: keep FileInfo handle live during oplock break
  (bnc#1012628).
- cifs: Fix lease buffer length error (bnc#1012628).
- cifs: Fix use-after-free in SMB2_write (bnc#1012628).
- cifs: Fix use-after-free in SMB2_read (bnc#1012628).
- cifs: fix handle leak in smb2_query_symlink() (bnc#1012628).
- fs/dax: Deposit pagetable even when installing zero page
  (bnc#1012628).
- KVM: x86: Don't clear EFER during SMM transitions for 32-bit
  vCPU (bnc#1012628).
- KVM: x86: svm: make sure NMI is injected after nmi_singlestep
  (bnc#1012628).
- Staging: iio: meter: fixed typo (bnc#1012628).
- staging: iio: ad7192: Fix ad7193 channel address (bnc#1012628).
- iio: gyro: mpu3050: fix chip ID reading (bnc#1012628).
- iio/gyro/bmg160: Use millidegrees for temperature scale
  (bnc#1012628).
- iio:chemical:bme680: Fix, report temperature in millidegrees
  (bnc#1012628).
- iio:chemical:bme680: Fix SPI read interface (bnc#1012628).
- iio: cros_ec: Fix the maths for gyro scale calculation
  (bnc#1012628).
- iio: ad_sigma_delta: select channel when reading register
  (bnc#1012628).
- iio: dac: mcp4725: add missing powerdown bits in store eeprom
  (bnc#1012628).
- iio: Fix scan mask selection (bnc#1012628).
- iio: adc: at91: disable adc channel interrupt in timeout case
  (bnc#1012628).
- iio: core: fix a possible circular locking dependency
  (bnc#1012628).
- io: accel: kxcjk1013: restore the range after resume
  (bnc#1012628).
- staging: most: core: use device description as name
  (bnc#1012628).
- staging: comedi: vmk80xx: Fix use of uninitialized semaphore
  (bnc#1012628).
- staging: comedi: vmk80xx: Fix possible double-free of
  ->usb_rx_buf (bnc#1012628).
- staging: comedi: ni_usb6501: Fix use of uninitialized mutex
  (bnc#1012628).
- staging: comedi: ni_usb6501: Fix possible double-free of
  ->usb_rx_buf (bnc#1012628).
- ALSA: hda/realtek - add two more pin configuration sets to
  quirk table (bnc#1012628).
- ALSA: core: Fix card races between register and disconnect
  (bnc#1012628).
- Input: elan_i2c - add hardware ID for multiple Lenovo laptops
  (bnc#1012628).
- serial: sh-sci: Fix HSCIF RX sampling point adjustment
  (bnc#1012628).
- serial: sh-sci: Fix HSCIF RX sampling point calculation
  (bnc#1012628).
- vt: fix cursor when clearing the screen (bnc#1012628).
- scsi: core: set result when the command cannot be dispatched
  (bnc#1012628).
- Revert "scsi: fcoe: clear FC_RP_STARTED flags when receiving
  a LOGO" (bnc#1012628).
- i3c: dw: Fix dw_i3c_master_disable controller by using correct
  mask (bnc#1012628).
- i3c: Fix the verification of random PID (bnc#1012628).
- Revert "svm: Fix AVIC incomplete IPI emulation" (bnc#1012628).
- coredump: fix race condition between
  mmget_not_zero()/get_task_mm() and core dumping (bnc#1012628).
- x86/kvm: move kvm_load/put_guest_xcr0 into atomic context
  (bnc#1012628).
- ipmi: fix sleep-in-atomic in free_user at cleanup SRCU
  user->release_barrier (bnc#1012628).
- crypto: x86/poly1305 - fix overflow during partial reduction
  (bnc#1012628).
- drm/ttm: fix out-of-bounds read in ttm_put_pages() v2
  (bnc#1012628).
- arm64: futex: Restore oldval initialization to work around
  buggy compilers (bnc#1012628).
- x86/kprobes: Verify stack frame on kretprobe (bnc#1012628).
- kprobes: Mark ftrace mcount handler functions nokprobe
  (bnc#1012628).
- x86/kprobes: Avoid kretprobe recursion bug (bnc#1012628).
- kprobes: Fix error check when reusing optimized probes
  (bnc#1012628).
- rt2x00: do not increment sequence number while re-transmitting
  (bnc#1012628).
- mac80211: do not call driver wake_tx_queue op during reconfig
  (bnc#1012628).
- s390/mem_detect: Use IS_ENABLED(CONFIG_BLK_DEV_INITRD)
  (bnc#1012628).
- drm/amdgpu/gmc9: fix VM_L2_CNTL3 programming (bnc#1012628).
- perf/x86/amd: Add event map for AMD Family 17h (bnc#1012628).
- x86/cpu/bugs: Use __initconst for 'const' init data
  (bnc#1012628).
- perf/x86: Fix incorrect PEBS_REGS (bnc#1012628).
- x86/speculation: Prevent deadlock on ssb_state::lock
  (bnc#1012628).
- timers/sched_clock: Prevent generic sched_clock wrap caused
  by tick_freeze() (bnc#1012628).
- nfit/ars: Remove ars_start_flags (bnc#1012628).
- nfit/ars: Introduce scrub_flags (bnc#1012628).
- nfit/ars: Allow root to busy-poll the ARS state machine
  (bnc#1012628).
- nfit/ars: Avoid stale ARS results (bnc#1012628).
- tpm/tpm_i2c_atmel: Return -E2BIG when the transfer is incomplete
  (bnc#1012628).
- tpm: Fix the type of the return value in calc_tpm2_event_size()
  (bnc#1012628).
- Revert "kbuild: use -Oz instead of -Os when using clang"
  (bnc#1012628).
- sched/fair: Limit sched_cfs_period_timer() loop to avoid hard
  lockup (bnc#1012628).
- tpm: fix an invalid condition in tpm_common_poll (bnc#1012628).
- mt76x02: avoid status_list.lock and sta->rate_ctrl_lock
  dependency (bnc#1012628).
- device_cgroup: fix RCU imbalance in error case (bnc#1012628).
- perf/ring_buffer: Fix AUX record suppression (bnc#1012628).
- mm/memory_hotplug: do not unlock after failing to take the
  device_hotplug_lock (bnc#1012628).
- mm/vmstat.c: fix /proc/vmstat format for CONFIG_DEBUG_TLBFLUSH=y
  CONFIG_SMP=n (bnc#1012628).
- ALSA: info: Fix racy addition/deletion of nodes (bnc#1012628).
- percpu: stop printing kernel addresses (bnc#1012628).
- commit 048e1d2

-------------------------------------------------------------------
Fri Apr 26 14:39:44 CEST 2019 - jslaby@suse.cz

- kernel/sysctl.c: fix out-of-bounds access when setting file-max
  (kasan).
- commit 09ca824

-------------------------------------------------------------------
Sun Apr 21 23:26:04 CEST 2019 - mkubecek@suse.cz

- Update to v5.1-rc6
- New config options:
  - IIO:
    - SENSIRION_SGP30=n
- commit ab97af0

-------------------------------------------------------------------
Sun Apr 21 08:41:57 CEST 2019 - jslaby@suse.cz

- Linux 5.0.9 (bnc#1012628).
- paride/pcd: Fix potential NULL pointer dereference and mem leak
  (bnc#1012628).
- paride/pf: Fix potential NULL pointer dereference (bnc#1012628).
- IB/hfi1: Failed to drain send queue when QP is put into error
  state (bnc#1012628).
- bpf: fix use after free in bpf_evict_inode (bnc#1012628).
- include/linux/swap.h: use offsetof() instead of custom
  __swapoffset macro (bnc#1012628).
- f2fs: fix to add refcount once page is tagged PG_private
  (bnc#1012628).
- f2fs: fix to use kvfree instead of kzfree (bnc#1012628).
- f2fs: fix to dirty inode for i_mode recovery (bnc#1012628).
- rxrpc: Fix client call connect/disconnect race (bnc#1012628).
- lib/div64.c: off by one in shift (bnc#1012628).
- cifs: return -ENODATA when deleting an xattr that does not exist
  (bnc#1012628).
- appletalk: Fix use-after-free in atalk_proc_exit (bnc#1012628).
- drm/amdkfd: use init_mqd function to allocate object for hid_mqd
  (CI) (bnc#1012628).
- ARM: 8839/1: kprobe: make patch_lock a raw_spinlock_t
  (bnc#1012628).
- platform/x86: intel_pmc_core: Quirk to ignore XTAL shutdown
  (bnc#1012628).
- drm/nouveau/volt/gf117: fix speedo readout register
  (bnc#1012628).
- f2fs: sync filesystem after roll-forward recovery (bnc#1012628).
- PCI/ASPM: Save LTR Capability for suspend/resume (bnc#1012628).
- PCI: Blacklist power management of Gigabyte X299 DESIGNARE EX
  PCIe ports (bnc#1012628).
- coresight: cpu-debug: Support for CA73 CPUs (bnc#1012628).
- RDMA/hns: Fix the Oops during rmmod or insmod ko when reset
  occurs (bnc#1012628).
- Revert "ACPI / EC: Remove old CLEAR_ON_RESUME quirk"
  (bnc#1012628).
- crypto: axis - fix for recursive locking from bottom half
  (bnc#1012628).
- net: hns3: Fix NULL deref when unloading driver (bnc#1012628).
- drm/panel: panel-innolux: set display off in
  innolux_panel_unprepare (bnc#1012628).
- drm/amdgpu: psp_ring_destroy cause psp->km_ring.ring_mem NULL
  (bnc#1012628).
- lkdtm: Add tests for NULL pointer dereference (bnc#1012628).
- lkdtm: Print real addresses (bnc#1012628).
- ext4: prohibit fstrim in norecovery mode (bnc#1012628).
- x86/gart: Exclude GART aperture from kcore (bnc#1012628).
- cifs: Fix slab-out-of-bounds when tracing SMB tcon
  (bnc#1012628).
- fix incorrect error code mapping for OBJECTID_NOT_FOUND
  (bnc#1012628).
- cifs: fix that return -EINVAL when do dedupe operation
  (bnc#1012628).
- x86/hw_breakpoints: Make default case in
  hw_breakpoint_arch_parse() return an error (bnc#1012628).
- iommu/vt-d: Save the right domain ID used by hardware
  (bnc#1012628).
- iommu/vt-d: Check capability before disabling protected memory
  (bnc#1012628).
- drm/nouveau/debugfs: Fix check of pm_runtime_get_sync failure
  (bnc#1012628).
- x86/cpu/cyrix: Use correct macros for Cyrix calls on Geode
  processors (bnc#1012628).
- x86/hyperv: Prevent potential NULL pointer dereference
  (bnc#1012628).
- x86/hpet: Prevent potential NULL pointer dereference
  (bnc#1012628).
- irqchip/mbigen: Don't clear eventid when freeing an MSI
  (bnc#1012628).
- irqchip/stm32: Don't set rising configuration registers at init
  (bnc#1012628).
- irqchip/stm32: Don't clear rising/falling config registers at
  init (bnc#1012628).
- drm/exynos/mixer: fix MIXER shadow registry synchronisation code
  (bnc#1012628).
- blk-iolatency: #include "blk.h" (bnc#1012628).
- PM / Domains: Avoid a potential deadlock (bnc#1012628).
- ACPI / utils: Drop reference in test for device presence
  (bnc#1012628).
- perf tests: Fix a memory leak in
  test__perf_evsel__tp_sched_test() (bnc#1012628).
- perf tests: Fix memory leak by expr__find_other() in
  test__expr() (bnc#1012628).
- perf tests: Fix a memory leak of cpu_map object in the
  openat_syscall_event_on_all_cpus test (bnc#1012628).
- perf evsel: Free evsel->counts in perf_evsel__exit()
  (bnc#1012628).
- perf top: Fix global-buffer-overflow issue (bnc#1012628).
- perf maps: Purge all maps from the 'names' tree (bnc#1012628).
- perf map: Remove map from 'names' tree in __maps__remove()
  (bnc#1012628).
- perf hist: Add missing map__put() in error case (bnc#1012628).
- perf top: Fix error handling in cmd_top() (bnc#1012628).
- perf build-id: Fix memory leak in print_sdt_events()
  (bnc#1012628).
- perf config: Fix a memory leak in collect_config()
  (bnc#1012628).
- perf config: Fix an error in the config template documentation
  (bnc#1012628).
- perf tools: Fix errors under optimization level '-Og'
  (bnc#1012628).
- perf list: Don't forget to drop the reference to the allocated
  thread_map (bnc#1012628).
- perf stat: Fix --no-scale (bnc#1012628).
- scsi: qla2xxx: Fix NULL pointer crash due to stale CPUID
  (bnc#1012628).
- scsi: core: Also call destroy_rcu_head() for passthrough
  requests (bnc#1012628).
- tools/power turbostat: return the exit status of a command
  (bnc#1012628).
- x86/mm: Don't leak kernel addresses (bnc#1012628).
- sched/core: Fix buffer overflow in cgroup2 property cpu.max
  (bnc#1012628).
- sched/cpufreq: Fix 32-bit math overflow (bnc#1012628).
- scsi: iscsi: flush running unbind operations when removing a
  session (bnc#1012628).
- thermal/intel_powerclamp: fix truncated kthread name
  (bnc#1012628).
- thermal/int340x_thermal: fix mode setting (bnc#1012628).
- thermal/int340x_thermal: Add additional UUIDs (bnc#1012628).
- thermal: bcm2835: Fix crash in bcm2835_thermal_debugfs
  (bnc#1012628).
- thermal: samsung: Fix incorrect check after code merge
  (bnc#1012628).
- thermal/intel_powerclamp: fix __percpu declaration of
  worker_data (bnc#1012628).
- paride/pcd: cleanup queues when detection fails (bnc#1012628).
- paride/pf: cleanup queues when detection fails (bnc#1012628).
- ALSA: opl3: fix mismatch between snd_opl3_drum_switch definition
  and declaration (bnc#1012628).
- mmc: davinci: remove extraneous __init annotation (bnc#1012628).
- i40iw: Avoid panic when handling the inetdev event
  (bnc#1012628).
- IB/mlx4: Fix race condition between catas error reset and
  aliasguid flows (bnc#1012628).
- drm/udl: use drm_gem_object_put_unlocked (bnc#1012628).
- auxdisplay: hd44780: Fix memory leak on ->remove()
  (bnc#1012628).
- ALSA: sb8: add a check for request_region (bnc#1012628).
- ALSA: echoaudio: add a check for ioremap_nocache (bnc#1012628).
- ext4: report real fs size after failed resize (bnc#1012628).
- ext4: add missing brelse() in add_new_gdb_meta_bg()
  (bnc#1012628).
- ext4: avoid panic during forced reboot (bnc#1012628).
- mips: bcm47xx: Enable USB power on Netgear WNDR3400v2
  (bnc#1012628).
- perf/core: Restore mmap record type correctly (bnc#1012628).
- inotify: Fix fsnotify_mark refcount leak in
  inotify_update_existing_watch() (bnc#1012628).
- arc: hsdk_defconfig: Enable CONFIG_BLK_DEV_RAM (bnc#1012628).
- ARC: u-boot args: check that magic number is correct
  (bnc#1012628).
- commit 7bd8353

-------------------------------------------------------------------
Wed Apr 17 12:22:56 CEST 2019 - tiwai@suse.de

- brcmfmac: assure SSID length from firmware is limited
  (CVE-2019-9500,bsc#1132681).
- brcmfmac: add subtype check for event handling in data path
  (CVE-2019-8564,bsc#1132673).
- commit 4835ec0

-------------------------------------------------------------------
Wed Apr 17 11:17:39 CEST 2019 - jslaby@suse.cz

- Move the vfio patch from kernel.org to suse.
  kernel.org is only for stable patches.
- commit 6daf8be

-------------------------------------------------------------------
Wed Apr 17 11:16:48 CEST 2019 - jslaby@suse.cz

- Linux 5.0.8 (bnc#1012628).
- drm/i915/gvt: do not let pin count of shadow mm go negative
  (bnc#1012628).
- kbuild: pkg: use -f $(srctree)/Makefile to recurse to top
  Makefile (bnc#1012628).
- netfilter: nft_compat: use .release_ops and remove list of
  extension (bnc#1012628).
- netfilter: nf_tables: use-after-free in dynamic operations
  (bnc#1012628).
- netfilter: nf_tables: add missing ->release_ops() in error
  path of newrule() (bnc#1012628).
- hv_netvsc: Fix unwanted wakeup after tx_disable (bnc#1012628).
- ibmvnic: Fix completion structure initialization (bnc#1012628).
- ip6_tunnel: Match to ARPHRD_TUNNEL6 for dev type (bnc#1012628).
- ipv6: Fix dangling pointer when ipv6 fragment (bnc#1012628).
- ipv6: sit: reset ip header pointer in ipip6_rcv (bnc#1012628).
- net: ethtool: not call vzalloc for zero sized memory request
  (bnc#1012628).
- net-gro: Fix GRO flush when receiving a GSO packet
  (bnc#1012628).
- net/mlx5: Decrease default mr cache size (bnc#1012628).
- netns: provide pure entropy for net_hash_mix() (bnc#1012628).
- net: rds: force to destroy connection if t_sock is NULL in
  rds_tcp_kill_sock() (bnc#1012628).
- net/sched: act_sample: fix divide by zero in the traffic path
  (bnc#1012628).
- net/sched: fix ->get helper of the matchall cls (bnc#1012628).
- openvswitch: fix flow actions reallocation (bnc#1012628).
- qmi_wwan: add Olicard 600 (bnc#1012628).
- r8169: disable ASPM again (bnc#1012628).
- sctp: initialize _pad of sockaddr_in before copying to user
  memory (bnc#1012628).
- tcp: Ensure DCTCP reacts to losses (bnc#1012628).
- tcp: fix a potential NULL pointer dereference in tcp_sk_exit
  (bnc#1012628).
- vrf: check accept_source_route on the original netdevice
  (bnc#1012628).
- net/mlx5e: Fix error handling when refreshing TIRs
  (bnc#1012628).
- net/mlx5e: Add a lock on tir list (bnc#1012628).
- nfp: validate the return code from dev_queue_xmit()
  (bnc#1012628).
- nfp: disable netpoll on representors (bnc#1012628).
- bnxt_en: Improve RX consumer index validity check (bnc#1012628).
- bnxt_en: Reset device on RX buffer errors (bnc#1012628).
- net: ip_gre: fix possible use-after-free in erspan_rcv
  (bnc#1012628).
- net: ip6_gre: fix possible use-after-free in ip6erspan_rcv
  (bnc#1012628).
- net: bridge: always clear mcast matching struct on reports
  and leaves (bnc#1012628).
- net: thunderx: fix NULL pointer dereference in
  nicvf_open/nicvf_stop (bnc#1012628).
- net: vrf: Fix ping failed when vrf mtu is set to 0
  (bnc#1012628).
- net: core: netif_receive_skb_list: unlist skb before passing
  to pt->func (bnc#1012628).
- r8169: disable default rx interrupt coalescing on RTL8168
  (bnc#1012628).
- net: mlx5: Add a missing check on idr_find, free buf
  (bnc#1012628).
- net/mlx5e: Update xoff formula (bnc#1012628).
- net/mlx5e: Update xon formula (bnc#1012628).
- kbuild: clang: choose GCC_TOOLCHAIN_DIR not on LD (bnc#1012628).
- lib/string.c: implement a basic bcmp (bnc#1012628).
- Revert "clk: meson: clean-up clock registration" (bnc#1012628).
- tty: mark Siemens R3964 line discipline as BROKEN (bnc#1012628).
- tty: ldisc: add sysctl to prevent autoloading of ldiscs
  (bnc#1012628).
- hwmon: (w83773g) Select REGMAP_I2C to fix build error
  (bnc#1012628).
- hwmon: (occ) Fix power sensor indexing (bnc#1012628).
- SMB3: Allow persistent handle timeout to be configurable on
  mount (bnc#1012628).
- HID: logitech: Handle 0 scroll events for the m560
  (bnc#1012628).
- ACPICA: Clear status of GPEs before enabling them (bnc#1012628).
- ACPICA: Namespace: remove address node from global list after
  method termination (bnc#1012628).
- ALSA: seq: Fix OOB-reads from strlcpy (bnc#1012628).
- ALSA: hda/realtek: Enable headset MIC of Acer TravelMate
  B114-21 with ALC233 (bnc#1012628).
- ALSA: hda/realtek - Add quirk for Tuxedo XC 1509 (bnc#1012628).
- ALSA: xen-front: Do not use stream buffer size before it is set
  (bnc#1012628).
- ALSA: hda - Add two more machines to the power_save_blacklist
  (bnc#1012628).
- mm/huge_memory.c: fix modifying of page protection by
  insert_pfn_pmd() (bnc#1012628).
- arm64: dts: rockchip: fix rk3328 sdmmc0 write errors
  (bnc#1012628).
- mmc: alcor: don't write data before command has completed
  (bnc#1012628).
- mmc: sdhci-omap: Don't finish_mrq() on a command error during
  tuning (bnc#1012628).
- parisc: Detect QEMU earlier in boot process (bnc#1012628).
- parisc: regs_return_value() should return gpr28 (bnc#1012628).
- parisc: also set iaoq_b in instruction_pointer_set()
  (bnc#1012628).
- alarmtimer: Return correct remaining time (bnc#1012628).
- drm/i915/gvt: do not deliver a workload if its creation fails
  (bnc#1012628).
- drm/sun4i: DW HDMI: Lower max. supported rate for H6
  (bnc#1012628).
- drm/udl: add a release method and delay modeset teardown
  (bnc#1012628).
- kvm: svm: fix potential get_num_contig_pages overflow
  (bnc#1012628).
- include/linux/bitrev.h: fix constant bitrev (bnc#1012628).
- mm: writeback: use exact memcg dirty counts (bnc#1012628).
- ASoC: intel: Fix crash at suspend/resume after failed codec
  registration (bnc#1012628).
- ASoC: fsl_esai: fix channel swap issue when stream starts
  (bnc#1012628).
- Btrfs: do not allow trimming when a fs is mounted with the
  nologreplay option (bnc#1012628).
- btrfs: prop: fix zstd compression parameter validation
  (bnc#1012628).
- btrfs: prop: fix vanished compression property after failed set
  (bnc#1012628).
- riscv: Fix syscall_get_arguments() and syscall_set_arguments()
  (bnc#1012628).
- block: Revert v5.0 blk_mq_request_issue_directly() changes
  (bnc#1012628).
- block: do not leak memory in bio_copy_user_iov() (bnc#1012628).
- block: fix the return errno for direct IO (bnc#1012628).
- genirq: Respect IRQCHIP_SKIP_SET_WAKE in
  irq_chip_set_wake_parent() (bnc#1012628).
- genirq: Initialize request_mutex if CONFIG_SPARSE_IRQ=n
  (bnc#1012628).
- virtio: Honour 'may_reduce_num' in vring_create_virtqueue
  (bnc#1012628).
- ARM: OMAP1: ams-delta: Fix broken GPIO ID allocation
  (bnc#1012628).
- ARM: dts: rockchip: fix rk3288 cpu opp node reference
  (bnc#1012628).
- ARM: dts: am335x-evmsk: Correct the regulators for the audio
  codec (bnc#1012628).
- ARM: dts: am335x-evm: Correct the regulators for the audio codec
  (bnc#1012628).
- ARM: dts: rockchip: Fix SD card detection on rk3288-tinker
  (bnc#1012628).
- ARM: dts: at91: Fix typo in ISC_D0 on PC9 (bnc#1012628).
- arm64: futex: Fix FUTEX_WAKE_OP atomic ops with non-zero result
  value (bnc#1012628).
- arm64: dts: rockchip: Fix vcc_host1_5v GPIO polarity on
  rk3328-rock64 (bnc#1012628).
- arm64: dts: rockchip: fix rk3328 rgmii high tx error rate
  (bnc#1012628).
- arm64: backtrace: Don't bother trying to unwind the userspace
  stack (bnc#1012628).
- arm64/ftrace: fix inadvertent BUG() in trampoline check
  (bnc#1012628).
- IB/mlx5: Reset access mask when looping inside page fault
  handler (bnc#1012628).
- xen: Prevent buffer overflow in privcmd ioctl (bnc#1012628).
- sched/fair: Do not re-read ->h_load_next during hierarchical
  load calculation (bnc#1012628).
- xtensa: fix return_address (bnc#1012628).
- csky: Fix syscall_get_arguments() and syscall_set_arguments()
  (bnc#1012628).
- x86/asm: Remove dead __GNUC__ conditionals (bnc#1012628).
- x86/asm: Use stricter assembly constraints in bitops
  (bnc#1012628).
- x86/perf/amd: Resolve race condition when disabling PMC
  (bnc#1012628).
- x86/perf/amd: Resolve NMI latency issues for active PMCs
  (bnc#1012628).
- x86/perf/amd: Remove need to check "running" bit in NMI handler
  (bnc#1012628).
- PCI: Add function 1 DMA alias quirk for Marvell 9170 SATA
  controller (bnc#1012628).
- PCI: pciehp: Ignore Link State Changes after powering off a slot
  (bnc#1012628).
- xprtrdma: Fix helper that drains the transport (bnc#1012628).
- powerpc/64s/radix: Fix radix segment exception handling
  (bnc#1012628).
- dm integrity: change memcmp to strncmp in dm_integrity_ctr
  (bnc#1012628).
- dm: revert 8f50e358153d ("dm: limit the max bio size as
  BIO_MAX_PAGES * PAGE_SIZE") (bnc#1012628).
- dm table: propagate BDI_CAP_STABLE_WRITES to fix sporadic
  checksum errors (bnc#1012628).
- dm: disable DISCARD if the underlying storage no longer supports
  it (bnc#1012628).
- dm integrity: fix deadlock with overlapping I/O (bnc#1012628).
- drm/virtio: do NOT reuse resource ids (bnc#1012628).
- Update config files: keep LDISC_AUTOLOAD and let R3964 go
  * LDISC_AUTOLOAD is new and =y preserves the original behaviour.
  * R3964 was marked as BROKEN.
- commit 33c0e93

-------------------------------------------------------------------
Tue Apr 16 22:38:29 CEST 2019 - mkubecek@suse.cz

- series.conf: cleanup
  patches.suse/ext2-fsync-err was deleted in 2011 but its (commented out)
  line in series.conf was left behind.
- commit d2aebe3

-------------------------------------------------------------------
Mon Apr 15 20:14:10 CEST 2019 - jkosina@suse.cz

- Delete
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Delete
  patches.suse/0002-x86-speculation-Add-inlines-to-control-Indirect-Bran.patch.
- Delete
  patches.suse/0003-x86-idle-Control-Indirect-Branch-Speculation-in-idle.patch.
- Delete
  patches.suse/0004-x86-enter-Create-macros-to-restrict-unrestrict-Indir.patch.
- Delete
  patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
  Drop SUSE-specific IBRS-on-SKL implementation. Please refer to
  page 16 of Intel's paper [1]: "Intel considers the risk of an attack
  based on exploiting deep call stacks low."
  [1] https://software.intel.com/security-software-guidance/api-app/sites/default/files/Retpoline-A-Branch-Target-Injection-Mitigation.pdf
- Delete
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Delete
  patches.suse/0002-x86-speculation-Add-inlines-to-control-Indirect-Bran.patch.
- Delete
  patches.suse/0003-x86-idle-Control-Indirect-Branch-Speculation-in-idle.patch.
- Delete
  patches.suse/0004-x86-enter-Create-macros-to-restrict-unrestrict-Indir.patch.
- Delete
  patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
  Drop SUSE-specific IBRS-on-SKL implementation. Please refer to
  page 16 of [1]
  [1] https://software.intel.com/security-software-guidance/api-app/sites/default/files/Retpoline-A-Branch-Target-Injection-Mitigation.pdf
- commit 2cfda4d

-------------------------------------------------------------------
Mon Apr 15 12:44:40 CEST 2019 - jslaby@suse.cz

- Refresh
  patches.suse/drm-i915-dp-revert-back-to-max-link-rate-and-lane-count-on-eDP.patch.
- commit 8a6bcaf

-------------------------------------------------------------------
Mon Apr 15 01:02:01 CEST 2019 - mkubecek@suse.cz

- Update to 5.1-rc5
- commit 2fd333d

-------------------------------------------------------------------
Fri Apr 12 15:02:34 CEST 2019 - jroedel@suse.de

- vfio/type1: Limit DMA mappings per container (CVE-2019-3882 bsc#1131427).
- commit 012b5f1

-------------------------------------------------------------------
Fri Apr 12 14:16:06 CEST 2019 - jroedel@suse.de

- KVM: x86: nVMX: fix x2APIC VTPR read intercept (CVE-2019-3887
  bsc#1131800).
- KVM: x86: nVMX: close leak of L0's x2APIC MSRs (CVE-2019-3887)
  (CVE-2019-3887 bsc#1131800).
- commit d597027

-------------------------------------------------------------------
Thu Apr 11 17:09:53 CEST 2019 - msuchanek@suse.de

- Do not provide kernel-default from kernel-default-base (boo#1132154, bsc#1106751).
- commit 0e54e61

-------------------------------------------------------------------
Thu Apr 11 16:16:28 CEST 2019 - msuchanek@suse.de

- rpm/kernel-subpackage-spec: only provide firmware actually present in
  subpackage.
- commit 839debd

-------------------------------------------------------------------
Thu Apr 11 09:41:42 CEST 2019 - jslaby@suse.cz

- kcm: switch order of device registration to fix a crash
  (bnc#1130527).
- commit 508a450

-------------------------------------------------------------------
Wed Apr 10 14:02:14 CEST 2019 - msuchanek@suse.de

- kernel-subpackage-spec: Add dummy package to ensure subpackages are
  rebuilt with kernel update (bsc#1106751).
  In factory packages are not rebuilt automatically so a dependency is
  needed on the old kernel to get a rebuild with the new kernel. THe
  subpackage itself cannot depend on the kernel so add another empty
  pacakge that does depend on it.
- commit 6d14837

-------------------------------------------------------------------
Wed Apr 10 12:17:44 CEST 2019 - tiwai@suse.de

- drm/i915/dp: revert back to max link rate and lane count on eDP
  (bsc#1132033).
- commit d7dabeb

-------------------------------------------------------------------
Tue Apr  9 14:58:30 CEST 2019 - jdelvare@suse.de

- Disable CONFIG_SERIO_OLPC_APSP on all but armv7
  This driver is only used by ARMv7-based OLPC laptops.
- commit 7b1b640

-------------------------------------------------------------------
Tue Apr  9 14:53:59 CEST 2019 - jdelvare@suse.de

- Disable CONFIG_SENSORS_OCC_*
  These drivers are running on the BMC of PowerPC servers. The BMC runs
  OpenBMC and is not a target for SUSE distributions.
- commit a82eb87

-------------------------------------------------------------------
Mon Apr  8 07:34:05 CEST 2019 - mkubecek@suse.cz

- config: disable DEVKMEM (bsc#1128045)
- commit 8b88553

-------------------------------------------------------------------
Mon Apr  8 07:30:49 CEST 2019 - mkubecek@suse.cz

- Update to 5.1-rc4
- Refresh configs
- commit e334e4f

-------------------------------------------------------------------
Sat Apr  6 16:47:49 CEST 2019 - jslaby@suse.cz

- Linux 5.0.7 (bnc#1012628).
- ext4: cleanup bh release code in ext4_ind_remove_space()
  (bnc#1012628).
- CIFS: fix POSIX lock leak and invalid ptr deref (bnc#1012628).
- nvme-fc: fix numa_node when dev is null (bnc#1012628).
- nvme-loop: init nvmet_ctrl fatal_err_work when allocate
  (bnc#1012628).
- h8300: use cc-cross-prefix instead of hardcoding
  h8300-unknown-linux- (bnc#1012628).
- f2fs: fix to adapt small inline xattr space in
  __find_inline_xattr() (bnc#1012628).
- f2fs: fix to avoid deadlock in f2fs_read_inline_dir()
  (bnc#1012628).
- apparmor: fix double free when unpack of secmark rules fails
  (bnc#1012628).
- tracing: kdb: Fix ftdump to not sleep (bnc#1012628).
- net/mlx5e: Fix access to non-existing receive queue
  (bnc#1012628).
- net/mlx5: Avoid panic when setting vport rate (bnc#1012628).
- net/mlx5: Avoid panic when setting vport mac, getting vport
  config (bnc#1012628).
- xsk: fix to reject invalid flags in xsk_bind (bnc#1012628).
- clk: ti: clkctrl: Fix clkdm_name regression for
  TI_CLK_CLKCTRL_COMPAT (bnc#1012628).
- gpio: gpio-omap: fix level interrupt idling (bnc#1012628).
- include/linux/relay.h: fix percpu annotation in struct rchan
  (bnc#1012628).
- sysctl: handle overflow for file-max (bnc#1012628).
- net: stmmac: Avoid sometimes uninitialized Clang warnings
  (bnc#1012628).
- enic: fix build warning without CONFIG_CPUMASK_OFFSTACK
  (bnc#1012628).
- libbpf: force fixdep compilation at the start of the build
  (bnc#1012628).
- scsi: hisi_sas: Set PHY linkrate when disconnected
  (bnc#1012628).
- scsi: hisi_sas: Fix a timeout race of driver internal and SMP IO
  (bnc#1012628).
- iio: adc: fix warning in Qualcomm PM8xxx HK/XOADC driver
  (bnc#1012628).
- x86/hyperv: Fix kernel panic when kexec on HyperV (bnc#1012628).
- perf c2c: Fix c2c report for empty numa node (bnc#1012628).
- mm/sparse: fix a bad comparison (bnc#1012628).
- mm/cma.c: cma_declare_contiguous: correct err handling
  (bnc#1012628).
- mm/page_ext.c: fix an imbalance with kmemleak (bnc#1012628).
- mm, swap: bounds check swap_info array accesses to avoid NULL
  derefs (bnc#1012628).
- docs/core-api/mm: fix user memory accessors formatting
  (bnc#1012628).
- mm,oom: don't kill global init via memory.oom.group
  (bnc#1012628).
- memcg: killed threads should not invoke memcg OOM killer
  (bnc#1012628).
- mm, mempolicy: fix uninit memory access (bnc#1012628).
- mm/vmalloc.c: fix kernel BUG at mm/vmalloc.c:512! (bnc#1012628).
- mm/slab.c: kmemleak no scan alien caches (bnc#1012628).
- ocfs2: fix a panic problem caused by o2cb_ctl (bnc#1012628).
- f2fs: do not use mutex lock in atomic context (bnc#1012628).
- f2fs: fix to data block override node segment by mistake
  (bnc#1012628).
- fs/file.c: initialize init_files.resize_wait (bnc#1012628).
- page_poison: play nicely with KASAN (bnc#1012628).
- kasan: fix kasan_check_read/write definitions (bnc#1012628).
- cifs: use correct format characters (bnc#1012628).
- dm thin: add sanity checks to thin-pool and external snapshot
  creation (bnc#1012628).
- f2fs: fix to check inline_xattr_size boundary correctly
  (bnc#1012628).
- cifs: Accept validate negotiate if server return
  NT_STATUS_NOT_SUPPORTED (bnc#1012628).
- perf beauty msg_flags: Add missing %s lost when adding prefix
  suppression logic (bnc#1012628).
- netfilter: nf_tables: check the result of dereferencing
  base_chain->stats (bnc#1012628).
- PCI: mediatek: Fix memory mapped IO range size computation
  (bnc#1012628).
- netfilter: conntrack: tcp: only close if RST matches exact
  sequence (bnc#1012628).
- iommu/vt-d: Disable ATS support on untrusted devices
  (bnc#1012628).
- jbd2: fix invalid descriptor block checksum (bnc#1012628).
- ext4: fix bigalloc cluster freeing when hole punching under load
  (bnc#1012628).
- fs: fix guard_bio_eod to check for real EOD errors
  (bnc#1012628).
- tools lib traceevent: Fix buffer overflow in arg_eval
  (bnc#1012628).
- mm/resource: Return real error codes from walk failures
  (bnc#1012628).
- PCI/PME: Fix hotplug/sysfs remove deadlock in pcie_pme_remove()
  (bnc#1012628).
- wil6210: check null pointer in _wil_cfg80211_merge_extra_ies
  (bnc#1012628).
- mt76: fix a leaked reference by adding a missing of_node_put
  (bnc#1012628).
- ath10k: Fix the wrong updation of BW in tx_stats debugfs entry
  (bnc#1012628).
- lockdep/lib/tests: Fix run_tests.sh (bnc#1012628).
- crypto: crypto4xx - add missing of_node_put after
  of_device_is_available (bnc#1012628).
- crypto: cavium/zip - fix collision with generic cra_driver_name
  (bnc#1012628).
- tools/bpf: selftests: add map lookup to test_map_in_map bpf prog
  (bnc#1012628).
- usb: chipidea: Grab the (legacy) USB PHY by phandle first
  (bnc#1012628).
- powerpc/powernv/ioda: Fix locked_vm counting for memory used
  by IOMMU tables (bnc#1012628).
- scsi: core: replace GFP_ATOMIC with GFP_KERNEL in scsi_scan.c
  (bnc#1012628).
- kbuild: invoke syncconfig if include/config/auto.conf.cmd is
  missing (bnc#1012628).
- kbuild: make -r/-R effective in top Makefile for old Make
  versions (bnc#1012628).
- btrfs: save drop_progress if we drop refs at all (bnc#1012628).
- drm/amd/display: Fix reference counting for struct dc_sink
  (bnc#1012628).
- ath10k: don't report unset rssi values to mac80211
  (bnc#1012628).
- powerpc/xmon: Fix opcode being uninitialized in
  print_insn_powerpc (bnc#1012628).
- coresight: etm4x: Add support to enable ETMv4.2 (bnc#1012628).
- serial: 8250_pxa: honor the port number from devicetree
  (bnc#1012628).
- ARM: 8840/1: use a raw_spinlock_t in unwind (bnc#1012628).
- ARM: 8845/1: use unified assembler in c files (bnc#1012628).
- iommu/io-pgtable-arm-v7s: Only kmemleak_ignore L2 tables
  (bnc#1012628).
- powerpc/hugetlb: Handle mmap_min_addr correctly in
  get_unmapped_area callback (bnc#1012628).
- net: dsa: mv88e6xxx: Default CMODE to 1000BaseX only on 6390X
  (bnc#1012628).
- ice: fix ice_remove_rule_internal vsi_list handling
  (bnc#1012628).
- perf script: Handle missing fields with -F +. (bnc#1012628).
- btrfs: qgroup: Make qgroup async transaction commit more
  aggressive (bnc#1012628).
- btrfs: don't enospc all tickets on flush failure (bnc#1012628).
- mmc: omap: fix the maximum timeout setting (bnc#1012628).
- net: dsa: mv88e6xxx: Add lockdep classes to fix false positive
  splat (bnc#1012628).
- net: hns3: fix setting of the hns reset_type for rdma hw errors
  (bnc#1012628).
- veth: Fix -Wformat-truncation (bnc#1012628).
- e1000e: Fix -Wformat-truncation warnings (bnc#1012628).
- mlxsw: spectrum: Avoid -Wformat-truncation warnings
  (bnc#1012628).
- i2c: Allow recovery of the initial IRQ by an I2C client device
  (bnc#1012628).
- platform/x86: ideapad-laptop: Fix no_hw_rfkill_list for Lenovo
  RESCUER R720-15IKBN (bnc#1012628).
- platform/mellanox: mlxreg-hotplug: Fix KASAN warning
  (bnc#1012628).
- loop: set GENHD_FL_NO_PART_SCAN after blkdev_reread_part()
  (bnc#1012628).
- i2c: designware: Do not allow i2c_dw_xfer() calls while
  suspended (bnc#1012628).
- IB/mlx4: Increase the timeout for CM cache (bnc#1012628).
- clk: fractional-divider: check parent rate only if flag is set
  (bnc#1012628).
- perf annotate: Fix getting source line failure (bnc#1012628).
- powerpc/44x: Force PCI on for CURRITUCK (bnc#1012628).
- ASoC: qcom: Fix of-node refcount unbalance in
  qcom_snd_parse_of() (bnc#1012628).
- cpufreq: acpi-cpufreq: Report if CPU doesn't support boost
  technologies (bnc#1012628).
- efi: cper: Fix possible out-of-bounds access (bnc#1012628).
- s390/ism: ignore some errors during deregistration
  (bnc#1012628).
- scsi: megaraid_sas: return error when create DMA pool failed
  (bnc#1012628).
- scsi: fcoe: make use of fip_mode enum complete (bnc#1012628).
- drm/amd/display: Clear stream->mode_changed after commit
  (bnc#1012628).
- perf test: Fix failure of 'evsel-tp-sched' test on s390
  (bnc#1012628).
- mwifiex: don't advertise IBSS features without FW support
  (bnc#1012628).
- perf report: Don't shadow inlined symbol with different addr
  range (bnc#1012628).
- SoC: imx-sgtl5000: add missing put_device() (bnc#1012628).
- media: ov7740: fix runtime pm initialization (bnc#1012628).
- media: sh_veu: Correct return type for mem2mem buffer helpers
  (bnc#1012628).
- media: s5p-jpeg: Correct return type for mem2mem buffer helpers
  (bnc#1012628).
- media: rockchip/rga: Correct return type for mem2mem buffer
  helpers (bnc#1012628).
- media: s5p-g2d: Correct return type for mem2mem buffer helpers
  (bnc#1012628).
- media: mx2_emmaprp: Correct return type for mem2mem buffer
  helpers (bnc#1012628).
- media: mtk-jpeg: Correct return type for mem2mem buffer helpers
  (bnc#1012628).
- media: rockchip/vpu: Correct return type for mem2mem buffer
  helpers (bnc#1012628).
- mt76: usb: do not run mt76u_queues_deinit twice (bnc#1012628).
- gpio: of: Apply regulator-gpio quirk only to enable-gpios
  (bnc#1012628).
- xen/gntdev: Do not destroy context while dma-bufs are in use
  (bnc#1012628).
- vfs: fix preadv64v2 and pwritev64v2 compat syscalls with offset
  == -1 (bnc#1012628).
- HID: intel-ish-hid: avoid binding wrong ishtp_cl_device
  (bnc#1012628).
- cgroup, rstat: Don't flush subtree root unless necessary
  (bnc#1012628).
- efi: Fix build error due to enum collision between efi.h and
  ima.h (bnc#1012628).
- drm/sched: Fix entities with 0 rqs (bnc#1012628).
- regulator: core: Take lock before applying system load
  (bnc#1012628).
- jbd2: fix race when writing superblock (bnc#1012628).
- leds: lp55xx: fix null deref on firmware load failure
  (bnc#1012628).
- tools build: Add -lrt to FEATURE_CHECK_LDFLAGS-libaio
  (bnc#1012628).
- tools build: Add test-reallocarray.c to test-all.c to fix the
  build (bnc#1012628).
- perf beauty waitid options: Fix up prefix showing logic
  (bnc#1012628).
- perf trace: Check if the 'fd' is negative when mapping it to
  pathname (bnc#1012628).
- perf report: Add s390 diagnosic sampling descriptor size
  (bnc#1012628).
- perf coresight: Do not test for libopencsd by default
  (bnc#1012628).
- iwlwifi: pcie: fix emergency path (bnc#1012628).
- ACPI / video: Refactor and fix dmi_is_desktop() (bnc#1012628).
- =?UTF-8?q?selftests:=20ir:=20fix=20warning:=20"%s"=20dire?=
  =?UTF-8?q?ctive=20output=20may=20be=20truncated=20=E2=80=99=20directive?=
  =?UTF-8?q?=20output=20may=20be=20truncated?= (bnc#1012628).
- selftests: skip seccomp get_metadata test if not real root
  (bnc#1012628).
- kprobes: Prohibit probing on bsearch() (bnc#1012628).
- kprobes: Prohibit probing on RCU debug routine (bnc#1012628).
- netfilter: conntrack: fix cloned unconfirmed skb->_nfct race
  in __nf_conntrack_confirm (bnc#1012628).
- ARM: 8833/1: Ensure that NEON code always compiles with Clang
  (bnc#1012628).
- ARM: dts: meson8b: fix the Ethernet data line signals in
  eth_rgmii_pins (bnc#1012628).
- ALSA: PCM: check if ops are defined before suspending PCM
  (bnc#1012628).
- ath10k: fix shadow register implementation for WCN3990
  (bnc#1012628).
- usb: f_fs: Avoid crash due to out-of-scope stack ptr access
  (bnc#1012628).
- sched/topology: Fix percpu data types in struct sd_data &
  struct s_data (bnc#1012628).
- bcache: fix input overflow to cache set sysfs file
  io_error_halflife (bnc#1012628).
- bcache: fix input overflow to sequential_cutoff (bnc#1012628).
- bcache: fix potential div-zero error of
  writeback_rate_i_term_inverse (bnc#1012628).
- bcache: improve sysfs_strtoul_clamp() (bnc#1012628).
- genirq: Avoid summation loops for /proc/stat (bnc#1012628).
- net: marvell: mvpp2: fix stuck in-band SGMII negotiation
  (bnc#1012628).
- iw_cxgb4: fix srqidx leak during connection abort (bnc#1012628).
- net: phy: consider latched link-down status in polling mode
  (bnc#1012628).
- fbdev: fbmem: fix memory access if logo is bigger than the
  screen (bnc#1012628).
- cdrom: Fix race condition in cdrom_sysctl_register
  (bnc#1012628).
- drm: rcar-du: add missing of_node_put (bnc#1012628).
- drm/amd/display: Don't re-program planes for DPMS changes
  (bnc#1012628).
- bpf: test_maps: fix possible out of bound access warning
  (bnc#1012628).
- x86/kexec: Fill in acpi_rsdp_addr from the first kernel
  (bnc#1012628).
- powerpc/ptrace: Mitigate potential Spectre v1 (bnc#1012628).
- drm/amd/display: Disconnect mpcc when changing tg (bnc#1012628).
- perf/aux: Make perf_event accessible to setup_aux()
  (bnc#1012628).
- e1000e: fix cyclic resets at link up with active tx
  (bnc#1012628).
- e1000e: Exclude device from suspend direct complete optimization
  (bnc#1012628).
- platform/x86: intel_pmc_core: Fix PCH IP sts reading
  (bnc#1012628).
- i2c: of: Try to find an I2C adapter matching the parent
  (bnc#1012628).
- staging: spi: mt7621: Add return code check on device_reset()
  (bnc#1012628).
- iwlwifi: mvm: fix RFH config command with >=10 CPUs
  (bnc#1012628).
- ASoC: fsl-asoc-card: fix object reference leaks in
  fsl_asoc_card_probe (bnc#1012628).
- sched/debug: Initialize sd_sysctl_cpus if
  !CONFIG_CPUMASK_OFFSTACK (bnc#1012628).
- efi/memattr: Don't bail on zero VA if it equals the region's PA
  (bnc#1012628).
- sched/core: Use READ_ONCE()/WRITE_ONCE() in
  move_queued_task()/task_rq_lock() (bnc#1012628).
- drm/vkms: Bugfix racing hrtimer vblank handle (bnc#1012628).
- drm/vkms: Bugfix extra vblank frame (bnc#1012628).
- ARM: dts: lpc32xx: Remove leading 0x and 0s from bindings
  notation (bnc#1012628).
- efi/arm/arm64: Allow SetVirtualAddressMap() to be omitted
  (bnc#1012628).
- soc: qcom: gsbi: Fix error handling in gsbi_probe()
  (bnc#1012628).
- drm/msm/dpu: Convert to a chained irq chip (bnc#1012628).
- mt7601u: bump supported EEPROM version (bnc#1012628).
- ARM: 8830/1: NOMMU: Toggle only bits in EXC_RETURN we are
  really care of (bnc#1012628).
- ARM: avoid Cortex-A9 livelock on tight dmb loops (bnc#1012628).
- block, bfq: fix in-service-queue check for queue merging
  (bnc#1012628).
- block, bfq: fix queue removal from weights tree (bnc#1012628).
- bpf: fix missing prototype warnings (bnc#1012628).
- selftests/bpf: skip verifier tests for unsupported program types
  (bnc#1012628).
- powerpc/64s: Clear on-stack exception marker upon exception
  return (bnc#1012628).
- cgroup/pids: turn cgroup_subsys->free() into
  cgroup_subsys->release() to fix the accounting (bnc#1012628).
- backlight: pwm_bl: Use gpiod_get_value_cansleep() to get
  initial state (bnc#1012628).
- tty: increase the default flip buffer limit to 2*640K
  (bnc#1012628).
- powerpc/pseries: Perform full re-add of CPU for topology update
  post-migration (bnc#1012628).
- drm/amd/display: Enable vblank interrupt during CRC capture
  (bnc#1012628).
- ALSA: dice: add support for Solid State Logic Duende
  Classic/Mini (bnc#1012628).
- regulator: mcp16502: Include linux/gpio/consumer.h to fix
  build error (bnc#1012628).
- usb: dwc3: gadget: Fix OTG events when gadget driver isn't
  loaded (bnc#1012628).
- platform/x86: intel-hid: Missing power button release on some
  Dell models (bnc#1012628).
- perf trace: Fixup etcsnoop example (bnc#1012628).
- perf script python: Use PyBytes for attr in trace-event-python
  (bnc#1012628).
- perf script python: Add trace_context extension module to
  sys.modules (bnc#1012628).
- media: mt9m111: set initial frame size other than 0x0
  (bnc#1012628).
- hwrng: virtio - Avoid repeated init of completion (bnc#1012628).
- soc/tegra: fuse: Fix illegal free of IO base address
  (bnc#1012628).
- selftests/bpf: suppress readelf stderr when probing for BTF
  support (bnc#1012628).
- HID: intel-ish: ipc: handle PIMR before ish_wakeup also clear
  PISR busy_clear bit (bnc#1012628).
- f2fs: UBSAN: set boolean value iostat_enable correctly
  (bnc#1012628).
- f2fs: fix to initialize variable to avoid UBSAN/smatch warning
  (bnc#1012628).
- hpet: Fix missing '=' character in the __setup() code of
  hpet_mmap_enable (bnc#1012628).
- pinctrl: meson: fix G12A ao pull registers base address
  (bnc#1012628).
- pinctrl: sh-pfc: r8a77990: Fix MOD_SEL bit numbering
  (bnc#1012628).
- pinctrl: sh-pfc: r8a77995: Fix MOD_SEL bit numbering
  (bnc#1012628).
- cpu/hotplug: Mute hotplug lockdep during init (bnc#1012628).
- dmaengine: imx-dma: fix warning comparison of distinct pointer
  types (bnc#1012628).
- dmaengine: qcom_hidma: assign channel cookie correctly
  (bnc#1012628).
- dmaengine: qcom_hidma: initialize tx flags in hidma_prep_dma_*
  (bnc#1012628).
- netfilter: physdev: relax br_netfilter dependency (bnc#1012628).
- media: rcar-vin: Allow independent VIN link enablement
  (bnc#1012628).
- media: s5p-jpeg: Check for fmt_ver_flag when doing fmt
  enumeration (bnc#1012628).
- PCI: pciehp: Assign ctrl->slot_ctrl before writing it to
  hardware (bnc#1012628).
- audit: hand taken context to audit_kill_trees for syscall
  logging (bnc#1012628).
- regulator: act8865: Fix act8600_sudcdc_voltage_ranges setting
  (bnc#1012628).
- pinctrl: meson: meson8b: add the eth_rxd2 and eth_rxd3 pins
  (bnc#1012628).
- drm: Auto-set allow_fb_modifiers when given modifiers at plane
  init (bnc#1012628).
- drm/nouveau: Stop using drm_crtc_force_disable (bnc#1012628).
- x86/build: Specify elf_i386 linker emulation explicitly for
  i386 objects (bnc#1012628).
- selinux: do not override context on context mounts
  (bnc#1012628).
- brcmfmac: Use firmware_request_nowarn for the clm_blob
  (bnc#1012628).
- wlcore: Fix memory leak in case wl12xx_fetch_firmware failure
  (bnc#1012628).
- x86/build: Mark per-CPU symbols as absolute explicitly for LLD
  (bnc#1012628).
- drm/fb-helper: fix leaks in error path of
  drm_fb_helper_fbdev_setup (bnc#1012628).
- clk: meson: clean-up clock registration (bnc#1012628).
- ARM: shmobile: Fix R-Car Gen2 regulator quirk (bnc#1012628).
- clk: rockchip: fix frac settings of GPLL clock for rk3328
  (bnc#1012628).
- dmaengine: tegra: avoid overflow of byte tracking (bnc#1012628).
- staging: iio: adt7316: fix dac_bits assignment (bnc#1012628).
- Input: soc_button_array - fix mapping of the 5th GPIO in a
  PNP0C40 device (bnc#1012628).
- ASoC: simple-card-utils: check "reg" property on
  asoc_simple_card_get_dai_id() (bnc#1012628).
- drm: Reorder set_property_atomic to avoid returning with an
  active ww_ctx (bnc#1012628).
- drm/dp/mst: Configure no_stop_bit correctly for remote i2c xfers
  (bnc#1012628).
- net: stmmac: Avoid one more sometimes uninitialized Clang
  warning (bnc#1012628).
- appletalk: Fix compile regression (bnc#1012628).
- gpio: of: Restrict enable-gpio quirk to regulator-gpio
  (bnc#1012628).
- ACPI / video: Extend chassis-type detection with a "Lunch Box"
  check (bnc#1012628).
- bcache: fix potential div-zero error of
  writeback_rate_p_term_inverse (bnc#1012628).
- kbuild: add workaround for Debian make-kpkg (bnc#1012628).
- kbuild: skip sub-make for in-tree build with GNU Make 4.x
  (bnc#1012628).
- commit 8f18342

-------------------------------------------------------------------
Thu Apr  4 06:38:40 CEST 2019 - jslaby@suse.cz

- Linux 5.0.6 (bnc#1012628).
- mt76x02u: use usb_bulk_msg to upload firmware (bnc#1012628).
- bpf: do not restore dst_reg when cur_state is freed
  (bnc#1012628).
- KVM: x86: update %rip after emulating IO (bnc#1012628).
- KVM: x86: Emulate MSR_IA32_ARCH_CAPABILITIES on AMD hosts
  (bnc#1012628).
- KVM: Reject device ioctls from processes other than the VM's
  creator (bnc#1012628).
- x86/smp: Enforce CONFIG_HOTPLUG_CPU when SMP=y (bnc#1012628).
- cpu/hotplug: Prevent crash when CPU bringup fails on
  CONFIG_HOTPLUG_CPU=n (bnc#1012628).
- watchdog: Respect watchdog cpumask on CPU hotplug (bnc#1012628).
- powerpc/pseries/mce: Fix misleading print for TLB mutlihit
  (bnc#1012628).
- powerpc/64: Fix memcmp reading past the end of src/dest
  (bnc#1012628).
- powerpc/pseries/energy: Use OF accessor functions to read
  ibm,drc-indexes (bnc#1012628).
- objtool: Query pkg-config for libelf location (bnc#1012628).
- perf intel-pt: Fix TSC slip (bnc#1012628).
- perf pmu: Fix parser error for uncore event alias (bnc#1012628).
- mm/migrate.c: add missing flush_dcache_page for non-mapped
  page migrate (bnc#1012628).
- mm/page_isolation.c: fix a wrong flag in
  set_migratetype_isolate() (bnc#1012628).
- mm/memory_hotplug.c: fix notification in offline error path
  (bnc#1012628).
- mm/debug.c: fix __dump_page when mapping->host is not set
  (bnc#1012628).
- mm: mempolicy: make mbind() return -EIO when MPOL_MF_STRICT
  is specified (bnc#1012628).
- iommu/io-pgtable-arm-v7s: request DMA32 memory, and improve
  debugging (bnc#1012628).
- mm: add support for kmem caches in DMA32 zone (bnc#1012628).
- mm/hotplug: fix offline undo_isolate_page_range() (bnc#1012628).
- usb: typec: Fix unchecked return value (bnc#1012628).
- usb: typec: tcpm: Try PD-2.0 if sink does not respond to 3.0
  source-caps (bnc#1012628).
- usb: cdc-acm: fix race during wakeup blocking TX traffic
  (bnc#1012628).
- xhci: Don't let USB3 ports stuck in polling state prevent
  suspend (bnc#1012628).
- usb: xhci: dbc: Don't free all memory with spinlock held
  (bnc#1012628).
- xhci: Fix port resume done detection for SS ports with LPM
  enabled (bnc#1012628).
- usb: host: xhci-rcar: Add XHCI_TRUST_TX_LENGTH quirk
  (bnc#1012628).
- mm/memory.c: fix modifying of page protection by insert_pfn()
  (bnc#1012628).
- usb: common: Consider only available nodes for dr_mode
  (bnc#1012628).
- USB: gadget: f_hid: fix deadlock in f_hidg_write()
  (bnc#1012628).
- usb: mtu3: fix EXTCON dependency (bnc#1012628).
- phy: sun4i-usb: Support set_mode to USB_HOST for non-OTG PHYs
  (bnc#1012628).
- gpio: adnp: Fix testing wrong value in adnp_gpio_direction_input
  (bnc#1012628).
- gpio: exar: add a check for the return value of ida_simple_get
  fails (bnc#1012628).
- drm/i915/icl: Fix the TRANS_DDI_FUNC_CTL2 bitfield macro
  (bnc#1012628).
- drm/i915/gvt: Fix MI_FLUSH_DW parsing with correct index check
  (bnc#1012628).
- drm/i915: Mark AML 0x87CA as ULX (bnc#1012628).
- drm/vkms: fix use-after-free when drm_gem_handle_create()
  fails (bnc#1012628).
- drm/vgem: fix use-after-free when drm_gem_handle_create()
  fails (bnc#1012628).
- cpufreq: scpi: Fix use after free (bnc#1012628).
- cpufreq: intel_pstate: Also use CPPC nominal_perf for
  base_frequency (bnc#1012628).
- blk-mq: fix sbitmap ws_active for shared tags (bnc#1012628).
- drivers/block/zram/zram_drv.c: fix idle/writeback string compare
  (bnc#1012628).
- fs/proc/proc_sysctl.c: fix NULL pointer dereference in put_links
  (bnc#1012628).
- Disable kgdboc failed by echo space to
  /sys/module/kgdboc/parameters/kgdboc (bnc#1012628).
- ACPI / CPPC: Fix guaranteed performance handling (bnc#1012628).
- USB: serial: option: add Olicard 600 (bnc#1012628).
- USB: serial: option: add support for Quectel EM12 (bnc#1012628).
- USB: serial: option: set driver_info for SIM5218 and compatibles
  (bnc#1012628).
- USB: serial: mos7720: fix mos_parport refcount imbalance on
  error path (bnc#1012628).
- USB: serial: ftdi_sio: add additional NovaTech products
  (bnc#1012628).
- USB: serial: cp210x: add new device id (bnc#1012628).
- serial: sh-sci: Fix setting SCSCR_TIE while transferring data
  (bnc#1012628).
- serial: mvebu-uart: Fix to avoid a potential NULL pointer
  dereference (bnc#1012628).
- serial: max310x: Fix to avoid potential NULL pointer dereference
  (bnc#1012628).
- staging: erofs: keep corrupted fs from crashing kernel in
  erofs_readdir() (bnc#1012628).
- staging: erofs: fix error handling when failed to read
  compresssed data (bnc#1012628).
- staging: erofs: fix to handle error path of erofs_vmap()
  (bnc#1012628).
- staging: vt6655: Fix interrupt race condition on device start up
  (bnc#1012628).
- staging: vt6655: Remove vif check from vnt_interrupt
  (bnc#1012628).
- staging: speakup_soft: Fix alternate speech with other synths
  (bnc#1012628).
- staging: olpc_dcon_xo_1: add missing 'const' qualifier
  (bnc#1012628).
- staging: comedi: ni_mio_common: Fix divide-by-zero for DIO
  cmdtest (bnc#1012628).
- tty: serial: qcom_geni_serial: Initialize baud in
  qcom_geni_console_setup (bnc#1012628).
- tty: atmel_serial: fix a potential NULL pointer dereference
  (bnc#1012628).
- tty: mxs-auart: fix a potential NULL pointer dereference
  (bnc#1012628).
- tty/serial: atmel: RS485 HD w/DMA: enable RX after TX is stopped
  (bnc#1012628).
- tty/serial: atmel: Add is_half_duplex helper (bnc#1012628).
- drm/rockchip: vop: reset scale mode when win is disabled
  (bnc#1012628).
- scsi: zfcp: fix scsi_eh host reset with port_forced ERP for
  non-NPIV FCP devices (bnc#1012628).
- scsi: zfcp: fix rport unblock if deleted SCSI devices on
  Scsi_Host (bnc#1012628).
- scsi: sd: Quiesce warning if device does not report optimal
  I/O size (bnc#1012628).
- scsi: sd: Fix a race between closing an sd device and sd I/O
  (bnc#1012628).
- ocfs2: fix inode bh swapping mixup in ocfs2_reflink_inodes_lock
  (bnc#1012628).
- fs/open.c: allow opening only regular files during execve()
  (bnc#1012628).
- kbuild: modversions: Fix relative CRC byte order interpretation
  (bnc#1012628).
- ALSA: hda/realtek - Fix speakers on Acer Predator Helios 500
  Ryzen laptops (bnc#1012628).
- ALSA: hda/realtek: Enable headset MIC of ASUS X430UN and X512DK
  with ALC256 (bnc#1012628).
- ALSA: hda/realtek: Enable headset mic of ASUS P5440FF with
  ALC256 (bnc#1012628).
- ALSA: hda/realtek: Enable ASUS X441MB and X705FD headset MIC
  with ALC256 (bnc#1012628).
- ALSA: hda/realtek - Add support for Acer Aspire E5-523G/ES1-432
  headset mic (bnc#1012628).
- ALSA: hda/realtek: Enable headset MIC of Acer Aspire Z24-890
  with ALC286 (bnc#1012628).
- ALSA: hda/realtek: Enable headset MIC of Acer AIO with ALC286
  (bnc#1012628).
- ALSA: hda/realtek - Add support headset mode for New DELL WYSE
  NB (bnc#1012628).
- ALSA: hda/realtek - Add support headset mode for DELL WYSE AIO
  (bnc#1012628).
- ALSA: hda/realtek: merge alc_fixup_headset_jack to
  alc295_fixup_chromebook (bnc#1012628).
- ALSA: hda/realtek - Fixed Headset Mic JD not stable
  (bnc#1012628).
- ALSA: pcm: Don't suspend stream in unrecoverable PCM state
  (bnc#1012628).
- ALSA: pcm: Fix possible OOB access in PCM oss plugins
  (bnc#1012628).
- ALSA: seq: oss: Fix Spectre v1 vulnerability (bnc#1012628).
- ALSA: rawmidi: Fix potential Spectre v1 vulnerability
  (bnc#1012628).
- net: dsa: qca8k: remove leftover phy accessors (bnc#1012628).
- NFSv4.1 don't free interrupted slot on open (bnc#1012628).
- NFS: fix mount/umount race in nlmclnt (bnc#1012628).
- NFS: Fix nfs4_lock_state refcounting in
  nfs4_alloc_{lock,unlock}data() (bnc#1012628).
- vfio: ccw: only free cp on final interrupt (bnc#1012628).
- powerpc: bpf: Fix generation of load/store DW instructions
  (bnc#1012628).
- ARM: imx6q: cpuidle: fix bug that CPU might not wake up at
  expected time (bnc#1012628).
- tracing: initialize variable in create_dyn_event()
  (bnc#1012628).
- locks: wake any locks blocked on request before deadlock check
  (bnc#1012628).
- Btrfs: fix assertion failure on fsync with NO_HOLES enabled
  (bnc#1012628).
- btrfs: Avoid possible qgroup_rsv_size overflow in
  btrfs_calculate_inode_block_rsv_size (bnc#1012628).
- btrfs: Fix bound checking in qgroup_trace_new_subtree_blocks
  (bnc#1012628).
- btrfs: raid56: properly unmap parity page in
  finish_parity_scrub() (bnc#1012628).
- btrfs: don't report readahead errors and don't update statistics
  (bnc#1012628).
- btrfs: remove WARN_ON in log_dir_items (bnc#1012628).
- Btrfs: fix incorrect file size after shrinking truncate and
  fsync (bnc#1012628).
- powerpc/fsl: Fix the flush of branch predictor (bnc#1012628).
- tun: add a missing rcu_read_unlock() in error path
  (bnc#1012628).
- ila: Fix rhashtable walker list corruption (bnc#1012628).
- r8169: fix cable re-plugging issue (bnc#1012628).
- net: phy: don't clear BMCR in genphy_soft_reset (bnc#1012628).
- net: mii: Fix PAUSE cap advertisement from
  linkmode_adv_to_lcl_adv_t() helper (bnc#1012628).
- net: dsa: mv88e6xxx: fix few issues in mv88e6390x_port_set_cmode
  (bnc#1012628).
- thunderx: eliminate extra calls to put_page() for pages held
  for recycling (bnc#1012628).
- thunderx: enable page recycling for non-XDP case (bnc#1012628).
- vxlan: Don't call gro_cells_destroy() before device is
  unregistered (bnc#1012628).
- vrf: prevent adding upper devices (bnc#1012628).
- tun: properly test for IFF_UP (bnc#1012628).
- tipc: fix cancellation of topology subscriptions (bnc#1012628).
- tipc: change to check tipc_own_id to return in tipc_net_stop
  (bnc#1012628).
- tipc: allow service ranges to be connect()'ed on RDM/DGRAM
  (bnc#1012628).
- tcp: do not use ipv6 header for ipv4 flow (bnc#1012628).
- sctp: use memdup_user instead of vmemdup_user (bnc#1012628).
- sctp: get sctphdr by offset in sctp_compute_cksum (bnc#1012628).
- rhashtable: Still do rehash when we get EEXIST (bnc#1012628).
- packets: Always register packet sk in the same order
  (bnc#1012628).
- net: usb: aqc111: Extend HWID table by QNAP device
  (bnc#1012628).
- net-sysfs: call dev_hold if kobject_init_and_add success
  (bnc#1012628).
- net: stmmac: fix memory corruption with large MTUs
  (bnc#1012628).
- net: rose: fix a possible stack overflow (bnc#1012628).
- net: phy: meson-gxl: fix interrupt support (bnc#1012628).
- net/packet: Set __GFP_NOWARN upon allocation in alloc_pg_vec
  (bnc#1012628).
- net: datagram: fix unbounded loop in __skb_try_recv_datagram()
  (bnc#1012628).
- net: aquantia: fix rx checksum offload for UDP/TCP over IPv6
  (bnc#1012628).
- mISDN: hfcpci: Test both vendor & device ID for Digium HFC4S
  (bnc#1012628).
- mac8390: Fix mmio access size probe (bnc#1012628).
- ipv6: make ip6_create_rt_rcu return ip6_null_entry instead of
  NULL (bnc#1012628).
- gtp: change NET_UDP_TUNNEL dependency to select (bnc#1012628).
- genetlink: Fix a memory leak on error path (bnc#1012628).
- dccp: do not use ipv6 header for ipv4 flow (bnc#1012628).
- netfilter: nf_tables: fix set double-free in abort path
  (bnc#1012628).
- Bluetooth: Verify that l2cap_get_conf_opt provides large enough
  buffer (bnc#1012628).
- Bluetooth: Check L2CAP option sizes returned from
  l2cap_get_conf_opt (bnc#1012628).
- commit dff56e4

-------------------------------------------------------------------
Mon Apr  1 16:57:33 CEST 2019 - tiwai@suse.de

- efifb: Omit memory map check on legacy boot (bsc#1127339).
- commit 8a60576

-------------------------------------------------------------------
Mon Apr  1 07:43:52 CEST 2019 - mkubecek@suse.cz

- Update to 5.1-rc3
- Eliminated 1 patch
- Config changes:
  - SECURITY_DEFAULT_* are back
  - enable CONFIG_OF in i386/pae and copy dependent options from default
- commit 7474ec2

-------------------------------------------------------------------
Sun Mar 31 09:58:27 CEST 2019 - tiwai@suse.de

- Revert "drm/i915/fbdev: Actually configure untiled displays"
  (bsc#1129027, bsc#1131048).
- commit 591a6df

-------------------------------------------------------------------
Thu Mar 28 16:18:04 CET 2019 - yousaf.kaukab@suse.com

- config: arm64: enable CPPC support
- commit 1a52e49

-------------------------------------------------------------------
Thu Mar 28 16:13:41 CET 2019 - yousaf.kaukab@suse.com

- config: arm64: enable CPPC support
- commit c97748e

-------------------------------------------------------------------
Wed Mar 27 12:22:08 CET 2019 - jslaby@suse.cz

- Linux 5.0.5 (bnc#1012628).
- ALSA: hda - Enforces runtime_resume after S3 and S4 for each
  codec (bnc#1012628).
- ALSA: hda - Record the current power state before suspend/resume
  calls (bnc#1012628).
- locking/lockdep: Add debug_locks check in __lock_downgrade()
  (bnc#1012628).
- x86/unwind: Add hardcoded ORC entry for NULL (bnc#1012628).
- x86/unwind: Handle NULL pointer calls better in frame unwinder
  (bnc#1012628).
- loop: access lo_backing_file only when the loop device is
  Lo_bound (bnc#1012628).
- netfilter: ebtables: remove BUGPRINT messages (bnc#1012628).
- aio: simplify - and fix - fget/fput for io_submit()
  (bnc#1012628).
- f2fs: fix to avoid deadlock of atomic file operations
  (bnc#1012628).
- RDMA/cma: Rollback source IP address if failing to acquire
  device (bnc#1012628).
- drm/vkms: Fix flush_work() without INIT_WORK() (bnc#1012628).
- Bluetooth: hci_ldisc: Postpone HCI_UART_PROTO_READY bit set
  in hci_uart_set_proto() (bnc#1012628).
- Bluetooth: hci_ldisc: Initialize hci_dev before open()
  (bnc#1012628).
- Bluetooth: Fix decrementing reference count twice in releasing
  socket (bnc#1012628).
- Bluetooth: hci_uart: Check if socket buffer is ERR_PTR in
  h4_recv_buf() (bnc#1012628).
- media: v4l2-ctrls.c/uvc: zero v4l2_event (bnc#1012628).
- ext4: brelse all indirect buffer in ext4_ind_remove_space()
  (bnc#1012628).
- ext4: fix data corruption caused by unaligned direct AIO
  (bnc#1012628).
- ext4: fix NULL pointer dereference while journal is aborted
  (bnc#1012628).
- ALSA: ac97: Fix of-node refcount unbalance (bnc#1012628).
- ALSA: hda - Don't trigger jackpoll_work in azx_resume
  (bnc#1012628).
- SMB3: Fix SMB3.1.1 guest mounts to Samba (bnc#1012628).
- clocksource/drivers/riscv: Fix clocksource mask (bnc#1012628).
- irqchip/gic-v3-its: Fix comparison logic in lpi_range_cmp
  (bnc#1012628).
- objtool: Move objtool_file struct off the stack (bnc#1012628).
- perf probe: Fix getting the kernel map (bnc#1012628).
- cifs: allow guest mounts to work for smb3.11 (bnc#1012628).
- futex: Ensure that futex address is aligned in
  handle_futex_death() (bnc#1012628).
- scsi: ibmvscsi: Fix empty event pool access during host removal
  (bnc#1012628).
- scsi: ibmvscsi: Protect ibmvscsi_head from concurrent
  modificaiton (bnc#1012628).
- scsi: qla2xxx: Fix FC-AL connection target discovery
  (bnc#1012628).
- scsi: core: Avoid that a kernel warning appears during system
  resume (bnc#1012628).
- net/mlx5: Fix DCT creation bad flow (bnc#1012628).
- powerpc/security: Fix spectre_v2 reporting (bnc#1012628).
- powerpc/vdso64: Fix CLOCK_MONOTONIC inconsistencies across Y2038
  (bnc#1012628).
- MIPS: Fix kernel crash for R6 in jump label branch function
  (bnc#1012628).
- MIPS: Ensure ELF appended dtb is relocated (bnc#1012628).
- mips: loongson64: lemote-2f: Add IRQF_NO_SUSPEND to "cascade"
  irqaction (bnc#1012628).
- udf: Fix crash on IO error during truncate (bnc#1012628).
- libceph: wait for latest osdmap in ceph_monc_blacklist_add()
  (bnc#1012628).
- iommu/iova: Fix tracking of recently failed iova address
  (bnc#1012628).
- iommu/amd: fix sg->dma_address for sg->offset bigger than
  PAGE_SIZE (bnc#1012628).
- drm/vmwgfx: Return 0 when gmrid::get_node runs out of ID's
  (bnc#1012628).
- drm/vmwgfx: Don't double-free the mode stored in par->set_mode
  (bnc#1012628).
- drm/amdgpu: fix invalid use of change_bit (bnc#1012628).
- mmc: renesas_sdhi: limit block count to 16 bit for old revisions
  (bnc#1012628).
- mmc: mxcmmc: "Revert mmc: mxcmmc: handle highmem pages"
  (bnc#1012628).
- mmc: alcor: fix DMA reads (bnc#1012628).
- mmc: pxamci: fix enum type confusion (bnc#1012628).
- ALSA: firewire-motu: use 'version' field of unit directory to
  identify model (bnc#1012628).
- ALSA: hda - add Lenovo IdeaCentre B550 to the
  power_save_blacklist (bnc#1012628).
- commit 0fb0b14

-------------------------------------------------------------------
Tue Mar 26 22:40:59 CET 2019 - msuchanek@suse.de

- Revert "Bluetooth: btusb: driver to enable the usb-wakeup
  feature" (boo#1130448).
  System still wakes up when connected BT device is powered off.
- Revert "Bluetooth: btusb: driver to enable the usb-wakeup
  feature" (boo#1130448).
- commit b043955

-------------------------------------------------------------------
Tue Mar 26 20:30:23 CET 2019 - mkubecek@suse.cz

- Revert "parport: daisy: use new parport device model"
  (http://lkml.kernel.org/r/20190313064557.GA14531@unicorn.suse.cz).
- Delete
  patches.suse/parport-daisy-do-not-try-to-load-lowlevel-driver.patch.
- commit 7da01f5

-------------------------------------------------------------------
Tue Mar 26 11:46:54 CET 2019 - jbeulich@suse.com

- patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch:
  Fix re-basing mistake - IBRS enabling should not be skipped for PV Xen.
- commit 177c0f8

-------------------------------------------------------------------
Tue Mar 26 06:50:20 CET 2019 - mkubecek@suse.cz

- parport: daisy: do not try to load lowlevel driver
  (http://lkml.kernel.org/r/20190313064557.GA14531@unicorn.suse.cz).
- commit 4f8876e

-------------------------------------------------------------------
Mon Mar 25 18:31:48 CET 2019 - jeffm@suse.com

- btrfs: honor path->skip_locking in backref code (bsc#1099312).
- commit 76ff396

-------------------------------------------------------------------
Mon Mar 25 06:52:12 CET 2019 - mkubecek@suse.cz

- Update to 5.1-rc2
- New config options:
  - CHARLCD_BL_FLASH=y
  - PARPORT_PANEL=m (renamed from PANEL)
  - PANEL=m
- commit ede8a59

-------------------------------------------------------------------
Sun Mar 24 18:41:02 CET 2019 - jslaby@suse.cz

- Linux 5.0.4 (bnc#1012628).
- SUNRPC: Respect RPC call timeouts when retrying transmission
  (bnc#1012628).
- SUNRPC: Fix up RPC back channel transmission (bnc#1012628).
- SUNRPC: Prevent thundering herd when the socket is not connected
  (bnc#1012628).
- s390/setup: fix boot crash for machine without EDAT-1
  (bnc#1012628).
- net: dsa: lantiq_gswip: fix OF child-node lookups (bnc#1012628).
- net: dsa: lantiq_gswip: fix use-after-free on failed probe
  (bnc#1012628).
- KVM: nVMX: Check a single byte for VMCS "launched" in nested
  early checks (bnc#1012628).
- KVM: nVMX: Ignore limit checks on VMX instructions using flat
  segments (bnc#1012628).
- KVM: nVMX: Apply addr size mask to effective address for VMX
  instructions (bnc#1012628).
- KVM: nVMX: Sign extend displacements of VMX instr's mem operands
  (bnc#1012628).
- KVM: x86/mmu: Do not cache MMIO accesses while memslots are
  in flux (bnc#1012628).
- KVM: x86/mmu: Detect MMIO generation wrap in any address space
  (bnc#1012628).
- KVM: VMX: Zero out *all* general purpose registers after VM-Exit
  (bnc#1012628).
- KVM: VMX: Compare only a single byte for VMCS' "launched"
  in vCPU-run (bnc#1012628).
- KVM: Call kvm_arch_memslots_updated() before updating memslots
  (bnc#1012628).
- drm/amd/display: don't call dm_pp_ function from an fpu block
  (bnc#1012628).
- drm/amd/powerplay: correct power reading on fiji (bnc#1012628).
- drm/radeon/evergreen_cs: fix missing break in switch statement
  (bnc#1012628).
- drm/fb-helper: generic: Fix drm_fbdev_client_restore()
  (bnc#1012628).
- media: imx: csi: Stop upstream before disabling IDMA channel
  (bnc#1012628).
- media: imx: csi: Disable CSI immediately after last EOF
  (bnc#1012628).
- media: imx-csi: Input connections to CSI should be optional
  (bnc#1012628).
- media: vimc: Add vimc-streamer for stream control (bnc#1012628).
- media: uvcvideo: Avoid NULL pointer dereference at the end of
  streaming (bnc#1012628).
- media: sun6i: Fix CSI regmap's max_register (bnc#1012628).
- media: lgdt330x: fix lock status reporting (bnc#1012628).
- media: imx: prpencvf: Stop upstream before disabling IDMA
  channel (bnc#1012628).
- rcu: Do RCU GP kthread self-wakeup from softirq and interrupt
  (bnc#1012628).
- tpm: Unify the send callback behaviour (bnc#1012628).
- tpm/tpm_crb: Avoid unaligned reads in crb_recv() (bnc#1012628).
- x86/ftrace: Fix warning and considate ftrace_jmp_replace()
  and ftrace_call_replace() (bnc#1012628).
- x86/kvmclock: set offset for kvm unstable clock (bnc#1012628).
- md: Fix failed allocation of md_register_thread (bnc#1012628).
- perf intel-pt: Fix divide by zero when TSC is not available
  (bnc#1012628).
- perf/x86/intel/uncore: Fix client IMC events return huge result
  (bnc#1012628).
- perf intel-pt: Fix overlap calculation for padding
  (bnc#1012628).
- perf auxtrace: Define auxtrace record alignment (bnc#1012628).
- perf tools: Fix split_kallsyms_for_kcore() for trampoline
  symbols (bnc#1012628).
- perf intel-pt: Fix CYC timestamp calculation after OVF
  (bnc#1012628).
- x86/unwind/orc: Fix ORC unwind table alignment (bnc#1012628).
- vt: perform safe console erase in the right order (bnc#1012628).
- stable-kernel-rules.rst: add link to networking patch queue
  (bnc#1012628).
- bcache: use (REQ_META|REQ_PRIO) to indicate bio for metadata
  (bnc#1012628).
- bcache: treat stale && dirty keys as bad keys (bnc#1012628).
- bcache: never writeback a discard operation (bnc#1012628).
- PM / OPP: Update performance state when freq == old_freq
  (bnc#1012628).
- PM / wakeup: Rework wakeup source timer cancellation
  (bnc#1012628).
- svcrpc: fix UDP on servers with lots of threads (bnc#1012628).
- NFSv4.1: Reinitialise sequence results before retransmitting
  a request (bnc#1012628).
- nfsd: fix wrong check in write_v4_end_grace() (bnc#1012628).
- nfsd: fix memory corruption caused by readdir (bnc#1012628).
- nfsd: fix performance-limiting session calculation
  (bnc#1012628).
- NFS: Don't recoalesce on error in nfs_pageio_complete_mirror()
  (bnc#1012628).
- NFS: Fix an I/O request leakage in nfs_do_recoalesce
  (bnc#1012628).
- NFS: Fix I/O request leakages (bnc#1012628).
- cpuidle: governor: Add new governors to cpuidle_governors again
  (bnc#1012628).
- cpcap-charger: generate events for userspace (bnc#1012628).
- mfd: sm501: Fix potential NULL pointer dereference
  (bnc#1012628).
- media: cx25840: mark pad sig_types to fix cx231xx init
  (bnc#1012628).
- dm integrity: limit the rate of error messages (bnc#1012628).
- dm: fix to_sector() for 32bit (bnc#1012628).
- ipmi_si: fix use-after-free of resource->name (bnc#1012628).
- ipmi_si: Fix crash when using hard-coded device (bnc#1012628).
- Revert "KVM/MMU: Flush tlb directly in the kvm_zap_gfn_range()"
  (bnc#1012628).
- arm64: KVM: Fix architecturally invalid reset value for
  FPEXC32_EL2 (bnc#1012628).
- arm64: debug: Ensure debug handlers check triggering exception
  level (bnc#1012628).
- arm64: debug: Don't propagate UNKNOWN FAR into si_code for
  debug signals (bnc#1012628).
- arm64: Fix HCR.TGE status for NMI contexts (bnc#1012628).
- ARM: s3c24xx: Fix boolean expressions in osiris_dvs_notify
  (bnc#1012628).
- powerpc/traps: Fix the message printed when stack overflows
  (bnc#1012628).
- powerpc/traps: fix recoverability of machine check handling
  on book3s/32 (bnc#1012628).
- powerpc/smp: Fix NMI IPI xmon timeout (bnc#1012628).
- powerpc/smp: Fix NMI IPI timeout (bnc#1012628).
- powerpc/hugetlb: Don't do runtime allocation of 16G pages in
  LPAR configuration (bnc#1012628).
- powerpc/ptrace: Simplify vr_get/set() to avoid GCC warning
  (bnc#1012628).
- powerpc: Fix 32-bit KVM-PR lockup and host crash with MacOS
  guest (bnc#1012628).
- powerpc/64s/hash: Fix assert_slb_presence() use of the
  slbfee. instruction (bnc#1012628).
- powerpc/powernv: Don't reprogram SLW image on every KVM guest
  entry/exit (bnc#1012628).
- powerpc/kvm: Save and restore host AMR/IAMR/UAMOR (bnc#1012628).
- powerpc/83xx: Also save/restore SPRG4-7 during suspend
  (bnc#1012628).
- powerpc/powernv: Make opal log only readable by root
  (bnc#1012628).
- powerpc/wii: properly disable use of BATs when requested
  (bnc#1012628).
- powerpc/32: Clear on-stack exception marker upon exception
  return (bnc#1012628).
- security/selinux: fix SECURITY_LSM_NATIVE_LABELS on reused
  superblock (bnc#1012628).
- selinux: add the missing walk_size + len check in
  selinux_sctp_bind_connect (bnc#1012628).
- jbd2: fix compile warning when using JBUFFER_TRACE
  (bnc#1012628).
- jbd2: clear dirty flag when revoking a buffer from an older
  transaction (bnc#1012628).
- serial: 8250_pci: Have ACCES cards that use the four
  port Pericom PI7C9X7954 chip use the pci_pericom_setup()
  (bnc#1012628).
- serial: 8250_pci: Fix number of ports for ACCES serial cards
  (bnc#1012628).
- serial: 8250_of: assume reg-shift of 2 for mrvl,mmp-uart
  (bnc#1012628).
- serial: uartps: Fix stuck ISR if RX disabled with non-empty FIFO
  (bnc#1012628).
- dmaengine: usb-dmac: Make DMAC system sleep callbacks explicit
  (bnc#1012628).
- usb: typec: tps6598x: handle block writes separately with
  plain-I2C adapters (bnc#1012628).
- usb: chipidea: tegra: Fix missed ci_hdrc_remove_device()
  (bnc#1012628).
- clk: ingenic: Fix doc of ingenic_cgu_div_info (bnc#1012628).
- clk: ingenic: Fix round_rate misbehaving with non-integer
  dividers (bnc#1012628).
- clk: samsung: exynos5: Fix kfree() of const memory on setting
  driver_override (bnc#1012628).
- clk: samsung: exynos5: Fix possible NULL pointer exception on
  platform_device_alloc() failure (bnc#1012628).
- clk: clk-twl6040: Fix imprecise external abort for pdmclk
  (bnc#1012628).
- clk: uniphier: Fix update register for CPU-gear (bnc#1012628).
- ext2: Fix underflow in ext2_max_size() (bnc#1012628).
- cxl: Wrap iterations over afu slices inside 'afu_list_lock'
  (bnc#1012628).
- IB/rdmavt: Fix concurrency panics in QP post_send and modify
  to error (bnc#1012628).
- IB/rdmavt: Fix loopback send with invalidate ordering
  (bnc#1012628).
- IB/hfi1: Close race condition on user context disable and close
  (bnc#1012628).
- PCI: pci-bridge-emul: Extend pci_bridge_emul_init() with flags
  (bnc#1012628).
- PCI: pci-bridge-emul: Create per-bridge copy of register
  behavior (bnc#1012628).
- PCI: pciehp: Disable Data Link Layer State Changed event on
  suspend (bnc#1012628).
- PCI: dwc: skip MSI init if MSIs have been explicitly disabled
  (bnc#1012628).
- PCI: qcom: Don't deassert reset GPIO during probe (bnc#1012628).
- PCI/DPC: Fix print AER status in DPC event handling
  (bnc#1012628).
- PCI/ASPM: Use LTR if already enabled by platform (bnc#1012628).
- swiotlb: Add is_swiotlb_active() function (bnc#1012628).
- swiotlb: Introduce swiotlb_max_mapping_size() (bnc#1012628).
- dma: Introduce dma_max_mapping_size() (bnc#1012628).
- ext4: fix crash during online resizing (bnc#1012628).
- ext4: add mask of ext4 flags to swap (bnc#1012628).
- ext4: update quota information while swapping boot loader inode
  (bnc#1012628).
- gpio: pca953x: Fix dereference of irq data in shutdown
  (bnc#1012628).
- media: i2c: ov5640: Fix post-reset delay (bnc#1012628).
- i2c: tegra: update maximum transfer size (bnc#1012628).
- i2c: tegra: fix maximum transfer size (bnc#1012628).
- parport_pc: fix find_superio io compare code, should use equal
  test (bnc#1012628).
- intel_th: Don't reference unassigned outputs (bnc#1012628).
- device property: Fix the length used in PROPERTY_ENTRY_STRING()
  (bnc#1012628).
- nvmem: core: don't check the return value of notifier chain call
  (bnc#1012628).
- kernel/sysctl.c: add missing range check in
  do_proc_dointvec_minmax_conv (bnc#1012628).
- mm/memory.c: do_fault: avoid usage of stale vm_area_struct
  (bnc#1012628).
- mm/vmalloc: fix size check for remap_vmalloc_range_partial()
  (bnc#1012628).
- mm: hwpoison: fix thp split handing in
  soft_offline_in_use_page() (bnc#1012628).
- ext4: cleanup pagecache before swap i_data (bnc#1012628).
- ext4: fix check of inode in swap_inode_boot_loader
  (bnc#1012628).
- cpufreq: pxa2xx: remove incorrect __init annotation
  (bnc#1012628).
- cpufreq: tegra124: add missing of_node_put() (bnc#1012628).
- cpufreq: kryo: Release OPP tables on module removal
  (bnc#1012628).
- x86/kprobes: Prohibit probing on optprobe template code
  (bnc#1012628).
- irqchip/brcmstb-l2: Use _irqsave locking variants in
  non-interrupt code (bnc#1012628).
- irqchip/gic-v3-its: Avoid parsing _indirect_ twice for Device
  table (bnc#1012628).
- libertas_tf: don't set URB_ZERO_PACKET on IN USB transfer
  (bnc#1012628).
- soc: qcom: rpmh: Avoid accessing freed memory from batch API
  (bnc#1012628).
- Btrfs: fix deadlock between clone/dedupe and rename
  (bnc#1012628).
- Btrfs: fix corruption reading shared and compressed extents
  after hole punching (bnc#1012628).
- btrfs: init csum_list before possible free (bnc#1012628).
- btrfs: ensure that a DUP or RAID1 block group has exactly two
  stripes (bnc#1012628).
- btrfs: drop the lock on error in btrfs_dev_replace_cancel
  (bnc#1012628).
- btrfs: scrub: fix circular locking dependency warning
  (bnc#1012628).
- Btrfs: setup a nofs context for memory allocation at
  __btrfs_set_acl (bnc#1012628).
- Btrfs: setup a nofs context for memory allocation at
  btrfs_create_tree() (bnc#1012628).
- m68k: Add -ffreestanding to CFLAGS (bnc#1012628).
- ovl: Do not lose security.capability xattr over metadata file
  copy-up (bnc#1012628).
- ovl: During copy up, first copy up data and then xattrs
  (bnc#1012628).
- splice: don't merge into linked buffers (bnc#1012628).
- fs/devpts: always delete dcache dentry-s in dput()
  (bnc#1012628).
- scsi: qla2xxx: Use complete switch scan for RSCN events
  (bnc#1012628).
- scsi: qla2xxx: Avoid PCI IRQ affinity mapping when multiqueue
  is not supported (bnc#1012628).
- scsi: qla2xxx: Fix LUN discovery if loop id is not assigned
  yet by firmware (bnc#1012628).
- scsi: target/iscsi: Avoid iscsit_release_commands_from_conn()
  deadlock (bnc#1012628).
- scsi: sd: Optimal I/O size should be a multiple of physical
  block size (bnc#1012628).
- scsi: aacraid: Fix performance issue on logical drives
  (bnc#1012628).
- scsi: virtio_scsi: don't send sc payload with tmfs
  (bnc#1012628).
- s390/virtio: handle find on invalid queue gracefully
  (bnc#1012628).
- s390/setup: fix early warning messages (bnc#1012628).
- s390: vfio_ap: link the vfio_ap devices to the vfio_ap bus
  subsystem (bnc#1012628).
- clocksource/drivers/arch_timer: Workaround for Allwinner A64
  timer instability (bnc#1012628).
- Update config files.
  Set SUN50I_ERRATUM_UNKNOWN1=y to stay aligned with the master branch.
- clocksource/drivers/exynos_mct: Clear timer interrupt when
  shutdown (bnc#1012628).
- clocksource/drivers/exynos_mct: Move one-shot check from tick
  clear to ISR (bnc#1012628).
- mt76: fix corrupted software generated tx CCMP PN (bnc#1012628).
- regulator: s2mpa01: Fix step values for some LDOs (bnc#1012628).
- regulator: max77620: Initialize values for DT properties
  (bnc#1012628).
- regulator: s2mps11: Fix steps for buck7, buck8 and LDO35
  (bnc#1012628).
- spi: spi-gpio: fix SPI_CS_HIGH capability (bnc#1012628).
- spi: omap2-mcspi: Fix DMA and FIFO event trigger size mismatch
  (bnc#1012628).
- spi: pxa2xx: Setup maximum supported DMA transfer length
  (bnc#1012628).
- spi: ti-qspi: Fix mmap read when more than one CS in use
  (bnc#1012628).
- mmc:fix a bug when max_discard is 0 (bnc#1012628).
- mmc: renesas_sdhi: Fix card initialization failure in high
  speed mode (bnc#1012628).
- mmc: sdhci-esdhc-imx: fix HS400 timing issue (bnc#1012628).
- ACPI / device_sysfs: Avoid OF modalias creation for removed
  device (bnc#1012628).
- xen: fix dom0 boot on huge systems (bnc#1012628).
- vmw_balloon: release lock on error in vmballoon_reset()
  (bnc#1012628).
- tracing/perf: Use strndup_user() instead of buggy open-coded
  version (bnc#1012628).
- tracing: Do not free iter->trace in fail path of
  tracing_open_pipe() (bnc#1012628).
- tracing: Use strncpy instead of memcpy for string keys in hist
  triggers (bnc#1012628).
- smb3: make default i/o size for smb3 mounts larger
  (bnc#1012628).
- CIFS: Fix read after write for files with read caching
  (bnc#1012628).
- CIFS: Do not skip SMB2 message IDs on send failures
  (bnc#1012628).
- CIFS: Do not reset lease state to NONE on lease break
  (bnc#1012628).
- CIFS: Fix leaking locked VFS cache pages in writeback retry
  (bnc#1012628).
- crypto: arm64/aes-ccm - fix bugs in non-NEON fallback routine
  (bnc#1012628).
- crypto: arm64/aes-ccm - fix logical bug in AAD MAC handling
  (bnc#1012628).
- crypto: x86/morus - fix handling chunked inputs and MAY_SLEEP
  (bnc#1012628).
- crypto: x86/aesni-gcm - fix crash on empty plaintext
  (bnc#1012628).
- crypto: x86/aegis - fix handling chunked inputs and MAY_SLEEP
  (bnc#1012628).
- crypto: testmgr - skip crc32c context test for ahash algorithms
  (bnc#1012628).
- crypto: skcipher - set CRYPTO_TFM_NEED_KEY if ->setkey() fails
  (bnc#1012628).
- crypto: pcbc - remove bogus memcpy()s with src == dest
  (bnc#1012628).
- crypto: morus - fix handling chunked inputs (bnc#1012628).
- crypto: hash - set CRYPTO_TFM_NEED_KEY if ->setkey() fails
  (bnc#1012628).
- crypto: arm64/crct10dif - revert to C code for short inputs
  (bnc#1012628).
- crypto: arm64/aes-neonbs - fix returning final keystream block
  (bnc#1012628).
- crypto: arm/crct10dif - revert to C code for short inputs
  (bnc#1012628).
- crypto: aegis - fix handling chunked inputs (bnc#1012628).
- crypto: aead - set CRYPTO_TFM_NEED_KEY if ->setkey() fails
  (bnc#1012628).
- fix cgroup_do_mount() handling of failure exits (bnc#1012628).
- libnvdimm: Fix altmap reservation size calculation
  (bnc#1012628).
- libnvdimm/pmem: Honor force_raw for legacy pmem regions
  (bnc#1012628).
- libnvdimm, pfn: Fix over-trim in trim_pfn_device()
  (bnc#1012628).
- libnvdimm/label: Clear 'updating' flag after label-set update
  (bnc#1012628).
- nfit/ars: Attempt short-ARS even in the no_init_ars case
  (bnc#1012628).
- nfit/ars: Attempt a short-ARS whenever the ARS state is idle
  at boot (bnc#1012628).
- acpi/nfit: Fix bus command validation (bnc#1012628).
- nfit: acpi_nfit_ctl(): Check out_obj->type in the right place
  (bnc#1012628).
- nfit: Fix nfit_intel_shutdown_status() command submission
  (bnc#1012628).
- dax: Flush partial PMDs correctly (bnc#1012628).
- crypto: rockchip - update new iv to device in multiple
  operations (bnc#1012628).
- crypto: rockchip - fix scatterlist nents error (bnc#1012628).
- crypto: ahash - fix another early termination in hash walk
  (bnc#1012628).
- crypto: ofb - fix handling partial blocks and make thread-safe
  (bnc#1012628).
- crypto: cfb - remove bogus memcpy() with src == dest
  (bnc#1012628).
- crypto: cfb - add missing 'chunksize' property (bnc#1012628).
- crypto: ccree - don't copy zero size ciphertext (bnc#1012628).
- crypto: ccree - unmap buffer before copying IV (bnc#1012628).
- crypto: ccree - fix free of unallocated mlli buffer
  (bnc#1012628).
- crypto: caam - fix DMA mapping of stack memory (bnc#1012628).
- crypto: caam - fixed handling of sg list (bnc#1012628).
- crypto: ccree - fix missing break in switch statement
  (bnc#1012628).
- crypto: caam - fix hash context DMA unmap size (bnc#1012628).
- stm class: Fix an endless loop in channel allocation
  (bnc#1012628).
- stm class: Prevent division by zero (bnc#1012628).
- mei: bus: move hw module get/put to probe/release (bnc#1012628).
- mei: hbm: clean the feature flags on link reset (bnc#1012628).
- iio: adc: exynos-adc: Use proper number of channels for
  Exynos4x12 (bnc#1012628).
- iio: adc: exynos-adc: Fix NULL pointer exception on unbind
  (bnc#1012628).
- ASoC: codecs: pcm186x: Fix energysense SLEEP bit (bnc#1012628).
- ASoC: codecs: pcm186x: fix wrong usage of DECLARE_TLV_DB_SCALE()
  (bnc#1012628).
- ASoC: fsl_esai: fix register setting issue in RIGHT_J mode
  (bnc#1012628).
- 9p/net: fix memory leak in p9_client_create (bnc#1012628).
- 9p: use inode->i_lock to protect i_size_write() under 32-bit
  (bnc#1012628).
- commit c52890c

-------------------------------------------------------------------
Fri Mar 22 15:48:19 CET 2019 - msuchanek@suse.de

- Do not provide kernel-default-srchash from kernel-default-base.
- commit d6c71ce

-------------------------------------------------------------------
Thu Mar 21 07:19:28 CET 2019 - mkubecek@suse.cz

- config: apply recent changes to ARM configs
- CONFIG_PREEMPT_VOLUNTARY=y
- disable CONFIG_IMA_ARCH_POLICY
- enable CONFIG_IMA_APPRAISE_BOOTPARAM
- CONFIG_LSM=""
- commit fd95045

-------------------------------------------------------------------
Wed Mar 20 15:48:16 CET 2019 - yousaf.kaukab@suse.com

- config: arm64: Update to v5.1-rc1
- commit 590226b

-------------------------------------------------------------------
Wed Mar 20 15:06:09 CET 2019 - msuchanek@suse.de

- rpm/kernel-subpackage-build: handle arm kernel zImage.
- commit 81a63c3

-------------------------------------------------------------------
Wed Mar 20 12:47:44 CET 2019 - jslaby@suse.cz

- config: disable IMA_ARCH_POLICY for now
  When IMA_ARCH_POLICY was enabled during the 5.0-rc* stage, IMA causes
  kdump load to fail:
  kexec_file_load failed: Permission denied
  ima: impossible to appraise a kernel image without a file descriptor; try using kexec_file_load syscall.
  We have to fix kexec tooling before enabling IMA for everyone.
  BTW IMA_APPRAISE_BOOTPARAM was disabled by IMA_ARCH_POLICY=y. So
  restore the original state (and functionality).
- commit 3fe0cfc

-------------------------------------------------------------------
Wed Mar 20 12:01:00 CET 2019 - yousaf.kaukab@suse.com

- config: armv6hl: Update to v5.1-rc1
  CONFIG_BPFILTER_UMH is disabled due to bsc#1127188
- commit 608f8e5

-------------------------------------------------------------------
Wed Mar 20 10:46:11 CET 2019 - tiwai@suse.de

- rpm/kernel-source.changes.old: Really drop old changelogs (bsc#1098995)
- commit 9e463cf

-------------------------------------------------------------------
Tue Mar 19 19:45:44 CET 2019 - msuchanek@suse.de

- config: disable BPFILTER_UMH on arm (bsc#1127188).
- commit a705565

-------------------------------------------------------------------
Tue Mar 19 19:14:37 CET 2019 - yousaf.kaukab@suse.com

- config: armv7hl: Update to v5.1-rc1
  CONFIG_BPFILTER_UMH is disabled due to bsc#1127188
- commit 0042582

-------------------------------------------------------------------
Tue Mar 19 19:12:59 CET 2019 - jslaby@suse.cz

- Linux 5.0.3 (bnc#1012628).
- drm: Block fb changes for async plane updates (bnc#1012628).
- It's wrong to add len to sector_nr in raid10 reshape twice
  (bnc#1012628).
- perf/x86/intel: Make dev_attr_allow_tsx_force_abort static
  (bnc#1012628).
- perf/x86/intel: Fix memory corruption (bnc#1012628).
- ALSA: hda/realtek: Enable headset MIC of Acer TravelMate
  X514-51T with ALC255 (bnc#1012628).
- ALSA: hda/realtek - Reduce click noise on Dell Precision 5820
  headphone (bnc#1012628).
- ALSA: hda/realtek: Enable audio jacks of ASUS UX362FA with
  ALC294 (bnc#1012628).
- ALSA: hda - add more quirks for HP Z2 G4 and HP Z240
  (bnc#1012628).
- ALSA: hda: Extend i915 component bind timeout (bnc#1012628).
- ALSA: firewire-motu: fix construction of PCM frame for capture
  direction (bnc#1012628).
- ALSA: bebob: use more identical mod_alias for Saffire Pro 10
  I/O against Liquid Saffire 56 (bnc#1012628).
- perf/x86: Fixup typo in stub functions (bnc#1012628).
- f2fs: wait on atomic writes to count F2FS_CP_WB_DATA
  (bnc#1012628).
- net: sched: flower: insert new filter to idr after setting
  its mask (bnc#1012628).
- vsock/virtio: fix kernel panic from
  virtio_transport_reset_no_sock (bnc#1012628).
- net: hns3: fix to stop multiple HNS reset due to the AER changes
  (bnc#1012628).
- net: dsa: mv88e6xxx: Set correct interface mode for CPU/DSA
  ports (bnc#1012628).
- net/mlx4_core: Fix qp mtt size calculation (bnc#1012628).
- net/mlx4_core: Fix locking in SRIOV mode when switching between
  events and polling (bnc#1012628).
- net/mlx4_core: Fix reset flow when in command polling mode
  (bnc#1012628).
- vxlan: test dev->flags & IFF_UP before calling
  gro_cells_receive() (bnc#1012628).
- vxlan: Fix GRO cells race condition between receive and link
  delete (bnc#1012628).
- tcp: handle inet_csk_reqsk_queue_add() failures (bnc#1012628).
- tcp: Don't access TCP_SKB_CB before initializing it
  (bnc#1012628).
- tcp: do not report TCP_CM_INQ of 0 for closed connections
  (bnc#1012628).
- sctp: remove sched init from sctp_stream_init (bnc#1012628).
- rxrpc: Fix client call queueing, waiting for channel
  (bnc#1012628).
- route: set the deleted fnhe fnhe_daddr to 0 in ip_del_fnhe to
  fix a race (bnc#1012628).
- ravb: Decrease TxFIFO depth of Q3 and Q2 to one (bnc#1012628).
- pptp: dst_release sk_dst_cache in pptp_sock_destruct
  (bnc#1012628).
- net/x25: reset state in x25_connect() (bnc#1012628).
- net/x25: fix use-after-free in x25_device_event() (bnc#1012628).
- net: sit: fix UBSAN Undefined behaviour in check_6rd
  (bnc#1012628).
- net/hsr: fix possible crash in add_timer() (bnc#1012628).
- net: hsr: fix memory leak in hsr_dev_finalize() (bnc#1012628).
- net: hns3: add dma_rmb() for rx description (bnc#1012628).
- lan743x: Fix TX Stall Issue (bnc#1012628).
- lan743x: Fix RX Kernel Panic (bnc#1012628).
- l2tp: fix infoleak in l2tp_ip6_recvmsg() (bnc#1012628).
- ipv4/route: fail early when inet dev is missing (bnc#1012628).
- gro_cells: make sure device is up in gro_cells_receive()
  (bnc#1012628).
- fou, fou6: avoid uninit-value in gue_err() and gue6_err()
  (bnc#1012628).
- connector: fix unsafe usage of ->real_parent (bnc#1012628).
- commit 843d1cc

-------------------------------------------------------------------
Tue Mar 19 16:44:16 CET 2019 - yousaf.kaukab@suse.com

- config: armv6hl: Update to v5.0.2
- commit a2d3030

-------------------------------------------------------------------
Tue Mar 19 12:01:12 CET 2019 - yousaf.kaukab@suse.com

- config: armv7hl: Update to v5.0.2
- commit 70aaed6

-------------------------------------------------------------------
Mon Mar 18 13:07:22 CET 2019 - mkubecek@suse.cz

- Update to 5.1-rc1
- Eliminated 74 patches (73 stable, 1 other)
- ARM configs need update
- Refresh
  	patches.suse/btrfs-btrfs-use-the-new-VFS-super_block_dev.patch
  	patches.suse/btrfs-fs-super.c-add-new-super-block-devices-super_block_d.patch
  	patches.suse/genksyms-add-override-flag.diff
  	patches.suse/kernel-add-product-identifying-information-to-kernel-build.patch
  	patches.suse/readahead-request-tunables.patch
  	patches.suse/supported-flag
  	patches.suse/vfs-add-super_operations-get_inode_dev
- New config options:
  - General:
    - IO_URING=y
    - PRINTK_CALLER=n
  - File systems:
    - CONFIG_SUNRPC_DISABLE_INSECURE_ENCTYPES=n
    - VALIDATE_FS_PARSER=n
  - Networking:
    - NET_DEVLINK=y
    - XDP_SOCKETS_DIAG=m
    - MT7603E=m
    - TI_CPSW_PHY_SEL=n
  - Power management:
    - CPU_IDLE_GOV_TEO=y
  - DAX:
    - DEV_DAX_KMEM=m
    - DEV_DAX_PMEM_COMPAT=m
  - USB:
    - USB_AUTOSUSPEND_DELAY=2
    - USB_EHCI_FSL=m
  - Graphics:
    - DRM_ETNAVIV=n
    - DRM_NOUVEAU_SVM=n
    - VIDEO_FB_IVTV_FORCE_PAT=n
  - Sound:
    - SND_SOC_CROS_EC_CODEC=m
    - SND_SOC_CS35L36=m
    - SND_SOC_CS4341=m
    - SND_SOC_FSL_MICFIL=n
    - SND_SOC_MAX98373=m
    - SND_SOC_MT6358=n
    - SND_SOC_MTK_BTCVSD=m
    - SND_SOC_RK3328=n
    - SND_SOC_WM8904=n
    - SND_SOC_XILINX_AUDIO_FORMATTER=n
    - SND_SOC_XILINX_SPDIF=n
  - Input:
    - HID_MALTRON=m
    - HID_VIEWSONIC=m
  - TTY:
    - LDISC_AUTOLOAD=y
  - RTC:
    - RTC_DRV_ABEOZ9=m
    - RTC_DRV_RV3028=m
    - RTC_DRV_SD3078=m
    - RTC_DRV_WILCO_EC=m
  - Industrial IO:
    - AD7606_IFACE_PARALLEL=n
    - AD7606_IFACE_SPI=n
    - AD7768_1=n
    - MAX44009=m
    - PMS7003=n
    - SPS30=n
    - TI_DAC7612=n
  - Misc drivers:
    - ALTERA_FREEZE_BRIDGE=m
    - EDAC_I10NM=m
    - EXTCON_PTN5150=m
    - GNSS_MTK_SERIAL=m
    - GPIO_AMD_FCH=m
    - GPIO_TQMX86=m
    - HABANA_AI=m
    - INPUT_MSM_VIBRATOR=n
    - INTEL_MEI_HDCP=m
    - INTERCONNECT=m
    - IR_RCMM_DECODER=m
    - MFD_TQMX86=m
    - MLX_WDT=m
    - SPI_MTK_QUADSPI=m
    - SPI_NXP_FLEXSPI=n
    - SPI_SIFIVE=n
    - WILCO_EC=m
    - WILCO_EC_DEBUGFS=n
  - Virtualization:
    - HYPERV_IOMMU=y
  - Security:
    - LSM=""
    - SECURITY_SAFESETID=n
  - Testing:
    - TEST_LIVEPATCH=n
    - TEST_STACKINIT=n
    - TEST_VMALLOC=n
  - x86:
    - PCENGINES_APU2=m
  - ppc64/ppc64le:
    - NVRAM=m
    - KCOV=n
  - s390x:
  	UID16=y
  	DMA_FENCE_TRACE=n
  	SCSI_GDTH=n
  	UDMABUF=y
  - */debug:
    - PRINTK_CALLER=n
- commit b493de0

-------------------------------------------------------------------
Mon Mar 18 09:47:16 CET 2019 - msuchanek@suse.de

- Trim build dependencies of sample subpackage spec file (FATE#326579,
  jsc#SLE-4117, jsc#SLE-3853, bsc#1128910).
- commit 2eae420

-------------------------------------------------------------------
Mon Mar 18 07:50:55 CET 2019 - jslaby@suse.cz

- cifs: Fix NULL pointer dereference of devname (bnc#1129519).
- commit 018878b

-------------------------------------------------------------------
Sun Mar 17 22:16:17 CET 2019 - mkubecek@suse.cz

- Drop stale disabled patches
  As discussed in
  http://mailman.suse.de/mlarch/SuSE/kernel/2019/kernel.2019.02/msg00118.html
  http://mailman.suse.de/mlarch/SuSE/kernel/2019/kernel.2019.03/msg00016.html
  some of our patches have been disabled for quite long and attempts to get
  them reviewed failed. Let's drop them now:
  patches.suse/0036-arm-Add-BTB-invalidation-on-switch_mm-for-Cortex-A9-.patch
  patches.suse/0037-arm-Invalidate-BTB-on-prefetch-abort-outside-of-user.patch
  patches.suse/0038-arm-KVM-Invalidate-BTB-on-guest-exit.patch
  patches.suse/0039-arm-Add-icache-invalidation-on-switch_mm-for-Cortex-.patch
  patches.suse/0040-arm-Invalidate-icache-on-prefetch-abort-outside-of-u.patch
  patches.suse/0041-arm-KVM-Invalidate-icache-on-guest-exit-for-Cortex-A.patch
  patches.suse/binutils2_26.patch
  patches.suse/dm-mpath-accept-failed-paths
  patches.suse/pstore-backend-autoaction
- commit 55d6d1e

-------------------------------------------------------------------
Sun Mar 17 09:51:44 CET 2019 - mkubecek@suse.cz

- config: enable RANDOM_TRUST_CPU
  The outcome from mailing list discussion when this config option
  appeared was that it makes more sense to enable it by default and let
  those who do not trust their CPU override it on command line; but then
  I forgot to actually change the value.
- commit 138b5df

-------------------------------------------------------------------
Fri Mar 15 16:03:28 CET 2019 - tiwai@suse.de

- Update config files: disable CONFIG_FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER (bsc#1127552)
  The deferred fbcon takeover makes little sense with the current openSUSE
  boot setup, and it's harmful (more glitches, etc).  Disable it for now.
- commit 14fa903

-------------------------------------------------------------------
Fri Mar 15 00:32:22 CET 2019 - msuchanek@suse.de

- Remove the previous subpackage infrastructure.
  This partially reverts commit 9b3ca32c11854156b2f950ff5e26131377d8445e
  ("Add kernel-subpackage-build.spec (FATE#326579).")
- commit a5ee24e

-------------------------------------------------------------------
Fri Mar 15 00:14:36 CET 2019 - msuchanek@suse.de

- Add sample kernel-default-base spec file (FATE#326579, jsc#SLE-4117,
  jsc#SLE-3853, bsc#1128910).
- commit 35c4a52

-------------------------------------------------------------------
Thu Mar 14 19:01:12 CET 2019 - msuchanek@suse.de

- Install extra rpm scripts for kernel subpackaging (FATE#326579,
  jsc#SLE-4117, jsc#SLE-3853, bsc#1128910).
- commit ad7c227

-------------------------------------------------------------------
Thu Mar 14 08:57:42 CET 2019 - jslaby@suse.cz

- Linux 5.0.2 (bnc#1012628).
- perf/x86/intel: Implement support for TSX Force Abort
  (bnc#1012628).
- x86: Add TSX Force Abort CPUID/MSR (bnc#1012628).
- perf/x86/intel: Generalize dynamic constraint creation
  (bnc#1012628).
- perf/x86/intel: Make cpuc allocations consistent (bnc#1012628).
- ath9k: Avoid OF no-EEPROM quirks without qca,no-eeprom
  (bnc#1012628).
- scripts/gdb: replace flags (MS_xyz -> SB_xyz) (bnc#1012628).
- staging: erofs: compressed_pages should not be accessed again
  after freed (bnc#1012628).
- staging: erofs: keep corrupted fs from crashing kernel in
  erofs_namei() (bnc#1012628).
- gfs2: Fix missed wakeups in find_insert_glock (bnc#1012628).
- bpf: Stop the psock parser before canceling its work
  (bnc#1012628).
- Revert "PCI/PME: Implement runtime PM callbacks" (bnc#1012628).
- media: Revert "media: rc: some events are dropped by userspace"
  (bnc#1012628).
- drm: disable uncached DMA optimization for ARM and arm64
  (bnc#1012628).
- ARM: dts: exynos: Fix max voltage for buck8 regulator on Odroid
  XU3/XU4 (bnc#1012628).
- ARM: dts: exynos: Add minimal clkout parameters to Exynos3250
  PMU (bnc#1012628).
- ARM: dts: exynos: Fix pinctrl definition for eMMC RTSN line
  on Odroid X2/U3 (bnc#1012628).
- arm64: dts: hikey: Revert "Enable HS200 mode on eMMC"
  (bnc#1012628).
- arm64: dts: hikey: Give wifi some time after power-on
  (bnc#1012628).
- arm64: dts: zcu100-revC: Give wifi some time after power-on
  (bnc#1012628).
- x86/PCI: Fixup RTIT_BAR of Intel Denverton Trace Hub
  (bnc#1012628).
- scsi: aacraid: Fix missing break in switch statement
  (bnc#1012628).
- iscsi_ibft: Fix missing break in switch statement (bnc#1012628).
- Input: elan_i2c - add id for touchpad found in Lenovo s21e-20
  (bnc#1012628).
- Input: wacom_serial4 - add support for Wacom ArtPad II tablet
  (bnc#1012628).
- media: uvcvideo: Fix 'type' check leading to overflow
  (bnc#1012628).
- commit 815c1bc

-------------------------------------------------------------------
Mon Mar 11 10:43:58 CET 2019 - mkubecek@suse.cz

- Update patches.suse/0001-media-usb-pwc-Don-t-use-coherent-DMA-buffers-for-ISO.patch
  upstream reference.
- commit ff7c8cd

-------------------------------------------------------------------
Sun Mar 10 11:57:01 CET 2019 - jslaby@suse.cz

- Linux 5.0.1 (bnc#1012628).
- exec: Fix mem leak in kernel_read_file (bnc#1012628).
- Bluetooth: Fix locking in bt_accept_enqueue() for BH context
  (bnc#1012628).
- Bluetooth: btrtl: Restore old logic to assume firmware is
  already loaded (bnc#1012628).
- selftests: firmware: fix verify_reqs() return value
  (bnc#1012628).
- Revert "selftests: firmware: remove use of non-standard diff
  -Z option" (bnc#1012628).
- Revert "selftests: firmware: add
  CONFIG_FW_LOADER_USER_HELPER_FALLBACK to config" (bnc#1012628).
- USB: serial: cp210x: fix GPIO in autosuspend (bnc#1012628).
- gnss: sirf: fix premature wakeup interrupt enable (bnc#1012628).
- xtensa: fix get_wchan (bnc#1012628).
- aio: Fix locking in aio_poll() (bnc#1012628).
- MIPS: irq: Allocate accurate order pages for irq stack
  (bnc#1012628).
- alpha: wire up io_pgetevents system call (bnc#1012628).
- applicom: Fix potential Spectre v1 vulnerabilities
  (bnc#1012628).
- usb: xhci: Fix for Enabling USB ROLE SWITCH QUIRK on
  INTEL_SUNRISEPOINT_LP_XHCI (bnc#1012628).
- xhci: tegra: Prevent error pointer dereference (bnc#1012628).
- tracing: Fix event filters and triggers to handle negative
  numbers (bnc#1012628).
- x86/boot/compressed/64: Do not read legacy ROM on EFI system
  (bnc#1012628).
- x86/CPU/AMD: Set the CPB bit unconditionally on F17h
  (bnc#1012628).
- tipc: fix RDM/DGRAM connect() regression (bnc#1012628).
- team: Free BPF filter when unregistering netdev (bnc#1012628).
- sky2: Disable MSI on Dell Inspiron 1545 and Gateway P-79
  (bnc#1012628).
- sctp: call iov_iter_revert() after sending ABORT (bnc#1012628).
- qmi_wwan: Add support for Quectel EG12/EM12 (bnc#1012628).
- net-sysfs: Fix mem leak in netdev_register_kobject
  (bnc#1012628).
- net: sched: put back q.qlen into a single location
  (bnc#1012628).
- net: mscc: Enable all ports in QSGMII (bnc#1012628).
- net: dsa: mv8e6xxx: fix number of internal PHYs for 88E6x90
  family (bnc#1012628).
- net: dsa: mv88e6xxx: handle unknown duplex modes gracefully
  in mv88e6xxx_port_set_duplex (bnc#1012628).
- net: dsa: mv88e6xxx: add call to mv88e6xxx_ports_cmode_init
  to probe for new DSA framework (bnc#1012628).
- ip6mr: Do not call __IP6_INC_STATS() from preemptible context
  (bnc#1012628).
- staging: android: ashmem: Avoid range_alloc() allocation with
  ashmem_mutex held (bnc#1012628).
- staging: android: ashmem: Don't call fallocate() with
  ashmem_mutex held (bnc#1012628).
- staging: android: ion: fix sys heap pool's gfp_flags
  (bnc#1012628).
- staging: wilc1000: fix to set correct value for 'vif_num'
  (bnc#1012628).
- staging: comedi: ni_660x: fix missing break in switch statement
  (bnc#1012628).
- staging: erofs: fix illegal address access under memory pressure
  (bnc#1012628).
- staging: erofs: fix race of initializing xattrs of a inode at
  the same time (bnc#1012628).
- staging: erofs: fix memleak of inode's shared xattr array
  (bnc#1012628).
- staging: erofs: fix fast symlink w/o xattr when fs xattr is on
  (bnc#1012628).
- driver core: Postpone DMA tear-down until after devres release
  (bnc#1012628).
- USB: serial: ftdi_sio: add ID for Hjelmslund Electronics USB485
  (bnc#1012628).
- USB: serial: cp210x: add ID for Ingenico 3070 (bnc#1012628).
- USB: serial: option: add Telit ME910 ECM composition
  (bnc#1012628).
- binder: create node flag to request sender's security context
  (bnc#1012628).
- staging: erofs: fix mis-acted TAIL merging behavior
  (bnc#1012628).
- cpufreq: Use struct kobj_attribute instead of struct global_attr
  (bnc#1012628).
- commit 47a2a02

-------------------------------------------------------------------
Thu Mar  7 14:11:58 CET 2019 - msuchanek@suse.de

- KMPs: provide and conflict a kernel version specific KMP name
  (bsc#1127155, bsc#1109137).
- commit 5568093

-------------------------------------------------------------------
Wed Mar  6 17:46:01 CET 2019 - msuchanek@suse.de

- Revert "Drop multiversion(kernel) from the KMP template (fate#323189)"
  (bsc#1109137).
  This reverts commit 71504d805c1340f68715ad41958e5ef35da2c351.
- commit adade9f

-------------------------------------------------------------------
Tue Mar  5 10:34:06 CET 2019 - mkubecek@suse.cz

- config: disable BPFILTER_UMH on non-x86 architectures (bsc#1127188)
  CONFIG_BPFILTER_UMH depends on ability to compile and link a userspace
  binary so that it currently doesn't work in our kbuild check setups using
  a cross compiler. Disable the option on architectures where cross compiler
  is used (i.e. all except x86_64 and i386).
- commit cfb8371

-------------------------------------------------------------------
Mon Mar  4 17:35:40 CET 2019 - msuchanek@suse.de

- KMPs: obsolete older KMPs of the same flavour (bsc#1127155, bsc#1109137).
- commit 821419f

-------------------------------------------------------------------
Mon Mar  4 06:21:08 CET 2019 - mkubecek@suse.cz

- Update to 5.0 final
- Refresh configs
- commit 8f71df2

-------------------------------------------------------------------
Wed Feb 27 19:00:49 CET 2019 - jslaby@suse.cz

- Linux 4.20.13 (bnc#1012628).
- net: phylink: avoid resolving link state too early
  (bnc#1012628).
- pinctrl: max77620: Use define directive for
  max77620_pinconf_param values (bnc#1012628).
- netfilter: ipt_CLUSTERIP: fix sleep-in-atomic bug in
  clusterip_config_entry_put() (bnc#1012628).
- netfilter: nfnetlink_osf: add missing fmatch check
  (bnc#1012628).
- netfilter: ipv6: Don't preserve original oif for loopback
  address (bnc#1012628).
- netfilter: nft_compat: use-after-free when deleting targets
  (bnc#1012628).
- netfilter: nf_tables: fix flush after rule deletion in the
  same batch (bnc#1012628).
- Revert "bridge: do not add port to router list when receives
  query with source 0.0.0.0" (bnc#1012628).
- staging: erofs: unzip_vle_lz4.c,utils.c: rectify BUG_ONs
  (bnc#1012628).
- staging: erofs: unzip_{pagevec.h,vle.c}: rectify BUG_ONs
  (bnc#1012628).
- staging: erofs: {dir,inode,super}.c: rectify BUG_ONs
  (bnc#1012628).
- staging: erofs: add a full barrier in erofs_workgroup_unfreeze
  (bnc#1012628).
- staging: erofs: fix `erofs_workgroup_{try_to_freeze, unfreeze}'
  (bnc#1012628).
- staging: erofs: atomic_cond_read_relaxed on ref-locked workgroup
  (bnc#1012628).
- staging: erofs: remove the redundant d_rehash() for the root
  dentry (bnc#1012628).
- net: avoid false positives in untrusted gso validation
  (bnc#1012628).
- net: validate untrusted gso packets without csum offload
  (bnc#1012628).
- ASoC: soc-core: fix init platform memory handling (bnc#1012628).
- s390: vsie: Use effective CRYCBD.31 to check CRYCBD validity
  (bnc#1012628).
- kvm: x86: Return LA57 feature based on hardware capability
  (bnc#1012628).
- x86/kvm/mmu: fix switch between root and guest MMUs
  (bnc#1012628).
- KVM: MMU: record maximum physical address width in
  kvm_mmu_extended_role (bnc#1012628).
- mac80211: allocate tailroom for forwarded mesh packets
  (bnc#1012628).
- mac80211: Change default tx_sk_pacing_shift to 7 (bnc#1012628).
- drm/amd/display: Fix MST reboot/poweroff sequence (bnc#1012628).
- drm/amdgpu: disable bulk moves for now (bnc#1012628).
- drm/i915/fbdev: Actually configure untiled displays
  (bnc#1012628).
- gpu: drm: radeon: Set DPM_FLAG_NEVER_SKIP when enabling
  PM-runtime (bnc#1012628).
- drm/amdgpu: Set DPM_FLAG_NEVER_SKIP when enabling PM-runtime
  (bnc#1012628).
- cpufreq: scmi: Fix use-after-free in scmi_cpufreq_exit()
  (bnc#1012628).
- ARC: define ARCH_SLAB_MINALIGN = 8 (bnc#1012628).
- ARC: U-boot: check arguments paranoidly (bnc#1012628).
- ARCv2: Enable unaligned access in early ASM code (bnc#1012628).
- parisc: Fix ptrace syscall number modification (bnc#1012628).
- clk: at91: fix at91sam9x5 peripheral clock number (bnc#1012628).
- clk: at91: fix masterck name (bnc#1012628).
- KEYS: always initialize keyring_index_key::desc_len
  (bnc#1012628).
- KEYS: user: Align the payload buffer (bnc#1012628).
- RDMA/srp: Rework SCSI device reset handling (bnc#1012628).
- scsi: sd_zbc: Fix sd_zbc_report_zones() buffer allocation
  (bnc#1012628).
- net/mlx5e: XDP, fix redirect resources availability check
  (bnc#1012628).
- net/mlx5e: FPGA, fix Innova IPsec TX offload data path
  performance (bnc#1012628).
- net_sched: fix two more memory leaks in cls_tcindex
  (bnc#1012628).
- net_sched: fix a memory leak in cls_tcindex (bnc#1012628).
- net_sched: fix a race condition in tcindex_destroy()
  (bnc#1012628).
- sit: check if IPv6 enabled before calling
  ip6_err_gen_icmpv6_unreach() (bnc#1012628).
- geneve: should not call rt6_lookup() when ipv6 was disabled
  (bnc#1012628).
- net: socket: make bond ioctls go through compat_ifreq_ioctl()
  (bnc#1012628).
- net: socket: fix SIOCGIFNAME in compat (bnc#1012628).
- Revert "kill dev_ifsioc()" (bnc#1012628).
- Revert "socket: fix struct ifreq size in compat ioctl"
  (bnc#1012628).
- net: dsa: Fix NPD checking for br_vlan_enabled() (bnc#1012628).
- team: avoid complex list operations in team_nl_cmd_options_set()
  (bnc#1012628).
- sctp: set stream ext to NULL after freeing it in
  sctp_stream_outq_migrate (bnc#1012628).
- sctp: call gso_reset_checksum when computing checksum in
  sctp_gso_segment (bnc#1012628).
- net: sfp: do not probe SFP module before we're attached
  (bnc#1012628).
- net/packet: fix 4gb buffer limit due to overflow check
  (bnc#1012628).
- net/mlx5e: Don't overwrite pedit action when multiple pedit used
  (bnc#1012628).
- net/mlx4_en: Force CHECKSUM_NONE for short ethernet frames
  (bnc#1012628).
- net: ena: fix race between link up and device initalization
  (bnc#1012628).
- ipv6: propagate genlmsg_reply return code (bnc#1012628).
- inet_diag: fix reporting cgroup classid and fallback to priority
  (bnc#1012628).
- batman-adv: fix uninit-value in batadv_interface_tx()
  (bnc#1012628).
- isdn: avm: Fix string plus integer warning from Clang
  (bnc#1012628).
- net/mlx5e: Fix wrong (zero) TX drop counter indication for
  representor (bnc#1012628).
- bpf: pull in pkt_sched.h header for tooling to fix bpftool build
  (bnc#1012628).
- selftests: forwarding: Add a test case for externally learned
  FDB entries (bnc#1012628).
- mlxsw: spectrum_switchdev: Do not treat static FDB entries as
  sticky (bnc#1012628).
- net: bridge: Mark FDB entries that were added by user as such
  (bnc#1012628).
- mlxsw: pci: Return error on PCI reset timeout (bnc#1012628).
- dpaa_eth: NETIF_F_LLTX requires to do our own update of
  trans_start (bnc#1012628).
- bpf: fix SO_MAX_PACING_RATE to support TCP internal pacing
  (bnc#1012628).
- bpf: bpf_setsockopt: reset sock dst on SO_MARK changes
  (bnc#1012628).
- leds: lp5523: fix a missing check of return value of lp55xx_read
  (bnc#1012628).
- hwmon: (tmp421) Correct the misspelling of the tmp442 compatible
  attribute in OF device ID table (bnc#1012628).
- atm: he: fix sign-extension overflow on large shift
  (bnc#1012628).
- selftests/bpf: retry tests that expect build-id (bnc#1012628).
- bpf: zero out build_id for BPF_STACK_BUILD_ID_IP (bnc#1012628).
- bpf: don't assume build-id length is always 20 bytes
  (bnc#1012628).
- afs: Fix race in async call refcounting (bnc#1012628).
- afs: Provide a function to get a ref on a call (bnc#1012628).
- afs: Fix key refcounting in file locking code (bnc#1012628).
- afs: Don't set vnode->cb_s_break in afs_validate()
  (bnc#1012628).
- selftests: tc-testing: fix parsing of ife type (bnc#1012628).
- selftests: tc-testing: fix tunnel_key failure if dst_port is
  unspecified (bnc#1012628).
- selftests: tc-testing: drop test on missing tunnel key id
  (bnc#1012628).
- net: phy: micrel: set soft_reset callback to genphy_soft_reset
  for KSZ9031 (bnc#1012628).
- ACPI: EC: Look for ECDT EC after calling acpi_load_tables()
  (bnc#1012628).
- pvcalls-front: fix potential null dereference (bnc#1012628).
- drm/sun4i: backend: add missing of_node_puts (bnc#1012628).
- SUNRPC: Ensure we respect the RPCSEC_GSS sequence number limit
  (bnc#1012628).
- SUNRPC: Ensure rq_bytes_sent is reset before request
  transmission (bnc#1012628).
- samples/bpf: workaround clang asm goto compilation errors
  (bnc#1012628).
- selftests/bpf: install with_tunnels.sh for
  test_flow_dissector.sh (bnc#1012628).
- xsk: Check if a queue exists during umem setup (bnc#1012628).
- vhost/scsi: Use copy_to_iter() to send control queue response
  (bnc#1012628).
- vhost: return EINVAL if iovecs size does not match the message
  size (bnc#1012628).
- drm/amd/display: fix PME notification not working in RV desktop
  (bnc#1012628).
- drm/amdkfd: Don't assign dGPUs to APU topology devices
  (bnc#1012628).
- drm/meson: add missing of_node_put (bnc#1012628).
- always clear the X2APIC_ENABLE bit for PV guest (bnc#1012628).
- netfilter: nft_flow_offload: fix checking method of conntrack
  helper (bnc#1012628).
- scsi: cxgb4i: add wait_for_completion() (bnc#1012628).
- scsi: qla1280: set 64bit coherent mask (bnc#1012628).
- scsi: ufs: Fix geometry descriptor size (bnc#1012628).
- scsi: qedi: Add ep_state for login completion on un-reachable
  targets (bnc#1012628).
- scsi: ufs: Fix system suspend status (bnc#1012628).
- scsi: tcmu: avoid cmd/qfull timers updated whenever a new cmd
  comes (bnc#1012628).
- isdn: i4l: isdn_tty: Fix some concurrency double-free bugs
  (bnc#1012628).
- net: stmmac: Prevent RX starvation in stmmac_napi_poll()
  (bnc#1012628).
- net: stmmac: Fix the logic of checking if RX Watchdog must be
  enabled (bnc#1012628).
- net: stmmac: Check if CBS is supported before configuring
  (bnc#1012628).
- net: stmmac: dwxgmac2: Only clear interrupts that are active
  (bnc#1012628).
- net: stmmac: Fix PCI module removal leak (bnc#1012628).
- acpi/nfit: Fix race accessing memdev in nfit_get_smbios_id()
  (bnc#1012628).
- powerpc/8xx: fix setting of pagetable for Abatron BDI debug tool
  (bnc#1012628).
- RDMA/mthca: Clear QP objects during their allocation
  (bnc#1012628).
- netfilter: nft_flow_offload: fix interaction with vrf slave
  device (bnc#1012628).
- afs: Set correct lock type for the yfs CreateFile (bnc#1012628).
- bpf: fix panic in stack_map_get_build_id() on i386 and arm32
  (bnc#1012628).
- selftests: bpf: install files tcp_(server|client)*.py
  (bnc#1012628).
- pvcalls-front: Avoid get_free_pages(GFP_KERNEL) under spinlock
  (bnc#1012628).
- bpf: correctly set initial window on active Fast Open sender
  (bnc#1012628).
- netfilter: nft_flow_offload: Fix reverse route lookup
  (bnc#1012628).
- MIPS: jazz: fix 64bit build (bnc#1012628).
- include/linux/compiler*.h: fix OPTIMIZER_HIDE_VAR (bnc#1012628).
- scsi: isci: initialize shost fully before calling
  scsi_add_host() (bnc#1012628).
- scsi: qla4xxx: check return code of
  qla4xxx_copy_from_fwddb_param (bnc#1012628).
- netfilter: nf_tables: fix leaking object reference count
  (bnc#1012628).
- selftests: forwarding: Add a test for VLAN deletion
  (bnc#1012628).
- mlxsw: spectrum: Add VXLAN dependency for spectrum
  (bnc#1012628).
- mlxsw: spectrum_acl: Add cleanup after C-TCAM update error
  condition (bnc#1012628).
- xprtrdma: Double free in rpcrdma_sendctxs_create()
  (bnc#1012628).
- MIPS: ath79: Enable OF serial ports in the default config
  (bnc#1012628).
- net/mlx4: Get rid of page operation after dma_alloc_coherent
  (bnc#1012628).
- watchdog: mt7621_wdt/rt2880_wdt: Fix compilation problem
  (bnc#1012628).
- hwmon: (nct6775) Enable IO mapping for NCT6797D and NCT6798D
  (bnc#1012628).
- hwmon: (nct6775) Fix chip ID for NCT6798D (bnc#1012628).
- selftests/bpf: Test [::] -> [::1] rewrite in sys_sendmsg in
  test_sock_addr (bnc#1012628).
- bpf: Fix [::] -> [::1] rewrite in sys_sendmsg (bnc#1012628).
- selftests: net: fix/improve ip_defrag selftest (bnc#1012628).
- net: hns: Fix use after free identified by SLUB debug
  (bnc#1012628).
- qed: Fix qed_ll2_post_rx_buffer_notify_fw() by adding a write
  memory barrier (bnc#1012628).
- qed: Fix qed_chain_set_prod() for PBL chains with non power
  of 2 page count (bnc#1012628).
- soc/fsl/qe: fix err handling of ucc_of_parse_tdm (bnc#1012628).
- xen/pvcalls: remove set but not used variable 'intf'
  (bnc#1012628).
- mfd: mc13xxx: Fix a missing check of a register-read failure
  (bnc#1012628).
- mfd: tps65218: Use devm_regmap_add_irq_chip and clean up error
  path in probe() (bnc#1012628).
- mfd: cros_ec_dev: Add missing mfd_remove_devices() call in
  remove (bnc#1012628).
- mfd: axp20x: Add supported cells for AXP803 (bnc#1012628).
- mfd: axp20x: Re-align MFD cell entries (bnc#1012628).
- mfd: axp20x: Add AC power supply cell for AXP813 (bnc#1012628).
- mfd: wm5110: Add missing ASRC rate register (bnc#1012628).
- mfd: qcom_rpm: write fw_version to CTRL_REG (bnc#1012628).
- mfd: at91-usart: Add platform dependency (bnc#1012628).
- mfd: bd9571mwv: Add volatile register to make DVFS work
  (bnc#1012628).
- mfd: ab8500-core: Return zero in get_register_interruptible()
  (bnc#1012628).
- mfd: mt6397: Do not call irq_domain_remove if PMIC unsupported
  (bnc#1012628).
- mfd: db8500-prcmu: Fix some section annotations (bnc#1012628).
- mfd: twl-core: Fix section annotations on {,un}protect_pm_master
  (bnc#1012628).
- pvcalls-back: set -ENOTCONN in pvcalls_conn_back_read
  (bnc#1012628).
- pvcalls-front: properly allocate sk (bnc#1012628).
- pvcalls-front: don't try to free unallocated rings
  (bnc#1012628).
- pvcalls-front: read all data before closing the connection
  (bnc#1012628).
- mfd: ti_am335x_tscadc: Use PLATFORM_DEVID_AUTO while registering
  mfd cells (bnc#1012628).
- backlight: pwm_bl: Fix devicetree parsing with auto-generated
  brightness tables (bnc#1012628).
- KEYS: allow reaching the keys quotas exactly (bnc#1012628).
- ALSA: hda/realtek: Disable PC beep in passthrough on alc285
  (bnc#1012628).
- ALSA: hda/realtek - Headset microphone and internal speaker
  support for System76 oryp5 (bnc#1012628).
- proc, oom: do not report alien mms when setting oom_score_adj
  (bnc#1012628).
- numa: change get_mempolicy() to use nr_node_ids instead of
  MAX_NUMNODES (bnc#1012628).
- ceph: avoid repeatedly adding inode to mdsc->snap_flush_list
  (bnc#1012628).
- libceph: handle an empty authorize reply (bnc#1012628).
- pinctrl: qcom: qcs404: Correct SDC tile (bnc#1012628).
- mac80211: Free mpath object when rhashtable insertion fails
  (bnc#1012628).
- mac80211: Use linked list instead of rhashtable walk for mesh
  tables (bnc#1012628).
- mac80211: Restore vif beacon interval if start ap fails
  (bnc#1012628).
- gpio: pxa: avoid attempting to set pin direction via pinctrl
  on MMP2 (bnc#1012628).
- gpio: MT7621: use a per instance irq_chip structure
  (bnc#1012628).
- mt76x0u: fix suspend/resume (bnc#1012628).
- MIPS: eBPF: Always return sign extended 32b values
  (bnc#1012628).
- tracing: Fix number of entries in trace header (bnc#1012628).
- kprobe: Do not use uaccess functions to access kernel memory
  that can fault (bnc#1012628).
- ARM: 8834/1: Fix: kprobes: optimized kprobes illegal instruction
  (bnc#1012628).
- commit fb7c4a5

-------------------------------------------------------------------
Wed Feb 27 13:20:14 CET 2019 - msuchanek@suse.de

- BPF: UMH: do not detect if compiler can link userspace program
  (boo#1127188).
- commit 784e336

-------------------------------------------------------------------
Mon Feb 25 05:31:31 CET 2019 - mkubecek@suse.cz

- Update to 5.0-rc8
- Eliminated 1 patch
- commit 4ddf057

-------------------------------------------------------------------
Sat Feb 23 19:48:23 CET 2019 - jslaby@suse.cz

- Linux 4.20.12 (bnc#1012628).
- dsa: mv88e6xxx: Ensure all pending interrupts are handled
  prior to exit (bnc#1012628).
- net: fix IPv6 prefix route residue (bnc#1012628).
- net: ipv4: use a dedicated counter for icmp_v4 redirect packets
  (bnc#1012628).
- vsock: cope with memory allocation failure at socket creation
  time (bnc#1012628).
- vxlan: test dev->flags & IFF_UP before calling netif_rx()
  (bnc#1012628).
- mlxsw: __mlxsw_sp_port_headroom_set(): Fix a use of local
  variable (bnc#1012628).
- net: Fix for_each_netdev_feature on Big endian (bnc#1012628).
- net: ip6_gre: initialize erspan_ver just for erspan tunnels
  (bnc#1012628).
- net: phy: xgmiitorgmii: Support generic PHY status read
  (bnc#1012628).
- net: stmmac: Fix a race in EEE enable callback (bnc#1012628).
- net: stmmac: handle endianness in dwmac4_get_timestamp
  (bnc#1012628).
- sky2: Increase D3 delay again (bnc#1012628).
- vhost: correctly check the return value of translate_desc()
  in log_used() (bnc#1012628).
- net: Add header for usage of fls64() (bnc#1012628).
- tcp: clear icsk_backoff in tcp_write_queue_purge()
  (bnc#1012628).
- tcp: tcp_v4_err() should be more careful (bnc#1012628).
- net: netcp: Fix ethss driver probe issue (bnc#1012628).
- net: Do not allocate page fragments that are not skb aligned
  (bnc#1012628).
- af_packet: fix raw sockets over 6in4 tunnel (bnc#1012628).
- arm64, mm, efi: Account for GICv3 LPI tables in static memblock
  reserve table (bnc#1012628).
- efi/arm: Revert "Defer persistent reservations until after
  paging_init()" (bnc#1012628).
- PCI: Fix __initdata issue with "pci=disable_acs_redir" parameter
  (bnc#1012628).
- scsi: target/core: Use kmem_cache_free() instead of kfree()
  (bnc#1012628).
- mmc: meson-gx: fix interrupt name (bnc#1012628).
- hwmon: (lm80) Fix missing unlock on error in set_fan_div()
  (bnc#1012628).
- netfilter: nf_nat_snmp_basic: add missing length checks in
  ASN.1 cbs (bnc#1012628).
- net/x25: do not hold the cpu too long in x25_new_lci()
  (bnc#1012628).
- mISDN: fix a race in dev_expire_timer() (bnc#1012628).
- ax25: fix possible use-after-free (bnc#1012628).
- commit b35c1fc

-------------------------------------------------------------------
Fri Feb 22 09:41:18 CET 2019 - mkubecek@suse.cz

- net: crypto set sk to NULL when af_alg_release (CVE-2019-8912
  bsc#1125907).
- commit e1b5b1f

-------------------------------------------------------------------
Fri Feb 22 09:37:29 CET 2019 - mkubecek@suse.cz

- net: crypto set sk to NULL when af_alg_release (CVE-2019-8912
  bsc#1125907).
- commit 3aed52e

-------------------------------------------------------------------
Fri Feb 22 00:00:33 CET 2019 - mkubecek@suse.cz

- config: enable PREEMPT_VOLUNTARY (bsc#1125004)
  Switch to PREEMPT_VOLUNTARY everywhere except s390x/zfcpdump.
  [js] switch also armv7hl. armv6hl seems to have PREEMPT=n.
- config: enable PREEMPT_VOLUNTARY (bsc#1125004)
  Switch to PREEMPT_VOLUNTARY everywhere except s390x/zfcpdump.
- commit 5cf91fd

-------------------------------------------------------------------
Wed Feb 20 11:05:10 CET 2019 - jslaby@suse.cz

- Linux 4.20.11 (bnc#1012628).
- dt-bindings: eeprom: at24: add "atmel,24c2048" compatible string
  (bnc#1012628).
- eeprom: at24: add support for 24c2048 (bnc#1012628).
- blk-mq: fix a hung issue when fsync (bnc#1012628).
- drm/amdgpu/sriov:Correct pfvf exchange logic (bnc#1012628).
- ACPI: NUMA: Use correct type for printing addresses on i386-PAE
  (bnc#1012628).
- perf stat: Fix endless wait for child process (bnc#1012628).
- perf report: Fix wrong iteration count in --branch-history
  (bnc#1012628).
- perf test shell: Use a fallback to get the pathname in
  vfs_getname (bnc#1012628).
- soc: renesas: r8a774c0-sysc: Fix initialization order of
  3DG-{A,B} (bnc#1012628).
- tools uapi: fix RISC-V 64-bit support (bnc#1012628).
- riscv: fix trace_sys_exit hook (bnc#1012628).
- cpufreq: check if policy is inactive early in __cpufreq_get()
  (bnc#1012628).
- csky: fixup relocation error with 807 & 860 (bnc#1012628).
- csky: fixup CACHEV1 store instruction fast retire (bnc#1012628).
- irqchip/csky: fixup handle_irq_perbit break irq (bnc#1012628).
- drm/amd/powerplay: avoid possible buffer overflow (bnc#1012628).
- drm/bridge: tc358767: add bus flags (bnc#1012628).
- drm/bridge: tc358767: add defines for DP1_SRCCTRL & PHY_2LANE
  (bnc#1012628).
- drm/bridge: tc358767: fix single lane configuration
  (bnc#1012628).
- drm/bridge: tc358767: fix initial DP0/1_SRCCTRL value
  (bnc#1012628).
- drm/bridge: tc358767: reject modes which require too much BW
  (bnc#1012628).
- drm/bridge: tc358767: fix output H/V syncs (bnc#1012628).
- nvme-pci: use the same attributes when freeing
  host_mem_desc_bufs (bnc#1012628).
- nvme-pci: fix out of bounds access in nvme_cqe_pending
  (bnc#1012628).
- nvme-multipath: zero out ANA log buffer (bnc#1012628).
- nvme: pad fake subsys NQN vid and ssvid with zeros
  (bnc#1012628).
- nvme: introduce NVME_QUIRK_IGNORE_DEV_SUBNQN (bnc#1012628).
- drm/amdgpu: fix CPDMA hang in PRT mode for VEGA20 (bnc#1012628).
- drm/amdgpu: set WRITE_BURST_LENGTH to 64B to workaround SDMA1
  hang (bnc#1012628).
- drm/amdgpu: disable system memory page tables for now
  (bnc#1012628).
- ARM: dts: da850-evm: Correct the audio codec regulators
  (bnc#1012628).
- ARM: dts: da850-evm: Correct the sound card name (bnc#1012628).
- ARM: dts: da850-lcdk: Correct the audio codec regulators
  (bnc#1012628).
- ARM: dts: da850-lcdk: Correct the sound card name (bnc#1012628).
- ARM: dts: kirkwood: Fix polarity of GPIO fan lines
  (bnc#1012628).
- csky: fixup compile error with CPU 810 (bnc#1012628).
- gpio: pl061: handle failed allocations (bnc#1012628).
- drm/nouveau: Don't disable polling in fallback mode
  (bnc#1012628).
- drm/nouveau/falcon: avoid touching registers if engine is off
  (bnc#1012628).
- cifs: Limit memory used by lock request calls to a page
  (bnc#1012628).
- CIFS: Fix credits calculation for cancelled requests
  (bnc#1012628).
- CIFS: Move credit processing to mid callbacks for SMB3
  (bnc#1012628).
- CIFS: Fix error paths in writeback code (bnc#1012628).
- kvm: sev: Fail KVM_SEV_INIT if already initialized
  (bnc#1012628).
- CIFS: Fix credit calculations in compound mid callback
  (bnc#1012628).
- CIFS: Do not assume one credit for async responses
  (bnc#1012628).
- CIFS: Fix mounts if the client is low on credits (bnc#1012628).
- gpio: mxc: move gpio noirq suspend/resume to syscore phase
  (bnc#1012628).
- Revert "Input: elan_i2c - add ACPI ID for touchpad in ASUS
  Aspire F5-573G" (bnc#1012628).
- Input: elan_i2c - add ACPI ID for touchpad in Lenovo V330-15ISK
  (bnc#1012628).
- arm64: dts: rockchip: enable usb-host regulators at boot on
  rk3328-rock64 (bnc#1012628).
- ARM: OMAP5+: Fix inverted nirq pin interrupts with irq_set_type
  (bnc#1012628).
- perf/core: Fix impossible ring-buffer sizes warning
  (bnc#1012628).
- perf/x86: Add check_period PMU callback (bnc#1012628).
- ALSA: hda - Add quirk for HP EliteBook 840 G5 (bnc#1012628).
- ALSA: usb-audio: Fix implicit fb endpoint setup by quirk
  (bnc#1012628).
- ALSA: pcm: Revert capture stream behavior change in blocking
  mode (bnc#1012628).
- ASoC: hdmi-codec: fix oops on re-probe (bnc#1012628).
- tools uapi: fix Alpha support (bnc#1012628).
- riscv: Add pte bit to distinguish swap from invalid
  (bnc#1012628).
- x86/kvm/nVMX: read from MSR_IA32_VMX_PROCBASED_CTLS2 only when
  it is available (bnc#1012628).
- kvm: vmx: Fix entry number check for add_atomic_switch_msr()
  (bnc#1012628).
- mmc: sunxi: Disable HS-DDR mode for H5 eMMC controller by
  default (bnc#1012628).
- mmc: sunxi: Filter out unsupported modes declared in the device
  tree (bnc#1012628).
- mmc: block: handle complete_work on separate workqueue
  (bnc#1012628).
- Input: bma150 - register input device after setting private data
  (bnc#1012628).
- Input: elantech - enable 3rd button support on Fujitsu CELSIUS
  H780 (bnc#1012628).
- Revert "nfsd4: return default lease period" (bnc#1012628).
- Revert "mm: don't reclaim inodes with many attached pages"
  (bnc#1012628).
- Revert "mm: slowly shrink slabs with a relatively small number
  of objects" (bnc#1012628).
- mm: proc: smaps_rollup: fix pss_locked calculation
  (bnc#1012628).
- alpha: fix page fault handling for r16-r18 targets
  (bnc#1012628).
- alpha: Fix Eiger NR_IRQS to 128 (bnc#1012628).
- s390/suspend: fix stack setup in swsusp_arch_suspend
  (bnc#1012628).
- s390/zcrypt: fix specification exception on z196 during ap probe
  (bnc#1012628).
- tracing: probeevent: Correctly update remaining space in
  dynamic area (bnc#1012628).
- x86/platform/UV: Use efi_runtime_lock to serialise BIOS calls
  (bnc#1012628).
- powerpc/64s: Fix possible corruption on big endian due to
  pgd/pud_present() (bnc#1012628).
- scsi: sd: fix entropy gathering for most rotational disks
  (bnc#1012628).
- crypto: ccree - fix resume race condition on init (bnc#1012628).
- md/raid1: don't clear bitmap bits on interrupted recovery
  (bnc#1012628).
- x86/a.out: Clear the dump structure initially (bnc#1012628).
- sunrpc: fix 4 more call sites that were using stack memory
  with a scatterlist (bnc#1012628).
- dm crypt: don't overallocate the integrity tag space
  (bnc#1012628).
- dm thin: fix bug where bio that overwrites thin block ignores
  FUA (bnc#1012628).
- drm: Use array_size() when creating lease (bnc#1012628).
- drm/vkms: Fix license inconsistent (bnc#1012628).
- drm/sched: Always trace the dependencies we wait on, to fix
  a race (bnc#1012628).
- drm/i915: Block fbdev HPD processing during suspend
  (bnc#1012628).
- drm/i915: Prevent a race during I915_GEM_MMAP ioctl with WC set
  (bnc#1012628).
- commit eba2b68

-------------------------------------------------------------------
Tue Feb 19 12:52:52 CET 2019 - mbenes@suse.cz

- rpm/klp-symbols: Remove the second column in Symbols.list
  Symbols.list file contains also a symbol type next to its name.
  klp-convert cannot handle it well and it is superfluous anyway.
- commit 62a0a00

-------------------------------------------------------------------
Tue Feb 19 10:21:09 CET 2019 - jslaby@suse.cz

- signal: Restore the stop PTRACE_EVENT_EXIT (strace
  threads-execve regression).
- Delete
  patches.suse/revert-signal-Always-notice-exiting-tasks.patch.
- commit 8c9f09c

-------------------------------------------------------------------
Tue Feb 19 07:34:39 CET 2019 - jslaby@suse.cz

- Revert "signal: Always notice exiting tasks" (strace
  threads-execve regression).
- commit 08d0345

-------------------------------------------------------------------
Mon Feb 18 05:25:43 CET 2019 - mkubecek@suse.cz

- Update to 5.0-rc7
- commit b094e66

-------------------------------------------------------------------
Fri Feb 15 10:26:12 CET 2019 - jslaby@suse.cz

- Revert "exec: load_script: don't blindly truncate shebang
  string" (bnc#1012628).
- Linux 4.20.10 (bnc#1012628).
- Delete
  patches.suse/Revert-exec-load_script-don-t-blindly-truncate-sheba.patch.
- commit 4c06520

-------------------------------------------------------------------
Fri Feb 15 10:23:48 CET 2019 - jslaby@suse.cz

- Linux 4.20.9 (bnc#1012628).
- batman-adv: Force mac header to start of data on xmit
  (bnc#1012628).
- batman-adv: Avoid WARN on net_device without parent in netns
  (bnc#1012628).
- xfrm: refine validation of template and selector families
  (bnc#1012628).
- libceph: avoid KEEPALIVE_PENDING races in ceph_con_keepalive()
  (bnc#1012628).
- Revert "ext4: use ext4_write_inode() when fsyncing w/o a
  journal" (bnc#1012628).
- drm/i915: Try to sanitize bogus DPLL state left over by broken
  SNB BIOSen (bnc#1012628).
- xfrm: Make set-mark default behavior backward compatible
  (bnc#1012628).
- drm/vmwgfx: Return error code from vmw_execbuf_copy_fence_user
  (bnc#1012628).
- drm/vmwgfx: Fix an uninitialized fence handle value
  (bnc#1012628).
- drm/vmwgfx: Fix setting of dma masks (bnc#1012628).
- drm/i915: always return something on DDI clock selection
  (bnc#1012628).
- drm/amd/powerplay: Fix missing break in switch (bnc#1012628).
- drm/rockchip: rgb: update SPDX license identifier (bnc#1012628).
- drm/modes: Prevent division by zero htotal (bnc#1012628).
- mac80211: ensure that mgmt tx skbs have tailroom for encryption
  (bnc#1012628).
- mic: vop: Fix use-after-free on remove (bnc#1012628).
- powerpc/radix: Fix kernel crash with mremap() (bnc#1012628).
- powerpc/papr_scm: Use the correct bind address (bnc#1012628).
- firmware: arm_scmi: provide the mandatory device release
  callback (bnc#1012628).
- ARM: dts: da850: fix interrupt numbers for clocksource
  (bnc#1012628).
- ARM: tango: Improve ARCH_MULTIPLATFORM compatibility
  (bnc#1012628).
- ARM: iop32x/n2100: fix PCI IRQ mapping (bnc#1012628).
- MIPS: VDSO: Include $(ccflags-vdso) in o32,n32 .lds builds
  (bnc#1012628).
- mips: loongson64: remove unreachable(), fix loongson_poweroff()
  (bnc#1012628).
- MIPS: VDSO: Use same -m%-float cflag as the kernel proper
  (bnc#1012628).
- MIPS: OCTEON: don't set octeon_dma_bar_type if PCI is disabled
  (bnc#1012628).
- MIPS: Use lower case for addresses in nexys4ddr.dts
  (bnc#1012628).
- mips: cm: reprime error cause (bnc#1012628).
- tracing: uprobes: Fix typo in pr_fmt string (bnc#1012628).
- tracing/uprobes: Fix output for multiple string arguments
  (bnc#1012628).
- pinctrl: cherryview: fix Strago DMI workaround (bnc#1012628).
- pinctrl: sunxi: Correct number of IRQ banks on H6 main pin
  controller (bnc#1012628).
- svcrdma: Remove max_sge check at connect time (bnc#1012628).
- debugfs: fix debugfs_rename parameter checking (bnc#1012628).
- samples: mei: use /dev/mei0 instead of /dev/mei (bnc#1012628).
- mei: me: add ice lake point device id (bnc#1012628).
- cfg80211: call disconnect_wk when AP stops (bnc#1012628).
- misc: vexpress: Off by one in vexpress_syscfg_exec()
  (bnc#1012628).
- signal: Better detection of synchronous signals (bnc#1012628).
- signal: Always notice exiting tasks (bnc#1012628).
- signal: Always attempt to allocate siginfo for SIGSTOP
  (bnc#1012628).
- iio: ti-ads8688: Update buffer allocation for timestamps
  (bnc#1012628).
- iio: chemical: atlas-ph-sensor: correct IIO_TEMP values to
  millicelsius (bnc#1012628).
- iio: adc: axp288: Fix TS-pin handling (bnc#1012628).
- tools: iio: iio_generic_buffer: make num_loops signed
  (bnc#1012628).
- libata: Add NOLPM quirk for SAMSUNG MZ7TE512HMHP-000L1 SSD
  (bnc#1012628).
- mtd: rawnand: gpmi: fix MX28 bus master lockup problem
  (bnc#1012628).
- mtd: spinand: Fix the error/cleanup path in spinand_init()
  (bnc#1012628).
- mtd: spinand: Handle the case where PROGRAM LOAD does not
  reset the cache (bnc#1012628).
- mtd: Make sure mtd->erasesize is valid even if the partition
  is of size 0 (bnc#1012628).
- commit 54de81d

-------------------------------------------------------------------
Fri Feb 15 10:12:58 CET 2019 - jslaby@suse.cz

- Revert "exec: load_script: don't blindly truncate shebang
  string" (shebang regression).
- commit c99a06a

-------------------------------------------------------------------
Wed Feb 13 11:40:06 CET 2019 - jslaby@suse.cz

- Update config files.
  Fix armv6 build, set USB_ROLE_SWITCH=m.
- commit cc8092a

-------------------------------------------------------------------
Tue Feb 12 22:18:26 CET 2019 - jslaby@suse.cz

- Linux 4.20.8 (bnc#1012628).
- ath9k: dynack: check da->enabled first in sampling routines
  (bnc#1012628).
- ath9k: dynack: make ewma estimation faster (bnc#1012628).
- nfsd: Fix error return values for nfsd4_clone_file_range()
  (bnc#1012628).
- cacheinfo: Keep the old value if of_property_read_u32 fails
  (bnc#1012628).
- serial: sh-sci: Do not free irqs that have already been freed
  (bnc#1012628).
- serial: 8250_pci: Make PCI class test non fatal (bnc#1012628).
- serial: fix race between flush_to_ldisc and tty_open
  (bnc#1012628).
- perf tests evsel-tp-sched: Fix bitwise operator (bnc#1012628).
- perf/core: Don't WARN() for impossible ring-buffer sizes
  (bnc#1012628).
- x86/MCE: Initialize mce.bank in the case of a fatal error in
  mce_no_way_out() (bnc#1012628).
- perf/x86/intel: Delay memory deallocation until
  x86_pmu_dead_cpu() (bnc#1012628).
- perf/x86/intel/uncore: Add Node ID mask (bnc#1012628).
- cpu/hotplug: Fix "SMT disabled by BIOS" detection for KVM
  (bnc#1012628).
- KVM: nVMX: unconditionally cancel preemption timer in
  free_nested (CVE-2019-7221) (bnc#1012628).
- kvm: fix kvm_ioctl_create_device() reference counting
  (CVE-2019-6974) (bnc#1012628).
- KVM: x86: work around leak of uninitialized stack contents
  (CVE-2019-7222) (bnc#1012628).
- scsi: aic94xx: fix module loading (bnc#1012628).
- scsi: cxlflash: Prevent deadlock when adapter probe fails
  (bnc#1012628).
- scsi: sd_zbc: Fix zone information messages (bnc#1012628).
- staging: speakup: fix tty-operation NULL derefs (bnc#1012628).
- usb: gadget: musb: fix short isoc packets with inventra dma
  (bnc#1012628).
- usb: gadget: udc: net2272: Fix bitwise and boolean operations
  (bnc#1012628).
- usb: dwc3: gadget: Handle 0 xfer length for OUT EP
  (bnc#1012628).
- usb: phy: am335x: fix race condition in _probe (bnc#1012628).
- arm64: dts: allwinner: a64: Fix USB OTG regulator (bnc#1012628).
- irqchip/gic-v3-its: Plug allocation race for devices sharing
  a DevID (bnc#1012628).
- futex: Handle early deadlock return correctly (bnc#1012628).
- dmaengine: imx-dma: fix wrong callback invoke (bnc#1012628).
- dmaengine: bcm2835: Fix abort of transactions (bnc#1012628).
- dmaengine: bcm2835: Fix interrupt race on RT (bnc#1012628).
- HID: debug: fix the ring buffer implementation (bnc#1012628).
- cuse: fix ioctl (bnc#1012628).
- fuse: handle zero sized retrieve correctly (bnc#1012628).
- fuse: decrement NR_WRITEBACK_TEMP on the right page
  (bnc#1012628).
- fuse: call pipe_buf_release() under pipe lock (bnc#1012628).
- ALSA: hda/realtek - Headset microphone support for System76
  darp5 (bnc#1012628).
- ALSA: hda/realtek - Use a common helper for hp pin reference
  (bnc#1012628).
- ALSA: hda/realtek - Fix lose hp_pins for disable auto mute
  (bnc#1012628).
- ALSA: hda - Serialize codec registrations (bnc#1012628).
- ALSA: usb-audio: Add support for new T+A USB DAC (bnc#1012628).
- ALSA: compress: Fix stop handling on compressed capture streams
  (bnc#1012628).
- xfs: eof trim writeback mapping as soon as it is cached
  (bnc#1012628).
- net/mlx5e: Force CHECKSUM_UNNECESSARY for short ethernet frames
  (bnc#1012628).
- net/mlx5e: Use the inner headers to determine tc/pedit offload
  limitation on decap flows (bnc#1012628).
- net: dsa: b53: Fix for failure when irq is not defined in dt
  (bnc#1012628).
- net: cls_flower: Remove filter from mask before freeing it
  (bnc#1012628).
- bnxt_en: Disable interrupts when allocating CP rings or NQs
  (bnc#1012628).
- virtio_net: Account for tx bytes and packets on sending
  xdp_frames (bnc#1012628).
- skge: potential memory corruption in skge_get_regs()
  (bnc#1012628).
- sctp: walk the list of asoc safely (bnc#1012628).
- sctp: check and update stream->out_curr when allocating
  stream_out (bnc#1012628).
- rxrpc: bad unlock balance in rxrpc_recvmsg (bnc#1012628).
- Revert "net: phy: marvell: avoid pause mode on SGMII-to-Copper
  for 88e151x" (bnc#1012628).
- rds: fix refcount bug in rds_sock_addref (bnc#1012628).
- net: systemport: Fix WoL with password after deep sleep
  (bnc#1012628).
- net: dsa: slave: Don't propagate flag changes on down slave
  interfaces (bnc#1012628).
- net: dsa: mv88e6xxx: Fix counting of ATU violations
  (bnc#1012628).
- net: dsa: Fix NULL checking in dsa_slave_set_eee()
  (bnc#1012628).
- net: dsa: Fix lockdep false positive splat (bnc#1012628).
- net: dp83640: expire old TX-skb (bnc#1012628).
- lib/test_rhashtable: Make test_insert_dup() allocate its hash
  table dynamically (bnc#1012628).
- enic: fix checksum validation for IPv6 (bnc#1012628).
- dccp: fool proof ccid_hc_[rt]x_parse_options() (bnc#1012628).
- thermal: hwmon: inline helpers when CONFIG_THERMAL_HWMON is
  not set (bnc#1012628).
- xprtrdma: Don't wake pending tasks until disconnect is done
  (bnc#1012628).
- scripts/gdb: fix lx-version string output (bnc#1012628).
- kernel/kcov.c: mark write_comp_data() as notrace (bnc#1012628).
- exec: load_script: don't blindly truncate shebang string
  (bnc#1012628).
- fs/epoll: drop ovflist branch prediction (bnc#1012628).
- kernel/hung_task.c: force console verbose before panic
  (bnc#1012628).
- proc/sysctl: fix return error for proc_doulongvec_minmax()
  (bnc#1012628).
- kernel/hung_task.c: break RCU locks based on jiffies
  (bnc#1012628).
- arm64/sve: ptrace: Fix SVE_PT_REGS_OFFSET definition
  (bnc#1012628).
- HID: lenovo: Add checks to fix of_led_classdev_register
  (bnc#1012628).
- thermal: generic-adc: Fix adc to temp interpolation
  (bnc#1012628).
- block/swim3: Fix regression on PowerBook G3 (bnc#1012628).
- PCI: imx: Enable MSI from downstream components (bnc#1012628).
- thermal: tsens: qcom: do not create duplicate regmap debugfs
  entries (bnc#1012628).
- kdb: Don't back trace on a cpu that didn't round up
  (bnc#1012628).
- thermal: bcm2835: enable hwmon explicitly (bnc#1012628).
- block/swim3: Fix -EBUSY error when re-opening device after
  unmount (bnc#1012628).
- fsl/fman: Use GFP_ATOMIC in {memac,tgec}_add_hash_mac_address()
  (bnc#1012628).
- gdrom: fix a memory leak bug (bnc#1012628).
- isdn: hisax: hfc_pci: Fix a possible concurrency use-after-free
  bug in HFCPCI_l1hw() (bnc#1012628).
- zram: fix lockdep warning of free block handling (bnc#1012628).
- mm/page_alloc.c: don't call kasan_free_pages() at deferred
  mem init (bnc#1012628).
- ocfs2: improve ocfs2 Makefile (bnc#1012628).
- ocfs2: don't clear bh uptodate for block read (bnc#1012628).
- arch/sh/boards/mach-kfr2r09/setup.c: fix struct mtd_oob_ops
  build warning (bnc#1012628).
- scripts/decode_stacktrace: only strip base path when a prefix
  of the path (bnc#1012628).
- perf python: Do not force closing original perf descriptor in
  evlist.get_pollfd() (bnc#1012628).
- cgroup: fix parsing empty mount option string (bnc#1012628).
- f2fs: fix sbi->extent_list corruption issue (bnc#1012628).
- niu: fix missing checks of niu_pci_eeprom_read (bnc#1012628).
- um: Avoid marking pages with "changed protection" (bnc#1012628).
- f2fs: fix use-after-free issue when accessing sbi->stat_info
  (bnc#1012628).
- cifs: check ntwrk_buf_start for NULL before dereferencing it
  (bnc#1012628).
- MIPS: ralink: Select CONFIG_CPU_MIPSR2_IRQ_VI on MT7620/8
  (bnc#1012628).
- crypto: ux500 - Use proper enum in hash_set_dma_transfer
  (bnc#1012628).
- crypto: ux500 - Use proper enum in cryp_set_dma_transfer
  (bnc#1012628).
- seq_buf: Make seq_buf_puts() null-terminate the buffer
  (bnc#1012628).
- hwmon: (lm80) fix a missing check of bus read in lm80 probe
  (bnc#1012628).
- hwmon: (lm80) fix a missing check of the status of SMBus read
  (bnc#1012628).
- perf build: Don't unconditionally link the libbfd feature test
  to -liberty and -lz (bnc#1012628).
- NFS: nfs_compare_mount_options always compare auth flavors
  (bnc#1012628).
- kvm: Change offset in kvm_write_guest_offset_cached to unsigned
  (bnc#1012628).
- selftests: kvm: report failed stage when exit reason is
  unexpected (bnc#1012628).
- powerpc/fadump: Do not allow hot-remove memory from fadump
  reserved area (bnc#1012628).
- KVM: x86: svm: report MSR_IA32_MCG_EXT_CTL as unsupported
  (bnc#1012628).
- pinctrl: meson: meson8b: fix the GPIO function for the GPIOAO
  pins (bnc#1012628).
- pinctrl: meson: meson8: fix the GPIO function for the GPIOAO
  pins (bnc#1012628).
- bpf: sk_msg, fix socket data_ready events (bnc#1012628).
- powerpc/mm: Fix reporting of kernel execute faults on the 8xx
  (bnc#1012628).
- bpf: sk_msg, zap ingress queue on psock down (bnc#1012628).
- fbdev: fbcon: Fix unregister crash when more than one
  framebuffer (bnc#1012628).
- ACPI/APEI: Clear GHES block_status before panic() (bnc#1012628).
- igb: Fix an issue that PME is not enabled during runtime suspend
  (bnc#1012628).
- ice: Do not enable NAPI on q_vectors that have no rings
  (bnc#1012628).
- i40e: define proper net_device::neigh_priv_len (bnc#1012628).
- fbdev: fbmem: behave better with small rotated displays and
  many CPUs (bnc#1012628).
- md: fix raid10 hang issue caused by barrier (bnc#1012628).
- video: clps711x-fb: release disp device node in probe()
  (bnc#1012628).
- drm/amd/display: validate extended dongle caps (bnc#1012628).
- ath10k: fix tx_stats memory leak (bnc#1012628).
- ath10k: fix kernel panic due to use after free (bnc#1012628).
- drbd: Avoid Clang warning about pointless switch statment
  (bnc#1012628).
- drbd: skip spurious timeout (ping-timeo) when failing promote
  (bnc#1012628).
- drbd: disconnect, if the wrong UUIDs are attached on a connected
  peer (bnc#1012628).
- drbd: narrow rcu_read_lock in drbd_sync_handshake (bnc#1012628).
- mlx5: update timecounter at least twice per counter overflow
  (bnc#1012628).
- powerpc/powernv/ioda: Allocate indirect TCE levels of cached
  userspace addresses on demand (bnc#1012628).
- iwlwifi: mvm: fix setting HE ppe FW config (bnc#1012628).
- powerpc/perf: Fix thresholding counter data for unknown type
  (bnc#1012628).
- net: hns3: don't restore rules when flow director is disabled
  (bnc#1012628).
- net: hns3: fix the descriptor index when get rss type
  (bnc#1012628).
- net: hns3: add max vector number check for pf (bnc#1012628).
- cw1200: Fix concurrency use-after-free bugs in cw1200_hw_scan()
  (bnc#1012628).
- scsi: smartpqi: increase fw status register read timeout
  (bnc#1012628).
- scsi: smartpqi: correct volume status (bnc#1012628).
- scsi: smartpqi: correct host serial num for ssa (bnc#1012628).
- mlxsw: spectrum: Properly cleanup LAG uppers when removing
  port from LAG (bnc#1012628).
- xfrm6_tunnel: Fix spi check in __xfrm6_tunnel_alloc_spi
  (bnc#1012628).
- mac80211: fix radiotap vendor presence bitmap handling
  (bnc#1012628).
- powerpc/uaccess: fix warning/error with access_ok()
  (bnc#1012628).
- drm/amd/display: fix YCbCr420 blank color (bnc#1012628).
- Bluetooth: hci_bcm: Handle deferred probing for the clock supply
  (bnc#1012628).
- drm/amd/display: Wait edp HPD to high in detect_sink
  (bnc#1012628).
- drm/amd/display: Add retry to read ddc_clock pin (bnc#1012628).
- net: hns3: fix incomplete uninitialization of IRQ in the
  hns3_nic_uninit_vector_data() (bnc#1012628).
- net: hns3: fix error handling int the hns3_get_vector_ring_chain
  (bnc#1012628).
- percpu: convert spin_lock_irq to spin_lock_irqsave
  (bnc#1012628).
- perf tools: Cast off_t to s64 to avoid warning on bionic libc
  (bnc#1012628).
- perf header: Fix up argument to ctime() (bnc#1012628).
- usb: musb: dsps: fix runtime pm for peripheral mode
  (bnc#1012628).
- usb: musb: dsps: fix otg state machine (bnc#1012628).
- arm64: KVM: Skip MMIO insn after emulation (bnc#1012628).
- livepatch: check kzalloc return values (bnc#1012628).
- mac80211: Properly handle SKB with radiotap only (bnc#1012628).
- pinctrl: rza1: Handle devm_kasprintf() failure cases
  (bnc#1012628).
- tools/power/x86/intel_pstate_tracer: Fix non root execution
  for post processing a trace file (bnc#1012628).
- bnxt_en: Disable MSIX before re-reserving NQs/CMPL rings
  (bnc#1012628).
- i2c: sh_mobile: Add support for r8a774c0 (RZ/G2E) (bnc#1012628).
- perf probe: Fix unchecked usage of strncpy() (bnc#1012628).
- btrfs: use tagged writepage to mitigate livelock of snapshot
  (bnc#1012628).
- perf header: Fix unchecked usage of strncpy() (bnc#1012628).
- perf dso: Fix unchecked usage of strncpy() (bnc#1012628).
- perf test: Fix perf_event_attr test failure (bnc#1012628).
- perf stat: Fix CSV mode column output for non-cgroup events
  (bnc#1012628).
- tty: serial: samsung: Properly set flags in autoCTS mode
  (bnc#1012628).
- serial: sh-sci: Resume PIO in sci_rx_interrupt() on DMA failure
  (bnc#1012628).
- serial: sh-sci: Fix locking in sci_submit_rx() (bnc#1012628).
- btrfs: harden agaist duplicate fsid on scanned devices
  (bnc#1012628).
- usb: renesas_usbhs: add support for RZ/G2E (bnc#1012628).
- mmc: jz4740: Get CD/WP GPIOs from descriptors (bnc#1012628).
- mmc: sdhci-xenon: Fix timeout checks (bnc#1012628).
- mmc: sdhci-omap: Fix timeout checks (bnc#1012628).
- mmc: sdhci-of-esdhc: Fix timeout checks (bnc#1012628).
- memstick: Prevent memstick host from getting runtime suspended
  during card detection (bnc#1012628).
- mmc: meson-mx-sdio: check devm_kasprintf for failure
  (bnc#1012628).
- mmc: bcm2835: reset host on timeout (bnc#1012628).
- mmc: bcm2835: Recover from MMC_SEND_EXT_CSD (bnc#1012628).
- KVM: PPC: Book3S: Only report KVM_CAP_SPAPR_TCE_VFIO on powernv
  machines (bnc#1012628).
- tools: bpftool: fix -Wmissing declaration warnings
  (bnc#1012628).
- ipv6: Fix handling of LLA with VRF and sockets bound to VRF
  (bnc#1012628).
- f2fs: fix to reorder set_page_dirty and wait_on_page_writeback
  (bnc#1012628).
- clk: qcom: Leave mmss noc on for 8998 (bnc#1012628).
- fix dma-buf/udmabuf selftest (bnc#1012628).
- ASoC: fsl: Fix SND_SOC_EUKREA_TLV320 build error on i.MX8M
  (bnc#1012628).
- ARM: pxa: avoid section mismatch warning (bnc#1012628).
- selftests/bpf: use __bpf_constant_htons in test_prog.c
  (bnc#1012628).
- switchtec: Fix SWITCHTEC_IOCTL_EVENT_IDX_ALL flags overwrite
  (bnc#1012628).
- udf: Fix BUG on corrupted inode (bnc#1012628).
- mlxsw: spectrum_acl: Limit priority value (bnc#1012628).
- phy: sun4i-usb: add support for missing USB PHY index
  (bnc#1012628).
- lightnvm: Fix uninitialized return value in nvm_get_chunk_meta()
  (bnc#1012628).
- i2c-axxia: check for error conditions first (bnc#1012628).
- lightnvm: pblk: add lock protection to list operations
  (bnc#1012628).
- lightnvm: pblk: fix resubmission of overwritten write err lbas
  (bnc#1012628).
- drm/msm: dpu: Only check flush register against pending flushes
  (bnc#1012628).
- drm/msm/dsi: fix dsi clock names in DSI 10nm PLL driver
  (bnc#1012628).
- tee: optee: avoid possible double list_del() (bnc#1012628).
- OPP: Use opp_table->regulators to verify no regulator case
  (bnc#1012628).
- cpuidle: big.LITTLE: fix refcount leak (bnc#1012628).
- platform/x86: mlx-platform: Fix tachometer registers
  (bnc#1012628).
- clk: imx6sl: ensure MMDC CH0 handshake is bypassed
  (bnc#1012628).
- sata_rcar: fix deferred probing (bnc#1012628).
- iommu/arm-smmu-v3: Use explicit mb() when moving cons pointer
  (bnc#1012628).
- iommu/arm-smmu: Add support for qcom,smmu-v2 variant
  (bnc#1012628).
- iommu/arm-smmu-v3: Avoid memory corruption from Hisilicon MSI
  payloads (bnc#1012628).
- usb: dwc3: gadget: Disable CSP for stream OUT ep (bnc#1012628).
- ARM: dts: imx51-zii-rdu1: Do not specify "power-gpio" for hpa1
  (bnc#1012628).
- watchdog: renesas_wdt: don't set divider while watchdog is
  running (bnc#1012628).
- ARM: dts: Fix up the D-Link DIR-685 MTD partition info
  (bnc#1012628).
- arm64: dts: meson: Fix IRQ trigger type for macirq
  (bnc#1012628).
- media: coda: fix H.264 deblocking filter controls (bnc#1012628).
- mips: bpf: fix encoding bug for mm_srlv32_op (bnc#1012628).
- ARM: dts: Fix OMAP4430 SDP Ethernet startup (bnc#1012628).
- ARM: OMAP1: ams-delta: Fix audio permanently muted
  (bnc#1012628).
- media: v4l2-device: Link subdevices to their parent devices
  if available (bnc#1012628).
- iommu/amd: Fix amd_iommu=force_isolation (bnc#1012628).
- pinctrl: sx150x: handle failure case of devm_kstrdup
  (bnc#1012628).
- gpio: mt7621: pass mediatek_gpio_bank_probe() failure up the
  stack (bnc#1012628).
- gpio: mt7621: report failure of devm_kasprintf() (bnc#1012628).
- usb: dwc3: trace: add missing break statement to make compiler
  happy (bnc#1012628).
- IB/hfi1: Unreserve a reserved request when it is completed
  (bnc#1012628).
- kobject: return error code if writing /sys/.../uevent fails
  (bnc#1012628).
- driver core: Move async_synchronize_full call (bnc#1012628).
- arm64: dts: rockchip: fix rk3399-rockpro64 regulator gpios
  (bnc#1012628).
- tipc: fix node keep alive interval calculation (bnc#1012628).
- drm/amdgpu/powerplay: fix clock stretcher limits on polaris (v2)
  (bnc#1012628).
- pinctrl: nuvoton: check for devm_kasprintf() failure
  (bnc#1012628).
- mac80211: fix deauth TX when we disconnect (bnc#1012628).
- media: imx274: select REGMAP_I2C (bnc#1012628).
- clk: sunxi-ng: a33: Set CLK_SET_RATE_PARENT for all audio
  module clocks (bnc#1012628).
- usb: mtu3: fix the issue about SetFeature(U1/U2_Enable)
  (bnc#1012628).
- timekeeping: Use proper seqcount initializer (bnc#1012628).
- usb: hub: delay hub autosuspend if USB3 port is still link
  training (bnc#1012628).
- usb: dwc2: Disable power down feature on Samsung SoCs
  (bnc#1012628).
- dmaengine: sprd: Support DMA link-list cyclic callback
  (bnc#1012628).
- usb: dwc3: Correct the logic for checking TRB full in
  __dwc3_prepare_one_trb() (bnc#1012628).
- xtensa: xtfpga.dtsi: fix dtc warnings about SPI (bnc#1012628).
- smack: fix access permissions for keyring (bnc#1012628).
- platform/x86: Fix config space access for intel_atomisp2_pm
  (bnc#1012628).
- media: DaVinci-VPBE: fix error handling in vpbe_initialize()
  (bnc#1012628).
- media: i2c: TDA1997x: select CONFIG_HDMI (bnc#1012628).
- x86/fpu: Add might_fault() to user_insn() (bnc#1012628).
- spi: fix spi-at91-usart.c build errors when PINCTRL is not set
  (bnc#1012628).
- ARM: dts: aspeed: add missing memory unit-address (bnc#1012628).
- ARM: dts: mmp2: fix TWSI2 (bnc#1012628).
- drm/v3d: Fix prime imports of buffers from other drivers
  (bnc#1012628).
- arm64: ftrace: don't adjust the LR value (bnc#1012628).
- mt76x0: dfs: fix IBI_R11 configuration on non-radar channels
  (bnc#1012628).
- s390/zcrypt: improve special ap message cmd handling
  (bnc#1012628).
- firmware/efi: Add NULL pointer checks in efivars API functions
  (bnc#1012628).
- thermal: Fix locking in cooling device sysfs update cur_state
  (bnc#1012628).
- Thermal: do not clear passive state during system sleep
  (bnc#1012628).
- arm64: io: Ensure value passed to __iormb() is held in a 64-bit
  register (bnc#1012628).
- perf: arm_spe: handle devm_kasprintf() failure (bnc#1012628).
- drm: Clear state->acquire_ctx before leaving
  drm_atomic_helper_commit_duplicated_state() (bnc#1012628).
- nfsd4: fix crash on writing v4_end_grace before nfsd startup
  (bnc#1012628).
- soc: bcm: brcmstb: Don't leak device tree node reference
  (bnc#1012628).
- sunvdc: Do not spin in an infinite loop when vio_ldc_send()
  returns EAGAIN (bnc#1012628).
- net: aquantia: return 'err' if set MPI_DEINIT state fails
  (bnc#1012628).
- arm64: io: Ensure calls to delay routines are ordered against
  prior readX() (bnc#1012628).
- i2c: sh_mobile: add support for r8a77990 (R-Car E3)
  (bnc#1012628).
- f2fs: fix wrong return value of f2fs_acl_create (bnc#1012628).
- f2fs: fix race between write_checkpoint and write_begin
  (bnc#1012628).
- f2fs: move dir data flush to write checkpoint process
  (bnc#1012628).
- f2fs: avoid GC causing encrypted file corrupted (bnc#1012628).
- staging: pi433: fix potential null dereference (bnc#1012628).
- ACPI: SPCR: Consider baud rate 0 as preconfigured state
  (bnc#1012628).
- media: adv*/tc358743/ths8200: fill in min
  width/height/pixelclock (bnc#1012628).
- iio: accel: kxcjk1013: Add KIOX010A ACPI Hardware-ID
  (bnc#1012628).
- iio: adc: meson-saradc: fix internal clock names (bnc#1012628).
- iio: adc: meson-saradc: check for devm_kasprintf failure
  (bnc#1012628).
- powerpc/32: Add .data..Lubsan_data*/.data..Lubsan_type*
  sections explicitly (bnc#1012628).
- dmaengine: xilinx_dma: Remove __aligned attribute on
  zynqmp_dma_desc_ll (bnc#1012628).
- ptp: Fix pass zero to ERR_PTR() in ptp_clock_register
  (bnc#1012628).
- clk: meson: meson8b: mark the CPU clock as CLK_IS_CRITICAL
  (bnc#1012628).
- clk: meson: meson8b: fix the width of the cpu_scale_div clock
  (bnc#1012628).
- clk: meson: meson8b: do not use cpu_div3 for cpu_scale_out_sel
  (bnc#1012628).
- drm: rcar-du: Fix external clock error checks (bnc#1012628).
- RDMA/core: Sync unregistration with netlink commands
  (bnc#1012628).
- media: vivid: fill in media_device bus_info (bnc#1012628).
- staging: erofs: fix race when the managed cache is enabled
  (bnc#1012628).
- staging: erofs: fix the definition of DBG_BUGON (bnc#1012628).
- media: mtk-vcodec: Release device nodes in
  mtk_vcodec_init_enc_pm() (bnc#1012628).
- media: video-i2c: avoid accessing released memory area when
  removing driver (bnc#1012628).
- media: rc: ensure close() is called on rc_unregister_device
  (bnc#1012628).
- soc/tegra: Don't leak device tree node reference (bnc#1012628).
- scsi: cxgb4i: fix thermal configuration dependencies
  (bnc#1012628).
- perf tools: Add Hygon Dhyana support (bnc#1012628).
- modpost: validate symbol names also in find_elf_symbol
  (bnc#1012628).
- net/mlx5: EQ, Use the right place to store/read IRQ affinity
  hint (bnc#1012628).
- bpf: libbpf: retry map creation without the name (bnc#1012628).
- drm/amd/display: calculate stream->phy_pix_clk before clock
  mapping (bnc#1012628).
- drm/amd/display: fix gamma not being applied correctly
  (bnc#1012628).
- ARM: OMAP2+: hwmod: Fix some section annotations (bnc#1012628).
- drm/rockchip: fix for mailbox read size (bnc#1012628).
- usbnet: smsc95xx: fix rx packet alignment (bnc#1012628).
- staging: iio: ad7780: update voltage on read (bnc#1012628).
- scsi: hisi_sas: change the time of SAS SSP connection
  (bnc#1012628).
- i40e: prevent overlapping tx_timeout recover (bnc#1012628).
- i40e: suppress bogus error message (bnc#1012628).
- platform/chrome: don't report EC_MKBP_EVENT_SENSOR_FIFO as
  wakeup (bnc#1012628).
- vbox: fix link error with 'gcc -Og' (bnc#1012628).
- fpga: altera-cvp: fix 'bad IO access' on x86_64 (bnc#1012628).
- Tools: hv: kvp: Fix a warning of buffer overflow with gcc 8.0.1
  (bnc#1012628).
- fpga: altera-cvp: Fix registration for CvP incapable devices
  (bnc#1012628).
- staging:iio:ad2s90: Make probe handle spi_setup failure
  (bnc#1012628).
- iwlwifi: fw: do not set sgi bits for HE connection
  (bnc#1012628).
- dpaa2-ptp: defer probe when portal allocation failed
  (bnc#1012628).
- MIPS: Boston: Disable EG20T prefetch (bnc#1012628).
- ptp: check gettime64 return code in PTP_SYS_OFFSET ioctl
  (bnc#1012628).
- serial: fsl_lpuart: clear parity enable bit when disable parity
  (bnc#1012628).
- drm/vc4: ->x_scaling[1] should never be set to VC4_SCALING_NONE
  (bnc#1012628).
- crypto: aes_ti - disable interrupts while accessing S-box
  (bnc#1012628).
- s390/qeth: utilize virtual MAC for Layer2 OSD devices
  (bnc#1012628).
- bpftool: Improve handling of ENOENT on map dumps (bnc#1012628).
- powerpc/pseries: add of_node_put() in dlpar_detach_node()
  (bnc#1012628).
- x86/PCI: Fix Broadcom CNB20LE unintended sign extension (redux)
  (bnc#1012628).
- dlm: Don't swamp the CPU with callbacks queued during recovery
  (bnc#1012628).
- clk: boston: fix possible memory leak in clk_boston_setup()
  (bnc#1012628).
- ARM: 8808/1: kexec:offline panic_smp_self_stop CPU
  (bnc#1012628).
- scsi: lpfc: Fix LOGO/PLOGI handling when triggerd by ABTS
  Timeout event (bnc#1012628).
- scsi: mpt3sas: Call sas_remove_host before removing the target
  devices (bnc#1012628).
- scsi: lpfc: Correct LCB RJT handling (bnc#1012628).
- ath9k: dynack: use authentication messages for 'late' ack
  (bnc#1012628).
- ath10k: assign 'n_cipher_suites' for WCN3990 (bnc#1012628).
- wil6210: fix memory leak in wil_find_tx_bcast_2 (bnc#1012628).
- wil6210: fix reset flow for Talyn-mb (bnc#1012628).
- nds32: Fix gcc 8.0 compiler option incompatible (bnc#1012628).
- drm/amd/display: Fix potential nullptr error (bnc#1012628).
- gpu: ipu-v3: image-convert: Prevent race between run and
  unprepare (bnc#1012628).
- genirq/affinity: Spread IRQs to all available NUMA nodes
  (bnc#1012628).
- ath10k: fixup extended per sta tx statistics (bnc#1012628).
- drm/sun4i: Initialize registers in tcon-top driver
  (bnc#1012628).
- gpiolib: Fix possible use after free on label (bnc#1012628).
- ASoC: Intel: mrfld: fix uninitialized variable access
  (bnc#1012628).
- clk: sunxi-ng: h6: Set video PLLs limits (bnc#1012628).
- pinctrl: bcm2835: Use raw spinlock for RT compatibility
  (bnc#1012628).
- drm/vgem: Fix vgem_init to get drm device available
  (bnc#1012628).
- staging: iio: adc: ad7280a: handle error from __ad7280_read32()
  (bnc#1012628).
- drm/v3d: Fix a use-after-free race accessing the scheduler's
  fences (bnc#1012628).
- drm/bufs: Fix Spectre v1 vulnerability (bnc#1012628).
- commit 02864b1

-------------------------------------------------------------------
Mon Feb 11 07:13:12 CET 2019 - mkubecek@suse.cz

- Update to 5.0-rc6
- commit eb4b248

-------------------------------------------------------------------
Fri Feb  8 12:08:22 CET 2019 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: Build livepatch support in SUSE release
  projects (bsc#1124167).
- commit 7519080

-------------------------------------------------------------------
Thu Feb  7 08:16:45 CET 2019 - jslaby@suse.cz

- Linux 4.20.7 (bnc#1012628).
- drm/msm/gpu: fix building without debugfs (bnc#1012628).
- ipv6: sr: clear IP6CB(skb) on SRH ip4ip6 encapsulation
  (bnc#1012628).
- ipvlan, l3mdev: fix broken l3s mode wrt local routes
  (bnc#1012628).
- l2tp: copy 4 more bytes to linear part if necessary
  (bnc#1012628).
- l2tp: fix reading optional fields of L2TPv3 (bnc#1012628).
- net: ip_gre: always reports o_key to userspace (bnc#1012628).
- net: ip_gre: use erspan key field for tunnel lookup
  (bnc#1012628).
- net/ipv6: don't return positive numbers when nothing was dumped
  (bnc#1012628).
- net/mlx4_core: Add masking for a few queries on HCA caps
  (bnc#1012628).
- netrom: switch to sock timer API (bnc#1012628).
- net/rose: fix NULL ax25_cb kernel panic (bnc#1012628).
- net: set default network namespace in init_dummy_netdev()
  (bnc#1012628).
- ravb: expand rx descriptor data to accommodate hw checksum
  (bnc#1012628).
- sctp: improve the events for sctp stream reset (bnc#1012628).
- tun: move the call to tun_set_real_num_queues (bnc#1012628).
- ucc_geth: Reset BQL queue when stopping device (bnc#1012628).
- vhost: fix OOB in get_rx_bufs() (bnc#1012628).
- net: ip6_gre: always reports o_key to userspace (bnc#1012628).
- sctp: improve the events for sctp stream adding (bnc#1012628).
- net/mlx5e: Allow MAC invalidation while spoofchk is ON
  (bnc#1012628).
- ip6mr: Fix notifiers call on mroute_clean_tables()
  (bnc#1012628).
- Revert "net/mlx5e: E-Switch, Initialize eswitch only if eswitch
  manager" (bnc#1012628).
- sctp: set chunk transport correctly when it's a new asoc
  (bnc#1012628).
- sctp: set flow sport from saddr only when it's 0 (bnc#1012628).
- net: tls: Fix deadlock in free_resources tx (bnc#1012628).
- net: tls: Save iv in tls_rec for async crypto requests
  (bnc#1012628).
- virtio_net: Don't enable NAPI when interface is down
  (bnc#1012628).
- virtio_net: Don't call free_old_xmit_skbs for xdp_frames
  (bnc#1012628).
- virtio_net: Fix not restoring real_num_rx_queues (bnc#1012628).
- virtio_net: Fix out of bounds access of sq (bnc#1012628).
- virtio_net: Don't process redirected XDP frames when XDP is
  disabled (bnc#1012628).
- virtio_net: Use xdp_return_frame to free xdp_frames on
  destroying vqs (bnc#1012628).
- virtio_net: Differentiate sk_buff and xdp_frame on freeing
  (bnc#1012628).
- ipv6: Consider sk_bound_dev_if when binding a socket to an
  address (bnc#1012628).
- CIFS: Do not count -ENODATA as failure for query directory
  (bnc#1012628).
- CIFS: Fix possible oops and memory leaks in async IO
  (bnc#1012628).
- CIFS: Fix trace command logging for SMB2 reads and writes
  (bnc#1012628).
- CIFS: fix use-after-free of the lease keys (bnc#1012628).
- CIFS: Do not consider -ENODATA as stat failure for reads
  (bnc#1012628).
- fs/dcache: Fix incorrect nr_dentry_unused accounting in
  shrink_dcache_sb() (bnc#1012628).
- iommu/vt-d: Fix memory leak in intel_iommu_put_resv_regions()
  (bnc#1012628).
- selftests/seccomp: Enhance per-arch ptrace syscall skip tests
  (bnc#1012628).
- NFS: Fix up return value on fatal errors in
  nfs_page_async_flush() (bnc#1012628).
- ARM: cns3xxx: Fix writing to wrong PCI config registers after
  alignment (bnc#1012628).
- arm64: kaslr: ensure randomized quantities are clean also when
  kaslr is off (bnc#1012628).
- arm64: Do not issue IPIs for user executable ptes (bnc#1012628).
- arm64: hyp-stub: Forbid kprobing of the hyp-stub (bnc#1012628).
- arm64: hibernate: Clean the __hyp_text to PoC after resume
  (bnc#1012628).
- gpio: altera-a10sr: Set proper output level for direction_output
  (bnc#1012628).
- gpiolib: fix line event timestamps for nested irqs
  (bnc#1012628).
- gpio: pcf857x: Fix interrupts on multiple instances
  (bnc#1012628).
- gpio: sprd: Fix the incorrect data register (bnc#1012628).
- gpio: sprd: Fix incorrect irq type setting for the async EIC
  (bnc#1012628).
- gfs2: Revert "Fix loop in gfs2_rbm_find" (bnc#1012628).
- mmc: bcm2835: Fix DMA channel leak on probe error (bnc#1012628).
- mmc: mediatek: fix incorrect register setting of
  hs400_cmd_int_delay (bnc#1012628).
- ALSA: usb-audio: Add Opus #3 to quirks for native DSD support
  (bnc#1012628).
- ALSA: hda/realtek - Fixed hp_pin no value (bnc#1012628).
- ALSA: pcm: Fix tight loop of OSS capture stream (bnc#1012628).
- IB/uverbs: Fix OOPs upon device disassociation (bnc#1012628).
- IB/uverbs: Fix OOPs in uverbs_user_mmap_disassociate
  (bnc#1012628).
- IB/hfi1: Remove overly conservative VM_EXEC flag check
  (bnc#1012628).
- IB/hfi1: Add limit test for RC/UC send via loopback
  (bnc#1012628).
- platform/x86: asus-nb-wmi: Map 0x35 to KEY_SCREENLOCK
  (bnc#1012628).
- platform/x86: asus-nb-wmi: Drop mapping of 0x33 and 0x34 scan
  codes (bnc#1012628).
- Btrfs: fix deadlock when allocating tree block during leaf/node
  split (bnc#1012628).
- btrfs: On error always free subvol_name in btrfs_mount
  (bnc#1012628).
- kernel/exit.c: release ptraced tasks before zap_pid_ns_processes
  (bnc#1012628).
- mm/hugetlb.c: teach follow_hugetlb_page() to handle FOLL_NOWAIT
  (bnc#1012628).
- oom, oom_reaper: do not enqueue same task twice (bnc#1012628).
- mm,memory_hotplug: fix scan_movable_pages() for gigantic
  hugepages (bnc#1012628).
- mm, oom: fix use-after-free in oom_kill_process (bnc#1012628).
- mm: hwpoison: use do_send_sig_info() instead of force_sig()
  (bnc#1012628).
- mm: migrate: don't rely on __PageMovable() of newpage after
  unlocking it (bnc#1012628).
- of: overlay: add tests to validate kfrees from overlay removal
  (bnc#1012628).
- of: overlay: add missing of_node_get() in __of_attach_node_sysfs
  (bnc#1012628).
- of: overlay: use prop add changeset entry for property in new
  nodes (bnc#1012628).
- of: overlay: do not duplicate properties from overlay for new
  nodes (bnc#1012628).
- md/raid5: fix 'out of memory' during raid cache recovery
  (bnc#1012628).
- cifs: Always resolve hostname before reconnecting (bnc#1012628).
- Refresh
  patches.suse/btrfs-8447-serialize-subvolume-mounts-with-potentially-mi.patch.
- commit 730812f

-------------------------------------------------------------------
Sun Feb  3 23:56:23 CET 2019 - mkubecek@suse.cz

- Update to 5.0-rc5
- Config changes:
  - x86:
    - X86_RESCTRL renamed to X86_CPU_RESCTRL
- commit a42dcc6

-------------------------------------------------------------------
Thu Jan 31 08:37:50 CET 2019 - jslaby@suse.cz

- Linux 4.20.6 (bnc#1012628).
- amd-xgbe: Fix mdio access for non-zero ports and clause 45 PHYs
  (bnc#1012628).
- net: bridge: Fix ethernet header pointer before check skb
  forwardable (bnc#1012628).
- net: Fix usage of pskb_trim_rcsum (bnc#1012628).
- net: phy: marvell: Errata for mv88e6390 internal PHYs
  (bnc#1012628).
- net: phy: mdio_bus: add missing device_del() in
  mdiobus_register() error handling (bnc#1012628).
- net: phy: phy driver features are mandatory (bnc#1012628).
- net/sched: act_tunnel_key: fix memory leak in case of action
  replace (bnc#1012628).
- net_sched: refetch skb protocol for each filter (bnc#1012628).
- openvswitch: Avoid OOB read when parsing flow nlattrs
  (bnc#1012628).
- vhost: log dirty page correctly (bnc#1012628).
- mlxsw: pci: Increase PCI SW reset timeout (bnc#1012628).
- net: ipv4: Fix memory leak in network namespace dismantle
  (bnc#1012628).
- mlxsw: spectrum_fid: Update dummy FID index (bnc#1012628).
- mlxsw: pci: Ring CQ's doorbell before RDQ's (bnc#1012628).
- net/sched: cls_flower: allocate mask dynamically in fl_change()
  (bnc#1012628).
- udp: with udp_segment release on error path (bnc#1012628).
- ip6_gre: fix tunnel list corruption for x-netns (bnc#1012628).
- erspan: build the header with the right proto according to
  erspan_ver (bnc#1012628).
- net: phy: marvell: Fix deadlock from wrong locking
  (bnc#1012628).
- ip6_gre: update version related info when changing link
  (bnc#1012628).
- tcp: allow MSG_ZEROCOPY transmission also in CLOSE_WAIT state
  (bnc#1012628).
- ARM: fix the cockup in the previous patch (bnc#1012628).
- SUNRPC: Address Kerberos performance/behavior regression
  (bnc#1012628).
- mei: me: mark LBG devices as having dma support (bnc#1012628).
- mei: me: add denverton innovation engine device IDs
  (bnc#1012628).
- USB: leds: fix regression in usbport led trigger (bnc#1012628).
- USB: EHCI: ehci-mv: add MODULE_DEVICE_TABLE (bnc#1012628).
- USB: serial: ftdi_sio: fix GPIO not working in autosuspend
  (bnc#1012628).
- USB: serial: simple: add Motorola Tetra TPG2200 device id
  (bnc#1012628).
- USB: serial: pl2303: add new PID to support PL2303TB
  (bnc#1012628).
- ceph: clear inode pointer when snap realm gets dropped by its
  inode (bnc#1012628).
- ASoC: atom: fix a missing check of snd_pcm_lib_malloc_pages
  (bnc#1012628).
- ASoC: rt5514-spi: Fix potential NULL pointer dereference
  (bnc#1012628).
- ASoC: tlv320aic32x4: Kernel OOPS while entering DAPM standby
  mode (bnc#1012628).
- clk: zynqmp: Fix memory allocation in zynqmp_clk_setup
  (bnc#1012628).
- clk: socfpga: stratix10: fix rate calculation for pll clocks
  (bnc#1012628).
- clk: socfpga: stratix10: fix naming convention for the
  fixed-clocks (bnc#1012628).
- inotify: Fix fd refcount leak in inotify_add_watch()
  (bnc#1012628).
- ALSA: hda/realtek - Fix typo for ALC225 model (bnc#1012628).
- ALSA: hda - Add mute LED support for HP ProBook 470 G5
  (bnc#1012628).
- ARCv2: lib: memeset: fix doing prefetchw outside of buffer
  (bnc#1012628).
- ARC: adjust memblock_reserve of kernel memory (bnc#1012628).
- ARC: perf: map generic branches to correct hardware condition
  (bnc#1012628).
- s390/vdso: correct vdso mapping for compat tasks (bnc#1012628).
- s390/mm: always force a load of the primary ASCE on context
  switch (bnc#1012628).
- s390/early: improve machine detection (bnc#1012628).
- s390/smp: fix CPU hotplug deadlock with CPU rescan
  (bnc#1012628).
- s390/smp: Fix calling smp_call_ipl_cpu() from ipl CPU
  (bnc#1012628).
- misc: ibmvsm: Fix potential NULL pointer dereference
  (bnc#1012628).
- char/mwave: fix potential Spectre v1 vulnerability
  (bnc#1012628).
- mmc: sdhci-iproc: handle mmc_of_parse() errors during probe
  (bnc#1012628).
- mmc: dw_mmc-bluefield: : Fix the license information
  (bnc#1012628).
- mmc: meson-gx: Free irq in release() callback (bnc#1012628).
- staging: rtl8188eu: Add device code for D-Link DWA-121 rev B1
  (bnc#1012628).
- tty: Handle problem if line discipline does not have receive_buf
  (bnc#1012628).
- uart: Fix crash in uart_write and uart_put_char (bnc#1012628).
- tty/n_hdlc: fix __might_sleep warning (bnc#1012628).
- hv_balloon: avoid touching uninitialized struct page during
  tail onlining (bnc#1012628).
- Drivers: hv: vmbus: Check for ring when getting debug info
  (bnc#1012628).
- vgacon: unconfuse vc_origin when using soft scrollback
  (bnc#1012628).
- CIFS: Fix possible hang during async MTU reads and writes
  (bnc#1012628).
- CIFS: Fix credits calculations for reads with errors
  (bnc#1012628).
- CIFS: Fix credit calculation for encrypted reads with errors
  (bnc#1012628).
- CIFS: Do not reconnect TCP session in add_credits()
  (bnc#1012628).
- smb3: add credits we receive from oplock/break PDUs
  (bnc#1012628).
- Input: xpad - add support for SteelSeries Stratus Duo
  (bnc#1012628).
- Input: input_event - provide override for sparc64 (bnc#1012628).
- Input: uinput - fix undefined behavior in
  uinput_validate_absinfo() (bnc#1012628).
- acpi/nfit: Block function zero DSMs (bnc#1012628).
- acpi/nfit: Fix command-supported detection (bnc#1012628).
- scsi: ufs: Use explicit access size in ufshcd_dump_regs
  (bnc#1012628).
- dm thin: fix passdown_double_checking_shared_status()
  (bnc#1012628).
- dm crypt: fix parsing of extended IV arguments (bnc#1012628).
- drm/amdgpu: Add APTX quirk for Lenovo laptop (bnc#1012628).
- EDAC, altera: Fix S10 persistent register offset (bnc#1012628).
- KVM: x86: Fix single-step debugging (bnc#1012628).
- KVM: x86: Fix PV IPIs for 32-bit KVM host (bnc#1012628).
- KVM: x86: WARN_ONCE if sending a PV IPI returns a fatal error
  (bnc#1012628).
- kvm: x86/vmx: Use kzalloc for cached_vmcs12 (bnc#1012628).
- x86/pkeys: Properly copy pkey state at fork() (bnc#1012628).
- x86/selftests/pkeys: Fork() to check for state being preserved
  (bnc#1012628).
- x86/kaslr: Fix incorrect i8254 outb() parameters (bnc#1012628).
- x86/entry/64/compat: Fix stack switching for XEN PV
  (bnc#1012628).
- posix-cpu-timers: Unbreak timer rearming (bnc#1012628).
- net: sun: cassini: Cleanup license conflict (bnc#1012628).
- irqchip/gic-v3-its: Align PCI Multi-MSI allocation on their size
  (bnc#1012628).
- can: dev: __can_get_echo_skb(): fix bogous check for
  non-existing skb by removing it (bnc#1012628).
- can: bcm: check timer values before ktime conversion
  (bnc#1012628).
- can: flexcan: fix NULL pointer exception during bringup
  (bnc#1012628).
- vt: make vt_console_print() compatible with the unicode screen
  buffer (bnc#1012628).
- vt: always call notifier with the console lock held
  (bnc#1012628).
- vt: invoke notifier on screen size change (bnc#1012628).
- drm/meson: Fix atomic mode switching regression (bnc#1012628).
- bpf: move {prev_,}insn_idx into verifier env (bnc#1012628).
- bpf: move tmp variable into ax register in interpreter
  (bnc#1012628).
- nvmet-rdma: Add unlikely for response allocated check
  (bnc#1012628).
- nvmet-rdma: fix null dereference under heavy load (bnc#1012628).
- bpf: enable access to ax register also from verifier rewrite
  (bnc#1012628).
- bpf: restrict map value pointer arithmetic for unprivileged
  (bnc#1012628).
- bpf: restrict stack pointer arithmetic for unprivileged
  (bnc#1012628).
- bpf: restrict unknown scalars of mixed signed bounds for
  unprivileged (bnc#1012628).
- bpf: fix check_map_access smin_value test when pointer contains
  offset (bnc#1012628).
- bpf: prevent out of bounds speculation on pointer arithmetic
  (bnc#1012628).
- bpf: fix sanitation of alu op with pointer / scalar type from
  different paths (bnc#1012628).
- bpf: fix inner map masking to prevent oob under speculation
  (bnc#1012628).
- Drivers: hv: vmbus: Remove the useless API
  vmbus_get_outgoing_channel() (bnc#1012628).
- vmbus: fix subchannel removal (bnc#1012628).
- Revert "mm, memory_hotplug: initialize struct pages for the
  full memory section" (bnc#1012628).
- usb: dwc3: gadget: Clear req->needs_extra_trb flag on cleanup
  (bnc#1012628).
- mt76x0: do not overwrite other MT_BBP(AGC, 8) fields
  (bnc#1012628).
- mt76x0: use band parameter for LC calibration (bnc#1012628).
- mt76x02: run calibration after scanning (bnc#1012628).
- mt76x02: assure we update gain after scan (bnc#1012628).
- mt76x0: do not perform MCU calibration for MT7630 (bnc#1012628).
- mt76x0: antenna select corrections (bnc#1012628).
- mt76x0: phy: unify calibration between mt76x0u and mt76x0e
  (bnc#1012628).
- ide: fix a typo in the settings proc file name (bnc#1012628).
- Input: input_event - fix the CONFIG_SPARC64 mixup (bnc#1012628).
- Refresh
  patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
- commit 463cfd2

-------------------------------------------------------------------
Wed Jan 30 15:45:40 CET 2019 - mwilck@suse.com

- rpm/kernel-binary.spec.in: fix initrd permissions (bsc#1123697)
  dracut has been using permissions 0600 for the initrd for a long
  time. On SLE15 or higher, that leads to a permission mismatch
  reported by "rpm -V". Set the permissions correctly for our
  ghost file.
- commit 9e5e2a5

-------------------------------------------------------------------
Wed Jan 30 09:14:37 CET 2019 - mwilck@suse.com

- config files: set CONFIG_SCSI_MQ_DEFAULT=y (bsc#1122182)
  Kernel 4.20 and newer use blk_mq for device mapper exclusively.
  Thus stacking device mapper on SCSI devices fails unless we
  use blk_mq for SCSI devices as well.
- commit 0a5bbbc

-------------------------------------------------------------------
Mon Jan 28 14:18:42 CET 2019 - tiwai@suse.de

- doc/README.SUSE: Correct description for building a kernel (bsc#1123348)
  The obsoleted make cloneconfig is corrected.  Also the order of make
  scripts and make prepare are corrected as well.
- commit 17a2073

-------------------------------------------------------------------
Mon Jan 28 11:09:25 CET 2019 - tiwai@suse.de

- rpm/release-projects: Add SUSE:Maintenance:* for MU kernels (bsc#1123317)
- commit c784b79

-------------------------------------------------------------------
Mon Jan 28 07:34:08 CET 2019 - mkubecek@suse.cz

- Update to 5.0-rc4
- commit 8e6abff

-------------------------------------------------------------------
Sat Jan 26 11:04:18 CET 2019 - jslaby@suse.cz

- Linux 4.20.5 (bnc#1012628).
- ipmi:ssif: Fix handling of multi-part return messages
  (bnc#1012628).
- ipmi: Prevent use-after-free in deliver_response (bnc#1012628).
- ipmi: msghandler: Fix potential Spectre v1 vulnerabilities
  (bnc#1012628).
- ipmi: Don't initialize anything in the core until something
  uses it (bnc#1012628).
- ipmi: fix use-after-free of user->release_barrier.rda
  (bnc#1012628).
- Bluetooth: Fix unnecessary error message for HCI request
  completion (bnc#1012628).
- drm/amd/display: Fix disabled cursor on top screen edge
  (bnc#1012628).
- mm/memblock.c: skip kmemleak for kasan_init() (bnc#1012628).
- mm, proc: be more verbose about unstable VMA flags in
  /proc/<pid>/smaps (bnc#1012628).
- userfaultfd: clear flag if remap event not enabled
  (bnc#1012628).
- mm/swap: use nr_node_ids for avail_lists in swap_info_struct
  (bnc#1012628).
- mm/page-writeback.c: don't break integrity writeback on
  ->writepage() error (bnc#1012628).
- ocfs2: fix panic due to unrecovered local alloc (bnc#1012628).
- iomap: don't search past page end in iomap_is_partially_uptodate
  (bnc#1012628).
- scsi: megaraid: fix out-of-bound array accesses (bnc#1012628).
- KVM: PPC: Book3S HV: Apply combination of host and l1 pte rc
  for nested guest (bnc#1012628).
- KVM: PPC: Book3S HV: Align gfn to L1 page size when inserting
  nest-rmap entry (bnc#1012628).
- scsi: smartpqi: call pqi_free_interrupts() in pqi_shutdown()
  (bnc#1012628).
- ath10k: fix peer stats null pointer dereference (bnc#1012628).
- scsi: smartpqi: correct lun reset issues (bnc#1012628).
- scsi: mpt3sas: fix memory ordering on 64bit writes
  (bnc#1012628).
- IB/usnic: Fix potential deadlock (bnc#1012628).
- sysfs: Disable lockdep for driver bind/unbind files
  (bnc#1012628).
- ALSA: bebob: fix model-id of unit for Apogee Ensemble
  (bnc#1012628).
- Bluetooth: btusb: Add support for Intel bluetooth device
  8087:0029 (bnc#1012628).
- dm: Check for device sector overflow if CONFIG_LBDAF is not set
  (bnc#1012628).
- clocksource/drivers/integrator-ap: Add missing of_node_put()
  (bnc#1012628).
- quota: Lock s_umount in exclusive mode for Q_XQUOTA{ON,OFF}
  quotactls (bnc#1012628).
- perf tools: Add missing open_memstream() prototype for systems
  lacking it (bnc#1012628).
- perf tools: Add missing sigqueue() prototype for systems
  lacking it (bnc#1012628).
- perf cs-etm: Correct packets swapping in cs_etm__flush()
  (bnc#1012628).
- dm snapshot: Fix excessive memory usage and workqueue stalls
  (bnc#1012628).
- tools lib subcmd: Don't add the kernel sources to the include
  path (bnc#1012628).
- perf stat: Avoid segfaults caused by negated options
  (bnc#1012628).
- dm kcopyd: Fix bug causing workqueue stalls (bnc#1012628).
- dm crypt: use u64 instead of sector_t to store iv_offset
  (bnc#1012628).
- x86/topology: Use total_cpus for max logical packages
  calculation (bnc#1012628).
- netfilter: ipt_CLUSTERIP: fix deadlock in netns exit routine
  (bnc#1012628).
- netfilter: ipt_CLUSTERIP: remove wrong WARN_ON_ONCE in netns
  exit routine (bnc#1012628).
- netfilter: ipt_CLUSTERIP: check MAC address when duplicate
  config is set (bnc#1012628).
- perf vendor events intel: Fix Load_Miss_Real_Latency on SKL/SKX
  (bnc#1012628).
- perf parse-events: Fix unchecked usage of strncpy()
  (bnc#1012628).
- perf svghelper: Fix unchecked usage of strncpy() (bnc#1012628).
- perf tests ARM: Disable breakpoint tests 32-bit (bnc#1012628).
- perf intel-pt: Fix error with config term "pt=0" (bnc#1012628).
- tools lib traceevent: Fix compile warnings in
  tools/lib/traceevent/event-parse.c (bnc#1012628).
- tty/serial: do not free trasnmit buffer page under port lock
  (bnc#1012628).
- btrfs: improve error handling of btrfs_add_link (bnc#1012628).
- btrfs: fix use-after-free due to race between replace start
  and cancel (bnc#1012628).
- btrfs: alloc_chunk: fix more DUP stripe size handling
  (bnc#1012628).
- btrfs: volumes: Make sure there is no overlap of dev extents
  at mount time (bnc#1012628).
- mmc: atmel-mci: do not assume idle after atmci_request_end
  (bnc#1012628).
- kconfig: fix memory leak when EOF is encountered in quotation
  (bnc#1012628).
- kconfig: fix file name and line number of
  warn_ignored_character() (bnc#1012628).
- x86/resctrl: Fix rdt_find_domain() return value and checks
  (bnc#1012628).
- usb: dwc2: Fix disable all EP's on disconnect (bnc#1012628).
- bpf: relax verifier restriction on BPF_MOV | BPF_ALU
  (bnc#1012628).
- arm64: Fix minor issues with the dcache_by_line_op macro
  (bnc#1012628).
- clk: imx6q: reset exclusive gates on init (bnc#1012628).
- arm64: kasan: Increase stack size for KASAN_EXTRA (bnc#1012628).
- selftests: do not macro-expand failed assertion expressions
  (bnc#1012628).
- scsi: target/core: Make sure that target_wait_for_sess_cmds()
  waits long enough (bnc#1012628).
- scsi: target: use consistent left-aligned ASCII INQUIRY data
  (bnc#1012628).
- net: call sk_dst_reset when set SO_DONTROUTE (bnc#1012628).
- staging: erofs: fix use-after-free of on-stack
  `z_erofs_vle_unzip_io' (bnc#1012628).
- media: venus: core: Set dma maximum segment size (bnc#1012628).
- coresight: tmc: Fix bad register address for CLAIM
  (bnc#1012628).
- ASoC: use dma_ops of parent device for acp_audio_dma
  (bnc#1012628).
- media: firewire: Fix app_info parameter type in
  avc_ca{,_app}_info (bnc#1012628).
- arm64: relocatable: fix inconsistencies in linker script and
  options (bnc#1012628).
- powerpc/pseries/cpuidle: Fix preempt warning (bnc#1012628).
- powerpc/xmon: Fix invocation inside lock region (bnc#1012628).
- media: uvcvideo: Refactor teardown of uvc on USB disconnect
  (bnc#1012628).
- pstore/ram: Do not treat empty buffers as valid (bnc#1012628).
- clk: imx: make mux parent strings const (bnc#1012628).
- kbuild: let fixdep directly write to .*.cmd files (bnc#1012628).
- jffs2: Fix use of uninitialized delayed_work, lockdep breakage
  (bnc#1012628).
- efi/libstub: Disable some warnings for x86{,_64} (bnc#1012628).
- rxe: IB_WR_REG_MR does not capture MR's iova field
  (bnc#1012628).
- drm/amdgpu: Reorder uvd ring init before uvd resume
  (bnc#1012628).
- net: ethernet: ave: Set initial wol state to disabled
  (bnc#1012628).
- scsi: qedi: Check for session online before getting iSCSI TLV
  data (bnc#1012628).
- ASoC: pcm3168a: Don't disable pcm3168a when CONFIG_PM defined
  (bnc#1012628).
- arm64: Use a raw spinlock in __install_bp_hardening_cb()
  (bnc#1012628).
- selinux: always allow mounting submounts (bnc#1012628).
- fpga: altera-cvp: fix probing for multiple FPGAs on the bus
  (bnc#1012628).
- usb: gadget: udc: renesas_usb3: add a safety connection way
  for forced_b_device (bnc#1012628).
- samples: bpf: fix: error handling regarding kprobe_events
  (bnc#1012628).
- clk: meson: meson8b: fix incorrect divider mapping in
  cpu_scale_table (bnc#1012628).
- clk: meson: meson8b: add support for more M/N values in sys_pll
  (bnc#1012628).
- drm/atomic-helper: Complete fake_commit->flip_done potentially
  earlier (bnc#1012628).
- MIPS: Loongson: Add Loongson-3A R2.1 basic support
  (bnc#1012628).
- arm64: perf: set suppress_bind_attrs flag to true (bnc#1012628).
- drm/scheduler: Fix bad job be re-processed in TDR (bnc#1012628).
- crypto: ecc - regularize scalar for scalar multiplication
  (bnc#1012628).
- MIPS: SiByte: Enable swiotlb for SWARM, LittleSur and BigSur
  (bnc#1012628).
- x86/mce: Fix -Wmissing-prototypes warnings (bnc#1012628).
- ALSA: oxfw: add support for APOGEE duet FireWire (bnc#1012628).
- bpf: Allow narrow loads with offset > 0 (bnc#1012628).
- serial: set suppress_bind_attrs flag only if builtin
  (bnc#1012628).
- writeback: don't decrement wb->refcnt if !wb->bdi (bnc#1012628).
- of: overlay: add missing of_node_put() after add new node to
  changeset (bnc#1012628).
- selftests/bpf: enable (uncomment) all tests in test_libbpf.sh
  (bnc#1012628).
- usb: typec: tcpm: Do not disconnect link for self powered
  devices (bnc#1012628).
- e1000e: allow non-monotonic SYSTIM readings (bnc#1012628).
- platform/x86: asus-wmi: Tell the EC the OS will handle the
  display off hotkey (bnc#1012628).
- ixgbe: allow IPsec Tx offload in VEPA mode (bnc#1012628).
- qtnfmac: fix error handling in control path (bnc#1012628).
- drm/amdkfd: fix interrupt spin lock (bnc#1012628).
- drm/amd/display: Guard against null stream_state in
  set_crc_source (bnc#1012628).
- ASoC: wm97xx: fix uninitialized regmap pointer problem
  (bnc#1012628).
- gpio: pl061: Move irq_chip definition inside struct pl061
  (bnc#1012628).
- netfilter: ipset: Allow matching on destination MAC address
  for mac and ipmac sets (bnc#1012628).
- net: clear skb->tstamp in bridge forwarding path (bnc#1012628).
- openvswitch: Fix IPv6 later frags parsing (bnc#1012628).
- octeontx2-af: Fix a resource leak in an error handling path in
  'cgx_probe()' (bnc#1012628).
- netlink: fixup regression in RTM_GETADDR (bnc#1012628).
- ipv6: Fix dump of specific table with strict checking
  (bnc#1012628).
- ipv6: Take rcu_read_lock in __inet6_bind for mapped addresses
  (bnc#1012628).
- r8169: Add support for new Realtek Ethernet (bnc#1012628).
- qmi_wwan: add MTU default to qmap network interface
  (bnc#1012628).
- net, skbuff: do not prefer skb allocation fails early
  (bnc#1012628).
- net: dsa: mv88x6xxx: mv88e6390 errata (bnc#1012628).
- mlxsw: spectrum_switchdev: Set PVID correctly during VLAN
  deletion (bnc#1012628).
- mlxsw: spectrum: Disable lag port TX before removing it
  (bnc#1012628).
- ipv6: Consider sk_bound_dev_if when binding a socket to a v4
  mapped address (bnc#1012628).
- commit 34ae151

-------------------------------------------------------------------
Thu Jan 24 11:12:41 CET 2019 - msuchanek@suse.de

- rpm/kernel-*.spec.in: replace update srchash dependencies (FATE#325312).
  Due to some limitations version cannot be matched so move the hash into
  the provide name.
- commit 219bcec

-------------------------------------------------------------------
Wed Jan 23 21:04:24 CET 2019 - jslaby@suse.cz

- Linux 4.20.4 (bnc#1012628).
- tty/ldsem: Wake up readers after timed out down_write()
  (bnc#1012628).
- tty: Hold tty_ldisc_lock() during tty_reopen() (bnc#1012628).
- tty: Simplify tty->count math in tty_reopen() (bnc#1012628).
- tty: Don't hold ldisc lock in tty_reopen() if ldisc present
  (bnc#1012628).
- can: gw: ensure DLC boundaries after CAN frame modification
  (bnc#1012628).
- netfilter: nf_conncount: replace CONNCOUNT_LOCK_SLOTS with
  CONNCOUNT_SLOTS (bnc#1012628).
- netfilter: nf_conncount: don't skip eviction when age is
  negative (bnc#1012628).
- netfilter: nf_conncount: split gc in two phases (bnc#1012628).
- netfilter: nf_conncount: restart search when nodes have been
  erased (bnc#1012628).
- netfilter: nf_conncount: merge lookup and add functions
  (bnc#1012628).
- netfilter: nf_conncount: move all list iterations under spinlock
  (bnc#1012628).
- netfilter: nf_conncount: speculative garbage collection on
  empty lists (bnc#1012628).
- netfilter: nf_conncount: fix argument order to find_next_bit
  (bnc#1012628).
- mmc: sdhci-msm: Disable CDR function on TX (bnc#1012628).
- arm64/kvm: consistently handle host HCR_EL2 flags (bnc#1012628).
- arm64: Don't trap host pointer auth use to EL2 (bnc#1012628).
- ipv6: fix kernel-infoleak in ipv6_local_error() (bnc#1012628).
- net: bridge: fix a bug on using a neighbour cache entry without
  checking its state (bnc#1012628).
- packet: Do not leak dev refcounts on error exit (bnc#1012628).
- tcp: change txhash on SYN-data timeout (bnc#1012628).
- tun: publish tfile after it's fully initialized (bnc#1012628).
- net: phy: add missing phy driver features (bnc#1012628).
- net: phy: Add missing features to PHY drivers (bnc#1012628).
- net: phy: meson-gxl: Use the genphy_soft_reset callback
  (bnc#1012628).
- lan743x: Remove phy_read from link status change function
  (bnc#1012628).
- IN_BADCLASS: fix macro to actually work (bnc#1012628).
- r8169: load Realtek PHY driver module before r8169
  (bnc#1012628).
- bonding: update nest level on unlink (bnc#1012628).
- ip: on queued skb use skb_header_pointer instead of
  pskb_may_pull (bnc#1012628).
- r8169: don't try to read counters if chip is in a PCI power-save
  state (bnc#1012628).
- smc: move unhash as early as possible in smc_release()
  (bnc#1012628).
- crypto: sm3 - fix undefined shift by >= width of value
  (bnc#1012628).
- crypto: caam - fix zero-length buffer DMA mapping (bnc#1012628).
- crypto: authencesn - Avoid twice completion call in decrypt path
  (bnc#1012628).
- crypto: ccree - convert to use crypto_authenc_extractkeys()
  (bnc#1012628).
- crypto: bcm - convert to use crypto_authenc_extractkeys()
  (bnc#1012628).
- crypto: authenc - fix parsing key with misaligned rta_len
  (bnc#1012628).
- crypto: talitos - reorder code in talitos_edesc_alloc()
  (bnc#1012628).
- crypto: talitos - fix ablkcipher for CONFIG_VMAP_STACK
  (bnc#1012628).
- xen: Fix x86 sched_clock() interface for xen (bnc#1012628).
- Revert "btrfs: balance dirty metadata pages in
  btrfs_finish_ordered_io" (bnc#1012628).
- btrfs: wait on ordered extents on abort cleanup (bnc#1012628).
- Yama: Check for pid death before checking ancestry
  (bnc#1012628).
- scsi: core: Synchronize request queue PM status only on
  successful resume (bnc#1012628).
- scsi: sd: Fix cache_type_store() (bnc#1012628).
- virtio: don't allocate vqs when names[i] = NULL (bnc#1012628).
- virtio-balloon: tweak config_changed implementation
  (bnc#1012628).
- mips: fix n32 compat_ipc_parse_version (bnc#1012628).
- MIPS: BCM47XX: Setup struct device for the SoC (bnc#1012628).
- MIPS: lantiq: Fix IPI interrupt handling (bnc#1012628).
- MIPS: OCTEON: fix kexec support (bnc#1012628).
- drm/i915/gvt: Fix mmap range check (bnc#1012628).
- drm/rockchip: add missing of_node_put (bnc#1012628).
- OF: properties: add missing of_node_put (bnc#1012628).
- mfd: tps6586x: Handle interrupts on suspend (bnc#1012628).
- media: v4l: ioctl: Validate num_planes for debug messages
  (bnc#1012628).
- media: vim2m: only cancel work if it is for right context
  (bnc#1012628).
- RDMA/nldev: Don't expose unsafe global rkey to regular user
  (bnc#1012628).
- RDMA/vmw_pvrdma: Return the correct opcode when creating WR
  (bnc#1012628).
- kbuild: Disable LD_DEAD_CODE_DATA_ELIMINATION with ftrace &
  GCC <= 4.7 (bnc#1012628).
- kbuild: fix single target build for external module
  (bnc#1012628).
- kbuild: mark prepare0 as PHONY to fix external module build
  (bnc#1012628).
- net: dsa: realtek-smi: fix OF child-node lookup (bnc#1012628).
- pstore/ram: Avoid allocation and leak of platform data
  (bnc#1012628).
- SUNRPC: Fix TCP receive code on archs with flush_dcache_page()
  (bnc#1012628).
- powerpc/tm: Limit TM code inside PPC_TRANSACTIONAL_MEM
  (bnc#1012628).
- arm64: kaslr: ensure randomized quantities are clean to the PoC
  (bnc#1012628).
- arm64: dts: marvell: armada-ap806: reserve PSCI area
  (bnc#1012628).
- fbdev: offb: Fix OF node name handling (bnc#1012628).
- Disable MSI also when pcie-octeon.pcie_disable on (bnc#1012628).
- fix int_sqrt64() for very large numbers (bnc#1012628).
- omap2fb: Fix stack memory disclosure (bnc#1012628).
- media: vivid: fix error handling of kthread_run (bnc#1012628).
- media: vivid: set min width/height to a value > 0 (bnc#1012628).
- bpf: in __bpf_redirect_no_mac pull mac only if present
  (bnc#1012628).
- ipv6: make icmp6_send() robust against null skb->dev
  (bnc#1012628).
- LSM: Check for NULL cred-security on free (bnc#1012628).
- media: vb2: vb2_mmap: move lock up (bnc#1012628).
- sunrpc: handle ENOMEM in rpcb_getport_async (bnc#1012628).
- netfilter: ebtables: account ebt_table_info to kmemcg
  (bnc#1012628).
- block: use rcu_work instead of call_rcu to avoid sleep in
  softirq (bnc#1012628).
- drm/vkms: Fix plane duplicate_state (bnc#1012628).
- gpu/drm: Fix lock held when returning to user space
  (bnc#1012628).
- selinux: fix GPF on invalid policy (bnc#1012628).
- blockdev: Fix livelocks on loop device (bnc#1012628).
- sctp: allocate sctp_sockaddr_entry with kzalloc (bnc#1012628).
- tipc: fix uninit-value in in tipc_conn_rcv_sub (bnc#1012628).
- tipc: fix uninit-value in tipc_nl_compat_link_reset_stats
  (bnc#1012628).
- tipc: fix uninit-value in tipc_nl_compat_bearer_enable
  (bnc#1012628).
- tipc: fix uninit-value in tipc_nl_compat_link_set (bnc#1012628).
- tipc: fix uninit-value in tipc_nl_compat_name_table_dump
  (bnc#1012628).
- tipc: fix uninit-value in tipc_nl_compat_doit (bnc#1012628).
- block/loop: Don't grab "struct file" for vfs_getattr() operation
  (bnc#1012628).
- block/loop: Use global lock for ioctl() operation (bnc#1012628).
- loop: Fold __loop_release into loop_release (bnc#1012628).
- loop: Get rid of loop_index_mutex (bnc#1012628).
- loop: Push lo_ctl_mutex down into individual ioctls
  (bnc#1012628).
- loop: Split setting of lo_state from loop_clr_fd (bnc#1012628).
- loop: Push loop_ctl_mutex down into loop_clr_fd() (bnc#1012628).
- loop: Push loop_ctl_mutex down to loop_get_status()
  (bnc#1012628).
- loop: Push loop_ctl_mutex down to loop_set_status()
  (bnc#1012628).
- loop: Push loop_ctl_mutex down to loop_set_fd() (bnc#1012628).
- loop: Push loop_ctl_mutex down to loop_change_fd()
  (bnc#1012628).
- loop: Move special partition reread handling in loop_clr_fd()
  (bnc#1012628).
- loop: Move loop_reread_partitions() out of loop_ctl_mutex
  (bnc#1012628).
- loop: Fix deadlock when calling blkdev_reread_part()
  (bnc#1012628).
- loop: Avoid circular locking dependency between loop_ctl_mutex
  and bd_mutex (bnc#1012628).
- loop: Get rid of 'nested' acquisition of loop_ctl_mutex
  (bnc#1012628).
- loop: Fix double mutex_unlock(&loop_ctl_mutex) in
  loop_control_ioctl() (bnc#1012628).
- loop: drop caches if offset or block_size are changed
  (bnc#1012628).
- drm/fb-helper: Ignore the value of fb_var_screeninfo.pixclock
  (bnc#1012628).
- media: vb2: be sure to unlock mutex on errors (bnc#1012628).
- nbd: Use set_blocksize() to set device blocksize (bnc#1012628).
- Refresh
  patches.suse/kernel-add-product-identifying-information-to-kernel-build.patch.
- commit b458db8

-------------------------------------------------------------------
Tue Jan 22 12:20:08 CET 2019 - oneukum@suse.com

- media: usb: pwc: Don't use coherent DMA buffers for ISO transfer
  (bsc#1054610).
- commit 59d243a

-------------------------------------------------------------------
Mon Jan 21 07:20:38 CET 2019 - mkubecek@suse.cz

- Update to 5.0-rc3
- Config changes:
  - ARM64:
    - HSA_AMD=y
- commit 05bf5c0

-------------------------------------------------------------------
Fri Jan 18 07:53:27 CET 2019 - jslaby@suse.cz

- Linux 4.20.3 (bnc#1012628).
- Btrfs: use nofs context when initializing security xattrs to
  avoid deadlock (bnc#1012628).
- Btrfs: fix deadlock when enabling quotas due to concurrent
  snapshot creation (bnc#1012628).
- Btrfs: fix access to available allocation bits when starting
  balance (bnc#1012628).
- sunrpc: use-after-free in svc_process_common() (bnc#1012628).
- mm: page_mapped: don't assume compound page is huge or THP
  (bnc#1012628).
- ext4: fix special inode number checks in __ext4_iget()
  (bnc#1012628).
- ext4: track writeback errors using the generic tracking
  infrastructure (bnc#1012628).
- ext4: use ext4_write_inode() when fsyncing w/o a journal
  (bnc#1012628).
- ext4: avoid kernel warning when writing the superblock to a
  dead device (bnc#1012628).
- ext4: fix a potential fiemap/page fault deadlock w/ inline_data
  (bnc#1012628).
- ext4: make sure enough credits are reserved for dioread_nolock
  writes (bnc#1012628).
- rbd: don't return 0 on unmap if RBD_DEV_FLAG_REMOVING is set
  (bnc#1012628).
- drm/amdgpu: Don't fail resume process if resuming atomic state
  fails (bnc#1012628).
- drm/amdgpu: Don't ignore rc from
  drm_dp_mst_topology_mgr_resume() (bnc#1012628).
- drm/i915: Unwind failure on pinning the gen7 ppgtt
  (bnc#1012628).
- drm/fb-helper: Partially bring back workaround for bugs of
  SDL 1.2 (bnc#1012628).
- drm/amd/display: Fix MST dp_blank REG_WAIT timeout
  (bnc#1012628).
- PCI: dwc: Move interrupt acking into the proper callback
  (bnc#1012628).
- PCI: dwc: Take lock when ACKing an interrupt (bnc#1012628).
- PCI: dwc: Use interrupt masking instead of disabling
  (bnc#1012628).
- drm/amdgpu: Add new VegaM pci id (bnc#1012628).
- vfio/type1: Fix unmap overflow off-by-one (bnc#1012628).
- mtd: rawnand: qcom: fix memory corruption that causes panic
  (bnc#1012628).
- i2c: dev: prevent adapter retries and timeout being set as
  minus value (bnc#1012628).
- ACPI/IORT: Fix rc_dma_get_range() (bnc#1012628).
- ACPI / PMIC: xpower: Fix TS-pin current-source handling
  (bnc#1012628).
- ACPI: power: Skip duplicate power resource references in _PRx
  (bnc#1012628).
- mm, memcg: fix reclaim deadlock with writeback (bnc#1012628).
- mm/usercopy.c: no check page span for stack objects
  (bnc#1012628).
- slab: alien caches must not be initialized if the allocation
  of the alien cache failed (bnc#1012628).
- fork, memcg: fix cached_stacks case (bnc#1012628).
- USB: Add USB_QUIRK_DELAY_CTRL_MSG quirk for Corsair K70 RGB
  (bnc#1012628).
- USB: storage: add quirk for SMI SM3350 (bnc#1012628).
- USB: storage: don't insert sane sense for SPC3+ when bad sense
  specified (bnc#1012628).
- usb: cdc-acm: send ZLP for Telit 3G Intel based modems
  (bnc#1012628).
- ARM: davinci: da830-evm: fix label names in GPIO lookup entries
  (bnc#1012628).
- ARM: davinci: dm644x-evm: fix label names in GPIO lookup entries
  (bnc#1012628).
- ARM: davinci: omapl138-hawk: fix label names in GPIO lookup
  entries (bnc#1012628).
- ARM: davinci: da850-evm: fix label names in GPIO lookup entries
  (bnc#1012628).
- ARM: davinci: dm355-evm: fix label names in GPIO lookup entries
  (bnc#1012628).
- cifs: check kzalloc return (bnc#1012628).
- cifs: Fix potential OOB access of lock element array
  (bnc#1012628).
- CIFS: Fix credit computation for compounded requests
  (bnc#1012628).
- CIFS: Do not hide EINTR after sending network packets
  (bnc#1012628).
- CIFS: Do not set credits to 1 if the server didn't grant
  anything (bnc#1012628).
- CIFS: Fix adjustment of credits for MTU requests (bnc#1012628).
- ALSA: hda/realtek - Disable headset Mic VREF for headset mode
  of ALC225 (bnc#1012628).
- ALSA: hda/realtek - Add unplug function into unplug state of
  Headset Mode for ALC225 (bnc#1012628).
- ALSA: hda/realtek - Support Dell headset mode for New AIO
  platform (bnc#1012628).
- x86, modpost: Replace last remnants of RETPOLINE with
  CONFIG_RETPOLINE (bnc#1012628).
- cpufreq: scmi: Fix frequency invariance in slow path
  (bnc#1012628).
- cpufreq: scpi/scmi: Fix freeing of dynamic OPPs (bnc#1012628).
- staging: rtl8188eu: Fix module loading from tasklet for WEP
  encryption (bnc#1012628).
- staging: rtl8188eu: Fix module loading from tasklet for CCMP
  encryption (bnc#1012628).
- usbcore: Select only first configuration for non-UAC3 compliant
  devices (bnc#1012628).
- Btrfs: fix deadlock when using free space tree due to block
  group creation (bnc#1012628).
- powerpc/tm: Unset MSR[TS] if not recheckpointing (bnc#1012628).
- commit 4b478de

-------------------------------------------------------------------
Mon Jan 14 05:32:46 CET 2019 - mkubecek@suse.cz

- Update to 5.0-rc2
- Config changes:
  - x86:
    - RESCTRL renamed to X86_RESCTRL
- commit 879eb5c

-------------------------------------------------------------------
Sun Jan 13 13:37:25 CET 2019 - jslaby@suse.cz

- Linux 4.20.2 (bnc#1012628).
- drm/rockchip: psr: do not dereference encoder before it is
  null checked (bnc#1012628).
- drm/vc4: Set ->is_yuv to false when num_planes == 1
  (bnc#1012628).
- drm/nouveau/drm/nouveau: Check rc from
  drm_dp_mst_topology_mgr_resume() (bnc#1012628).
- lib: fix build failure in CONFIG_DEBUG_VIRTUAL test
  (bnc#1012628).
- of: __of_detach_node() - remove node from phandle cache
  (bnc#1012628).
- of: of_node_get()/of_node_put() nodes held in phandle cache
  (bnc#1012628).
- power: supply: olpc_battery: correct the temperature units
  (bnc#1012628).
- intel_th: msu: Fix an off-by-one in attribute store
  (bnc#1012628).
- genwqe: Fix size check (bnc#1012628).
- selftests: Fix test errors related to lib.mk khdr target
  (bnc#1012628).
- powerpc/4xx/ocm: Fix compilation error due to PAGE_KERNEL usage
  (bnc#1012628).
- drivers/perf: hisi: Fixup one DDRC PMU register offset
  (bnc#1012628).
- video: fbdev: pxafb: Fix "WARNING: invalid free of devm_
  allocated data" (bnc#1012628).
- ceph: don't update importing cap's mseq when handing cap export
  (bnc#1012628).
- sched/fair: Fix infinite loop in update_blocked_averages()
  by reverting a9e7f6544b9c (bnc#1012628).
- iommu/vt-d: Handle domain agaw being less than iommu agaw
  (bnc#1012628).
- RDMA/iwcm: Don't copy past the end of dev_name() string
  (bnc#1012628).
- RDMA/srpt: Fix a use-after-free in the channel release code
  (bnc#1012628).
- stm class: Fix a module refcount leak in policy creation error
  path (bnc#1012628).
- rxe: fix error completion wr_id and qp_num (bnc#1012628).
- 9p/net: put a lower bound on msize (bnc#1012628).
- iio: dac: ad5686: fix bit shift read register (bnc#1012628).
- iio: adc: qcom-spmi-adc5: Initialize prescale properly
  (bnc#1012628).
- powerpc/tm: Set MSR[TS] just prior to recheckpoint
  (bnc#1012628).
- Revert "powerpc/tm: Unset MSR[TS] if not recheckpointing"
  (bnc#1012628).
- nfsd4: zero-length WRITE should succeed (bnc#1012628).
- xprtrdma: Yet another double DMA-unmap (bnc#1012628).
- lockd: Show pid of lockd for remote locks (bnc#1012628).
- PCI / PM: Allow runtime PM without callback functions
  (bnc#1012628).
- selinux: policydb - fix byte order and alignment issues
  (bnc#1012628).
- b43: Fix error in cordic routine (bnc#1012628).
- gfs2: Fix loop in gfs2_rbm_find (bnc#1012628).
- gfs2: Get rid of potential double-freeing in gfs2_create_inode
  (bnc#1012628).
- dlm: memory leaks on error path in dlm_user_request()
  (bnc#1012628).
- dlm: lost put_lkb on error path in receive_convert() and
  receive_unlock() (bnc#1012628).
- dlm: possible memory leak on error path in create_lkb()
  (bnc#1012628).
- dlm: fixed memory leaks after failed ls_remove_names allocation
  (bnc#1012628).
- dm: do not allow readahead to limit IO size (bnc#1012628).
- block: mq-deadline: Fix write completion handling (bnc#1012628).
- block: deactivate blk_stat timer in wbt_disable_default()
  (bnc#1012628).
- Fix failure path in alloc_pid() (bnc#1012628).
- driver core: Add missing dev->bus->need_parent_lock checks
  (bnc#1012628).
- srcu: Lock srcu_data structure in srcu_gp_start() (bnc#1012628).
- ALSA: usb-audio: Always check descriptor sizes in parser code
  (bnc#1012628).
- ALSA: usb-audio: Fix an out-of-bound read in
  create_composite_quirks (bnc#1012628).
- ALSA: usb-audio: Check mixer unit descriptors more strictly
  (bnc#1012628).
- ALSA: usb-audio: Avoid access before bLength check in
  build_audio_procunit() (bnc#1012628).
- ALSA: cs46xx: Potential NULL dereference in probe (bnc#1012628).
- media: cx23885: only reset DMA on problematic CPUs
  (bnc#1012628).
- mm, swap: fix swapoff with KSM pages (bnc#1012628).
- mm, hmm: mark hmm_devmem_{add, add_resource} EXPORT_SYMBOL_GPL
  (bnc#1012628).
- mm, hmm: replace hmm_devmem_pages_create() with
  devm_memremap_pages() (bnc#1012628).
- mm, hmm: use devm semantics for hmm_devmem_{add, remove}
  (bnc#1012628).
- mm, devm_memremap_pages: add MEMORY_DEVICE_PRIVATE support
  (bnc#1012628).
- sunrpc: use SVC_NET() in svcauth_gss_* functions (bnc#1012628).
- sunrpc: fix cache_head leak due to queued request (bnc#1012628).
- memcg, oom: notify on oom killer invocation from the charge path
  (bnc#1012628).
- mm, devm_memremap_pages: fix shutdown handling (bnc#1012628).
- mm, devm_memremap_pages: kill mapping "System RAM" support
  (bnc#1012628).
- mm, devm_memremap_pages: mark devm_memremap_pages()
  EXPORT_SYMBOL_GPL (bnc#1012628).
- hwpoison, memory_hotplug: allow hwpoisoned pages to be offlined
  (bnc#1012628).
- zram: fix double free backing device (bnc#1012628).
- fork: record start_time late (bnc#1012628).
- scsi: lpfc: do not set queue->page_count to 0 if
  pc_sli4_params.wqpcnt is invalid (bnc#1012628).
- scsi: zfcp: fix posting too many status read buffers leading
  to adapter shutdown (bnc#1012628).
- commit 036c5c2

-------------------------------------------------------------------
Fri Jan 11 19:08:56 CET 2019 - afaerber@suse.de

- config: arm64: Update to 5.0-rc1
- commit 88c2434

-------------------------------------------------------------------
Wed Jan  9 20:05:02 CET 2019 - jslaby@suse.cz

- Linux 4.20.1 (bnc#1012628).
- panic: avoid deadlocks in re-entrant console drivers
  (bnc#1012628).
- iwlwifi: add new cards for 9560, 9462, 9461 and killer series
  (bnc#1012628).
- media: ov5640: Fix set format regression (bnc#1012628).
- bnx2x: Fix NULL pointer dereference in bnx2x_del_all_vlans()
  on some hw (bnc#1012628).
- tap: call skb_probe_transport_header after setting skb->dev
  (bnc#1012628).
- ax25: fix a use-after-free in ax25_fillin_cb() (bnc#1012628).
- ibmveth: fix DMA unmap error in ibmveth_xmit_start error path
  (bnc#1012628).
- ieee802154: lowpan_header_create check must check daddr
  (bnc#1012628).
- ip: validate header length on virtual device xmit (bnc#1012628).
- net/hamradio/6pack: use mod_timer() to rearm timers
  (bnc#1012628).
- isdn: fix kernel-infoleak in capi_unlocked_ioctl (bnc#1012628).
- netrom: fix locking in nr_find_socket() (bnc#1012628).
- net/wan: fix a double free in x25_asy_open_tty() (bnc#1012628).
- ptr_ring: wrap back ->producer in __ptr_ring_swap_queue()
  (bnc#1012628).
- sock: Make sock->sk_stamp thread-safe (bnc#1012628).
- tipc: fix a double free in tipc_enable_bearer() (bnc#1012628).
- IB/hfi1: Incorrect sizing of sge for PIO will OOPs
  (bnc#1012628).
- ALSA: rme9652: Fix potential Spectre v1 vulnerability
  (bnc#1012628).
- ALSA: emu10k1: Fix potential Spectre v1 vulnerabilities
  (bnc#1012628).
- ALSA: pcm: Fix potential Spectre v1 vulnerability (bnc#1012628).
- ALSA: emux: Fix potential Spectre v1 vulnerabilities
  (bnc#1012628).
- powerpc/fsl: Fix spectre_v2 mitigations reporting (bnc#1012628).
- mtd: atmel-quadspi: disallow building on ebsa110 (bnc#1012628).
- mtd: rawnand: marvell: prevent timeouts on a loaded machine
  (bnc#1012628).
- mtd: rawnand: Fix JEDEC detection (bnc#1012628).
- mtd: rawnand: omap2: Pass the parent of pdev to
  dma_request_chan() (bnc#1012628).
- ALSA: hda: add mute LED support for HP EliteBook 840 G4
  (bnc#1012628).
- ALSA: hda/realtek: Enable audio jacks of ASUS UX391UA with
  ALC294 (bnc#1012628).
- ALSA: fireface: fix for state to fetch PCM frames (bnc#1012628).
- ALSA: firewire-lib: fix wrong handling payload_length as
  payload_quadlet (bnc#1012628).
- ALSA: firewire-lib: fix wrong assignment for
  'out_packet_without_header' tracepoint (bnc#1012628).
- ALSA: firewire-lib: use the same print format for
  'without_header' tracepoints (bnc#1012628).
- ALSA: hda/realtek: Enable the headset mic auto detection for
  ASUS laptops (bnc#1012628).
- ALSA: hda/tegra: clear pending irq handlers (bnc#1012628).
- usb: dwc2: host: use hrtimer for NAK retries (bnc#1012628).
- USB: serial: pl2303: add ids for Hewlett-Packard HP POS pole
  displays (bnc#1012628).
- USB: serial: option: add Fibocom NL678 series (bnc#1012628).
- usb: r8a66597: Fix a possible concurrency use-after-free bug
  in r8a66597_endpoint_disable() (bnc#1012628).
- usb: dwc2: disable power_down on Amlogic devices (bnc#1012628).
- Revert "usb: dwc3: pci: Use devm functions to get the phy GPIOs"
  (bnc#1012628).
- usb: roles: Add a description for the class to Kconfig
  (bnc#1012628).
- media: dvb-usb-v2: Fix incorrect use of transfer_flags
  URB_FREE_BUFFER (bnc#1012628).
- i915: fix missing user_access_end() in page fault exception case
  (bnc#1012628).
- staging: wilc1000: fix missing read_write setting when reading
  data (bnc#1012628).
- staging: bcm2835-audio: double free in init error path
  (bnc#1012628).
- ASoC: intel: cht_bsw_max98090_ti: Add pmc_plt_clk_0 quirk for
  Chromebook Clapper (bnc#1012628).
- ASoC: intel: cht_bsw_max98090_ti: Add pmc_plt_clk_0 quirk for
  Chromebook Gnawty (bnc#1012628).
- s390/pci: fix sleeping in atomic during hotplug (bnc#1012628).
- Input: atmel_mxt_ts - don't try to free unallocated kernel
  memory (bnc#1012628).
- Input: elan_i2c - add ACPI ID for touchpad in ASUS Aspire
  F5-573G (bnc#1012628).
- x86/speculation/l1tf: Drop the swap storage limit restriction
  when l1tf=off (bnc#1012628).
- x86/mm: Drop usage of __flush_tlb_all() in
  kernel_physical_mapping_init() (bnc#1012628).
- KVM: x86: Use jmp to invoke kvm_spurious_fault() from .fixup
  (bnc#1012628).
- arm64: KVM: Make VHE Stage-2 TLB invalidation operations
  non-interruptible (bnc#1012628).
- KVM: PPC: Book3S HV: Fix race between kvm_unmap_hva_range and
  MMU mode switch (bnc#1012628).
- KVM: nVMX: Free the VMREAD/VMWRITE bitmaps if alloc_kvm_area()
  fails (bnc#1012628).
- platform-msi: Free descriptors in platform_msi_domain_free()
  (bnc#1012628).
- drm/v3d: Skip debugfs dumping GCA on platforms without GCA
  (bnc#1012628).
- DRM: UDL: get rid of useless vblank initialization
  (bnc#1012628).
- clocksource/drivers/arc_timer: Utilize generic sched_clock
  (bnc#1012628).
- perf machine: Record if a arch has a single user/kernel address
  space (bnc#1012628).
- perf thread: Add fallback functions for cases where cpumode
  is insufficient (bnc#1012628).
- perf tools: Use fallback for sample_addr_correlates_sym()
  cases (bnc#1012628).
- perf script: Use fallbacks for branch stacks (bnc#1012628).
- perf pmu: Suppress potential format-truncation warning
  (bnc#1012628).
- perf env: Also consider env->arch == NULL as local operation
  (bnc#1012628).
- ocxl: Fix endiannes bug in ocxl_link_update_pe() (bnc#1012628).
- ocxl: Fix endiannes bug in read_afu_name() (bnc#1012628).
- ext4: add ext4_sb_bread() to disambiguate ENOMEM cases
  (bnc#1012628).
- ext4: fix possible use after free in ext4_quota_enable
  (bnc#1012628).
- ext4: missing unlock/put_page() in
  ext4_try_to_write_inline_data() (bnc#1012628).
- ext4: fix EXT4_IOC_GROUP_ADD ioctl (bnc#1012628).
- ext4: include terminating u32 in size of xattr entries when
  expanding inodes (bnc#1012628).
- ext4: avoid declaring fs inconsistent due to invalid file
  handles (bnc#1012628).
- ext4: force inode writes when nfsd calls commit_metadata()
  (bnc#1012628).
- ext4: check for shutdown and r/o file system in
  ext4_write_inode() (bnc#1012628).
- spi: bcm2835: Fix race on DMA termination (bnc#1012628).
- spi: bcm2835: Fix book-keeping of DMA termination (bnc#1012628).
- spi: bcm2835: Avoid finishing transfer prematurely in IRQ mode
  (bnc#1012628).
- clk: rockchip: fix typo in rk3188 spdif_frac parent
  (bnc#1012628).
- clk: sunxi-ng: Use u64 for calculation of NM rate (bnc#1012628).
- crypto: cavium/nitrox - fix a DMA pool free failure
  (bnc#1012628).
- crypto: chcr - small packet Tx stalls the queue (bnc#1012628).
- crypto: testmgr - add AES-CFB tests (bnc#1012628).
- crypto: cfb - fix decryption (bnc#1012628).
- cgroup: fix CSS_TASK_ITER_PROCS (bnc#1012628).
- binder: fix use-after-free due to ksys_close() during fdget()
  (bnc#1012628).
- cdc-acm: fix abnormal DATA RX issue for Mediatek Preloader
  (bnc#1012628).
- btrfs: dev-replace: go back to suspended state if target device
  is missing (bnc#1012628).
- btrfs: dev-replace: go back to suspend state if another EXCL_OP
  is running (bnc#1012628).
- Btrfs: fix deadlock with memory reclaim during scrub
  (bnc#1012628).
- btrfs: skip file_extent generation check for free_space_inode
  in run_delalloc_nocow (bnc#1012628).
- Btrfs: fix fsync of files with multiple hard links in new
  directories (bnc#1012628).
- btrfs: run delayed items before dropping the snapshot
  (bnc#1012628).
- Btrfs: send, fix race with transaction commits that create
  snapshots (bnc#1012628).
- brcmfmac: fix roamoff=1 modparam (bnc#1012628).
- brcmfmac: Fix out of bounds memory access during fw load
  (bnc#1012628).
- KEYS: fix parsing invalid pkey info string (bnc#1012628).
- powerpc/tm: Unset MSR[TS] if not recheckpointing (bnc#1012628).
- f2fs: read page index before freeing (bnc#1012628).
- f2fs: fix to update new block address correctly for OPU
  (bnc#1012628).
- f2fs: fix missing unlock(sbi->gc_mutex) (bnc#1012628).
- f2fs: fix validation of the block count in
  sanity_check_raw_super (bnc#1012628).
- f2fs: sanity check of xattr entry size (bnc#1012628).
- serial: uartps: Fix interrupt mask issue to handle the RX
  interrupts properly (bnc#1012628).
- media: cec: keep track of outstanding transmits (bnc#1012628).
- media: cec-pin: fix broken tx_ignore_nack_until_eom error
  injection (bnc#1012628).
- media: rc: cec devices do not have a lirc chardev (bnc#1012628).
- media: imx274: fix stack corruption in imx274_read_reg
  (bnc#1012628).
- media: vivid: free bitmap_cap when updating std/timings/etc
  (bnc#1012628).
- media: vim2m: use cancel_delayed_work_sync instead of
  flush_schedule_work (bnc#1012628).
- media: vb2: check memory model for VIDIOC_CREATE_BUFS
  (bnc#1012628).
- media: v4l2-tpg: array index could become negative
  (bnc#1012628).
- media: v4l2-fwnode: Fix setting V4L2_MBUS_DATA_ACTIVE_HIGH/LOW
  flag (bnc#1012628).
- tools lib traceevent: Fix processing of dereferenced args in
  bprintk events (bnc#1012628).
- MIPS: math-emu: Write-protect delay slot emulation pages
  (bnc#1012628).
- MIPS: c-r4k: Add r4k_blast_scache_node for Loongson-3
  (bnc#1012628).
- MIPS: Ensure pmd_present() returns false after
  pmd_mknotpresent() (bnc#1012628).
- MIPS: Align kernel load address to 64KB (bnc#1012628).
- MIPS: Expand MIPS32 ASIDs to 64 bits (bnc#1012628).
- MIPS: OCTEON: mark RGMII interface disabled on OCTEON III
  (bnc#1012628).
- MIPS: Fix a R10000_LLSC_WAR logic in atomic.h (bnc#1012628).
- CIFS: Fix error mapping for SMB2_LOCK command which caused
  OFD lock problem (bnc#1012628).
- smb3: fix large reads on encrypted connections (bnc#1012628).
- CIFS: return correct errors when pinning memory failed for
  direct I/O (bnc#1012628).
- CIFS: use the correct length when pinning memory for direct
  I/O for write (bnc#1012628).
- arm64: KVM: Avoid setting the upper 32 bits of VTCR_EL2 to 1
  (bnc#1012628).
- arm/arm64: KVM: vgic: Force VM halt when changing the active
  state of GICv3 PPIs/SGIs (bnc#1012628).
- ARM: dts: exynos: Specify I2S assigned clocks in proper node
  (bnc#1012628).
- rtc: m41t80: Correct alarm month range with RTC reads
  (bnc#1012628).
- KVM: arm/arm64: vgic: Do not cond_resched_lock() with IRQs
  disabled (bnc#1012628).
- KVM: arm/arm64: vgic: Cap SPIs to the VM-defined maximum
  (bnc#1012628).
- KVM: arm/arm64: vgic-v2: Set active_source to 0 when restoring
  state (bnc#1012628).
- KVM: arm/arm64: Fix VMID alloc race by reverting to lock-less
  (bnc#1012628).
- KVM: arm/arm64: vgic: Fix off-by-one bug in vgic_get_irq()
  (bnc#1012628).
- iommu/arm-smmu-v3: Fix big-endian CMD_SYNC writes (bnc#1012628).
- arm64: compat: Avoid sending SIGILL for unallocated syscall
  numbers (bnc#1012628).
- arm64: compat: Don't pull syscall number from regs in
  arm_compat_syscall (bnc#1012628).
- parisc: Remap hugepage-aligned pages in set_kernel_text_rw()
  (bnc#1012628).
- tpm: tpm_try_transmit() refactor error flow (bnc#1012628).
- tpm: tpm_i2c_nuvoton: use correct command duration for TPM 2.x
  (bnc#1012628).
- spi: bcm2835: Unbreak the build of esoteric configs
  (bnc#1012628).
- MIPS: Only include mmzone.h when CONFIG_NEED_MULTIPLE_NODES=y
  (bnc#1012628).
- commit 5978cc8

-------------------------------------------------------------------
Tue Jan  8 09:38:29 CET 2019 - jslaby@suse.cz

- packet: validate address length if non-zero (nmap EINVAL
  failure).
- commit 34f009a

-------------------------------------------------------------------
Mon Jan  7 13:01:30 CET 2019 - mkubecek@suse.cz

- config: restore accidentally lost BPFILTER_UMH (ppc64, ppc64le, s390x)
- commit a56baa9

-------------------------------------------------------------------
Mon Jan  7 11:21:25 CET 2019 - mkubecek@suse.cz

- vfio_pci: Add local source directory as include.
- commit ea6d6e3

-------------------------------------------------------------------
Mon Jan  7 08:19:51 CET 2019 - mkubecek@suse.cz

- Update to 5.0-rc1
- Eliminated 1 patch
- ARM configs need update
- Config changes:
  - PM:
    - ENERGY_MODEL=y
  - Networking:
    - CAN_FLEXCAN=m
    - USB_NET_AQC111=m
    - QTNFMAC_PCIE=m
    - VIRT_WIFI=m
  - PCI:
    - PCI_MESON=n
  - SCSI:
    - SCSI_UFS_CDNS_PLATFORM=m
  - NVME:
    - NVME_TCP=m
    - NVME_TARGET_TCP=m
  - Graphics:
    - DRM_PANEL_OLIMEX_LCD_OLINUXINO=n
    - DRM_PANEL_SAMSUNG_S6D16D0=n
    - DRM_PANEL_TRULY_NT35597_WQXGA=n
    - TINYDRM_HX8357D=n
  - Sound:
    - SND_SOC_AMD_ACP3x=n
    - SND_SOC_INTEL_KBL_RT5660_MACH=m
    - SND_SOC_XILINX_I2S=n
    - SND_SOC_AK4118=n
  - Multimedia:
    - VIDEO_ASPEED=m
    - VIDEO_SECO_CEC=m
    - VIDEO_SECO_RC=y
  - I3C:
    - I3C=m
    - CDNS_I3C_MASTER=m
    - DW_I3C_MASTER=m
  - IIO:
    - AD7124=n
    - AD7949=n
    - TI_DAC7311=n
    - VCNL4035=n
    - SENSORS_RM3100_I2C=n
    - SENSORS_RM3100_SPI=n
    - MCP41010=m
  - PHY:
    - PHY_CADENCE_SIERRA=m
    - PHY_FSL_IMX8MQ_USB=m
  - misc drivers:
    - MTD_PHYSMAP_GPIO_ADDR=y
    - SPI_MXIC=n
    - MISC_ALCOR_PCI=m
    - RC_XBOX_DVD=m
    - PINCTRL_OCELOT=n
    - GPIO_CADENCE=m
    - SENSORS_OCC_P8_I2C=m
    - TQMX86_WDT=m
    - MMC_ALCOR=m
    - MMC_SDHCI_AM654=m
    - LEDS_TRIGGER_AUDIO=m
    - SERIO_OLPC_APSP=m
  - Security:
    - INTEGRITY_PLATFORM_KEYRING=y
    - IMA_ARCH_POLICY=y
  - Crypto:
    - CRYPTO_ADIANTUM=m
    - CRYPTO_STREEBOG=m
    - CRYPTO_STATS=n
  - Library:
    - RAID6_PQ_BENCHMARK=y (preserve current behaviour)
  - Testing:
    - TEST_OBJAGG=n
  - x86:
    - RESCTRL=y
    - HUAWEI_WMI=m
  - i386:
    - PVH=y
    - MTD_PHYSMAP_OF=m
  - ppc*:
    - PVPANIC=m
    - FB_LOGO_CENTER=n
    - FSI_OCC=m
    - DEBUG_VIRTUAL=n
    - SENSORS_OCC_P9_SBE=m
  - s390x:
    - PCCARD=n
    - RAPIDIO
    - other RapidIO options copy other architectures
    - DMADEVICES related options copy other architectures
  - */debug:
    - CRYPTO_STATS=y
    - TTY_PRINTK_LEVEL=6
- commit 6a4ceaa

-------------------------------------------------------------------
Mon Dec 24 01:34:19 CET 2018 - mkubecek@suse.cz

- Update to 4.20 final
- Eliminated 1 patch
- Refresh configs
- commit ba5c149

-------------------------------------------------------------------
Sat Dec 22 09:59:08 CET 2018 - jslaby@suse.cz

- Linux 4.19.12 (bnc#1012628).
- Btrfs: fix missing delayed iputs on unmount (bnc#1012628).
- nvmet-rdma: fix response use after free (bnc#1012628).
- nvme: validate controller state before rescheduling keep alive
  (bnc#1012628).
- i2c: uniphier-f: fix violation of tLOW requirement for Fast-mode
  (bnc#1012628).
- i2c: uniphier: fix violation of tLOW requirement for Fast-mode
  (bnc#1012628).
- i2c: scmi: Fix probe error on devices with an empty SMB0001
  ACPI device node (bnc#1012628).
- i2c: axxia: properly handle master timeout (bnc#1012628).
- mlxsw: spectrum_switchdev: Fix VLAN device deletion via ioctl
  (bnc#1012628).
- vhost/vsock: fix reset orphans race with close timeout
  (bnc#1012628).
- cifs: In Kconfig CONFIG_CIFS_POSIX needs depends on legacy
  (insecure cifs) (bnc#1012628).
- drm/ast: Fix connector leak during driver unload (bnc#1012628).
- acpi/nfit: Fix user-initiated ARS to be "ARS-long" rather than
  "ARS-short" (bnc#1012628).
- tools/testing/nvdimm: Align test resources to 128M
  (bnc#1012628).
- drm/amdgpu/vcn: Update vcn.cur_state during suspend
  (bnc#1012628).
- net: mvpp2: fix phylink handling of invalid PHY modes
  (bnc#1012628).
- net: mvpp2: fix detection of 10G SFP modules (bnc#1012628).
- thermal: armada: fix legacy validity test sense (bnc#1012628).
- ethernet: fman: fix wrong of_node_put() in probe function
  (bnc#1012628).
- ARM: 8816/1: dma-mapping: fix potential uninitialized return
  (bnc#1012628).
- ARM: 8815/1: V7M: align v7m_dma_inv_range() with v7 counterpart
  (bnc#1012628).
- ARM: 8814/1: mm: improve/fix ARM v7_dma_inv_range() unaligned
  address handling (bnc#1012628).
- bpf: check pending signals while verifying programs
  (bnc#1012628).
- net/mlx4_en: Fix build break when CONFIG_INET is off
  (bnc#1012628).
- mv88e6060: disable hardware level MAC learning (bnc#1012628).
- macvlan: return correct error value (bnc#1012628).
- libata: whitelist all SAMSUNG MZ7KM* solid-state disks
  (bnc#1012628).
- Input: omap-keypad - fix keyboard debounce configuration
  (bnc#1012628).
- Input: synaptics - enable SMBus for HP 15-ay000 (bnc#1012628).
- clk: mmp: Off by one in mmp_clk_add() (bnc#1012628).
- clk: mvebu: Off by one bugs in cp110_of_clk_get() (bnc#1012628).
- drm/amd/powerplay: issue pre-display settings for display
  change event (bnc#1012628).
- drm/msm: Fix error return checking (bnc#1012628).
- drm/msm: dpu: Fix "WARNING: invalid free of devm_ allocated
  data" (bnc#1012628).
- drm/msm: dpu: Don't set legacy plane->crtc pointer
  (bnc#1012628).
- drm/msm/hdmi: Enable HPD after HDMI IRQ is set up (bnc#1012628).
- ide: pmac: add of_node_put() (bnc#1012628).
- drivers/tty: add missing of_node_put() (bnc#1012628).
- drivers/sbus/char: add of_node_put() (bnc#1012628).
- sbus: char: add of_node_put() (bnc#1012628).
- SUNRPC: Fix a potential race in xprt_connect() (bnc#1012628).
- nfs: don't dirty kernel pages read by direct-io (bnc#1012628).
- liquidio: read sc->iq_no before release sc (bnc#1012628).
- bpf: Fix verifier log string check for bad alignment
  (bnc#1012628).
- bonding: fix 802.3ad state sent to partner when unbinding slave
  (bnc#1012628).
- net: aquantia: fix rx checksum offload bits (bnc#1012628).
- net: stmmac: Move debugfs init/exit to ->probe()/->remove()
  (bnc#1012628).
- ARC: io.h: Implement reads{x}()/writes{x}() (bnc#1012628).
- drm/amdgpu: wait for IB test on first device open (bnc#1012628).
- drm/ttm: fix LRU handling in ttm_buffer_object_transfer
  (bnc#1012628).
- drm/msm: Grab a vblank reference when waiting for commit_done
  (bnc#1012628).
- drm/msm/dsi: configure VCO rate for 10nm PLL driver
  (bnc#1012628).
- drm/msm: fix handling of cmdstream offset (bnc#1012628).
- drm/msm/gpu: Fix a couple memory leaks in debugfs (bnc#1012628).
- drm/msm: Fix task dump in gpu recovery (bnc#1012628).
- x86/earlyprintk/efi: Fix infinite loop on some screen widths
  (bnc#1012628).
- drm/amd/display: Fix 6x4K displays light-up on Vega20 (v2)
  (bnc#1012628).
- net: ethernet: ave: Replace NET_IP_ALIGN with AVE_FRAME_HEADROOM
  (bnc#1012628).
- tools/bpf: add addition type tests to test_btf (bnc#1012628).
- tools/bpf: fix two test_btf unit test cases (bnc#1012628).
- scsi: vmw_pscsi: Rearrange code to avoid multiple calls to
  free_irq during unload (bnc#1012628).
- scsi: libiscsi: Fix NULL pointer dereference in
  iscsi_eh_session_reset (bnc#1012628).
- i2c: rcar: check bus state before reinitializing (bnc#1012628).
- Input: hyper-v - fix wakeup from suspend-to-idle (bnc#1012628).
- mac80211_hwsim: fix module init error paths for netlink
  (bnc#1012628).
- IB/hfi1: Remove race conditions in user_sdma send path
  (bnc#1012628).
- locking/qspinlock, x86: Provide liveness guarantee
  (bnc#1012628).
- locking/qspinlock: Re-order code (bnc#1012628).
- commit c634493

-------------------------------------------------------------------
Fri Dec 21 20:24:59 CET 2018 - mkubecek@suse.cz

- rtlwifi: Fix leak of skb when processing C2H_BT_INFO
  (bsc#1116448).
- commit 9d82d20

-------------------------------------------------------------------
Thu Dec 20 17:42:36 CET 2018 - msuchanek@suse.de

- mm: add mm_pxd_folded checks to pgtable_bytes accounting
  functions (s390/mm: fix mis-accounting of pgtable_bytes).
- mm: introduce mm_[p4d|pud|pmd]_folded (s390/mm: fix
  mis-accounting of pgtable_bytes).
- mm: make the __PAGETABLE_PxD_FOLDED defines non-empty (s390/mm:
  fix mis-accounting of pgtable_bytes).
- commit c005ee0

-------------------------------------------------------------------
Thu Dec 20 10:45:14 CET 2018 - jslaby@suse.cz

- Linux 4.19.11 (bnc#1012628).
- sched/pelt: Fix warning and clean up IRQ PELT config
  (bnc#1012628).
- scsi: raid_attrs: fix unused variable warning (bnc#1012628).
- staging: olpc_dcon: add a missing dependency (bnc#1012628).
- slimbus: ngd: mark PM functions as __maybe_unused (bnc#1012628).
- i2c: aspeed: fix build warning (bnc#1012628).
- ARM: dts: qcom-apq8064-arrow-sd-600eval fix graph_endpoint
  warning (bnc#1012628).
- drm/msm: fix address space warning (bnc#1012628).
- pinctrl: sunxi: a83t: Fix IRQ offset typo for PH11
  (bnc#1012628).
- aio: fix spectre gadget in lookup_ioctx (bnc#1012628).
- scripts/spdxcheck.py: always open files in binary mode
  (bnc#1012628).
- fs/iomap.c: get/put the page in iomap_page_create/release()
  (bnc#1012628).
- userfaultfd: check VM_MAYWRITE was set after verifying the
  uffd is registered (bnc#1012628).
- arm64: dma-mapping: Fix FORCE_CONTIGUOUS buffer clearing
  (bnc#1012628).
- block/bio: Do not zero user pages (bnc#1012628).
- ovl: fix decode of dir file handle with multi lower layers
  (bnc#1012628).
- ovl: fix missing override creds in link of a metacopy upper
  (bnc#1012628).
- MMC: OMAP: fix broken MMC on OMAP15XX/OMAP5910/OMAP310
  (bnc#1012628).
- mmc: core: use mrq->sbc when sending CMD23 for RPMB
  (bnc#1012628).
- mmc: sdhci-omap: Fix DCRC error handling during tuning
  (bnc#1012628).
- mmc: sdhci: fix the timeout check window for clock and reset
  (bnc#1012628).
- fuse: continue to send FUSE_RELEASEDIR when FUSE_OPEN returns
  ENOSYS (bnc#1012628).
- ARM: mmp/mmp2: fix cpu_is_mmp2() on mmp2-dt (bnc#1012628).
- ARM: dts: bcm2837: Fix polarity of wifi reset GPIOs
  (bnc#1012628).
- dm thin: send event about thin-pool state change _after_
  making it (bnc#1012628).
- dm cache metadata: verify cache has blocks in
  blocks_are_clean_separate_dirty() (bnc#1012628).
- dm: call blk_queue_split() to impose device limits on bios
  (bnc#1012628).
- tracing: Fix memory leak in create_filter() (bnc#1012628).
- tracing: Fix memory leak in set_trigger_filter() (bnc#1012628).
- tracing: Fix memory leak of instance function hash filters
  (bnc#1012628).
- media: vb2: don't call __vb2_queue_cancel if vb2_start_streaming
  failed (bnc#1012628).
- powerpc/msi: Fix NULL pointer access in teardown code
  (bnc#1012628).
- powerpc: Look for "stdout-path" when setting up legacy consoles
  (bnc#1012628).
- drm/nouveau/kms: Fix memory leak in nv50_mstm_del()
  (bnc#1012628).
- drm/nouveau/kms/nv50-: also flush fb writes when rewinding
  push buffer (bnc#1012628).
- Revert "drm/rockchip: Allow driver to be shutdown on
  reboot/kexec" (bnc#1012628).
- drm/i915/gvt: Fix tiled memory decoding bug on BDW
  (bnc#1012628).
- drm/i915/execlists: Apply a full mb before execution for
  Braswell (bnc#1012628).
- drm/amdgpu/powerplay: Apply avfs cks-off voltages on VI
  (bnc#1012628).
- drm/amdkfd: add new vega10 pci ids (bnc#1012628).
- drm/amdgpu: add some additional vega10 pci ids (bnc#1012628).
- drm/amdgpu: update smu firmware images for VI variants (v2)
  (bnc#1012628).
- drm/amdgpu: update SMC firmware image for polaris10 variants
  (bnc#1012628).
- dm zoned: Fix target BIO completion handling (bnc#1012628).
- commit 096f733

-------------------------------------------------------------------
Mon Dec 17 10:15:52 CET 2018 - jslaby@suse.cz

- Linux 4.19.10 (bnc#1012628).
- tcp: lack of available data can also cause TSO defer
  (bnc#1012628).
- bpf: fix off-by-one error in adjust_subprog_starts
  (bnc#1012628).
- IB/hfi1: Fix an out-of-bounds access in get_hw_stats
  (bnc#1012628).
- ALSA: hda/realtek - Fix the mute LED regresion on Lenovo X1
  Carbon (bnc#1012628).
- ALSA: hda/realtek: Enable audio jacks of ASUS UX433FN/UX333FA
  with ALC294 (bnc#1012628).
- ALSA: hda/realtek: Enable audio jacks of ASUS UX533FD with
  ALC294 (bnc#1012628).
- ALSA: hda/realtek: ALC294 mic and headset-mode fixups for ASUS
  X542UN (bnc#1012628).
- ALSA: hda/realtek - Fixed headphone issue for ALC700
  (bnc#1012628).
- ALSA: fireface: fix reference to wrong register for clock
  configuration (bnc#1012628).
- dax: Check page->mapping isn't NULL (bnc#1012628).
- flexfiles: enforce per-mirror stateid only for v4 DSes
  (bnc#1012628).
- ocfs2: fix potential use after free (bnc#1012628).
- initramfs: clean old path before creating a hardlink
  (bnc#1012628).
- kernel/kcov.c: mark funcs in __sanitizer_cov_trace_pc() as
  notrace (bnc#1012628).
- proc: fixup map_files test on arm (bnc#1012628).
- debugobjects: avoid recursive calls with kmemleak (bnc#1012628).
- hfsplus: do not free node before using (bnc#1012628).
- hfs: do not free node before using (bnc#1012628).
- mm/page_alloc.c: fix calculation of pgdat->nr_zones
  (bnc#1012628).
- ocfs2: fix deadlock caused by ocfs2_defrag_extent()
  (bnc#1012628).
- ACPI/IORT: Fix iort_get_platform_device_domain() uninitialized
  pointer value (bnc#1012628).
- nvme-rdma: fix double freeing of async event data (bnc#1012628).
- nvme: flush namespace scanning work just before removing
  namespaces (bnc#1012628).
- nvme: warn when finding multi-port subsystems without
  multipathing enabled (bnc#1012628).
- fscache, cachefiles: remove redundant variable 'cache'
  (bnc#1012628).
- cachefiles: Explicitly cast enumerated type in put_object
  (bnc#1012628).
- fscache: fix race between enablement and dropping of object
  (bnc#1012628).
- afs: Fix validation/callback interaction (bnc#1012628).
- pstore/ram: Correctly calculate usable PRZ bytes (bnc#1012628).
- pvcalls-front: fixes incorrect error handling (bnc#1012628).
- Revert "xen/balloon: Mark unallocated host memory as UNUSABLE"
  (bnc#1012628).
- xen: xlate_mmu: add missing header to fix 'W=1' warning
  (bnc#1012628).
- drm/ast: fixed reading monitor EDID not stable issue
  (bnc#1012628).
- drm/amdgpu: Add delay after enable RLC ucode (bnc#1012628).
- net: hisilicon: remove unexpected free_netdev (bnc#1012628).
- ixgbe: recognize 1000BaseLX SFP modules as 1Gbps (bnc#1012628).
- igb: fix uninitialized variables (bnc#1012628).
- cachefiles: Fix page leak in cachefiles_read_backing_file
  while vmscan is active (bnc#1012628).
- fscache: Fix race in fscache_op_complete() due to split
  atomic_sub & read (bnc#1012628).
- cachefiles: Fix an assertion failure when trying to update a
  failed object (bnc#1012628).
- ALSA: usb-audio: Add vendor and product name for Dell WD19 Dock
  (bnc#1012628).
- netfilter: nf_tables: deactivate expressions in rule replecement
  routine (bnc#1012628).
- usb: gadget: u_ether: fix unsafe list iteration (bnc#1012628).
- net: thunderx: fix NULL pointer dereference in nic_remove
  (bnc#1012628).
- x86/kvm/vmx: fix old-style function declaration (bnc#1012628).
- KVM: x86: fix empty-body warnings (bnc#1012628).
- KVM: VMX: Update shared MSRs to be saved/restored on
  MSR_EFER.LMA changes (bnc#1012628).
- netfilter: nf_conncount: remove wrong condition check routine
  (bnc#1012628).
- netfilter: nat: fix double register in masquerade modules
  (bnc#1012628).
- netfilter: add missing error handling code for register
  functions (bnc#1012628).
- IB/mlx5: Fix page fault handling for MW (bnc#1012628).
- netfilter: ipv6: Preserve link scope traffic original oif
  (bnc#1012628).
- drm/meson: add support for 1080p25 mode (bnc#1012628).
- thunderbolt: Prevent root port runtime suspend during NVM
  upgrade (bnc#1012628).
- USB: omap_udc: fix rejection of out transfers when DMA is used
  (bnc#1012628).
- USB: omap_udc: fix USB gadget functionality on Palm Tungsten E
  (bnc#1012628).
- USB: omap_udc: fix omap_udc_start() on 15xx machines
  (bnc#1012628).
- USB: omap_udc: fix crashes on probe error and module removal
  (bnc#1012628).
- USB: omap_udc: use devm_request_irq() (bnc#1012628).
- ipvs: call ip_vs_dst_notifier earlier than ipv6_dev_notf
  (bnc#1012628).
- fsi: master-ast-cf: select GENERIC_ALLOCATOR (bnc#1012628).
- bpf: fix check of allowed specifiers in bpf_trace_printk
  (bnc#1012628).
- RDMA/hns: Bugfix pbl configuration for rereg mr (bnc#1012628).
- exportfs: do not read dentry after free (bnc#1012628).
- ASoC: omap-dmic: Add pm_qos handling to avoid overruns with
  CPU_IDLE (bnc#1012628).
- ASoC: omap-mcpdm: Add pm_qos handling to avoid under/overruns
  with CPU_IDLE (bnc#1012628).
- ASoC: omap-mcbsp: Fix latency value calculation for pm_qos
  (bnc#1012628).
- tools: bpftool: fix potential NULL pointer dereference in
  do_load (bnc#1012628).
- RDMA/rdmavt: Fix rvt_create_ah function signature (bnc#1012628).
- RDMA/bnxt_re: Avoid accessing the device structure after it
  is freed (bnc#1012628).
- RDMA/bnxt_re: Fix system hang when registration with L2 driver
  fails (bnc#1012628).
- RDMA/core: Add GIDs while changing MAC addr only for registered
  ndev (bnc#1012628).
- RDMA/mlx5: Fix fence type for IB_WR_LOCAL_INV WR (bnc#1012628).
- Btrfs: send, fix infinite loop due to directory rename
  dependencies (bnc#1012628).
- ARM: dts: at91: sama5d2: use the divided clock for SMC
  (bnc#1012628).
- phy: qcom-qusb2: Fix HSTX_TRIM tuning with fused value for
  SDM845 (bnc#1012628).
- phy: qcom-qusb2: Use HSTX_TRIM fused value as is (bnc#1012628).
- objtool: Fix segfault in .cold detection with
  -ffunction-sections (bnc#1012628).
- objtool: Fix double-free in .cold detection error path
  (bnc#1012628).
- ASoC: acpi: fix: continue searching when machine is ignored
  (bnc#1012628).
- PCI: imx6: Fix link training status detection in link up check
  (bnc#1012628).
- perf tools: Restore proper cwd on return from mnt namespace
  (bnc#1012628).
- hwmon: (w83795) temp4_type has writable permission
  (bnc#1012628).
- netfilter: xt_hashlimit: fix a possible memory leak in
  htable_create() (bnc#1012628).
- aio: fix failure to put the file pointer (bnc#1012628).
- bpf: allocate local storage buffers using GFP_ATOMIC
  (bnc#1012628).
- hwmon: (mlxreg-fan) Fix macros for tacho fault reading
  (bnc#1012628).
- spi: omap2-mcspi: Add missing suspend and resume calls
  (bnc#1012628).
- ASoC: dapm: Recalculate audio map forcely when card instantiated
  (bnc#1012628).
- ASoC: omap-abe-twl6040: Fix missing audio card caused by
  deferred probing (bnc#1012628).
- hwmon: (ina2xx) Fix current value calculation (bnc#1012628).
- s390/cpum_cf: Reject request for sampling in event
  initialization (bnc#1012628).
- ASoC: qcom: Set dai_link id to each dai_link (bnc#1012628).
- ASoC: Intel: Power down links before turning off display audio
  power (bnc#1012628).
- ASoC: wm_adsp: Fix dma-unsafe read of scratch registers
  (bnc#1012628).
- ASoC: rockchip: add missing slave_config setting for I2S
  (bnc#1012628).
- hwmon: (raspberrypi) Fix initial notify (bnc#1012628).
- hwmon (ina2xx) Fix NULL id pointer in probe() (bnc#1012628).
- s390/cio: Fix cleanup when unsupported IDA format is used
  (bnc#1012628).
- s390/cio: Fix cleanup of pfn_array alloc failure (bnc#1012628).
- netfilter: nf_tables: fix use-after-free when deleting compat
  expressions (bnc#1012628).
- netfilter: xt_RATEEST: remove netns exit routine (bnc#1012628).
- perf tools: Fix crash on synthesizing the unit (bnc#1012628).
- selftests: add script to stress-test nft packet path vs. control
  plane (bnc#1012628).
- netfilter: nf_tables: don't skip inactive chains during update
  (bnc#1012628).
- netfilter: nf_conncount: fix unexpected permanent node of list
  (bnc#1012628).
- netfilter: nf_conncount: fix list_del corruption in conn_free
  (bnc#1012628).
- netfilter: nf_conncount: use spin_lock_bh instead of spin_lock
  (bnc#1012628).
- sysv: return 'err' instead of 0 in __sysv_write_inode
  (bnc#1012628).
- arm64: dts: sdm845-mtp: Reserve reserved gpios (bnc#1012628).
- ASoC: sun8i-codec: fix crash on module removal (bnc#1012628).
- tools: bpftool: prevent infinite loop in get_fdinfo()
  (bnc#1012628).
- ARM: OMAP1: ams-delta: Fix possible use of uninitialized field
  (bnc#1012628).
- ARM: dts: am3517-som: Fix WL127x Wifi interrupt (bnc#1012628).
- ARM: dts: logicpd-somlv: Fix interrupt on mmc3_dat1
  (bnc#1012628).
- ARM: dts: LogicPD Torpedo: Fix mmc3_dat1 interrupt
  (bnc#1012628).
- ARM: dts: am3517: Fix pinmuxing for CD on MMC1 (bnc#1012628).
- staging: rtl8723bs: Fix the return value in case of error in
  'rtw_wx_read32()' (bnc#1012628).
- ASoC: qdsp6: q6afe-dai: Fix the dai widgets (bnc#1012628).
- ASoC: qdsp6: q6afe: Fix wrong MI2S SD line mask (bnc#1012628).
- ASoC: rsnd: fixup clock start checker (bnc#1012628).
- ARM: OMAP2+: prm44xx: Fix section annotation on
  omap44xx_prm_enable_io_wakeup (bnc#1012628).
- net: fix XPS static_key accounting (bnc#1012628).
- net: restore call to netdev_queue_numa_node_write when resetting
  XPS (bnc#1012628).
- sctp: update frag_point when stream_interleave is set
  (bnc#1012628).
- net: phy: sfp: correct store of detected link modes
  (bnc#1012628).
- virtio-net: keep vnet header zeroed after processing XDP
  (bnc#1012628).
- tun: forbid iface creation with rtnl ops (bnc#1012628).
- tcp: fix NULL ref in tail loss probe (bnc#1012628).
- tcp: Do not underestimate rwnd_limited (bnc#1012628).
- sctp: kfree_rcu asoc (bnc#1012628).
- rtnetlink: ndo_dflt_fdb_dump() only work for ARPHRD_ETHER
  devices (bnc#1012628).
- Revert "net/ibm/emac: wrong bit is used for STA control"
  (bnc#1012628).
- net: use skb_list_del_init() to remove from RX sublists
  (bnc#1012628).
- net: Prevent invalid access to skb->prev in __qdisc_drop_all
  (bnc#1012628).
- net: phy: don't allow __set_phy_supported to add unsupported
  modes (bnc#1012628).
- net/mlx4_en: Change min MTU size to ETH_MIN_MTU (bnc#1012628).
- net/mlx4_core: Correctly set PFC param if global pause is
  turned off (bnc#1012628).
- net: 8139cp: fix a BUG triggered by changing mtu with network
  traffic (bnc#1012628).
- ipv6: sr: properly initialize flowi6 prior passing to
  ip6_route_output (bnc#1012628).
- neighbour: Avoid writing before skb->head in neigh_hh_output()
  (bnc#1012628).
- ipv6: Check available headroom in ip6_xmit() even without
  options (bnc#1012628).
- ipv4: ipv6: netfilter: Adjust the frag mem limit when truesize
  changes (bnc#1012628).
- commit 9284d89

-------------------------------------------------------------------
Mon Dec 17 06:49:50 CET 2018 - mkubecek@suse.cz

- Update to 4.20-rc7
- Config changes:
  - ARM:
    - MEDIA_CONTROLLER_REQUEST_API=y
- commit 4731528

-------------------------------------------------------------------
Thu Dec 13 16:51:22 CET 2018 - jslaby@suse.cz

- Linux 4.19.9 (bnc#1012628).
- media: vicodec: lower minimum height to 360 (bnc#1012628).
- media: cec: check for non-OK/NACK conditions while claiming a LA
  (bnc#1012628).
- media: omap3isp: Unregister media device as first (bnc#1012628).
- media: ipu3-cio2: Unregister device nodes first, then release
  resources (bnc#1012628).
- iommu/vt-d: Fix NULL pointer dereference in prq_event_thread()
  (bnc#1012628).
- brcmutil: really fix decoding channel info for 160 MHz bandwidth
  (bnc#1012628).
- mt76: fix building without CONFIG_LEDS_CLASS (bnc#1012628).
- iommu/ipmmu-vmsa: Fix crash on early domain free (bnc#1012628).
- scsi: ufs: Fix hynix ufs bug with quirk on hi36xx SoC
  (bnc#1012628).
- can: ucan: remove set but not used variable 'udev'
  (bnc#1012628).
- can: rcar_can: Fix erroneous registration (bnc#1012628).
- test_firmware: fix error return getting clobbered (bnc#1012628).
- HID: input: Ignore battery reported by Symbol DS4308
  (bnc#1012628).
- batman-adv: Use explicit tvlv padding for ELP packets
  (bnc#1012628).
- batman-adv: Expand merged fragment buffer for full packet
  (bnc#1012628).
- amd/iommu: Fix Guest Virtual APIC Log Tail Address Register
  (bnc#1012628).
- bnx2x: Assign unique DMAE channel number for FW DMAE
  transactions (bnc#1012628).
- qed: Fix PTT leak in qed_drain() (bnc#1012628).
- qed: Fix overriding offload_tc by protocols without APP TLV
  (bnc#1012628).
- qed: Fix rdma_info structure allocation (bnc#1012628).
- qed: Fix reading wrong value in loop condition (bnc#1012628).
- usb: dwc2: pci: Fix an error code in probe (bnc#1012628).
- Revert "usb: gadget: ffs: Fix BUG when userland exits with
  submitted AIO transfers" (bnc#1012628).
- s390/ism: clear dmbe_mask bit before SMC IRQ handling
  (bnc#1012628).
- nvme-fc: resolve io failures during connect (bnc#1012628).
- bnxt_en: Fix filling time in bnxt_fill_coredump_record()
  (bnc#1012628).
- drm/amdgpu: Add amdgpu "max bpc" connector property (v2)
  (bnc#1012628).
- drm/amd/display: Support amdgpu "max bpc" connector property
  (v2) (bnc#1012628).
- net/mlx4_core: Zero out lkey field in SW2HW_MPT fw command
  (bnc#1012628).
- net/mlx4_core: Fix uninitialized variable compilation warning
  (bnc#1012628).
- net/mlx4: Fix UBSAN warning of signed integer overflow
  (bnc#1012628).
- drivers/net/ethernet/qlogic/qed/qed_rdma.h: fix typo
  (bnc#1012628).
- gpio: pxa: fix legacy non pinctrl aware builds again
  (bnc#1012628).
- gpio: mockup: fix indicated direction (bnc#1012628).
- tc-testing: tdc.py: ignore errors when decoding stdout/stderr
  (bnc#1012628).
- tc-testing: tdc.py: Guard against lack of returncode in executed
  command (bnc#1012628).
- mtd: rawnand: qcom: Namespace prefix some commands
  (bnc#1012628).
- cpufreq: ti-cpufreq: Only register platform_device when
  supported (bnc#1012628).
- Revert "HID: uhid: use strlcpy() instead of strncpy()"
  (bnc#1012628).
- HID: multitouch: Add pointstick support for Cirque Touchpad
  (bnc#1012628).
- mtd: spi-nor: Fix Cadence QSPI page fault kernel panic
  (bnc#1012628).
- net: ena: fix crash during failed resume from hibernation
  (bnc#1012628).
- NFSv4: Fix a NFSv4 state manager deadlock (bnc#1012628).
- qed: Fix bitmap_weight() check (bnc#1012628).
- qed: Fix QM getters to always return a valid pq (bnc#1012628).
- net/ibmnvic: Fix deadlock problem in reset (bnc#1012628).
- riscv: fix warning in arch/riscv/include/asm/module.h
  (bnc#1012628).
- net: faraday: ftmac100: remove netif_running(netdev) check
  before disabling interrupts (bnc#1012628).
- iommu/vt-d: Use memunmap to free memremap (bnc#1012628).
- NFSv4.2 copy do not allocate memory under the lock
  (bnc#1012628).
- flexfiles: use per-mirror specified stateid for IO
  (bnc#1012628).
- ibmvnic: Fix RX queue buffer cleanup (bnc#1012628).
- ibmvnic: Update driver queues after change in ring size support
  (bnc#1012628).
- team: no need to do team_notify_peers or team_mcast_rejoin
  when disabling port (bnc#1012628).
- net: amd: add missing of_node_put() (bnc#1012628).
- usb: quirk: add no-LPM quirk on SanDisk Ultra Flair device
  (bnc#1012628).
- usb: appledisplay: Add 27" Apple Cinema Display (bnc#1012628).
- USB: check usb_get_extra_descriptor for proper size
  (bnc#1012628).
- USB: serial: console: fix reported terminal settings
  (bnc#1012628).
- ALSA: usb-audio: Add SMSL D1 to quirks for native DSD support
  (bnc#1012628).
- ALSA: hda: Add support for AMD Stoney Ridge (bnc#1012628).
- ALSA: pcm: Fix starvation on down_write_nonblock()
  (bnc#1012628).
- ALSA: pcm: Call snd_pcm_unlink() conditionally at closing
  (bnc#1012628).
- ALSA: pcm: Fix interval evaluation with openmin/max
  (bnc#1012628).
- ALSA: hda/realtek - Fix speaker output regression on Thinkpad
  T570 (bnc#1012628).
- ALSA: hda/realtek: ALC286 mic and headset-mode fixups for Acer
  Aspire U27-880 (bnc#1012628).
- ALSA: hda/realtek - Add support for Acer Aspire C24-860 headset
  mic (bnc#1012628).
- ALSA: hda/realtek: Fix mic issue on Acer AIO Veriton Z4660G
  (bnc#1012628).
- ALSA: hda/realtek: Fix mic issue on Acer AIO Veriton
  Z4860G/Z6860G (bnc#1012628).
- media: gspca: fix frame overflow error (bnc#1012628).
- media: vicodec: fix memchr() kernel oops (bnc#1012628).
- Revert "mfd: cros_ec: Use devm_kzalloc for private data"
  (bnc#1012628).
- parisc: Enable -ffunction-sections for modules on 32-bit kernel
  (bnc#1012628).
- virtio/s390: avoid race on vcdev->config (bnc#1012628).
- virtio/s390: fix race in ccw_io_helper() (bnc#1012628).
- vhost/vsock: fix use-after-free in network stack callers
  (bnc#1012628).
- arm64: hibernate: Avoid sending cross-calling with interrupts
  disabled (bnc#1012628).
- SUNRPC: Fix leak of krb5p encode pages (bnc#1012628).
- dmaengine: dw: Fix FIFO size for Intel Merrifield (bnc#1012628).
- Revert "dmaengine: imx-sdma: Use GFP_NOWAIT for dma allocations"
  (bnc#1012628).
- Revert "dmaengine: imx-sdma: alloclate bd memory from dma pool"
  (bnc#1012628).
- dmaengine: imx-sdma: implement channel termination via worker
  (bnc#1012628).
- dmaengine: imx-sdma: use GFP_NOWAIT for dma descriptor
  allocations (bnc#1012628).
- dmaengine: cppi41: delete channel from pending list when stop
  channel (bnc#1012628).
- ARM: 8806/1: kprobes: Fix false positive with FORTIFY_SOURCE
  (bnc#1012628).
- xhci: workaround CSS timeout on AMD SNPS 3.0 xHC (bnc#1012628).
- xhci: Prevent U1/U2 link pm states if exit latency is too long
  (bnc#1012628).
- arm64: dts: rockchip: remove vdd_log from rock960 to fix a
  stability issues (bnc#1012628).
- Revert "x86/e820: put !E820_TYPE_RAM regions into
  memblock.reserved" (bnc#1012628).
- cifs: Fix separator when building path from dentry
  (bnc#1012628).
- staging: rtl8712: Fix possible buffer overrun (bnc#1012628).
- Revert commit ef9209b642f "staging: rtl8723bs: Fix indenting
  errors and an off-by-one mistake in core/rtw_mlme_ext.c"
  (bnc#1012628).
- crypto: do not free algorithm before using (bnc#1012628).
- drm/amdgpu: update mc firmware image for polaris12 variants
  (bnc#1012628).
- drm/lease: Send a distinct uevent (bnc#1012628).
- drm/msm: Move fence put to where failure occurs (bnc#1012628).
- drm/amdgpu/gmc8: update MC firmware for polaris (bnc#1012628).
- drm/amdgpu/gmc8: always load MC firmware in the driver
  (bnc#1012628).
- drm/i915: Downgrade Gen9 Plane WM latency error (bnc#1012628).
- kprobes/x86: Fix instruction patching corruption when copying
  more than one RIP-relative instruction (bnc#1012628).
- x86/efi: Allocate e820 buffer before calling
  efi_exit_boot_service (bnc#1012628).
- Drivers: hv: vmbus: Offload the handling of channels to two
  workqueues (bnc#1012628).
- tty: serial: 8250_mtk: always resume the device in probe
  (bnc#1012628).
- tty: do not set TTY_IO_ERROR flag if console port (bnc#1012628).
- gnss: sirf: fix activation retry handling (bnc#1012628).
- kgdboc: fix KASAN global-out-of-bounds bug in
  param_set_kgdboc_var() (bnc#1012628).
- libnvdimm, pfn: Pad pfn namespaces relative to other regions
  (bnc#1012628).
- cfg80211: Fix busy loop regression in ieee80211_ie_split_ric()
  (bnc#1012628).
- mac80211_hwsim: Timer should be initialized before device
  registered (bnc#1012628).
- mac80211: fix GFP_KERNEL under tasklet context (bnc#1012628).
- mac80211: Clear beacon_int in ieee80211_do_stop (bnc#1012628).
- mac80211: ignore tx status for PS stations in
  ieee80211_tx_status_ext (bnc#1012628).
- mac80211: fix reordering of buffered broadcast packets
  (bnc#1012628).
- mac80211: ignore NullFunc frames in the duplicate detection
  (bnc#1012628).
- HID: quirks: fix RetroUSB.com devices (bnc#1012628).
- Update config files.
- commit 2f28da6

-------------------------------------------------------------------
Mon Dec 10 19:38:45 CET 2018 - afaerber@suse.de

- config: arm: Enable EFI support (boo#1104833)
- commit 7050650

-------------------------------------------------------------------
Mon Dec 10 17:25:25 CET 2018 - afaerber@suse.de

- config: armv7hl: Update to 4.20-rc5
- commit f01387b

-------------------------------------------------------------------
Mon Dec 10 08:41:00 CET 2018 - jslaby@suse.cz

- Delete
  patches.suse/blk-mq-fix-corruption-with-direct-issue.patch.
  It is in 4.20-rc6 as ffe81d45322c but was partially reverted by
  c616cbee97ae, so this patch still applies cleanly, but is unwanted.
  Drop it.
- commit 7670339

-------------------------------------------------------------------
Mon Dec 10 08:23:20 CET 2018 - jslaby@suse.cz

- Refresh
  patches.rpmify/x86-build-Fix-compiler-support-check-for-CONFIG_RETP.patch.
  Update upstream status.
- commit ceaabb8

-------------------------------------------------------------------
Mon Dec 10 07:05:25 CET 2018 - mkubecek@suse.cz

- Update to 4.20-rc6
- Eliminated 1 patch
- Refresh configs
- commit 93f10c3

-------------------------------------------------------------------
Sun Dec  9 20:54:03 CET 2018 - jslaby@suse.cz

- Linux 4.19.8 (bnc#1012628).
- blk-mq: punt failed direct issue to dispatch list (bnc#1012628).
- tipc: use destination length for copy string (bnc#1012628).
- arc: [devboards] Add support of NFSv3 ACL (bnc#1012628).
- ARC: change defconfig defaults to ARCv2 (bnc#1012628).
- btrfs: tree-checker: Don't check max block group size as
  current max chunk size limit is unreliable (bnc#1012628).
- Input: elan_i2c - add support for ELAN0621 touchpad
  (bnc#1012628).
- Input: elan_i2c - add ACPI ID for Lenovo IdeaPad 330-15ARR
  (bnc#1012628).
- Input: elan_i2c - add ELAN0620 to the ACPI table (bnc#1012628).
- Input: cros_ec_keyb - fix button/switch capability reports
  (bnc#1012628).
- Input: matrix_keypad - check for errors from of_get_named_gpio()
  (bnc#1012628).
- Input: synaptics - add PNP ID for ThinkPad P50 to SMBus
  (bnc#1012628).
- Input: xpad - quirk all PDP Xbox One gamepads (bnc#1012628).
- scsi: lpfc: fix block guard enablement on SLI3 adapters
  (bnc#1012628).
- i40e: Fix deletion of MAC filters (bnc#1012628).
- selinux: add support for RTM_NEWCHAIN, RTM_DELCHAIN, and
  RTM_GETCHAIN (bnc#1012628).
- svm: Add mutex_lock to protect apic_access_page_done on AMD
  systems (bnc#1012628).
- kgdboc: Fix warning with module build (bnc#1012628).
- kgdboc: Fix restrict error (bnc#1012628).
- userfaultfd: shmem: UFFDIO_COPY: set the page dirty if VM_WRITE
  is not set (bnc#1012628).
- userfaultfd: shmem: add i_size checks (bnc#1012628).
- userfaultfd: shmem: allocate anonymous memory for MAP_PRIVATE
  shmem (bnc#1012628).
- userfaultfd: use ENOENT instead of EFAULT if the atomic copy
  user fails (bnc#1012628).
- drm/meson: Fix OOB memory accesses in meson_viu_set_osd_lut()
  (bnc#1012628).
- drm/meson: Enable fast_io in meson_dw_hdmi_regmap_config
  (bnc#1012628).
- drm/meson: Fixes for drm_crtc_vblank_on/off support
  (bnc#1012628).
- drm: set is_master to 0 upon drm_new_set_master() failure
  (bnc#1012628).
- drm/amd/dm: Don't forget to attach MST encoders (bnc#1012628).
- drm/ast: Fix incorrect free on ioregs (bnc#1012628).
- tracing/fgraph: Fix set_graph_function from showing interrupts
  (bnc#1012628).
- IB/mlx5: Avoid load failure due to unknown link width
  (bnc#1012628).
- mips: fix mips_get_syscall_arg o32 check (bnc#1012628).
- MIPS: ralink: Fix mt7620 nd_sd pinmux (bnc#1012628).
- tracepoint: Use __idx instead of idx in DO_TRACE macro to make
  it unique (bnc#1012628).
- sched, trace: Fix prev_state output in sched_switch tracepoint
  (bnc#1012628).
- arm64: ftrace: Fix to enable syscall events on arm64
  (bnc#1012628).
- mtd: nand: Fix memory allocation in nanddev_bbt_init()
  (bnc#1012628).
- uprobes: Fix handle_swbp() vs. unregister() + register()
  race once more (bnc#1012628).
- iser: set sector for ambiguous mr status errors (bnc#1012628).
- unifdef: use memcpy instead of strncpy (bnc#1012628).
- test_hexdump: use memcpy instead of strncpy (bnc#1012628).
- blk-mq: fix corruption with direct issue (bnc#1012628).
- Delete
  patches.suse/blk-mq-fix-corruption-with-direct-issue.patch.
- commit 9cae63f

-------------------------------------------------------------------
Sat Dec  8 00:44:22 CET 2018 - msuchanek@suse.de

- Include modules.fips in kernel-binary as well as kernel-binary-base
  (FATE#323247).
- commit e42315d

-------------------------------------------------------------------
Fri Dec  7 11:43:38 CET 2018 - jslaby@suse.cz

- x86/build: Fix compiler support check for CONFIG_RETPOLINE
  (KMP build).
- commit fb5fd39

-------------------------------------------------------------------
Wed Dec  5 22:36:16 CET 2018 - mkubecek@suse.cz

- blk-mq: fix corruption with direct issue (bko#201685).
- commit 8970eff

-------------------------------------------------------------------
Wed Dec  5 20:39:04 CET 2018 - jslaby@suse.cz

- Linux 4.19.7 (bnc#1012628).
- mm/huge_memory: rename freeze_page() to unmap_page()
  (bnc#1012628).
- mm/huge_memory: splitting set mapping+index before unfreeze
  (bnc#1012628).
- mm/huge_memory: fix lockdep complaint on 32-bit i_size_read()
  (bnc#1012628).
- mm/khugepaged: collapse_shmem() stop if punched or truncated
  (bnc#1012628).
- mm/khugepaged: fix crashes due to misaccounted holes
  (bnc#1012628).
- mm/khugepaged: collapse_shmem() remember to clear holes
  (bnc#1012628).
- mm/khugepaged: minor reorderings in collapse_shmem()
  (bnc#1012628).
- mm/khugepaged: collapse_shmem() without freezing new_page
  (bnc#1012628).
- mm/khugepaged: collapse_shmem() do not crash on Compound
  (bnc#1012628).
- lan743x: Enable driver to work with LAN7431 (bnc#1012628).
- lan743x: fix return value for lan743x_tx_napi_poll
  (bnc#1012628).
- net: don't keep lonely packets forever in the gro hash
  (bnc#1012628).
- net: gemini: Fix copy/paste error (bnc#1012628).
- net: thunderx: set tso_hdrs pointer to NULL in
  nicvf_free_snd_queue (bnc#1012628).
- packet: copy user buffers before orphan or clone (bnc#1012628).
- rapidio/rionet: do not free skb before reading its length
  (bnc#1012628).
- s390/qeth: fix length check in SNMP processing (bnc#1012628).
- usbnet: ipheth: fix potential recvmsg bug and recvmsg bug 2
  (bnc#1012628).
- net: thunderx: set xdp_prog to NULL if bpf_prog_add fails
  (bnc#1012628).
- net: skb_scrub_packet(): Scrub offload_fwd_mark (bnc#1012628).
- virtio-net: disable guest csum during XDP set (bnc#1012628).
- virtio-net: fail XDP set if guest csum is negotiated
  (bnc#1012628).
- net/dim: Update DIM start sample after each DIM iteration
  (bnc#1012628).
- tcp: defer SACK compression after DupThresh (bnc#1012628).
- net: phy: add workaround for issue where PHY driver doesn't
  bind to the device (bnc#1012628).
- tipc: fix lockdep warning during node delete (bnc#1012628).
- x86/speculation: Enable cross-hyperthread spectre v2 STIBP
  mitigation (bnc#1012628).
- x86/speculation: Apply IBPB more strictly to avoid cross-process
  data leak (bnc#1012628).
- x86/speculation: Propagate information about RSB filling
  mitigation to sysfs (bnc#1012628).
- x86/speculation: Add RETPOLINE_AMD support to the inline asm
  CALL_NOSPEC variant (bnc#1012628).
- x86/retpoline: Make CONFIG_RETPOLINE depend on compiler support
  (bnc#1012628).
- x86/retpoline: Remove minimal retpoline support (bnc#1012628).
- x86/speculation: Update the TIF_SSBD comment (bnc#1012628).
- x86/speculation: Clean up spectre_v2_parse_cmdline()
  (bnc#1012628).
- x86/speculation: Remove unnecessary ret variable in
  cpu_show_common() (bnc#1012628).
- x86/speculation: Move STIPB/IBPB string conditionals out of
  cpu_show_common() (bnc#1012628).
- x86/speculation: Disable STIBP when enhanced IBRS is in use
  (bnc#1012628).
- x86/speculation: Rename SSBD update functions (bnc#1012628).
- x86/speculation: Reorganize speculation control MSRs update
  (bnc#1012628).
- sched/smt: Make sched_smt_present track topology (bnc#1012628).
- x86/Kconfig: Select SCHED_SMT if SMP enabled (bnc#1012628).
- sched/smt: Expose sched_smt_present static key (bnc#1012628).
- x86/speculation: Rework SMT state change (bnc#1012628).
- x86/l1tf: Show actual SMT state (bnc#1012628).
- x86/speculation: Reorder the spec_v2 code (bnc#1012628).
- x86/speculation: Mark string arrays const correctly
  (bnc#1012628).
- x86/speculataion: Mark command line parser data __initdata
  (bnc#1012628).
- x86/speculation: Unify conditional spectre v2 print functions
  (bnc#1012628).
- x86/speculation: Add command line control for indirect branch
  speculation (bnc#1012628).
- x86/speculation: Prepare for per task indirect branch
  speculation control (bnc#1012628).
- x86/process: Consolidate and simplify switch_to_xtra() code
  (bnc#1012628).
- x86/speculation: Avoid __switch_to_xtra() calls (bnc#1012628).
- x86/speculation: Prepare for conditional IBPB in switch_mm()
  (bnc#1012628).
- ptrace: Remove unused ptrace_may_access_sched() and MODE_IBRS
  (bnc#1012628).
- x86/speculation: Split out TIF update (bnc#1012628).
- x86/speculation: Prevent stale SPEC_CTRL msr content
  (bnc#1012628).
- x86/speculation: Prepare arch_smt_update() for PRCTL mode
  (bnc#1012628).
- x86/speculation: Add prctl() control for indirect branch
  speculation (bnc#1012628).
- x86/speculation: Enable prctl mode for spectre_v2_user
  (bnc#1012628).
- x86/speculation: Add seccomp Spectre v2 user space protection
  mode (bnc#1012628).
- x86/speculation: Provide IBPB always command line options
  (bnc#1012628).
- userfaultfd: shmem/hugetlbfs: only allow to register VM_MAYWRITE
  vmas (bnc#1012628).
- kvm: mmu: Fix race in emulated page table writes (bnc#1012628).
- kvm: svm: Ensure an IBPB on all affected CPUs when freeing a
  vmcb (bnc#1012628).
- KVM: nVMX/nSVM: Fix bug which sets vcpu->arch.tsc_offset to
  L1 tsc_offset (bnc#1012628).
- KVM: x86: Fix kernel info-leak in KVM_HC_CLOCK_PAIRING hypercall
  (bnc#1012628).
- KVM: LAPIC: Fix pv ipis use-before-initialization (bnc#1012628).
- KVM: X86: Fix scan ioapic use-before-initialization
  (bnc#1012628).
- KVM: VMX: re-add ple_gap module parameter (bnc#1012628).
- xtensa: enable coprocessors that are being flushed
  (bnc#1012628).
- xtensa: fix coprocessor context offset definitions
  (bnc#1012628).
- xtensa: fix coprocessor part of ptrace_{get,set}xregs
  (bnc#1012628).
- udf: Allow mounting volumes with incorrect identification
  strings (bnc#1012628).
- btrfs: Always try all copies when reading extent buffers
  (bnc#1012628).
- Btrfs: ensure path name is null terminated at
  btrfs_control_ioctl (bnc#1012628).
- Btrfs: fix rare chances for data loss when doing a fast fsync
  (bnc#1012628).
- Btrfs: fix race between enabling quotas and subvolume creation
  (bnc#1012628).
- btrfs: relocation: set trans to be NULL after ending transaction
  (bnc#1012628).
- PCI: layerscape: Fix wrong invocation of outbound window
  disable accessor (bnc#1012628).
- PCI: dwc: Fix MSI-X EP framework address calculation bug
  (bnc#1012628).
- PCI: Fix incorrect value returned from pcie_get_speed_cap()
  (bnc#1012628).
- arm64: dts: rockchip: Fix PCIe reset polarity for
  rk3399-puma-haikou (bnc#1012628).
- x86/MCE/AMD: Fix the thresholding machinery initialization order
  (bnc#1012628).
- x86/fpu: Disable bottom halves while loading FPU registers
  (bnc#1012628).
- perf/x86/intel: Move branch tracing setup to the Intel-specific
  source file (bnc#1012628).
- perf/x86/intel: Add generic branch tracing check to
  intel_pmu_has_bts() (bnc#1012628).
- perf/x86/intel: Disallow precise_ip on BTS events (bnc#1012628).
- fs: fix lost error code in dio_complete (bnc#1012628).
- ALSA: wss: Fix invalid snd_free_pages() at error path
  (bnc#1012628).
- ALSA: ac97: Fix incorrect bit shift at AC97-SPSA control write
  (bnc#1012628).
- ALSA: control: Fix race between adding and removing a user
  element (bnc#1012628).
- ALSA: sparc: Fix invalid snd_free_pages() at error path
  (bnc#1012628).
- ALSA: hda: Add ASRock N68C-S UCC the power_save blacklist
  (bnc#1012628).
- ALSA: hda/realtek - Support ALC300 (bnc#1012628).
- ALSA: hda/realtek - fix headset mic detection for MSI MS-B171
  (bnc#1012628).
- ALSA: hda/realtek - fix the pop noise on headphone for lenovo
  laptops (bnc#1012628).
- ALSA: hda/realtek - Add auto-mute quirk for HP Spectre x360
  laptop (bnc#1012628).
- function_graph: Create function_graph_enter() to consolidate
  architecture code (bnc#1012628).
- ARM: function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- microblaze: function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- x86/function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- nds32: function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- powerpc/function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- sh/function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- sparc/function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- parisc: function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- riscv/function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- s390/function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- arm64: function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- MIPS: function_graph: Simplify with function_graph_enter()
  (bnc#1012628).
- function_graph: Make ftrace_push_return_trace() static
  (bnc#1012628).
- function_graph: Use new curr_ret_depth to manage depth instead
  of curr_ret_stack (bnc#1012628).
- function_graph: Have profiler use curr_ret_stack and not depth
  (bnc#1012628).
- function_graph: Move return callback before update of
  curr_ret_stack (bnc#1012628).
- function_graph: Reverse the order of pushing the ret_stack
  and the callback (bnc#1012628).
- binder: fix race that allows malicious free of live buffer
  (bnc#1012628).
- ext2: initialize opts.s_mount_opt as zero before using it
  (bnc#1012628).
- ext2: fix potential use after free (bnc#1012628).
- ASoC: intel: cht_bsw_max98090_ti: Add quirk for boards using
  pmc_plt_clk_0 (bnc#1012628).
- ASoC: pcm186x: Fix device reset-registers trigger value
  (bnc#1012628).
- ARM: dts: rockchip: Remove @0 from the veyron memory node
  (bnc#1012628).
- dmaengine: at_hdmac: fix memory leak in at_dma_xlate()
  (bnc#1012628).
- dmaengine: at_hdmac: fix module unloading (bnc#1012628).
- staging: most: use format specifier "%s" in snprintf
  (bnc#1012628).
- staging: vchiq_arm: fix compat VCHIQ_IOC_AWAIT_COMPLETION
  (bnc#1012628).
- staging: mt7621-dma: fix potentially dereferencing uninitialized
  'tx_desc' (bnc#1012628).
- staging: mt7621-pinctrl: fix uninitialized variable ngroups
  (bnc#1012628).
- staging: rtl8723bs: Fix incorrect sense of ether_addr_equal
  (bnc#1012628).
- staging: rtl8723bs: Add missing return for
  cfg80211_rtw_get_station (bnc#1012628).
- USB: usb-storage: Add new IDs to ums-realtek (bnc#1012628).
- usb: core: quirks: add RESET_RESUME quirk for Cherry G230
  Stream series (bnc#1012628).
- Revert "usb: dwc3: gadget: skip Set/Clear Halt when invalid"
  (bnc#1012628).
- iio/hid-sensors: Fix IIO_CHAN_INFO_RAW returning wrong values
  for signed numbers (bnc#1012628).
- iio:st_magn: Fix enable device after trigger (bnc#1012628).
- lib/test_kmod.c: fix rmmod double free (bnc#1012628).
- mm: cleancache: fix corruption on missed inode invalidation
  (bnc#1012628).
- mm: use swp_offset as key in shmem_replace_page() (bnc#1012628).
- Drivers: hv: vmbus: check the creation_status in
  vmbus_establish_gpadl() (bnc#1012628).
- misc: mic/scif: fix copy-paste error in
  scif_create_remote_lookup (bnc#1012628).
- Refresh
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Refresh
  patches.suse/0002-x86-speculation-Add-inlines-to-control-Indirect-Bran.patch.
- commit 745e582

-------------------------------------------------------------------
Wed Dec  5 20:31:12 CET 2018 - jslaby@suse.cz

- blk-mq: fix corruption with direct issue (ext4 corruption).
- commit 34177d9

-------------------------------------------------------------------
Tue Dec  4 13:58:55 CET 2018 - jroedel@suse.de

- blacklist.conf: Blacklist MAINTAINERS file
- commit c4b3c90

-------------------------------------------------------------------
Mon Dec  3 21:24:59 CET 2018 - tiwai@suse.de

- ALSA: usb-audio: Fix UAF decrement if card has no live
  interfaces in card.c (CVE-2018-19824,bsc#1118152).
- commit 8ad46ce

-------------------------------------------------------------------
Mon Dec  3 14:26:19 CET 2018 - afaerber@suse.de

- config: armv6hl: Update to 4.20-rc5
- commit c85b385

-------------------------------------------------------------------
Mon Dec  3 08:07:45 CET 2018 - guillaume.gardet@free.fr

- config: armv7hl: Build some options as modules (boo#1104833)
  Enable HISI_THERMAL=m while at it.
  (cherry picked from commit c9b9dd67316b831b4cddb2fb439c96767d6cee14)
- config: armv7hl: Build some options as modules (boo#1104833)
  Enable HISI_THERMAL=m while at it.
- commit f931328

-------------------------------------------------------------------
Mon Dec  3 08:07:44 CET 2018 - guillaume.gardet@free.fr

- config: arm: Update to 4.19.5
- commit f7aa38e

-------------------------------------------------------------------
Mon Dec  3 07:27:25 CET 2018 - mkubecek@suse.cz

- Update to 4.20-rc5
- Config changes:
  - General:
    - PSI_DEFAULT_DISABLED=y
  - Sound:
    - SND_SOC_INTEL_SKYLAKE_HDAUDIO_CODEC=y
  - ARM:
    - ARM64_ERRATUM_1286807=y
- commit 2ccaf30

-------------------------------------------------------------------
Sun Dec  2 09:32:56 CET 2018 - jslaby@suse.cz

- Linux 4.19.6 (bnc#1012628).
- HID: steam: remove input device when a hid client is running
  (bnc#1012628).
- efi/libstub: arm: support building with clang (bnc#1012628).
- usb: core: Fix hub port connection events lost (bnc#1012628).
- usb: dwc3: gadget: fix ISOC TRB type on unaligned transfers
  (bnc#1012628).
- usb: dwc3: gadget: Properly check last unaligned/zero chain TRB
  (bnc#1012628).
- usb: dwc3: core: Clean up ULPI device (bnc#1012628).
- usb: dwc3: Fix NULL pointer exception in dwc3_pci_remove()
  (bnc#1012628).
- xhci: Fix leaking USB3 shared_hcd at xhci removal (bnc#1012628).
- xhci: handle port status events for removed USB3 hcd
  (bnc#1012628).
- xhci: Add check for invalid byte size error when UAS devices
  are connected (bnc#1012628).
- usb: xhci: fix uninitialized completion when USB3 port got
  wrong status (bnc#1012628).
- usb: xhci: fix timeout for transition from RExit to U0
  (bnc#1012628).
- xhci: Add quirk to workaround the errata seen on Cavium
  Thunder-X2 Soc (bnc#1012628).
- usb: xhci: Prevent bus suspend if a port connect change or
  polling state is detected (bnc#1012628).
- ALSA: oss: Use kvzalloc() for local buffer allocations
  (bnc#1012628).
- MAINTAINERS: Add Sasha as a stable branch maintainer
  (bnc#1012628).
- Documentation/security-bugs: Clarify treatment of embargoed
  information (bnc#1012628).
- Documentation/security-bugs: Postpone fix publication in
  exceptional cases (bnc#1012628).
- mmc: sdhci-pci: Try "cd" for card-detect lookup before using
  NULL (bnc#1012628).
- mmc: sdhci-pci: Workaround GLK firmware failing to restore
  the tuning value (bnc#1012628).
- gpio: don't free unallocated ida on gpiochip_add_data_with_key()
  error path (bnc#1012628).
- iwlwifi: fix wrong WGDS_WIFI_DATA_SIZE (bnc#1012628).
- iwlwifi: mvm: support sta_statistics() even on older firmware
  (bnc#1012628).
- iwlwifi: mvm: fix regulatory domain update when the firmware
  starts (bnc#1012628).
- iwlwifi: mvm: don't use SAR Geo if basic SAR is not used
  (bnc#1012628).
- brcmfmac: fix reporting support for 160 MHz channels
  (bnc#1012628).
- opp: ti-opp-supply: Dynamically update u_volt_min (bnc#1012628).
- opp: ti-opp-supply: Correct the supply in
  _get_optimal_vdd_voltage call (bnc#1012628).
- tools/power/cpupower: fix compilation with STATIC=true
  (bnc#1012628).
- v9fs_dir_readdir: fix double-free on p9stat_read error
  (bnc#1012628).
- selinux: Add __GFP_NOWARN to allocation at str_read()
  (bnc#1012628).
- Input: synaptics - avoid using uninitialized variable when
  probing (bnc#1012628).
- bfs: add sanity check at bfs_fill_super() (bnc#1012628).
- sctp: clear the transport of some out_chunk_list chunks in
  sctp_assoc_rm_peer (bnc#1012628).
- gfs2: Don't leave s_fs_info pointing to freed memory in init_sbd
  (bnc#1012628).
- llc: do not use sk_eat_skb() (bnc#1012628).
- mm: don't warn about large allocations for slab (bnc#1012628).
- mm/memory.c: recheck page table entry with page table lock held
  (bnc#1012628).
- tcp: do not release socket ownership in tcp_close()
  (bnc#1012628).
- drm/fb-helper: Blacklist writeback when adding connectors to
  fbdev (bnc#1012628).
- drm/vc4: Set ->legacy_cursor_update to false when doing
  non-async updates (bnc#1012628).
- drm/amdgpu: Fix oops when pp_funcs->switch_power_profile is
  unset (bnc#1012628).
- drm/i915: Disable LP3 watermarks on all SNB machines
  (bnc#1012628).
- drm/ast: change resolution may cause screen blurred
  (bnc#1012628).
- drm/ast: fixed cursor may disappear sometimes (bnc#1012628).
- drm/ast: Remove existing framebuffers before loading driver
  (bnc#1012628).
- can: flexcan: Unlock the MB unconditionally (bnc#1012628).
- can: dev: can_get_echo_skb(): factor out non sending code to
  __can_get_echo_skb() (bnc#1012628).
- can: dev: __can_get_echo_skb(): replace struct can_frame by
  canfd_frame to access frame length (bnc#1012628).
- can: dev: __can_get_echo_skb(): Don't crash the kernel if
  can_priv::echo_skb is accessed out of bounds (bnc#1012628).
- can: dev: __can_get_echo_skb(): print error message, if trying
  to echo non existing skb (bnc#1012628).
- can: rx-offload: introduce can_rx_offload_get_echo_skb()
  and can_rx_offload_queue_sorted() functions (bnc#1012628).
- can: rx-offload: rename can_rx_offload_irq_queue_err_skb()
  to can_rx_offload_queue_tail() (bnc#1012628).
- can: flexcan: use can_rx_offload_queue_sorted() for
  flexcan_irq_bus_*() (bnc#1012628).
- can: flexcan: handle tx-complete CAN frames via rx-offload
  infrastructure (bnc#1012628).
- can: raw: check for CAN FD capable netdev in raw_sendmsg()
  (bnc#1012628).
- can: hi311x: Use level-triggered interrupt (bnc#1012628).
- can: flexcan: Always use last mailbox for TX (bnc#1012628).
- can: flexcan: remove not needed struct flexcan_priv::tx_mb
  and struct flexcan_priv::tx_mb_idx (bnc#1012628).
- ACPICA: AML interpreter: add region addresses in global list
  during initialization (bnc#1012628).
- IB/hfi1: Eliminate races in the SDMA send error path
  (bnc#1012628).
- fsnotify: generalize handling of extra event flags
  (bnc#1012628).
- fanotify: fix handling of events on child sub-directory
  (bnc#1012628).
- pinctrl: meson: fix pinconf bias disable (bnc#1012628).
- pinctrl: meson: fix gxbb ao pull register bits (bnc#1012628).
- pinctrl: meson: fix gxl ao pull register bits (bnc#1012628).
- pinctrl: meson: fix meson8 ao pull register bits (bnc#1012628).
- pinctrl: meson: fix meson8b ao pull register bits (bnc#1012628).
- tools/testing/nvdimm: Fix the array size for dimm devices
  (bnc#1012628).
- scsi: lpfc: fix remoteport access (bnc#1012628).
- scsi: hisi_sas: Remove set but not used variable 'dq_list'
  (bnc#1012628).
- KVM: PPC: Move and undef TRACE_INCLUDE_PATH/FILE (bnc#1012628).
- cpufreq: imx6q: add return value check for voltage scale
  (bnc#1012628).
- rtc: cmos: Do not export alarm rtc_ops when we do not support
  alarms (bnc#1012628).
- rtc: pcf2127: fix a kmemleak caused in pcf2127_i2c_gather_write
  (bnc#1012628).
- crypto: simd - correctly take reqsize of wrapped skcipher into
  account (bnc#1012628).
- floppy: fix race condition in __floppy_read_block_0()
  (bnc#1012628).
- powerpc/io: Fix the IO workarounds code to work with Radix
  (bnc#1012628).
- sched/fair: Fix cpu_util_wake() for 'execl' type workloads
  (bnc#1012628).
- perf/x86/intel/uncore: Add more IMC PCI IDs for KabyLake and
  CoffeeLake CPUs (bnc#1012628).
- block: copy ioprio in __bio_clone_fast() and bounce
  (bnc#1012628).
- SUNRPC: Fix a bogus get/put in generic_key_to_expire()
  (bnc#1012628).
- riscv: add missing vdso_install target (bnc#1012628).
- RISC-V: Silence some module warnings on 32-bit (bnc#1012628).
- drm/amdgpu: fix bug with IH ring setup (bnc#1012628).
- kdb: Use strscpy with destination buffer size (bnc#1012628).
- NFSv4: Fix an Oops during delegation callbacks (bnc#1012628).
- powerpc/numa: Suppress "VPHN is not supported" messages
  (bnc#1012628).
- efi/arm: Revert deferred unmap of early memmap mapping
  (bnc#1012628).
- z3fold: fix possible reclaim races (bnc#1012628).
- mm, memory_hotplug: check zone_movable in has_unmovable_pages
  (bnc#1012628).
- tmpfs: make lseek(SEEK_DATA/SEK_HOLE) return ENXIO with a
  negative offset (bnc#1012628).
- mm, page_alloc: check for max order in hot path (bnc#1012628).
- dax: Avoid losing wakeup in dax_lock_mapping_entry
  (bnc#1012628).
- include/linux/pfn_t.h: force '~' to be parsed as an unary
  operator (bnc#1012628).
- tty: wipe buffer (bnc#1012628).
- tty: wipe buffer if not echoing data (bnc#1012628).
- gfs2: Fix iomap buffer head reference counting bug
  (bnc#1012628).
- rcu: Make need_resched() respond to urgent RCU-QS needs
  (bnc#1012628).
- media: ov5640: Re-work MIPI startup sequence (bnc#1012628).
- media: ov5640: Fix timings setup code (bnc#1012628).
- media: ov5640: fix exposure regression (bnc#1012628).
- media: ov5640: fix auto gain & exposure when changing mode
  (bnc#1012628).
- media: ov5640: fix wrong binning value in exposure calculation
  (bnc#1012628).
- media: ov5640: fix auto controls values when switching to
  manual mode (bnc#1012628).
- commit e8181d1

-------------------------------------------------------------------
Tue Nov 27 20:56:09 CET 2018 - jslaby@suse.cz

- Linux 4.19.5 (bnc#1012628).
- drm/i915: Replace some PAGE_SIZE with I915_GTT_PAGE_SIZE
  (bnc#1012628).
- cifs: don't dereference smb_file_target before null check
  (bnc#1012628).
- cifs: fix return value for cifs_listxattr (bnc#1012628).
- arm64: kprobe: make page to RO mode when allocate it
  (bnc#1012628).
- block: brd: associate with queue until adding disk
  (bnc#1012628).
- net: hns3: bugfix for rtnl_lock's range in the hclgevf_reset()
  (bnc#1012628).
- net: hns3: bugfix for rtnl_lock's range in the hclge_reset()
  (bnc#1012628).
- net: hns3: bugfix for handling mailbox while the command queue
  reinitialized (bnc#1012628).
- net: hns3: bugfix for the initialization of command queue's
  spin lock (bnc#1012628).
- ixgbe: fix MAC anti-spoofing filter after VFLR (bnc#1012628).
- reiserfs: propagate errors from fill_with_dentries() properly
  (bnc#1012628).
- hfs: prevent btree data loss on root split (bnc#1012628).
- hfsplus: prevent btree data loss on root split (bnc#1012628).
- perf unwind: Take pgoff into account when reporting elf to
  libdwfl (bnc#1012628).
- um: Give start_idle_thread() a return code (bnc#1012628).
- drm/edid: Add 6 bpc quirk for BOE panel (bnc#1012628).
- afs: Handle EIO from delivery function (bnc#1012628).
- platform/x86: intel_telemetry: report debugfs failure
  (bnc#1012628).
- clk: fixed-rate: fix of_node_get-put imbalance (bnc#1012628).
- perf symbols: Set PLT entry/header sizes properly on Sparc
  (bnc#1012628).
- fs/exofs: fix potential memory leak in mount option parsing
  (bnc#1012628).
- clk: samsung: exynos5420: Enable PERIS clocks for suspend
  (bnc#1012628).
- apparmor: Fix uninitialized value in aa_split_fqname
  (bnc#1012628).
- x86/earlyprintk: Add a force option for pciserial device
  (bnc#1012628).
- platform/x86: acerhdf: Add BIOS entry for Gateway LT31 v1.3307
  (bnc#1012628).
- clk: meson-axg: pcie: drop the mpll3 clock parent (bnc#1012628).
- arm64: percpu: Initialize ret in the default case (bnc#1012628).
- clk: meson: clk-pll: drop CLK_GET_RATE_NOCACHE where unnecessary
  (bnc#1012628).
- clk: renesas: r9a06g032: Fix UART34567 clock rate (bnc#1012628).
- clk: ti: fix OF child-node lookup (bnc#1012628).
- serial: sh-sci: Fix receive on SCIFA/SCIFB variants with DMA
  (bnc#1012628).
- netfilter: ipv6: fix oops when defragmenting locally generated
  fragments (bnc#1012628).
- s390/decompressor: add missing FORCE to build targets
  (bnc#1012628).
- s390/vdso: add missing FORCE to build targets (bnc#1012628).
- HID: i2c-hid: Add a small delay after sleep command for Raydium
  touchpanel (bnc#1012628).
- Revert "HID: add NOGET quirk for Eaton Ellipse MAX UPS"
  (bnc#1012628).
- HID: alps: allow incoming reports when only the trackstick is
  opened (bnc#1012628).
- Revert "netfilter: nft_numgen: add map lookups for numgen
  random operations" (bnc#1012628).
- netfilter: ipset: list:set: Decrease refcount synchronously
  on deletion and replace (bnc#1012628).
- netfilter: ipset: actually allow allowable CIDR 0 in
  hash:net,port,net (bnc#1012628).
- netfilter: ipset: fix ip_set_list allocation failure
  (bnc#1012628).
- s390/mm: fix mis-accounting of pgtable_bytes (bnc#1012628).
- s390/mm: Fix ERROR: "__node_distance" undefined! (bnc#1012628).
- bpf: fix bpf_prog_get_info_by_fd to return 0 func_lens for
  unpriv (bnc#1012628).
- netfilter: ipset: Correct rcu_dereference() call in
  ip_set_put_comment() (bnc#1012628).
- netfilter: xt_IDLETIMER: add sysfs filename checking routine
  (bnc#1012628).
- netfilter: ipset: Fix calling ip_set() macro at dumping
  (bnc#1012628).
- netfilter: nft_compat: ebtables 'nat' table is normal chain type
  (bnc#1012628).
- s390/qeth: fix HiperSockets sniffer (bnc#1012628).
- s390/qeth: unregister netdevice only when registered
  (bnc#1012628).
- net: hns3: Fix for out-of-bounds access when setting pfc back
  pressure (bnc#1012628).
- hwmon: (ibmpowernv) Remove bogus __init annotations
  (bnc#1012628).
- ARM: dts: imx6sll: fix typo for fsl,imx6sll-i2c node
  (bnc#1012628).
- ARM: dts: fsl: Fix improperly quoted stdout-path values
  (bnc#1012628).
- Revert "drm/exynos/decon5433: implement frame counter"
  (bnc#1012628).
- arm64: dts: renesas: r8a7795: add missing dma-names on hscif2
  (bnc#1012628).
- arm64: dts: renesas: condor: switch from EtherAVB to GEther
  (bnc#1012628).
- xen/grant-table: Fix incorrect gnttab_dma_free_pages() pr_debug
  message (bnc#1012628).
- clk: fixed-factor: fix of_node_get-put imbalance (bnc#1012628).
- mtd: nand: Fix nanddev_pos_next_page() kernel-doc header
  (bnc#1012628).
- lib/raid6: Fix arm64 test build (bnc#1012628).
- drm/amd/display: Stop leaking planes (bnc#1012628).
- block: Clear kernel memory before copying to user (bnc#1012628).
- drm/amd/display: Drop reusing drm connector for MST
  (bnc#1012628).
- drm/amd/amdgpu/dm: Fix dm_dp_create_fake_mst_encoder()
  (bnc#1012628).
- s390/perf: Change CPUM_CF return code in event init function
  (bnc#1012628).
- ceph: quota: fix null pointer dereference in quota check
  (bnc#1012628).
- of/device: Really only set bus DMA mask when appropriate
  (bnc#1012628).
- nvme: make sure ns head inherits underlying device limits
  (bnc#1012628).
- i2c: omap: Enable for ARCH_K3 (bnc#1012628).
- i2c: qcom-geni: Fix runtime PM mismatch with child devices
  (bnc#1012628).
- sched/core: Take the hotplug lock in sched_init_smp()
  (bnc#1012628).
- perf tools: Fix undefined symbol scnprintf in libperf-jvmti.so
  (bnc#1012628).
- perf tools: Do not zero sample_id_all for group members
  (bnc#1012628).
- ice: Fix dead device link issue with flow control (bnc#1012628).
- ice: Fix the bytecount sent to netdev_tx_sent_queue
  (bnc#1012628).
- ice: Change req_speeds to be u16 (bnc#1012628).
- i40e: restore NETIF_F_GSO_IPXIP[46] to netdev features
  (bnc#1012628).
- qed: Fix memory/entry leak in qed_init_sp_request()
  (bnc#1012628).
- qed: Fix blocking/unlimited SPQ entries leak (bnc#1012628).
- qed: Fix SPQ entries not returned to pool in error flows
  (bnc#1012628).
- qed: Fix potential memory corruption (bnc#1012628).
- net: stmmac: Fix RX packet size > 8191 (bnc#1012628).
- net: aquantia: fix potential IOMMU fault after driver unbind
  (bnc#1012628).
- net: aquantia: fixed enable unicast on 32 macvlan (bnc#1012628).
- net: aquantia: invalid checksumm offload implementation
  (bnc#1012628).
- kbuild: deb-pkg: fix too low build version number (bnc#1012628).
- Revert "scripts/setlocalversion: git: Make -dirty check more
  robust" (bnc#1012628).
- SUNRPC: drop pointless static qualifier in
  xdr_get_next_encode_buffer() (bnc#1012628).
- x86/mm: Move LDT remap out of KASLR region on 5-level paging
  (bnc#1012628).
- x86/ldt: Unmap PTEs for the slot before freeing LDT pages
  (bnc#1012628).
- x86/ldt: Remove unused variable in map_ldt_struct()
  (bnc#1012628).
- media: v4l: event: Add subscription to list before calling
  "add" operation (bnc#1012628).
- MIPS: OCTEON: cavium_octeon_defconfig: re-enable OCTEON USB
  driver (bnc#1012628).
- RISC-V: Fix raw_copy_{to,from}_user() (bnc#1012628).
- uio: Fix an Oops on load (bnc#1012628).
- ALSA: hda/realtek - Add quirk entry for HP Pavilion 15
  (bnc#1012628).
- ALSA: hda/ca0132 - Call pci_iounmap() instead of iounmap()
  (bnc#1012628).
- can: kvaser_usb: Fix accessing freed memory in
  kvaser_usb_start_xmit() (bnc#1012628).
- can: kvaser_usb: Fix potential uninitialized variable use
  (bnc#1012628).
- usb: cdc-acm: add entry for Hiro (Conexant) modem (bnc#1012628).
- USB: quirks: Add no-lpm quirk for Raydium touchscreens
  (bnc#1012628).
- USB: Wait for extra delay time after USB_PORT_FEAT_RESET for
  quirky hub (bnc#1012628).
- usb: quirks: Add delay-init quirk for Corsair K70 LUX RGB
  (bnc#1012628).
- misc: atmel-ssc: Fix section annotation on
  atmel_ssc_get_driver_data (bnc#1012628).
- USB: misc: appledisplay: add 20" Apple Cinema Display
  (bnc#1012628).
- gnss: serial: fix synchronous write timeout (bnc#1012628).
- gnss: sirf: fix synchronous write timeout (bnc#1012628).
- mtd: rawnand: atmel: fix OF child-node lookup (bnc#1012628).
- drivers/misc/sgi-gru: fix Spectre v1 vulnerability
  (bnc#1012628).
- ACPI / platform: Add SMB0001 HID to forbidden_id_list
  (bnc#1012628).
- HID: uhid: forbid UHID_CREATE under KERNEL_DS or elevated
  privileges (bnc#1012628).
- HID: Add quirk for Primax PIXART OEM mice (bnc#1012628).
- HID: Add quirk for Microsoft PIXART OEM mouse (bnc#1012628).
- libceph: fall back to sendmsg for slab pages (bnc#1012628).
- mt76x0: run vco calibration for each channel configuration
  (bnc#1012628).
- commit 6210279

-------------------------------------------------------------------
Tue Nov 27 17:08:15 CET 2018 - tiwai@suse.de

- media: dvb-pll: don't re-validate tuner frequencies
  (bsc#1116374).
- commit 3debe43

-------------------------------------------------------------------
Mon Nov 26 07:22:42 CET 2018 - mkubecek@suse.cz

- Update to 4.20-rc4
- Config changes:
  - Networking:
    - MT76_LEDS=y (split from MT76_CORE)
- commit 1ac69b7

-------------------------------------------------------------------
Fri Nov 23 18:47:44 CET 2018 - msuchanek@suse.de

- Build ppc64le for POWER8+ (FATE#325617).
- commit f6da51b

-------------------------------------------------------------------
Fri Nov 23 08:51:18 CET 2018 - jslaby@suse.cz

- Linux 4.19.4 (bnc#1012628).
- flow_dissector: do not dissect l4 ports for fragments
  (bnc#1012628).
- ibmvnic: fix accelerated VLAN handling (bnc#1012628).
- ip_tunnel: don't force DF when MTU is locked (bnc#1012628).
- ipv6: fix a dst leak when removing its exception (bnc#1012628).
- ipv6: Fix PMTU updates for UDP/raw sockets in presence of VRF
  (bnc#1012628).
- net: bcmgenet: protect stop from timeout (bnc#1012628).
- net-gro: reset skb->pkt_type in napi_reuse_skb() (bnc#1012628).
- sctp: not allow to set asoc prsctp_enable by sockopt
  (bnc#1012628).
- tcp: Fix SOF_TIMESTAMPING_RX_HARDWARE to use the latest
  timestamp during TCP coalescing (bnc#1012628).
- tg3: Add PHY reset for 5717/5719/5720 in change ring and flow
  control paths (bnc#1012628).
- tipc: don't assume linear buffer when reading ancillary data
  (bnc#1012628).
- tipc: fix lockdep warning when reinitilaizing sockets
  (bnc#1012628).
- tuntap: fix multiqueue rx (bnc#1012628).
- net: systemport: Protect stop from timeout (bnc#1012628).
- net/sched: act_pedit: fix memory leak when IDR allocation fails
  (bnc#1012628).
- net: sched: cls_flower: validate nested enc_opts_policy to
  avoid warning (bnc#1012628).
- tipc: fix link re-establish failure (bnc#1012628).
- net/mlx5e: Don't match on vlan non-existence if ethertype is
  wildcarded (bnc#1012628).
- net/mlx5e: Claim TC hw offloads support only under a proper
  build config (bnc#1012628).
- net/mlx5e: Adjust to max number of channles when re-attaching
  (bnc#1012628).
- net/mlx5e: RX, verify received packet size in Linear Striding RQ
  (bnc#1012628).
- Revert "sctp: remove sctp_transport_pmtu_check" (bnc#1012628).
- net/mlx5e: Always use the match level enum when parsing TC
  rule match (bnc#1012628).
- net/mlx5e: Fix selftest for small MTUs (bnc#1012628).
- net/mlx5e: Removed unnecessary warnings in FEC caps query
  (bnc#1012628).
- inet: frags: better deal with smp races (bnc#1012628).
- l2tp: fix a sock refcnt leak in l2tp_tunnel_register
  (bnc#1012628).
- net/mlx5: IPSec, Fix the SA context hash key (bnc#1012628).
- net/mlx5e: IPoIB, Reset QP after channels are closed
  (bnc#1012628).
- net: dsa: mv88e6xxx: Fix clearing of stats counters
  (bnc#1012628).
- net: phy: realtek: fix RTL8201F sysfs name (bnc#1012628).
- sctp: define SCTP_SS_DEFAULT for Stream schedulers
  (bnc#1012628).
- net: qualcomm: rmnet: Fix incorrect assignment of real_dev
  (bnc#1012628).
- net: dsa: microchip: initialize mutex before use (bnc#1012628).
- sctp: fix strchange_flags name for Stream Change Event
  (bnc#1012628).
- net: phy: mdio-gpio: Fix working over slow can_sleep GPIOs
  (bnc#1012628).
- sctp: not increase stream's incnt before sending addstrm_in
  request (bnc#1012628).
- mlxsw: spectrum: Fix IP2ME CPU policer configuration
  (bnc#1012628).
- net: smsc95xx: Fix MTU range (bnc#1012628).
- rxrpc: Fix lockup due to no error backoff after ack transmit
  error (bnc#1012628).
- usbnet: smsc95xx: disable carrier check while suspending
  (bnc#1012628).
- Revert "x86/speculation: Enable cross-hyperthread spectre v2
  STIBP mitigation" (bnc#1012628).
- Refresh
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- commit 2f38375

-------------------------------------------------------------------
Fri Nov 23 00:55:31 CET 2018 - msuchanek@suse.de

- Revert "Remove Cell/PS3 support from ppc64 kernel (boo#1114846)"
  This reverts commit fd6aaf7f98693355e7dcc5e4e1926fb1664d803b.
  Fixed upstream in 43c6494fa149 ("powerpc/io: Fix the IO workarounds code
  to work with Radix")
- commit 4f86993

-------------------------------------------------------------------
Thu Nov 22 11:47:48 CET 2018 - tiwai@suse.de

- media: dvb-pll: fix tuner frequency ranges (bsc#1116374).
- commit edac906

-------------------------------------------------------------------
Wed Nov 21 11:33:39 CET 2018 - jslaby@suse.cz

- Linux 4.19.3 (bnc#1012628).
- powerpc/traps: restore recoverability of machine_check
  interrupts (bnc#1012628).
- powerpc/64/module: REL32 relocation range check (bnc#1012628).
- powerpc/mm: Fix page table dump to work on Radix (bnc#1012628).
- powerpc/mm: fix always true/false warning in slice.c
  (bnc#1012628).
- drm/amd/display: fix bug of accessing invalid memory
  (bnc#1012628).
- Input: wm97xx-ts - fix exit path (bnc#1012628).
- powerpc/Makefile: Fix PPC_BOOK3S_64 ASFLAGS (bnc#1012628).
- powerpc/eeh: Fix possible null deref in eeh_dump_dev_log()
  (bnc#1012628).
- tty: check name length in tty_find_polling_driver()
  (bnc#1012628).
- tracing/kprobes: Check the probe on unloaded module correctly
  (bnc#1012628).
- drm/nouveau/secboot/acr: fix memory leak (bnc#1012628).
- drm/amdgpu/powerplay: fix missing break in switch statements
  (bnc#1012628).
- ARM: imx_v6_v7_defconfig: Select CONFIG_TMPFS_POSIX_ACL
  (bnc#1012628).
- powerpc/nohash: fix undefined behaviour when testing page size
  support (bnc#1012628).
- drm/msm/gpu: fix parameters in function
  msm_gpu_crashstate_capture (bnc#1012628).
- drm/msm/disp/dpu: Use proper define for drm_encoder_init()
  'encoder_type' (bnc#1012628).
- drm/msm: dpu: Allow planes to extend past active display
  (bnc#1012628).
- powerpc/mm: Don't report hugepage tables as memory leaks when
  using kmemleak (bnc#1012628).
- drm/omap: fix memory barrier bug in DMM driver (bnc#1012628).
- drm/amd/display: Raise dispclk value for dce120 by 15%
  (bnc#1012628).
- drm/amd/display: fix gamma not being applied (bnc#1012628).
- drm/hisilicon: hibmc: Do not carry error code in HiBMC
  framebuffer pointer (bnc#1012628).
- media: pci: cx23885: handle adding to list failure
  (bnc#1012628).
- media: coda: don't overwrite h.264 profile_idc on decoder
  instance (bnc#1012628).
- MIPS: kexec: Mark CPU offline before disabling local IRQ
  (bnc#1012628).
- powerpc/boot: Ensure _zimage_start is a weak symbol
  (bnc#1012628).
- powerpc/memtrace: Remove memory in chunks (bnc#1012628).
- MIPS/PCI: Call pcie_bus_configure_settings() to set MPS/MRRS
  (bnc#1012628).
- staging: erofs: fix a missing endian conversion (bnc#1012628).
- serial: 8250_of: Fix for lack of interrupt support
  (bnc#1012628).
- sc16is7xx: Fix for multi-channel stall (bnc#1012628).
- media: tvp5150: fix width alignment during set_selection()
  (bnc#1012628).
- powerpc/selftests: Wait all threads to join (bnc#1012628).
- staging:iio:ad7606: fix voltage scales (bnc#1012628).
- drm: rcar-du: Update Gen3 output limitations (bnc#1012628).
- drm/amdgpu: Fix SDMA TO after GPU reset v3 (bnc#1012628).
- staging: most: video: fix registration of an empty comp
  core_component (bnc#1012628).
- 9p locks: fix glock.client_id leak in do_lock (bnc#1012628).
- udf: Prevent write-unsupported filesystem to be remounted
  read-write (bnc#1012628).
- ARM: dts: imx6ull: keep IMX6UL_ prefix for signals on both
  i.MX6UL and i.MX6ULL (bnc#1012628).
- media: ov5640: fix mode change regression (bnc#1012628).
- 9p: clear dangling pointers in p9stat_free (bnc#1012628).
- drm/amdgpu: fix integer overflow test in amdgpu_bo_list_create()
  (bnc#1012628).
- media: ov5640: fix restore of last mode set (bnc#1012628).
- ovl: fix error handling in ovl_verify_set_fh() (bnc#1012628).
- ovl: fix recursive oi->lock in ovl_link() (bnc#1012628).
- ovl: check whiteout in ovl_create_over_whiteout() (bnc#1012628).
- ovl: automatically enable redirect_dir on metacopy=on
  (bnc#1012628).
- serial: sh-sci: Fix could not remove dev_attr_rx_fifo_timeout
  (bnc#1012628).
- scsi: qla2xxx: Fix incorrect port speed being set for FC
  adapters (bnc#1012628).
- scsi: qla2xxx: Fix process response queue for ISP26XX and above
  (bnc#1012628).
- scsi: qla2xxx: Remove stale debug trace message from tcm_qla2xxx
  (bnc#1012628).
- scsi: qla2xxx: Fix early srb free on abort (bnc#1012628).
- scsi: qla2xxx: shutdown chip if reset fail (bnc#1012628).
- scsi: qla2xxx: Reject bsg request if chip is down (bnc#1012628).
- scsi: qla2xxx: Fix re-using LoopID when handle is in use
  (bnc#1012628).
- scsi: qla2xxx: Fix for double free of SRB structure
  (bnc#1012628).
- scsi: qla2xxx: Fix NVMe session hang on unload (bnc#1012628).
- scsi: qla2xxx: Fix NVMe Target discovery (bnc#1012628).
- scsi: qla2xxx: Fix duplicate switch database entries
  (bnc#1012628).
- scsi: qla2xxx: Fix driver hang when FC-NVMe LUNs are configured
  (bnc#1012628).
- vfs: fix FIGETBSZ ioctl on an overlayfs file (bnc#1012628).
- fuse: Fix use-after-free in fuse_dev_do_read() (bnc#1012628).
- fuse: Fix use-after-free in fuse_dev_do_write() (bnc#1012628).
- fuse: fix blocked_waitq wakeup (bnc#1012628).
- fuse: set FR_SENT while locked (bnc#1012628).
- drm/msm: fix OF child-node lookup (bnc#1012628).
- arm64: dts: stratix10: Support Ethernet Jumbo frame
  (bnc#1012628).
- arm64: dts: stratix10: fix multicast filtering (bnc#1012628).
- clk: meson-gxbb: set fclk_div3 as CLK_IS_CRITICAL (bnc#1012628).
- clk: meson: axg: mark fdiv2 and fdiv3 as critical (bnc#1012628).
- zram: close udev startup race condition as default groups
  (bnc#1012628).
- MIPS: Loongson-3: Fix CPU UART irq delivery problem
  (bnc#1012628).
- MIPS: Loongson-3: Fix BRIDGE irq delivery problem (bnc#1012628).
- xtensa: add NOTES section to the linker script (bnc#1012628).
- xtensa: make sure bFLT stack is 16 byte aligned (bnc#1012628).
- xtensa: fix boot parameters address translation (bnc#1012628).
- um: Drop own definition of PTRACE_SYSEMU/_SINGLESTEP
  (bnc#1012628).
- clk: s2mps11: Fix matching when built as module and DT node
  contains compatible (bnc#1012628).
- clk: at91: Fix division by zero in PLL recalc_rate()
  (bnc#1012628).
- clk: sunxi-ng: h6: fix bus clocks' divider position
  (bnc#1012628).
- clk: rockchip: fix wrong mmc sample phase shift for rk3328
  (bnc#1012628).
- clk: rockchip: Fix static checker warning in
  rockchip_ddrclk_get_parent call (bnc#1012628).
- libceph: bump CEPH_MSG_MAX_DATA_LEN (bnc#1012628).
- Revert "ceph: fix dentry leak in splice_dentry()" (bnc#1012628).
- thermal: core: Fix use-after-free in
  thermal_cooling_device_destroy_sysfs (bnc#1012628).
- mach64: fix display corruption on big endian machines
  (bnc#1012628).
- mach64: fix image corruption due to reading accelerator
  registers (bnc#1012628).
- acpi/nfit, x86/mce: Handle only uncorrectable machine checks
  (bnc#1012628).
- acpi/nfit, x86/mce: Validate a MCE's address before using it
  (bnc#1012628).
- acpi, nfit: Fix ARS overflow continuation (bnc#1012628).
- reset: hisilicon: fix potential NULL pointer dereference
  (bnc#1012628).
- crypto: hisilicon - Fix NULL dereference for same dst and src
  (bnc#1012628).
- crypto: hisilicon - Fix reference after free of memories on
  error path (bnc#1012628).
- vhost/scsi: truncate T10 PI iov_iter to prot_bytes
  (bnc#1012628).
- scsi: qla2xxx: Initialize port speed to avoid setting lower
  speed (bnc#1012628).
- SCSI: fix queue cleanup race before queue initialization is done
  (bnc#1012628).
- Revert "powerpc/8xx: Use L1 entry APG to handle _PAGE_ACCESSED
  for CONFIG_SWAP" (bnc#1012628).
- soc: ti: QMSS: Fix usage of irq_set_affinity_hint (bnc#1012628).
- ocfs2: fix a misuse a of brelse after failing
  ocfs2_check_dir_entry (bnc#1012628).
- ocfs2: free up write context when direct IO failed
  (bnc#1012628).
- mm: thp: relax __GFP_THISNODE for MADV_HUGEPAGE mappings
  (bnc#1012628).
- memory_hotplug: cond_resched in __remove_pages (bnc#1012628).
- netfilter: conntrack: fix calculation of next bucket number
  in early_drop (bnc#1012628).
- ARM: 8809/1: proc-v7: fix Thumb annotation of
  cpu_v7_hvc_switch_mm (bnc#1012628).
- bonding/802.3ad: fix link_failure_count tracking (bnc#1012628).
- mtd: spi-nor: cadence-quadspi: Return error code in
  cqspi_direct_read_execute() (bnc#1012628).
- mtd: nand: Fix nanddev_neraseblocks() (bnc#1012628).
- mtd: docg3: don't set conflicting BCH_CONST_PARAMS option
  (bnc#1012628).
- hwmon: (core) Fix double-free in __hwmon_device_register()
  (bnc#1012628).
- perf cs-etm: Correct CPU mode for samples (bnc#1012628).
- perf stat: Handle different PMU names with common prefix
  (bnc#1012628).
- perf callchain: Honour the ordering of
  PERF_CONTEXT_{USER,KERNEL,etc} (bnc#1012628).
- perf intel-pt/bts: Calculate cpumode for synthesized samples
  (bnc#1012628).
- perf intel-pt: Insert callchain context into synthesized
  callchains (bnc#1012628).
- of, numa: Validate some distance map rules (bnc#1012628).
- x86/cpu/vmware: Do not trace vmware_sched_clock() (bnc#1012628).
- x86/hyper-v: Enable PIT shutdown quirk (bnc#1012628).
- termios, tty/tty_baudrate.c: fix buffer overrun (bnc#1012628).
- arch/alpha, termios: implement BOTHER, IBSHIFT and termios2
  (bnc#1012628).
- watchdog/core: Add missing prototypes for weak functions
  (bnc#1012628).
- btrfs: fix pinned underflow after transaction aborted
  (bnc#1012628).
- Btrfs: fix missing data checksums after a ranged fsync (msync)
  (bnc#1012628).
- Btrfs: fix cur_offset in the error case for nocow (bnc#1012628).
- Btrfs: fix infinite loop on inode eviction after deduplication
  of eof block (bnc#1012628).
- Btrfs: fix data corruption due to cloning of eof block
  (bnc#1012628).
- btrfs: tree-checker: Fix misleading group system information
  (bnc#1012628).
- clockevents/drivers/i8253: Add support for PIT shutdown quirk
  (bnc#1012628).
- ext4: add missing brelse() update_backups()'s error path
  (bnc#1012628).
- ext4: add missing brelse() in set_flexbg_block_bitmap()'s
  error path (bnc#1012628).
- ext4: add missing brelse() add_new_gdb_meta_bg()'s error path
  (bnc#1012628).
- ext4: avoid potential extra brelse in
  setup_new_flex_group_blocks() (bnc#1012628).
- ext4: missing !bh check in ext4_xattr_inode_write()
  (bnc#1012628).
- ext4: fix possible inode leak in the retry loop of
  ext4_resize_fs() (bnc#1012628).
- ext4: avoid buffer leak on shutdown in ext4_mark_iloc_dirty()
  (bnc#1012628).
- ext4: avoid buffer leak in ext4_orphan_add() after prior errors
  (bnc#1012628).
- ext4: fix missing cleanup if ext4_alloc_flex_bg_array() fails
  while resizing (bnc#1012628).
- ext4: avoid possible double brelse() in add_new_gdb() on error
  path (bnc#1012628).
- ext4: fix possible leak of sbi->s_group_desc_leak in error path
  (bnc#1012628).
- ext4: fix possible leak of s_journal_flag_rwsem in error path
  (bnc#1012628).
- ext4: fix buffer leak in ext4_xattr_get_block() on error path
  (bnc#1012628).
- ext4: release bs.bh before re-using in ext4_xattr_block_find()
  (bnc#1012628).
- ext4: fix buffer leak in ext4_xattr_move_to_block() on error
  path (bnc#1012628).
- ext4: fix buffer leak in ext4_expand_extra_isize_ea() on error
  path (bnc#1012628).
- ext4: fix buffer leak in __ext4_read_dirblock() on error path
  (bnc#1012628).
- mount: Retest MNT_LOCKED in do_umount (bnc#1012628).
- mount: Don't allow copying MNT_UNBINDABLE|MNT_LOCKED mounts
  (bnc#1012628).
- mount: Prevent MNT_DETACH from disconnecting locked mounts
  (bnc#1012628).
- mnt: fix __detach_mounts infinite loop (bnc#1012628).
- uapi: fix linux/kfd_ioctl.h userspace compilation errors
  (bnc#1012628).
- ARM: cpuidle: Don't register the driver when back-end init
  returns -ENXIO (bnc#1012628).
- kdb: use correct pointer when 'btc' calls 'btt' (bnc#1012628).
- kdb: print real address of pointers instead of hashed addresses
  (bnc#1012628).
- sunrpc: correct the computation for page_ptr when truncating
  (bnc#1012628).
- NFSv4: Don't exit the state manager without clearing
  NFS4CLNT_MANAGER_RUNNING (bnc#1012628).
- nfsd: COPY and CLONE operations require the saved filehandle
  to be set (bnc#1012628).
- rtc: hctosys: Add missing range error reporting (bnc#1012628).
- fuse: fix use-after-free in fuse_direct_IO() (bnc#1012628).
- fuse: fix leaked notify reply (bnc#1012628).
- fuse: fix possibly missed wake-up after abort (bnc#1012628).
- selinux: check length properly in SCTP bind hook (bnc#1012628).
- gfs2: Put bitmap buffers in put_super (bnc#1012628).
- gfs2: Fix metadata read-ahead during truncate (2) (bnc#1012628).
- libata: blacklist SAMSUNG MZ7TD256HAFV-000L9 SSD (bnc#1012628).
- crypto: user - fix leaking uninitialized memory to userspace
  (bnc#1012628).
- lib/ubsan.c: don't mark __ubsan_handle_builtin_unreachable as
  noreturn (bnc#1012628).
- hugetlbfs: fix kernel BUG at
  fs/hugetlbfs/inode.c:444! (bnc#1012628).
- mm/swapfile.c: use kvzalloc for swap_info_struct allocation
  (bnc#1012628).
- efi/arm/libstub: Pack FDT after populating it (bnc#1012628).
- mm: don't reclaim inodes with many attached pages (bnc#1012628).
- scripts/spdxcheck.py: make python3 compliant (bnc#1012628).
- drm/rockchip: Allow driver to be shutdown on reboot/kexec
  (bnc#1012628).
- drm/amdgpu: Fix typo in amdgpu_vmid_mgr_init (bnc#1012628).
- drm/amdgpu: add missing CHIP_HAINAN in
  amdgpu_ucode_get_load_type (bnc#1012628).
- drm/amdgpu: Suppress keypresses from ACPI_VIDEO events
  (bnc#1012628).
- drm/nouveau: Check backlight IDs are >= 0, not > 0
  (bnc#1012628).
- drm/nouveau: Fix nv50_mstc->best_encoder() (bnc#1012628).
- drm/amd/powerplay: Enable/Disable NBPSTATE on On/OFF of UVD
  (bnc#1012628).
- drm/etnaviv: fix bogus fence complete check in timeout handler
  (bnc#1012628).
- drm/dp_mst: Check if primary mstb is null (bnc#1012628).
- drm: panel-orientation-quirks: Add quirk for Acer One 10 (S1003)
  (bnc#1012628).
- drm/i915/dp: Link train Fallback on eDP only if fallback link
  BW can fit panel's native mode (bnc#1012628).
- drm/i915: Use the correct crtc when sanitizing plane mapping
  (bnc#1012628).
- drm/i915: Restore vblank interrupts earlier (bnc#1012628).
- drm/i915: Don't unset intel_connector->mst_port (bnc#1012628).
- drm/i915: Skip vcpi allocation for MSTB ports that are gone
  (bnc#1012628).
- drm/i915: Large page offsets for pread/pwrite (bnc#1012628).
- drm/i915/dp: Fix link retraining comment in
  intel_dp_long_pulse() (bnc#1012628).
- drm/i915/dp: Restrict link retrain workaround to external
  monitors (bnc#1012628).
- drm/i915/icl: Fix the macros for DFLEXDPMLE register bits
  (bnc#1012628).
- drm/i915/hdmi: Add HDMI 2.0 audio clock recovery N values
  (bnc#1012628).
- drm/i915: Mark up GTT sizes as u64 (bnc#1012628).
- drm/i915: Fix error handling for the NV12 fb dimensions check
  (bnc#1012628).
- drm/i915: Fix ilk+ watermarks when disabling pipes
  (bnc#1012628).
- drm/i915: Compare user's 64b GTT offset even on 32b
  (bnc#1012628).
- drm/i915: Don't oops during modeset shutdown after lpe audio
  deinit (bnc#1012628).
- drm/i915: Mark pin flags as u64 (bnc#1012628).
- drm/i915/ringbuffer: Delay after EMIT_INVALIDATE for gen4/gen5
  (bnc#1012628).
- drm/i915/execlists: Force write serialisation into context
  image vs execution (bnc#1012628).
- drm/i915: Fix possible race in intel_dp_add_mst_connector()
  (bnc#1012628).
- drm/i915: Fix NULL deref when re-enabling HPD IRQs on systems
  with MST (bnc#1012628).
- drm/i915: Fix hpd handling for pins with two encoders
  (bnc#1012628).
- CONFIG_XEN_PV breaks xen_create_contiguous_region on ARM
  (bnc#1012628).
- Revert "ACPICA: AML interpreter: add region addresses in global
  list during initialization" (bnc#1012628).
- commit fc4ca8a

-------------------------------------------------------------------
Tue Nov 20 14:26:50 CET 2018 - rgoldwyn@suse.com

- apparmor: fix unnecessary creation of net-compat (bsc#1116724).
- commit f5cf767

-------------------------------------------------------------------
Mon Nov 19 14:10:29 CET 2018 - tiwai@suse.de

- drm/amdgpu: Add missing firmware entry for HAINAN (bsc#1116239).
- commit 21d18c9

-------------------------------------------------------------------
Mon Nov 19 07:08:48 CET 2018 - mkubecek@suse.cz

- Update to 4.20-rc3
- Refresh configs
- commit 81d20d2

-------------------------------------------------------------------
Tue Nov 13 21:56:49 CET 2018 - jslaby@suse.cz

- Linux 4.19.2 (bnc#1012628).
- bpf: fix partial copy of map_ptr when dst is scalar
  (bnc#1012628).
- MIPS: VDSO: Reduce VDSO_RANDOMIZE_SIZE to 64MB for 64bit
  (bnc#1012628).
- gpio: mxs: Get rid of external API call (bnc#1012628).
- mtd: rawnand: marvell: fix the IRQ handler complete() condition
  (bnc#1012628).
- mtd: maps: gpio-addr-flash: Fix ioremapped size (bnc#1012628).
- mtd: spi-nor: fsl-quadspi: fix read error for flash size larger
  than 16MB (bnc#1012628).
- mtd: spi-nor: intel-spi: Add support for Intel Ice Lake SPI
  serial flash (bnc#1012628).
- mtd: spi-nor: fsl-quadspi: Don't let -EINVAL on the bus
  (bnc#1012628).
- spi: spi-mem: Adjust op len based on message/transfer size
  limitations (bnc#1012628).
- spi: bcm-qspi: switch back to reading flash using smaller chunks
  (bnc#1012628).
- spi: bcm-qspi: fix calculation of address length (bnc#1012628).
- bcache: trace missed reading by cache_missed (bnc#1012628).
- bcache: fix ioctl in flash device (bnc#1012628).
- bcache: correct dirty data statistics (bnc#1012628).
- bcache: fix miss key refill->end in writeback (bnc#1012628).
- hwmon: (pmbus) Fix page count auto-detection (bnc#1012628).
- jffs2: free jffs2_sb_info through jffs2_kill_sb() (bnc#1012628).
- block: setup bounce bio_sets properly (bnc#1012628).
- block: make sure discard bio is aligned with logical block size
  (bnc#1012628).
- block: make sure writesame bio is aligned with logical block
  size (bnc#1012628).
- cpufreq: conservative: Take limits changes into account properly
  (bnc#1012628).
- dma-mapping: fix panic caused by passing empty cma command
  line argument (bnc#1012628).
- pcmcia: Implement CLKRUN protocol disabling for Ricoh bridges
  (bnc#1012628).
- ACPI / OSL: Use 'jiffies' as the time bassis for
  acpi_os_get_timer() (bnc#1012628).
- ACPICA: AML interpreter: add region addresses in global list
  during initialization (bnc#1012628).
- ACPICA: AML Parser: fix parse loop to correctly skip erroneous
  extended opcodes (bnc#1012628).
- acpi, nfit: Fix Address Range Scrub completion tracking
  (bnc#1012628).
- kprobes/x86: Use preempt_enable() in optimized_callback()
  (bnc#1012628).
- ipmi: Fix timer race with module unload (bnc#1012628).
- mailbox: PCC: handle parse error (bnc#1012628).
- parisc: Fix address in HPMC IVA (bnc#1012628).
- parisc: Fix map_pages() to not overwrite existing pte entries
  (bnc#1012628).
- parisc: Fix exported address of os_hpmc handler (bnc#1012628).
- ALSA: hda - Add quirk for ASUS G751 laptop (bnc#1012628).
- ALSA: hda - Fix headphone pin config for ASUS G751
  (bnc#1012628).
- ALSA: hda/realtek - Fix the problem of the front MIC on the
  Lenovo M715 (bnc#1012628).
- ALSA: hda - Add mic quirk for the Lenovo G50-30 (17aa:3905)
  (bnc#1012628).
- ALSA: hda: Add 2 more models to the power_save blacklist
  (bnc#1012628).
- ALSA: ca0106: Disable IZD on SB0570 DAC to fix audio pops
  (bnc#1012628).
- ALSA: hda - Fix incorrect clearance of thinkpad_acpi hooks
  (bnc#1012628).
- x86/speculation: Enable cross-hyperthread spectre v2 STIBP
  mitigation (bnc#1012628).
- x86/xen: Fix boot loader version reported for PVH guests
  (bnc#1012628).
- x86/corruption-check: Fix panic in memory_corruption_check()
  when boot option without value is provided (bnc#1012628).
- x86/kvm/nVMX: allow bare VMXON state migration (bnc#1012628).
- x86/mm/pat: Disable preemption around __flush_tlb_all()
  (bnc#1012628).
- x86/numa_emulation: Fix uniform-split numa emulation
  (bnc#1012628).
- ARM: dts: exynos: Disable pull control for MAX8997 interrupts
  on Origen (bnc#1012628).
- net: socionext: Reset tx queue in ndo_stop (bnc#1012628).
- net: loopback: clear skb->tstamp before netif_rx()
  (bnc#1012628).
- locking/lockdep: Fix debug_locks off performance problem
  (bnc#1012628).
- netfilter: xt_nat: fix DNAT target for shifted portmap ranges
  (bnc#1012628).
- ataflop: fix error handling during setup (bnc#1012628).
- swim: fix cleanup on setup error (bnc#1012628).
- arm64: cpufeature: ctr: Fix cpu capability check for late CPUs
  (bnc#1012628).
- hv_netvsc: fix vf serial matching with pci slot info
  (bnc#1012628).
- nfp: devlink port split support for 1x100G CXP NIC
  (bnc#1012628).
- tun: Consistently configure generic netdev params via rtnetlink
  (bnc#1012628).
- s390/sthyi: Fix machine name validity indication (bnc#1012628).
- hwmon: (pwm-fan) Set fan speed to 0 on suspend (bnc#1012628).
- lightnvm: pblk: fix race on sysfs line state (bnc#1012628).
- lightnvm: pblk: fix two sleep-in-atomic-context bugs
  (bnc#1012628).
- lightnvm: pblk: fix race condition on metadata I/O
  (bnc#1012628).
- spi: spi-ep93xx: Use dma_data_direction for
  ep93xx_spi_dma_{finish,prepare} (bnc#1012628).
- perf tools: Free temporary 'sys' string in read_event_files()
  (bnc#1012628).
- perf tools: Cleanup trace-event-info 'tdata' leak (bnc#1012628).
- perf tools: Free 'printk' string in parse_ftrace_printk()
  (bnc#1012628).
- perf strbuf: Match va_{add,copy} with va_end (bnc#1012628).
- cpupower: Fix coredump on VMWare (bnc#1012628).
- bcache: Populate writeback_rate_minimum attribute (bnc#1012628).
- mmc: sdhci-pci-o2micro: Add quirk for O2 Micro dev 0x8620 rev
  0x01 (bnc#1012628).
- sdhci: acpi: add free_slot callback (bnc#1012628).
- mtd: rawnand: denali: set SPARE_AREA_SKIP_BYTES register to
  8 if unset (bnc#1012628).
- iwlwifi: pcie: avoid empty free RB queue (bnc#1012628).
- iwlwifi: mvm: clear HW_RESTART_REQUESTED when stopping the
  interface (bnc#1012628).
- iwlwifi: mvm: check for n_profiles validity in EWRD ACPI
  (bnc#1012628).
- x86/olpc: Indicate that legacy PC XO-1 platform should not
  register RTC (bnc#1012628).
- wlcore: Fix BUG with clear completion on timeout (bnc#1012628).
- ACPI/PPTT: Handle architecturally unknown cache types
  (bnc#1012628).
- ACPI / PM: LPIT: Register sysfs attributes based on FADT
  (bnc#1012628).
- ACPI / processor: Fix the return value of
  acpi_processor_ids_walk() (bnc#1012628).
- cpufreq: dt: Try freeing static OPPs only if we have added them
  (bnc#1012628).
- x86/intel_rdt: Show missing resctrl mount options (bnc#1012628).
- mtd: rawnand: atmel: Fix potential NULL pointer dereference
  (bnc#1012628).
- nvme: call nvme_complete_rq when nvmf_check_ready fails for
  mpath I/O (bnc#1012628).
- ath10k: fix tx status flag setting for management frames
  (bnc#1012628).
- signal: Introduce COMPAT_SIGMINSTKSZ for use in
  compat_sys_sigaltstack (bnc#1012628).
- ice: fix changing of ring descriptor size (ethtool -G)
  (bnc#1012628).
- ice: update fw version check logic (bnc#1012628).
- net: hns3: Fix for packet buffer setting bug (bnc#1012628).
- Bluetooth: btbcm: Add entry for BCM4335C0 UART bluetooth
  (bnc#1012628).
- Bluetooth: hci_qca: Remove hdev dereference in qca_close()
  (bnc#1012628).
- efi/x86: Call efi_parse_options() from efi_main() (bnc#1012628).
- x86: boot: Fix EFI stub alignment (bnc#1012628).
- net: hns3: Add nic state check before calling
  netif_tx_wake_queue (bnc#1012628).
- net: hns3: Fix ets validate issue (bnc#1012628).
- pinctrl: sunxi: fix 'pctrl->functions' allocation in
  sunxi_pinctrl_build_state (bnc#1012628).
- pinctrl: qcom: spmi-mpp: Fix err handling of pmic_mpp_set_mux
  (bnc#1012628).
- brcmfmac: fix for proper support of 160MHz bandwidth
  (bnc#1012628).
- net: hns3: Check hdev state when getting link status
  (bnc#1012628).
- net: hns3: Set STATE_DOWN bit of hdev state when stopping net
  (bnc#1012628).
- net: phy: phylink: ensure the carrier is off when starting
  phylink (bnc#1012628).
- block, bfq: correctly charge and reset entity service in all
  cases (bnc#1012628).
- arm64: entry: Allow handling of undefined instructions from EL1
  (bnc#1012628).
- kprobes: Return error if we fail to reuse kprobe instead of
  BUG_ON() (bnc#1012628).
- spi: gpio: No MISO does not imply no RX (bnc#1012628).
- ACPI / LPSS: Add alternative ACPI HIDs for Cherry Trail DMA
  controllers (bnc#1012628).
- pinctrl: qcom: spmi-mpp: Fix drive strength setting
  (bnc#1012628).
- bpf/verifier: fix verifier instability (bnc#1012628).
- failover: Add missing check to validate 'slave_dev' in
  net_failover_slave_unregister (bnc#1012628).
- perf tests: Fix record+probe_libc_inet_pton.sh without ping's
  debuginfo (bnc#1012628).
- pinctrl: spmi-mpp: Fix pmic_mpp_config_get() to be compliant
  (bnc#1012628).
- pinctrl: ssbi-gpio: Fix pm8xxx_pin_config_get() to be compliant
  (bnc#1012628).
- net: hns3: Preserve vlan 0 in hardware table (bnc#1012628).
- net: hns3: Fix ping exited problem when doing lp selftest
  (bnc#1012628).
- net: hns3: Fix for vf vlan delete failed problem (bnc#1012628).
- net: dsa: mv88e6xxx: Fix writing to a PHY page (bnc#1012628).
- mt76x2u: run device cleanup routine if resume fails
  (bnc#1012628).
- rsi: fix memory alignment issue in ARM32 platforms
  (bnc#1012628).
- libertas_tf: prevent underflow in process_cmdrequest()
  (bnc#1012628).
- iwlwifi: mvm: fix BAR seq ctrl reporting (bnc#1012628).
- gpio: brcmstb: allow 0 width GPIO banks (bnc#1012628).
- ixgbe: disallow IPsec Tx offload when in SR-IOV mode
  (bnc#1012628).
- ixgbevf: VF2VF TCP RSS (bnc#1012628).
- wil6210: fix RX buffers release and unmap (bnc#1012628).
- ath10k: schedule hardware restart if WMI command times out
  (bnc#1012628).
- libata: Apply NOLPM quirk for SAMSUNG MZ7TD256HAFV-000L9
  (bnc#1012628).
- thermal: rcar_thermal: Prevent doing work after unbind
  (bnc#1012628).
- thermal: da9062/61: Prevent hardware access during system
  suspend (bnc#1012628).
- cifs: fix a credits leak for compund commands (bnc#1012628).
- cgroup, netclassid: add a preemption point to write_classid
  (bnc#1012628).
- net: stmmac: dwmac-sun8i: fix OF child-node lookup
  (bnc#1012628).
- f2fs: fix to account IO correctly for cgroup writeback
  (bnc#1012628).
- MD: Memory leak when flush bio size is zero (bnc#1012628).
- md: fix memleak for mempool (bnc#1012628).
- of: Add missing exports of node name compare functions
  (bnc#1012628).
- scsi: esp_scsi: Track residual for PIO transfers (bnc#1012628).
- scsi: ufs: Schedule clk gating work on correct queue
  (bnc#1012628).
- UAPI: ndctl: Fix g++-unsupported initialisation in headers
  (bnc#1012628).
- KVM: nVMX: Clear reserved bits of #DB exit qualification
  (bnc#1012628).
- scsi: megaraid_sas: fix a missing-check bug (bnc#1012628).
- RDMA/core: Do not expose unsupported counters (bnc#1012628).
- RDMA/cm: Respect returned status of cm_init_av_by_path
  (bnc#1012628).
- IB/ipoib: Clear IPCB before icmp_send (bnc#1012628).
- RDMA/bnxt_re: Avoid accessing nq->bar_reg_iomem in failure case
  (bnc#1012628).
- RDMA/bnxt_re: Fix recursive lock warning in debug kernel
  (bnc#1012628).
- usb: host: ohci-at91: fix request of irq for optional gpio
  (bnc#1012628).
- PCI: mediatek: Fix mtk_pcie_find_port() endpoint/port matching
  logic (bnc#1012628).
- PCI: cadence: Use AXI region 0 to signal interrupts from EP
  (bnc#1012628).
- usb: typec: tcpm: Report back negotiated PPS voltage and current
  (bnc#1012628).
- tpm: suppress transmit cmd error logs when TPM 1.2 is
  disabled/deactivated (bnc#1012628).
- f2fs: clear PageError on the read path (bnc#1012628).
- Drivers: hv: vmbus: Use cpumask_var_t for on-stack cpu mask
  (bnc#1012628).
- VMCI: Resource wildcard match fixed (bnc#1012628).
- PCI / ACPI: Enable wake automatically for power managed bridges
  (bnc#1012628).
- xprtrdma: Reset credit grant properly after a disconnect
  (bnc#1012628).
- irqchip/pdc: Setup all edge interrupts as rising edge at GIC
  (bnc#1012628).
- usb: dwc2: fix call to vbus supply exit routine, call it
  unlocked (bnc#1012628).
- usb: dwc2: fix a race with external vbus supply (bnc#1012628).
- usb: gadget: udc: atmel: handle at91sam9rl PMC (bnc#1012628).
- ext4: fix argument checking in EXT4_IOC_MOVE_EXT (bnc#1012628).
- MD: fix invalid stored role for a disk (bnc#1012628).
- PCI: cadence: Correct probe behaviour when failing to get PHY
  (bnc#1012628).
- nvmem: check the return value of nvmem_add_cells()
  (bnc#1012628).
- xhci: Avoid USB autosuspend when resuming USB2 ports
  (bnc#1012628).
- scsi: qla2xxx: Fix recursive mailbox timeout (bnc#1012628).
- f2fs: fix to recover inode's crtime during POR (bnc#1012628).
- f2fs: fix to recover inode's i_flags during POR (bnc#1012628).
- PCI/MSI: Warn and return error if driver enables MSI/MSI-X twice
  (bnc#1012628).
- coresight: etb10: Fix handling of perf mode (bnc#1012628).
- PCI: dwc: pci-dra7xx: Enable errata i870 for both EP and RC mode
  (bnc#1012628).
- crypto: caam - fix implicit casts in endianness helpers
  (bnc#1012628).
- usb: chipidea: Prevent unbalanced IRQ disable (bnc#1012628).
- Smack: ptrace capability use fixes (bnc#1012628).
- driver/dma/ioat: Call del_timer_sync() without holding prep_lock
  (bnc#1012628).
- ASoC: AMD: Fix capture unstable in beginning for some runs
  (bnc#1012628).
- firmware: coreboot: Unmap ioregion after device population
  (bnc#1012628).
- IB/ipoib: Use dev_port to expose network interface port numbers
  (bnc#1012628).
- IB/mlx5: Allow transition of DCI QP to reset (bnc#1012628).
- uio: ensure class is registered before devices (bnc#1012628).
- scsi: lpfc: Correct soft lockup when running mds diagnostics
  (bnc#1012628).
- scsi: lpfc: Correct race with abort on completion path
  (bnc#1012628).
- f2fs: avoid sleeping under spin_lock (bnc#1012628).
- f2fs: report error if quota off error during umount
  (bnc#1012628).
- signal: Always deliver the kernel's SIGKILL and SIGSTOP to a
  pid namespace init (bnc#1012628).
- f2fs: fix to flush all dirty inodes recovered in readonly fs
  (bnc#1012628).
- mfd: menelaus: Fix possible race condition and leak
  (bnc#1012628).
- dmaengine: dma-jz4780: Return error if not probed from DT
  (bnc#1012628).
- IB/rxe: fix for duplicate request processing and ack psns
  (bnc#1012628).
- ALSA: hda: Check the non-cached stream buffers more explicitly
  (bnc#1012628).
- cpupower: Fix AMD Family 0x17 msr_pstate size (bnc#1012628).
- Revert "f2fs: fix to clear PG_checked flag in set_page_dirty()"
  (bnc#1012628).
- f2fs: fix missing up_read (bnc#1012628).
- f2fs: fix to recover cold bit of inode block during POR
  (bnc#1012628).
- f2fs: fix to account IO correctly (bnc#1012628).
- OPP: Free OPP table properly on performance state irregularities
  (bnc#1012628).
- ARM: dts: exynos: Convert exynos5250.dtsi to opp-v2 bindings
  (bnc#1012628).
- ARM: dts: exynos: Mark 1 GHz CPU OPP as suspend OPP on
  Exynos5250 (bnc#1012628).
- xen-swiotlb: use actually allocated size on check physical
  continuous (bnc#1012628).
- tpm: Restore functionality to xen vtpm driver (bnc#1012628).
- xen/blkfront: avoid NULL blkfront_info dereference on device
  removal (bnc#1012628).
- xen/balloon: Support xend-based toolstack (bnc#1012628).
- xen: fix race in xen_qlock_wait() (bnc#1012628).
- xen: make xen_qlock_wait() nestable (bnc#1012628).
- xen/pvh: increase early stack size (bnc#1012628).
- xen/pvh: don't try to unplug emulated devices (bnc#1012628).
- libertas: don't set URB_ZERO_PACKET on IN USB transfer
  (bnc#1012628).
- usbip:vudc: BUG kmalloc-2048 (Not tainted): Poison overwritten
  (bnc#1012628).
- usb: typec: tcpm: Fix APDO PPS order checking to be based on
  voltage (bnc#1012628).
- usb: gadget: udc: renesas_usb3: Fix b-device mode for
  "workaround" (bnc#1012628).
- mt76: mt76x2: fix multi-interface beacon configuration
  (bnc#1012628).
- iwlwifi: mvm: check return value of rs_rate_from_ucode_rate()
  (bnc#1012628).
- net/ipv4: defensive cipso option parsing (bnc#1012628).
- dmaengine: ppc4xx: fix off-by-one build failure (bnc#1012628).
- scsi: sched/wait: Add wait_event_lock_irq_timeout for
  TASK_UNINTERRUPTIBLE usage (bnc#1012628).
- scsi: target: Fix target_wait_for_sess_cmds breakage with
  active signals (bnc#1012628).
- libnvdimm: Hold reference on parent while scheduling async init
  (bnc#1012628).
- libnvdimm, region: Fail badblocks listing for inactive regions
  (bnc#1012628).
- libnvdimm, pmem: Fix badblocks population for 'raw' namespaces
  (bnc#1012628).
- ASoC: intel: skylake: Add missing break in skl_tplg_get_token()
  (bnc#1012628).
- ASoC: sta32x: set ->component pointer in private struct
  (bnc#1012628).
- IB/mlx5: Fix MR cache initialization (bnc#1012628).
- IB/rxe: Revise the ib_wr_opcode enum (bnc#1012628).
- jbd2: fix use after free in jbd2_log_do_checkpoint()
  (bnc#1012628).
- gfs2_meta: ->mount() can get NULL dev_name (bnc#1012628).
- ext4: fix EXT4_IOC_SWAP_BOOT (bnc#1012628).
- ext4: initialize retries variable in
  ext4_da_write_inline_data_begin() (bnc#1012628).
- ext4: fix setattr project check in fssetxattr ioctl
  (bnc#1012628).
- ext4: propagate error from dquot_initialize() in
  EXT4_IOC_FSSETXATTR (bnc#1012628).
- ext4: fix use-after-free race in ext4_remount()'s error path
  (bnc#1012628).
- selinux: fix mounting of cgroup2 under older policies
  (bnc#1012628).
- HID: wacom: Work around HID descriptor bug in DTK-2451 and
  DTH-2452 (bnc#1012628).
- HID: hiddev: fix potential Spectre v1 (bnc#1012628).
- EDAC, amd64: Add Family 17h, models 10h-2fh support
  (bnc#1012628).
- EDAC, {i7core,sb,skx}_edac: Fix uncorrected error counting
  (bnc#1012628).
- EDAC, skx_edac: Fix logical channel intermediate decoding
  (bnc#1012628).
- ARM: dts: dra7: Fix up unaligned access setting for PCIe EP
  (bnc#1012628).
- PCI/ASPM: Fix link_state teardown on device removal
  (bnc#1012628).
- PCI: Add Device IDs for Intel GPU "spurious interrupt" quirk
  (bnc#1012628).
- signal/GenWQE: Fix sending of SIGKILL (bnc#1012628).
- signal: Guard against negative signal numbers in
  copy_siginfo_from_user32 (bnc#1012628).
- crypto: lrw - Fix out-of bounds access on counter overflow
  (bnc#1012628).
- crypto: tcrypt - fix ghash-generic speed test (bnc#1012628).
- crypto: aesni - don't use GFP_ATOMIC allocation if the request
  doesn't cross a page in gcm (bnc#1012628).
- crypto: morus/generic - fix for big endian systems
  (bnc#1012628).
- crypto: aegis/generic - fix for big endian systems
  (bnc#1012628).
- crypto: speck - remove Speck (bnc#1012628).
- mm: /proc/pid/smaps_rollup: fix NULL pointer deref in
  smaps_pte_range() (bnc#1012628).
- userfaultfd: disable irqs when taking the waitqueue lock
  (bnc#1012628).
- ima: fix showing large 'violations' or
  'runtime_measurements_count' (bnc#1012628).
- ima: open a new file instance if no read permissions
  (bnc#1012628).
- hugetlbfs: dirty pages as they are added to pagecache
  (bnc#1012628).
- mm/rmap: map_pte() was not handling private ZONE_DEVICE page
  properly (bnc#1012628).
- mm/hmm: fix race between hmm_mirror_unregister() and
  mmu_notifier callback (bnc#1012628).
- KVM: arm/arm64: Ensure only THP is candidate for adjustment
  (bnc#1012628).
- KVM: arm64: Fix caching of host MDCR_EL2 value (bnc#1012628).
- kbuild: fix kernel/bounds.c 'W=1' warning (bnc#1012628).
- iio: ad5064: Fix regulator handling (bnc#1012628).
- iio: adc: imx25-gcq: Fix leak of device_node in
  mx25_gcq_setup_cfgs() (bnc#1012628).
- iio: adc: at91: fix acking DRDY irq on simple conversions
  (bnc#1012628).
- iio: adc: at91: fix wrong channel number in triggered buffer
  mode (bnc#1012628).
- w1: omap-hdq: fix missing bus unregister at removal
  (bnc#1012628).
- smb3: allow stats which track session and share reconnects to
  be reset (bnc#1012628).
- smb3: do not attempt cifs operation in smb3 query info error
  path (bnc#1012628).
- smb3: on kerberos mount if server doesn't specify auth type
  use krb5 (bnc#1012628).
- printk: Fix panic caused by passing log_buf_len to command line
  (bnc#1012628).
- genirq: Fix race on spurious interrupt detection (bnc#1012628).
- tpm: fix response size validation in tpm_get_random()
  (bnc#1012628).
- NFC: nfcmrvl_uart: fix OF child-node lookup (bnc#1012628).
- NFSv4.1: Fix the r/wsize checking (bnc#1012628).
- nfs: Fix a missed page unlock after pg_doio() (bnc#1012628).
- nfsd: correctly decrement odstate refcount in error path
  (bnc#1012628).
- nfsd: Fix an Oops in free_session() (bnc#1012628).
- lockd: fix access beyond unterminated strings in prints
  (bnc#1012628).
- dm ioctl: harden copy_params()'s copy_from_user() from malicious
  users (bnc#1012628).
- dm zoned: fix metadata block ref counting (bnc#1012628).
- dm zoned: fix various dmz_get_mblock() issues (bnc#1012628).
- media: ov7670: make "xclk" clock optional (bnc#1012628).
- fsnotify: Fix busy inodes during unmount (bnc#1012628).
- powerpc64/module elfv1: Set opd addresses after module
  relocation (bnc#1012628).
- powerpc/msi: Fix compile error on mpc83xx (bnc#1012628).
- powerpc/tm: Fix HFSCR bit for no suspend case (bnc#1012628).
- powerpc/64s/hash: Do not use PPC_INVALIDATE_ERAT on CPUs before
  POWER9 (bnc#1012628).
- MIPS: OCTEON: fix out of bounds array access on CN68XX
  (bnc#1012628).
- rtc: ds1307: fix ds1339 wakealarm support (bnc#1012628).
- rtc: cmos: Fix non-ACPI undefined reference to
  `hpet_rtc_interrupt' (bnc#1012628).
- rtc: cmos: Remove the `use_acpi_alarm' module parameter for
  !ACPI (bnc#1012628).
- power: supply: twl4030-charger: fix OF sibling-node lookup
  (bnc#1012628).
- ocxl: Fix access to the AFU Descriptor Data (bnc#1012628).
- iommu/arm-smmu: Ensure that page-table updates are visible
  before TLBI (bnc#1012628).
- TC: Set DMA masks for devices (bnc#1012628).
- net: bcmgenet: fix OF child-node lookup (bnc#1012628).
- media: v4l2-tpg: fix kernel oops when enabling HFLIP and OSD
  (bnc#1012628).
- Revert "media: dvbsky: use just one mutex for serializing
  device R/W ops" (bnc#1012628).
- kgdboc: Passing ekgdboc to command line causes panic
  (bnc#1012628).
- remoteproc: qcom: q6v5: Propagate EPROBE_DEFER (bnc#1012628).
- media: cec: make cec_get_edid_spa_location() an inline function
  (bnc#1012628).
- media: cec: integrate cec_validate_phys_addr() in cec-api.c
  (bnc#1012628).
- xen: fix xen_qlock_wait() (bnc#1012628).
- xen: remove size limit of privcmd-buf mapping interface
  (bnc#1012628).
- xen-blkfront: fix kernel panic with negotiate_mq error path
  (bnc#1012628).
- media: cec: add new tx/rx status bits to detect aborts/timeouts
  (bnc#1012628).
- media: cec: fix the Signal Free Time calculation (bnc#1012628).
- media: cec: forgot to cancel delayed work (bnc#1012628).
- media: em28xx: use a default format if TRY_FMT fails
  (bnc#1012628).
- media: tvp5150: avoid going past array on v4l2_querymenu()
  (bnc#1012628).
- media: em28xx: fix input name for Terratec AV 350 (bnc#1012628).
- media: em28xx: make v4l2-compliance happier by starting sequence
  on zero (bnc#1012628).
- media: em28xx: fix handler for vidioc_s_input() (bnc#1012628).
- media: adv7604: when the EDID is cleared, unconfigure CEC as
  well (bnc#1012628).
- media: adv7842: when the EDID is cleared, unconfigure CEC as
  well (bnc#1012628).
- drm/mediatek: fix OF sibling-node lookup (bnc#1012628).
- media: media colorspaces*.rst: rename AdobeRGB to opRGB
  (bnc#1012628).
- media: replace ADOBERGB by OPRGB (bnc#1012628).
- media: hdmi.h: rename ADOBE_RGB to OPRGB and ADOBE_YCC to OPYCC
  (bnc#1012628).
- arm64: lse: remove -fcall-used-x0 flag (bnc#1012628).
- rpmsg: smd: fix memory leak on channel create (bnc#1012628).
- Cramfs: fix abad comparison when wrap-arounds occur
  (bnc#1012628).
- ARM: dts: socfpga: Fix SDRAM node address for Arria10
  (bnc#1012628).
- arm64: dts: stratix10: Correct System Manager register size
  (bnc#1012628).
- soc: qcom: rmtfs-mem: Validate that scm is available
  (bnc#1012628).
- soc/tegra: pmc: Fix child-node lookup (bnc#1012628).
- selftests/ftrace: Fix synthetic event test to delete event
  correctly (bnc#1012628).
- selftests/powerpc: Fix ptrace tm failure (bnc#1012628).
- tracing: Return -ENOENT if there is no target synthetic event
  (bnc#1012628).
- btrfs: qgroup: Avoid calling qgroup functions if qgroup is
  not enabled (bnc#1012628).
- btrfs: Handle owner mismatch gracefully when walking up tree
  (bnc#1012628).
- btrfs: locking: Add extra check in btrfs_init_new_buffer()
  to avoid deadlock (bnc#1012628).
- btrfs: fix error handling in free_log_tree (bnc#1012628).
- btrfs: fix error handling in btrfs_dev_replace_start
  (bnc#1012628).
- btrfs: Enhance btrfs_trim_fs function to handle error better
  (bnc#1012628).
- btrfs: Ensure btrfs_trim_fs can trim the whole filesystem
  (bnc#1012628).
- btrfs: iterate all devices during trim, instead of
  fs_devices::alloc_list (bnc#1012628).
- btrfs: don't attempt to trim devices that don't support it
  (bnc#1012628).
- btrfs: keep trim from interfering with transaction commits
  (bnc#1012628).
- btrfs: wait on caching when putting the bg cache (bnc#1012628).
- Btrfs: don't clean dirty pages during buffered writes
  (bnc#1012628).
- btrfs: release metadata before running delayed refs
  (bnc#1012628).
- btrfs: protect space cache inode alloc with GFP_NOFS
  (bnc#1012628).
- btrfs: reset max_extent_size on clear in a bitmap (bnc#1012628).
- btrfs: make sure we create all new block groups (bnc#1012628).
- Btrfs: fix warning when replaying log after fsync of a tmpfile
  (bnc#1012628).
- Btrfs: fix wrong dentries after fsync of file that got its
  parent replaced (bnc#1012628).
- btrfs: qgroup: Dirty all qgroups before rescan (bnc#1012628).
- Btrfs: fix null pointer dereference on compressed write path
  error (bnc#1012628).
- Btrfs: fix assertion on fsync of regular file when using
  no-holes feature (bnc#1012628).
- Btrfs: fix deadlock when writing out free space caches
  (bnc#1012628).
- btrfs: reset max_extent_size properly (bnc#1012628).
- btrfs: set max_extent_size properly (bnc#1012628).
- btrfs: don't use ctl->free_space for max_extent_size
  (bnc#1012628).
- btrfs: only free reserved extent if we didn't insert it
  (bnc#1012628).
- btrfs: fix insert_reserved error handling (bnc#1012628).
- btrfs: don't run delayed_iputs in commit (bnc#1012628).
- btrfs: move the dio_sem higher up the callchain (bnc#1012628).
- Btrfs: fix use-after-free during inode eviction (bnc#1012628).
- Btrfs: fix use-after-free when dumping free space (bnc#1012628).
- net: sched: Remove TCA_OPTIONS from policy (bnc#1012628).
- userns: also map extents in the reverse map to kernel IDs
  (bnc#1012628).
- bpf: wait for running BPF programs when updating map-in-map
  (bnc#1012628).
- vga_switcheroo: Fix missing gpu_bound call at audio client
  registration (bnc#1012628).
- MD: fix invalid stored role for a disk - try2 (bnc#1012628).
- Refresh
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- commit 8adee6e

-------------------------------------------------------------------
Tue Nov 13 20:28:37 CET 2018 - msuchanek@suse.de

- Add kernel-subpackage-build.spec (FATE#326579).
   - add kernel-subpackage-build.spec.in and support scripts
   - hook it in mkspec
   - extend the mechanism that copies dependencies inside
   kernel-binary.spec.in from kernel-%build_flavor to
   kernel-%build_flavor-base to also handle
   kernel-subpackage-build.spec.in using BINARY DEPS marker.
   - expand %name in kernel-%build_flavor so the dependencies are expanded
   correctly in kernel-subpackage-build.spec.in
- commit 9b3ca32

-------------------------------------------------------------------
Mon Nov 12 07:01:19 CET 2018 - mkubecek@suse.cz

- Update to 4.20-rc2
- Eliminated 1 patch
- Config changes:
  - I2C:
    I2C_NVIDIA_GPU=m
  - USB:
    UCSI_CCG=m
- commit 1c08d7f

-------------------------------------------------------------------
Sun Nov 11 19:26:40 CET 2018 - afaerber@suse.de

- config: arm64: Update to 4.20-rc1
- commit 2d02cd8

-------------------------------------------------------------------
Sun Nov 11 10:17:28 CET 2018 - jslaby@suse.cz

- vt: fix broken display when running aptitude (bnc#1114836).
- commit 5bec309

-------------------------------------------------------------------
Thu Nov  8 08:13:47 CET 2018 - jslaby@suse.cz

- doc/README.SUSE: correct GIT url
  No more gitorious, github we use.
- commit 31864f3

-------------------------------------------------------------------
Tue Nov  6 14:08:44 CET 2018 - mkubecek@suse.cz

- config: reenable BPFILTER_UMH on ppc64
- commit 46cb36e

-------------------------------------------------------------------
Tue Nov  6 13:33:13 CET 2018 - agraf@suse.de

- Remove Cell/PS3 support from ppc64 kernel (boo#1114846)
- commit c336d64

-------------------------------------------------------------------
Mon Nov  5 18:28:38 CET 2018 - mkubecek@suse.cz

- scripts/mkmakefile: honor second argument.
- commit 78325a6

-------------------------------------------------------------------
Mon Nov  5 18:22:18 CET 2018 - mkubecek@suse.cz

- rpm/kernel-binary.spec.in: add macros.s into kernel-*-devel
  Starting with 4.20-rc1, file arch/*/kernel/macros.s is needed to build out
  of tree modules. Add it to kernel-${flavor}-devel packages if it exists.
- commit 09d14c8

-------------------------------------------------------------------
Mon Nov  5 14:16:00 CET 2018 - mkubecek@suse.cz

- series.conf: delete an obsolete comment
- commit c3bd57d

-------------------------------------------------------------------
Mon Nov  5 08:30:26 CET 2018 - jslaby@suse.cz

- Refresh
  patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
  Adapt to 4.20.
- commit dcaec93

-------------------------------------------------------------------
Mon Nov  5 08:18:35 CET 2018 - jslaby@suse.cz

- Linux 4.19.1 (bnc#1012628).
- net: bridge: remove ipv6 zero address check in mcast queries
  (bnc#1012628).
- sparc64: Wire up compat getpeername and getsockname
  (bnc#1012628).
- sparc64: Make corrupted user stacks more debuggable
  (bnc#1012628).
- sparc64: Export __node_distance (bnc#1012628).
- sctp: check policy more carefully when getting pr status
  (bnc#1012628).
- Revert "be2net: remove desc field from be_eq_obj" (bnc#1012628).
- r8169: fix broken Wake-on-LAN from S5 (poweroff) (bnc#1012628).
- net: Properly unlink GRO packets on overflow (bnc#1012628).
- net: drop skb on failure in ip_check_defrag() (bnc#1012628).
- mlxsw: core: Fix devlink unregister flow (bnc#1012628).
- mlxsw: spectrum_switchdev: Don't ignore deletions of learned
  MACs (bnc#1012628).
- net/smc: fix smc_buf_unuse to use the lgr pointer (bnc#1012628).
- net/ipv6: Allow onlink routes to have a device mismatch if it
  is the default route (bnc#1012628).
- openvswitch: Fix push/pop ethernet validation (bnc#1012628).
- bonding: fix length of actor system (bnc#1012628).
- vhost: Fix Spectre V1 vulnerability (bnc#1012628).
- rtnetlink: Disallow FDB configuration for non-Ethernet device
  (bnc#1012628).
- Revert "net: simplify sock_poll_wait" (bnc#1012628).
- net: udp: fix handling of CHECKSUM_COMPLETE packets
  (bnc#1012628).
- net: stmmac: Fix stmmac_mdio_reset() when building stmmac as
  modules (bnc#1012628).
- net: sched: gred: pass the right attribute to
  gred_change_table_def() (bnc#1012628).
- net/mlx5e: fix csum adjustments caused by RXFCS (bnc#1012628).
- ipv6/ndisc: Preserve IPv6 control buffer if protocol error
  handlers are called (bnc#1012628).
- bridge: do not add port to router list when receives query
  with source 0.0.0.0 (bnc#1012628).
- commit 57135d7

-------------------------------------------------------------------
Mon Nov  5 05:38:24 CET 2018 - mkubecek@suse.cz

- Update to 4.20-rc1
- ARM configs need updating
- disabled (needs refresh):
  patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch
- Config changes:
  - General:
    - PSI=y
  - Networking:
    - NFT_XFRM=m
    - NET_SCH_TAPRIO=m
    - BATMAN_ADV_TRACING=n
    - NCSI_OEM_CMD_GET_MAC=y
    - EEPROM_EE1004=m
    - SCSI_UFS_BSG=y
    - SCSI_MYRB=m
    - SCSI_MYRS=m
    - IXGBE_IPSEC=y
    - IXGBEVF_IPSEC=y
    - IGC=m
    - NI_XGE_MANAGEMENT_ENET=m
    - MT76x0E=m
  - File systems:
    - EROFS_FS_IO_MAX_RETRIES=5 (default)
    - AFS_DEBUG_CURSOR=n
    - CONFIG_UBIFS_FS_AUTHENTICATION=y
  - Crypto:
    - CRYPTO_OFB=m
    - CRYPTO_STATS=n
    - ASYMMETRIC_TPM_KEY_SUBTYPE=m
    - PKCS8_PRIVATE_KEY_PARSER=m
    - TPM_KEY_PARSER=m
  - Graphics:
    - VIDEO_VICODEC=m
    - DRM_FBDEV_LEAK_PHYS_SMEM=n
    - DRM_I915_DEBUG_RUNTIME_PM=n
    - DRM_TOSHIBA_TC358764=n
    - DRM_TI_SN65DSI86=n
  - Sound:
    - SND_SOC_INTEL_KBL_DA7219_MAX98927_MACH=m
    - SND_SOC_INTEL_SKL_HDA_DSP_GENERIC_MACH=m
    - SND_SOC_MAX98088=n
    - SND_SOC_PCM3060_I2C=n
    - SND_SOC_PCM3060_SPI=n
    - SND_SOC_NAU8822=n
  - Input devices:
    - HID_BIGBEN_FF=m
  - Platform:
    - LG_LAPTOP=m
    - INTEL_ATOMISP2_PM=m
  - IIO:
    - ADXL372_SPI=n
    - ADXL372_I2C=n
    - MCP3911=n
    - QCOM_SPMI_ADC5=n
    - LTC1660=n
    - VL53L0X_I2C=m
  - Misc drivers:
    - UDMABUF=y
    - MFD_AT91_USART=n
    - LEDS_AN30259A=n
    - LEDS_TRIGGER_PATTERN=m
    - PHY_CADENCE_DP=m
    - STM_PROTO_BASIC=m
    - STM_PROTO_SYS_T=m
  - Testing:
    - TEST_XARRAY=n
    - TEST_MEMCAT_P=n
  - x86:
    - X86_CPA_STATISTICS=n (y for -debug)
  - i386:
    - MSCC_OCELOT_SWITCH_OCELOT=m
  - ppc64, ppc64le:
    - PAPR_SCM=m
    - PCI_P2PDMA=y
    - STACKPROTECTOR=y
    - STACKPROTECTOR_STRONG=n
    - BLK_DEV_PMEM=m
    - ND_BLK=m
    - BTT=y
    - NVDIMM_PFN=y
    - NVDIMM_DAX=y
    - OF_PMEM=m
    - DEV_DAX_PMEM=m
    - FAIL_FUNCTION=n
    - ENA_ETHERNET=m
  - s390:
    - VMAP_STACK=y
    - S390_AP_IOMMU=n
    - ZCRYPT_MULTIDEVNODES=y
    - KASAN=n
  - */debug:
    - INTEL_IOMMU_DEBUGFS=y
    - BPF_KPROBE_OVERRIDE=y
    - CONFIG_X86_CPA_STATISTICS=y
    - CONFIG_CRYPTO_STATS=y
- commit f29310b

-------------------------------------------------------------------
Sun Nov  4 13:36:43 CET 2018 - mkubecek@suse.cz

- rpm: use syncconfig instead of silentoldconfig where available
  Since mainline commit 0085b4191f3e ("kconfig: remove silentoldconfig
  target"), "make silentoldconfig" can be no longer used. Use "make
  syncconfig" instead if available.
- commit a239c6e

-------------------------------------------------------------------
Fri Nov  2 14:52:15 CET 2018 - mkubecek@suse.cz

- series.conf: more descriptive name for network driver section
  We have two networking sections in series.conf: one for networking core and
  one for network drivers. The latter is among other driver related sections
  but it may not be obvious that it is not intended for core networking
  patches. Change the label to "Network drivers" to make its purpose more
  apparent.
- commit 7968e32

-------------------------------------------------------------------
Fri Nov  2 14:49:13 CET 2018 - mkubecek@suse.cz

- config: enable SCSI_AACRAID on ppc64le and ppc64 (bsc#1114523)
- commit 5f3762b

-------------------------------------------------------------------
Tue Oct 30 13:54:17 CET 2018 - jslaby@suse.cz

- Refresh
  patches.suse/netfilter-bridge-define-INT_MIN-INT_MAX-in-userspace.patch.
  Update upstream status.
- commit 37417fa

-------------------------------------------------------------------
Mon Oct 29 23:33:58 CET 2018 - jmoreira@suse.de

- Add version information to KLP_SYMBOLS file
- commit f77f8d2

-------------------------------------------------------------------
Mon Oct 29 16:24:59 CET 2018 - tiwai@suse.de

- cdrom: fix improper type cast, which can leat to information
  leak (CVE-2018-18710,bsc#1113751).
- commit 6216efb

-------------------------------------------------------------------
Thu Oct 25 22:35:11 CEST 2018 - mwilck@suse.com

- rpm/kernel-binary.spec.in: allow unsupported modules for -extra
  (bsc#1111183). SLE-15 and later only.
- commit 0d585a8

-------------------------------------------------------------------
Wed Oct 24 19:37:20 CEST 2018 - mkubecek@suse.cz

- series.conf: move patches.suse/netfilter-bridge-define-INT_MIN-INT_MAX-in-userspace.patch to netfilter section
- commit 7656685

-------------------------------------------------------------------
Wed Oct 24 13:55:42 CEST 2018 - jslaby@suse.cz

- netfilter: bridge: define INT_MIN & INT_MAX in userspace
  (4.19 fixes).
- commit e7213f6

-------------------------------------------------------------------
Mon Oct 22 10:12:05 CEST 2018 - mkubecek@suse.cz

- Update to 4.19 final
- Refresh configs
- commit b4c35bb

-------------------------------------------------------------------
Sat Oct 20 19:52:04 CEST 2018 - jslaby@suse.cz

- Linux 4.18.16 (bnc#1012628).
- ARC: build: Don't set CROSS_COMPILE in arch's Makefile
  (bnc#1012628).
- ARC: build: Get rid of toolchain check (bnc#1012628).
- mremap: properly flush TLB before releasing the page
  (bnc#1012628).
- Revert "vfs: fix freeze protection in mnt_want_write_file()
  for overlayfs" (bnc#1012628).
- x86/boot: Fix kexec booting failure in the SEV bit detection
  code (bnc#1012628).
- iommu/amd: Return devid as alias for ACPI HID devices
  (bnc#1012628).
- powerpc/numa: Use associativity if VPHN hcall is successful
  (bnc#1012628).
- powerpc/tm: Avoid possible userspace r1 corruption on reclaim
  (bnc#1012628).
- powerpc/tm: Fix userspace r13 corruption (bnc#1012628).
- pinctrl/amd: poll InterruptEnable bits in amd_gpio_irq_set_type
  (bnc#1012628).
- iommu/rockchip: Free irqs in shutdown handler (bnc#1012628).
- RISC-V: include linux/ftrace.h in asm-prototypes.h
  (bnc#1012628).
- RDMA/bnxt_re: Fix system crash during RDMA resource
  initialization (bnc#1012628).
- clocksource/drivers/fttmr010: Fix set_next_event handler
  (bnc#1012628).
- net/mlx4: Use cpumask_available for eq->affinity_mask
  (bnc#1012628).
- bpf: test_maps, only support ESTABLISHED socks (bnc#1012628).
- bpf: sockmap, fix transition through disconnect without close
  (bnc#1012628).
- bpf: sockmap only allow ESTABLISHED sock state (bnc#1012628).
- scsi: sd: don't crash the host on invalid commands
  (bnc#1012628).
- scsi: ipr: System hung while dlpar adding primary ipr adapter
  back (bnc#1012628).
- drm: mali-dp: Call drm_crtc_vblank_reset on device init
  (bnc#1012628).
- scsi: lpfc: Synchronize access to remoteport via rport
  (bnc#1012628).
- RDMA/uverbs: Fix validity check for modify QP (bnc#1012628).
- PCI: dwc: Fix scheduling while atomic issues (bnc#1012628).
- qed: Do not add VLAN 0 tag to untagged frames in multi-function
  mode (bnc#1012628).
- qed: Fix populating the invalid stag value in multi function
  mode (bnc#1012628).
- net/smc: fix sizeof to int comparison (bnc#1012628).
- net/smc: fix non-blocking connect problem (bnc#1012628).
- ravb: do not write 1 to reserved bits (bnc#1012628).
- net: emac: fix fixed-link setup for the RTL8363SB switch
  (bnc#1012628).
- selftests: pmtu: properly redirect stderr to /dev/null
  (bnc#1012628).
- Input: atakbd - fix Atari CapsLock behaviour (bnc#1012628).
- Input: atakbd - fix Atari keymap (bnc#1012628).
- intel_th: pci: Add Ice Lake PCH support (bnc#1012628).
- scsi: ibmvscsis: Ensure partition name is properly NUL
  terminated (bnc#1012628).
- scsi: ibmvscsis: Fix a stringop-overflow warning (bnc#1012628).
- clocksource/drivers/ti-32k: Add CLOCK_SOURCE_SUSPEND_NONSTOP
  flag for non-am43 SoCs (bnc#1012628).
- cxgb4: fix abort_req_rss6 struct (bnc#1012628).
- batman-adv: fix hardif_neigh refcount on queue_work() failure
  (bnc#1012628).
- batman-adv: fix backbone_gw refcount on queue_work() failure
  (bnc#1012628).
- batman-adv: Prevent duplicated tvlv handler (bnc#1012628).
- batman-adv: Prevent duplicated global TT entry (bnc#1012628).
- batman-adv: Prevent duplicated softif_vlan entry (bnc#1012628).
- batman-adv: Prevent duplicated nc_node entry (bnc#1012628).
- batman-adv: Prevent duplicated gateway_node entry (bnc#1012628).
- batman-adv: Fix segfault when writing to sysfs elp_interval
  (bnc#1012628).
- batman-adv: Fix segfault when writing to throughput_override
  (bnc#1012628).
- batman-adv: Avoid probe ELP information leak (bnc#1012628).
- spi: gpio: Fix copy-and-paste error (bnc#1012628).
- media: af9035: prevent buffer overflow on write (bnc#1012628).
- soundwire: Fix acquiring bus lock twice during master release
  (bnc#1012628).
- soundwire: Fix incorrect exit after configuring stream
  (bnc#1012628).
- soundwire: Fix duplicate stream state assignment (bnc#1012628).
- commit bd19c86

-------------------------------------------------------------------
Thu Oct 18 10:55:11 CEST 2018 - jslaby@suse.cz

- Linux 4.18.15 (bnc#1012628).
- KVM: PPC: Book3S HV: Avoid crash from THP collapse during
  radix page fault (bnc#1012628).
- i2c: i2c-scmi: fix for i2c_smbus_write_block_data (bnc#1012628).
- mm: Preserve _PAGE_DEVMAP across mprotect() calls (bnc#1012628).
- filesystem-dax: Fix dax_layout_busy_page() livelock
  (bnc#1012628).
- mm/thp: fix call to mmu_notifier in set_pmd_migration_entry()
  v2 (bnc#1012628).
- mm/mmap.c: don't clobber partially overlapping VMA with
  MAP_FIXED_NOREPLACE (bnc#1012628).
- arm64: perf: Reject stand-alone CHAIN events for PMUv3
  (bnc#1012628).
- pinctrl: mcp23s08: fix irq and irqchip setup order
  (bnc#1012628).
- mmc: block: avoid multiblock reads for the last sector in SPI
  mode (bnc#1012628).
- drm/nouveau/drm/nouveau: Grab runtime PM ref in
  nv50_mstc_detect() (bnc#1012628).
- Input: xpad - add support for Xbox1 PDP Camo series gamepad
  (bnc#1012628).
- cgroup: Fix dom_cgrp propagation when enabling threaded mode
  (bnc#1012628).
- dm linear: fix linear_end_io conditional definition
  (bnc#1012628).
- dm linear: eliminate linear_end_io call if CONFIG_DM_ZONED
  disabled (bnc#1012628).
- dm: fix report zone remapping to account for partition offset
  (bnc#1012628).
- dm cache: destroy migration_cache if cache target registration
  failed (bnc#1012628).
- s390/cio: Fix how vfio-ccw checks pinned pages (bnc#1012628).
- perf script python: Fix export-to-sqlite.py sample columns
  (bnc#1012628).
- perf script python: Fix export-to-postgresql.py occasional
  failure (bnc#1012628).
- percpu: stop leaking bitmap metadata blocks (bnc#1012628).
- vsprintf: Fix off-by-one bug in bstr_printf() processing
  dereferenced pointers (bnc#1012628).
- mach64: detect the dot clock divider correctly on sparc
  (bnc#1012628).
- MIPS: VDSO: Always map near top of user memory (bnc#1012628).
- MIPS: Fix CONFIG_CMDLINE handling (bnc#1012628).
- afs: Fix clearance of reply (bnc#1012628).
- afs: Fix afs_server struct leak (bnc#1012628).
- mm/vmstat.c: fix outdated vmstat_text (bnc#1012628).
- mm: slowly shrink slabs with a relatively small number of
  objects (bnc#1012628).
- drm/amdkfd: Fix ATS capablity was not reported correctly on
  some APUs (bnc#1012628).
- drm/amdkfd: Change the control stack MTYPE from UC to NC on GFX9
  (bnc#1012628).
- drm/amdgpu: Fix SDMA HQD destroy error on gfx_v7 (bnc#1012628).
- x86/kvm/lapic: always disable MMIO interface in x2APIC mode
  (bnc#1012628).
- pinctrl: cannonlake: Fix gpio base for GPP-E (bnc#1012628).
- clk: x86: Stop marking clocks as CLK_IS_CRITICAL (bnc#1012628).
- clk: x86: add "ether_clk" alias for Bay Trail / Cherry Trail
  (bnc#1012628).
- PCI: hv: support reporting serial number as slot information
  (bnc#1012628).
- ARM: dts: at91: add new compatibility string for macb on sama5d3
  (bnc#1012628).
- net: macb: disable scatter-gather for macb on sama5d3
  (bnc#1012628).
- net: ethernet: ti: add missing GENERIC_ALLOCATOR dependency
  (bnc#1012628).
- hwmon: (nct6775) Use different register to get fan RPM for fan7
  (bnc#1012628).
- stmmac: fix valid numbers of unicast filter entries
  (bnc#1012628).
- hwmon: (nct6775) Fix RPM output for fan7 on NCT6796D
  (bnc#1012628).
- hwmon: (nct6775) Fix virtual temperature sources for NCT6796D
  (bnc#1012628).
- bpf: use __GFP_COMP while allocating page (bnc#1012628).
- bpf: btf: Fix end boundary calculation for type section
  (bnc#1012628).
- sound: don't call skl_init_chip() to reset intel skl soc
  (bnc#1012628).
- sound: enable interrupt after dma buffer initialization
  (bnc#1012628).
- scsi: qla2xxx: Fix an endian bug in fcpcmd_is_corrupted()
  (bnc#1012628).
- scsi: iscsi: target: Don't use stack buffer for scatterlist
  (bnc#1012628).
- KVM: PPC: Book3S HV: Don't use compound_order to determine
  host mapping size (bnc#1012628).
- mfd: omap-usb-host: Fix dts probe of children (bnc#1012628).
- Bluetooth: hci_ldisc: Free rw_semaphore on close (bnc#1012628).
- Bluetooth: Use correct tfm to generate OOB data (bnc#1012628).
- Bluetooth: SMP: Fix trying to use non-existent local OOB data
  (bnc#1012628).
- drm/pl111: Make sure of_device_id tables are NULL terminated
  (bnc#1012628).
- ASoC: AMD: Ensure reset bit is cleared before configuring
  (bnc#1012628).
- Fix cg_read_strcmp() (bnc#1012628).
- hwmon: (nct6775) Fix access to fan pulse registers
  (bnc#1012628).
- ASoC: rsnd: don't fallback to PIO mode when -EPROBE_DEFER
  (bnc#1012628).
- ASoC: rsnd: adg: care clock-frequency size (bnc#1012628).
- selftests: memory-hotplug: add required configs (bnc#1012628).
- selftests/efivarfs: add required kernel configs (bnc#1012628).
- selftests: add headers_install to lib.mk (bnc#1012628).
- ASoC: q6routing: initialize data correctly (bnc#1012628).
- ASoC: sigmadsp: safeload should not have lower byte limit
  (bnc#1012628).
- ASoC: wm8804: Add ACPI support (bnc#1012628).
- ASoC: max98373: Added 10ms sleep after amp software reset
  (bnc#1012628).
- selftests: kselftest: Remove outdated comment (bnc#1012628).
- selftests: android: move config up a level (bnc#1012628).
- ASoC: rt5514: Fix the issue of the delay volume applied again
  (bnc#1012628).
- ASoC: max98373: Added speaker FS gain cotnrol register to
  volatile (bnc#1012628).
- ASoC: dapm: Fix NULL pointer deference on CODEC to CODEC DAIs
  (bnc#1012628).
- vxlan: fill ttl inherit info (bnc#1012628).
- r8169: set RX_MULTI_EN bit in RxConfig for 8168F-family chips
  (bnc#1012628).
- r8169: fix network stalls due to missing bit TXCFG_AUTO_FIFO
  (bnc#1012628).
- qed: Fix shmem structure inconsistency between driver and the
  mfw (bnc#1012628).
- net: mscc: fix the frame extraction into the skb (bnc#1012628).
- net/ipv6: stop leaking percpu memory in fib6 info (bnc#1012628).
- net/ipv6: Remove extra call to ip6_convert_metrics for multipath
  case (bnc#1012628).
- bnxt_en: get the reduced max_irqs by the ones used by RDMA
  (bnc#1012628).
- bnxt_en: Fix enables field in HWRM_QUEUE_COS2BW_CFG request
  (bnc#1012628).
- net/mlx5: Check for SQ and not RQ state when modifying hairpin
  SQ (bnc#1012628).
- net: ipv4: don't let PMTU updates increase route MTU
  (bnc#1012628).
- bnxt_en: Fix VNIC reservations on the PF (bnc#1012628).
- rtnetlink: Fail dump if target netnsid is invalid (bnc#1012628).
- net: dsa: b53: Keep CPU port as tagged in all VLANs
  (bnc#1012628).
- inet: make sure to grab rcu_read_lock before using
  ireq->ireq_opt (bnc#1012628).
- tcp/dccp: fix lockdep issue when SYN is backlogged
  (bnc#1012628).
- sfp: fix oops with ethtool -m (bnc#1012628).
- net: phy: phylink: fix SFP interface autodetection
  (bnc#1012628).
- net-ethtool: ETHTOOL_GUFO did not and should not require
  CAP_NET_ADMIN (bnc#1012628).
- bnxt_en: don't try to offload VLAN 'modify' action
  (bnc#1012628).
- nfp: avoid soft lockups under control message storm
  (bnc#1012628).
- net: stmmac: Rework coalesce timer and fix multi-queue races
  (bnc#1012628).
- bonding: fix warning message (bnc#1012628).
- bonding: pass link-local packets to bonding master also
  (bnc#1012628).
- net/mlx5: E-Switch, Fix out of bound access when setting vport
  rate (bnc#1012628).
- net: aquantia: memory corruption on jumbo frames (bnc#1012628).
- net/mlx5e: Set vlan masks for all offloaded TC rules
  (bnc#1012628).
- net: dsa: bcm_sf2: Fix unbind ordering (bnc#1012628).
- net/packet: fix packet drop as of virtio gso (bnc#1012628).
- net: stmmac: Fixup the tail addr setting in xmit path
  (bnc#1012628).
- tun: napi flags belong to tfile (bnc#1012628).
- tun: initialize napi_mutex unconditionally (bnc#1012628).
- tun: remove unused parameters (bnc#1012628).
- net: qualcomm: rmnet: Fix incorrect allocation flag in receive
  path (bnc#1012628).
- net: qualcomm: rmnet: Fix incorrect allocation flag in transmit
  (bnc#1012628).
- net: qualcomm: rmnet: Skip processing loopback packets
  (bnc#1012628).
- udp: Unbreak modules that rely on external __skb_recv_udp()
  availability (bnc#1012628).
- tipc: fix flow control accounting for implicit connect
  (bnc#1012628).
- team: Forbid enslaving team device to itself (bnc#1012628).
- sctp: update dst pmtu with the correct daddr (bnc#1012628).
- rtnl: limit IFLA_NUM_TX_QUEUES and IFLA_NUM_RX_QUEUES to 4096
  (bnc#1012628).
- rtnetlink: fix rtnl_fdb_dump() for ndmsg header (bnc#1012628).
- commit 5a53676

-------------------------------------------------------------------
Thu Oct 18 10:54:33 CEST 2018 - jslaby@suse.cz

- qmi_wwan: Added support for Gemalto's Cinterion ALASxx WWAN
  interface (bnc#1012628).
- qlcnic: fix Tx descriptor corruption on 82xx devices
  (bnc#1012628).
- net/usb: cancel pending work when unbinding smsc75xx
  (bnc#1012628).
- net: systemport: Fix wake-up interrupt race during resume
  (bnc#1012628).
- net: sched: cls_u32: fix hnode refcounting (bnc#1012628).
- net: sched: Add policy validation for tc attributes
  (bnc#1012628).
- net: mvpp2: fix a txq_done race condition (bnc#1012628).
- net: mvpp2: Extract the correct ethtype from the skb for tx
  csum offload (bnc#1012628).
- netlabel: check for IPV4MASK in addrinfo_get (bnc#1012628).
- net/ipv6: Display all addresses in output of /proc/net/if_inet6
  (bnc#1012628).
- net: ipv4: update fnhe_pmtu when first hop's MTU changes
  (bnc#1012628).
- net: hns: fix for unmapping problem when SMMU is on
  (bnc#1012628).
- net: dsa: bcm_sf2: Call setup during switch resume
  (bnc#1012628).
- ipv6: take rcu lock in rawv6_send_hdrinc() (bnc#1012628).
- ipv4: fix use-after-free in ip_cmsg_recv_dstaddr()
  (bnc#1012628).
- ip_tunnel: be careful when accessing the inner header
  (bnc#1012628).
- ip6_tunnel: be careful when accessing the inner header
  (bnc#1012628).
- bonding: avoid possible dead-lock (bnc#1012628).
- bnxt_en: free hwrm resources, if driver probe fails
  (bnc#1012628).
- bnxt_en: Fix TX timeout during netpoll (bnc#1012628).
- commit ee9d247

-------------------------------------------------------------------
Mon Oct 15 07:53:23 CEST 2018 - mkubecek@suse.cz

- Update to 4.19-rc8
- commit 2e61ca8

-------------------------------------------------------------------
Sat Oct 13 20:49:01 CEST 2018 - jslaby@suse.cz

- Linux 4.18.14 (bnc#1012628).
- ath10k: fix scan crash due to incorrect length calculation
  (bnc#1012628).
- rds: rds_ib_recv_alloc_cache() should call alloc_percpu_gfp()
  instead (bnc#1012628).
- ubifs: Check for name being NULL while mounting (bnc#1012628).
- ucma: fix a use-after-free in ucma_resolve_ip() (bnc#1012628).
- tipc: call start and done ops directly in
  __tipc_nl_compat_dumpit() (bnc#1012628).
- f2fs: fix invalid memory access (bnc#1012628).
- ARC: clone syscall to setp r25 as thread pointer (bnc#1012628).
- powerpc/lib: fix book3s/32 boot failure due to code patching
  (bnc#1012628).
- powerpc: Avoid code patching freed init sections (bnc#1012628).
- of: unittest: Disable interrupt node tests for old world MAC
  systems (bnc#1012628).
- tty: Drop tty->count on tty_reopen() failure (bnc#1012628).
- usb: cdc_acm: Do not leak URB buffers (bnc#1012628).
- USB: serial: option: add two-endpoints device-id flag
  (bnc#1012628).
- USB: serial: option: improve Quectel EP06 detection
  (bnc#1012628).
- USB: serial: simple: add Motorola Tetra MTP6550 id
  (bnc#1012628).
- usb: xhci-mtk: resume USB3 roothub first (bnc#1012628).
- xhci: Add missing CAS workaround for Intel Sunrise Point xHCI
  (bnc#1012628).
- dm cache: fix resize crash if user doesn't reload cache table
  (bnc#1012628).
- dm cache metadata: ignore hints array being too small during
  resize (bnc#1012628).
- dm mpath: fix attached_handler_name leak and dangling
  hw_handler_name pointer (bnc#1012628).
- PM / core: Clear the direct_complete flag on errors
  (bnc#1012628).
- mac80211: fix setting IEEE80211_KEY_FLAG_RX_MGMT for AP mode
  keys (bnc#1012628).
- PCI: Reprogram bridge prefetch registers on resume
  (bnc#1012628).
- x86/vdso: Fix vDSO syscall fallback asm constraint regression
  (bnc#1012628).
- x86/vdso: Only enable vDSO retpolines when enabled and supported
  (bnc#1012628).
- selftests/x86: Add clock_gettime() tests to test_vdso
  (bnc#1012628).
- x86/vdso: Fix asm constraints on vDSO syscall fallbacks
  (bnc#1012628).
- drm: fix use-after-free read in drm_mode_create_lease_ioctl()
  (bnc#1012628).
- drm/syncobj: Don't leak fences when WAIT_FOR_SUBMIT is set
  (bnc#1012628).
- drm/amdgpu: Fix vce work queue was not cancelled when suspend
  (bnc#1012628).
- mac80211: allocate TXQs for active monitor interfaces
  (bnc#1012628).
- mmc: slot-gpio: Fix debounce time to use miliseconds again
  (bnc#1012628).
- mmc: core: Fix debounce time to use microseconds (bnc#1012628).
- xen-netback: fix input validation in xenvif_set_hash_mapping()
  (bnc#1012628).
- fbdev/omapfb: fix omapfb_memory_read infoleak (bnc#1012628).
- clocksource/drivers/timer-atmel-pit: Properly handle error cases
  (bnc#1012628).
- pstore/ram: Fix failure-path memory leak in ramoops_init
  (bnc#1012628).
- blk-mq: I/O and timer unplugs are inverted in blktrace
  (bnc#1012628).
- KVM: VMX: check for existence of secondary exec controls before
  accessing (bnc#1012628).
- KVM: x86: fix L1TF's MMIO GFN calculation (bnc#1012628).
- mm/vmstat.c: skip NR_TLB_REMOTE_FLUSH* properly (bnc#1012628).
- mm, thp: fix mlocking THP page with migration enabled
  (bnc#1012628).
- mm: migration: fix migration of huge PMD shared pages
  (bnc#1012628).
- perf/core: Add sanity check to deal with pinned event failure
  (bnc#1012628).
- commit ce1c446

-------------------------------------------------------------------
Fri Oct 12 10:10:00 CEST 2018 - tzimmermann@suse.de

- README: Clean-up trailing whitespace
- commit 06542f9

-------------------------------------------------------------------
Thu Oct 11 15:46:10 CEST 2018 - tzimmermann@suse.de

- README: Update documentation wrt. Patch-mainline
  Common practice is to set Patch-mainline to a Linux release tag. More
  than 95% of all patches follow this convention. The remaining 5% have
  been fixed accordingly in SLE15.
  The README file is inconsistent wrt. to the content of Patch-mainline.
  In some places it refers to a release tag, in others it refers to a version
  number. With this cleanup, it refers to release tags everywhere.
  This change is a follow-up for commit 1d81d2699cd3.
- commit 57326f5

-------------------------------------------------------------------
Wed Oct 10 20:47:09 CEST 2018 - jslaby@suse.cz

- Linux 4.18.13 (bnc#1012628).
- Revert "drm/amd/pp: Send khz clock values to DC for smu7/8"
  (bnc#1012628).
- dm thin metadata: fix __udivdi3 undefined on 32-bit
  (bnc#1012628).
- ixgbe: check return value of napi_complete_done() (bnc#1012628).
- HID: i2c-hid: disable runtime PM operations on hantick touchpad
  (bnc#1012628).
- ocfs2: fix locking for res->tracking and dlm->tracking_list
  (bnc#1012628).
- proc: restrict kernel stack dumps to root (bnc#1012628).
- tools: hv: fcopy: set 'error' in case an unknown operation
  was requested (bnc#1012628).
- Drivers: hv: vmbus: Use get/put_cpu() in vmbus_connect()
  (bnc#1012628).
- gpiolib: Free the last requested descriptor (bnc#1012628).
- crypto: caam/jr - fix ablkcipher_edesc pointer arithmetic
  (bnc#1012628).
- crypto: mxs-dcp - Fix wait logic on chan threads (bnc#1012628).
- crypto: chelsio - Fix memory corruption in DMA Mapped buffers
  (bnc#1012628).
- crypto: qat - Fix KASAN stack-out-of-bounds bug in adf_probe()
  (bnc#1012628).
- ALSA: hda/realtek - Cannot adjust speaker's volume on Dell
  XPS 27 7760 (bnc#1012628).
- iommu/amd: Clear memory encryption mask from physical address
  (bnc#1012628).
- smb2: fix missing files in root share directory listing
  (bnc#1012628).
- cpufreq: qcom-kryo: Fix section annotations (bnc#1012628).
- firmware: Always initialize the fw_priv list object
  (bnc#1012628).
- firmware: Fix security issue with request_firmware_into_buf()
  (bnc#1012628).
- b43: fix DMA error related regression with proprietary firmware
  (bnc#1012628).
- sysfs: Do not return POSIX ACL xattrs via listxattr
  (bnc#1012628).
- ovl: fix format of setxattr debug (bnc#1012628).
- ovl: fix memory leak on unlink of indexed file (bnc#1012628).
- ovl: fix access beyond unterminated strings (bnc#1012628).
- ovl: set I_CREATING on inode being created (bnc#1012628).
- vfs: don't evict uninitialized inode (bnc#1012628).
- new primitive: discard_new_inode() (bnc#1012628).
- x86/APM: Fix build warning when PROC_FS is not enabled
  (bnc#1012628).
- xen: fix GCC warning and remove duplicate EVTCHN_ROW/EVTCHN_COL
  usage (bnc#1012628).
- xen: avoid crash in disable_hotplug_cpu (bnc#1012628).
- xen/manage: don't complain about an empty value in control/sysrq
  node (bnc#1012628).
- asm-generic: io: Fix ioport_map() for !CONFIG_GENERIC_IOMAP &&
  CONFIG_INDIRECT_PIO (bnc#1012628).
- cifs: read overflow in is_valid_oplock_break() (bnc#1012628).
- s390/qeth: don't dump past end of unknown HW header
  (bnc#1012628).
- s390/qeth: use vzalloc for QUERY OAT buffer (bnc#1012628).
- r8169: Clear RTL_FLAG_TASK_*_PENDING when clearing
  RTL_FLAG_TASK_ENABLED (bnc#1012628).
- drm/amdgpu: fix error handling in amdgpu_cs_user_fence_chunk
  (bnc#1012628).
- arm64: jump_label.h: use asm_volatile_goto macro instead of
  "asm goto" (bnc#1012628).
- drm/amdgpu: Fix SDMA hang in prt mode v2 (bnc#1012628).
- hexagon: modify ffs() and fls() to return int (bnc#1012628).
- commit c434d5c

-------------------------------------------------------------------
Wed Oct 10 20:44:38 CEST 2018 - jslaby@suse.cz

- arch/hexagon: fix kernel/dma.c build warning (bnc#1012628).
- commit b07518e

-------------------------------------------------------------------
Wed Oct 10 20:43:52 CEST 2018 - jslaby@suse.cz

- netfilter: xt_hashlimit: use s->file instead of s->private
  (bnc#1012628).
- netfilter: nfnetlink_queue: Solve the NFQUEUE/conntrack clash
  for NF_REPEAT (bnc#1012628).
- dm thin metadata: try to avoid ever aborting transactions
  (bnc#1012628).
- sched/topology: Set correct NUMA topology type (bnc#1012628).
- perf/x86/intel: Add support/quirk for the MISPREDICT bit on
  Knights Landing CPUs (bnc#1012628).
- net: ena: fix missing calls to READ_ONCE (bnc#1012628).
- net: ena: fix missing lock during device destruction
  (bnc#1012628).
- net: ena: fix potential double ena_destroy_device()
  (bnc#1012628).
- net: ena: fix device destruction to gracefully free resources
  (bnc#1012628).
- net: ena: fix driver when PAGE_SIZE == 64kB (bnc#1012628).
- net: ena: fix surprise unplug NULL dereference kernel crash
  (bnc#1012628).
- fs/cifs: suppress a string overflow warning (bnc#1012628).
- r8169: set TxConfig register after TX / RX is enabled, just
  like RxConfig (bnc#1012628).
- dm raid: fix RAID leg rebuild errors (bnc#1012628).
- dm raid: fix rebuild of specific devices by updating superblock
  (bnc#1012628).
- dm raid: fix stripe adding reshape deadlock (bnc#1012628).
- drm/nouveau/disp/gm200-: enforce identity-mapped SOR assignment
  for LVDS/eDP panels (bnc#1012628).
- drm/nouveau/disp: fix DP disable race (bnc#1012628).
- drm/nouveau/TBDdevinit: don't fail when PMU/PRE_OS is missing
  from VBIOS (bnc#1012628).
- drm/nouveau/mmu: don't attempt to dereference vmm without
  valid instance pointer (bnc#1012628).
- drm/nouveau: fix oops in client init failure path (bnc#1012628).
- dm raid: fix reshape race on small devices (bnc#1012628).
- HID: i2c-hid: Don't reset device upon system resume
  (bnc#1012628).
- net/mlx5: Consider PCI domain in search for next dev
  (bnc#1012628).
- bnxt_re: Fix couple of memory leaks that could lead to IOMMU
  call traces (bnc#1012628).
- nvmet-rdma: fix possible bogus dereference under heavy load
  (bnc#1012628).
- USB: yurex: Check for truncation in yurex_read() (bnc#1012628).
- usb: host: xhci-plat: Iterate over parent nodes for finding
  quirks (bnc#1012628).
- HID: sensor-hub: Restore fixup for Lenovo ThinkPad Helix 2
  sensor hub report (bnc#1012628).
- riscv: Do not overwrite initrd_start and initrd_end
  (bnc#1012628).
- RDMA/ucma: check fd type in ucma_migrate_id() (bnc#1012628).
- iio: imu: st_lsm6dsx: take into account ts samples in wm
  configuration (bnc#1012628).
- Revert "iio: temperature: maxim_thermocouple: add MAX31856 part"
  (bnc#1012628).
- netfilter: nf_tables: release chain in flushing set
  (bnc#1012628).
- netfilter: kconfig: nat related expression depend on nftables
  core (bnc#1012628).
- perf annotate: Fix parsing aarch64 branch instructions after
  objdump update (bnc#1012628).
- perf probe powerpc: Ignore SyS symbols irrespective of
  endianness (bnc#1012628).
- perf util: Fix bad memory access in trace info (bnc#1012628).
- perf evsel: Fix potential null pointer dereference in
  perf_evsel__new_idx() (bnc#1012628).
- perf annotate: Properly interpret indirect call (bnc#1012628).
- commit 342ac1f

-------------------------------------------------------------------
Wed Oct 10 20:38:19 CEST 2018 - jslaby@suse.cz

- scsi: qedi: Add the CRC size within iSCSI NVM image
  (bnc#1012628).
- scsi: iscsi: target: Fix conn_ops double free (bnc#1012628).
- scsi: iscsi: target: Set conn->sess to NULL when
  iscsi_login_set_conn_values fails (bnc#1012628).
- HID: hid-saitek: Add device ID for RAT 7 Contagion
  (bnc#1012628).
- usb: gadget: fotg210-udc: Fix memory leak of fotg210->ep[i]
  (bnc#1012628).
- HID: add support for Apple Magic Keyboards (bnc#1012628).
- HID: intel-ish-hid: Enable Sunrise Point-H ish driver
  (bnc#1012628).
- netfilter: xt_checksum: ignore gso skbs (bnc#1012628).
- netfilter: xt_cluster: add dependency on conntrack module
  (bnc#1012628).
- bpf: 32-bit RSH verification must truncate input before the
  ALU op (bnc#1012628).
- mm: madvise(MADV_DODUMP): allow hugetlbfs pages (bnc#1012628).
- afs: Fix cell specification to permit an empty address list
  (bnc#1012628).
- firmware: arm_scmi: fix divide by zero when sustained_perf_level
  is zero (bnc#1012628).
- ceph: avoid a use-after-free in ceph_destroy_options()
  (bnc#1012628).
- nds32: linker script: GCOV kernel may refers data in __exit
  (bnc#1012628).
- tools/vm/page-types.c: fix "defined but not used" warning
  (bnc#1012628).
- tools/vm/slabinfo.c: fix sign-compare warning (bnc#1012628).
- nds32: fix build error because of wrong semicolon (bnc#1012628).
- nds32: Fix get_user/put_user macro expand pointer problem
  (bnc#1012628).
- nds32: Fix empty call trace (bnc#1012628).
- nds32: add NULL entry to the end of_device_id array
  (bnc#1012628).
- nds32: fix logic for module (bnc#1012628).
- net/ibm/emac: wrong emac_calc_base call was used by typo
  (bnc#1012628).
- fsnotify: fix ignore mask logic in fsnotify() (bnc#1012628).
- mac80211: shorten the IBSS debug messages (bnc#1012628).
- mac80211: don't Tx a deauth frame if the AP forbade Tx
  (bnc#1012628).
- mac80211: Fix station bandwidth setting after channel switch
  (bnc#1012628).
- mac80211: fix a race between restart and CSA flows
  (bnc#1012628).
- mac80211: fix WMM TXOP calculation (bnc#1012628).
- cfg80211: fix a type issue in
  ieee80211_chandef_to_operating_class() (bnc#1012628).
- mac80211: fix an off-by-one issue in A-MSDU max_subframe
  computation (bnc#1012628).
- fs/cifs: don't translate SFM_SLASH (U+F026) to backslash
  (bnc#1012628).
- net: cadence: Fix a sleep-in-atomic-context bug in
  macb_halt_tx() (bnc#1012628).
- i2c: uniphier-f: issue STOP only for last message or I2C_M_STOP
  (bnc#1012628).
- i2c: uniphier: issue STOP only for last message or I2C_M_STOP
  (bnc#1012628).
- bpf: avoid misuse of psock when TCP_ULP_BPF collides with
  another ULP (bnc#1012628).
- bpf: Fix bpf_msg_pull_data() (bnc#1012628).
- ibmvnic: Include missing return code checks in reset function
  (bnc#1012628).
- selftests: pmtu: detect correct binary to ping ipv6 addresses
  (bnc#1012628).
- selftests: pmtu: maximum MTU for vti4 is 2^16-1-20
  (bnc#1012628).
- RAID10 BUG_ON in raise_barrier when force is true and
  conf->barrier is 0 (bnc#1012628).
- md/raid5-cache: disable reshape completely (bnc#1012628).
- Revert "blk-throttle: fix race between blkcg_bio_issue_check()
  and cgroup_rmdir()" (bnc#1012628).
- ARC: atomics: unbork atomic_fetch_##op() (bnc#1012628).
- gpio: Fix crash due to registration race (bnc#1012628).
- tools/kvm_stat: fix updates for dead guests (bnc#1012628).
- tools/kvm_stat: fix handling of invalid paths in debugfs
  provider (bnc#1012628).
- tools/kvm_stat: fix python3 issues (bnc#1012628).
- mac80211: always account for A-MSDU header changes
  (bnc#1012628).
- mac80211: do not convert to A-MSDU if frag/subframe limited
  (bnc#1012628).
- cfg80211: nl80211_update_ft_ies() to validate NL80211_ATTR_IE
  (bnc#1012628).
- tc-testing: add test-cases for numeric and invalid control
  action (bnc#1012628).
- net: mvpp2: initialize port of_node pointer (bnc#1012628).
- sh_eth: Add R7S9210 support (bnc#1012628).
- net: hns: add netif_carrier_off before change speed and duplex
  (bnc#1012628).
- net: hns: add the code for cleaning pkt in chip (bnc#1012628).
- tipc: switch to rhashtable iterator (bnc#1012628).
- bpf: fix sg shift repair start offset in bpf_msg_pull_data
  (bnc#1012628).
- bpf: fix shift upon scatterlist ring wrap-around in
  bpf_msg_pull_data (bnc#1012628).
- bpf: fix msg->data/data_end after sg shift repair in
  bpf_msg_pull_data (bnc#1012628).
- gpio: dwapb: Fix error handling in dwapb_gpio_probe()
  (bnc#1012628).
- gpiolib-acpi: Register GpioInt ACPI event handlers from a
  late_initcall (bnc#1012628).
- gpiolib: acpi: Switch to cansleep version of GPIO library call
  (bnc#1012628).
- mac80211: avoid kernel panic when building AMSDU from non-linear
  SKB (bnc#1012628).
- mac80211: mesh: fix HWMP sequence numbering to follow standard
  (bnc#1012628).
- gpio: adp5588: Fix sleep-in-atomic-context bug (bnc#1012628).
- bpf: fix several offset tests in bpf_msg_pull_data
  (bnc#1012628).
- nl80211: Pass center frequency in kHz instead of MHz
  (bnc#1012628).
- nl80211: Fix nla_put_u8 to u16 for NL80211_WMMR_TXOP
  (bnc#1012628).
- mac80211_hwsim: Fix possible Spectre-v1 for
  hwsim_world_regdom_custom (bnc#1012628).
- cfg80211: make wmm_rule part of the reg_rule structure
  (bnc#1012628).
- mac80211_hwsim: correct use of IEEE80211_VHT_CAP_RXSTBC_X
  (bnc#1012628).
- mac80211: correct use of IEEE80211_VHT_CAP_RXSTBC_X
  (bnc#1012628).
- bpf: sockmap, decrement copied count correctly in redirect
  error case (bnc#1012628).
- bpf, sockmap: fix psock refcount leak in bpf_tcp_recvmsg
  (bnc#1012628).
- bpf, sockmap: fix potential use after free in bpf_tcp_close
  (bnc#1012628).
- scsi: aacraid: fix a signedness bug (bnc#1012628).
- scsi: libata: Add missing newline at end of file (bnc#1012628).
- scsi: csiostor: fix incorrect port capabilities (bnc#1012628).
- scsi: csiostor: add a check for NULL pointer after kmalloc()
  (bnc#1012628).
- btrfs: btrfs_shrink_device should call commit transaction at
  the end (bnc#1012628).
- cfg80211: remove division by size of sizeof(struct
  ieee80211_wmm_rule) (bnc#1012628).
- KVM: PPC: Book3S HV: Don't truncate HPTE index in xlate function
  (bnc#1012628).
- Btrfs: fix unexpected failure of nocow buffered writes after
  snapshotting when low on space (bnc#1012628).
- mac80211_hwsim: require at least one channel (bnc#1012628).
- mac80211: Run TXQ teardown code before de-registering interfaces
  (bnc#1012628).
- rseq/selftests: fix parametrized test with -fpie (bnc#1012628).
- commit 37173f2

-------------------------------------------------------------------
Tue Oct  9 09:59:49 CEST 2018 - msuchanek@suse.de

- Revert "Limit kernel-source build to architectures for which we build binaries"
  This reverts commit d6435125446d740016904abe30a60611549ae812.
- commit 48b03c4

-------------------------------------------------------------------
Mon Oct  8 07:47:18 CEST 2018 - mkubecek@suse.cz

- Update to 4.19-rc7
- commit 63b130b

-------------------------------------------------------------------
Thu Oct  4 11:29:57 CEST 2018 - mbrugger@suse.com

- arm64: Update config files. (bsc#1110716)
  Enable ST LPS25H pressure sensor.
- commit 9882f33

-------------------------------------------------------------------
Thu Oct  4 08:37:48 CEST 2018 - jslaby@suse.cz

- Linux 4.18.12 (bnc#1012628).
- crypto: skcipher - Fix -Wstringop-truncation warnings
  (bnc#1012628).
- iio: adc: ina2xx: avoid kthread_stop() with stale task_struct
  (bnc#1012628).
- tsl2550: fix lux1_input error in low light (bnc#1012628).
- misc: ibmvmc: Use GFP_ATOMIC under spin lock (bnc#1012628).
- vmci: type promotion bug in qp_host_get_user_memory()
  (bnc#1012628).
- siox: don't create a thread without starting it (bnc#1012628).
- net: hns3: Fix for mailbox message truncated problem
  (bnc#1012628).
- net: hns3: Fix for mac pause not disable in pfc mode
  (bnc#1012628).
- net: hns3: Fix warning bug when doing lp selftest (bnc#1012628).
- net: hns3: Fix get_vector ops in hclgevf_main module
  (bnc#1012628).
- x86/numa_emulation: Fix emulated-to-physical node mapping
  (bnc#1012628).
- staging: rts5208: fix missing error check on call to
  rtsx_write_register (bnc#1012628).
- power: supply: axp288_charger: Fix initial
  constant_charge_current value (bnc#1012628).
- misc: sram: enable clock before registering regions
  (bnc#1012628).
- serial: sh-sci: Stop RX FIFO timer during port shutdown
  (bnc#1012628).
- uwb: hwa-rc: fix memory leak at probe (bnc#1012628).
- power: vexpress: fix corruption in notifier registration
  (bnc#1012628).
- iommu/amd: make sure TLB to be flushed before IOVA freed
  (bnc#1012628).
- Bluetooth: Add a new Realtek 8723DE ID 0bda:b009 (bnc#1012628).
- USB: serial: kobil_sct: fix modem-status error handling
  (bnc#1012628).
- 6lowpan: iphc: reset mac_header after decompress to fix panic
  (bnc#1012628).
- iommu/msm: Don't call iommu_device_{,un}link from atomic context
  (bnc#1012628).
- s390/mm: correct allocate_pgste proc_handler callback
  (bnc#1012628).
- power: remove possible deadlock when unregistering power_supply
  (bnc#1012628).
- drm/amd/display/dc/dce: Fix multiple potential integer overflows
  (bnc#1012628).
- drm/amd/display: fix use of uninitialized memory (bnc#1012628).
- md-cluster: clear another node's suspend_area after the copy
  is finished (bnc#1012628).
- cxgb4: Fix the condition to check if the card is T5
  (bnc#1012628).
- RDMA/bnxt_re: Fix a couple off by one bugs (bnc#1012628).
- RDMA/i40w: Hold read semaphore while looking after VMA
  (bnc#1012628).
- RDMA/bnxt_re: Fix a bunch of off by one bugs in qplib_fp.c
  (bnc#1012628).
- IB/core: type promotion bug in rdma_rw_init_one_mr()
  (bnc#1012628).
- media: exynos4-is: Prevent NULL pointer dereference in
  __isp_video_try_fmt() (bnc#1012628).
- IB/mlx4: Test port number before querying type (bnc#1012628).
- powerpc/kdump: Handle crashkernel memory reservation failure
  (bnc#1012628).
- media: fsl-viu: fix error handling in viu_of_probe()
  (bnc#1012628).
- vhost_net: Avoid tx vring kicks during busyloop (bnc#1012628).
- media: staging/imx: fill vb2_v4l2_buffer field entry
  (bnc#1012628).
- IB/mlx5: Fix GRE flow specification (bnc#1012628).
- include/rdma/opa_addr.h: Fix an endianness issue (bnc#1012628).
- x86/tsc: Add missing header to tsc_msr.c (bnc#1012628).
- ARM: hwmod: RTC: Don't assume lock/unlock will be called with
  irq enabled (bnc#1012628).
- x86/entry/64: Add two more instruction suffixes (bnc#1012628).
- ARM: dts: ls1021a: Add missing cooling device properties for
  CPUs (bnc#1012628).
- scsi: target/iscsi: Make iscsit_ta_authentication() respect
  the output buffer size (bnc#1012628).
- thermal: i.MX: Allow thermal probe to fail gracefully in case
  of bad calibration (bnc#1012628).
- scsi: klist: Make it safe to use klists in atomic context
  (bnc#1012628).
- scsi: ibmvscsi: Improve strings handling (bnc#1012628).
- scsi: target: Avoid that EXTENDED COPY commands trigger lock
  inversion (bnc#1012628).
- usb: wusbcore: security: cast sizeof to int for comparison
  (bnc#1012628).
- ath10k: sdio: use same endpoint id for all packets in a bundle
  (bnc#1012628).
- ath10k: sdio: set skb len for all rx packets (bnc#1012628).
- powerpc/powernv/ioda2: Reduce upper limit for DMA window size
  (bnc#1012628).
- platform/x86: asus-wireless: Fix uninitialized symbol usage
  (bnc#1012628).
- ACPI / button: increment wakeup count only when notified
  (bnc#1012628).
- s390/sysinfo: add missing #ifdef CONFIG_PROC_FS (bnc#1012628).
- s390/dasd: correct numa_node in dasd_alloc_queue (bnc#1012628).
- s390/scm_blk: correct numa_node in scm_blk_dev_setup
  (bnc#1012628).
- s390/extmem: fix gcc 8 stringop-overflow warning (bnc#1012628).
- mtd: rawnand: atmel: add module param to avoid using dma
  (bnc#1012628).
- iio: accel: adxl345: convert address field usage in
  iio_chan_spec (bnc#1012628).
- posix-timers: Make forward callback return s64 (bnc#1012628).
- posix-timers: Sanitize overrun handling (bnc#1012628).
- ALSA: snd-aoa: add of_node_put() in error path (bnc#1012628).
- selftests: forwarding: Tweak tc filters for mirror-to-gretap
  tests (bnc#1012628).
- ath10k: use locked skb_dequeue for rx completions (bnc#1012628).
- media: s3c-camif: ignore -ENOIOCTLCMD from v4l2_subdev_call
  for s_power (bnc#1012628).
- media: soc_camera: ov772x: correct setting of banding filter
  (bnc#1012628).
- media: omap3isp: zero-initialize the isp cam_xclk{a,b} initial
  data (bnc#1012628).
- media: ov772x: add checks for register read errors
  (bnc#1012628).
- staging: android: ashmem: Fix mmap size validation
  (bnc#1012628).
- media: ov772x: allow i2c controllers without
  I2C_FUNC_PROTOCOL_MANGLING (bnc#1012628).
- staging: mt7621-eth: Fix memory leak in mtk_add_mac() error path
  (bnc#1012628).
- drivers/tty: add error handling for pcmcia_loop_config
  (bnc#1012628).
- arm64: dts: renesas: salvator-common: Fix adv7482 decimal unit
  addresses (bnc#1012628).
- serial: pxa: Fix an error handling path in 'serial_pxa_probe()'
  (bnc#1012628).
- staging: mt7621-dts: Fix remaining pcie warnings (bnc#1012628).
- media: tm6000: add error handling for dvb_register_adapter
  (bnc#1012628).
- ASoC: qdsp6: qdafe: fix some off by one bugs (bnc#1012628).
- ALSA: hda: Add AZX_DCAPS_PM_RUNTIME for AMD Raven Ridge
  (bnc#1012628).
- net: phy: xgmiitorgmii: Check read_status results (bnc#1012628).
- ath10k: protect ath10k_htt_rx_ring_free with rx_ring.lock
  (bnc#1012628).
- drm/sun4i: Enable DW HDMI PHY clock (bnc#1012628).
- net: phy: xgmiitorgmii: Check phy_driver ready before accessing
  (bnc#1012628).
- drm/sun4i: Fix releasing node when enumerating enpoints
  (bnc#1012628).
- ath10k: transmit queued frames after processing rx packets
  (bnc#1012628).
- mt76x2: fix mrr idx/count estimation in
  mt76x2_mac_fill_tx_status() (bnc#1012628).
- rndis_wlan: potential buffer overflow in
  rndis_wlan_auth_indication() (bnc#1012628).
- brcmsmac: fix wrap around in conversion from constant to s16
  (bnc#1012628).
- bitfield: fix *_encode_bits() (bnc#1012628).
- wlcore: Add missing PM call for
  wlcore_cmd_wait_for_event_or_timeout() (bnc#1012628).
- drm/omap: gem: Fix mm_list locking (bnc#1012628).
- ARM: mvebu: declare asm symbols as character arrays in pmsu.c
  (bnc#1012628).
- RDMA/uverbs: Don't overwrite NULL pointer with ZERO_SIZE_PTR
  (bnc#1012628).
- Documentation/process: fix reST table border error
  (bnc#1012628).
- perf/hw_breakpoint: Split attribute parse and commit
  (bnc#1012628).
- arm: dts: mediatek: Add missing cooling device properties for
  CPUs (bnc#1012628).
- HID: hid-ntrig: add error handling for sysfs_create_group
  (bnc#1012628).
- HID: i2c-hid: Use devm to allocate i2c_hid struct (bnc#1012628).
- MIPS: boot: fix build rule of vmlinux.its.S (bnc#1012628).
- arm64: dts: renesas: Fix VSPD registers range (bnc#1012628).
- drm/v3d: Take a lock across GPU scheduler job creation and
  queuing (bnc#1012628).
- perf/x86/intel/lbr: Fix incomplete LBR call stack (bnc#1012628).
- scsi: bnx2i: add error handling for ioremap_nocache
  (bnc#1012628).
- iomap: complete partial direct I/O writes synchronously
  (bnc#1012628).
- scsi: hisi_sas: Fix the conflict between dev gone and host reset
  (bnc#1012628).
- spi: orion: fix CS GPIO handling again (bnc#1012628).
- scsi: megaraid_sas: Update controller info during resume
  (bnc#1012628).
- ASoC: Intel: bytcr_rt5640: Fix Acer Iconia 8 over-current
  detect threshold (bnc#1012628).
- ASoC: rt1305: Use ULL suffixes for 64-bit constants
  (bnc#1012628).
- ASoC: rsnd: SSI parent cares SWSP bit (bnc#1012628).
- EDAC, i7core: Fix memleaks and use-after-free on probe and
  remove (bnc#1012628).
- ASoC: dapm: Fix potential DAI widget pointer deref when linking
  DAIs (bnc#1012628).
- module: exclude SHN_UNDEF symbols from kallsyms api
  (bnc#1012628).
- gpio: Fix wrong rounding in gpio-menz127 (bnc#1012628).
- nfsd: fix corrupted reply to badly ordered compound
  (bnc#1012628).
- EDAC: Fix memleak in module init error path (bnc#1012628).
- EDAC, altera: Fix an error handling path in
  altr_s10_sdram_probe() (bnc#1012628).
- staging: pi433: fix race condition in pi433_ioctl (bnc#1012628).
- ath10k: fix incorrect size of dma_free_coherent in
  ath10k_ce_alloc_src_ring_64 (bnc#1012628).
- ath10k: snoc: use correct bus-specific pointer in RX retry
  (bnc#1012628).
- fs/lock: skip lock owner pid translation in case we are in
  init_pid_ns (bnc#1012628).
- ath10k: fix memory leak of tpc_stats (bnc#1012628).
- Input: xen-kbdfront - fix multi-touch XenStore node's locations
  (bnc#1012628).
- iio: 104-quad-8: Fix off-by-one error in register selection
  (bnc#1012628).
- drm/vc4: Add missing formats to vc4_format_mod_supported()
  (bnc#1012628).
- ARM: dts: dra7: fix DCAN node addresses (bnc#1012628).
- drm/vc4: plane: Expand the lower bits by repeating the higher
  bits (bnc#1012628).
- perf tests: Fix indexing when invoking subtests (bnc#1012628).
- gpio: tegra: Fix tegra_gpio_irq_set_type() (bnc#1012628).
- floppy: Do not copy a kernel pointer to user memory in FDGETPRM
  ioctl (bnc#1012628).
- block: fix deadline elevator drain for zoned block devices
  (bnc#1012628).
- x86/mm: Expand static page table for fixmap space (bnc#1012628).
- tty: serial: lpuart: avoid leaking struct tty_struct
  (bnc#1012628).
- serial: imx: restore handshaking irq for imx1 (bnc#1012628).
- serial: mvebu-uart: Fix reporting of effective CSIZE to
  userspace (bnc#1012628).
- serial: cpm_uart: return immediately from console poll
  (bnc#1012628).
- intel_th: Fix device removal logic (bnc#1012628).
- intel_th: Fix resource handling for ACPI glue layer
  (bnc#1012628).
- spi: tegra20-slink: explicitly enable/disable clock
  (bnc#1012628).
- spi: sh-msiof: Fix invalid SPI use during system suspend
  (bnc#1012628).
- spi: sh-msiof: Fix handling of write value for SISTR register
  (bnc#1012628).
- spi: rspi: Fix invalid SPI use during system suspend
  (bnc#1012628).
- spi: rspi: Fix interrupted DMA transfers (bnc#1012628).
- regulator: fix crash caused by null driver data (bnc#1012628).
- regulator: Fix 'do-nothing' value for regulators without
  suspend state (bnc#1012628).
- USB: fix error handling in usb_driver_claim_interface()
  (bnc#1012628).
- USB: handle NULL config in usb_find_alt_setting() (bnc#1012628).
- usb: roles: Take care of driver module reference counting
  (bnc#1012628).
- usb: core: safely deal with the dynamic quirk lists
  (bnc#1012628).
- usb: musb: dsps: do not disable CPPI41 irq in driver teardown
  (bnc#1012628).
- USB: usbdevfs: sanitize flags more (bnc#1012628).
- USB: usbdevfs: restore warning for nonsensical flags
  (bnc#1012628).
- Revert "usb: cdc-wdm: Fix a sleep-in-atomic-context bug in
  service_outstanding_interrupt()" (bnc#1012628).
- USB: remove LPM management from usb_driver_claim_interface()
  (bnc#1012628).
- uaccess: Fix is_source param for check_copy_size() in
  copy_to_iter_mcsafe() (bnc#1012628).
- ext2, dax: set ext2_dax_aops for dax files (bnc#1012628).
- filesystem-dax: Fix use of zero page (bnc#1012628).
- Input: elantech - enable middle button of touchpad on ThinkPad
  P72 (bnc#1012628).
- IB/srp: Avoid that sg_reset -d ${srp_device} triggers an
  infinite loop (bnc#1012628).
- IB/hfi1: Fix SL array bounds check (bnc#1012628).
- IB/hfi1: Invalid user input can result in crash (bnc#1012628).
- IB/hfi1: Fix context recovery when PBC has an UnsupportedVL
  (bnc#1012628).
- IB/hfi1: Fix destroy_qp hang after a link down (bnc#1012628).
- ACPI / hotplug / PCI: Don't scan for non-hotplug bridges if
  slot is not bridge (bnc#1012628).
- RDMA/uverbs: Atomically flush and mark closed the comp event
  queue (bnc#1012628).
- arm64: KVM: Tighten guest core register access from userspace
  (bnc#1012628).
- ARM: OMAP2+: Fix null hwmod for ti-sysc debug (bnc#1012628).
- ARM: OMAP2+: Fix module address for modules using mpu_rt_idx
  (bnc#1012628).
- bus: ti-sysc: Fix module register ioremap for larger offsets
  (bnc#1012628).
- qed: Wait for ready indication before rereading the shmem
  (bnc#1012628).
- qed: Wait for MCP halt and resume commands to take place
  (bnc#1012628).
- qed: Prevent a possible deadlock during driver load and unload
  (bnc#1012628).
- qed: Avoid sending mailbox commands when MFW is not responsive
  (bnc#1012628).
- thermal: of-thermal: disable passive polling when thermal zone
  is disabled (bnc#1012628).
- isofs: reject hardware sector size > 2048 bytes (bnc#1012628).
- mmc: atmel-mci: fix bad logic of sg_copy_{from,to}_buffer
  conversion (bnc#1012628).
- mmc: android-goldfish: fix bad logic of sg_copy_{from,to}_buffer
  conversion (bnc#1012628).
- bus: ti-sysc: Fix no_console_suspend handling (bnc#1012628).
- ARM: dts: omap4-droid4: fix vibrations on Droid 4 (bnc#1012628).
- bpf, sockmap: fix sock_hash_alloc and reject zero-sized keys
  (bnc#1012628).
- bpf, sockmap: fix sock hash count in alloc_sock_hash_elem
  (bnc#1012628).
- tls: possible hang when do_tcp_sendpages hits sndbuf is full
  case (bnc#1012628).
- bpf: sockmap: write_space events need to be passed to TCP
  handler (bnc#1012628).
- drm/amdgpu: fix VM clearing for the root PD (bnc#1012628).
- drm/amdgpu: fix preamble handling (bnc#1012628).
- amdgpu: fix multi-process hang issue (bnc#1012628).
- net/ncsi: Fixup .dumpit message flags and ID check in Netlink
  handler (bnc#1012628).
- tcp_bbr: add bbr_check_probe_rtt_done() helper (bnc#1012628).
- tcp_bbr: in restart from idle, see if we should exit PROBE_RTT
  (bnc#1012628).
- net: hns: fix length and page_offset overflow when
  CONFIG_ARM64_64K_PAGES (bnc#1012628).
- net: hns: fix skb->truesize underestimation (bnc#1012628).
- net: hns3: fix page_offset overflow when CONFIG_ARM64_64K_PAGES
  (bnc#1012628).
- ice: Fix multiple static analyser warnings (bnc#1012628).
- ice: Report stats for allocated queues via ethtool stats
  (bnc#1012628).
- ice: Clean control queues only when they are initialized
  (bnc#1012628).
- ice: Fix bugs in control queue processing (bnc#1012628).
- ice: Use order_base_2 to calculate higher power of 2
  (bnc#1012628).
- ice: Set VLAN flags correctly (bnc#1012628).
- tools: bpftool: return from do_event_pipe() on bad arguments
  (bnc#1012628).
- ice: Fix a few null pointer dereference issues (bnc#1012628).
- ice: Fix potential return of uninitialized value (bnc#1012628).
- e1000: check on netif_running() before calling e1000_up()
  (bnc#1012628).
- e1000: ensure to free old tx/rx rings in set_ringparam()
  (bnc#1012628).
- ixgbe: fix driver behaviour after issuing VFLR (bnc#1012628).
- i40e: Fix for Tx timeouts when interface is brought up if DCB
  is enabled (bnc#1012628).
- i40e: fix condition of WARN_ONCE for stat strings (bnc#1012628).
- crypto: chtls - fix null dereference chtls_free_uld()
  (bnc#1012628).
- crypto: cavium/nitrox - fix for command corruption in queue
  full case with backlog submissions (bnc#1012628).
- hwmon: (ina2xx) fix sysfs shunt resistor read access
  (bnc#1012628).
- hwmon: (adt7475) Make adt7475_read_word() return errors
  (bnc#1012628).
- Revert "ARM: dts: imx7d: Invert legacy PCI irq mapping"
  (bnc#1012628).
- drm/amdgpu: Enable/disable gfx PG feature in rlc safe mode
  (bnc#1012628).
- drm/amdgpu: Update power state at the end of smu hw_init
  (bnc#1012628).
- ata: ftide010: Add a quirk for SQ201 (bnc#1012628).
- nvme-fcloop: Fix dropped LS's to removed target port
  (bnc#1012628).
- ARM: dts: omap4-droid4: Fix emmc errors seen on some devices
  (bnc#1012628).
- drm/amdgpu: Need to set moved to true when evict bo
  (bnc#1012628).
- arm/arm64: smccc-1.1: Make return values unsigned long
  (bnc#1012628).
- arm/arm64: smccc-1.1: Handle function result as parameters
  (bnc#1012628).
- i2c: i801: Allow ACPI AML access I/O ports not reserved for
  SMBus (bnc#1012628).
- clk: x86: Set default parent to 48Mhz (bnc#1012628).
- x86/pti: Fix section mismatch warning/error (bnc#1012628).
- KVM: PPC: Book3S HV: Fix guest r11 corruption with POWER9 TM
  workarounds (bnc#1012628).
- powerpc: fix csum_ipv6_magic() on little endian platforms
  (bnc#1012628).
- powerpc/pkeys: Fix reading of ibm, processor-storage-keys
  property (bnc#1012628).
- powerpc/pseries: Fix unitialized timer reset on migration
  (bnc#1012628).
- arm64: KVM: Sanitize PSTATE.M when being set from userspace
  (bnc#1012628).
- media: v4l: event: Prevent freeing event subscriptions while
  accessed (bnc#1012628).
- commit a880bd8

-------------------------------------------------------------------
Tue Oct  2 08:47:16 CEST 2018 - nborisov@suse.com

- Update config files. (boo##1109665)
- commit 76516eb

-------------------------------------------------------------------
Mon Oct  1 14:08:09 CEST 2018 - msuchanek@suse.de

- rpm/mkspec: fix ppc64 kernel-source build.
- commit 85c9272

-------------------------------------------------------------------
Sun Sep 30 21:43:14 CEST 2018 - mkubecek@suse.cz

- Update to 4.19-rc6
- Eliminated 2 patches
- commit 80aa112

-------------------------------------------------------------------
Sat Sep 29 13:28:26 CEST 2018 - jslaby@suse.cz

- Linux 4.18.11 (bnc#1012628).
- spi: Fix double IDR allocation with DT aliases (bnc#1012628).
- iw_cxgb4: only allow 1 flush on user qps (bnc#1012628).
- vmw_balloon: include asm/io.h (bnc#1012628).
- sched/fair: Fix vruntime_normalized() for remote non-migration
  wakeup (bnc#1012628).
- ext4, dax: set ext4_dax_aops for dax files (bnc#1012628).
- ext4, dax: add ext4_bmap to ext4_dax_aops (bnc#1012628).
- ext4: show test_dummy_encryption mount option in /proc/mounts
  (bnc#1012628).
- ext4: don't mark mmp buffer head dirty (bnc#1012628).
- ext4: fix online resizing for bigalloc file systems with a 1k
  block size (bnc#1012628).
- ext4: fix online resize's handling of a too-small final block
  group (bnc#1012628).
- ext4: recalucate superblock checksum after updating free
  blocks/inodes (bnc#1012628).
- ext4: avoid arithemetic overflow that can trigger a BUG
  (bnc#1012628).
- ext4: avoid divide by zero fault when deleting corrupted inline
  directories (bnc#1012628).
- ext4: check to make sure the rename(2)'s destination is not
  freed (bnc#1012628).
- tty: vt_ioctl: fix potential Spectre v1 (bnc#1012628).
- drm/amdgpu: add new polaris pci id (bnc#1012628).
- drm: udl: Destroy framebuffer only if it was initialized
  (bnc#1012628).
- drm/vc4: Fix the "no scaling" case on multi-planar YUV formats
  (bnc#1012628).
- drm/nouveau/drm/nouveau: Prevent handling ACPI HPD events too
  early (bnc#1012628).
- drm/nouveau/drm/nouveau: Use pm_runtime_get_noresume() in
  connector_detect() (bnc#1012628).
- drm/nouveau/drm/nouveau: Fix deadlock with fb_helper with
  async RPM requests (bnc#1012628).
- drm/nouveau/drm/nouveau: Fix bogus drm_kms_helper_poll_enable()
  placement (bnc#1012628).
- drm/nouveau/drm/nouveau: Don't forget to cancel hpd_work on
  suspend/unload (bnc#1012628).
- drm/nouveau: Fix deadlocks in nouveau_connector_detect()
  (bnc#1012628).
- drm/nouveau: Remove duplicate poll_enable() in
  pmops_runtime_suspend() (bnc#1012628).
- drm/nouveau: Only write DP_MSTM_CTRL when needed (bnc#1012628).
- drm/nouveau: Reset MST branching unit before enabling
  (bnc#1012628).
- drm/i915/bdw: Increase IPS disable timeout to 100ms
  (bnc#1012628).
- ocfs2: fix ocfs2 read block panic (bnc#1012628).
- libata: mask swap internal and hardware tag (bnc#1012628).
- Revert "ubifs: xattr: Don't operate on deleted inodes"
  (bnc#1012628).
- scsi: target: iscsi: Use bin2hex instead of a re-implementation
  (bnc#1012628).
- scsi: target: iscsi: Use hex2bin instead of a re-implementation
  (bnc#1012628).
- Revert "uapi/linux/keyctl.h: don't use C++ reserved keyword
  as a struct member name" (bnc#1012628).
- bpf/verifier: disallow pointer subtraction (bnc#1012628).
- Revert "rpmsg: core: add support to power domains for devices"
  (bnc#1012628).
- mm: shmem.c: Correctly annotate new inodes for lockdep
  (bnc#1012628).
- mm: disable deferred struct page for 32-bit arches
  (bnc#1012628).
- fork: report pid exhaustion correctly (bnc#1012628).
- crypto: x86/aegis,morus - Do not require OSXSAVE for SSE2
  (bnc#1012628).
- ring-buffer: Allow for rescheduling when removing pages
  (bnc#1012628).
- Revert "PCI: Add ACS quirk for Intel 300 series" (bnc#1012628).
- spi: fix IDR collision on systems with both fixed and dynamic
  SPI bus numbers (bnc#1012628).
- xen/x86/vpmu: Zero struct pt_regs before calling into sample
  handling code (bnc#1012628).
- xen/netfront: don't bug in case of too many frags (bnc#1012628).
- platform/x86: alienware-wmi: Correct a memory leak
  (bnc#1012628).
- platform/x86: dell-smbios-wmi: Correct a memory leak
  (bnc#1012628).
- mtd: rawnand: denali: fix a race condition when DMA is kicked
  (bnc#1012628).
- mtd: devices: m25p80: Make sure the buffer passed in op is
  DMA-able (bnc#1012628).
- ALSA: oxfw: fix memory leak of private data (bnc#1012628).
- ALSA: oxfw: fix memory leak of discovered stream formats at
  error path (bnc#1012628).
- ALSA: oxfw: fix memory leak for model-dependent data at error
  path (bnc#1012628).
- ALSA: fireworks: fix memory leak of response buffer at error
  path (bnc#1012628).
- ALSA: firewire-tascam: fix memory leak of private data
  (bnc#1012628).
- ALSA: firewire-digi00x: fix memory leak of private data
  (bnc#1012628).
- ALSA: fireface: fix memory leak in ff400_switch_fetching_mode()
  (bnc#1012628).
- ALSA: emu10k1: fix possible info leak to userspace on
  SNDRV_EMU10K1_IOCTL_INFO (bnc#1012628).
- ALSA: bebob: use address returned by kmalloc() instead of
  kernel stack for streaming DMA mapping (bnc#1012628).
- ALSA: bebob: fix memory leak for M-Audio FW1814 and ProjectMix
  I/O at error path (bnc#1012628).
- ASoC: uapi: fix sound/skl-tplg-interface.h userspace compilation
  errors (bnc#1012628).
- ASoC: rsnd: fixup not to call clk_get/set under non-atomic
  (bnc#1012628).
- ASoC: tas6424: Save last fault register even when clear
  (bnc#1012628).
- ASoC: cs4265: fix MMTLR Data switch control (bnc#1012628).
- ASoC: wm9712: fix replace codec to component (bnc#1012628).
- NFC: Fix the number of pipes (bnc#1012628).
- NFC: Fix possible memory corruption when handling SHDLC I-Frame
  commands (bnc#1012628).
- net: rtnl_configure_link: fix dev flags changes arg to
  __dev_notify_flags (bnc#1012628).
- net: mvpp2: let phylink manage the carrier state (bnc#1012628).
- net/ipv6: do not copy dst flags on rt init (bnc#1012628).
- ipv6: use rt6_info members when dst is set in rt6_fill_node
  (bnc#1012628).
- bnxt_en: Fix VF mac address regression (bnc#1012628).
- tls: fix currently broken MSG_PEEK behavior (bnc#1012628).
- socket: fix struct ifreq size in compat ioctl (bnc#1012628).
- net: dsa: mv88e6xxx: Fix ATU Miss Violation (bnc#1012628).
- hv_netvsc: fix schedule in RCU context (bnc#1012628).
- net/sched: act_sample: fix NULL dereference in the data path
  (bnc#1012628).
- udp6: add missing checks on edumux packet processing
  (bnc#1012628).
- neighbour: confirm neigh entries when ARP packet is received
  (bnc#1012628).
- tls: clear key material from kernel memory when
  do_tls_setsockopt_conf fails (bnc#1012628).
- tls: zero the crypto information from tls_context before freeing
  (bnc#1012628).
- tls: don't copy the key out of tls12_crypto_info_aes_gcm_128
  (bnc#1012628).
- udp4: fix IP_CMSG_CHECKSUM for connected sockets (bnc#1012628).
- qmi_wwan: set DTR for modems in forced USB2 mode (bnc#1012628).
- pppoe: fix reception of frames with no mac header (bnc#1012628).
- net: hp100: fix always-true check for link up state
  (bnc#1012628).
- net/appletalk: fix minor pointer leak to userspace in
  SIOCFINDIPDDPRT (bnc#1012628).
- ipv6: fix possible use-after-free in ip6_xmit() (bnc#1012628).
- gso_segment: Reset skb->mac_len after modifying network header
  (bnc#1012628).
- commit 4a5c1c1

-------------------------------------------------------------------
Sat Sep 29 00:00:19 CEST 2018 - lduncan@suse.com

- Added CVE numbers for two patches (bsc#1107829)
- commit e3ac2a8

-------------------------------------------------------------------
Fri Sep 28 23:52:51 CEST 2018 - lduncan@suse.com

- scsi: target: iscsi: Use bin2hex instead of a re-implementation
  (bsc#1107829).
- scsi: target: iscsi: Use hex2bin instead of a re-implementation
  (bsc#1107829).
- commit 8791706

-------------------------------------------------------------------
Thu Sep 27 19:49:19 CEST 2018 - msuchanek@suse.de

- rpm/mkspec: build dtbs for architectures marked -!needs_updating
- commit 2d47640

-------------------------------------------------------------------
Thu Sep 27 19:15:21 CEST 2018 - msuchanek@suse.de

- Limit kernel-source build to architectures for which we build binaries
  (bsc#1108281).
- commit d643512

-------------------------------------------------------------------
Wed Sep 26 10:34:32 CEST 2018 - jslaby@suse.cz

- Linux 4.18.10 (bnc#1012628).
- crypto: ccp - add timeout support in the SEV command
  (bnc#1012628).
- mei: bus: type promotion bug in mei_nfc_if_version()
  (bnc#1012628).
- clk: tegra: bpmp: Don't crash when a clock fails to register
  (bnc#1012628).
- pinctrl: qcom: spmi-gpio: Fix pmic_gpio_config_get() to be
  compliant (bnc#1012628).
- pinctrl: msm: Fix msm_config_group_get() to be compliant
  (bnc#1012628).
- blk-mq: avoid to synchronize rcu inside blk_cleanup_queue()
  (bnc#1012628).
- blk-mq: only attempt to merge bio if there is rq in sw queue
  (bnc#1012628).
- IB/mlx5: fix uaccess beyond "count" in debugfs read/write
  handlers (bnc#1012628).
- block/DAC960.c: fix defined but not used build warnings
  (bnc#1012628).
- staging: fsl-dpaa2/eth: Fix DMA mapping direction (bnc#1012628).
- dmaengine: sh: rcar-dmac: avoid to write CHCR.TE to 1 if TCR
  is set to 0 (bnc#1012628).
- drm/amd/pp: Send khz clock values to DC for smu7/8
  (bnc#1012628).
- arm64: perf: Disable PMU while processing counter overflows
  (bnc#1012628).
- drm/panel: type promotion bug in s6e8aa0_read_mtp_id()
  (bnc#1012628).
- ASoC: rt5651: Fix workqueue cancel vs irq free race on remove
  (bnc#1012628).
- selftest: timers: Tweak raw_skew to SKIP when ADJ_OFFSET/other
  clock adjustments are in progress (bnc#1012628).
- remoteproc: qcom: q6v5-pil: fix modem hang on SDM845 after
  axis2 clk unvote (bnc#1012628).
- scsi: lpfc: Fix panic if driver unloaded when port is offline
  (bnc#1012628).
- scsi: lpfc: Fix NVME Target crash in defer rcv logic
  (bnc#1012628).
- scsi: libfc: fixup 'sleeping function called from invalid
  context' (bnc#1012628).
- ALSA: pcm: Fix snd_interval_refine first/last with open min/max
  (bnc#1012628).
- selftests/android: initialize heap_type to avoid compiling
  warning (bnc#1012628).
- selftests: vDSO - fix to return KSFT_SKIP when test couldn't
  be run (bnc#1012628).
- rtc: bq4802: add error handling for devm_ioremap (bnc#1012628).
- drm/amdkfd: Fix error codes in kfd_get_process (bnc#1012628).
- drm/amdkfd: Fix kernel queue 64 bit doorbell offset calculation
  (bnc#1012628).
- input: rohm_bu21023: switch to i2c_lock_bus(...,
  I2C_LOCK_SEGMENT) (bnc#1012628).
- mfd: 88pm860x-i2c: switch to i2c_lock_bus(..., I2C_LOCK_SEGMENT)
  (bnc#1012628).
- rcutorture: Use monotonic timestamp for stall detection
  (bnc#1012628).
- net: mvpp2: make sure we use single queue mode on PPv2.1
  (bnc#1012628).
- net: gemini: Allow multiple ports to instantiate (bnc#1012628).
- gpiolib: Mark gpio_suffixes array with __maybe_unused
  (bnc#1012628).
- gpio: pxa: Fix potential NULL dereference (bnc#1012628).
- staging: bcm2835-audio: Don't leak workqueue if open fails
  (bnc#1012628).
- lightnvm: pblk: enable line minor version detection
  (bnc#1012628).
- lightnvm: pblk: assume that chunks are closed on 1.2 devices
  (bnc#1012628).
- ASoC: qdsp6: q6afe-dai: fix a range check in
  of_q6afe_parse_dai_data() (bnc#1012628).
- drm/amd/display: support access ddc for mst branch
  (bnc#1012628).
- tools/testing/nvdimm: Fix support for emulating controller
  temperature (bnc#1012628).
- f2fs: do checkpoint in kill_sb (bnc#1012628).
- coresight: ETM: Add support for Arm Cortex-A73 and Cortex-A35
  (bnc#1012628).
- coresight: tpiu: Fix disabling timeouts (bnc#1012628).
- coresight: Handle errors in finding input/output ports
  (bnc#1012628).
- sched/fair: Fix util_avg of new tasks for asymmetric systems
  (bnc#1012628).
- parport: sunbpp: fix error return code (bnc#1012628).
- tls: Fix zerocopy_from_iter iov handling (bnc#1012628).
- drm/nouveau: tegra: Detach from ARM DMA/IOMMU mapping
  (bnc#1012628).
- drm/nouveau/debugfs: Wake up GPU before doing any reclocking
  (bnc#1012628).
- drm/nouveau: Fix runtime PM leak in drm_open() (bnc#1012628).
- mmc: sdhci: do not try to use 3.3V signaling if not supported
  (bnc#1012628).
- mmc: tegra: prevent HS200 on Tegra 3 (bnc#1012628).
- mmc: sdhci-of-esdhc: set proper dma mask for ls104x chips
  (bnc#1012628).
- tty: fix termios input-speed encoding (bnc#1012628).
- tty: fix termios input-speed encoding when using BOTHER
  (bnc#1012628).
- serial: 8250: of: Correct of_platform_serial_setup() error
  handling (bnc#1012628).
- ASoC: hdmi-codec: fix routing (bnc#1012628).
- gpu: ipu-v3: csi: pass back mbus_code_to_bus_cfg error codes
  (bnc#1012628).
- liquidio: fix hang when re-binding VF host drv after running
  DPDK VF driver (bnc#1012628).
- ARM: hisi: check of_iomap and fix missing of_node_put
  (bnc#1012628).
- net: hns3: Fix return value error in hns3_reset_notify_down_enet
  (bnc#1012628).
- ARM: hisi: fix error handling and missing of_node_put
  (bnc#1012628).
- ARM: hisi: handle of_iomap and fix missing of_node_put
  (bnc#1012628).
- net: hns3: Fix for reset_level default assignment probelm
  (bnc#1012628).
- net: hns3: Reset net device with rtnl_lock (bnc#1012628).
- efi/esrt: Only call efi_mem_reserve() for boot services memory
  (bnc#1012628).
- sched/core: Use smp_mb() in wake_woken_function() (bnc#1012628).
- arm64: dts: mt7622: update a clock property for UART0
  (bnc#1012628).
- pinctrl: rza1: Fix selector use for groups and functions
  (bnc#1012628).
- pinctrl: mt7622: Fix probe fail by misuse the selector
  (bnc#1012628).
- configfs: fix registered group removal (bnc#1012628).
- MIPS: loongson64: cs5536: Fix PCI_OHCI_INT_REG reads
  (bnc#1012628).
- KVM: PPC: Book3S: Fix matching of hardware and emulated TCE
  tables (bnc#1012628).
- PM / devfreq: use put_device() instead of kfree() (bnc#1012628).
- security: check for kstrdup() failure in lsm_append()
  (bnc#1012628).
- KVM: PPC: Book3S HV: Add of_node_put() in success path
  (bnc#1012628).
- evm: Don't deadlock if a crypto algorithm is unavailable
  (bnc#1012628).
- Bluetooth: Use lock_sock_nested in bt_accept_enqueue
  (bnc#1012628).
- spi: dw: fix possible race condition (bnc#1012628).
- bpf: fix rcu annotations in compute_effective_progs()
  (bnc#1012628).
- vfs: fix freeze protection in mnt_want_write_file() for
  overlayfs (bnc#1012628).
- mtdchar: fix overflows in adjustment of `count` (bnc#1012628).
- audit: fix use-after-free in audit_add_watch (bnc#1012628).
- arm64: dts: uniphier: Add missing cooling device properties
  for CPUs (bnc#1012628).
- net/mlx5: Add missing SET_DRIVER_VERSION command translation
  (bnc#1012628).
- binfmt_elf: Respect error return from `regset->active'
  (bnc#1012628).
- mmc: meson-mx-sdio: fix OF child-node lookup (bnc#1012628).
- of: add helper to lookup compatible child node (bnc#1012628).
- NFSv4.1 fix infinite loop on I/O (bnc#1012628).
- NFSv4: Fix a tracepoint Oops in initiate_file_draining()
  (bnc#1012628).
- x86/EISA: Don't probe EISA bus for Xen PV guests (bnc#1012628).
- of: fix phandle cache creation for DTs with no phandles
  (bnc#1012628).
- perf tools: Fix maps__find_symbol_by_name() (bnc#1012628).
- perf/core: Force USER_DS when recording user stack data
  (bnc#1012628).
- xtensa: ISS: don't allocate memory in platform_setup
  (bnc#1012628).
- cifs: integer overflow in in SMB2_ioctl() (bnc#1012628).
- CIFS: fix wrapping bugs in num_entries() (bnc#1012628).
- cifs: prevent integer overflow in nxt_dir_entry() (bnc#1012628).
- Revert "cdc-acm: implement put_char() and flush_chars()"
  (bnc#1012628).
- usb: cdc-wdm: Fix a sleep-in-atomic-context bug in
  service_outstanding_interrupt() (bnc#1012628).
- USB: yurex: Fix buffer over-read in yurex_write() (bnc#1012628).
- USB: serial: ti_usb_3410_5052: fix array underflow in completion
  handler (bnc#1012628).
- usb: misc: uss720: Fix two sleep-in-atomic-context bugs
  (bnc#1012628).
- USB: serial: io_ti: fix array underflow in completion handler
  (bnc#1012628).
- USB: net2280: Fix erroneous synchronization change
  (bnc#1012628).
- usb: gadget: udc: renesas_usb3: fix maxpacket size of ep0
  (bnc#1012628).
- USB: add quirk for WORLDE Controller KS49 or Prodipe MIDI 49C
  USB controller (bnc#1012628).
- usb: host: u132-hcd: Fix a sleep-in-atomic-context bug in
  u132_get_frame() (bnc#1012628).
- usb: Avoid use-after-free by flushing endpoints early in
  usb_set_interface() (bnc#1012628).
- usb: uas: add support for more quirk flags (bnc#1012628).
- USB: Add quirk to support DJI CineSSD (bnc#1012628).
- dm verity: fix crash on bufio buffer that was allocated with
  vmalloc (bnc#1012628).
- mei: bus: need to unlink client before freeing (bnc#1012628).
- mei: bus: fix hw module get/put balance (bnc#1012628).
- mei: ignore not found client in the enumeration (bnc#1012628).
- usb: mtu3: fix error of xhci port id when enable U3 dual role
  (bnc#1012628).
- usb: xhci: fix interrupt transfer error happened on MTK
  platforms (bnc#1012628).
- usb: Don't die twice if PCI xhci host is not responding in
  resume (bnc#1012628).
- xhci: Fix use after free for URB cancellation on a reallocated
  endpoint (bnc#1012628).
- misc: hmc6352: fix potential Spectre v1 (bnc#1012628).
- misc: ibmvsm: Fix wrong assignment of return code (bnc#1012628).
- Tools: hv: Fix a bug in the key delete code (bnc#1012628).
- vmbus: don't return values for uninitalized channels
  (bnc#1012628).
- ovl: fix oopses in ovl_fill_super() failure paths (bnc#1012628).
- ipmi: Fix I2C client removal in the SSIF driver (bnc#1012628).
- ipmi: Move BT capabilities detection to the detect call
  (bnc#1012628).
- ipmi: Rework SMI registration failure (bnc#1012628).
- mmc: omap_hsmmc: fix wakeirq handling on removal (bnc#1012628).
- s390/crypto: Fix return code checking in cbc_paes_crypt()
  (bnc#1012628).
- IB/ipoib: Avoid a race condition between start_xmit and
  cm_rep_handler (bnc#1012628).
- xen/netfront: fix waiting for xenbus state change (bnc#1012628).
- pstore: Fix incorrect persistent ram buffer mapping
  (bnc#1012628).
- RDMA/cma: Protect cma dev list with lock (bnc#1012628).
- xen-netfront: fix warn message as irq device name has '/'
  (bnc#1012628).
- PCI/AER: Honor "pcie_ports=native" even if HEST sets
  FIRMWARE_FIRST (bnc#1012628).
- x86/mm/pti: Add an overflow check to pti_clone_pmds()
  (bnc#1012628).
- x86/pti: Check the return value of pti_user_pagetable_walk_pmd()
  (bnc#1012628).
- x86/pti: Check the return value of pti_user_pagetable_walk_p4d()
  (bnc#1012628).
- crypto: sharah - Unregister correct algorithms for SAHARA 3
  (bnc#1012628).
- dmaengine: mv_xor_v2: kill the tasklets upon exit (bnc#1012628).
- iommu/ipmmu-vmsa: IMUCTRn.TTSEL needs a special usage on R-Car
  Gen3 (bnc#1012628).
- regulator: qcom_spmi: Fix warning Bad of_node_put()
  (bnc#1012628).
- regulator: qcom_spmi: Use correct regmap when checking for error
  (bnc#1012628).
- drm/amd/pp: Set Max clock level to display by default
  (bnc#1012628).
- i2c: aspeed: Fix initial values of master and slave state
  (bnc#1012628).
- drivers/base: stop new probing during shutdown (bnc#1012628).
- KVM: arm/arm64: Fix vgic init race (bnc#1012628).
- platform/x86: toshiba_acpi: Fix defined but not used build
  warnings (bnc#1012628).
- s390/qeth: reset layer2 attribute on layer switch (bnc#1012628).
- s390/qeth: fix race in used-buffer accounting (bnc#1012628).
- soc: qcom: smem: Correct check for global partition
  (bnc#1012628).
- ARM: dts: qcom: msm8974-hammerhead: increase load on l20 for
  sdhci (bnc#1012628).
- arm64: dts: qcom: db410c: Fix Bluetooth LED trigger
  (bnc#1012628).
- xen-netfront: fix queue name setting (bnc#1012628).
- nfp: avoid buffer leak when FW communication fails
  (bnc#1012628).
- ALSA: usb-audio: Generic DSD detection for Thesycon-based
  implementations (bnc#1012628).
- efi/arm: preserve early mapping of UEFI memory map longer for
  BGRT (bnc#1012628).
- reset: imx7: Fix always writing bits as 0 (bnc#1012628).
- arm64: fix possible spectre-v1 write in ptrace_hbp_set_event()
  (bnc#1012628).
- wan/fsl_ucc_hdlc: use IS_ERR_VALUE() to check return value of
  qe_muram_alloc (bnc#1012628).
- Smack: Fix handling of IPv4 traffic received by PF_INET6 sockets
  (bnc#1012628).
- mac80211: restrict delayed tailroom needed decrement
  (bnc#1012628).
- MIPS: jz4740: Bump zload address (bnc#1012628).
- ASoC: rt5514: Fix the issue of the delay volume applied
  (bnc#1012628).
- staging: bcm2835-camera: handle wait_for_completion_timeout
  return properly (bnc#1012628).
- staging: bcm2835-camera: fix timeout handling in
  wait_for_completion_timeout (bnc#1012628).
- perf script: Show correct offsets for DWARF-based unwinding
  (bnc#1012628).
- powerpc/powernv: opal_put_chars partial write fix (bnc#1012628).
- KVM: arm/arm64: vgic: Fix possible spectre-v1 write in
  vgic_mmio_write_apr() (bnc#1012628).
- nvme-rdma: unquiesce queues when deleting the controller
  (bnc#1012628).
- nvmet: fix file discard return status (bnc#1012628).
- perf powerpc: Fix callchain ip filtering (bnc#1012628).
- ARM: exynos: Clear global variable on init error path
  (bnc#1012628).
- omapfb: rename omap2 module to omap2fb.ko (bnc#1012628).
- fbdev: Distinguish between interlaced and progressive modes
  (bnc#1012628).
- video: fbdev: pxafb: clear allocated memory for video modes
  (bnc#1012628).
- perf powerpc: Fix callchain ip filtering when return address
  is in a register (bnc#1012628).
- fbdev/via: fix defined but not used warning (bnc#1012628).
- video: goldfishfb: fix memory leak on driver remove
  (bnc#1012628).
- perf tools: Fix struct comm_str removal crash (bnc#1012628).
- fbdev: omapfb: off by one in omapfb_register_client()
  (bnc#1012628).
- perf tests: Fix record+probe_libc_inet_pton.sh to ensure
  cleanups (bnc#1012628).
- perf tests: Fix record+probe_libc_inet_pton.sh when event exists
  (bnc#1012628).
- perf tests: Fix record+probe_libc_inet_pton.sh for powerpc64
  (bnc#1012628).
- perf tools: Synthesize GROUP_DESC feature in pipe mode
  (bnc#1012628).
- gfs2: Don't reject a supposedly full bitmap if we have blocks
  reserved (bnc#1012628).
- perf test: Fix subtest number when showing results
  (bnc#1012628).
- media: ov5645: Supported external clock is 24MHz (bnc#1012628).
- mtd/maps: fix solutionengine.c printk format warnings
  (bnc#1012628).
- IB/ipoib: Fix error return code in ipoib_dev_init()
  (bnc#1012628).
- block: allow max_discard_segments to be stacked (bnc#1012628).
- IB/rxe: Drop QP0 silently (bnc#1012628).
- media: videobuf2-core: check for q->error in vb2_core_qbuf()
  (bnc#1012628).
- MIPS: ath79: fix system restart (bnc#1012628).
- dmaengine: pl330: fix irq race with terminate_all (bnc#1012628).
- media: tw686x: Fix oops on buffer alloc failure (bnc#1012628).
- kbuild: do not update config when running install targets
  (bnc#1012628).
- kbuild: add .DELETE_ON_ERROR special target (bnc#1012628).
- clk: clk-fixed-factor: Clear OF_POPULATED flag in case of
  failure (bnc#1012628).
- clk: core: Potentially free connection id (bnc#1012628).
- Input: pxrc - fix freeing URB on device teardown (bnc#1012628).
- clk: mvebu: armada-37xx-periph: Fix wrong return value in
  get_parent (bnc#1012628).
- clk: imx6sll: fix missing of_node_put() (bnc#1012628).
- clk: imx6ul: fix missing of_node_put() (bnc#1012628).
- gfs2: Special-case rindex for gfs2_grow (bnc#1012628).
- iwlwifi: cancel the injective function between hw pointers to
  tfd entry index (bnc#1012628).
- nfp: don't fail probe on pci_sriov_set_totalvfs() errors
  (bnc#1012628).
- amd-xgbe: use dma_mapping_error to check map errors
  (bnc#1012628).
- xfrm: fix 'passing zero to ERR_PTR()' warning (bnc#1012628).
- ALSA: usb-audio: Fix multiple definitions in AU0828_DEVICE()
  macro (bnc#1012628).
- ALSA: usb-audio: Add support for Encore mDSD USB DAC
  (bnc#1012628).
- ALSA: msnd: Fix the default sample sizes (bnc#1012628).
- iommu/io-pgtable-arm: Fix pgtable allocation in selftest
  (bnc#1012628).
- iommu/io-pgtable-arm-v7s: Abort allocation when table address
  overflows the PTE (bnc#1012628).
- iommu/arm-smmu-v3: sync the OVACKFLG to PRIQ consumer register
  (bnc#1012628).
- usb: dwc3: change stream event enable bit back to 13
  (bnc#1012628).
- net/mlx5: Use u16 for Work Queue buffer fragment size
  (bnc#1012628).
- net/mlx5: Fix possible deadlock from lockdep when adding fte
  to fg (bnc#1012628).
- net/mlx5: Fix not releasing read lock when adding flow rules
  (bnc#1012628).
- tcp: really ignore MSG_ZEROCOPY if no SO_ZEROCOPY (bnc#1012628).
- erspan: return PACKET_REJECT when the appropriate tunnel is
  not found (bnc#1012628).
- erspan: fix error handling for erspan tunnel (bnc#1012628).
- net/mlx5: Fix debugfs cleanup in the device init/remove flow
  (bnc#1012628).
- net/mlx5: Check for error in mlx5_attach_interface
  (bnc#1012628).
- net/tls: Set count of SG entries if sk_alloc_sg returns -ENOSPC
  (bnc#1012628).
- net/mlx5: E-Switch, Fix memory leak when creating switchdev
  mode FDB tables (bnc#1012628).
- tipc: orphan sock in tipc_release() (bnc#1012628).
- rds: fix two RCU related problems (bnc#1012628).
- net: qca_spi: Fix race condition in spi transfers (bnc#1012628).
- net/mlx5: Fix use-after-free in self-healing flow (bnc#1012628).
- be2net: Fix memory leak in be_cmd_get_profile_config()
  (bnc#1012628).
- commit 3aeb311

-------------------------------------------------------------------
Tue Sep 25 16:01:51 CEST 2018 - mbrugger@suse.com

- arm64: Update config files.
  Increase NR_CPUS to 480 (fate#325592)
- commit d5464c0

-------------------------------------------------------------------
Mon Sep 24 07:22:45 CEST 2018 - mkubecek@suse.cz

- Update to 4.19-rc5
- commit b44d7bc

-------------------------------------------------------------------
Thu Sep 20 08:37:04 CEST 2018 - jslaby@suse.cz

- Linux 4.18.9 (bnc#1012628).
- i2c: xiic: Make the start and the byte count write atomic
  (bnc#1012628).
- i2c: i801: fix DNV's SMBCTRL register offset (bnc#1012628).
- HID: multitouch: fix Elan panels with 2 input modes declaration
  (bnc#1012628).
- HID: core: fix grouping by application (bnc#1012628).
- HID: i2c-hid: Fix flooded incomplete report after S3 on Rayd
  touchscreen (bnc#1012628).
- HID: input: fix leaking custom input node name (bnc#1012628).
- mm/hugetlb: filter out hugetlb pages if HUGEPAGE migration is
  not supported (bnc#1012628).
- memory_hotplug: fix kernel_panic on offline page processing
  (bnc#1012628).
- mac80211: don't update the PM state of a peer upon a multicast
  frame (bnc#1012628).
- scsi: lpfc: Correct MDS diag and nvmet configuration
  (bnc#1012628).
- nbd: don't allow invalid blocksize settings (bnc#1012628).
- block: don't warn when doing fsync on read-only devices
  (bnc#1012628).
- block: bfq: swap puts in bfqg_and_blkg_put (bnc#1012628).
- android: binder: fix the race mmap and alloc_new_buf_locked
  (bnc#1012628).
- MIPS: VDSO: Match data page cache colouring when D$ aliases
  (bnc#1012628).
- SMB3: Backup intent flag missing for directory opens with
  backupuid mounts (bnc#1012628).
- smb3: check for and properly advertise directory lease support
  (bnc#1012628).
- cifs: connect to servername instead of IP for IPC$ share
  (bnc#1012628).
- btrfs: fix qgroup_free wrong num_bytes in
  btrfs_subvolume_reserve_metadata (bnc#1012628).
- Btrfs: fix data corruption when deduplicating between different
  files (bnc#1012628).
- KVM: arm/arm64: Clean dcache to PoC when changing PTE due to
  CoW (bnc#1012628).
- KVM: PPC: Book3S HV: Use correct pagesize in kvm_unmap_radix()
  (bnc#1012628).
- KVM: s390: vsie: copy wrapping keys to right place
  (bnc#1012628).
- KVM: x86: SVM: Set EMULTYPE_NO_REEXECUTE for RSM emulation
  (bnc#1012628).
- KVM: VMX: Do not allow reexecute_instruction() when skipping
  MMIO instr (bnc#1012628).
- KVM: x86: Invert emulation re-execute behavior to make it opt-in
  (bnc#1012628).
- KVM: x86: Merge EMULTYPE_RETRY and EMULTYPE_ALLOW_REEXECUTE
  (bnc#1012628).
- KVM: x86: Default to not allowing emulation retry in
  kvm_mmu_page_fault (bnc#1012628).
- KVM: x86: Do not re-{try,execute} after failed emulation in L2
  (bnc#1012628).
- ARC: [plat-axs*/plat-hsdk]: Allow U-Boot to pass MAC-address
  to the kernel (bnc#1012628).
- ACPI / LPSS: Force LPSS quirks on boot (bnc#1012628).
- memory: ti-aemif: fix a potential NULL-pointer dereference
  (bnc#1012628).
- ALSA: hda - Fix cancel_work_sync() stall from jackpoll work
  (bnc#1012628).
- cpu/hotplug: Adjust misplaced smb() in cpuhp_thread_fun()
  (bnc#1012628).
- cpu/hotplug: Prevent state corruption on error rollback
  (bnc#1012628).
- x86/microcode: Make sure boot_cpu_data.microcode is up-to-date
  (bnc#1012628).
- x86/microcode: Update the new microcode revision unconditionally
  (bnc#1012628).
- x86/process: Don't mix user/kernel regs in 64bit __show_regs()
  (bnc#1012628).
- x86/apic/vector: Make error return value negative (bnc#1012628).
- switchtec: Fix Spectre v1 vulnerability (bnc#1012628).
- ARC: [plat-axs*]: Enable SWAP (bnc#1012628).
- tc-testing: flush gact actions on test teardown (bnc#1012628).
- tc-testing: remove duplicate spaces in connmark match patterns
  (bnc#1012628).
- misc: mic: SCIF Fix scif_get_new_port() error handling
  (bnc#1012628).
- ALSA: hda/realtek - Add mute LED quirk for HP Spectre x360
  (bnc#1012628).
- ethtool: Remove trailing semicolon for static inline
  (bnc#1012628).
- i2c: aspeed: Add an explicit type casting for *get_clk_reg_val
  (bnc#1012628).
- Bluetooth: h5: Fix missing dependency on BT_HCIUART_SERDEV
  (bnc#1012628).
- pinctrl: berlin: fix 'pctrl->functions' allocation in
  berlin_pinctrl_build_state (bnc#1012628).
- gpio: tegra: Move driver registration to subsys_init level
  (bnc#1012628).
- powerpc/powernv: Fix concurrency issue with npu->mmio_atsd_usage
  (bnc#1012628).
- powerpc/4xx: Fix error return path in ppc4xx_msi_probe()
  (bnc#1012628).
- selftests/bpf: fix a typo in map in map test (bnc#1012628).
- media: davinci: vpif_display: Mix memory leak on probe error
  path (bnc#1012628).
- media: dw2102: Fix memleak on sequence of probes (bnc#1012628).
- net: phy: Fix the register offsets in Broadcom iProc mdio mux
  driver (bnc#1012628).
- scsi: qla2xxx: Fix unintended Logout (bnc#1012628).
- scsi: qla2xxx: Fix session state stuck in Get Port DB
  (bnc#1012628).
- scsi: qla2xxx: Silent erroneous message (bnc#1012628).
- clk: scmi: Fix the rounding of clock rate (bnc#1012628).
- blk-mq: fix updating tags depth (bnc#1012628).
- scsi: lpfc: Fix driver crash when re-registering NVME rports
  (bnc#1012628).
- scsi: target: fix __transport_register_session locking
  (bnc#1012628).
- md/raid5: fix data corruption of replacements after originals
  dropped (bnc#1012628).
- timers: Clear timer_base::must_forward_clk with timer_base::lock
  held (bnc#1012628).
- media: camss: csid: Configure data type and decode format
  properly (bnc#1012628).
- gpu: ipu-v3: default to id 0 on missing OF alias (bnc#1012628).
- misc: ti-st: Fix memory leak in the error path of probe()
  (bnc#1012628).
- uio: potential double frees if __uio_register_device() fails
  (bnc#1012628).
- firmware: vpd: Fix section enabled flag on vpd_section_destroy
  (bnc#1012628).
- Drivers: hv: vmbus: Cleanup synic memory free path
  (bnc#1012628).
- tty: rocket: Fix possible buffer overwrite on register_PCI
  (bnc#1012628).
- uio: fix possible circular locking dependency (bnc#1012628).
- iwlwifi: pcie: don't access periphery registers when not
  available (bnc#1012628).
- IB/IPoIB: Set ah valid flag in multicast send flow
  (bnc#1012628).
- f2fs: fix to active page in lru list for read path
  (bnc#1012628).
- f2fs: do not set free of current section (bnc#1012628).
- f2fs: Keep alloc_valid_block_count in sync (bnc#1012628).
- f2fs: issue discard align to section in LFS mode (bnc#1012628).
- f2fs: fix defined but not used build warnings (bnc#1012628).
- f2fs: fix to detect looped node chain correctly (bnc#1012628).
- ASoC: soc-pcm: Use delay set in component pointer function
  (bnc#1012628).
- perf tools: Allow overriding MAX_NR_CPUS at compile time
  (bnc#1012628).
- device-dax: avoid hang on error before devm_memremap_pages()
  (bnc#1012628).
- NFSv4.0 fix client reference leak in callback (bnc#1012628).
- perf c2c report: Fix crash for empty browser (bnc#1012628).
- perf evlist: Fix error out while applying initial delay and LBR
  (bnc#1012628).
- powerpc/pseries: fix EEH recovery of some IOV devices
  (bnc#1012628).
- macintosh/via-pmu: Add missing mmio accessors (bnc#1012628).
- perf build: Fix installation directory for eBPF (bnc#1012628).
- ath9k: report tx status on EOSP (bnc#1012628).
- ath9k_hw: fix channel maximum power level test (bnc#1012628).
- ath10k: prevent active scans on potential unusable channels
  (bnc#1012628).
- wlcore: Set rx_status boottime_ns field on rx (bnc#1012628).
- rpmsg: core: add support to power domains for devices
  (bnc#1012628).
- mtd: rawnand: make subop helpers return unsigned values
  (bnc#1012628).
- scsi: tcmu: do not set max_blocks if data_bitmap has been setup
  (bnc#1012628).
- MIPS: Fix ISA virt/bus conversion for non-zero PHYS_OFFSET
  (bnc#1012628).
- ata: libahci: Allow reconfigure of DEVSLP register
  (bnc#1012628).
- ata: libahci: Correct setting of DEVSLP register (bnc#1012628).
- nfs: Referrals not inheriting proto setting from parent
  (bnc#1012628).
- scsi: 3ware: fix return 0 on the error path of probe
  (bnc#1012628).
- tools/testing/nvdimm: kaddr and pfn can be NULL to
  ->direct_access() (bnc#1012628).
- ath10k: disable bundle mgmt tx completion event support
  (bnc#1012628).
- media: em28xx: explicitly disable TS packet filter
  (bnc#1012628).
- PCI: mobiveil: Add missing ../pci.h include (bnc#1012628).
- PCI: mobiveil: Fix struct mobiveil_pcie.pcie_reg_base address
  type (bnc#1012628).
- powerpc/mm: Don't report PUDs as memory leaks when using
  kmemleak (bnc#1012628).
- Bluetooth: hidp: Fix handling of strncpy for hid->name
  information (bnc#1012628).
- x86/mm: Remove in_nmi() warning from vmalloc_fault()
  (bnc#1012628).
- regulator: tps65217: Fix NULL pointer dereference on probe
  (bnc#1012628).
- pinctrl: imx: off by one in imx_pinconf_group_dbg_show()
  (bnc#1012628).
- gpio: pxa: disable pinctrl calls for PXA3xx (bnc#1012628).
- gpio: ml-ioh: Fix buffer underwrite on probe error path
  (bnc#1012628).
- pinctrl/amd: only handle irq if it is pending and unmasked
  (bnc#1012628).
- net: mvneta: fix mtu change on port without link (bnc#1012628).
- f2fs: try grabbing node page lock aggressively in sync scenario
  (bnc#1012628).
- pktcdvd: Fix possible Spectre-v1 for pkt_devs (bnc#1012628).
- f2fs: fix to skip GC if type in SSA and SIT is inconsistent
  (bnc#1012628).
- tpm_tis_spi: Pass the SPI IRQ down to the driver (bnc#1012628).
- tpm/tpm_i2c_infineon: switch to i2c_lock_bus(...,
  I2C_LOCK_SEGMENT) (bnc#1012628).
- f2fs: fix to do sanity check with reserved blkaddr of inline
  inode (bnc#1012628).
- MIPS: Octeon: add missing of_node_put() (bnc#1012628).
- MIPS: generic: fix missing of_node_put() (bnc#1012628).
- thermal: rcar_thermal: avoid NULL dereference in absence of
  IRQ resources (bnc#1012628).
- thermal_hwmon: Sanitize attribute name passed to hwmon
  (bnc#1012628).
- net: dcb: For wild-card lookups, use priority -1, not 0
  (bnc#1012628).
- dm cache: only allow a single io_mode cache feature to be
  requested (bnc#1012628).
- Input: atmel_mxt_ts - only use first T9 instance (bnc#1012628).
- media: s5p-mfc: Fix buffer look up in s5p_mfc_handle_frame_{new,
  copy_time} functions (bnc#1012628).
- partitions/aix: append null character to print data from disk
  (bnc#1012628).
- partitions/aix: fix usage of uninitialized lv_info and lvname
  structures (bnc#1012628).
- media: rcar-csi2: update stream start for V3M (bnc#1012628).
- media: helene: fix xtal frequency setting at power on
  (bnc#1012628).
- drm/amd/display: Prevent PSR from being enabled if
  initialization fails (bnc#1012628).
- media: em28xx: Fix dual transport stream operation
  (bnc#1012628).
- iommu/arm-smmu-v3: Abort all transactions if SMMU is enabled
  in kdump kernel (bnc#1012628).
- f2fs: fix to wait on page writeback before updating page
  (bnc#1012628).
- f2fs: Fix uninitialized return in f2fs_ioc_shutdown()
  (bnc#1012628).
- media: em28xx: Fix DualHD disconnect oops (bnc#1012628).
- f2fs: avoid potential deadlock in f2fs_sbi_store (bnc#1012628).
- f2fs: fix to do sanity check with secs_per_zone (bnc#1012628).
- mfd: rave-sp: Initialize flow control and parity of the port
  (bnc#1012628).
- iommu/ipmmu-vmsa: Fix allocation in atomic context
  (bnc#1012628).
- mfd: ti_am335x_tscadc: Fix struct clk memory leak (bnc#1012628).
- f2fs: fix to do sanity check with {sit,nat}_ver_bitmap_bytesize
  (bnc#1012628).
- f2fs: fix to propagate return value of scan_nat_page()
  (bnc#1012628).
- f2fs: fix to do sanity check with extra_attr feature
  (bnc#1012628).
- RDMA/hns: Add illegal hop_num judgement (bnc#1012628).
- NFSv4.1: Fix a potential layoutget/layoutrecall deadlock
  (bnc#1012628).
- RDMA/hns: Update the data type of immediate data (bnc#1012628).
- MIPS: WARN_ON invalid DMA cache maintenance, not BUG_ON
  (bnc#1012628).
- MIPS: mscc: ocelot: fix length of memory address space for MIIM
  (bnc#1012628).
- RDMA/cma: Do not ignore net namespace for unbound cm_id
  (bnc#1012628).
- clocksource: Revert "Remove kthread" (bnc#1012628).
- autofs: fix autofs_sbi() does not check super block type
  (bnc#1012628).
- mm: get rid of vmacache_flush_all() entirely (bnc#1012628).
- commit 67901ec

-------------------------------------------------------------------
Mon Sep 17 01:27:54 CEST 2018 - mkubecek@suse.cz

- Update to 4.19-rc4
- Eliminated 1 patch
- Config changes:
  - Filesystems:
    - EROFS_FS=m
    - EROFS_FS_DEBUG=n
    - EROFS_FS_XATTR=y
    - EROFS_FS_POSIX_ACL=y
    - EROFS_FS_SECURITY=y
    - EROFS_FS_USE_VM_MAP_RAM=n
    - EROFS_FAULT_INJECTION=n
    - EROFS_FS_ZIP=n
- commit 625b101

-------------------------------------------------------------------
Sat Sep 15 16:09:24 CEST 2018 - jslaby@suse.cz

- Linux 4.18.8 (bnc#1012628).
- ASoC: wm8994: Fix missing break in switch (bnc#1012628).
- HID: redragon: fix num lock and caps lock LEDs (bnc#1012628).
- x86: kvm: avoid unused variable warning (bnc#1012628).
- kvm: x86: Set highest physical address bits in
  non-present/reserved SPTEs (bnc#1012628).
- kbuild: make missing $DEPMOD a Warning instead of an Error
  (bnc#1012628).
- x86/xen: don't write ptes directly in 32-bit PV guests
  (bnc#1012628).
- x86/pae: use 64 bit atomic xchg function in
  native_ptep_get_and_clear (bnc#1012628).
- debugobjects: Make stack check warning more informative
  (bnc#1012628).
- drm/amdgpu: Don't warn on destroying a pinned BO (bnc#1012628).
- drm/amdgpu: Warn and update pin_size values when destroying
  a pinned BO (bnc#1012628).
- drm/amdgpu: Make pin_size values atomic (bnc#1012628).
- drm/amdgpu: Keep track of amount of pinned CPU visible VRAM
  (bnc#1012628).
- x86/tsc: Prevent result truncation on 32bit (bnc#1012628).
- drm/i915: set DP Main Stream Attribute for color range on DDI
  platforms (bnc#1012628).
- mm: respect arch_dup_mmap() return value (bnc#1012628).
- uapi/linux/keyctl.h: don't use C++ reserved keyword as a struct
  member name (bnc#1012628).
- drm/i915: Re-apply "Perform link quality check, unconditionally
  during long pulse" (bnc#1012628).
- drm/amdgpu: fix incorrect use of drm_file->pid (bnc#1012628).
- drm/amdgpu: fix incorrect use of fcheck (bnc#1012628).
- drm/amdgpu:add VCN booting with firmware loaded by PSP
  (bnc#1012628).
- drm/amdgpu:add VCN support in PSP driver (bnc#1012628).
- drm/amdgpu:add new firmware id for VCN (bnc#1012628).
- drm/amdgpu:add tmr mc address into amdgpu_firmware_info
  (bnc#1012628).
- drm/amdgpu: update tmr mc address (bnc#1012628).
- drm/amd/display: Check if clock source in use before disabling
  (bnc#1012628).
- drm/amd/display: Pass connector id when executing VBIOS CT
  (bnc#1012628).
- drm/rockchip: vop: fix irq disabled after vop driver probed
  (bnc#1012628).
- drm/rockchip: vop: split out core clock enablement into separate
  functions (bnc#1012628).
- drm/rockchip: lvds: add missing of_node_put (bnc#1012628).
- drm/amd/display: Report non-DP display as disconnected without
  EDID (bnc#1012628).
- drm/amd/display: Use requested HDMI aspect ratio (bnc#1012628).
- drm/amd/display: update clk for various HDMI color depths
  (bnc#1012628).
- drm/amd/display: Don't share clk source between DP and HDMI
  (bnc#1012628).
- drm/amd/display: fix type of variable (bnc#1012628).
- drm/edid: Add 6 bpc quirk for SDC panel in Lenovo B50-80
  (bnc#1012628).
- drm/edid: Quirk Vive Pro VR headset non-desktop (bnc#1012628).
- drm/amd/pp/Polaris12: Fix a chunk of registers missed to program
  (bnc#1012628).
- drm/amd/powerplay: fixed uninitialized value (bnc#1012628).
- drm/amd/pp: Convert voltage unit in mV*4 to mV on CZ/ST
  (bnc#1012628).
- drm/amdgpu: Fix RLC safe mode test in
  gfx_v9_0_enter_rlc_safe_mode (bnc#1012628).
- drm/amdgpu: fix a reversed condition (bnc#1012628).
- drm/amdgpu: update uvd_v6_0_ring_vm_funcs to use new nop packet
  (bnc#1012628).
- drm/i915: Free write_buf that we allocated with kzalloc
  (bnc#1012628).
- drm/i915: Increase LSPCON timeout (bnc#1012628).
- drm/i915: Nuke the LVDS lid notifier (bnc#1012628).
- drm/i915/lpe: Mark LPE audio runtime pm as "no callbacks"
  (bnc#1012628).
- btrfs: fix mount and ioctl device scan ioctl race (bnc#1012628).
- btrfs: reorder initialization before the mount locks uuid_mutex
  (bnc#1012628).
- btrfs: lift uuid_mutex to callers of btrfs_parse_early_options
  (bnc#1012628).
- btrfs: lift uuid_mutex to callers of btrfs_scan_one_device
  (bnc#1012628).
- btrfs: use device_list_mutex when removing stale devices
  (bnc#1012628).
- btrfs: rename local devices for fs_devices in
  btrfs_free_stale_devices( (bnc#1012628).
- btrfs: extend locked section when adding a new device in
  device_list_add (bnc#1012628).
- btrfs: do btrfs_free_stale_devices outside of device_list_add
  (bnc#1012628).
- ARM: rockchip: Force CONFIG_PM on Rockchip systems
  (bnc#1012628).
- arm64: rockchip: Force CONFIG_PM on Rockchip systems
  (bnc#1012628).
- btrfs: Fix a C compliance issue (bnc#1012628).
- btrfs: Don't remove block group that still has pinned down bytes
  (bnc#1012628).
- btrfs: lift uuid_mutex to callers of btrfs_open_devices
  (bnc#1012628).
- btrfs: check-integrity: Fix NULL pointer dereference for
  degraded mount (bnc#1012628).
- btrfs: tree-checker: Detect invalid and empty essential trees
  (bnc#1012628).
- btrfs: relocation: Only remove reloc rb_trees if reloc control
  has been initialized (bnc#1012628).
- btrfs: fix in-memory value of total_devices after seed device
  deletion (bnc#1012628).
- btrfs: replace: Reset on-disk dev stats value after replace
  (bnc#1012628).
- btrfs: Exit gracefully when chunk map cannot be inserted to
  the tree (bnc#1012628).
- drm/etnaviv: fix crash in GPU suspend when init failed due to
  buffer placement (bnc#1012628).
- kvm: nVMX: Fix fault vector for VMX operation at CPL > 0
  (bnc#1012628).
- KVM: vmx: track host_state.loaded using a loaded_vmcs pointer
  (bnc#1012628).
- drm/amd/display: Read back max backlight value at boot
  (bnc#1012628).
- clk: rockchip: Add pclk_rkpwm_pmu to PMU critical clocks in
  rk3399 (bnc#1012628).
- powerpc/pseries: Avoid using the size greater than
  RTAS_ERROR_LOG_MAX (bnc#1012628).
- um: fix parallel building with O= option (bnc#1012628).
- powerpc/64s: Make rfi_flush_fallback a little more robust
  (bnc#1012628).
- powerpc/platforms/85xx: fix t1042rdb_diu.c build errors &
  warning (bnc#1012628).
- smb3: if server does not support posix do not allow posix
  mount option (bnc#1012628).
- SMB3: Number of requests sent should be displayed for SMB3
  not just CIFS (bnc#1012628).
- CIFS: fix memory leak and remove dead code (bnc#1012628).
- smb3: fix reset of bytes read and written stats (bnc#1012628).
- cfq: Suppress compiler warnings about comparisons (bnc#1012628).
- RDS: IB: fix 'passing zero to ERR_PTR()' warning (bnc#1012628).
- selinux: cleanup dentry and inodes on error in selinuxfs
  (bnc#1012628).
- selftests/powerpc: Kill child processes on SIGINT (bnc#1012628).
- iommu/omap: Fix cache flushes on L2 table entries (bnc#1012628).
- ASoC: rt5677: Fix initialization of rt5677_of_match.data
  (bnc#1012628).
- staging: comedi: ni_mio_common: fix subdevice flags for PFI
  subdevice (bnc#1012628).
- dm kcopyd: avoid softlockup in run_complete_job (bnc#1012628).
- PCI: mvebu: Fix I/O space end address calculation (bnc#1012628).
- xen/balloon: fix balloon initialization for PVH Dom0
  (bnc#1012628).
- Input: do not use WARN() in input_alloc_absinfo() (bnc#1012628).
- NFSv4: Fix error handling in nfs4_sp4_select_mode()
  (bnc#1012628).
- scsi: aic94xx: fix an error code in aic94xx_init()
  (bnc#1012628).
- blk-mq: count the hctx as active before allocating tag
  (bnc#1012628).
- ACPI / scan: Initialize status to ACPI_STA_DEFAULT
  (bnc#1012628).
- s390/dasd: fix panic for failed online processing (bnc#1012628).
- s390/dasd: fix hanging offline processing due to canceled worker
  (bnc#1012628).
- brcmfmac: fix brcmf_wiphy_wowl_params() NULL pointer dereference
  (bnc#1012628).
- block: bvec_nr_vecs() returns value for wrong slab
  (bnc#1012628).
- perf probe powerpc: Fix trace event post-processing
  (bnc#1012628).
- powerpc: Fix size calculation using resource_size()
  (bnc#1012628).
- powerpc/uaccess: Enable get_user(u64, *p) on 32-bit
  (bnc#1012628).
- bpf: fix bpffs non-array map seq_show issue (bnc#1012628).
- pinctrl: axp209: Fix NULL pointer dereference after allocation
  (bnc#1012628).
- f2fs: fix to clear PG_checked flag in set_page_dirty()
  (bnc#1012628).
- net/9p: fix error path of p9_virtio_probe (bnc#1012628).
- net/9p/trans_fd.c: fix race by holding the lock (bnc#1012628).
- irqchip/bcm7038-l1: Hide cpu offline callback when building
  for !SMP (bnc#1012628).
- irqchip/stm32: Fix init error handling (bnc#1012628).
- RISC-V: Use KBUILD_CFLAGS instead of KCFLAGS when building
  the vDSO (bnc#1012628).
- f2fs: fix avoid race between truncate and background GC
  (bnc#1012628).
- f2fs: avoid race between zero_range and background GC
  (bnc#1012628).
- perf tools: Check for null when copying nsinfo (bnc#1012628).
- coccicheck: return proper error code on fail (bnc#1012628).
- drm/amd/display: Guard against null crtc in CRC IRQ
  (bnc#1012628).
- PCI: Match Root Port's MPS to endpoint's MPSS as necessary
  (bnc#1012628).
- net: hns3: Fix for phy link issue when using marvell phy driver
  (bnc#1012628).
- block: don't warn for flush on read-only device (bnc#1012628).
- net: hns3: Fix for command format parsing error in
  hclge_is_all_function_id_zero (bnc#1012628).
- perf arm spe: Fix uninitialized record error variable
  (bnc#1012628).
- ACPICA: ACPICA: add status check for acpi_hw_read before
  assigning return value (bnc#1012628).
- RDMA/hns: Fix usage of bitmap allocation functions return values
  (bnc#1012628).
- ubi: Initialize Fastmap checkmapping correctly (bnc#1012628).
- tcp, ulp: add alias for all ulp modules (bnc#1012628).
- netfilter: fix memory leaks on netlink_dump_start error
  (bnc#1012628).
- platform/x86: asus-nb-wmi: Add keymap entry for lid flip action
  on UX360 (bnc#1012628).
- netfilter: x_tables: do not fail xt_alloc_table_info too easilly
  (bnc#1012628).
- mfd: sm501: Set coherent_dma_mask when creating subdevices
  (bnc#1012628).
- ipvs: fix race between ip_vs_conn_new() and ip_vs_del_dest()
  (bnc#1012628).
- s390/kdump: Fix memleak in nt_vmcoreinfo (bnc#1012628).
- netfilter: ip6t_rpfilter: set F_IFACE for linklocal addresses
  (bnc#1012628).
- samples/bpf: all XDP samples should unload xdp/bpf prog on
  SIGTERM (bnc#1012628).
- bpf, sockmap: fix leakage of smap_psock_map_entry (bnc#1012628).
- net/xdp: Fix suspicious RCU usage warning (bnc#1012628).
- bpf, sockmap: fix sock_map_ctx_update_elem race with
  exist/noexist (bnc#1012628).
- tcp, ulp: fix leftover icsk_ulp_ops preventing sock from
  reattach (bnc#1012628).
- bpf, sockmap: fix map elem deletion race with smap_stop_sock
  (bnc#1012628).
- platform/x86: intel_punit_ipc: fix build errors (bnc#1012628).
- fs/dcache.c: fix kmemcheck splat at take_dentry_name_snapshot()
  (bnc#1012628).
- mm: make DEFERRED_STRUCT_PAGE_INIT explicitly depend on
  SPARSEMEM (bnc#1012628).
- mm/fadvise.c: fix signed overflow UBSAN complaint (bnc#1012628).
- powerpc/topology: Get topology for shared processors at boot
  (bnc#1012628).
- pwm: meson: Fix mux clock names (bnc#1012628).
- IB/hfi1: Invalid NUMA node information can cause a divide by
  zero (bnc#1012628).
- i2c: core: ACPI: Make acpi_gsb_i2c_read_bytes() check
  i2c_transfer return value (bnc#1012628).
- x86/mce: Add notifier_block forward declaration (bnc#1012628).
- virtio: pci-legacy: Validate queue pfn (bnc#1012628).
- apparmor: fix an error code in __aa_create_ns() (bnc#1012628).
- scripts: modpost: check memory allocation results (bnc#1012628).
- workqueue: re-add lockdep dependencies for flushing
  (bnc#1012628).
- workqueue: skip lockdep wq dependency in cancel_work_sync()
  (bnc#1012628).
- fat: validate ->i_start before using (bnc#1012628).
- fs/proc/kcore.c: use __pa_symbol() for KCORE_TEXT list entries
  (bnc#1012628).
- iommu/rockchip: Move irq request past pm_runtime_enable
  (bnc#1012628).
- hfsplus: fix NULL dereference in hfsplus_lookup() (bnc#1012628).
- iommu/rockchip: Handle errors returned from PM framework
  (bnc#1012628).
- reiserfs: change j_timestamp type to time64_t (bnc#1012628).
- fs/proc/vmcore.c: hide vmcoredd_mmap_dumps() for nommu builds
  (bnc#1012628).
- fork: don't copy inconsistent signal handler state to child
  (bnc#1012628).
- sunrpc: Don't use stack buffer with scatterlist (bnc#1012628).
- hfs: prevent crash on exit from failed search (bnc#1012628).
- hfsplus: don't return 0 when fill_super() failed (bnc#1012628).
- cifs: check if SMB2 PDU size has been padded and suppress the
  warning (bnc#1012628).
- hv_netvsc: ignore devices that are not PCI (bnc#1012628).
- vhost: correctly check the iova range when waking virtqueue
  (bnc#1012628).
- mlxsw: spectrum_switchdev: Do not leak RIFs when removing bridge
  (bnc#1012628).
- sctp: hold transport before accessing its asoc in
  sctp_transport_get_next (bnc#1012628).
- nfp: wait for posted reconfigs when disabling the device
  (bnc#1012628).
- ip6_vti: fix a null pointer deference when destroy vti6 tunnel
  (bnc#1012628).
- ip6_vti: fix creating fallback tunnel device for vti6
  (bnc#1012628).
- Revert "net: stmmac: Do not keep rearming the coalesce timer
  in stmmac_xmit" (bnc#1012628).
- r8169: set RxConfig after tx/rx is enabled for RTL8169sb/8110sb
  devices (bnc#1012628).
- net/mlx5: Fix SQ offset in QPs with small RQ (bnc#1012628).
- net/ipv6: Put lwtstate when destroying fib6_info (bnc#1012628).
- net/ipv6: Only update MTU metric if it set (bnc#1012628).
- net/ipv6: init ip6 anycast rt->dst.input as ip6_input
  (bnc#1012628).
- ipv6: don't get lwtstate twice in ip6_rt_copy_init()
  (bnc#1012628).
- net: macb: Fix regression breaking non-MDIO fixed-link PHYs
  (bnc#1012628).
- erspan: set erspan_ver to 1 by default when adding an erspan
  dev (bnc#1012628).
- sctp: remove useless start_fail from sctp_ht_iter in proc
  (bnc#1012628).
- tipc: fix the big/little endian issue in tipc_dest
  (bnc#1012628).
- hv_netvsc: Fix a deadlock by getting rtnl lock earlier in
  netvsc_probe() (bnc#1012628).
- tipc: fix a missing rhashtable_walk_exit() (bnc#1012628).
- net/sched: act_pedit: fix dump of extended layered op
  (bnc#1012628).
- bnxt_en: Do not adjust max_cp_rings by the ones used by RDMA
  (bnc#1012628).
- bnxt_en: Clean up unused functions (bnc#1012628).
- net: sched: action_ife: take reference to meta module
  (bnc#1012628).
- act_ife: fix a potential deadlock (bnc#1012628).
- act_ife: move tcfa_lock down to where necessary (bnc#1012628).
- vti6: remove !skb->ignore_df check from vti6_xmit()
  (bnc#1012628).
- tcp: do not restart timewait timer on rst reception
  (bnc#1012628).
- r8169: add support for NCube 8168 network card (bnc#1012628).
- r8152: disable RX aggregation on new Dell TB16 dock
  (bnc#1012628).
- qlge: Fix netdev features configuration (bnc#1012628).
- net: sched: Fix memory exposure from short TCA_U32_SEL
  (bnc#1012628).
- net: macb: do not disable MDIO bus at open/close time
  (bnc#1012628).
- net: bcmgenet: use MAC link status for fixed phy (bnc#1012628).
- ipv4: tcp: send zero IPID for RST and ACK sent in SYN-RECV
  and TIME-WAIT state (bnc#1012628).
- act_ife: fix a potential use-after-free (bnc#1012628).
- commit f486469

-------------------------------------------------------------------
Fri Sep 14 21:00:16 CEST 2018 - mkubecek@suse.cz

- ip: frags: fix crash in ip_do_fragment() (bsc#1108533).
- commit ba41502

-------------------------------------------------------------------
Fri Sep 14 15:20:23 CEST 2018 - msuchanek@suse.de

- doc/README.SUSE: Remove mentions of cloneconfig (bsc#1103636).
- commit 3371adc

-------------------------------------------------------------------
Thu Sep 13 09:29:45 CEST 2018 - jbohac@suse.cz

- Delete patches.suse/x86_64-hpet-64bit-timer.patch.
  We removed the patch from SLE15 in commit
  20efbd0c034fea7c97243120a025587d0dbac1c2
  and we don't need it in future versions of SLE.
- commit aa4eb67

-------------------------------------------------------------------
Mon Sep 10 23:20:30 CEST 2018 - msuchanek@suse.de

- macros.kernel-source: pass -b properly in kernel module package
  (bsc#1107870).
- commit 66709cd

-------------------------------------------------------------------
Mon Sep 10 07:16:33 CEST 2018 - mkubecek@suse.cz

- Update to 4.19-rc3
- refresh configs
- commit d3995d7

-------------------------------------------------------------------
Sun Sep  9 12:26:20 CEST 2018 - jslaby@suse.cz

- Linux 4.18.7 (bnc#1012628).
- rcu: Make expedited GPs handle CPU 0 being offline
  (bnc#1012628).
- net: 6lowpan: fix reserved space for single frames
  (bnc#1012628).
- net: mac802154: tx: expand tailroom if necessary (bnc#1012628).
- 9p/net: Fix zero-copy path in the 9p virtio transport
  (bnc#1012628).
- spi: davinci: fix a NULL pointer dereference (bnc#1012628).
- spi: pxa2xx: Add support for Intel Ice Lake (bnc#1012628).
- spi: spi-fsl-dspi: Fix imprecise abort on VF500 during probe
  (bnc#1012628).
- spi: cadence: Change usleep_range() to udelay(), for atomic
  context (bnc#1012628).
- mmc: block: Fix unsupported parallel dispatch of requests
  (bnc#1012628).
- mmc: renesas_sdhi_internal_dmac: mask DMAC interrupts
  (bnc#1012628).
- mmc: renesas_sdhi_internal_dmac: fix #define RST_RESERVED_BITS
  (bnc#1012628).
- readahead: stricter check for bdi io_pages (bnc#1012628).
- block: fix infinite loop if the device loses discard capability
  (bnc#1012628).
- block: blk_init_allocated_queue() set q->fq as NULL in the
  fail case (bnc#1012628).
- block: really disable runtime-pm for blk-mq (bnc#1012628).
- blkcg: Introduce blkg_root_lookup() (bnc#1012628).
- block: Introduce blk_exit_queue() (bnc#1012628).
- block: Ensure that a request queue is dissociated from the
  cgroup controller (bnc#1012628).
- apparmor: fix bad debug check in apparmor_secid_to_secctx()
  (bnc#1012628).
- dma-buf: Move BUG_ON from _add_shared_fence to
  _add_shared_inplace (bnc#1012628).
- libertas: fix suspend and resume for SDIO connected cards
  (bnc#1012628).
- media: Revert "[media] tvp5150: fix pad format frame height"
  (bnc#1012628).
- mailbox: xgene-slimpro: Fix potential NULL pointer dereference
  (bnc#1012628).
- Replace magic for trusting the secondary keyring with #define
  (bnc#1012628).
- Fix kexec forbidding kernels signed with keys in the secondary
  keyring to boot (bnc#1012628).
- powerpc/fadump: handle crash memory ranges array index overflow
  (bnc#1012628).
- powerpc/64s: Fix page table fragment refcount race vs
  speculative references (bnc#1012628).
- powerpc/pseries: Fix endianness while restoring of r3 in MCE
  handler (bnc#1012628).
- powerpc/pkeys: Give all threads control of their key permissions
  (bnc#1012628).
- powerpc/pkeys: Deny read/write/execute by default (bnc#1012628).
- powerpc/pkeys: key allocation/deallocation must not change
  pkey registers (bnc#1012628).
- powerpc/pkeys: Save the pkey registers before fork
  (bnc#1012628).
- powerpc/pkeys: Fix calculation of total pkeys (bnc#1012628).
- powerpc/pkeys: Preallocate execute-only key (bnc#1012628).
- powerpc/nohash: fix pte_access_permitted() (bnc#1012628).
- powerpc64/ftrace: Include ftrace.h needed for enable/disable
  calls (bnc#1012628).
- powerpc/powernv/pci: Work around races in PCI bridge enabling
  (bnc#1012628).
- cxl: Fix wrong comparison in cxl_adapter_context_get()
  (bnc#1012628).
- ocxl: Fix page fault handler in case of fault on dying process
  (bnc#1012628).
- IB/mlx5: Honor cnt_set_id_valid flag instead of set_id
  (bnc#1012628).
- IB/mlx5: Fix leaking stack memory to userspace (bnc#1012628).
- IB/srpt: Fix srpt_cm_req_recv() error path (1/2) (bnc#1012628).
- IB/srpt: Fix srpt_cm_req_recv() error path (2/2) (bnc#1012628).
- IB/srpt: Support HCAs with more than two ports (bnc#1012628).
- overflow.h: Add arithmetic shift helper (bnc#1012628).
- RDMA/mlx5: Fix shift overflow in mlx5_ib_create_wq
  (bnc#1012628).
- ib_srpt: Fix a use-after-free in srpt_close_ch() (bnc#1012628).
- ib_srpt: Fix a use-after-free in __srpt_close_all_ch()
  (bnc#1012628).
- RDMA/rxe: Set wqe->status correctly if an unexpected response
  is received (bnc#1012628).
- 9p: fix multiple NULL-pointer-dereferences (bnc#1012628).
- fs/9p/xattr.c: catch the error of p9_client_clunk when setting
  xattr failed (bnc#1012628).
- 9p/virtio: fix off-by-one error in sg list bounds check
  (bnc#1012628).
- net/9p/client.c: version pointer uninitialized (bnc#1012628).
- net/9p/trans_fd.c: fix race-condition by flushing workqueue
  before the kfree() (bnc#1012628).
- dm integrity: change 'suspending' variable from bool to int
  (bnc#1012628).
- dm thin: stop no_space_timeout worker when switching to
  write-mode (bnc#1012628).
- dm cache metadata: save in-core policy_hint_size to on-disk
  superblock (bnc#1012628).
- dm cache metadata: set dirty on all cache blocks after a crash
  (bnc#1012628).
- dm crypt: don't decrease device limits (bnc#1012628).
- dm writecache: fix a crash due to reading past end of
  dirty_bitmap (bnc#1012628).
- uart: fix race between uart_put_char() and uart_shutdown()
  (bnc#1012628).
- Drivers: hv: vmbus: Fix the offer_in_progress in
  vmbus_process_offer() (bnc#1012628).
- Drivers: hv: vmbus: Reset the channel callback in
  vmbus_onoffer_rescind() (bnc#1012628).
- iio: sca3000: Fix missing return in switch (bnc#1012628).
- iio: ad9523: Fix displayed phase (bnc#1012628).
- iio: ad9523: Fix return value for ad952x_store() (bnc#1012628).
- extcon: Release locking when sending the notification of
  connector state (bnc#1012628).
- eventpoll.h: wrap casts in () properly (bnc#1012628).
- vmw_balloon: fix inflation of 64-bit GFNs (bnc#1012628).
- vmw_balloon: do not use 2MB without batching (bnc#1012628).
- vmw_balloon: VMCI_DOORBELL_SET does not check status
  (bnc#1012628).
- vmw_balloon: fix VMCI use when balloon built into kernel
  (bnc#1012628).
- rtc: omap: fix resource leak in registration error path
  (bnc#1012628).
- rtc: omap: fix potential crash on power off (bnc#1012628).
- tracing: Do not call start/stop() functions when tracing_on
  does not change (bnc#1012628).
- tracing/blktrace: Fix to allow setting same value (bnc#1012628).
- printk/tracing: Do not trace printk_nmi_enter() (bnc#1012628).
- livepatch: Validate module/old func name length (bnc#1012628).
- uprobes: Use synchronize_rcu() not synchronize_sched()
  (bnc#1012628).
- mfd: hi655x: Fix regmap area declared size for hi655x
  (bnc#1012628).
- ovl: fix wrong use of impure dir cache in ovl_iterate()
  (bnc#1012628).
- ACPICA: AML Parser: skip opcodes that open a scope upon parse
  failure (bnc#1012628).
- drivers/block/zram/zram_drv.c: fix bug storing backing_dev
  (bnc#1012628).
- sched: idle: Avoid retaining the tick when it has been stopped
  (bnc#1012628).
- cpuidle: menu: Handle stopped tick more aggressively
  (bnc#1012628).
- cpufreq: governor: Avoid accessing invalid governor_data
  (bnc#1012628).
- PM / sleep: wakeup: Fix build error caused by missing SRCU
  support (bnc#1012628).
- ALSA: ac97: fix device initialization in the compat layer
  (bnc#1012628).
- ALSA: ac97: fix check of pm_runtime_get_sync failure
  (bnc#1012628).
- ALSA: ac97: fix unbalanced pm_runtime_enable (bnc#1012628).
- i2c: designware: Re-init controllers with pm_disabled set on
  resume (bnc#1012628).
- KVM: VMX: fixes for vmentry_l1d_flush module parameter
  (bnc#1012628).
- KVM: PPC: Book3S: Fix guest DMA when guest partially backed
  by THP pages (bnc#1012628).
- xtensa: limit offsets in __loop_cache_{all,page} (bnc#1012628).
- xtensa: increase ranges in ___invalidate_{i,d}cache_all
  (bnc#1012628).
- block, bfq: return nbytes and not zero from struct cftype
  .write() method (bnc#1012628).
- pnfs/blocklayout: off by one in bl_map_stripe() (bnc#1012628).
- nfsd: fix leaked file lock with nfs exported overlayfs
  (bnc#1012628).
- NFSv4 client live hangs after live data migration recovery
  (bnc#1012628).
- NFSv4: Fix locking in pnfs_generic_recover_commit_reqs
  (bnc#1012628).
- NFSv4: Fix a sleep in atomic context in nfs4_callback_sequence()
  (bnc#1012628).
- ARM: tegra: Fix Tegra30 Cardhu PCA954x reset (bnc#1012628).
- ARM: dts: am57xx-idk: Enable dual role for USB2 port
  (bnc#1012628).
- pwm: omap-dmtimer: Return -EPROBE_DEFER if no dmtimer platform
  data (bnc#1012628).
- mm/tlb: Remove tlb_remove_table() non-concurrent condition
  (bnc#1012628).
- iommu/ipmmu-vmsa: Don't register as BUS IOMMU if machine
  doesn't have IPMMU-VMSA (bnc#1012628).
- iommu/vt-d: Add definitions for PFSID (bnc#1012628).
- iommu/vt-d: Fix dev iotlb pfsid use (bnc#1012628).
- sys: don't hold uts_sem while accessing userspace memory
  (bnc#1012628).
- userns: move user access out of the mutex (bnc#1012628).
- ubifs: Fix memory leak in lprobs self-check (bnc#1012628).
- Revert "UBIFS: Fix potential integer overflow in allocation"
  (bnc#1012628).
- ubifs: Check data node size before truncate (bnc#1012628).
- ubifs: xattr: Don't operate on deleted inodes (bnc#1012628).
- ubifs: Fix directory size calculation for symlinks
  (bnc#1012628).
- ubifs: Fix synced_i_size calculation for xattr inodes
  (bnc#1012628).
- pwm: tiehrpwm: Don't use emulation mode bits to control PWM
  output (bnc#1012628).
- pwm: tiehrpwm: Fix disabling of output of PWMs (bnc#1012628).
- fb: fix lost console when the user unplugs a USB adapter
  (bnc#1012628).
- udlfb: fix semaphore value leak (bnc#1012628).
- udlfb: fix display corruption of the last line (bnc#1012628).
- udlfb: don't switch if we are switching to the same videomode
  (bnc#1012628).
- udlfb: set optimal write delay (bnc#1012628).
- udlfb: make a local copy of fb_ops (bnc#1012628).
- udlfb: handle allocation failure (bnc#1012628).
- udlfb: set line_length in dlfb_ops_set_par (bnc#1012628).
- getxattr: use correct xattr length (bnc#1012628).
- libnvdimm: Use max contiguous area for namespace size
  (bnc#1012628).
- libnvdimm: fix ars_status output length calculation
  (bnc#1012628).
- bcache: release dc->writeback_lock properly in
  bch_writeback_thread() (bnc#1012628).
- kconfig: fix "Can't open ..." in parallel build (bnc#1012628).
- cap_inode_getsecurity: use d_find_any_alias() instead of
  d_find_alias() (bnc#1012628).
- mm, dev_pagemap: Do not clear ->mapping on final put
  (bnc#1012628).
- perf auxtrace: Fix queue resize (bnc#1012628).
- crypto: vmx - Fix sleep-in-atomic bugs (bnc#1012628).
- crypto: aesni - Use unaligned loads from gcm_context_data
  (bnc#1012628).
- crypto: arm64/sm4-ce - check for the right CPU feature bit
  (bnc#1012628).
- crypto: caam - fix DMA mapping direction for RSA forms 2 & 3
  (bnc#1012628).
- crypto: caam/jr - fix descriptor DMA unmapping (bnc#1012628).
- crypto: caam/qi - fix error path in xts setkey (bnc#1012628).
- fs/quota: Fix spectre gadget in do_quotactl (bnc#1012628).
- udf: Fix mounting of Win7 created UDF filesystems (bnc#1012628).
- cpuidle: menu: Retain tick when shallow state is selected
  (bnc#1012628).
- arm64: mm: always enable CONFIG_HOLES_IN_ZONE (bnc#1012628).
- commit 952d850

-------------------------------------------------------------------
Fri Sep  7 22:15:23 CEST 2018 - jeffm@suse.com

- config: disable HFS_FS
  It has no maintainer and has been a source of fuzzer bugs.  hfsplus handles
  the HFS+ file system that became the default on MacOS in 1998.
- commit 07fd1d6

-------------------------------------------------------------------
Fri Sep  7 11:17:10 CEST 2018 - tiwai@suse.de

- supported.conf: Add bpfilter to kernel-default-base (bsc#1106751)
- commit 8f1f1b6

-------------------------------------------------------------------
Wed Sep  5 20:28:02 CEST 2018 - jslaby@suse.cz

- Linux 4.18.6 (bnc#1012628).
- PATCH scripts/kernel-doc (bnc#1012628).
- scripts/kernel-doc: Escape all literal braces in regexes
  (bnc#1012628).
- scsi: libsas: dynamically allocate and free ata host
  (bnc#1012628).
- xprtrdma: Fix disconnect regression (bnc#1012628).
- mei: don't update offset in write (bnc#1012628).
- cifs: add missing support for ACLs in SMB 3.11 (bnc#1012628).
- CIFS: fix uninitialized ptr deref in smb2 signing (bnc#1012628).
- cifs: add missing debug entries for kconfig options
  (bnc#1012628).
- cifs: use a refcount to protect open/closing the cached file
  handle (bnc#1012628).
- cifs: check kmalloc before use (bnc#1012628).
- smb3: enumerating snapshots was leaving part of the data off
  end (bnc#1012628).
- smb3: Do not send SMB3 SET_INFO if nothing changed
  (bnc#1012628).
- smb3: don't request leases in symlink creation and query
  (bnc#1012628).
- smb3: fill in statfs fsid and correct namelen (bnc#1012628).
- btrfs: use correct compare function of dirty_metadata_bytes
  (bnc#1012628).
- btrfs: don't leak ret from do_chunk_alloc (bnc#1012628).
- Btrfs: fix mount failure after fsync due to hard link recreation
  (bnc#1012628).
- Btrfs: fix btrfs_write_inode vs delayed iput deadlock
  (bnc#1012628).
- Btrfs: fix send failure when root has deleted files still open
  (bnc#1012628).
- Btrfs: send, fix incorrect file layout after hole punching
  beyond eof (bnc#1012628).
- hwmon: (k10temp) 27C Offset needed for Threadripper2
  (bnc#1012628).
- bpf, arm32: fix stack var offset in jit (bnc#1012628).
- regulator: arizona-ldo1: Use correct device to get enable GPIO
  (bnc#1012628).
- iommu/arm-smmu: Error out only if not enough context interrupts
  (bnc#1012628).
- printk: Split the code for storing a message into the log buffer
  (bnc#1012628).
- printk: Create helper function to queue deferred console
  handling (bnc#1012628).
- printk/nmi: Prevent deadlock when accessing the main log buffer
  in NMI (bnc#1012628).
- kprobes/arm64: Fix %p uses in error messages (bnc#1012628).
- arm64: Fix mismatched cache line size detection (bnc#1012628).
- arm64: Handle mismatched cache type (bnc#1012628).
- arm64: mm: check for upper PAGE_SHIFT bits in pfn_valid()
  (bnc#1012628).
- arm64: dts: rockchip: corrected uart1 clock-names for rk3328
  (bnc#1012628).
- KVM: arm/arm64: Fix potential loss of ptimer interrupts
  (bnc#1012628).
- KVM: arm/arm64: Fix lost IRQs from emulated physcial timer
  when blocked (bnc#1012628).
- KVM: arm/arm64: Skip updating PMD entry if no change
  (bnc#1012628).
- KVM: arm/arm64: Skip updating PTE entry if no change
  (bnc#1012628).
- s390/kvm: fix deadlock when killed by oom (bnc#1012628).
- perf kvm: Fix subcommands on s390 (bnc#1012628).
- stop_machine: Reflow cpu_stop_queue_two_works() (bnc#1012628).
- stop_machine: Atomically queue and wake stopper threads
  (bnc#1012628).
- ext4: check for NUL characters in extended attribute's name
  (bnc#1012628).
- ext4: use ext4_warning() for sb_getblk failure (bnc#1012628).
- ext4: sysfs: print ext4_super_block fields as little-endian
  (bnc#1012628).
- ext4: reset error code in ext4_find_entry in fallback
  (bnc#1012628).
- ext4: fix race when setting the bitmap corrupted flag
  (bnc#1012628).
- nvme-pci: add a memory barrier to
  nvme_dbbuf_update_and_check_event (bnc#1012628).
- x86/gpu: reserve ICL's graphics stolen memory (bnc#1012628).
- platform/x86: wmi: Do not mix pages and kmalloc (bnc#1012628).
- mm: move tlb_table_flush to tlb_flush_mmu_free (bnc#1012628).
- mm/tlb, x86/mm: Support invalidating TLB caches for
  RCU_TABLE_FREE (bnc#1012628).
- x86/vdso: Fix vDSO build if a retpoline is emitted
  (bnc#1012628).
- x86/process: Re-export start_thread() (bnc#1012628).
- KVM: x86: ensure all MSRs can always be KVM_GET/SET_MSR'd
  (bnc#1012628).
- KVM: x86: SVM: Call x86_spec_ctrl_set_guest/host() with
  interrupts disabled (bnc#1012628).
- fuse: Don't access pipe->buffers without pipe_lock()
  (bnc#1012628).
- fuse: fix initial parallel dirops (bnc#1012628).
- fuse: fix double request_end() (bnc#1012628).
- fuse: fix unlocked access to processing queue (bnc#1012628).
- fuse: umount should wait for all requests (bnc#1012628).
- fuse: Fix oops at process_init_reply() (bnc#1012628).
- fuse: Add missed unlock_page() to fuse_readpages_fill()
  (bnc#1012628).
- lib/vsprintf: Do not handle %pO[^F] as %px (bnc#1012628).
- udl-kms: change down_interruptible to down (bnc#1012628).
- udl-kms: handle allocation failure (bnc#1012628).
- udl-kms: fix crash due to uninitialized memory (bnc#1012628).
- udl-kms: avoid division (bnc#1012628).
- b43legacy/leds: Ensure NUL-termination of LED name string
  (bnc#1012628).
- b43/leds: Ensure NUL-termination of LED name string
  (bnc#1012628).
- ASoC: dpcm: don't merge format from invalid codec dai
  (bnc#1012628).
- ASoC: zte: Fix incorrect PCM format bit usages (bnc#1012628).
- ASoC: sirf: Fix potential NULL pointer dereference
  (bnc#1012628).
- ASoC: wm_adsp: Correct DSP pointer for preloader control
  (bnc#1012628).
- soc: qcom: rmtfs-mem: fix memleak in probe error paths
  (bnc#1012628).
- pinctrl: freescale: off by one in imx1_pinconf_group_dbg_show()
  (bnc#1012628).
- scsi: qla2xxx: Fix stalled relogin (bnc#1012628).
- x86/vdso: Fix lsl operand order (bnc#1012628).
- x86/nmi: Fix NMI uaccess race against CR3 switching
  (bnc#1012628).
- x86/irqflags: Mark native_restore_fl extern inline
  (bnc#1012628).
- x86/spectre: Add missing family 6 check to microcode check
  (bnc#1012628).
- x86/speculation/l1tf: Increase l1tf memory limit for Nehalem+
  (bnc#1012628).
- hwmon: (nct6775) Fix potential Spectre v1 (bnc#1012628).
- x86/entry/64: Wipe KASAN stack shadow before
  rewind_stack_do_exit() (bnc#1012628).
- x86: Allow generating user-space headers without a compiler
  (bnc#1012628).
- s390/mm: fix addressing exception after suspend/resume
  (bnc#1012628).
- s390/lib: use expoline for all bcr instructions (bnc#1012628).
- s390: fix br_r1_trampoline for machines without exrl
  (bnc#1012628).
- s390/qdio: reset old sbal_state flags (bnc#1012628).
- s390/numa: move initial setup of node_to_cpumask_map
  (bnc#1012628).
- s390/pci: fix out of bounds access during irq setup
  (bnc#1012628).
- s390/purgatory: Fix crash with expoline enabled (bnc#1012628).
- s390/purgatory: Add missing FORCE to Makefile targets
  (bnc#1012628).
- kprobes: Show blacklist addresses as same as kallsyms does
  (bnc#1012628).
- kprobes: Replace %p with other pointer types (bnc#1012628).
- kprobes/arm: Fix %p uses in error messages (bnc#1012628).
- kprobes: Make list and blacklist root user read only
  (bnc#1012628).
- MIPS: Correct the 64-bit DSP accumulator register size
  (bnc#1012628).
- MIPS: memset.S: Fix byte_fixup for MIPSr6 (bnc#1012628).
- MIPS: Always use -march=<arch>, not -<arch> shortcuts
  (bnc#1012628).
- MIPS: Change definition of cpu_relax() for Loongson-3
  (bnc#1012628).
- MIPS: lib: Provide MIPS64r6 __multi3() for GCC < 7
  (bnc#1012628).
- tpm: Return the actual size when receiving an unsupported
  command (bnc#1012628).
- tpm: separate cmd_ready/go_idle from runtime_pm (bnc#1012628).
- scsi: mpt3sas: Fix calltrace observed while running IO & reset
  (bnc#1012628).
- scsi: mpt3sas: Fix _transport_smp_handler() error path
  (bnc#1012628).
- scsi: sysfs: Introduce sysfs_{un,}break_active_protection()
  (bnc#1012628).
- scsi: core: Avoid that SCSI device removal through sysfs
  triggers a deadlock (bnc#1012628).
- iscsi target: fix session creation failure handling
  (bnc#1012628).
- mtd: rawnand: hynix: Use ->exec_op() in
  hynix_nand_reg_write_op() (bnc#1012628).
- mtd: rawnand: fsmc: Stop using chip->read_buf() (bnc#1012628).
- mtd: rawnand: marvell: add suspend and resume hooks
  (bnc#1012628).
- mtd: rawnand: qcom: wait for desc completion in all BAM channels
  (bnc#1012628).
- clk: rockchip: fix clk_i2sout parent selection bits on rk3399
  (bnc#1012628).
- clk: npcm7xx: fix memory allocation (bnc#1012628).
- PM / clk: signedness bug in of_pm_clk_add_clks() (bnc#1012628).
- power: generic-adc-battery: fix out-of-bounds write when
  copying channel properties (bnc#1012628).
- power: generic-adc-battery: check for duplicate properties
  copied from iio channels (bnc#1012628).
- watchdog: Mark watchdog touch functions as notrace
  (bnc#1012628).
- cdrom: Fix info leak/OOB read in cdrom_ioctl_drive_status
  (bnc#1012628).
- x86/dumpstack: Don't dump kernel memory based on usermode RIP
  (bnc#1012628).
- Refresh
  patches.suse/0006-x86-stacktrace-Enable-HAVE_RELIABLE_STACKTRACE-for-t.patch.
- Update config files.
- commit 70ab8ae

-------------------------------------------------------------------
Mon Sep  3 08:44:37 CEST 2018 - jslaby@suse.cz

- rpm/kernel-binary.spec.in: fix call of split-modules
  split-modules is called with some parameters depending on config
  options. But since we do not use backslash consistelny, the call to
  split-modules might be evaluated so that also the following cat
  command is appended. Avoid this behaviour by using backslashes
  everywhere and add %nil to the end.
  This perhaps never happens, but stay on the safe side.
- commit 32df888

-------------------------------------------------------------------
Mon Sep  3 07:31:05 CEST 2018 - mkubecek@suse.cz

- Update to 4.19-rc2
- refresh configs
- commit a9462db

-------------------------------------------------------------------
Sun Sep  2 09:18:16 CEST 2018 - agraf@suse.de

- arm64: KVM: Only force FPEXC32_EL2.EN if trapping FPSIMD
  (bsc#1106841).
- commit dd0155c

-------------------------------------------------------------------
Sat Sep  1 20:52:02 CEST 2018 - afaerber@suse.de

- config: arm64: Increase SERIAL_8250_RUNTIME_UARTS to 32 (boo#1073193)
  (cherry picked from commit 0dbc49ba128ef0931ca04cf22ec5c638534f5b23)
- config: arm64: Increase SERIAL_8250_RUNTIME_UARTS to 32 (boo#1073193)
- commit 6aae50e

-------------------------------------------------------------------
Sat Sep  1 19:44:18 CEST 2018 - afaerber@suse.de

- config: Enable SERIAL_SC16IS7XX_SPI on arm and x86 (bsc#1105672, fate#326668)
  (cherry picked from commit cdc9eced6d892ff77abbeef5f0d5eb38c114602c)
- config: Enable SERIAL_SC16IS7XX_SPI on arm and x86 (bsc#1105672, fate#326668)
- commit 22a4d36

-------------------------------------------------------------------
Sat Sep  1 19:25:40 CEST 2018 - afaerber@suse.de

- config: Consistently increase SERIAL_8250_NR_UARTS to 32 (boo#1073193)
  (cherry picked from commit acb36abf212a3a7428d958798d678d82351f4658)
- config: Consistently increase SERIAL_8250_NR_UARTS to 32 (boo#1073193)
- commit 090b553

-------------------------------------------------------------------
Sat Sep  1 17:27:29 CEST 2018 - afaerber@suse.de

- config: armv7hl: Update to 4.19-rc1
- commit d1f42dc

-------------------------------------------------------------------
Sat Sep  1 17:01:26 CEST 2018 - afaerber@suse.de

- config: armv7hl: Update to 4.18.5 (bsc#1012628)
  (cherry picked from commit fa0ebc5508eedec2c9108cafdf854a8c53a28a83)
  [AF: Don't re-enable the configs yet]
- config: armv7hl: Update to 4.18.5 (bsc#1012628)
- commit f2722e4

-------------------------------------------------------------------
Sat Sep  1 14:40:57 CEST 2018 - afaerber@suse.de

- config: armv6hl: Update to 4.19-rc1
- commit 2f56919

-------------------------------------------------------------------
Fri Aug 31 23:38:59 CEST 2018 - afaerber@suse.de

- config: armv6hl: Update to 4.18.5 (bsc#1012628)
  (cherry picked from commit e9071067714392290f6b0d525c77c8abfa8cf075)
  [AF: Don't re-enable configs yet]
- config: armv6hl: Update to 4.18.5 (bsc#1012628)
- commit d01db43

-------------------------------------------------------------------
Fri Aug 31 21:42:45 CEST 2018 - afaerber@suse.de

- config: arm64: Update to 4.19-rc1
- commit a6a88d1

-------------------------------------------------------------------
Wed Aug 29 21:06:19 CEST 2018 - mkubecek@suse.cz

- powerpc/boot: Fix missing crc32poly.h when building with
  KERNEL_XZ.
- Delete
  patches.rpmify/Revert-lib-Use-existing-define-with-polynomial.patch.
- commit cba84f7

-------------------------------------------------------------------
Wed Aug 29 20:56:44 CEST 2018 - mkubecek@suse.cz

- kernel-binary: check also bzImage on s390/s390x
  Starting with 4.19-rc1, uncompressed image is no longer built on s390x.
  If file "image" is not found in arch/s390/boot after the build, try bzImage
  instead.
  For now, install bzImage under the name image-* until we know grub2 and our
  grub2 scripts can handle correct name.
- commit d7ccf81

-------------------------------------------------------------------
Tue Aug 28 16:19:05 CEST 2018 - jbeulich@suse.com

- Refresh patches.suse/supported-flag after upstream commit b2c5cdcfd4.
- Refresh
  patches.suse/kernel-add-product-identifying-information-to-kernel-build.patch.
- commit 8b0e2e5

-------------------------------------------------------------------
Mon Aug 27 13:07:01 CEST 2018 - mkubecek@suse.cz

- Revert "lib: Use existing define with polynomial".
- commit 1dc6366

-------------------------------------------------------------------
Mon Aug 27 10:44:52 CEST 2018 - mkubecek@suse.cz

- Update to 4.19-rc1
- Eliminated 179 patches (167 stable, 12 other)
- ARM configs need updating
- Config changes:
  - Block:
    - BLK_CGROUP_IOLATENCY=y
  - Networking:
    - XFRM_INTERFACE=m
    - NETFILTER_NETLINK_OSF=m
    - NFT_TUNNEL=m
    - NFT_OSF=m
    - NFT_TPROXY=m
    - NET_SCH_ETF=m
    - NET_SCH_SKBPRIO=m
    - NET_SCH_CAKE=m
    - CAN_UCAN=m
    - BT_HCIUART_RTL=y
    - BT_MTKUART=m
    - BCMGENET=m
    - SYSTEMPORT=m
    - BNXT_HWMON=y
    - NET_VENDOR_CADENCE=y	(rename)
    - BE2NET_BE2=y
    - BE2NET_BE3=y
    - BE2NET_LANCER=y
    - BE2NET_SKYHAWK=y
    - MLX5_EN_ARFS=y
    - MLX5_EN_RXNFC=y
    - NET_VENDOR_NETERION=y
    - NET_VENDOR_PACKET_ENGINES=y
    - MT76x0U=m
    - MT76x2U=m
    - IEEE802154_HWSIM=m
  - File systems:
    - OVERLAY_FS_METACOPY=n
    - UBIFS_FS_XATTR=y
    - PSTORE_ZSTD_COMPRESS=y
    - CIFS_ALLOW_INSECURE_LEGACY=y
  - Security:
    - RANDOM_TRUST_CPU=n
    - IMA_APPRAISE_BUILD_POLICY=n
  - Hacking:
    - CONSOLE_LOGLEVEL_QUIET=4
    - KPROBE_EVENTS_ON_NOTRACE=n
    - TEST_BITFIELD=n
    - TEST_IDA=n
  - Library:
    - CRC64=m
  - Graphics:
    - VIDEO_CROS_EC_CEC=m
    - DRM_DP_CEC=y
    - DRM_VKMS=m
    - TINYDRM_ILI9341=n
    - FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER=y
  - Sound:
    - SND_SOC_INTEL_GLK_RT5682_MAX98357A_MACH=m
    - SND_SOC_ES7241=n
    - SND_SOC_SIMPLE_AMPLIFIER=n
  - Input:
    - TOUCHSCREEN_ADC=m
    - TOUCHSCREEN_BU21029=m
    - HID_COUGAR=m
  - USB:
    - TYPEC_DP_ALTMODE=m
  - Multifunction:
    - MFD_MADERA=m
    - MFD_MADERA_I2C=m
    - MFD_MADERA_SPI=m
    - GPIO_MADERA=m
    - MFD_CS47L35=y
    - MFD_CS47L85=y
    - MFD_CS47L90=y
  - IIO:
    - BME680=m
    - AD5758=n
    - SI1133=n
    - ISL29501=m
  - FPGA:
    - FPGA_DFL=m
    - FPGA_DFL_FME=m
    - FPGA_DFL_FME_MGR=m
    - FPGA_DFL_FME_BRIDGE=m
    - FPGA_DFL_FME_REGION=m
    - FPGA_DFL_AFU=m
    - FPGA_DFL_PCI=m
    - XILINX_PR_DECOUPLER=m
  - Power management:
    - IDLE_INJECT=y
    - CHARGER_ADP5061=m
    - CHARGER_CROS_USBPD=m
    - SENSORS_MLXREG_FAN=m
    - SENSORS_NPCM7XX=m
  - Misc drivers:
    - GNSS=m
    - GNSS_SERIAL=m
    - GNSS_SIRF_SERIAL=m
    - GNSS_UBX_SERIAL=m
    - MTD_SPI_NAND=m
    - NVM_PBLK_DEBUG=n
    - PINCTRL_ICELAKE=m
    - COMMON_CLK_MAX9485=n
    - IOMMU_DEFAULT_PASSTHROUGH=n
  - XEN:
    - XEN_GRANT_DMA_ALLOC=y
    - XEN_GNTDEV_DMABUF=y
  - x86:
    - STAGING_GASKET_FRAMEWORK=m
    - STAGING_APEX_DRIVER=m
    - XIL_AXIS_FIFO=m
    - TOUCHSCREEN_DMI=y
    - I2C_MULTI_INSTANTIATE=m
    - CROS_EC_I2C=m
    - CROS_EC_SPI=m
    - MLXREG_IO=m
  - i386:
    - PCIE_XILINX=y
    - MFD_ROHM_BD718XX=n
    - DRM_PANEL_ILITEK_ILI9881C=n
    - MMC_SDHCI_OF_DWCMSHC=n
    - PAGE_TABLE_ISOLATION=y
  - PowerPC:
    - I2C_MUX_PINCTRL=m
    - I2C_DEMUX_PINCTRL=m
    - I2C_FSI=m
    - DEBUG_PINCTRL=n
    - PINCTRL_AMD=m
    - PINCTRL_MCP23S08=n
    - PINCTRL_SINGLE=n
    - PINCTRL_SX150X=n
    - LEDS_AAT1290=n
    - FSI_NEW_DEV_NODE=n
    - FSI_SBEFIFO=m
  - S/390:
    - KERNEL_GZIP=y
    - S2IO=m
    - VXGE=m
    - VXGE_DEBUG_TRACE_ALL=n
    - HAMACHI=m
    - YELLOWFIN=m
    - MDIO_BCM_UNIMAC=m
    - ISM=m
  - */debug:
    - NVM_PBLK_DEBUG=y
    - IOMMU_DEBUGFS=y
    - PREEMPTIRQ_DELAY_TEST=m
- commit a3b9cac

-------------------------------------------------------------------
Fri Aug 24 14:18:39 CEST 2018 - jslaby@suse.cz

- Linux 4.18.5 (bnc#1012628).
- reiserfs: fix broken xattr handling (heap corruption, bad
  retval) (bnc#1012628).
- i2c: imx: Fix race condition in dma read (bnc#1012628).
- i2c: core: ACPI: Properly set status byte to 0 for multi-byte
  writes (bnc#1012628).
- PCI: pciehp: Fix unprotected list iteration in IRQ handler
  (bnc#1012628).
- PCI: pciehp: Fix use-after-free on unplug (bnc#1012628).
- PCI: Skip MPS logic for Virtual Functions (VFs) (bnc#1012628).
- PCI: aardvark: Size bridges before resources allocation
  (bnc#1012628).
- PCI: hotplug: Don't leak pci_slot on registration failure
  (bnc#1012628).
- PCI / ACPI / PM: Resume all bridges on suspend-to-RAM
  (bnc#1012628).
- PCI: Restore resized BAR state on resume (bnc#1012628).
- parisc: Remove ordered stores from syscall.S (bnc#1012628).
- parisc: Remove unnecessary barriers from spinlock.h
  (bnc#1012628).
- drm/amdgpu/pm: Fix potential Spectre v1 (bnc#1012628).
- drm/i915/kvmgt: Fix potential Spectre v1 (bnc#1012628).
- ext4: fix spectre gadget in ext4_mb_regular_allocator()
  (bnc#1012628).
- powerpc64s: Show ori31 availability in spectre_v1 sysfs file
  not v2 (bnc#1012628).
- x86/mm/init: Remove freed kernel image areas from alias mapping
  (bnc#1012628).
- x86/mm/init: Add helper for freeing kernel image pages
  (bnc#1012628).
- x86/mm/init: Pass unconverted symbol addresses to
  free_init_pages() (bnc#1012628).
- mm: Allow non-direct-map arguments to free_reserved_area()
  (bnc#1012628).
- pty: fix O_CLOEXEC for TIOCGPTPEER (bnc#1012628).
- EDAC: Add missing MEM_LRDDR4 entry in edac_mem_types[]
  (bnc#1012628).
- commit d918293

-------------------------------------------------------------------
Fri Aug 24 11:28:38 CEST 2018 - vbabka@suse.cz

- x86/speculation/l1tf: Suggest what to do on systems with too
  much RAM (bsc#1105536).
- x86/speculation/l1tf: Fix off-by-one error when warning that
  system has too much RAM (bsc#1105536).
- x86/speculation/l1tf: Fix overflow in l1tf_pfn_limit() on 32bit
  (OBS failures reported on IRC).
- commit f3b24ad

-------------------------------------------------------------------
Fri Aug 24 09:37:42 CEST 2018 - jslaby@suse.cz

- Update config files.
- Delete
  patches.suse/revert-mm-relax-deferred-struct-page-requirements.patch.
  We actually do not this non-upstream revert. We only need the config
  change. That is: leave DEFERRED_STRUCT_PAGE_INIT=n for i386 as it was
  before 4.16.
- commit 161b8ee

-------------------------------------------------------------------
Wed Aug 22 08:55:52 CEST 2018 - jslaby@suse.cz

- Linux 4.18.4 (bnc#1012628).
- l2tp: use sk_dst_check() to avoid race on sk->sk_dst_cache
  (bnc#1012628).
- net_sched: fix NULL pointer dereference when delete tcindex
  filter (bnc#1012628).
- net_sched: Fix missing res info when create new tc_index filter
  (bnc#1012628).
- r8169: don't use MSI-X on RTL8168g (bnc#1012628).
- ALSA: hda - Sleep for 10ms after entering D3 on Conexant codecs
  (bnc#1012628).
- ALSA: hda - Turn CX8200 into D3 as well upon reboot
  (bnc#1012628).
- ALSA: vx222: Fix invalid endian conversions (bnc#1012628).
- ALSA: virmidi: Fix too long output trigger loop (bnc#1012628).
- ALSA: cs5535audio: Fix invalid endian conversion (bnc#1012628).
- ALSA: dice: fix wrong copy to rx parameters for Alesis iO26
  (bnc#1012628).
- ALSA: hda: Correct Asrock B85M-ITX power_save blacklist entry
  (bnc#1012628).
- ALSA: memalloc: Don't exceed over the requested size
  (bnc#1012628).
- ALSA: vxpocket: Fix invalid endian conversions (bnc#1012628).
- ALSA: seq: Fix poll() error return (bnc#1012628).
- media: gl861: fix probe of dvb_usb_gl861 (bnc#1012628).
- USB: serial: sierra: fix potential deadlock at close
  (bnc#1012628).
- USB: serial: pl2303: add a new device id for ATEN (bnc#1012628).
- USB: option: add support for DW5821e (bnc#1012628).
- ACPI / PM: save NVS memory for ASUS 1025C laptop (bnc#1012628).
- tty: serial: 8250: Revert NXP SC16C2552 workaround
  (bnc#1012628).
- serial: 8250_exar: Read INT0 from slave device, too
  (bnc#1012628).
- serial: 8250_dw: always set baud rate in dw8250_set_termios
  (bnc#1012628).
- serial: 8250_dw: Add ACPI support for uart on Broadcom SoC
  (bnc#1012628).
- uio: fix wrong return value from uio_mmap() (bnc#1012628).
- misc: sram: fix resource leaks in probe error path
  (bnc#1012628).
- Revert "uio: use request_threaded_irq instead" (bnc#1012628).
- Bluetooth: avoid killing an already killed socket (bnc#1012628).
- isdn: Disable IIOCDBGVAR (bnc#1012628).
- net: sock_diag: Fix spectre v1 gadget in __sock_diag_cmd()
  (bnc#1012628).
- r8169: don't use MSI-X on RTL8106e (bnc#1012628).
- ip_vti: fix a null pointer deferrence when create vti fallback
  tunnel (bnc#1012628).
- net: ethernet: mvneta: Fix napi structure mixup on armada 3700
  (bnc#1012628).
- net: mvneta: fix mvneta_config_rss on armada 3700 (bnc#1012628).
- cls_matchall: fix tcf_unbind_filter missing (bnc#1012628).
- commit a7b92e4

-------------------------------------------------------------------
Wed Aug 22 08:55:41 CEST 2018 - jslaby@suse.cz

- Linux 4.18.3 (bnc#1012628).
- x86/speculation/l1tf: Exempt zeroed PTEs from inversion
  (bnc#1012628).
- commit a14f6a3

-------------------------------------------------------------------
Wed Aug 22 08:55:22 CEST 2018 - jslaby@suse.cz

- Linux 4.18.2 (bnc#1012628).
- x86/mm: Add TLB purge to free pmd/pte page interfaces
  (bnc#1012628).
- ioremap: Update pgtable free interfaces with addr (bnc#1012628).
- Bluetooth: hidp: buffer overflow in hidp_process_report
  (bnc#1012628).
- crypto: skcipher - fix crash flushing dcache in error path
  (bnc#1012628).
- crypto: skcipher - fix aligning block size in skcipher_copy_iv()
  (bnc#1012628).
- crypto: ablkcipher - fix crash flushing dcache in error path
  (bnc#1012628).
- crypto: blkcipher - fix crash flushing dcache in error path
  (bnc#1012628).
- crypto: vmac - separate tfm and request context (bnc#1012628).
- crypto: vmac - require a block cipher with 128-bit block size
  (bnc#1012628).
- crypto: x86/sha256-mb - fix digest copy in
  sha256_mb_mgr_get_comp_job_avx2() (bnc#1012628).
- crypto: ccp - Fix command completion detection race
  (bnc#1012628).
- crypto: ccp - Check for NULL PSP pointer at module unload
  (bnc#1012628).
- crypto: ccree - fix iv handling (bnc#1012628).
- crypto: ccree - fix finup (bnc#1012628).
- kbuild: verify that $DEPMOD is installed (bnc#1012628).
- x86/mm: Disable ioremap free page handling on x86-PAE
  (bnc#1012628).
- xen/pv: Call get_cpu_address_sizes to set x86_virt/phys_bits
  (bnc#1012628).
- x86/mm/pti: Clear Global bit more aggressively (bnc#1012628).
- x86/platform/UV: Mark memblock related init code and data
  correctly (bnc#1012628).
- x86/hyper-v: Check for VP_INVAL in hyperv_flush_tlb_others()
  (bnc#1012628).
- x86: i8259: Add missing include file (bnc#1012628).
- x86/l1tf: Fix build error seen if CONFIG_KVM_INTEL is disabled
  (bnc#1012628).
- commit 51ef786

-------------------------------------------------------------------
Wed Aug 22 08:55:04 CEST 2018 - jslaby@suse.cz

- Linux 4.18.1 (bnc#1012628).
- x86/init: fix build with CONFIG_SWAP=n (bnc#1012628).
- cpu/hotplug: Non-SMP machines do not make use of booted_once
  (bnc#1012628).
- x86/smp: fix non-SMP broken build due to redefinition of
  apic_id_is_primary_thread (bnc#1012628).
- commit 7e40689

-------------------------------------------------------------------
Wed Aug 22 08:45:26 CEST 2018 - jslaby@suse.cz

- Linux 4.18.4 (bnc#1012628).
- l2tp: use sk_dst_check() to avoid race on sk->sk_dst_cache
  (bnc#1012628).
- net_sched: fix NULL pointer dereference when delete tcindex
  filter (bnc#1012628).
- net_sched: Fix missing res info when create new tc_index filter
  (bnc#1012628).
- r8169: don't use MSI-X on RTL8168g (bnc#1012628).
- ALSA: hda - Sleep for 10ms after entering D3 on Conexant codecs
  (bnc#1012628).
- ALSA: hda - Turn CX8200 into D3 as well upon reboot
  (bnc#1012628).
- ALSA: vx222: Fix invalid endian conversions (bnc#1012628).
- ALSA: virmidi: Fix too long output trigger loop (bnc#1012628).
- ALSA: cs5535audio: Fix invalid endian conversion (bnc#1012628).
- ALSA: dice: fix wrong copy to rx parameters for Alesis iO26
  (bnc#1012628).
- ALSA: hda: Correct Asrock B85M-ITX power_save blacklist entry
  (bnc#1012628).
- ALSA: memalloc: Don't exceed over the requested size
  (bnc#1012628).
- ALSA: vxpocket: Fix invalid endian conversions (bnc#1012628).
- ALSA: seq: Fix poll() error return (bnc#1012628).
- media: gl861: fix probe of dvb_usb_gl861 (bnc#1012628).
- USB: serial: sierra: fix potential deadlock at close
  (bnc#1012628).
- USB: serial: pl2303: add a new device id for ATEN (bnc#1012628).
- USB: option: add support for DW5821e (bnc#1012628).
- ACPI / PM: save NVS memory for ASUS 1025C laptop (bnc#1012628).
- tty: serial: 8250: Revert NXP SC16C2552 workaround
  (bnc#1012628).
- serial: 8250_exar: Read INT0 from slave device, too
  (bnc#1012628).
- serial: 8250_dw: always set baud rate in dw8250_set_termios
  (bnc#1012628).
- serial: 8250_dw: Add ACPI support for uart on Broadcom SoC
  (bnc#1012628).
- uio: fix wrong return value from uio_mmap() (bnc#1012628).
- misc: sram: fix resource leaks in probe error path
  (bnc#1012628).
- Revert "uio: use request_threaded_irq instead" (bnc#1012628).
- Bluetooth: avoid killing an already killed socket (bnc#1012628).
- isdn: Disable IIOCDBGVAR (bnc#1012628).
- net: sock_diag: Fix spectre v1 gadget in __sock_diag_cmd()
  (bnc#1012628).
- r8169: don't use MSI-X on RTL8106e (bnc#1012628).
- ip_vti: fix a null pointer deferrence when create vti fallback
  tunnel (bnc#1012628).
- net: ethernet: mvneta: Fix napi structure mixup on armada 3700
  (bnc#1012628).
- net: mvneta: fix mvneta_config_rss on armada 3700 (bnc#1012628).
- cls_matchall: fix tcf_unbind_filter missing (bnc#1012628).
- commit 06f7c50

-------------------------------------------------------------------
Tue Aug 21 16:38:32 CEST 2018 - msuchanek@suse.de

- ACPICA: Clear status of all events when entering sleep states
  (boo#1104529).
- commit 5d7a9a7

-------------------------------------------------------------------
Tue Aug 21 16:37:17 CEST 2018 - msuchanek@suse.de

- Delete patches.suse/Revert-ACPICA-Events-Stop-unconditionally-clearing-A.patch.
- commit fb1dc2b

-------------------------------------------------------------------
Mon Aug 20 09:51:52 CEST 2018 - jslaby@suse.cz

- Linux 4.18.3 (bnc#1012628).
- x86/speculation/l1tf: Exempt zeroed PTEs from inversion
  (bnc#1012628).
- commit 3914d9b

-------------------------------------------------------------------
Mon Aug 20 09:51:05 CEST 2018 - jslaby@suse.cz

- Linux 4.18.2 (bnc#1012628).
- x86/mm: Add TLB purge to free pmd/pte page interfaces
  (bnc#1012628).
- ioremap: Update pgtable free interfaces with addr (bnc#1012628).
- Bluetooth: hidp: buffer overflow in hidp_process_report
  (bnc#1012628).
- crypto: skcipher - fix crash flushing dcache in error path
  (bnc#1012628).
- crypto: skcipher - fix aligning block size in skcipher_copy_iv()
  (bnc#1012628).
- crypto: ablkcipher - fix crash flushing dcache in error path
  (bnc#1012628).
- crypto: blkcipher - fix crash flushing dcache in error path
  (bnc#1012628).
- crypto: vmac - separate tfm and request context (bnc#1012628).
- crypto: vmac - require a block cipher with 128-bit block size
  (bnc#1012628).
- crypto: x86/sha256-mb - fix digest copy in
  sha256_mb_mgr_get_comp_job_avx2() (bnc#1012628).
- crypto: ccp - Fix command completion detection race
  (bnc#1012628).
- crypto: ccp - Check for NULL PSP pointer at module unload
  (bnc#1012628).
- crypto: ccree - fix iv handling (bnc#1012628).
- crypto: ccree - fix finup (bnc#1012628).
- kbuild: verify that $DEPMOD is installed (bnc#1012628).
- x86/mm: Disable ioremap free page handling on x86-PAE
  (bnc#1012628).
- xen/pv: Call get_cpu_address_sizes to set x86_virt/phys_bits
  (bnc#1012628).
- x86/mm/pti: Clear Global bit more aggressively (bnc#1012628).
- x86/platform/UV: Mark memblock related init code and data
  correctly (bnc#1012628).
- x86/hyper-v: Check for VP_INVAL in hyperv_flush_tlb_others()
  (bnc#1012628).
- x86: i8259: Add missing include file (bnc#1012628).
- x86/l1tf: Fix build error seen if CONFIG_KVM_INTEL is disabled
  (bnc#1012628).
- commit 403355b

-------------------------------------------------------------------
Fri Aug 17 11:05:01 CEST 2018 - mkubecek@suse.cz

- rpm/constraints.in: raise memory constraints
  Build statistics show that most architectures already need more than 2 GB.
  Require 4 GB except s390x where the memory usage is much lower and we might
  have trouble finding any compliant worker.
- commit 494fb32

-------------------------------------------------------------------
Thu Aug 16 20:47:54 CEST 2018 - msuchanek@suse.de

- Revert "ACPICA: Events: Stop unconditionally clearing ACPI
  IRQs during suspend/resume" (boo#1104529, bko#196249).
- commit 5dac824

-------------------------------------------------------------------
Thu Aug 16 12:24:28 CEST 2018 - jslaby@suse.cz

- Linux 4.18.1 (bnc#1012628).
- x86/init: fix build with CONFIG_SWAP=n (bnc#1012628).
- cpu/hotplug: Non-SMP machines do not make use of booted_once
  (bnc#1012628).
- x86/smp: fix non-SMP broken build due to redefinition of
  apic_id_is_primary_thread (bnc#1012628).
- commit 2f1304f

-------------------------------------------------------------------
Wed Aug 15 11:05:17 CEST 2018 - mkubecek@suse.cz

- Update config files.
- commit 07db4aa

-------------------------------------------------------------------
Wed Aug 15 08:47:25 CEST 2018 - jslaby@suse.cz

- Linux 4.18.1-rc1
  It contains the L1TF fixes, so push the rc1 for now.
- x86/paravirt: Fix spectre-v2 mitigations for paravirt guests
  (bnc#1012628).
- x86/speculation: Protect against userspace-userspace spectreRSB
  (bnc#1012628).
- kprobes/x86: Fix %p uses in error messages (bnc#1012628).
- x86/irqflags: Provide a declaration for native_save_fl
  (bnc#1012628).
- x86/speculation/l1tf: Increase 32bit PAE __PHYSICAL_PAGE_SHIFT
  (bnc#1012628).
- x86/speculation/l1tf: Change order of offset/type in swap entry
  (bnc#1012628).
- x86/speculation/l1tf: Protect swap entries against L1TF
  (bnc#1012628).
- x86/speculation/l1tf: Protect PROT_NONE PTEs against speculation
  (bnc#1012628).
- x86/speculation/l1tf: Make sure the first page is always
  reserved (bnc#1012628).
- x86/speculation/l1tf: Add sysfs reporting for l1tf
  (bnc#1012628).
- x86/speculation/l1tf: Disallow non privileged high MMIO
  PROT_NONE mappings (bnc#1012628).
- x86/speculation/l1tf: Limit swap file size to MAX_PA/2
  (bnc#1012628).
- x86/bugs: Move the l1tf function and define pr_fmt properly
  (bnc#1012628).
- sched/smt: Update sched_smt_present at runtime (bnc#1012628).
- x86/smp: Provide topology_is_primary_thread() (bnc#1012628).
- x86/topology: Provide topology_smt_supported() (bnc#1012628).
- cpu/hotplug: Make bringup/teardown of smp threads symmetric
  (bnc#1012628).
- cpu/hotplug: Split do_cpu_down() (bnc#1012628).
- cpu/hotplug: Provide knobs to control SMT (bnc#1012628).
- x86/cpu: Remove the pointless CPU printout (bnc#1012628).
- x86/cpu/AMD: Remove the pointless detect_ht() call
  (bnc#1012628).
- x86/cpu/common: Provide detect_ht_early() (bnc#1012628).
- x86/cpu/topology: Provide detect_extended_topology_early()
  (bnc#1012628).
- x86/cpu/intel: Evaluate smp_num_siblings early (bnc#1012628).
- x86/CPU/AMD: Do not check CPUID max ext level before parsing
  SMP info (bnc#1012628).
- x86/cpu/AMD: Evaluate smp_num_siblings early (bnc#1012628).
- x86/apic: Ignore secondary threads if nosmt=force (bnc#1012628).
- x86/speculation/l1tf: Extend 64bit swap file size limit
  (bnc#1012628).
- x86/cpufeatures: Add detection of L1D cache flush support
  (bnc#1012628).
- x86/CPU/AMD: Move TOPOEXT reenablement before reading
  smp_num_siblings (bnc#1012628).
- x86/speculation/l1tf: Protect PAE swap entries against L1TF
  (bnc#1012628).
- x86/speculation/l1tf: Fix up pte->pfn conversion for PAE
  (bnc#1012628).
- Revert "x86/apic: Ignore secondary threads if nosmt=force"
  (bnc#1012628).
- cpu/hotplug: Boot HT siblings at least once (bnc#1012628).
- x86/KVM: Warn user if KVM is loaded SMT and L1TF CPU bug being
  present (bnc#1012628).
- x86/KVM/VMX: Add module argument for L1TF mitigation
  (bnc#1012628).
- x86/KVM/VMX: Add L1D flush algorithm (bnc#1012628).
- x86/KVM/VMX: Add L1D MSR based flush (bnc#1012628).
- x86/KVM/VMX: Add L1D flush logic (bnc#1012628).
- x86/KVM/VMX: Split the VMX MSR LOAD structures to have an
  host/guest numbers (bnc#1012628).
- x86/KVM/VMX: Add find_msr() helper function (bnc#1012628).
- x86/KVM/VMX: Separate the VMX AUTOLOAD guest/host number
  accounting (bnc#1012628).
- x86/KVM/VMX: Extend add_atomic_switch_msr() to allow VMENTER
  only MSRs (bnc#1012628).
- x86/KVM/VMX: Use MSR save list for IA32_FLUSH_CMD if required
  (bnc#1012628).
- cpu/hotplug: Online siblings when SMT control is turned on
  (bnc#1012628).
- x86/litf: Introduce vmx status variable (bnc#1012628).
- x86/kvm: Drop L1TF MSR list approach (bnc#1012628).
- x86/l1tf: Handle EPT disabled state proper (bnc#1012628).
- x86/kvm: Move l1tf setup function (bnc#1012628).
- x86/kvm: Add static key for flush always (bnc#1012628).
- x86/kvm: Serialize L1D flush parameter setter (bnc#1012628).
- x86/kvm: Allow runtime control of L1D flush (bnc#1012628).
- cpu/hotplug: Expose SMT control init function (bnc#1012628).
- cpu/hotplug: Set CPU_SMT_NOT_SUPPORTED early (bnc#1012628).
- x86/bugs, kvm: Introduce boot-time control of L1TF mitigations
  (bnc#1012628).
- Documentation: Add section about CPU vulnerabilities
  (bnc#1012628).
- x86/speculation/l1tf: Unbreak !__HAVE_ARCH_PFN_MODIFY_ALLOWED
  architectures (bnc#1012628).
- x86/KVM/VMX: Initialize the vmx_l1d_flush_pages' content
  (bnc#1012628).
- Documentation/l1tf: Fix typos (bnc#1012628).
- cpu/hotplug: detect SMT disabled by BIOS (bnc#1012628).
- x86/KVM/VMX: Don't set l1tf_flush_l1d to true from
  vmx_l1d_flush() (bnc#1012628).
- x86/KVM/VMX: Replace 'vmx_l1d_flush_always' with
  'vmx_l1d_flush_cond' (bnc#1012628).
- x86/KVM/VMX: Move the l1tf_flush_l1d test to vmx_l1d_flush()
  (bnc#1012628).
- x86/irq: Demote irq_cpustat_t::__softirq_pending to u16
  (bnc#1012628).
- x86/KVM/VMX: Introduce per-host-cpu analogue of l1tf_flush_l1d
  (bnc#1012628).
- x86: Don't include linux/irq.h from asm/hardirq.h (bnc#1012628).
- x86/irq: Let interrupt handlers set kvm_cpu_l1tf_flush_l1d
  (bnc#1012628).
- x86/KVM/VMX: Don't set l1tf_flush_l1d from
  vmx_handle_external_intr() (bnc#1012628).
- Documentation/l1tf: Remove Yonah processors from not vulnerable
  list (bnc#1012628).
- x86/speculation: Simplify sysfs report of VMX L1TF vulnerability
  (bnc#1012628).
- x86/speculation: Use ARCH_CAPABILITIES to skip L1D flush on
  vmentry (bnc#1012628).
- KVM: VMX: Tell the nested hypervisor to skip L1D flush on
  vmentry (bnc#1012628).
- cpu/hotplug: Fix SMT supported evaluation (bnc#1012628).
- x86/speculation/l1tf: Invert all not present mappings
  (bnc#1012628).
- x86/speculation/l1tf: Make pmd/pud_mknotpresent() invert
  (bnc#1012628).
- x86/mm/pat: Make set_memory_np() L1TF safe (bnc#1012628).
- x86/mm/kmmio: Make the tracer robust against L1TF (bnc#1012628).
- tools headers: Synchronise x86 cpufeatures.h for L1TF additions
  (bnc#1012628).
- x86/microcode: Allow late microcode loading with SMT disabled
  (bnc#1012628).
- Refresh
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Update config files.
- commit a23e15c

-------------------------------------------------------------------
Tue Aug 14 21:43:31 CEST 2018 - mkubecek@suse.cz

- Update upstream reference:
  patches.suse/hv-netvsc-Fix-NULL-dereference-at-single-queue-mode-.patch.
- commit 0425184

-------------------------------------------------------------------
Tue Aug 14 20:02:18 CEST 2018 - tiwai@suse.de

- hv/netvsc: Fix NULL dereference at single queue mode fallback
  (bsc#1104708).
- commit a0cb9f6

-------------------------------------------------------------------
Mon Aug 13 08:39:28 CEST 2018 - jslaby@suse.cz

- Refresh
  patches.suse/platform-x86-ideapad-laptop-Apply-no_hw_rfkill-to-Y2.
  Update upstream info.
- commit 799dc2a

-------------------------------------------------------------------
Mon Aug 13 07:05:27 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-final.
- Refresh configs
- commit 06ab9b3

-------------------------------------------------------------------
Thu Aug  9 14:44:18 CEST 2018 - jslaby@suse.cz

- Linux 4.17.14 (bnc#1012628).
- jfs: Fix inconsistency between memory allocation and
  ea_buf->max_size (bnc#1012628).
- xfs: validate cached inodes are free when allocated
  (bnc#1012628).
- xfs: don't call xfs_da_shrink_inode with NULL bp (bnc#1012628).
- Partially revert "block: fail op_is_write() requests to
  read-only partitions" (bnc#1012628).
- Btrfs: fix file data corruption after cloning a range and fsync
  (bnc#1012628).
- i2c: imx: Fix reinit_completion() use (bnc#1012628).
- ring_buffer: tracing: Inherit the tracing setting to next ring
  buffer (bnc#1012628).
- netlink: Don't shift on 64 for ngroups (bnc#1012628).
- nohz: Fix missing tick reprogram when interrupting an inline
  softirq (bnc#1012628).
- nohz: Fix local_timer_softirq_pending() (bnc#1012628).
- perf/x86/intel/uncore: Fix hardcoded index of Broadwell extra
  PCI devices (bnc#1012628).
- genirq: Make force irq threading setup more robust
  (bnc#1012628).
- jfs: Fix usercopy whitelist for inline inode data (bnc#1012628).
- scsi: qla2xxx: Return error when TMF returns (bnc#1012628).
- scsi: qla2xxx: Fix ISP recovery on unload (bnc#1012628).
- scsi: qla2xxx: Fix driver unload by shutting down chip
  (bnc#1012628).
- scsi: qla2xxx: Fix NPIV deletion by calling
  wait_for_sess_deletion (bnc#1012628).
- scsi: qla2xxx: Fix unintialized List head crash (bnc#1012628).
- commit dc49b43

-------------------------------------------------------------------
Tue Aug  7 20:41:46 CEST 2018 - mkubecek@suse.cz

- config: refresh s390x/vanilla
  Add new option CONFIG_SYSTEM_DATA_VERIFICATION=n
- commit 3ee2023

-------------------------------------------------------------------
Mon Aug  6 23:06:47 CEST 2018 - jslaby@suse.cz

- Linux 4.17.13 (bnc#1012628).
- scsi: sg: fix minor memory leak in error path (bnc#1012628).
- drm/atomic: Initialize variables in
  drm_atomic_helper_async_check() to make gcc happy (bnc#1012628).
- drm/atomic: Check old_plane_state->crtc in
  drm_atomic_helper_async_check() (bnc#1012628).
- drm/vc4: Reset ->{x, y}_scaling[1] when dealing with uniplanar
  formats (bnc#1012628).
- crypto: padlock-aes - Fix Nano workaround data corruption
  (bnc#1012628).
- RDMA/uverbs: Expand primary and alt AV port checks
  (bnc#1012628).
- brcmfmac: fix regression in parsing NVRAM for multiple devices
  (bnc#1012628).
- iwlwifi: add more card IDs for 9000 series (bnc#1012628).
- userfaultfd: remove uffd flags from vma->vm_flags if
  UFFD_EVENT_FORK fails (bnc#1012628).
- ipc/shm.c add ->pagesize function to shm_vm_ops (bnc#1012628).
- audit: fix potential null dereference 'context->module.name'
  (bnc#1012628).
- kvm: x86: vmx: fix vpid leak (bnc#1012628).
- x86/entry/64: Remove %ebx handling from error_entry/exit
  (bnc#1012628).
- x86/apic: Future-proof the TSC_DEADLINE quirk for SKX
  (bnc#1012628).
- x86/efi: Access EFI MMIO data as unencrypted when SEV is active
  (bnc#1012628).
- virtio_balloon: fix another race between migration and
  ballooning (bnc#1012628).
- net: socket: Fix potential spectre v1 gadget in
  sock_is_registered (bnc#1012628).
- net: socket: fix potential spectre v1 gadget in socketcall
  (bnc#1012628).
- can: ems_usb: Fix memory leak on ems_usb_disconnect()
  (bnc#1012628).
- squashfs: more metadata hardenings (bnc#1012628).
- squashfs: more metadata hardening (bnc#1012628).
- net/mlx5e: IPoIB, Set the netdevice sw mtu in ipoib enhanced
  flow (bnc#1012628).
- net/mlx5e: Set port trust mode to PCP as default (bnc#1012628).
- net/mlx5e: E-Switch, Initialize eswitch only if eswitch manager
  (bnc#1012628).
- rxrpc: Fix user call ID check in rxrpc_service_prealloc_one
  (bnc#1012628).
- net: stmmac: Fix WoL for PCI-based setups (bnc#1012628).
- netlink: Fix spectre v1 gadget in netlink_create()
  (bnc#1012628).
- net: dsa: Do not suspend/resume closed slave_dev (bnc#1012628).
- ipv4: frags: handle possible skb truesize change (bnc#1012628).
- inet: frag: enforce memory limits earlier (bnc#1012628).
- bonding: avoid lockdep confusion in bond_get_stats()
  (bnc#1012628).
- commit 9079348

-------------------------------------------------------------------
Mon Aug  6 02:19:17 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-rc8
- commit 9928e10

-------------------------------------------------------------------
Fri Aug  3 08:32:48 CEST 2018 - jslaby@suse.cz

- Linux 4.17.12 (bnc#1012628).
- ACPICA: AML Parser: ignore control method status in module-level
  code (bnc#1012628).
- ACPI / LPSS: Avoid PM quirks on suspend and resume from
  hibernation (bnc#1012628).
- tcp: ack immediately when a cwr packet arrives (bnc#1012628).
- tcp: add one more quick ack after after ECN events
  (bnc#1012628).
- tcp: refactor tcp_ecn_check_ce to remove sk type cast
  (bnc#1012628).
- tcp: do not aggressively quick ack after ECN events
  (bnc#1012628).
- tcp: add max_quickacks param to tcp_incr_quickack and
  tcp_enter_quickack_mode (bnc#1012628).
- tcp: do not force quickack when receiving out-of-order packets
  (bnc#1012628).
- netlink: Don't shift with UB on nlk->ngroups (bnc#1012628).
- netlink: Do not subscribe to non-existent groups (bnc#1012628).
- net: rollback orig value on failure of
  dev_qdisc_change_tx_queue_len (bnc#1012628).
- cxgb4: Added missing break in ndo_udp_tunnel_{add/del}
  (bnc#1012628).
- xen-netfront: wait xenbus state change when load module manually
  (bnc#1012628).
- virtio_net: Fix incosistent received bytes counter
  (bnc#1012628).
- tcp_bbr: fix bw probing to raise in-flight data for very small
  BDPs (bnc#1012628).
- RDS: RDMA: Fix the NULL-ptr deref in rds_ib_get_mr
  (bnc#1012628).
- NET: stmmac: align DMA stuff to largest cache line length
  (bnc#1012628).
- net: mdio-mux: bcm-iproc: fix wrong getter and setter pair
  (bnc#1012628).
- net: lan78xx: fix rx handling before first packet is send
  (bnc#1012628).
- net: fix amd-xgbe flow-control issue (bnc#1012628).
- net: ena: Fix use of uninitialized DMA address bits field
  (bnc#1012628).
- netdevsim: don't leak devlink resources (bnc#1012628).
- ipv4: remove BUG_ON() from fib_compute_spec_dst (bnc#1012628).
- net: dsa: qca8k: Allow overwriting CPU port setting
  (bnc#1012628).
- net: dsa: qca8k: Add QCA8334 binding documentation
  (bnc#1012628).
- net: dsa: qca8k: Enable RXMAC when bringing up a port
  (bnc#1012628).
- net: dsa: qca8k: Force CPU port to its highest bandwidth
  (bnc#1012628).
- RDMA/uverbs: Protect from attempts to create flows on
  unsupported QP (bnc#1012628).
- gpio: uniphier: set legitimate irq trigger type in .to_irq hook
  (bnc#1012628).
- gpio: of: Handle fixed regulator flags properly (bnc#1012628).
- ext4: fix check to prevent initializing reserved inodes
  (bnc#1012628).
- ext4: check for allocation block validity with block group
  locked (bnc#1012628).
- ext4: fix inline data updates with checksums enabled
  (bnc#1012628).
- ext4: fix false negatives *and* false positives in
  ext4_check_descriptors() (bnc#1012628).
- squashfs: be more careful about metadata corruption
  (bnc#1012628).
- random: mix rdrand with entropy sent in from userspace
  (bnc#1012628).
- i2c: rcar: handle RXDMA HW behaviour on Gen3 (bnc#1012628).
- nvmet-fc: fix target sgl list on large transfers (bnc#1012628).
- block: reset bi_iter.bi_done after splitting bio (bnc#1012628).
- blkdev: __blkdev_direct_IO_simple: fix leak in error case
  (bnc#1012628).
- block: bio_iov_iter_get_pages: fix size of last iovec
  (bnc#1012628).
- drm/amdgpu: Avoid reclaim while holding locks taken in MMU
  notifier (bnc#1012628).
- drm/dp/mst: Fix off-by-one typo when dump payload table
  (bnc#1012628).
- drm/atomic-helper: Drop plane->fb references only for
  drm_atomic_helper_shutdown() (bnc#1012628).
- drm: Add DP PSR2 sink enable bit (bnc#1012628).
- ARM: dts: imx6qdl-wandboard: Let the codec control MCLK pinctrl
  (bnc#1012628).
- ASoC: topology: Add missing clock gating parameter when parsing
  hw_configs (bnc#1012628).
- ASoC: topology: Fix bclk and fsync inversion in
  set_link_hw_format() (bnc#1012628).
- net: socionext: reset hardware in ndo_stop (bnc#1012628).
- media: si470x: fix __be16 annotations (bnc#1012628).
- media: cec: fix smatch error (bnc#1012628).
- media: atomisp: compat32: fix __user annotations (bnc#1012628).
- PCI/ASPM: Disable ASPM L1.2 Substate if we don't have LTR
  (bnc#1012628).
- scsi: cxlflash: Avoid clobbering context control register value
  (bnc#1012628).
- scsi: cxlflash: Synchronize reset and remove ops (bnc#1012628).
- scsi: megaraid_sas: Increase timeout by 1 sec for non-RAID
  fastpath IOs (bnc#1012628).
- scsi: scsi_dh: replace too broad "TP9" string with the exact
  models (bnc#1012628).
- drm/stm: ltdc: fix warning in ltdc_crtc_update_clut()
  (bnc#1012628).
- ath10k: search all IEs for variant before falling back
  (bnc#1012628).
- regulator: Don't return or expect -errno from of_map_mode()
  (bnc#1012628).
- media: omap3isp: fix unbalanced dma_iommu_mapping (bnc#1012628).
- media: rc: mce_kbd decoder: low timeout values cause double
  keydowns (bnc#1012628).
- y2038: ipc: Use ktime_get_real_seconds consistently
  (bnc#1012628).
- crypto: authenc - don't leak pointers to authenc keys
  (bnc#1012628).
- crypto: authencesn - don't leak pointers to authenc keys
  (bnc#1012628).
- usb: hub: Don't wait for connect state at resume for powered-off
  ports (bnc#1012628).
- microblaze: Fix simpleImage format generation (bnc#1012628).
- soc: imx: gpcv2: Do not pass static memory as platform data
  (bnc#1012628).
- serial: core: Make sure compiler barfs for 16-byte earlycon
  names (bnc#1012628).
- staging: ks7010: fix error handling in ks7010_upload_firmware
  (bnc#1012628).
- staging: lustre: ldlm: free resource when ldlm_lock_create()
  fails (bnc#1012628).
- staging: lustre: llite: correct removexattr detection
  (bnc#1012628).
- staging: vchiq_core: Fix missing semaphore release in error case
  (bnc#1012628).
- platform/x86: dell-smbios: Match on www.dell.com in OEM strings
  too (bnc#1012628).
- drm/rockchip: analogix_dp: Do not call Analogix code before bind
  (bnc#1012628).
- audit: allow not equal op for audit by executable (bnc#1012628).
- rsi: fix nommu_map_sg overflow kernel panic (bnc#1012628).
- rsi: Fix 'invalid vdd' warning in mmc (bnc#1012628).
- ipconfig: Correctly initialise ic_nameservers (bnc#1012628).
- drm/gma500: fix psb_intel_lvds_mode_valid()'s return type
  (bnc#1012628).
- qtnfmac: pearl: pcie: fix memory leak in qtnf_fw_work_handler
  (bnc#1012628).
- igb: Fix queue selection on MAC filters on i210 (bnc#1012628).
- ASoC: compress: Only call free for components which have been
  opened (bnc#1012628).
- arm64: defconfig: Enable Rockchip io-domain driver
  (bnc#1012628).
- ASoC: fsl_ssi: Use u32 variable type when using regmap_read()
  (bnc#1012628).
- nvme: lightnvm: add granby support (bnc#1012628).
- memory: tegra: Apply interrupts mask per SoC (bnc#1012628).
- memory: tegra: Do not handle spurious interrupts (bnc#1012628).
- ath10k: fix kernel panic while reading tpc_stats (bnc#1012628).
- delayacct: Use raw_spinlocks (bnc#1012628).
- stop_machine: Use raw spinlocks (bnc#1012628).
- backlight: pwm_bl: Don't use GPIOF_* with gpiod_get_direction
  (bnc#1012628).
- mt76: add rcu locking around tx scheduling (bnc#1012628).
- i40e: avoid overflow in i40e_ptp_adjfreq() (bnc#1012628).
- i40e: Add advertising 10G LR mode (bnc#1012628).
- dt-bindings: net: meson-dwmac: new compatible name for AXG SoC
  (bnc#1012628).
- net: hns3: Fixes the out of bounds access in hclge_map_tqp
  (bnc#1012628).
- spi: meson-spicc: Fix error handling in meson_spicc_probe()
  (bnc#1012628).
- dt-bindings: pinctrl: meson: add support for the Meson8m2 SoC
  (bnc#1012628).
- mmc: pwrseq: Use kmalloc_array instead of stack VLA
  (bnc#1012628).
- mmc: dw_mmc: update actual clock for mmc debugfs (bnc#1012628).
- ALSA: hda/ca0132: fix build failure when a local macro is
  defined (bnc#1012628).
- mlxsw: spectrum_router: Return an error for non-default FIB
  rules (bnc#1012628).
- f2fs: check cap_resource only for data blocks (bnc#1012628).
- mmc: sdhci-omap: Fix when capabilities are obtained from
  SDHCI_CAPABILITIES reg (bnc#1012628).
- drm/atomic: Handling the case when setting old crtc for plane
  (bnc#1012628).
- mt76x2: fix avg_rssi estimation (bnc#1012628).
- media: siano: get rid of __le32/__le16 cast warnings
  (bnc#1012628).
- media: em28xx: fix a regression with HVR-950 (bnc#1012628).
- f2fs: avoid fsync() failure caused by EAGAIN in writepage()
  (bnc#1012628).
- bpf: fix references to free_bpf_prog_info() in comments
  (bnc#1012628).
- regulator: add dummy function of_find_regulator_by_node
  (bnc#1012628).
- thermal: exynos: fix setting rising_threshold for Exynos5433
  (bnc#1012628).
- staging: lustre: o2iblnd: Fix FastReg map/unmap for MLX5
  (bnc#1012628).
- staging: lustre: o2iblnd: fix race at kiblnd_connect_peer
  (bnc#1012628).
- dma-direct: try reallocation with GFP_DMA32 if possible
  (bnc#1012628).
- scsi: qedf: Set the UNLOADING flag when removing a vport
  (bnc#1012628).
- soc/tegra: pmc: Don't allocate struct tegra_powergate on stack
  (bnc#1012628).
- scsi: hisi_sas: config ATA de-reset as an constrained command
  for v3 hw (bnc#1012628).
- scsi: megaraid: silence a static checker bug (bnc#1012628).
- scsi: 3w-xxxx: fix a missing-check bug (bnc#1012628).
- scsi: 3w-9xxx: fix a missing-check bug (bnc#1012628).
- staging: most: cdev: fix chrdev_region leak (bnc#1012628).
- mm, powerpc, x86: define VM_PKEY_BITx bits if
  CONFIG_ARCH_HAS_PKEYS is enabled (bnc#1012628).
- bnxt_en: Always forward VF MAC address to the PF (bnc#1012628).
- bnxt_en: Check unsupported speeds in bnxt_update_link() on PF
  only (bnc#1012628).
- net: phy: sfp: handle cases where neither BR, min nor BR,
  max is given (bnc#1012628).
- perf: fix invalid bit in diagnostic entry (bnc#1012628).
- s390/cpum_sf: Add data entry sizes to sampling trailer entry
  (bnc#1012628).
- brcmfmac: Add support for bcm43364 wireless chipset
  (bnc#1012628).
- mtd: rawnand: fsl_ifc: fix FSL NAND driver to read all ONFI
  parameter pages (bnc#1012628).
- media: em28xx: Fix DualHD broken second tuner (bnc#1012628).
- media: renesas-ceu: Set mbus_fmt on subdev operations
  (bnc#1012628).
- media: saa7164: Fix driver name in debug output (bnc#1012628).
- media: media-device: fix ioctl function types (bnc#1012628).
- ACPI / LPSS: Only call pwm_add_table() for Bay Trail PWM if
  PMIC HRV is 2 (bnc#1012628).
- libata: Fix command retry decision (bnc#1012628).
- media: rcar_jpu: Add missing clk_disable_unprepare() on error
  in jpu_open() (bnc#1012628).
- net: phy: phylink: Release link GPIO (bnc#1012628).
- dma-iommu: Fix compilation when !CONFIG_IOMMU_DMA (bnc#1012628).
- tty: Fix data race in tty_insert_flip_string_fixed_flag
  (bnc#1012628).
- i40e: free the skb after clearing the bitlock (bnc#1012628).
- ARM: dts: imx53: Fix LDB OF graph warning (bnc#1012628).
- nvmem: properly handle returned value nvmem_reg_read
  (bnc#1012628).
- ARM: dts: sh73a0: Add missing interrupt-affinity to PMU node
  (bnc#1012628).
- ARM: dts: emev2: Add missing interrupt-affinity to PMU node
  (bnc#1012628).
- ARM: dts: stih407-pinctrl: Fix complain about IRQ_TYPE_NONE
  usage (bnc#1012628).
- ARM: dts: stih410: Fix complain about IRQ_TYPE_NONE usage
  (bnc#1012628).
- rsi: Add null check for virtual interfaces in wowlan config
  (bnc#1012628).
- EDAC, altera: Fix ARM64 build warning (bnc#1012628).
- HID: i2c-hid: check if device is there before really probing
  (bnc#1012628).
- powerpc/embedded6xx/hlwd-pic: Prevent interrupts from being
  handled by Starlet (bnc#1012628).
- IB: Fix RDMA_RXE and INFINIBAND_RDMAVT dependencies for
  DMA_VIRT_OPS (bnc#1012628).
- drm/amd/display: Fix dim display on DCE11 (bnc#1012628).
- drm/amdgpu: Remove VRAM from shared bo domains (bnc#1012628).
- drm/radeon: fix mode_valid's return type (bnc#1012628).
- drm/amd/display: remove need of modeset flag for overlay planes
  (V2) (bnc#1012628).
- arm64: dts: renesas: salvator-common: use audio-graph-card
  for Sound (bnc#1012628).
- HID: hid-plantronics: Re-resend Update to map button for PTT
  products (bnc#1012628).
- arm64: cmpwait: Clear event register before arming exclusive
  monitor (bnc#1012628).
- media: staging: atomisp: Comment out several unused sensor
  resolutions (bnc#1012628).
- media: atomisp: ov2680: don't declare unused vars (bnc#1012628).
- net: hns3: Fix for fiber link up problem (bnc#1012628).
- ALSA: usb-audio: Apply rate limit to warning messages in URB
  complete callback (bnc#1012628).
- net: ethernet: ti: cpsw-phy-sel: check bus_find_device()
  ret value (bnc#1012628).
- clocksource: Move inline keyword to the beginning of function
  declarations (bnc#1012628).
- PCI/DPC: Clear interrupt status in interrupt handler top half
  (bnc#1012628).
- media: smiapp: fix timeout checking in smiapp_read_nvm
  (bnc#1012628).
- gpu: host1x: Acquire a reference to the IOVA cache
  (bnc#1012628).
- ixgbevf: fix MAC address changes through ixgbevf_set_mac()
  (bnc#1012628).
- md: fix NULL dereference of mddev->pers in
  remove_and_add_spares() (bnc#1012628).
- md/raid1: add error handling of read error from FailFast device
  (bnc#1012628).
- regulator: pfuze100: add .is_enable() for
  pfuze100_swb_regulator_ops (bnc#1012628).
- ALSA: emu10k1: Rate-limit error messages about page errors
  (bnc#1012628).
- rtc: tps65910: fix possible race condition (bnc#1012628).
- rtc: vr41xx: fix possible race condition (bnc#1012628).
- rtc: tps6586x: fix possible race condition (bnc#1012628).
- Bluetooth: btusb: add ID for LiteOn 04ca:301a (bnc#1012628).
- drm/nouveau/fifo/gk104-: poll for runlist update completion
  (bnc#1012628).
- drm/nouveau/gem: lookup VMAs for buffers referenced by pushbuf
  ioctl (bnc#1012628).
- drm/nouveau: remove fence wait code from deferred client work
  handler (bnc#1012628).
- scsi: zfcp: assert that the ERP lock is held when tracing a
  recovery trigger (bnc#1012628).
- scsi: ufs: fix exception event handling (bnc#1012628).
- scsi: ufs: ufshcd: fix possible unclocked register access
  (bnc#1012628).
- net: mvpp2: Add missing VLAN tag detection (bnc#1012628).
- fscrypt: use unbound workqueue for decryption (bnc#1012628).
- net: hns3: Fix for hns3 module is loaded multiple times problem
  (bnc#1012628).
- net: hns3: Fix the missing client list node initialization
  (bnc#1012628).
- net: hns3: Fix for CMDQ and Misc. interrupt init order problem
  (bnc#1012628).
- spi: Add missing pm_runtime_put_noidle() after failed get
  (bnc#1012628).
- drivers/perf: arm-ccn: don't log to dmesg in event_init
  (bnc#1012628).
- watchdog: renesas-wdt: Add support for the R8A77965 WDT
  (bnc#1012628).
- ima: based on policy verify firmware signatures (pre-allocated
  buffer) (bnc#1012628).
- mt76x2: apply coverage class on slot time too (bnc#1012628).
- mwifiex: correct histogram data with appropriate index
  (bnc#1012628).
- net: dsa: qca8k: Add support for QCA8334 switch (bnc#1012628).
- PCI: pciehp: Request control of native hotplug only if supported
  (bnc#1012628).
- bpf: powerpc64: pad function address loads with NOPs
  (bnc#1012628).
- bpf: fix multi-function JITed dump obtained via syscall
  (bnc#1012628).
- pinctrl: msm: fix gpio-hog related boot issues (bnc#1012628).
- pinctrl: at91-pio4: add missing of_node_put (bnc#1012628).
- powerpc/8xx: fix invalid register expression in head_8xx.S
  (bnc#1012628).
- spi: sh-msiof: Fix setting SIRMDR1.SYNCAC to match
  SITMDR1.SYNCAC (bnc#1012628).
- KVM: x86: prevent integer overflows in
  KVM_MEMORY_ENCRYPT_REG_REGION (bnc#1012628).
- powerpc: Add __printf verification to prom_printf (bnc#1012628).
- powerpc/powermac: Mark variable x as unused (bnc#1012628).
- powerpc/powermac: Add missing prototype for note_bootable_part()
  (bnc#1012628).
- powerpc/chrp/time: Make some functions static, add missing
  header include (bnc#1012628).
- powerpc/32: Add a missing include header (bnc#1012628).
- sched/cpufreq: Modify aggregate utilization to always include
  blocked FAIR utilization (bnc#1012628).
- ath: Add regulatory mapping for Bahamas (bnc#1012628).
- ath: Add regulatory mapping for Bermuda (bnc#1012628).
- ath: Add regulatory mapping for Serbia (bnc#1012628).
- ath: Add regulatory mapping for Tanzania (bnc#1012628).
- ath: Add regulatory mapping for Uganda (bnc#1012628).
- ath: Add regulatory mapping for APL2_FCCA (bnc#1012628).
- ath: Add regulatory mapping for APL13_WORLD (bnc#1012628).
- ath: Add regulatory mapping for ETSI8_WORLD (bnc#1012628).
- ath: Add regulatory mapping for FCC3_ETSIC (bnc#1012628).
- nvme-pci: Fix AER reset handling (bnc#1012628).
- nvme-rdma: stop admin queue before freeing it (bnc#1012628).
- soc: qcom: smem: byte swap values properly (bnc#1012628).
- soc: qcom: smem: fix qcom_smem_set_global_partition()
  (bnc#1012628).
- soc: qcom: qmi: fix a buffer sizing bug (bnc#1012628).
- PCI: Prevent sysfs disable of device while driver is attached
  (bnc#1012628).
- PM / wakeup: Make s2idle_lock a RAW_SPINLOCK (bnc#1012628).
- x86/microcode: Make the late update update_lock a raw lock
  for RT (bnc#1012628).
- btrfs: qgroup: Finish rescan when hit the last leaf of extent
  tree (bnc#1012628).
- btrfs: add barriers to btrfs_sync_log before log_commit_wait
  wakeups (bnc#1012628).
- Btrfs: don't BUG_ON() in btrfs_truncate_inode_items()
  (bnc#1012628).
- Btrfs: don't return ino to ino cache if inode item removal fails
  (bnc#1012628).
- media: videobuf2-core: don't call memop 'finish' when queueing
  (bnc#1012628).
- media: cec-pin-error-inj: avoid a false-positive Spectre
  detection (bnc#1012628).
- media: tw686x: Fix incorrect vb2_mem_ops GFP flags
  (bnc#1012628).
- net: hns3: Fixes the init of the VALID BD info in the descriptor
  (bnc#1012628).
- net: hns3: Fixes initalization of RoCE handle and makes it
  conditional (bnc#1012628).
- wlcore: sdio: check for valid platform device data before
  suspend (bnc#1012628).
- mwifiex: handle race during mwifiex_usb_disconnect
  (bnc#1012628).
- mfd: cros_ec: Fail early if we cannot identify the EC
  (bnc#1012628).
- ASoC: dpcm: fix BE dai not hw_free and shutdown (bnc#1012628).
- Bluetooth: btusb: Add a new Realtek 8723DE ID 2ff8:b011
  (bnc#1012628).
- drivers/bus: arm-cci: fix build warnings (bnc#1012628).
- drm/amd/display: Do not program interrupt status on disabled
  crtc (bnc#1012628).
- Bluetooth: hci_qca: Fix "Sleep inside atomic section" warning
  (bnc#1012628).
- iwlwifi: mvm: open BA session only when sta is authorized
  (bnc#1012628).
- iwlwifi: pcie: fix race in Rx buffer allocator (bnc#1012628).
- btrfs: balance dirty metadata pages in btrfs_finish_ordered_io
  (bnc#1012628).
- PCI: Fix devm_pci_alloc_host_bridge() memory leak (bnc#1012628).
- qtnfmac: fix invalid STA state on EAPOL failure (bnc#1012628).
- selftests/filesystems: devpts_pts included wrong header
  (bnc#1012628).
- selftests: filesystems: return Kselftest Skip code for skipped
  tests (bnc#1012628).
- selftests: intel_pstate: return Kselftest Skip code for skipped
  tests (bnc#1012628).
- selftests: kvm: return Kselftest Skip code for skipped tests
  (bnc#1012628).
- selftests: memfd: return Kselftest Skip code for skipped tests
  (bnc#1012628).
- selftests/intel_pstate: Improve test, minor fixes (bnc#1012628).
- perf/x86/intel/uncore: Correct fixed counter index check for
  NHM (bnc#1012628).
- perf/x86/intel/uncore: Correct fixed counter index check in
  generic code (bnc#1012628).
- usbip: dynamically allocate idev by nports found in sysfs
  (bnc#1012628).
- usbip: usbip_detach: Fix memory, udev context and udev leak
  (bnc#1012628).
- block, bfq: remove wrong lock in bfq_requests_merged
  (bnc#1012628).
- f2fs: fix race in between GC and atomic open (bnc#1012628).
- f2fs: fix to detect failure of dquot_initialize (bnc#1012628).
- f2fs: fix missing clear FI_NO_PREALLOC in some error case
  (bnc#1012628).
- f2fs: Fix deadlock in shutdown ioctl (bnc#1012628).
- f2fs: fix to wait page writeback during revoking atomic write
  (bnc#1012628).
- f2fs: fix to don't trigger writeback during recovery
  (bnc#1012628).
- f2fs: don't drop dentry pages after fs shutdown (bnc#1012628).
- f2fs: fix error path of move_data_page (bnc#1012628).
- disable loading f2fs module on PAGE_SIZE > 4KB (bnc#1012628).
- NFS: Fix up nfs_post_op_update_inode() to force ctime updates
  (bnc#1012628).
- pnfs: Don't release the sequence slot until we've processed
  layoutget on open (bnc#1012628).
- netfilter: nf_tables: check msg_type before nft_trans_set(trans)
  (bnc#1012628).
- lightnvm: pblk: warn in case of corrupted write buffer
  (bnc#1012628).
- lightnvm: proper error handling for pblk_bio_add_pages
  (bnc#1012628).
- lightnvm: fix partial read error path (bnc#1012628).
- RDMA/mad: Convert BUG_ONs to error flows (bnc#1012628).
- net: hns3: Fix for service_task not running problem after
  resetting (bnc#1012628).
- net: hns3: Fix for phy not link up problem after resetting
  (bnc#1012628).
- clk: ingenic: jz4770: Modify C1CLK clock to disable CPU clock
  stop on idle (bnc#1012628).
- clk-si544: Properly round requested frequency to nearest match
  (bnc#1012628).
- powerpc/64s: Fix compiler store ordering to SLB shadow area
  (bnc#1012628).
- hvc_opal: don't set tb_ticks_per_usec in udbg_init_opal_common()
  (bnc#1012628).
- powerpc/eeh: Fix use-after-release of EEH driver (bnc#1012628).
- powerpc/64s: Add barrier_nospec (bnc#1012628).
- powerpc/lib: Adjust .balign inside string functions for PPC32
  (bnc#1012628).
- infiniband: fix a possible use-after-free bug (bnc#1012628).
- e1000e: Ignore TSYNCRXCTL when getting I219 clock attributes
  (bnc#1012628).
- ceph: fix use-after-free in ceph_statfs() (bnc#1012628).
- ceph: fix alignment of rasize (bnc#1012628).
- bpf, arm32: fix inconsistent naming about emit_a32_lsr_{r64,i64}
  (bnc#1012628).
- printk: drop in_nmi check from printk_safe_flush_on_panic()
  (bnc#1012628).
- media: arch: sh: migor: Fix TW9910 PDN gpio (bnc#1012628).
- watchdog: da9063: Fix updating timeout value (bnc#1012628).
- irqchip/ls-scfg-msi: Map MSIs in the iommu (bnc#1012628).
- netfilter: ipset: List timing out entries with "timeout 1"
  instead of zero (bnc#1012628).
- netfilter: ipset: forbid family for hash:mac sets (bnc#1012628).
- perf tools: Fix pmu events parsing rule (bnc#1012628).
- net: hns3: Fix for VF mailbox cannot receiving PF response
  (bnc#1012628).
- rxrpc: Fix terminal retransmission connection ID to include
  the channel (bnc#1012628).
- rtc: ensure rtc_set_alarm fails when alarms are not supported
  (bnc#1012628).
- mm/slub.c: add __printf verification to slab_err()
  (bnc#1012628).
- mm: vmalloc: avoid racy handling of debugobjects in vunmap
  (bnc#1012628).
- mm: /proc/pid/pagemap: hide swap entries from unprivileged users
  (bnc#1012628).
- mem_cgroup: make sure moving_account, move_lock_task and
  stat_cpu in the same cacheline (bnc#1012628).
- kernel/hung_task.c: show all hung tasks before panic
  (bnc#1012628).
- vfio/type1: Fix task tracking for QEMU vCPU hotplug
  (bnc#1012628).
- vfio/mdev: Check globally for duplicate devices (bnc#1012628).
- vfio: platform: Fix reset module leak in error path
  (bnc#1012628).
- nfsd: fix potential use-after-free in nfsd4_decode_getdeviceinfo
  (bnc#1012628).
- nfsd: fix error handling in nfs4_set_delegation() (bnc#1012628).
- NFSv4.1: Fix the client behaviour on NFS4ERR_SEQ_FALSE_RETRY
  (bnc#1012628).
- ALSA: fm801: add error handling for snd_ctl_add (bnc#1012628).
- ALSA: emu10k1: add error handling for snd_ctl_add (bnc#1012628).
- ixgbe: Fix setting of TC configuration for macvlan case
  (bnc#1012628).
- skip LAYOUTRETURN if layout is invalid (bnc#1012628).
- hv_netvsc: fix network namespace issues with VF support
  (bnc#1012628).
- xen/netfront: raise max number of slots in
  xennet_get_responses() (bnc#1012628).
- drm/amd/powerplay: Set higher SCLK&MCLK frequency than dpm7
  in OD (v2) (bnc#1012628).
- mm: check for SIGKILL inside dup_mmap() loop (bnc#1012628).
- kcov: ensure irq code sees a valid area (bnc#1012628).
- mlxsw: spectrum_switchdev: Fix port_vlan refcounting
  (bnc#1012628).
- drm/i915/glk: Add Quirk for GLK NUC HDMI port issues
  (bnc#1012628).
- arm64: fix vmemmap BUILD_BUG_ON() triggering on !vmemmap setups
  (bnc#1012628).
- tracing: Quiet gcc warning about maybe unused link variable
  (bnc#1012628).
- tracing/kprobes: Fix trace_probe flags on enable_trace_kprobe()
  failure (bnc#1012628).
- kthread, tracing: Don't expose half-written comm when creating
  kthreads (bnc#1012628).
- tracing: Fix possible double free in event_enable_trigger_func()
  (bnc#1012628).
- tracing: Fix double free of event_trigger_data (bnc#1012628).
- delayacct: fix crash in delayacct_blkio_end() after delayacct
  init failure (bnc#1012628).
- kvm, mm: account shadow page tables to kmemcg (bnc#1012628).
- mm: disallow mappings that conflict for devm_memremap_pages()
  (bnc#1012628).
- Input: elan_i2c - add another ACPI ID for Lenovo Ideapad
  330-15AST (bnc#1012628).
- Input: i8042 - add Lenovo LaVie Z to the i8042 reset list
  (bnc#1012628).
- Input: elan_i2c - add ACPI ID for lenovo ideapad 330
  (bnc#1012628).
- spi: spi-s3c64xx: Fix system resume support (bnc#1012628).
- commit ef4920c

-------------------------------------------------------------------
Mon Jul 30 08:41:14 CEST 2018 - jslaby@suse.cz

- Update config files.
  Run oldconfig on s390x's vanilla.
- commit 6676306

-------------------------------------------------------------------
Mon Jul 30 06:49:41 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-rc7
- commit 68c9705

-------------------------------------------------------------------
Sun Jul 29 09:58:56 CEST 2018 - jslaby@suse.cz

- Linux 4.17.11 (bnc#1012628).
- can: m_can.c: fix setup of CCCR register: clear CCCR NISO bit
  before checking can.ctrlmode (bnc#1012628).
- can: m_can: Fix runtime resume call (bnc#1012628).
- can: peak_canfd: fix firmware < v3.3.0: limit allocation to
  32-bit DMA addr only (bnc#1012628).
- can: xilinx_can: fix RX overflow interrupt not being enabled
  (bnc#1012628).
- can: xilinx_can: fix incorrect clear of non-processed interrupts
  (bnc#1012628).
- can: xilinx_can: keep only 1-2 frames in TX FIFO to fix TX
  accounting (bnc#1012628).
- can: xilinx_can: fix device dropping off bus on RX overrun
  (bnc#1012628).
- can: xilinx_can: fix recovery from error states not being
  propagated (bnc#1012628).
- can: xilinx_can: fix power management handling (bnc#1012628).
- can: xilinx_can: fix RX loop if RXNEMP is asserted without RXOK
  (bnc#1012628).
- driver core: Partially revert "driver core: correct device's
  shutdown order" (bnc#1012628).
- ACPICA: AML Parser: ignore dispatcher error status during
  table load (bnc#1012628).
- usb: gadget: f_fs: Only return delayed status when len is 0
  (bnc#1012628).
- usb: gadget: Fix OS descriptors support (bnc#1012628).
- usb: xhci: Fix memory leak in xhci_endpoint_reset()
  (bnc#1012628).
- usb: dwc2: Fix DMA alignment to start at allocated boundary
  (bnc#1012628).
- usb: core: handle hub C_PORT_OVER_CURRENT condition
  (bnc#1012628).
- usb: cdc_acm: Add quirk for Castles VEGA3000 (bnc#1012628).
- staging: speakup: fix wraparound in uaccess length check
  (bnc#1012628).
- Revert "staging:r8188eu: Use lib80211 to support TKIP"
  (bnc#1012628).
- tcp: add tcp_ooo_try_coalesce() helper (bnc#1012628).
- tcp: call tcp_drop() from tcp_data_queue_ofo() (bnc#1012628).
- tcp: detect malicious patterns in tcp_collapse_ofo_queue()
  (bnc#1012628).
- tcp: avoid collapses in tcp_prune_queue() if possible
  (bnc#1012628).
- tcp: free batches of packets in tcp_prune_ofo_queue()
  (bnc#1012628).
- vxlan: fix default fdb entry netlink notify ordering during
  netdev create (bnc#1012628).
- vxlan: make netlink notify in vxlan_fdb_destroy optional
  (bnc#1012628).
- vxlan: add new fdb alloc and create helpers (bnc#1012628).
- rtnetlink: add rtnl_link_state check in rtnl_configure_link
  (bnc#1012628).
- net/mlx5: Adjust clock overflow work period (bnc#1012628).
- net/mlx5e: Fix quota counting in aRFS expire flow (bnc#1012628).
- net/mlx5e: Don't allow aRFS for encapsulated packets
  (bnc#1012628).
- net/ipv6: Fix linklocal to global address with VRF
  (bnc#1012628).
- multicast: do not restore deleted record source filter mode
  to new one (bnc#1012628).
- net: phy: consider PHY_IGNORE_INTERRUPT in phy_start_aneg_priv
  (bnc#1012628).
- sock: fix sg page frag coalescing in sk_alloc_sg (bnc#1012628).
- nfp: flower: ensure dead neighbour entries are not offloaded
  (bnc#1012628).
- net/mlx5e: Refine ets validation function (bnc#1012628).
- net/mlx5e: Only allow offloading decap egress (egdev) flows
  (bnc#1012628).
- net/mlx5e: Add ingress/egress indication for offloaded TC flows
  (bnc#1012628).
- tls: check RCV_SHUTDOWN in tls_wait_data (bnc#1012628).
- r8169: restore previous behavior to accept BIOS WoL settings
  (bnc#1012628).
- net/mlx5: E-Switch, UBSAN fix undefined behavior in
  mlx5_eswitch_mode (bnc#1012628).
- tcp: do not delay ACK in DCTCP upon CE status change
  (bnc#1012628).
- tcp: do not cancel delay-AcK on DCTCP special ACK (bnc#1012628).
- tcp: helpers to send special DCTCP ack (bnc#1012628).
- tcp: fix dctcp delayed ACK schedule (bnc#1012628).
- net: skb_segment() should not return NULL (bnc#1012628).
- net-next/hinic: fix a problem in hinic_xmit_frame()
  (bnc#1012628).
- net/mlx4_core: Save the qpn from the input modifier in RST2INIT
  wrapper (bnc#1012628).
- net: dsa: mv88e6xxx: fix races between lock and irq freeing
  (bnc#1012628).
- ip: in cmsg IP(V6)_ORIGDSTADDR call pskb_may_pull (bnc#1012628).
- ip: hash fragments consistently (bnc#1012628).
- bonding: set default miimon value for non-arp modes if not set
  (bnc#1012628).
- clk: meson-gxbb: set fclk_div2 as CLK_IS_CRITICAL (bnc#1012628).
- drm/nouveau: Set DRIVER_ATOMIC cap earlier to fix debugfs
  (bnc#1012628).
- drm/nouveau/drm/nouveau: Fix runtime PM leak in
  nv50_disp_atomic_commit() (bnc#1012628).
- KVM: PPC: Check if IOMMU page is contained in the pinned
  physical page (bnc#1012628).
- xen/PVH: Set up GS segment for stack canary (bnc#1012628).
- clk: aspeed: Support HPLL strapping on ast2400 (bnc#1012628).
- clk: aspeed: Mark bclk (PCIe) and dclk (VGA) as critical
  (bnc#1012628).
- clk: mvebu: armada-37xx-periph: Fix switching CPU rate from
  300Mhz to 1.2GHz (bnc#1012628).
- MIPS: Fix off-by-one in pci_resource_to_user() (bnc#1012628).
- MIPS: ath79: fix register address in ath79_ddr_wb_flush()
  (bnc#1012628).
- Revert "iommu/intel-iommu: Enable CONFIG_DMA_DIRECT_OPS=y and
  clean up intel_{alloc,free}_coherent()" (bnc#1012628).
- KVM: VMX: support MSR_IA32_ARCH_CAPABILITIES as a feature MSR
  (bnc#1012628).
- commit d626dd8

-------------------------------------------------------------------
Thu Jul 26 10:12:05 CEST 2018 - msuchanek@suse.de

- Revert "Revert "Pass x86 as architecture on x86_64 and i386 (bsc#1093118).""
  This reverts commit f604b8a2baa6f01a438c2d495a34820ed722aef5.
- commit b5ab6f7

-------------------------------------------------------------------
Thu Jul 26 09:51:15 CEST 2018 - msuchanek@suse.de

- Update config files.
- commit c195a0c

-------------------------------------------------------------------
Thu Jul 26 07:30:20 CEST 2018 - jslaby@suse.cz

- Revert "Pass x86 as architecture on x86_64 and i386 (bsc#1093118)."
  This reverts commit 5f24fb07e56ac11cd19527c51f5a547f1d0946d4. It
  breaks all i586 builds.
- commit f604b8a

-------------------------------------------------------------------
Wed Jul 25 11:43:03 CEST 2018 - jslaby@suse.cz

- Linux 4.17.10 (bnc#1012628).
- xhci: Fix perceived dead host due to runtime suspend race with
  event handler (bnc#1012628).
- cxl_getfile(): fix double-iput() on alloc_file() failures
  (bnc#1012628).
- drm_mode_create_lease_ioctl(): fix open-coded filp_clone_open()
  (bnc#1012628).
- alpha: fix osf_wait4() breakage (bnc#1012628).
- net: usb: asix: replace mii_nway_restart in resume path
  (bnc#1012628).
- ipv6: make DAD fail with enhanced DAD when nonce length differs
  (bnc#1012628).
- net: systemport: Fix CRC forwarding check for SYSTEMPORT Lite
  (bnc#1012628).
- net/mlx4_en: Don't reuse RX page when XDP is set (bnc#1012628).
- net: aquantia: vlan unicast address list correct handling
  (bnc#1012628).
- hv_netvsc: Fix napi reschedule while receive completion is busy
  (bnc#1012628).
- sctp: fix the issue that pathmtu may be set lower than
  MINSEGMENT (bnc#1012628).
- sctp: introduce sctp_dst_mtu (bnc#1012628).
- net: ip6_gre: get ipv6hdr after skb_cow_head() (bnc#1012628).
- tg3: Add higher cpu clock for 5762 (bnc#1012628).
- sch_fq_codel: zero q->flows_cnt when fq_codel_init fails
  (bnc#1012628).
- rhashtable: add restart routine in rhashtable_free_and_destroy()
  (bnc#1012628).
- qmi_wwan: add support for Quectel EG91 (bnc#1012628).
- ptp: fix missing break in switch (bnc#1012628).
- net: phy: fix flag masking in __set_phy_supported (bnc#1012628).
- net/ipv6: Do not allow device only routes via the multipath API
  (bnc#1012628).
- net/ipv4: Set oif in fib_compute_spec_dst (bnc#1012628).
- skbuff: Unconditionally copy pfmemalloc in __skb_clone()
  (bnc#1012628).
- net: Don't copy pfmemalloc flag in __copy_skb_header()
  (bnc#1012628).
- net: diag: Don't double-free TCP_NEW_SYN_RECV sockets in
  tcp_abort (bnc#1012628).
- lib/rhashtable: consider param->min_size when setting initial
  table size (bnc#1012628).
- ipv6: ila: select CONFIG_DST_CACHE (bnc#1012628).
- ipv6: fix useless rol32 call on hash (bnc#1012628).
- ipv4: Return EINVAL when ping_group_range sysctl doesn't map
  to user ns (bnc#1012628).
- gen_stats: Fix netlink stats dumping in the presence of padding
  (bnc#1012628).
- drm/nouveau: Avoid looping through fake MST connectors
  (bnc#1012628).
- drm/nouveau: Use drm_connector_list_iter_* for iterating
  connectors (bnc#1012628).
- drm/nouveau: Remove bogus crtc check in pmops_runtime_idle
  (bnc#1012628).
- Revert "drm/amd/display: Don't return ddc result and read_bytes
  in same return value" (bnc#1012628).
- drm/i915: Fix hotplug irq ack on i965/g4x (bnc#1012628).
- drm/amdgpu: Reserve VM root shared fence slot for command
  submission (v3) (bnc#1012628).
- powerpc/powernv: Fix save/restore of SPRG3 on entry/exit from
  stop (idle) (bnc#1012628).
- stop_machine: Disable preemption when waking two stopper threads
  (bnc#1012628).
- vfio/spapr: Use IOMMU pageshift rather than pagesize
  (bnc#1012628).
- vfio/pci: Fix potential Spectre v1 (bnc#1012628).
- cpufreq: intel_pstate: Register when ACPI PCCH is present
  (bnc#1012628).
- mm/huge_memory.c: fix data loss when splitting a file pmd
  (bnc#1012628).
- mm: memcg: fix use after free in mem_cgroup_iter()
  (bnc#1012628).
- ARC: mm: allow mprotect to make stack mappings executable
  (bnc#1012628).
- ARC: configs: Remove CONFIG_INITRAMFS_SOURCE from defconfigs
  (bnc#1012628).
- ARC: Fix CONFIG_SWAP (bnc#1012628).
- ARCv2: [plat-hsdk]: Save accl reg pair by default (bnc#1012628).
- ALSA: hda: add mute led support for HP ProBook 455 G5
  (bnc#1012628).
- ALSA: hda/realtek - Yet another Clevo P950 quirk entry
  (bnc#1012628).
- ALSA: hda/realtek - Add Panasonic CF-SZ6 headset jack quirk
  (bnc#1012628).
- ALSA: rawmidi: Change resized buffers atomically (bnc#1012628).
- fat: fix memory allocation failure handling of match_strdup()
  (bnc#1012628).
- x86/MCE: Remove min interval polling limitation (bnc#1012628).
- x86/events/intel/ds: Fix bts_interrupt_threshold alignment
  (bnc#1012628).
- x86/apm: Don't access __preempt_count with zeroed fs
  (bnc#1012628).
- x86/kvmclock: set pvti_cpu0_va after enabling kvmclock
  (bnc#1012628).
- x86/kvm/vmx: don't read current->thread.{fs,gs}base of legacy
  tasks (bnc#1012628).
- KVM: VMX: Mark VMXArea with revision_id of physical CPU even
  when eVMCS enabled (bnc#1012628).
- KVM: irqfd: fix race between EPOLLHUP and
  irq_bypass_register_consumer (bnc#1012628).
- KVM/Eventfd: Avoid crash when assign and deassign specific
  eventfd in parallel (bnc#1012628).
- scsi: qla2xxx: Fix NULL pointer dereference for fcport search
  (bnc#1012628).
- scsi: qla2xxx: Fix kernel crash due to late workqueue allocation
  (bnc#1012628).
- scsi: qla2xxx: Fix inconsistent DMA mem alloc/free
  (bnc#1012628).
- scsi: sd_zbc: Fix variable type and bogus comment (bnc#1012628).
- commit 0a7f415

-------------------------------------------------------------------
Tue Jul 24 09:22:40 CEST 2018 - dmueller@suse.com

- Reenable v8.1/v8.2 aarch64 extensions
  These were enabled already in SLE15 and we want to default to the
  upstream defaults, which enable these features.
  Config changes:
      - aarch64:
      HW_AFDBM=y
      PAN=y
      LSE_ATOMICS=y
      VHE=y
      UAO=y
      SVE=y
- commit 7fdc027

-------------------------------------------------------------------
Mon Jul 23 15:22:34 CEST 2018 - msuchanek@suse.de

- Update config files.
- commit 8efadc7

-------------------------------------------------------------------
Mon Jul 23 14:41:22 CEST 2018 - tiwai@suse.de

- rpm/kernel-source.spec.in: Add more stuff to Recommends
  ... and move bc to Recommends as well.  All these packages are needed for
  building a kernel manually from scratch with kernel-source files.
- commit 6fcec9a

-------------------------------------------------------------------
Mon Jul 23 11:24:45 CEST 2018 - jslaby@suse.cz

- Revert "rpm/kernel-source.spec.in: require bc for kernel-source"
  This reverts commit 2fa4028b0f8fcb4b6a9f2bd2a401a71181e0cdcd. Why
  would kernel-source need bc? The discussion is ongoing on
  opensuse-kernel. See:
  7230252.SMnhE4Fjuc@alaris
- commit 7144bb1

-------------------------------------------------------------------
Mon Jul 23 07:47:21 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-rc6
- Config changes:
  - NF_TABLES_SET=m (replaces NFT_SET_{RBTREE,HASH,BITMAP})
- commit 31ad2a8

-------------------------------------------------------------------
Sun Jul 22 21:05:34 CEST 2018 - jslaby@suse.cz

- Linux 4.17.9 (bnc#1012628).
- bpf: undo prog rejection on read-only lock failure
  (bnc#1012628).
- bpf, arm32: fix to use bpf_jit_binary_lock_ro api (bnc#1012628).
- bpf: enforce correct alignment for instructions (bnc#1012628).
- arm64: KVM: Add ARCH_WORKAROUND_2 discovery through
  ARCH_FEATURES_FUNC_ID (bnc#1012628).
- arm64: KVM: Handle guest's ARCH_WORKAROUND_2 requests
  (bnc#1012628).
- arm64: KVM: Add ARCH_WORKAROUND_2 support for guests
  (bnc#1012628).
- arm64: KVM: Add HYP per-cpu accessors (bnc#1012628).
- arm64: ssbd: Add prctl interface for per-thread mitigation
  (bnc#1012628).
- arm64: ssbd: Introduce thread flag to control userspace
  mitigation (bnc#1012628).
- arm64: ssbd: Restore mitigation status on CPU resume
  (bnc#1012628).
- arm64: ssbd: Skip apply_ssbd if not using dynamic mitigation
  (bnc#1012628).
- arm64: ssbd: Add global mitigation state accessor (bnc#1012628).
- arm64: Add 'ssbd' command-line option (bnc#1012628).
- arm64: Add ARCH_WORKAROUND_2 probing (bnc#1012628).
  Update config files.
  ARM64_SSBD=y
- arm64: Add per-cpu infrastructure to call ARCH_WORKAROUND_2
  (bnc#1012628).
- arm64: Call ARCH_WORKAROUND_2 on transitions between EL0 and
  EL1 (bnc#1012628).
- arm/arm64: smccc: Add SMCCC-specific return codes (bnc#1012628).
- ipvs: initialize tbl->entries in ip_vs_lblc_init_svc()
  (bnc#1012628).
- ipvs: initialize tbl->entries after allocation (bnc#1012628).
- net/nfc: Avoid stalls when nfc_alloc_send_skb() returned NULL
  (bnc#1012628).
- bpf: don't leave partial mangled prog in jit_subprogs error path
  (bnc#1012628).
- bpf: sockmap, consume_skb in close path (bnc#1012628).
- bpf: sockmap, fix crash when ipv6 sock is added (bnc#1012628).
- block: don't use blocking queue entered for recursive bio
  submits (bnc#1012628).
- rds: avoid unenecessary cong_update in loop transport
  (bnc#1012628).
- bpf: reject any prog that failed read-only lock (bnc#1012628).
- bdi: Fix another oops in wb_workfn() (bnc#1012628).
- netfilter: ipv6: nf_defrag: drop skb dst before queueing
  (bnc#1012628).
- nsh: set mac len based on inner packet (bnc#1012628).
- autofs: fix slab out of bounds read in getname_kernel()
  (bnc#1012628).
- tls: Stricter error checking in zerocopy sendmsg path
  (bnc#1012628).
- KEYS: DNS: fix parsing multiple options (bnc#1012628).
- reiserfs: fix buffer overflow with long warning messages
  (bnc#1012628).
- netfilter: ebtables: reject non-bridge targets (bnc#1012628).
- PCI: hv: Disable/enable IRQs rather than BH in
  hv_compose_msi_msg() (bnc#1012628).
- crypto: af_alg - Initialize sg_num_bytes in error code path
  (bnc#1012628).
- net: lan78xx: Fix race in tx pending skb size calculation
  (bnc#1012628).
- rtlwifi: rtl8821ae: fix firmware is not ready to run
  (bnc#1012628).
- rtlwifi: Fix kernel Oops "Fw download fail!!" (bnc#1012628).
- net: cxgb3_main: fix potential Spectre v1 (bnc#1012628).
- x86/kvm/Kconfig: Ensure CRYPTO_DEV_CCP_DD state at minimum
  matches KVM_AMD (bnc#1012628).
- virtio_net: split XDP_TX kick and XDP_REDIRECT map flushing
  (bnc#1012628).
- sfc: correctly initialise filter rwsem for farch (bnc#1012628).
- s390/qeth: fix race when setting MAC address (bnc#1012628).
- s390/qeth: avoid using is_multicast_ether_addr_64bits on
  (u8 *)[6] (bnc#1012628).
- Revert "s390/qeth: use Read device to query hypervisor for MAC"
  (bnc#1012628).
- IB/mlx5: Avoid dealing with vport representors if not being
  e-switch manager (bnc#1012628).
- i40e: split XDP_TX tail and XDP_REDIRECT map flushing
  (bnc#1012628).
- enic: do not overwrite error code (bnc#1012628).
- xen-netfront: Update features after registering netdev
  (bnc#1012628).
- xen-netfront: Fix mismatched rtnl_unlock (bnc#1012628).
- nfp: reject binding to shared blocks (bnc#1012628).
- net: use dev_change_tx_queue_len() for SIOCSIFTXQLEN
  (bnc#1012628).
- net: macb: initialize bp->queues[0].bp for at91rm9200
  (bnc#1012628).
- nfp: flower: fix mpls ether type detection (bnc#1012628).
- hinic: reset irq affinity before freeing irq (bnc#1012628).
- VSOCK: fix loopback on big-endian systems (bnc#1012628).
- vhost_net: validate sock before trying to put its fd
  (bnc#1012628).
- tcp: prevent bogus FRTO undos with non-SACK flows (bnc#1012628).
- tcp: fix Fast Open key endianness (bnc#1012628).
- strparser: Remove early eaten to fix full tcp receive buffer
  stall (bnc#1012628).
- stmmac: fix DMA channel hang in half-duplex mode (bnc#1012628).
- s390/qeth: don't clobber buffer on async TX completion
  (bnc#1012628).
- r8152: napi hangup fix after disconnect (bnc#1012628).
- qmi_wwan: add support for the Dell Wireless 5821e module
  (bnc#1012628).
- qed: Limit msix vectors in kdump kernel to the minimum required
  count (bnc#1012628).
- qed: Fix use of incorrect size in memcpy call (bnc#1012628).
- qed: Fix setting of incorrect eswitch mode (bnc#1012628).
- qede: Adverstise software timestamp caps when PHC is not
  available (bnc#1012628).
- net/tcp: Fix socket lookups with SO_BINDTODEVICE (bnc#1012628).
- net: sungem: fix rx checksum support (bnc#1012628).
- net_sched: blackhole: tell upper qdisc about dropped packets
  (bnc#1012628).
- net/sched: act_ife: preserve the action control in case of error
  (bnc#1012628).
- net/sched: act_ife: fix recursive lock and idr leak
  (bnc#1012628).
- net/packet: fix use-after-free (bnc#1012628).
- net: mvneta: fix the Rx desc DMA address in the Rx path
  (bnc#1012628).
- net/mlx5: Fix wrong size allocation for QoS ETC TC regitster
  (bnc#1012628).
- net/mlx5: Fix required capability for manipulating MPFS
  (bnc#1012628).
- net/mlx5: Fix incorrect raw command length parsing
  (bnc#1012628).
- net/mlx5: Fix command interface race in polling mode
  (bnc#1012628).
- net/mlx5: E-Switch, Avoid setup attempt if not being e-switch
  manager (bnc#1012628).
- net/mlx5e: Don't attempt to dereference the ppriv struct if
  not being eswitch manager (bnc#1012628).
- net/mlx5e: Avoid dealing with vport representors if not being
  e-switch manager (bnc#1012628).
- net: macb: Fix ptp time adjustment for large negative delta
  (bnc#1012628).
- net: fix use-after-free in GRO with ESP (bnc#1012628).
- net: dccp: switch rx_tstamp_last_feedback to monotonic clock
  (bnc#1012628).
- net: dccp: avoid crash in ccid3_hc_rx_send_feedback()
  (bnc#1012628).
- ixgbe: split XDP_TX tail and XDP_REDIRECT map flushing
  (bnc#1012628).
- ipvlan: fix IFLA_MTU ignored on NEWLINK (bnc#1012628).
- ipv6: sr: fix passing wrong flags to crypto_alloc_shash()
  (bnc#1012628).
- hv_netvsc: split sub-channel setup into async and sync
  (bnc#1012628).
- atm: zatm: Fix potential Spectre v1 (bnc#1012628).
- atm: Preserve value of skb->truesize when accounting to vcc
  (bnc#1012628).
- alx: take rtnl before calling __alx_open from resume
  (bnc#1012628).
- pinctrl: mt7622: fix a kernel panic when gpio-hog is being
  applied (bnc#1012628).
- pinctrl: mt7622: stop using the deprecated
  pinctrl_add_gpio_range (bnc#1012628).
- pinctrl: mt7622: fix error path on failing at groups building
  (bnc#1012628).
- pinctrl: sh-pfc: r8a77970: remove SH_PFC_PIN_CFG_DRIVE_STRENGTH
  flag (bnc#1012628).
- x86/paravirt: Make native_save_fl() extern inline (bnc#1012628).
- x86/asm: Add _ASM_ARG* constants for argument registers to
  <asm/asm.h> (bnc#1012628).
- compiler-gcc.h: Add __attribute__((gnu_inline)) to all inline
  declarations (bnc#1012628).
- commit 059e5b8

-------------------------------------------------------------------
Sun Jul 22 11:15:44 CEST 2018 - tiwai@suse.de

- rpm/kernel-source.spec.in: require bc for kernel-source
  This is needed for building include/generated/timeconst.h from
  kernel/time/timeconst.bc.
- commit d725e3b

-------------------------------------------------------------------
Wed Jul 18 08:39:13 CEST 2018 - jslaby@suse.cz

- Linux 4.17.8 (bnc#1012628).
- commit 38e4cdc

-------------------------------------------------------------------
Tue Jul 17 15:14:48 CEST 2018 - tiwai@suse.de

- Update config files: enable CONFIG_I2C_PXA for arm64 (bsc#1101465)
- commit d02f285

-------------------------------------------------------------------
Tue Jul 17 13:43:24 CEST 2018 - jslaby@suse.cz

- mm: don't do zero_resv_unavail if memmap is not allocated
  (stable fix).
- commit 9c2de41

-------------------------------------------------------------------
Tue Jul 17 12:59:03 CEST 2018 - jslaby@suse.cz

- Linux 4.17.7 (bnc#1012628).
- bpf: reject passing modified ctx to helper functions
  (bnc#1012628).
- MIPS: Call dump_stack() from show_regs() (bnc#1012628).
- MIPS: Use async IPIs for arch_trigger_cpumask_backtrace()
  (bnc#1012628).
- MIPS: Fix ioremap() RAM check (bnc#1012628).
- drm/etnaviv: Check for platform_device_register_simple()
  failure (bnc#1012628).
- drm/etnaviv: Fix driver unregistering (bnc#1012628).
- drm/etnaviv: bring back progress check in job timeout handler
  (bnc#1012628).
- mmc: sdhci-esdhc-imx: allow 1.8V modes without 100/200MHz
  pinctrl states (bnc#1012628).
- mmc: dw_mmc: fix card threshold control configuration
  (bnc#1012628).
- mmc: renesas_sdhi_internal_dmac: Cannot clear the RX_IN_USE
  in abort (bnc#1012628).
- ibmasm: don't write out of bounds in read handler (bnc#1012628).
- staging: rtl8723bs: Prevent an underflow in
  rtw_check_beacon_data() (bnc#1012628).
- staging: r8822be: Fix RTL8822be can't find any wireless AP
  (bnc#1012628).
- ata: Fix ZBC_OUT command block check (bnc#1012628).
- ata: Fix ZBC_OUT all bit handling (bnc#1012628).
- mei: discard messages from not connected client during power
  down (bnc#1012628).
- mtd: spi-nor: cadence-quadspi: Fix direct mode write timeouts
  (bnc#1012628).
- tracing/kprobe: Release kprobe print_fmt properly (bnc#1012628).
- vmw_balloon: fix inflation with batching (bnc#1012628).
- ahci: Add Intel Ice Lake LP PCI ID (bnc#1012628).
- ahci: Disable LPM on Lenovo 50 series laptops with a too old
  BIOS (bnc#1012628).
- thunderbolt: Notify userspace when boot_acl is changed
  (bnc#1012628).
- USB: serial: ch341: fix type promotion bug in ch341_control_in()
  (bnc#1012628).
- USB: serial: cp210x: add another USB ID for Qivicon ZigBee stick
  (bnc#1012628).
- USB: serial: keyspan_pda: fix modem-status error handling
  (bnc#1012628).
- USB: yurex: fix out-of-bounds uaccess in read handler
  (bnc#1012628).
- USB: serial: mos7840: fix status-register error handling
  (bnc#1012628).
- usb: quirks: add delay quirks for Corsair Strafe (bnc#1012628).
- xhci: xhci-mem: off by one in xhci_stream_id_to_ring()
  (bnc#1012628).
- Fix up non-directory creation in SGID directories (bnc#1012628).
- mm: zero unavailable pages before memmap init (bnc#1012628).
- ALSA: hda/realtek - two more lenovo models need fixup of
  MIC_LOCATION (bnc#1012628).
- ALSA: hda - Handle pm failure during hotplug (bnc#1012628).
- mm: do not drop unused pages when userfaultd is running
  (bnc#1012628).
- fs/proc/task_mmu.c: fix Locked field in /proc/pid/smaps*
  (bnc#1012628).
- x86/purgatory: add missing FORCE to Makefile target
  (bnc#1012628).
- fs, elf: make sure to page align bss in load_elf_library
  (bnc#1012628).
- mm: do not bug_on on incorrect length in __mm_populate()
  (bnc#1012628).
- tracing: Reorder display of TGID to be after PID (bnc#1012628).
- kbuild: delete INSTALL_FW_PATH from kbuild documentation
  (bnc#1012628).
- acpi, nfit: Fix scrub idle detection (bnc#1012628).
- arm64: neon: Fix function may_use_simd() return error status
  (bnc#1012628).
- tools build: fix # escaping in .cmd files for future Make
  (bnc#1012628).
- IB/hfi1: Fix incorrect mixing of ERR_PTR and NULL return values
  (bnc#1012628).
- i2c: tegra: Fix NACK error handling (bnc#1012628).
- i2c: recovery: if possible send STOP with recovery pulses
  (bnc#1012628).
- iw_cxgb4: correctly enforce the max reg_mr depth (bnc#1012628).
- xen: remove global bit from __default_kernel_pte_mask for pv
  guests (bnc#1012628).
- xen: setup pv irq ops vector earlier (bnc#1012628).
- bsg: fix bogus EINVAL on non-data commands (bnc#1012628).
- crypto: x86/salsa20 - remove x86 salsa20 implementations
  (bnc#1012628).
- uprobes/x86: Remove incorrect WARN_ON() in uprobe_init_insn()
  (bnc#1012628).
- netfilter: nf_queue: augment nfqa_cfg_policy (bnc#1012628).
- crypto: don't optimize keccakf() (bnc#1012628).
- netfilter: x_tables: initialise match/target check parameter
  struct (bnc#1012628).
- loop: add recursion validation to LOOP_CHANGE_FD (bnc#1012628).
- xfs: fix inobt magic number check (bnc#1012628).
- PM / hibernate: Fix oops at snapshot_write() (bnc#1012628).
- RDMA/ucm: Mark UCM interface as BROKEN (bnc#1012628).
- loop: remember whether sysfs_create_group() was done
  (bnc#1012628).
- kvm: vmx: Nested VM-entry prereqs for event inj (bnc#1012628).
- f2fs: give message and set need_fsck given broken node id
  (bnc#1012628).
- f2fs: avoid bug_on on corrupted inode (bnc#1012628).
- f2fs: sanity check on sit entry (bnc#1012628).
- f2fs: sanity check for total valid node blocks (bnc#1012628).
- ARM: dts: armada-38x: use the new thermal binding (bnc#1012628).
- commit 7a74fb0

-------------------------------------------------------------------
Mon Jul 16 19:41:11 CEST 2018 - rgoldwyn@suse.com

- apparmor: patch to provide compatibility with v2.x net rules (bsc#1100944).
- Delete patches.suse/0001-AppArmor-basic-networking-rules.patch.
- Delete
  patches.suse/0002-apparmor-update-apparmor-basic-networking-rules-for-.patch.
- Delete
  patches.suse/0003-apparmor-Fix-quieting-of-audit-messages-for-network-.patch.
- Delete patches.suse/apparmor-check-all-net-profiles.patch.
- commit 1947b35

-------------------------------------------------------------------
Mon Jul 16 13:05:50 CEST 2018 - msuchanek@suse.de

- Pass x86 as architecture on x86_64 and i386 (bsc#1093118).
- commit 5f24fb0

-------------------------------------------------------------------
Mon Jul 16 12:57:19 CEST 2018 - msuchanek@suse.de

- Revert "kconfig: only write '# CONFIG_FOO is not set' for
  visible symbols" (bsc#1093118).
- commit 2b9e26a

-------------------------------------------------------------------
Mon Jul 16 09:06:22 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-rc5
- commit b3f752f

-------------------------------------------------------------------
Wed Jul 11 22:01:45 CEST 2018 - jslaby@suse.cz

- Linux 4.17.6 (bnc#1012628).
- userfaultfd: hugetlbfs: fix userfaultfd_huge_must_wait()
  pte access (bnc#1012628).
- mm: hugetlb: yield when prepping struct pages (bnc#1012628).
- mm: teach dump_page() to correctly output poisoned struct pages
  (bnc#1012628).
- PCI / ACPI / PM: Resume bridges w/o drivers on suspend-to-RAM
  (bnc#1012628).
- ACPICA: Drop leading newlines from error messages (bnc#1012628).
- ACPI / battery: Safe unregistering of hooks (bnc#1012628).
- drm/amdgpu: Make struct amdgpu_atif private to amdgpu_acpi.c
  (bnc#1012628).
- tracing: Avoid string overflow (bnc#1012628).
- tracing: Fix missing return symbol in function_graph output
  (bnc#1012628).
- scsi: sg: mitigate read/write abuse (bnc#1012628).
- scsi: aacraid: Fix PD performance regression over incorrect
  qd being set (bnc#1012628).
- scsi: target: Fix truncated PR-in ReadKeys response
  (bnc#1012628).
- drbd: fix access after free (bnc#1012628).
- vfio: Use get_user_pages_longterm correctly (bnc#1012628).
- ARM: dts: imx51-zii-rdu1: fix touchscreen pinctrl (bnc#1012628).
- ARM: dts: omap3: Fix am3517 mdio and emac clock references
  (bnc#1012628).
- ARM: dts: dra7: Disable metastability workaround for USB2
  (bnc#1012628).
- cifs: Fix use after free of a mid_q_entry (bnc#1012628).
- cifs: Fix memory leak in smb2_set_ea() (bnc#1012628).
- cifs: Fix slab-out-of-bounds in send_set_info() on SMB2 ACE
  setting (bnc#1012628).
- cifs: Fix infinite loop when using hard mount option
  (bnc#1012628).
- drm: Use kvzalloc for allocating blob property memory
  (bnc#1012628).
- drm/udl: fix display corruption of the last line (bnc#1012628).
- drm/amdgpu: Add amdgpu_atpx_get_dhandle() (bnc#1012628).
- drm/amdgpu: Dynamically probe for ATIF handle (v2)
  (bnc#1012628).
- jbd2: don't mark block as modified if the handle is out of
  credits (bnc#1012628).
- ext4: add corruption check in ext4_xattr_set_entry()
  (bnc#1012628).
- ext4: always verify the magic number in xattr blocks
  (bnc#1012628).
- ext4: make sure bitmaps and the inode table don't overlap with
  bg descriptors (bnc#1012628).
- ext4: always check block group bounds in
  ext4_init_block_bitmap() (bnc#1012628).
- ext4: only look at the bg_flags field if it is valid
  (bnc#1012628).
- ext4: verify the depth of extent tree in ext4_find_extent()
  (bnc#1012628).
- ext4: include the illegal physical block in the bad map
  ext4_error msg (bnc#1012628).
- ext4: clear i_data in ext4_inode_info when removing inline data
  (bnc#1012628).
- ext4: never move the system.data xattr out of the inode body
  (bnc#1012628).
- ext4: avoid running out of journal credits when appending to
  an inline file (bnc#1012628).
- ext4: add more inode number paranoia checks (bnc#1012628).
- ext4: add more mount time checks of the superblock
  (bnc#1012628).
- ext4: check superblock mapped prior to committing (bnc#1012628).
- HID: i2c-hid: Fix "incomplete report" noise (bnc#1012628).
- HID: hiddev: fix potential Spectre v1 (bnc#1012628).
- HID: debug: check length before copy_to_user() (bnc#1012628).
- HID: core: allow concurrent registration of drivers
  (bnc#1012628).
- i2c: core: smbus: fix a potential missing-check bug
  (bnc#1012628).
- i2c: smbus: kill memory leak on emulated and failed DMA SMBus
  xfers (bnc#1012628).
- fs: allow per-device dax status checking for filesystems
  (bnc#1012628).
- dax: change bdev_dax_supported() to support boolean returns
  (bnc#1012628).
- dax: check for QUEUE_FLAG_DAX in bdev_dax_supported()
  (bnc#1012628).
- dm: prevent DAX mounts if not supported (bnc#1012628).
- mtd: cfi_cmdset_0002: Change definition naming to retry write
  operation (bnc#1012628).
- mtd: cfi_cmdset_0002: Change erase functions to retry for error
  (bnc#1012628).
- mtd: cfi_cmdset_0002: Change erase functions to check chip
  good only (bnc#1012628).
- netfilter: nf_log: don't hold nf_log_mutex during user access
  (bnc#1012628).
- staging: comedi: quatech_daqp_cs: fix no-op loop
  daqp_ao_insn_write() (bnc#1012628).
- Revert mm/vmstat.c: fix vmstat_update() preemption BUG
  (bnc#1012628).
- commit 8a8b6ec

-------------------------------------------------------------------
Mon Jul  9 13:18:02 CEST 2018 - tiwai@suse.de

- alarmtimer: Prevent overflow for relative nanosleep
  (CVE-2018-13053 bsc#1099924).
- commit e98ba10

-------------------------------------------------------------------
Mon Jul  9 09:37:17 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-rc4
- Eliminated 1 patch
- Config changes:
  - s390x:
    - RSEQ=y
    - DEBUG_REQ=n
- commit 36e98dd

-------------------------------------------------------------------
Mon Jul  9 09:28:48 CEST 2018 - jslaby@suse.cz

- Linux 4.17.5 (bnc#1012628).
- ARM: dts: imx6q: Use correct SDMA script for SPI5 core
  (bnc#1012628).
- x86/mm: Don't free P4D table when it is folded at runtime
  (bnc#1012628).
- ARM64: dts: meson-gxl-s905x-p212: Add phy-supply for usb0
  (bnc#1012628).
- netfilter: nf_tables: use WARN_ON_ONCE instead of BUG_ON in
  nft_do_chain() (bnc#1012628).
- netfilter: xt_connmark: fix list corruption on rmmod
  (bnc#1012628).
- netfilter: ip6t_rpfilter: provide input interface for route
  lookup (bnc#1012628).
- drm/i915: Enable provoking vertex fix on Gen9 systems
  (bnc#1012628).
- drm/i915: Turn off g4x DP port in .post_disable() (bnc#1012628).
- drm/i915: Disallow interlaced modes on g4x DP outputs
  (bnc#1012628).
- drm/i915: Fix PIPESTAT irq ack on i965/g4x (bnc#1012628).
- drm/i915: Allow DBLSCAN user modes with eDP/LVDS/DSI
  (bnc#1012628).
- drm/amd/display: release spinlock before committing updates
  to stream (bnc#1012628).
- drm/amdgpu: Count disabled CRTCs in commit tail earlier
  (bnc#1012628).
- drm/amdgpu: GPU vs CPU page size fixes in
  amdgpu_vm_bo_split_mapping (bnc#1012628).
- drm/amdgpu: Update pin_size values before unpinning BO
  (bnc#1012628).
- drm/amdgpu: Make amdgpu_vram_mgr_bo_invisible_size always
  accurate (bnc#1012628).
- drm/amdgpu: Refactor amdgpu_vram_mgr_bo_invisible_size helper
  (bnc#1012628).
- drm/amdgpu: Use kvmalloc_array for allocating VRAM manager
  nodes array (bnc#1012628).
- drm/amdgpu: Don't default to DC support for Kaveri and older
  (bnc#1012628).
- Revert "drm/sun4i: Handle DRM_BUS_FLAG_PIXDATA_*EDGE"
  (bnc#1012628).
- drm/atmel-hlcdc: check stride values in the first plane
  (bnc#1012628).
- drm/qxl: Call qxl_bo_unref outside atomic context (bnc#1012628).
- drm/i915/dp: Send DPCD ON for MST before phy_up (bnc#1012628).
- drm/amd/display: Clear connector's edid pointer (bnc#1012628).
- drm/sti: Depend on OF rather than selecting it (bnc#1012628).
- drm/amdgpu: fix clear_all and replace handling in the VM (v2)
  (bnc#1012628).
- drm/amdgpu: Grab/put runtime PM references in
  atomic_commit_tail() (bnc#1012628).
- drm/amdgpu: fix the missed vcn fw version report (bnc#1012628).
- drm/amdgpu: Add APU support in vi_set_vce_clocks (bnc#1012628).
- drm/amdgpu: Add APU support in vi_set_uvd_clocks (bnc#1012628).
- vt: prevent leaking uninitialized data to userspace via
  /dev/vcs* (bnc#1012628).
- serdev: fix memleak on module unload (bnc#1012628).
- serial: 8250_pci: Remove stalled entries in blacklist
  (bnc#1012628).
- iio: mma8452: Fix ignoring MMA8452_INT_DRDY (bnc#1012628).
- staging: android: ion: Return an ERR_PTR in ion_map_kernel
  (bnc#1012628).
- n_tty: Access echo_* variables carefully (bnc#1012628).
- n_tty: Fix stall at n_tty_receive_char_special() (bnc#1012628).
- xhci: Fix kernel oops in trace_xhci_free_virt_device
  (bnc#1012628).
- usb: typec: ucsi: Fix for incorrect status data issue
  (bnc#1012628).
- usb: typec: ucsi: acpi: Workaround for cache mode issue
  (bnc#1012628).
- acpi: Add helper for deactivating memory region (bnc#1012628).
- usb: typec: tcpm: fix logbuffer index is wrong if _tcpm_log
  is re-entered (bnc#1012628).
- usb: dwc2: fix the incorrect bitmaps for the ports of multi_tt
  hub (bnc#1012628).
- USB: serial: cp210x: add Silicon Labs IDs for Windows Update
  (bnc#1012628).
- USB: serial: cp210x: add CESINEL device ids (bnc#1012628).
- usb: cdc_acm: Add quirk for Uniden UBC125 scanner (bnc#1012628).
- commit 3ff6a16

-------------------------------------------------------------------
Mon Jul  9 09:27:16 CEST 2018 - tiwai@suse.de

- ACPICA: Clear status of all events when entering S5
  (bsc#1099930).
- commit 0c3e49d

-------------------------------------------------------------------
Wed Jul  4 13:28:23 CEST 2018 - dsterba@suse.com

- Update patches.suse/btrfs-8447-serialize-subvolume-mounts-with-potentially-mi.patch (bsc#951844 bsc#1024015 bsc#1099745).
  Refresh and update for Tumbleweed. No better patch version yet.
- commit dd5896f

-------------------------------------------------------------------
Tue Jul  3 13:31:47 CEST 2018 - jslaby@suse.cz

- Linux 4.17.4 (bnc#1012628).
- x86/spectre_v1: Disable compiler optimizations over
  array_index_mask_nospec() (bnc#1012628).
- x86/xen: Add call of speculative_store_bypass_ht_init() to PV
  paths (bnc#1012628).
- x86/platform/UV: Add adjustable set memory block size function
  (bnc#1012628).
- x86/platform/UV: Use new set memory block size function
  (bnc#1012628).
- x86/platform/UV: Add kernel parameter to set memory block size
  (bnc#1012628).
- x86/mce: Improve error message when kernel cannot recover
  (bnc#1012628).
- x86/mce: Check for alternate indication of machine check
  recovery on Skylake (bnc#1012628).
- x86/mce: Fix incorrect "Machine check from unknown source"
  message (bnc#1012628).
- x86/mce: Do not overwrite MCi_STATUS in mce_no_way_out()
  (bnc#1012628).
- x86: Call fixup_exception() before notify_die() in math_error()
  (bnc#1012628).
- m68k/mm: Adjust VM area to be unmapped by gap size for
  __iounmap() (bnc#1012628).
- m68k/mac: Fix SWIM memory resource end address (bnc#1012628).
- platform/chrome: cros_ec_lpc: do not try DMI match when ACPI
  device found (bnc#1012628).
- hwmon: (k10temp) Add support for Stoney Ridge and Bristol
  Ridge CPUs (bnc#1012628).
- serial: sh-sci: Use spin_{try}lock_irqsave instead of open
  coding version (bnc#1012628).
- signal/xtensa: Consistenly use SIGBUS in do_unaligned_user
  (bnc#1012628).
- PM / Domains: Fix error path during attach in genpd
  (bnc#1012628).
- PCI / PM: Do not clear state_saved for devices that remain
  suspended (bnc#1012628).
- ACPI / LPSS: Avoid PM quirks on suspend and resume from S3
  (bnc#1012628).
- PM / core: Fix supplier device runtime PM usage counter
  imbalance (bnc#1012628).
- PM / OPP: Update voltage in case freq == old_freq (bnc#1012628).
- mmc: renesas_sdhi: really fix WP logic regressions
  (bnc#1012628).
- usb: do not reset if a low-speed or full-speed device timed out
  (bnc#1012628).
- 1wire: family module autoload fails because of upper/lower
  case mismatch (bnc#1012628).
- ASoC: dapm: delete dapm_kcontrol_data paths list before freeing
  it (bnc#1012628).
- ASoC: cs35l35: Add use_single_rw to regmap config (bnc#1012628).
- ASoC: mediatek: preallocate pages use platform device
  (bnc#1012628).
- ASoC: cirrus: i2s: Fix LRCLK configuration (bnc#1012628).
- ASoC: cirrus: i2s: Fix {TX|RX}LinCtrlData setup (bnc#1012628).
- thermal: bcm2835: Stop using printk format %pCr (bnc#1012628).
- clk: renesas: cpg-mssr: Stop using printk format %pCr
  (bnc#1012628).
- lib/vsprintf: Remove atomic-unsafe support for %pCr
  (bnc#1012628).
- ftrace/selftest: Have the reset_trigger code be a bit more
  careful (bnc#1012628).
- mips: ftrace: fix static function graph tracing (bnc#1012628).
- branch-check: fix long->int truncation when profiling branches
  (bnc#1012628).
- ipmi:bt: Set the timeout before doing a capabilities check
  (bnc#1012628).
- Bluetooth: hci_qca: Avoid missing rampatch failure with
  userspace fw loader (bnc#1012628).
- printk: fix possible reuse of va_list variable (bnc#1012628).
- fuse: fix congested state leak on aborted connections
  (bnc#1012628).
- fuse: atomic_o_trunc should truncate pagecache (bnc#1012628).
- fuse: don't keep dead fuse_conn at fuse_fill_super()
  (bnc#1012628).
- fuse: fix control dir setup and teardown (bnc#1012628).
- powerpc/mm/hash: Add missing isync prior to kernel stack SLB
  switch (bnc#1012628).
- powerpc/pkeys: Detach execute_only key on !PROT_EXEC
  (bnc#1012628).
- powerpc/ptrace: Fix setting 512B aligned breakpoints with
  PTRACE_SET_DEBUGREG (bnc#1012628).
- powerpc/perf: Fix memory allocation for core-imc based on
  num_possible_cpus() (bnc#1012628).
- powerpc/ptrace: Fix enforcement of DAWR constraints
  (bnc#1012628).
- powerpc/powernv/ioda2: Remove redundant free of TCE pages
  (bnc#1012628).
- powerpc/powernv: copy/paste - Mask SO bit in CR (bnc#1012628).
- powerpc/powernv/cpuidle: Init all present cpus for deep states
  (bnc#1012628).
- cpuidle: powernv: Fix promotion from snooze if next state
  disabled (bnc#1012628).
- powerpc/fadump: Unregister fadump on kexec down path
  (bnc#1012628).
- libnvdimm, pmem: Do not flush power-fail protected CPU caches
  (bnc#1012628).
- soc: rockchip: power-domain: Fix wrong value when power up pd
  with writemask (bnc#1012628).
- powerpc/64s/radix: Fix radix_kvm_prefetch_workaround paca
  access of not possible CPU (bnc#1012628).
- powerpc/e500mc: Set assembler machine type to e500mc
  (bnc#1012628).
- powerpc/64s: Fix DT CPU features Power9 DD2.1 logic
  (bnc#1012628).
- cxl: Configure PSL to not use APC virtual machines
  (bnc#1012628).
- cxl: Disable prefault_mode in Radix mode (bnc#1012628).
- ARM: 8764/1: kgdb: fix NUMREGBYTES so that gdb_regs[] is the
  correct size (bnc#1012628).
- ARM: dts: sun8i: h3: fix ALL-H3-CC H3 ver VDD-CPUX voltage
  (bnc#1012628).
- ARM: dts: sun8i: h3: fix ALL-H3-CC H3 ver VCC-1V2 regulator
  voltage (bnc#1012628).
- ARM: dts: Fix SPI node for Arria10 (bnc#1012628).
- ARM: dts: socfpga: Fix NAND controller node compatible
  (bnc#1012628).
- ARM: dts: socfpga: Fix NAND controller clock supply
  (bnc#1012628).
- ARM: dts: socfpga: Fix NAND controller node compatible for
  Arria10 (bnc#1012628).
- hwrng: core - Always drop the RNG in hwrng_unregister()
  (bnc#1012628).
- softirq: Reorder trace_softirqs_on to prevent lockdep splat
  (bnc#1012628).
- arm64: Fix syscall restarting around signal suppressed by tracer
  (bnc#1012628).
- crypto: arm64/aes-blk - fix and move skcipher_walk_done out
  of kernel_neon_begin, _end (bnc#1012628).
- arm64: kpti: Use early_param for kpti= command-line option
  (bnc#1012628).
- arm64: mm: Ensure writes to swapper are ordered wrt subsequent
  cache maintenance (bnc#1012628).
- arm64: dts: marvell: fix CP110 ICU node size (bnc#1012628).
- arm64: dts: stratix10: Fix SPI nodes for Stratix10
  (bnc#1012628).
- ARM64: dts: meson: disable sd-uhs modes on the libretech-cc
  (bnc#1012628).
- ARM64: dts: meson-gx: fix ATF reserved memory region
  (bnc#1012628).
- of: overlay: validate offset from property fixups (bnc#1012628).
- of: unittest: for strings, account for trailing \0 in property
  length field (bnc#1012628).
- of: platform: stop accessing invalid dev in
  of_platform_device_destroy (bnc#1012628).
- tpm: fix use after free in tpm2_load_context() (bnc#1012628).
- tpm: fix race condition in tpm_common_write() (bnc#1012628).
- efi/libstub/tpm: Initialize efi_physical_addr_t vars to zero
  for mixed mode (bnc#1012628).
- IB/qib: Fix DMA api warning with debug kernel (bnc#1012628).
- IB/{hfi1, qib}: Add handling of kernel restart (bnc#1012628).
- IB/mlx4: Mark user MR as writable if actual virtual memory is
  writable (bnc#1012628).
- IB/core: Make testing MR flags for writability a static inline
  function (bnc#1012628).
- IB/mlx5: Fetch soft WQE's on fatal error state (bnc#1012628).
- IB/isert: Fix for lib/dma_debug check_sync warning
  (bnc#1012628).
- IB/isert: fix T10-pi check mask setting (bnc#1012628).
- IB/hfi1: Fix fault injection init/exit issues (bnc#1012628).
- IB/hfi1: Reorder incorrect send context disable (bnc#1012628).
- IB/hfi1: Optimize kthread pointer locking when queuing CQ
  entries (bnc#1012628).
- IB/hfi1: Fix user context tail allocation for DMA_RTAIL
  (bnc#1012628).
- IB/uverbs: Fix ordering of ucontext check in ib_uverbs_write
  (bnc#1012628).
- RDMA/mlx4: Discard unknown SQP work requests (bnc#1012628).
- xprtrdma: Return -ENOBUFS when no pages are available
  (bnc#1012628).
- RDMA/core: Save kernel caller name when creating CQ using
  ib_create_cq() (bnc#1012628).
- mtd: rawnand: Do not check FAIL bit when executing a
  SET_FEATURES op (bnc#1012628).
- mtd: cfi_cmdset_0002: Change write buffer to check correct value
  (bnc#1012628).
- mtd: rawnand: denali_dt: set clk_x_rate to 200 MHz
  unconditionally (bnc#1012628).
- mtd: rawnand: fix return value check for bad block status
  (bnc#1012628).
- mtd: rawnand: mxc: set spare area size register explicitly
  (bnc#1012628).
- mtd: rawnand: micron: add ONFI_FEATURE_ON_DIE_ECC to supported
  features (bnc#1012628).
- mtd: rawnand: All AC chips have a broken GET_FEATURES(TIMINGS)
  (bnc#1012628).
- mtd: cfi_cmdset_0002: Use right chip in do_ppb_xxlock()
  (bnc#1012628).
- mtd: cfi_cmdset_0002: fix SEGV unlocking multiple chips
  (bnc#1012628).
- mtd: cfi_cmdset_0002: Fix unlocking requests crossing a chip
  boudary (bnc#1012628).
- mtd: cfi_cmdset_0002: Avoid walking all chips when unlocking
  (bnc#1012628).
- MIPS: BCM47XX: Enable 74K Core ExternalSync for PCIe erratum
  (bnc#1012628).
- clk:aspeed: Fix reset bits for PCI/VGA and PECI (bnc#1012628).
- PCI: hv: Make sure the bus domain is really unique
  (bnc#1012628).
- PCI: Add ACS quirk for Intel 7th & 8th Gen mobile (bnc#1012628).
- PCI: Add ACS quirk for Intel 300 series (bnc#1012628).
- PCI: pciehp: Clear Presence Detect and Data Link Layer Status
  Changed on resume (bnc#1012628).
- PCI: Account for all bridges on bus when distributing bus
  numbers (bnc#1012628).
- auxdisplay: fix broken menu (bnc#1012628).
- pinctrl: armada-37xx: Fix spurious irq management (bnc#1012628).
- pinctrl: samsung: Correct EINTG banks order (bnc#1012628).
- pinctrl: devicetree: Fix pctldev pointer overwrite
  (bnc#1012628).
- cpufreq: intel_pstate: Fix scaling max/min limits with Turbo
  3.0 (bnc#1012628).
- MIPS: pb44: Fix i2c-gpio GPIO descriptor table (bnc#1012628).
- MIPS: io: Add barrier after register read in inX()
  (bnc#1012628).
- time: Make sure jiffies_to_msecs() preserves non-zero time
  periods (bnc#1012628).
- irqchip/gic-v3-its: Don't bind LPI to unavailable NUMA node
  (bnc#1012628).
- locking/rwsem: Fix up_read_non_owner() warning with DEBUG_RWSEMS
  (bnc#1012628).
- X.509: unpack RSA signatureValue field from BIT STRING
  (bnc#1012628).
- Btrfs: fix return value on rename exchange failure
  (bnc#1012628).
- iio: adc: ad7791: remove sample freq sysfs attributes
  (bnc#1012628).
- iio: sca3000: Fix an error handling path in 'sca3000_probe()'
  (bnc#1012628).
- mm: fix __gup_device_huge vs unmap (bnc#1012628).
- scsi: scsi_debug: Fix memory leak on module unload
  (bnc#1012628).
- scsi: hpsa: disable device during shutdown (bnc#1012628).
- scsi: qla2xxx: Delete session for nport id change (bnc#1012628).
- scsi: qla2xxx: Fix setting lower transfer speed if GPSC fails
  (bnc#1012628).
- scsi: qla2xxx: Mask off Scope bits in retry delay (bnc#1012628).
- scsi: qla2xxx: Spinlock recursion in qla_target (bnc#1012628).
- scsi: zfcp: fix missing SCSI trace for result of
  eh_host_reset_handler (bnc#1012628).
- scsi: zfcp: fix missing SCSI trace for retry of abort /
  scsi_eh TMF (bnc#1012628).
- scsi: zfcp: fix misleading REC trigger trace where erp_action
  setup failed (bnc#1012628).
- scsi: zfcp: fix missing REC trigger trace on terminate_rport_io
  early return (bnc#1012628).
- scsi: zfcp: fix missing REC trigger trace on terminate_rport_io
  for ERP_FAILED (bnc#1012628).
- scsi: zfcp: fix missing REC trigger trace for all objects in
  ERP_FAILED (bnc#1012628).
- scsi: zfcp: fix missing REC trigger trace on enqueue without
  ERP thread (bnc#1012628).
- linvdimm, pmem: Preserve read-only setting for pmem devices
  (bnc#1012628).
- libnvdimm, pmem: Unconditionally deep flush on *sync
  (bnc#1012628).
- clk: meson: meson8b: mark fclk_div2 gate clocks as
  CLK_IS_CRITICAL (bnc#1012628).
- clk: at91: PLL recalc_rate() now using cached MUL and DIV values
  (bnc#1012628).
- rtc: sun6i: Fix bit_idx value for clk_register_gate
  (bnc#1012628).
- md: fix two problems with setting the "re-add" device state
  (bnc#1012628).
- rpmsg: smd: do not use mananged resources for endpoints and
  channels (bnc#1012628).
- ubi: fastmap: Cancel work upon detach (bnc#1012628).
- ubi: fastmap: Correctly handle interrupted erasures in EBA
  (bnc#1012628).
- UBIFS: Fix potential integer overflow in allocation
  (bnc#1012628).
- backlight: as3711_bl: Fix Device Tree node lookup (bnc#1012628).
- backlight: max8925_bl: Fix Device Tree node lookup
  (bnc#1012628).
- backlight: tps65217_bl: Fix Device Tree node lookup
  (bnc#1012628).
- Revert "iommu/amd_iommu: Use CONFIG_DMA_DIRECT_OPS=y and
  dma_direct_{alloc,free}()" (bnc#1012628).
- f2fs: don't use GFP_ZERO for page caches (bnc#1012628).
- um: Fix initialization of vector queues (bnc#1012628).
- um: Fix raw interface options (bnc#1012628).
- mfd: twl-core: Fix clock initialization (bnc#1012628).
- mfd: intel-lpss: Program REMAP register in PIO mode
  (bnc#1012628).
- mfd: intel-lpss: Fix Intel Cannon Lake LPSS I2C input clock
  (bnc#1012628).
- remoteproc: Prevent incorrect rproc state on xfer mem ownership
  failure (bnc#1012628).
- arm: dts: mt7623: fix invalid memory node being generated
  (bnc#1012628).
- perf tools: Fix symbol and object code resolution for vdso32
  and vdsox32 (bnc#1012628).
- perf intel-pt: Fix sync_switch INTEL_PT_SS_NOT_TRACING
  (bnc#1012628).
- perf intel-pt: Fix decoding to accept CBR between FUP and
  corresponding TIP (bnc#1012628).
- perf intel-pt: Fix MTC timing after overflow (bnc#1012628).
- perf intel-pt: Fix "Unexpected indirect branch" error
  (bnc#1012628).
- perf intel-pt: Fix packet decoding of CYC packets (bnc#1012628).
- media: vsp1: Release buffers for each video node (bnc#1012628).
- media: cx231xx: Ignore an i2c mux adapter (bnc#1012628).
- media: v4l2-compat-ioctl32: prevent go past max size
  (bnc#1012628).
- media: cx231xx: Add support for AverMedia DVD EZMaker 7
  (bnc#1012628).
- media: rc: mce_kbd decoder: fix stuck keys (bnc#1012628).
- media: dvb_frontend: fix locking issues at
  dvb_frontend_get_event() (bnc#1012628).
- nfsd: restrict rd_maxcount to svc_max_payload in
  nfsd_encode_readdir (bnc#1012628).
- NFSv4: Fix possible 1-byte stack overflow in
  nfs_idmap_read_and_verify_message (bnc#1012628).
- NFSv4: Revert commit 5f83d86cf531d ("NFSv4.x: Fix wraparound
  issues..") (bnc#1012628).
- NFSv4: Fix a typo in nfs41_sequence_process (bnc#1012628).
- video: uvesafb: Fix integer overflow in allocation
  (bnc#1012628).
- ACPI / LPSS: Add missing prv_offset setting for byt/cht PWM
  devices (bnc#1012628).
- Input: silead - add MSSL0002 ACPI HID (bnc#1012628).
- Input: elan_i2c - add ELAN0618 (Lenovo v330 15IKB) ACPI ID
  (bnc#1012628).
- pwm: lpss: platform: Save/restore the ctrl register over a
  suspend/resume (bnc#1012628).
- rbd: flush rbd_dev->watch_dwork after watch is unregistered
  (bnc#1012628).
- mm/ksm.c: ignore STABLE_FLAG of rmap_item->address in
  rmap_walk_ksm() (bnc#1012628).
- mm: fix devmem_is_allowed() for sub-page System RAM
  intersections (bnc#1012628).
- xen: Remove unnecessary BUG_ON from __unbind_from_irq()
  (bnc#1012628).
- net: ethernet: fix suspend/resume in davinci_emac (bnc#1012628).
- udf: Detect incorrect directory size (bnc#1012628).
- Input: xpad - fix GPD Win 2 controller name (bnc#1012628).
- Input: elan_i2c_smbus - fix more potential stack buffer
  overflows (bnc#1012628).
- Input: elantech - enable middle button of touchpads on ThinkPad
  P52 (bnc#1012628).
- Input: elantech - fix V4 report decoding for module with middle
  key (bnc#1012628).
- ALSA: timer: Fix UBSAN warning at SNDRV_TIMER_IOCTL_NEXT_DEVICE
  ioctl (bnc#1012628).
- ALSA: hda - Force to link down at runtime suspend on ATI/AMD
  HDMI (bnc#1012628).
- ALSA: hda/realtek - Fix pop noise on Lenovo P50 & co
  (bnc#1012628).
- ALSA: hda/realtek - Add a quirk for FSC ESPRIMO U9210
  (bnc#1012628).
- ALSA: hda/realtek - Fix the problem of two front mics on more
  machines (bnc#1012628).
- Revert "i2c: algo-bit: init the bus to a known state"
  (bnc#1012628).
- i2c: gpio: initialize SCL to HIGH again (bnc#1012628).
- slub: fix failure when we delete and create a slab cache
  (bnc#1012628).
- kasan: depend on CONFIG_SLUB_DEBUG (bnc#1012628).
- dm: use bio_split() when splitting out the already processed
  bio (bnc#1012628).
- pmem: only set QUEUE_FLAG_DAX for fsdax mode (bnc#1012628).
- block: Fix transfer when chunk sectors exceeds max
  (bnc#1012628).
- block: Fix cloning of requests with a special payload
  (bnc#1012628).
- x86/e820: put !E820_TYPE_RAM regions into memblock.reserved
  (bnc#1012628).
- selinux: move user accesses in selinuxfs out of locked regions
  (bnc#1012628).
- x86/entry/64/compat: Fix "x86/entry/64/compat: Preserve r8-r11
  in int $0x80" (bnc#1012628).
- x86/efi: Fix efi_call_phys_epilog() with CONFIG_X86_5LEVEL=y
  (bnc#1012628).
- dm zoned: avoid triggering reclaim from inside dmz_map()
  (bnc#1012628).
- dm thin: handle running out of data space vs concurrent discard
  (bnc#1012628).
- virt: vbox: Only copy_from_user the request-header once
  (bnc#1012628).
- commit 882c99b

-------------------------------------------------------------------
Mon Jul  2 05:31:55 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-rc3
- Eliminated 6 patches
- Config changes:
  - Input:
    - INPUT_SC27XX_VIBRA=m (aarch64 only)
- commit d44a642

-------------------------------------------------------------------
Fri Jun 29 10:09:30 CEST 2018 - jslaby@suse.cz

- Refresh
  patches.suse/input-psmouse-fix-button-reporting-for-basic-protoco.patch.
  Update upstream status.
- commit 3037396

-------------------------------------------------------------------
Wed Jun 27 07:29:10 CEST 2018 - mkubecek@suse.cz

- bpf: enforce correct alignment for instructions (bsc#1099078).
- commit 55e3263

-------------------------------------------------------------------
Tue Jun 26 10:17:11 CEST 2018 - tiwai@suse.de

- media: uvcvideo: Support realtek's UVC 1.5 device (bsc#1099109).
- commit 7c619f0

-------------------------------------------------------------------
Tue Jun 26 09:06:26 CEST 2018 - tiwai@suse.de

- tracing: Check for no filter when processing event filters
  (CVE-2018-12714,bsc#1098933).
- commit 5b8d655

-------------------------------------------------------------------
Tue Jun 26 08:45:20 CEST 2018 - jslaby@suse.cz

- Linux 4.17.3 (bnc#1012628).
- net: aquantia: fix unsigned numvecs comparison with less than
  zero (bnc#1012628).
- bonding: re-evaluate force_primary when the primary slave name
  changes (bnc#1012628).
- cdc_ncm: avoid padding beyond end of skb (bnc#1012628).
- ipv6: allow PMTU exceptions to local routes (bnc#1012628).
- net: dsa: add error handling for pskb_trim_rcsum (bnc#1012628).
- net: phy: dp83822: use BMCR_ANENABLE instead of BMSR_ANEGCAPABLE
  for DP83620 (bnc#1012628).
- net/sched: act_simple: fix parsing of TCA_DEF_DATA
  (bnc#1012628).
- tcp: verify the checksum of the first data segment in a new
  connection (bnc#1012628).
- tls: fix use-after-free in tls_push_record (bnc#1012628).
- tls: fix waitall behavior in tls_sw_recvmsg (bnc#1012628).
- udp: fix rx queue len reported by diag and proc interface
  (bnc#1012628).
- net: in virtio_net_hdr only add VLAN_HLEN to csum_start if
  payload holds vlan (bnc#1012628).
- hv_netvsc: Fix a network regression after ifdown/ifup
  (bnc#1012628).
- ext4: fix hole length detection in ext4_ind_map_blocks()
  (bnc#1012628).
- ext4: update mtime in ext4_punch_hole even if no blocks are
  released (bnc#1012628).
- ext4: do not allow external inodes for inline data
  (bnc#1012628).
- ext4: bubble errors from ext4_find_inline_data_nolock() up to
  ext4_iget() (bnc#1012628).
- ext4: correctly handle a zero-length xattr with a non-zero
  e_value_offs (bnc#1012628).
- ext4: fix fencepost error in check for inode count overflow
  during resize (bnc#1012628).
- driver core: Don't ignore class_dir_create_and_add() failure
  (bnc#1012628).
- Btrfs: allow empty subvol= again (bnc#1012628).
- Btrfs: fix clone vs chattr NODATASUM race (bnc#1012628).
- Btrfs: fix memory and mount leak in btrfs_ioctl_rm_dev_v2()
  (bnc#1012628).
- btrfs: return error value if create_io_em failed in
  cow_file_range (bnc#1012628).
- btrfs: scrub: Don't use inode pages for device replace
  (bnc#1012628).
- ALSA: usb-audio: Disable the quirk for Nura headset
  (bnc#1012628).
- ALSA: hda/realtek - Enable mic-mute hotkey for several Lenovo
  AIOs (bnc#1012628).
- ALSA: hda/conexant - Add fixup for HP Z2 G4 workstation
  (bnc#1012628).
- ALSA: hda - Handle kzalloc() failure in
  snd_hda_attach_pcm_stream() (bnc#1012628).
- ALSA: hda: add dock and led support for HP EliteBook 830 G5
  (bnc#1012628).
- ALSA: hda: add dock and led support for HP ProBook 640 G4
  (bnc#1012628).
- x86/MCE: Fix stack out-of-bounds write in mce-inject.c:
  Flags_read() (bnc#1012628).
- smb3: fix various xid leaks (bnc#1012628).
- smb3: on reconnect set PreviousSessionId field (bnc#1012628).
- CIFS: 511c54a2f69195b28afb9dd119f03787b1625bb4 adds a check
  for session expiry (bnc#1012628).
- cifs: For SMB2 security informaion query, check for minimum
  sized security descriptor instead of sizeof FileAllInformation
  class (bnc#1012628).
- nbd: fix nbd device deletion (bnc#1012628).
- nbd: update size when connected (bnc#1012628).
- nbd: use bd_set_size when updating disk size (bnc#1012628).
- blk-mq: reinit q->tag_set_list entry only after grace period
  (bnc#1012628).
- bdi: Move cgroup bdi_writeback to a dedicated low concurrency
  workqueue (bnc#1012628).
- cpufreq: Fix new policy initialization during limits updates
  via sysfs (bnc#1012628).
- cpufreq: ti-cpufreq: Fix an incorrect error return value
  (bnc#1012628).
- cpufreq: governors: Fix long idle detection logic in load
  calculation (bnc#1012628).
- libata: zpodd: small read overflow in eject_tray()
  (bnc#1012628).
- libata: Drop SanDisk SD7UB3Q*G1001 NOLPM quirk (bnc#1012628).
- nvme/pci: Sync controller reset for AER slot_reset
  (bnc#1012628).
- w1: mxc_w1: Enable clock before calling clk_get_rate() on it
  (bnc#1012628).
- x86/vector: Fix the args of vector_alloc tracepoint
  (bnc#1012628).
- x86/apic/vector: Prevent hlist corruption and leaks
  (bnc#1012628).
- x86/apic: Provide apic_ack_irq() (bnc#1012628).
- x86/ioapic: Use apic_ack_irq() (bnc#1012628).
- x86/platform/uv: Use apic_ack_irq() (bnc#1012628).
- irq_remapping: Use apic_ack_irq() (bnc#1012628).
- genirq/generic_pending: Do not lose pending affinity update
  (bnc#1012628).
- genirq/affinity: Defer affinity setting if irq chip is busy
  (bnc#1012628).
- genirq/migration: Avoid out of line call if pending is not set
  (bnc#1012628).
- x86/intel_rdt: Enable CMT and MBM on new Skylake stepping
  (bnc#1012628).
- media: uvcvideo: Prevent setting unavailable flags
  (bnc#1012628).
- media: rc: ensure input/lirc device can be opened after register
  (bnc#1012628).
- iwlwifi: fw: harden page loading code (bnc#1012628).
- orangefs: set i_size on new symlink (bnc#1012628).
- orangefs: report attributes_mask and attributes for statx
  (bnc#1012628).
- HID: intel_ish-hid: ipc: register more pm callbacks to support
  hibernation (bnc#1012628).
- HID: wacom: Correct logical maximum Y for 2nd-gen Intuos Pro
  large (bnc#1012628).
- fs/binfmt_misc.c: do not allow offset overflow (bnc#1012628).
- mm, page_alloc: do not break __GFP_THISNODE by zonelist reset
  (bnc#1012628).
- commit e8dc1b5

-------------------------------------------------------------------
Tue Jun 26 08:25:44 CEST 2018 - tiwai@suse.de

- platform/x86: ideapad-laptop: Apply no_hw_rfkill to Y20-15IKBM,
  too (bsc#1098626).
- commit 0d1073f

-------------------------------------------------------------------
Mon Jun 25 21:22:28 CEST 2018 - jslaby@suse.cz

- Input: psmouse - fix button reporting for basic protocols
  (bnc#1098392).
- commit 7faa585

-------------------------------------------------------------------
Mon Jun 25 15:38:48 CEST 2018 - msuchanek@suse.de

- rpm/kernel-source.changes.old: Add pre-SLE15 history (bsc#1098995).
- commit 631659e

-------------------------------------------------------------------
Mon Jun 25 14:46:25 CEST 2018 - msuchanek@suse.de

- Refresh patches.suse/s390-fix-random-crashes-illegal-operation-0001-ilc-1.patch.
- commit ff0a7a4

-------------------------------------------------------------------
Mon Jun 25 11:24:43 CEST 2018 - bp@suse.de

- vhost: fix info leak due to uninitialized memory (bsc#1092472
  CVE-2018-1118).
- commit 7372950

-------------------------------------------------------------------
Sun Jun 24 21:50:01 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-rc2
- Eliminated 1 patch
- Config changes:
  - aarch64: reenable DWMAC_SOCFPGA (=m)
- commit cc9e91e

-------------------------------------------------------------------
Sun Jun 24 02:55:48 CEST 2018 - afaerber@suse.de

- config: arm64: Update to 4.18-rc1
- commit b301d60

-------------------------------------------------------------------
Sat Jun 23 14:37:31 CEST 2018 - mkubecek@suse.cz

- proc: fix missing final NUL in get_mm_cmdline() rewrite
  (https://www.mail-archive.com/linux-kernel@vger.kernel.org/msg1715032.html).
- commit f348790

-------------------------------------------------------------------
Sat Jun 23 14:36:49 CEST 2018 - mkubecek@suse.cz

- Documentation: e1000: Fix docs build error.
- Documentation: e100: Fix docs build error.
- Documentation: e1000: Use correct heading adornment.
- Documentation: e100: Use correct heading adornment.
- commit 95284f7

-------------------------------------------------------------------
Sat Jun 23 09:41:41 CEST 2018 - jslaby@suse.cz

- x86/stacktrace: Do not unwind after user regs (bnc#1058115).
- x86/stacktrace: Remove STACKTRACE_DUMP_ONCE (bnc#1058115).
- x86/stacktrace: Clarify the reliable success paths
  (bnc#1058115).
- x86/stacktrace: Do not fail for ORC with regs on stack
  (bnc#1058115).
- x86/unwind/orc: Detect the end of the stack (bnc#1058115).
- x86/stacktrace: Enable HAVE_RELIABLE_STACKTRACE for the ORC
  unwinder (bnc#1058115).
- Delete
  patches.suse/0001-x86-stacktrace-do-now-unwind-after-user-regs.patch.
- Delete
  patches.suse/0002-x86-stacktrace-make-clear-the-success-paths.patch.
- Delete
  patches.suse/0003-x86-stacktrace-remove-STACKTRACE_DUMP_ONCE-from-__sa.patch.
- Delete
  patches.suse/0004-x86-stacktrace-do-not-fail-for-ORC-with-regs-on-stac.patch.
- Delete
  patches.suse/0005-x86-stacktrace-orc-mark-it-as-reliable.patch.
  Replace the ORC patches by the upstream patches. Finally...
- commit 33a2d86

-------------------------------------------------------------------
Thu Jun 21 17:15:09 CEST 2018 - msuchanek@suse.de

- s390: Correct register corruption in critical section cleanup
  (boo#1095717).
- commit 4594a9e

-------------------------------------------------------------------
Wed Jun 20 11:08:17 CEST 2018 - tiwai@suse.de

- ACPICA: AML parser: attempt to continue loading table after
  error (bsc#1098074).
- commit fc39d10

-------------------------------------------------------------------
Mon Jun 18 18:27:58 CEST 2018 - msuchanek@suse.de

- macros.kernel-source: define linux_arch for KMPs (boo#1098050).
  CONFIG_64BIT is no longer defined so KMP spec files need to include
  %{?linux_make_arch} in any make call to build modules or descent into
  the kernel directory for any reason.
- commit 5dc40af

-------------------------------------------------------------------
Mon Jun 18 11:42:15 CEST 2018 - mkubecek@suse.cz

- config: update ppc64le configs
- commit fa9e020

-------------------------------------------------------------------
Mon Jun 18 08:47:10 CEST 2018 - mkubecek@suse.cz

- config: enable NETDEVSIM (as module)
- commit e218eff

-------------------------------------------------------------------
Mon Jun 18 08:45:46 CEST 2018 - mkubecek@suse.cz

- Update to 4.18-rc1.
- Eliminated 66 patches (62 stable, 4 other).
- ARM configs need updating.
- Config changes:
  - General:
    - RSEQ=y
  - i386:
    - BPF_JIT=y
    - BPF_JIT_ALWAYS_ON=y
  - powerpc:
    - LD_DEAD_CODE_DATA_ELIMINATION=n (experimental)
  - s390:
    - FW_LOADER_USER_HELPER=y
  - PCI:
    - PCI_HOST_GENERIC=y
  - Network:
    - TLS_DEVICE=y
    - XDP_SOCKETS=y
    - NFT_CONNLIMIT=m
    - NFT_SOCKET=m
    - IP_VS_MH=m
    - IP_VS_MH_TAB_INDEX=12 (default)
    - NF_TPROXY_IPV4=m
    - NF_TPROXY_IPV6=m
    - BPFILTER=y
    - BPFILTER_UMH=m
    - FAILOVER=m
    - MLX5_EN_TLS=y
    - NET_VENDOR_MICROSEMI=y
    - MSCC_OCELOT_SWITCH=m
    - MSCC_OCELOT_SWITCH_OCELOT=m
    - NFP_APP_ABM_NIC=y
    - MDIO_MSCC_MIIM=m
    - ASIX_PHY=m
    - DP83TC811_PHY=m
    - MICROCHIP_T1_PHY=m
    - NET_FAILOVER=m
  - Block:
    - DM_WRITECACHE=m
  - Input:
    - MOUSE_PS2_ELANTECH_SMBUS=y
    - TOUCHSCREEN_CHIPONE_ICN8505=m
    - HID_STEAM=m
  - Misc:
    - SPI_MEM=y
    - GPIOLIB_FASTPATH_LIMIT=512 (default)
    - VIDEO_CADENCE=y
    - LCD_OTM3225A=n
    - CHROMEOS_TBMC=m
    - FPGA_MGR_MACHXO2_SPI=m
  - Graphics:
    - DRM_I2C_NXP_TDA9950=m
    - DRM_I915_DEBUG_GUC=n
    - DRM_CDNS_DSI=n
    - DRM_THINE_THC63LVD1024=n
    - DRM_XEN=y
    - DRM_XEN_FRONTEND=m
  - Sound:
    - SND_SOC_SSM2305=n
    - SND_SOC_TSCS454=n
    - SND_SOC_WM8782=n
    - SND_SOC_MT6351=n
    - SND_XEN_FRONTEND=m
  - LED:
    - LEDS_CR0014114=m
    - LEDS_LM3601X=m
  - USB:
    - TYPEC_RT1711H=m
  - IIO:
    - AD5686_SPI=n
    - AD5696_I2C=n
    - TI_DAC5571=n
    - TSL2772=n
    - IIO_RESCALE=n
  - Filesystems:
    - PROC_VMCORE_DEVICE_DUMP=y
    - EVM_ADD_XATTRS=y
  - Testing:
    - TEST_OVERFLOW=n
  - Crypto:
    - CRYPTO_AEGIS128=m
    - CRYPTO_AEGIS128L=m
    - CRYPTO_AEGIS256=m
    - CRYPTO_AEGIS128_AESNI_SSE2=m
    - CRYPTO_AEGIS128L_AESNI_SSE2=m
    - CRYPTO_AEGIS256_AESNI_SSE2=m
    - CRYPTO_MORUS640=m
    - CRYPTO_MORUS640_SSE2=m
    - CRYPTO_MORUS1280=m
    - CRYPTO_MORUS1280_SSE2=m
    - CRYPTO_MORUS1280_AVX2=m
    - CRYPTO_ZSTD=m
- commit 549a5bb

-------------------------------------------------------------------
Mon Jun 18 07:27:34 CEST 2018 - mkubecek@suse.cz

- rpm: ignore CONFIG_GCC_VERSION when checking for oldconfig changes
  Since 4.18-rc1, "make oldconfig" writes gcc version and capabilities into
  generated .config. Thus whenever we build the package or run checks with
  different gcc version than used to update config/*/*, check for "outdated
  configs" fails.
  As a quick band-aid, omit the lines with CONFIG_GCC_VERSION from both
  configs before comparing them. This way, the check won't fail unless run
  with newer gcc which would add new capabilities. More robust solution will
  require a wider discussion.
- commit 546ef32

-------------------------------------------------------------------
Sat Jun 16 12:30:37 CEST 2018 - jslaby@suse.cz

- Revert "mm: relax deferred struct page requirements"
  (bnc#1092466).
- Update config files.
- commit 802b05f

-------------------------------------------------------------------
Sat Jun 16 11:51:06 CEST 2018 - jslaby@suse.cz

- Linux 4.17.2 (bnc#1012628).
- crypto: omap-sham - fix memleak (bnc#1012628).
- crypto: vmx - Remove overly verbose printk from AES XTS init
  (bnc#1012628).
- crypto: vmx - Remove overly verbose printk from AES init
  routines (bnc#1012628).
- crypto: cavium - Limit result reading attempts (bnc#1012628).
- crypto: cavium - Fix fallout from CONFIG_VMAP_STACK
  (bnc#1012628).
- crypto: caam - fix size of RSA prime factor q (bnc#1012628).
- crypto: caam/qi - fix IV DMA mapping and updating (bnc#1012628).
- crypto: caam - fix IV DMA mapping and updating (bnc#1012628).
- crypto: caam - fix DMA mapping dir for generated IV
  (bnc#1012628).
- crypto: caam - strip input zeros from RSA input buffer
  (bnc#1012628).
- Input: elan_i2c - add ELAN0612 (Lenovo v330 14IKB) ACPI ID
  (bnc#1012628).
- Input: goodix - add new ACPI id for GPD Win 2 touch screen
  (bnc#1012628).
- crypto: ccree - correct host regs offset (bnc#1012628).
- tty: pl011: Avoid spuriously stuck-off interrupts (bnc#1012628).
- arm64: defconfig: Enable CONFIG_PINCTRL_MT7622 by default
  (bnc#1012628).
- doc: fix sysfs ABI documentation (bnc#1012628).
- vmw_balloon: fixing double free when batching mode is off
  (bnc#1012628).
- serial: 8250: omap: Fix idling of clocks for unused uarts
  (bnc#1012628).
- serial: samsung: fix maxburst parameter for DMA transactions
  (bnc#1012628).
- tty/serial: atmel: use port->name as name in request_irq()
  (bnc#1012628).
- serial: sh-sci: Stop using printk format %pCr (bnc#1012628).
- usb: gadget: udc: renesas_usb3: disable the controller's irqs
  for reconnecting (bnc#1012628).
- usb: gadget: udc: renesas_usb3: should fail if devm_phy_get()
  returns error (bnc#1012628).
- usb: gadget: udc: renesas_usb3: should call devm_phy_get()
  before add udc (bnc#1012628).
- usb: gadget: udc: renesas_usb3: should call pm_runtime_enable()
  before add udc (bnc#1012628).
- usb: gadget: udc: renesas_usb3: should remove debugfs
  (bnc#1012628).
- usb: gadget: udc: renesas_usb3: fix double phy_put()
  (bnc#1012628).
- usb: gadget: function: printer: avoid wrong list handling in
  printer_write() (bnc#1012628).
- usb: typec: wcove: Remove dependency on HW FSM (bnc#1012628).
- usb: core: message: remove extra endianness conversion in
  usb_set_isoch_delay (bnc#1012628).
- phy: qcom-qusb2: Fix crash if nvmem cell not specified
  (bnc#1012628).
- Input: xpad - add GPD Win 2 Controller USB IDs (bnc#1012628).
- usb-storage: Add compatibility quirk flags for G-Technologies
  G-Drive (bnc#1012628).
- usb-storage: Add support for FL_ALWAYS_SYNC flag in the UAS
  driver (bnc#1012628).
- usbip: vhci_sysfs: fix potential Spectre v1 (bnc#1012628).
- NFC: pn533: don't send USB data off of the stack (bnc#1012628).
- staging: android: ion: Switch to pr_warn_once in
  ion_buffer_destroy (bnc#1012628).
- kvm: x86: use correct privilege level for
  sgdt/sidt/fxsave/fxrstor access (bnc#1012628).
- KVM: x86: pass kvm_vcpu to kvm_read_guest_virt and
  kvm_write_guest_virt_system (bnc#1012628).
- kvm: nVMX: Enforce cpl=0 for VMX instructions (bnc#1012628).
- kvm: fix typo in flag name (bnc#1012628).
- KVM: x86: introduce linear_{read,write}_system (bnc#1012628).
- KVM: X86: Fix reserved bits check for MOV to CR3 (bnc#1012628).
- blkdev_report_zones_ioctl(): Use vmalloc() to allocate large
  buffers (bnc#1012628).
- crypto: chelsio - request to HW should wrap (bnc#1012628).
- commit 202985c

-------------------------------------------------------------------
Thu Jun 14 09:11:23 CEST 2018 - mkubecek@suse.cz

- socket: close race condition between sock_close() and
  sockfs_setattr() (CVE-2018-12232 bsc#1097593).
- commit 94bf968

-------------------------------------------------------------------
Thu Jun 14 08:23:34 CEST 2018 - jslaby@suse.cz

- config.conf: disable syzkaller
  I doubt anybody else (other than me) uses the flavor, so save a lot of
  build resources by this. Leaving syzkaller configs and stuff in place
  so people still can build it if they want.
  The build is currently broken, so this "fixes" it too:
  ERROR: "__sanitizer_cov_trace_cmpd" [drivers/gpu/drm/amd/amdgpu/amdgpu.ko] undefined!
  ERROR: "__sanitizer_cov_trace_cmpf" [drivers/gpu/drm/amd/amdgpu/amdgpu.ko] undefined!
- commit bdee95f

-------------------------------------------------------------------
Tue Jun 12 11:38:53 CEST 2018 - jslaby@suse.cz

- Linux 4.17.1 (bnc#1012628).
- netfilter: nf_flow_table: attach dst to skbs (bnc#1012628).
- bnx2x: use the right constant (bnc#1012628).
- ip6mr: only set ip6mr_table from setsockopt when ip6mr_new_table
  succeeds (bnc#1012628).
- ipv6: omit traffic class when calculating flow hash (bnc#1012628
  bsc#1095042).
- l2tp: fix refcount leakage on PPPoL2TP sockets (bnc#1012628).
- netdev-FAQ: clarify DaveM's position for stable backports
  (bnc#1012628).
- net: metrics: add proper netlink validation (bnc#1012628).
- net/packet: refine check for priv area size (bnc#1012628).
- rtnetlink: validate attributes in do_setlink() (bnc#1012628).
- sctp: not allow transport timeout value less than HZ/5 for
  hb_timer (bnc#1012628).
- team: use netdev_features_t instead of u32 (bnc#1012628).
- vrf: check the original netdevice for generating redirect
  (bnc#1012628).
- net: dsa: b53: Fix for brcm tag issue in Cygnus SoC
  (bnc#1012628).
- ipmr: fix error path when ipmr_new_table fails (bnc#1012628).
- PCI: hv: Do not wait forever on a device that has disappeared
  (bnc#1012628).
- Delete
  patches.suse/ipv6-omit-traffic-class-when-calculating-flow-hash.patch.
- commit 17c8abe

-------------------------------------------------------------------
Fri Jun  8 15:42:50 CEST 2018 - tiwai@suse.de

- mtd: spi-nor: intel-spi: Fix atomic sequence handling
  (bsc#1073836).
- commit c31c53d

-------------------------------------------------------------------
Fri Jun  8 11:42:06 CEST 2018 - mkubecek@suse.cz

- ipv6: omit traffic class when calculating flow hash
  (bsc#1095042).
- commit 1307c29

-------------------------------------------------------------------
Fri Jun  8 10:11:35 CEST 2018 - tiwai@suse.de

- Delete patches.suse/iwlwifi-expose-default-fallback-ucode-api.
  The workaround is no longer needed as the upstream driver code catches
  up the actual firmware version
- commit d6e069d

-------------------------------------------------------------------
Fri Jun  8 10:09:38 CEST 2018 - tiwai@suse.de

- Update patch tag of the upstreamed btusb fix
- commit f531f64

-------------------------------------------------------------------
Mon Jun  4 13:06:56 CEST 2018 - mkubecek@suse.cz

- config: enable preemption in i386/debug
- commit b181e22

-------------------------------------------------------------------
Mon Jun  4 06:35:34 CEST 2018 - mkubecek@suse.cz

- Update to 4.17-final
- commit fb45ad0

-------------------------------------------------------------------
Sat Jun  2 21:10:35 CEST 2018 - mkubecek@suse.cz

- packet: fix reserve calculation (bsc#1095592).
- commit f670a16

-------------------------------------------------------------------
Fri Jun  1 19:37:49 CEST 2018 - mcgrof@suse.com

- xfs: enhance dinode verifier (bsc#1090749,CVE-2018-10322).
- commit d565016

-------------------------------------------------------------------
Thu May 31 07:56:10 CEST 2018 - jslaby@suse.cz

- Linux 4.16.13 (bnc#1012628).
- drm/vmwgfx: Set dmabuf_size when vmw_dmabuf_init is successful
  (bnc#1012628).
- kdb: make "mdr" command repeat (bnc#1012628).
- pinctrl: mcp23s08: spi: Fix regmap debugfs entries
  (bnc#1012628).
- pinctrl: msm: Use dynamic GPIO numbering (bnc#1012628).
- regulator: of: Add a missing 'of_node_put()' in an error
  handling path of 'of_regulator_match()' (bnc#1012628).
- ARM: dts: porter: Fix HDMI output routing (bnc#1012628).
- ARM: dts: imx7d: cl-som-imx7: fix pinctrl_enet (bnc#1012628).
- i40e: Add delay after EMP reset for firmware to recover
  (bnc#1012628).
- soc: amlogic: meson-gx-pwrc-vpu: fix error on shutdown when
  domain is powered off (bnc#1012628).
- regmap: Correct comparison in regmap_cached (bnc#1012628).
- ARM: dts: at91: tse850: use the correct compatible for the
  eeprom (bnc#1012628).
- ARM: dts: at91: nattis: use the correct compatible for the
  eeprom (bnc#1012628).
- selftests: Add FIB onlink tests (bnc#1012628).
- drm: rcar-du: lvds: Fix LVDS startup on R-Car Gen2
  (bnc#1012628).
- drm: rcar-du: lvds: Fix LVDS startup on R-Car Gen3
  (bnc#1012628).
- netlabel: If PF_INET6, check sk_buff ip header version
  (bnc#1012628).
- drm/vblank: Data type fixes for 64-bit vblank sequences
  (bnc#1012628).
- selftests/net: fixes psock_fanout eBPF test case (bnc#1012628).
- perf tests: Fix dwarf unwind for stripped binaries
  (bnc#1012628).
- perf report: Fix memory corruption in --branch-history mode
  --branch-history (bnc#1012628).
- perf tests: Use arch__compare_symbol_names to compare symbols
  (bnc#1012628).
- perf report: Fix wrong jump arrow (bnc#1012628).
- perf test: Fix test case inet_pton to accept inlines
  (bnc#1012628).
- x86/apic: Set up through-local-APIC mode on the boot CPU if
  'noapic' specified (bnc#1012628).
- drm/rockchip: Respect page offset for PRIME mmap calls
  (bnc#1012628).
- soc: renesas: r8a77970-sysc: fix power area parents
  (bnc#1012628).
- MIPS: Octeon: Fix logging messages with spurious periods after
  newlines (bnc#1012628).
- dpaa_eth: fix pause capability advertisement logic
  (bnc#1012628).
- drm/amd/display: Set vsc pack revision when DPCD revision is >=
  1.2 (bnc#1012628).
- dt-bindings: display: msm/dsi: Fix the PHY regulator supply
  props (bnc#1012628).
- pinctrl: sh-pfc: r8a7796: Fix MOD_SEL register pin assignment
  for SSI pins group (bnc#1012628).
- rcu: Call touch_nmi_watchdog() while printing stall warnings
  (bnc#1012628).
- net: stmmac: call correct function in
  stmmac_mac_config_rx_queues_routing() (bnc#1012628).
- audit: return on memory error to avoid null pointer dereference
  (bnc#1012628).
- hwrng: bcm2835 - Handle deferred clock properly (bnc#1012628).
- PCMCIA / PM: Avoid noirq suspend aborts during suspend-to-idle
  (bnc#1012628).
- ARM: dts: bcm283x: Fix pin function of JTAG pins (bnc#1012628).
- ARM: dts: bcm283x: Fix probing of bcm2835-i2s (bnc#1012628).
- power: supply: ltc2941-battery-gauge: Fix temperature units
  (bnc#1012628).
- sh_eth: fix TSU init on SH7734/R8A7740 (bnc#1012628).
- ixgbe: prevent ptp_rx_hang from running when in FILTER_ALL mode
  (bnc#1012628).
- udf: Provide saner default for invalid uid / gid (bnc#1012628).
- PCI: Add function 1 DMA alias quirk for Marvell 88SE9220
  (bnc#1012628).
- dpaa_eth: fix SG mapping (bnc#1012628).
- cpufreq: Reorder cpufreq_online() error code path (bnc#1012628).
- net: stmmac: ensure that the MSS desc is the last desc to set
  the own bit (bnc#1012628).
- net: stmmac: ensure that the device has released ownership
  before reading data (bnc#1012628).
- ibmvnic: Allocate statistics buffers during probe (bnc#1012628).
- drm/amdgpu: adjust timeout for ib_ring_tests(v2) (bnc#1012628).
- drm/amdgpu: disable GFX ring and disable PQ wptr in hw_fini
  (bnc#1012628).
- ARM: dts: dra71-evm: Correct evm_sd regulator max voltage
  (bnc#1012628).
- drm: omapdrm: dss: Move initialization code from component
  bind to probe (bnc#1012628).
- dmaengine: qcom: bam_dma: get num-channels and num-ees from dt
  (bnc#1012628).
- vfio-ccw: fence off transport mode (bnc#1012628).
- pinctrl: artpec6: dt: add missing pin group uart5nocts
  (bnc#1012628).
- pinctrl: devicetree: Fix dt_to_map_one_config handling of hogs
  (bnc#1012628).
- hwrng: stm32 - add reset during probe (bnc#1012628).
- watchdog: asm9260_wdt: fix error handling in asm9260_wdt_probe()
  (bnc#1012628).
- enic: enable rq before updating rq descriptors (bnc#1012628).
- dmaengine: rcar-dmac: Check the done lists in
  rcar_dmac_chan_get_residue() (bnc#1012628).
- powerpc/mm/slice: Fix hugepage allocation at hint address on
  8xx (bnc#1012628).
- powerpc/mm/slice: Enhance for supporting PPC32 (bnc#1012628).
- powerpc/mm/slice: create header files dedicated to slices
  (bnc#1012628).
- powerpc/mm/slice: Remove intermediate bitmap copy (bnc#1012628).
- ARM: dts: keystone-k2e-clocks: Fix missing unit address
  separator (bnc#1012628).
- dmaengine: pl330: fix a race condition in case of threaded irqs
  (bnc#1012628).
- block: null_blk: fix 'Invalid parameters' when loading module
  (bnc#1012628).
- tools: hv: fix compiler warnings about major/target_fname
  (bnc#1012628).
- drm/amdgpu: Clean sdma wptr register when only enable wptr
  polling (bnc#1012628).
- drm/bridge: sii902x: Retry status read after DDI I2C
  (bnc#1012628).
- phy: qcom-qmp: Fix phy pipe clock gating (bnc#1012628).
- ALSA: vmaster: Propagate slave error (bnc#1012628).
- phy: rockchip-emmc: retry calpad busy trimming (bnc#1012628).
- x86/devicetree: Fix device IRQ settings in DT (bnc#1012628).
- x86/devicetree: Initialize device tree before using it
  (bnc#1012628).
- gfs2: Fix fallocate chunk size (bnc#1012628).
- soc: qcom: wcnss_ctrl: Fix increment in NV upload (bnc#1012628).
- arm64: dts: qcom: Fix SPI5 config on MSM8996 (bnc#1012628).
- perf/x86/intel: Fix event update for auto-reload (bnc#1012628).
- perf/x86/intel: Fix large period handling on Broadwell CPUs
  (bnc#1012628).
- efi/arm*: Only register page tables when they exist
  (bnc#1012628).
- cdrom: do not call check_disk_change() inside cdrom_open()
  (bnc#1012628).
- perf/x86/intel: Properly save/restore the PMU state in the
  NMI handler (bnc#1012628).
- hwmon: (pmbus/adm1275) Accept negative page register values
  (bnc#1012628).
- hwmon: (pmbus/max8688) Accept negative page register values
  (bnc#1012628).
- drm/panel: simple: Fix the bus format for the Ontat panel
  (bnc#1012628).
- perf/core: Fix perf_output_read_group() (bnc#1012628).
- max17042: propagate of_node to power supply device
  (bnc#1012628).
- perf/core: Fix installing cgroup events on CPU (bnc#1012628).
- f2fs: fix to check extent cache in f2fs_drop_extent_tree
  (bnc#1012628).
- f2fs: fix to clear CP_TRIMMED_FLAG (bnc#1012628).
- f2fs: fix to set KEEP_SIZE bit in f2fs_zero_range (bnc#1012628).
- cxl: Check if PSL data-cache is available before issue flush
  request (bnc#1012628).
- f2fs: flush cp pack except cp pack 2 page at first
  (bnc#1012628).
- powerpc/powernv/npu: Fix deadlock in mmio_invalidate()
  (bnc#1012628).
- powerpc: Add missing prototype for arch_irq_work_raise()
  (bnc#1012628).
- drm/meson: Fix an un-handled error path in
  'meson_drv_bind_master()' (bnc#1012628).
- drm/meson: Fix some error handling paths in
  'meson_drv_bind_master()' (bnc#1012628).
- ipmi_ssif: Fix kernel panic at msg_done_handler (bnc#1012628).
- watchdog: aspeed: Fix translation of reset mode to ctrl register
  (bnc#1012628).
- watchdog: dw: RMW the control register (bnc#1012628).
- watchdog: sprd_wdt: Fix error handling in sprd_wdt_enable()
  (bnc#1012628).
- PCI: Restore config space on runtime resume despite being
  unbound (bnc#1012628).
- powerpc/vas: Fix cleanup when VAS is not configured
  (bnc#1012628).
- MIPS: ath79: Fix AR724X_PLL_REG_PCIE_CONFIG offset
  (bnc#1012628).
- net/smc: pay attention to MAX_ORDER for CQ entries
  (bnc#1012628).
- spi: bcm-qspi: fIX some error handling paths (bnc#1012628).
- regulator: gpio: Fix some error handling paths in
  'gpio_regulator_probe()' (bnc#1012628).
- ibmvnic: Fix reset return from closed state (bnc#1012628).
- coresight: Use %px to print pcsr instead of %p (bnc#1012628).
- drm/amdkfd: add missing include of mm.h (bnc#1012628).
- IB/core: Honor port_num while resolving GID for IB link layer
  (bnc#1012628).
- perf stat: Fix core dump when flag T is used (bnc#1012628).
- perf top: Fix top.call-graph config option reading
  (bnc#1012628).
- KVM: lapic: stop advertising DIRECTED_EOI when in-kernel IOAPIC
  is in use (bnc#1012628).
- i2c: mv64xxx: Apply errata delay only in standard mode
  (bnc#1012628).
- cxgb4: Fix queue free path of ULD drivers (bnc#1012628).
- ACPICA: acpi: acpica: fix acpi operand cache leak in nseval.c
  (bnc#1012628).
- bcache: stop dc->writeback_rate_update properly (bnc#1012628).
- ACPICA: Fix memory leak on unusual memory leak (bnc#1012628).
- ACPICA: Events: add a return on failure from
  acpi_hw_register_read (bnc#1012628).
- bcache: fix cached_dev->count usage for bch_cache_set_error()
  (bnc#1012628).
- dt-bindings: add device tree binding for Allwinner H6 main CCU
  (bnc#1012628).
- remoteproc: imx_rproc: Fix an error handling path in
  'imx_rproc_probe()' (bnc#1012628).
- bcache: quit dc->writeback_thread when BCACHE_DEV_DETACHING
  is set (bnc#1012628).
- zorro: Set up z->dev.dma_mask for the DMA API (bnc#1012628).
- IB/mlx5: Set the default active rate and width to QDR and 4X
  (bnc#1012628).
- firmware: fix checking for return values for fw_add_devm_name()
  (bnc#1012628).
- cpufreq: cppc_cpufreq: Fix cppc_cpufreq_init() failure path
  (bnc#1012628).
- iommu/mediatek: Fix protect memory setting (bnc#1012628).
- drm/vmwgfx: Unpin the screen object backup buffer when not used
  (bnc#1012628).
- ext4: don't complain about incorrect features when probing
  (bnc#1012628).
- ima: clear IMA_HASH (bnc#1012628).
- arm: dts: socfpga: fix GIC PPI warning (bnc#1012628).
- virtio-net: Fix operstate for virtio when no VIRTIO_NET_F_STATUS
  (bnc#1012628).
- gfs2: Check for the end of metadata in punch_hole (bnc#1012628).
- watchdog: aspeed: Allow configuring for alternate boot
  (bnc#1012628).
- ima: Fallback to the builtin hash algorithm (bnc#1012628).
- ima: Fix Kconfig to select TPM 2.0 CRB interface (bnc#1012628).
- Update config files (TCG_CRB=y).
- hv_netvsc: Fix the return status in RX path (bnc#1012628).
- cxgb4: Setup FW queues before registering netdev (bnc#1012628).
- btrfs: fix null pointer deref when target device is missing
  (bnc#1012628).
- ath9k: fix crash in spectral scan (bnc#1012628).
- nvme-pci: disable APST for Samsung NVMe SSD 960 EVO + ASUS
  PRIME Z370-A (bnc#1012628).
- nvme_fc: fix abort race on teardown with lld reject
  (bnc#1012628).
- ath10k: Fix kernel panic while using worker
  (ath10k_sta_rc_update_wk) (bnc#1012628).
- net: qualcomm: rmnet: check for null ep to avoid null pointer
  dereference (bnc#1012628).
- net: hns3: fix for returning wrong value problem in
  hns3_get_rss_key_size (bnc#1012628).
- net: hns3: fix for returning wrong value problem in
  hns3_get_rss_indir_size (bnc#1012628).
- net: hns3: fix for the wrong shift problem in
  hns3_set_txbd_baseinfo (bnc#1012628).
- watchdog: davinci_wdt: fix error handling in davinci_wdt_probe()
  (bnc#1012628).
- net/mlx5: Protect from command bit overflow (bnc#1012628).
- i40e: hold the RTNL lock while changing interrupt schemes
  (bnc#1012628).
- selftests: Print the test we're running to /dev/kmsg
  (bnc#1012628).
- tools/thermal: tmon: fix for segfault (bnc#1012628).
- rsi: fix kernel panic observed on 64bit machine (bnc#1012628).
- powerpc/perf: Fix kernel address leak via sampling registers
  (bnc#1012628).
- powerpc/perf: Prevent kernel address leak to userspace via
  BHRB buffer (bnc#1012628).
- mt76x2: fix warning in ieee80211_get_key_rx_seq() (bnc#1012628).
- mt76x2: fix possible NULL pointer dereferencing in mt76x2_tx()
  (bnc#1012628).
- hwmon: (nct6775) Fix writing pwmX_mode (bnc#1012628).
- perf mmap: Fix accessing unmapped mmap in perf_mmap__read_done()
  (bnc#1012628).
- parisc/pci: Switch LBA PCI bus from Hard Fail to Soft Fail mode
  (bnc#1012628).
- net/mlx5e: Move all TX timeout logic to be under state lock
  (bnc#1012628).
- iwlwifi: mvm: take RCU lock before dereferencing (bnc#1012628).
- iwlwifi: mvm: check if mac80211_queue is valid in
  iwl_mvm_disable_txq (bnc#1012628).
- m68k: set dma and coherent masks for platform FEC ethernets
  (bnc#1012628).
- intel_th: Use correct method of finding hub (bnc#1012628).
- iommu/amd: Take into account that alloc_dev_data() may return
  NULL (bnc#1012628).
- ath10k: advertize beacon_int_min_gcd (bnc#1012628).
- ieee802154: ca8210: fix uninitialised data read (bnc#1012628).
- powerpc/mpic: Check if cpu_possible() in mpic_physmask()
  (bnc#1012628).
- ACPI: acpi_pad: Fix memory leak in power saving threads
  (bnc#1012628).
- drivers: macintosh: rack-meter: really fix bogus memsets
  (bnc#1012628).
- xen/acpi: off by one in read_acpi_id() (bnc#1012628).
- rxrpc: Don't treat call aborts as conn aborts (bnc#1012628).
- rxrpc: Fix Tx ring annotation after initial Tx failure
  (bnc#1012628).
- rxrpc: Fix resend event time calculation (bnc#1012628).
- btrfs: qgroup: Fix root item corruption when multiple same
  source snapshots are created with quota enabled (bnc#1012628).
- btrfs: fix lockdep splat in btrfs_alloc_subvolume_writers
  (bnc#1012628).
- Btrfs: fix copy_items() return value when logging an inode
  (bnc#1012628).
- btrfs: tests/qgroup: Fix wrong tree backref level (bnc#1012628).
- powerpc/64s: sreset panic if there is no debugger or crash
  dump handlers (bnc#1012628).
- bnxt_en: fix clear flags in ethtool reset handling
  (bnc#1012628).
- net: bgmac: Correctly annotate register space (bnc#1012628).
- net: bgmac: Fix endian access in bgmac_dma_tx_ring_free()
  (bnc#1012628).
- platform/x86: dell-smbios: Fix memory leaks in
  build_tokens_sysfs() (bnc#1012628).
- riscv/spinlock: Strengthen implementations with fences
  (bnc#1012628).
- sparc64: Make atomic_xchg() an inline function rather than a
  macro (bnc#1012628).
- dmaengine: rcar-dmac: Fix too early/late system suspend/resume
  callbacks (bnc#1012628).
- fscache: Fix hanging wait on page discarded by writeback
  (bnc#1012628).
- lan78xx: Connect phy early (bnc#1012628).
- KVM: VMX: raise internal error for exception during invalid
  protected mode state (bnc#1012628).
- x86/mm: Fix bogus warning during EFI bootup, use boot_cpu_has()
  instead of this_cpu_has() in build_cr3_noflush() (bnc#1012628).
- sched/rt: Fix rq->clock_update_flags < RQCF_ACT_SKIP warning
  (bnc#1012628).
- powerpc/64s/idle: Fix restore of AMOR on POWER9 after deep sleep
  (bnc#1012628).
- ocfs2/dlm: don't handle migrate lockres if already in shutdown
  (bnc#1012628).
- IB/rxe: Fix for oops in rxe_register_device on ppc64le arch
  (bnc#1012628).
- btrfs: Fix possible softlock on single core machines
  (bnc#1012628).
- Btrfs: fix NULL pointer dereference in log_dir_items
  (bnc#1012628).
- Btrfs: bail out on error during replay_dir_deletes
  (bnc#1012628).
- mm: thp: fix potential clearing to referenced flag in
  page_idle_clear_pte_refs_one() (bnc#1012628).
- mm: fix races between address_space dereference and free in
  page_evicatable (bnc#1012628).
- mm/ksm: fix interaction with THP (bnc#1012628).
- genirq/affinity: Don't return with empty affinity masks on error
  (bnc#1012628).
- ibmvnic: Zero used TX descriptor counter on reset (bnc#1012628).
- dp83640: Ensure against premature access to PHY registers
  after reset (bnc#1012628).
- perf clang: Add support for recent clang versions (bnc#1012628).
- perf tools: Fix perf builds with clang support (bnc#1012628).
- powerpc/fscr: Enable interrupts earlier before calling
  get_user() (bnc#1012628).
- cpufreq: CPPC: Initialize shared perf capabilities of CPUs
  (bnc#1012628).
- Force log to disk before reading the AGF during a fstrim
  (bnc#1012628).
- sr: get/drop reference to device in revalidate and check_events
  (bnc#1012628).
- z3fold: fix memory leak (bnc#1012628).
- swap: divide-by-zero when zero length swap file on ssd
  (bnc#1012628).
- kasan, slub: fix handling of kasan_slab_free hook (bnc#1012628).
- kasan: fix invalid-free test crashing the kernel (bnc#1012628).
- fs/proc/proc_sysctl.c: fix potential page fault while
  unregistering sysctl table (bnc#1012628).
- nvme: expand nvmf_check_if_ready checks (bnc#1012628).
- bnxt_en: Ignore src port field in decap filter nodes
  (bnc#1012628).
- x86/mm: Do not forbid _PAGE_RW before init for __ro_after_init
  (bnc#1012628).
- x86/pgtable: Don't set huge PUD/PMD on non-leaf entries
  (bnc#1012628).
- Btrfs: fix loss of prealloc extents past i_size after fsync
  log replay (bnc#1012628).
- Btrfs: clean up resources during umount after trans is aborted
  (bnc#1012628).
- nvme: don't send keep-alives to the discovery controller
  (bnc#1012628).
- firmware: dmi_scan: Fix UUID length safety check (bnc#1012628).
- sh: fix debug trap failure to process signals before return
  to user (bnc#1012628).
- ARM: dts: sun4i: Fix incorrect clocks for displays
  (bnc#1012628).
- x86/kvm: fix LAPIC timer drift when guest uses periodic mode
  (bnc#1012628).
- kvm: x86: IA32_ARCH_CAPABILITIES is always supported
  (bnc#1012628).
- KVM: x86: Update cpuid properly when CR4.OSXAVE or CR4.PKE is
  changed (bnc#1012628).
- KVM: s390: vsie: fix < 8k check for the itdba (bnc#1012628).
- KVM/VMX: Expose SSBD properly to guests (bnc#1012628).
- PM / core: Fix direct_complete handling for devices with no
  callbacks (bnc#1012628).
- kernel/sys.c: fix potential Spectre v1 issue (bnc#1012628).
- kasan: fix memory hotplug during boot (bnc#1012628).
- kasan: free allocated shadow memory on MEM_CANCEL_ONLINE
  (bnc#1012628).
- mm/kasan: don't vfree() nonexistent vm_area (bnc#1012628).
- ipc/shm: fix shmat() nil address after round-down when remapping
  (bnc#1012628).
- Revert "ipc/shm: Fix shmat mmap nil-page protection"
  (bnc#1012628).
- idr: fix invalid ptr dereference on item delete (bnc#1012628).
- bcma: fix buffer size caused crash in bcma_core_mips_print_irq()
  (bnc#1012628).
- sr: pass down correctly sized SCSI sense buffer (bnc#1012628).
- IB/umem: Use the correct mm during ib_umem_release
  (bnc#1012628).
- IB/hfi1: Use after free race condition in send context error
  path (bnc#1012628).
- powerpc/64s: Clear PCR on boot (bnc#1012628).
- arm64: export tishift functions to modules (bnc#1012628).
- arm64: lse: Add early clobbers to some input/output asm operands
  (bnc#1012628).
- drm/vmwgfx: Fix 32-bit VMW_PORT_HB_[IN|OUT] macros
  (bnc#1012628).
- xen-swiotlb: fix the check condition for
  xen_swiotlb_free_coherent (bnc#1012628).
- libata: blacklist Micron 500IT SSD with MU01 firmware
  (bnc#1012628).
- libata: Blacklist some Sandisk SSDs for NCQ (bnc#1012628).
- ahci: Add PCI ID for Cannon Lake PCH-LP AHCI (bnc#1012628).
- mmc: sdhci-iproc: add SDHCI_QUIRK2_HOST_OFF_CARD_ON for cygnus
  (bnc#1012628).
- mmc: sdhci-iproc: fix 32bit writes for TRANSFER_MODE register
  (bnc#1012628).
- mmc: sdhci-iproc: remove hard coded mmc cap 1.8v (bnc#1012628).
- mmc: block: propagate correct returned value in mmc_rpmb_ioctl
  (bnc#1012628).
- do d_instantiate/unlock_new_inode combinations safely
  (bnc#1012628).
- ALSA: timer: Fix pause event notification (bnc#1012628).
- Btrfs: fix error handling in btrfs_truncate() (bnc#1012628).
- aio: fix io_destroy(2) vs. lookup_ioctx() race (bnc#1012628).
- fs: don't scan the inode cache before SB_BORN is set
  (bnc#1012628).
- fix breakage caused by d_find_alias() semantics change
  (bnc#1012628).
- affs_lookup(): close a race with affs_remove_link()
  (bnc#1012628).
- KVM: Fix spelling mistake: "cop_unsuable" -> "cop_unusable"
  (bnc#1012628).
- MIPS: Fix ptrace(2) PTRACE_PEEKUSR and PTRACE_POKEUSR accesses
  to o32 FGRs (bnc#1012628).
- MIPS: ptrace: Expose FIR register through FP regset
  (bnc#1012628).
- MIPS: Fix build with DEBUG_ZBOOT and MACH_JZ4770 (bnc#1012628).
- MIPS: c-r4k: Fix data corruption related to cache coherence
  (bnc#1012628).
- MIPS: xilfpga: Actually include FDT in fitImage (bnc#1012628).
- MIPS: xilfpga: Stop generating useless dtb.o (bnc#1012628).
- commit e33cb3e

-------------------------------------------------------------------
Mon May 28 07:31:05 CEST 2018 - mkubecek@suse.cz

- Update to 4.17-rc7
- Eliminated 1 patch
- Config changes:
  - reenable SSB_DRIVER_PCICORE and dependencies after revert of
    commit 882164a4a928
- commit c78299c

-------------------------------------------------------------------
Fri May 25 20:40:19 CEST 2018 - jslaby@suse.cz

- Update config files.
- commit 39c7522

-------------------------------------------------------------------
Fri May 25 20:21:17 CEST 2018 - jslaby@suse.cz

- Linux 4.16.12 (bnc#1012628).
- rtc: goldfish: Add missing MODULE_LICENSE (bnc#1012628).
- rtc: rp5c01: fix possible race condition (bnc#1012628).
- rtc: tx4939: avoid unintended sign extension on a 24 bit shift
  (bnc#1012628).
- rtc: m41t80: fix race conditions (bnc#1012628).
- rtc: rk808: fix possible race condition (bnc#1012628).
- rtc: hctosys: Ensure system time doesn't overflow time_t
  (bnc#1012628).
- rtc: snvs: Fix usage of snvs_rtc_enable (bnc#1012628).
- serial: altera: ensure port->regshift is honored consistently
  (bnc#1012628).
- serial: 8250: Don't service RX FIFO if interrupts are disabled
  (bnc#1012628).
- serial: arc_uart: Fix out-of-bounds access through DT alias
  (bnc#1012628).
- serial: fsl_lpuart: Fix out-of-bounds access through DT alias
  (bnc#1012628).
- serial: imx: Fix out-of-bounds access through serial port index
  (bnc#1012628).
- serial: mxs-auart: Fix out-of-bounds access through serial
  port index (bnc#1012628).
- serial: samsung: Fix out-of-bounds access through serial port
  index (bnc#1012628).
- serial: sh-sci: Fix out-of-bounds access through DT alias
  (bnc#1012628).
- serial: xuartps: Fix out-of-bounds access through DT alias
  (bnc#1012628).
- serial: mvebu-uart: fix tx lost characters (bnc#1012628).
- media: cx25821: prevent out-of-bounds read on array card
  (bnc#1012628).
- media: vivid: fix incorrect capabilities for radio
  (bnc#1012628).
- media: vb2: Fix videobuf2 to map correct area (bnc#1012628).
- media: i2c: adv748x: fix HDMI field heights (bnc#1012628).
- media: v4l: vsp1: Fix display stalls when requesting too many
  inputs (bnc#1012628).
- media: em28xx: Add Hauppauge SoloHD/DualHD bulk models
  (bnc#1012628).
- media: lgdt3306a: Fix a double kfree on i2c device remove
  (bnc#1012628).
- media: s3c-camif: fix out-of-bounds array access (bnc#1012628).
- media: cx23885: Set subdev host data to clk_freq pointer
  (bnc#1012628).
- media: cx23885: Override 888 ImpactVCBe crystal frequency
  (bnc#1012628).
- media: ov5645: add missing of_node_put() in error path
  (bnc#1012628).
- clk: meson: axg: add the fractional part of the fixed_pll
  (bnc#1012628).
- clk: meson: axg: fix the od shift of the sys_pll (bnc#1012628).
- clk: samsung: exynos3250: Fix PLL rates (bnc#1012628).
- clk: samsung: exynos5250: Fix PLL rates (bnc#1012628).
- clk: samsung: exynos5433: Fix PLL rates (bnc#1012628).
- clk: samsung: exynos5260: Fix PLL rates (bnc#1012628).
- clk: samsung: exynos7: Fix PLL rates (bnc#1012628).
- clk: samsung: s3c2410: Fix PLL rates (bnc#1012628).
- clk: rockchip: Prevent calculating mmc phase if clock rate is
  zero (bnc#1012628).
- clk: tegra: Fix pll_u rate configuration (bnc#1012628).
- clk: hisilicon: mark wdt_mux_p[] as const (bnc#1012628).
- clk: Don't show the incorrect clock phase (bnc#1012628).
- clk: rockchip: Fix wrong parent for SDMMC phase clock for rk3228
  (bnc#1012628).
- ASoC: samsung: i2s: Ensure the RCLK rate is properly determined
  (bnc#1012628).
- ASoC: topology: create TLV data for dapm widgets (bnc#1012628).
- ASoC: samsung: odroid: Fix 32000 sample rate handling
  (bnc#1012628).
- ASoC: rockchip: rk3288-hdmi-analog: Select needed codecs
  (bnc#1012628).
- scsi: lpfc: Fix frequency of Release WQE CQEs (bnc#1012628).
- scsi: lpfc: Fix IO failure during hba reset testing with nvme io
  (bnc#1012628).
- scsi: lpfc: Fix soft lockup in lpfc worker thread during LIP
  testing (bnc#1012628).
- scsi: lpfc: Fix nonrecovery of NVME controller after cable swap
  (bnc#1012628).
- scsi: lpfc: Fix issue_lip if link is disabled (bnc#1012628).
- scsi: mvsas: fix wrong endianness of sgpio api (bnc#1012628).
- scsi: core: Make SCSI Status CONDITION MET equivalent to GOOD
  (bnc#1012628).
- scsi: lpfc: Fix NVME Initiator FirstBurst (bnc#1012628).
- scsi: devinfo: add HP DISK-SUBSYSTEM device, for HP XP arrays
  (bnc#1012628).
- scsi: aacraid: Insure command thread is not recursively stopped
  (bnc#1012628).
- crypto: inside-secure - fix the invalidation step during
  cra_exit (bnc#1012628).
- crypto: sunxi-ss - Add MODULE_ALIAS to sun4i-ss (bnc#1012628).
- crypto: inside-secure - do not overwrite the threshold value
  (bnc#1012628).
- crypto: inside-secure - fix the extra cache computation
  (bnc#1012628).
- crypto: inside-secure - fix the cache_len computation
  (bnc#1012628).
- crypto: inside-secure - do not process request if no command
  was issued (bnc#1012628).
- crypto: ccp - don't disable interrupts while setting up debugfs
  (bnc#1012628).
- crypto: atmel-aes - fix the keys zeroing on errors
  (bnc#1012628).
- crypto: inside-secure - wait for the request to complete if
  in the backlog (bnc#1012628).
- crypto: inside-secure - move the digest to the request context
  (bnc#1012628).
- staging: lustre: lmv: correctly iput lmo_root (bnc#1012628).
- staging: ks7010: Use constants from ieee80211_eid instead of
  literal ints (bnc#1012628).
- staging: rtl8192u: return -ENOMEM on failed allocation of
  priv->oldaddr (bnc#1012628).
- staging: fsl-dpaa2/eth: Fix incorrect casts (bnc#1012628).
- staging: lustre: fix bug in osc_enter_cache_try (bnc#1012628).
- staging: fsl-dpaa2/eth: Fix incorrect kfree (bnc#1012628).
- staging: bcm2835-audio: Release resources on module_exit()
  (bnc#1012628).
- x86/kexec: Avoid double free_page() upon do_kexec_load()
  failure (bnc#1012628).
- hfsplus: stop workqueue when fill_super() failed (bnc#1012628).
- cfg80211: limit wiphy names to 128 bytes (bnc#1012628).
- loop: fix LOOP_GET_STATUS lock imbalance (bnc#1012628).
- loop: don't call into filesystem while holding lo_ctl_mutex
  (bnc#1012628).
- xhci: Show what USB release number the xHC supports from
  protocol capablity (bnc#1012628).
- Bluetooth: btusb: Add support for Intel Bluetooth device 22560
  [8087:0026] (bnc#1012628).
- Bluetooth: btusb: Add device ID for RTL8822BE (bnc#1012628).
- media: em28xx: USB bulk packet size fix (bnc#1012628).
- media: lgdt3306a: Fix module count mismatch on usb unplug
  (bnc#1012628).
- usb: gadget: composite: fix incorrect handling of OS desc
  requests (bnc#1012628).
- usb: gadget: udc: change comparison to bitshift when dealing
  with a mask (bnc#1012628).
- usbip: Correct maximum value of CONFIG_USBIP_VHCI_HC_PORTS
  (bnc#1012628).
- usb: gadget: ffs: Execute copy_to_user() with USER_DS set
  (bnc#1012628).
- usb: gadget: ffs: Let setup() return USB_GADGET_DELAYED_STATUS
  (bnc#1012628).
- usb: dwc2: host: Fix transaction errors in host mode
  (bnc#1012628).
- usb: dwc2: hcd: Fix host channel halt flow (bnc#1012628).
- usb: dwc2: Fix interval type issue (bnc#1012628).
- xhci: zero usb device slot_id member when disabling and freeing
  a xhci slot (bnc#1012628).
- usb: dwc3: Makefile: fix link error on randconfig (bnc#1012628).
- usb: dwc3: Update DWC_usb31 GTXFIFOSIZ reg fields (bnc#1012628).
- usb: dwc3: Add SoftReset PHY synchonization delay (bnc#1012628).
- ALSA: usb-audio: Add native DSD support for Luxman DA-06
  (bnc#1012628).
- Bluetooth: btusb: Add USB ID 7392:a611 for Edimax EW-7611ULB
  (bnc#1012628).
- scsi: zfcp: fix infinite iteration on ERP ready list
  (bnc#1012628).
- scsi: sg: allocate with __GFP_ZERO in sg_build_indirect()
  (bnc#1012628).
- s390: use expoline thunks in the BPF JIT (bnc#1012628).
- s390: extend expoline to BC instructions (bnc#1012628).
- s390: move spectre sysfs attribute code (bnc#1012628).
- s390/kernel: use expoline for indirect branches (bnc#1012628).
- s390/ftrace: use expoline for indirect branches (bnc#1012628).
- s390/lib: use expoline for indirect branches (bnc#1012628).
- s390/crc32-vx: use expoline for indirect branches (bnc#1012628).
- s390: move expoline assembler macros to a header (bnc#1012628).
- s390: correct module section names for expoline code revert
  (bnc#1012628).
- s390: correct nospec auto detection init order (bnc#1012628).
- s390: add assembler macros for CPU alternatives (bnc#1012628).
- s390: add sysfs attributes for spectre (bnc#1012628).
- s390: report spectre mitigation via syslog (bnc#1012628).
- s390: add automatic detection of the spectre defense
  (bnc#1012628).
- s390: move nobp parameter functions to nospec-branch.c
  (bnc#1012628).
- powerpc/64s: Add support for a store forwarding barrier at
  kernel entry/exit (bnc#1012628).
- powerpc: Move default security feature flags (bnc#1012628).
- powerpc/pseries: Fix clearing of security feature flags
  (bnc#1012628).
- powerpc/64s: Wire up cpu_show_spectre_v2() (bnc#1012628).
- powerpc/64s: Wire up cpu_show_spectre_v1() (bnc#1012628).
- powerpc/pseries: Use the security flags in
  pseries_setup_rfi_flush() (bnc#1012628).
- powerpc/powernv: Use the security flags in pnv_setup_rfi_flush()
  (bnc#1012628).
- powerpc/64s: Enhance the information in cpu_show_meltdown()
  (bnc#1012628).
- powerpc/64s: Move cpu_show_meltdown() (bnc#1012628).
- powerpc/powernv: Set or clear security feature flags
  (bnc#1012628).
- powerpc/pseries: Set or clear security feature flags
  (bnc#1012628).
- powerpc/pseries: Add new H_GET_CPU_CHARACTERISTICS flags
  (bnc#1012628).
- powerpc: Add security feature flags for Spectre/Meltdown
  (bnc#1012628).
- powerpc/rfi-flush: Always enable fallback flush on pseries
  (bnc#1012628).
- ext2: fix a block leak (bnc#1012628).
- sparc: vio: use put_device() instead of kfree() (bnc#1012628).
- qed: Fix LL2 race during connection terminate (bnc#1012628).
- qed: Fix possibility of list corruption during rmmod flows
  (bnc#1012628).
- qed: LL2 flush isles when connection is closed (bnc#1012628).
- net: ip6_gre: fix tunnel metadata device sharing (bnc#1012628).
- net: ip6_gre: Fix ip6erspan hlen calculation (bnc#1012628).
- net: ip6_gre: Split up ip6gre_changelink() (bnc#1012628).
- net: ip6_gre: Split up ip6gre_newlink() (bnc#1012628).
- net: ip6_gre: Split up ip6gre_tnl_change() (bnc#1012628).
- net: ip6_gre: Split up ip6gre_tnl_link_config() (bnc#1012628).
- net: ip6_gre: Fix headroom request in ip6erspan_tunnel_xmit()
  (bnc#1012628).
- net: ip6_gre: Request headroom in __gre6_xmit() (bnc#1012628).
- vmxnet3: use DMA memory barriers where required (bnc#1012628).
- vmxnet3: set the DMA mask before the first DMA map operation
  (bnc#1012628).
- cxgb4: fix offset in collecting TX rate limit info
  (bnc#1012628).
- 3c59x: convert to generic DMA API (bnc#1012628).
- net: dsa: bcm_sf2: Fix IPv6 rule half deletion (bnc#1012628).
- net: dsa: bcm_sf2: Fix IPv6 rules and chain ID (bnc#1012628).
- net: dsa: Do not register devlink for unused ports
  (bnc#1012628).
- net: dsa: bcm_sf2: Fix RX_CLS_LOC_ANY overwrite for last rule
  (bnc#1012628).
- cxgb4: Correct ntuple mask validation for hash filters
  (bnc#1012628).
- tuntap: fix use after free during release (bnc#1012628).
- tun: fix use after free for ptr_ring (bnc#1012628).
- tcp: purge write queue in tcp_connect_init() (bnc#1012628).
- sock_diag: fix use-after-free read in __sk_free (bnc#1012628).
- packet: in packet_snd start writing at link layer allocation
  (bnc#1012628).
- net: test tailroom before appending to linear skb (bnc#1012628).
- net/smc: check for missing nlattrs in SMC_PNETID messages
  (bnc#1012628).
- net: sched: red: avoid hashing NULL child (bnc#1012628).
- net/sched: fix refcnt leak in the error path of tcf_vlan_init()
  (bnc#1012628).
- net/mlx4_core: Fix error handling in mlx4_init_port_info
  (bnc#1012628).
- net: Fix a bug in removing queues from XPS map (bnc#1012628).
- net/mlx5: Fix build break when CONFIG_SMP=n (bnc#1012628).
- commit 9e125b1

-------------------------------------------------------------------
Thu May 24 17:24:46 CEST 2018 - tiwai@suse.de

- Bluetooth: Apply QCA Rome patches for some ATH3012 models
  (bsc#1082504).
- commit e2f793c

-------------------------------------------------------------------
Wed May 23 18:14:54 CEST 2018 - msuchanek@suse.de

- mkspec: only build docs for default variant kernel.
- commit 045f5ac

-------------------------------------------------------------------
Tue May 22 21:50:37 CEST 2018 - jslaby@suse.cz

- Linux 4.16.11 (bnc#1012628).
- xhci: Fix USB3 NULL pointer dereference at logical disconnect
  (bnc#1012628).
- usbip: usbip_host: refine probe and disconnect debug msgs to
  be useful (bnc#1012628).
- usbip: usbip_host: delete device from busid_table after rebind
  (bnc#1012628).
- usbip: usbip_host: run rebind from exit when module is removed
  (bnc#1012628).
- usbip: usbip_host: fix NULL-ptr deref and use-after-free errors
  (bnc#1012628).
- usbip: usbip_host: fix bad unlock balance during stub_probe()
  (bnc#1012628).
- ALSA: usb: mixer: volume quirk for CM102-A+/102S+ (bnc#1012628).
- ALSA: hda/realtek - Clevo P950ER ALC1220 Fixup (bnc#1012628).
- ALSA: hda: Add Lenovo C50 All in one to the power_save blacklist
  (bnc#1012628).
- ALSA: control: fix a redundant-copy issue (bnc#1012628).
- spi: pxa2xx: Allow 64-bit DMA (bnc#1012628).
- spi: bcm-qspi: Avoid setting MSPI_CDRAM_PCS for spi-nor master
  (bnc#1012628).
- spi: bcm-qspi: Always read and set BSPI_MAST_N_BOOT_CTRL
  (bnc#1012628).
- KVM: vmx: update sec exec controls for UMIP iff emulating UMIP
  (bnc#1012628).
- KVM: arm/arm64: Properly protect VGIC locks from IRQs
  (bnc#1012628).
- KVM: arm/arm64: VGIC/ITS: Promote irq_lock() in update_affinity
  (bnc#1012628).
- KVM: arm/arm64: VGIC/ITS save/restore: protect kvm_read_guest()
  calls (bnc#1012628).
- KVM: arm/arm64: VGIC/ITS: protect kvm_read_guest() calls with
  SRCU lock (bnc#1012628).
- hwmon: (k10temp) Fix reading critical temperature register
  (bnc#1012628).
- hwmon: (k10temp) Use API function to access System Management
  Network (bnc#1012628).
- vfio: ccw: fix cleanup if cp_prefetch fails (bnc#1012628).
- tracing/x86/xen: Remove zero data size trace events
  trace_xen_mmu_flush_tlb{_all} (bnc#1012628).
- vsprintf: Replace memory barrier with static_key for
  random_ptr_key update (bnc#1012628).
- x86/amd_nb: Add support for Raven Ridge CPUs (bnc#1012628).
- tee: shm: fix use-after-free via temporarily dropped reference
  (bnc#1012628).
- netfilter: nf_tables: free set name in error path (bnc#1012628).
- netfilter: nf_tables: can't fail after linking rule into active
  rule list (bnc#1012628).
- netfilter: nf_tables: nf_tables_obj_lookup_byhandle() can be
  static (bnc#1012628).
- ARM64: dts: marvell: armada-cp110: Add clocks for the xmdio node
  (bnc#1012628).
- ARM64: dts: marvell: armada-cp110: Add mg_core_clk for ethernet
  node (bnc#1012628).
- i2c: designware: fix poll-after-enable regression (bnc#1012628).
- mtd: rawnand: marvell: Fix read logic for layouts with ->nchunks
  > 2 (bnc#1012628).
- powerpc/powernv: Fix NVRAM sleep in invalid context when
  crashing (bnc#1012628).
- drm: Match sysfs name in link removal to link creation
  (bnc#1012628).
- cpufreq: armada-37xx: driver relies on cpufreq-dt (bnc#1012628).
- lib/test_bitmap.c: fix bitmap optimisation tests to report
  errors correctly (bnc#1012628).
- radix tree: fix multi-order iteration race (bnc#1012628).
- mm: don't allow deferred pages with NEED_PER_CPU_KM
  (bnc#1012628).
- drm/i915/gen9: Add WaClearHIZ_WM_CHICKEN3 for bxt and glk
  (bnc#1012628).
- s390/qdio: fix access to uninitialized qdio_q fields
  (bnc#1012628).
- s390/cpum_sf: ensure sample frequency of perf event attributes
  is non-zero (bnc#1012628).
- s390/qdio: don't release memory in qdio_setup_irq()
  (bnc#1012628).
- s390: remove indirect branch from do_softirq_own_stack
  (bnc#1012628).
- bcache: return 0 from bch_debug_init() if CONFIG_DEBUG_FS=n
  (bnc#1012628).
- x86/pkeys: Override pkey when moving away from PROT_EXEC
  (bnc#1012628).
- x86/pkeys: Do not special case protection key 0 (bnc#1012628).
- efi: Avoid potential crashes, fix the 'struct
  efi_pci_io_protocol_32' definition for mixed mode (bnc#1012628).
- ARM: 8771/1: kprobes: Prohibit kprobes on do_undefinstr
  (bnc#1012628).
- x86/apic/x2apic: Initialize cluster ID properly (bnc#1012628).
- x86/mm: Drop TS_COMPAT on 64-bit exec() syscall (bnc#1012628).
- tick/broadcast: Use for_each_cpu() specially on UP kernels
  (bnc#1012628).
- ARM: 8769/1: kprobes: Fix to use get_kprobe_ctlblk after
  irq-disabed (bnc#1012628).
- ARM: 8770/1: kprobes: Prohibit probing on optimized_callback
  (bnc#1012628).
- ARM: 8772/1: kprobes: Prohibit kprobes on get_user functions
  (bnc#1012628).
- Btrfs: fix xattr loss after power failure (bnc#1012628).
- Btrfs: send, fix invalid access to commit roots due to
  concurrent snapshotting (bnc#1012628).
- btrfs: property: Set incompat flag if lzo/zstd compression is
  set (bnc#1012628).
- btrfs: fix crash when trying to resume balance without the
  resume flag (bnc#1012628).
- btrfs: Split btrfs_del_delalloc_inode into 2 functions
  (bnc#1012628).
- btrfs: Fix delalloc inodes invalidation during transaction abort
  (bnc#1012628).
- btrfs: fix reading stale metadata blocks after degraded raid1
  mounts (bnc#1012628).
- x86/nospec: Simplify alternative_msr_write() (bnc#1012628).
- x86/bugs: Concentrate bug detection into a separate function
  (bnc#1012628).
- x86/bugs: Concentrate bug reporting into a separate function
  (bnc#1012628).
- x86/bugs: Read SPEC_CTRL MSR during boot and re-use reserved
  bits (bnc#1012628).
- x86/bugs, KVM: Support the combination of guest and host IBRS
  (bnc#1012628).
- x86/bugs: Expose /sys/../spec_store_bypass (bnc#1012628).
- x86/cpufeatures: Add X86_FEATURE_RDS (bnc#1012628).
- x86/bugs: Provide boot parameters for the
  spec_store_bypass_disable mitigation (bnc#1012628).
- x86/bugs/intel: Set proper CPU features and setup RDS
  (bnc#1012628).
- x86/bugs: Whitelist allowed SPEC_CTRL MSR values (bnc#1012628).
- x86/bugs/AMD: Add support to disable RDS on Fam[15,16,17]h if
  requested (bnc#1012628).
- x86/KVM/VMX: Expose SPEC_CTRL Bit(2) to the guest (bnc#1012628).
- x86/speculation: Create spec-ctrl.h to avoid include hell
  (bnc#1012628).
- prctl: Add speculation control prctls (bnc#1012628).
- x86/process: Allow runtime control of Speculative Store Bypass
  (bnc#1012628).
- x86/speculation: Add prctl for Speculative Store Bypass
  mitigation (bnc#1012628).
- nospec: Allow getting/setting on non-current task (bnc#1012628).
- proc: Provide details on speculation flaw mitigations
  (bnc#1012628).
- seccomp: Enable speculation flaw mitigations (bnc#1012628).
- x86/bugs: Make boot modes __ro_after_init (bnc#1012628).
- prctl: Add force disable speculation (bnc#1012628).
- seccomp: Use PR_SPEC_FORCE_DISABLE (bnc#1012628).
- seccomp: Add filter flag to opt-out of SSB mitigation
  (bnc#1012628).
- seccomp: Move speculation migitation control to arch code
  (bnc#1012628).
- x86/speculation: Make "seccomp" the default mode for Speculative
  Store Bypass (bnc#1012628).
- x86/bugs: Rename _RDS to _SSBD (bnc#1012628).
- proc: Use underscores for SSBD in 'status' (bnc#1012628).
- Documentation/spec_ctrl: Do some minor cleanups (bnc#1012628).
- x86/bugs: Fix __ssb_select_mitigation() return type
  (bnc#1012628).
- x86/bugs: Make cpu_show_common() static (bnc#1012628).
- x86/bugs: Fix the parameters alignment and missing void
  (bnc#1012628).
- x86/cpu: Make alternative_msr_write work for 32-bit code
  (bnc#1012628).
- KVM: SVM: Move spec control call after restore of GS
  (bnc#1012628).
- x86/speculation: Use synthetic bits for IBRS/IBPB/STIBP
  (bnc#1012628).
- x86/cpufeatures: Disentangle MSR_SPEC_CTRL enumeration from IBRS
  (bnc#1012628).
- x86/cpufeatures: Disentangle SSBD enumeration (bnc#1012628).
- x86/cpufeatures: Add FEATURE_ZEN (bnc#1012628).
- x86/speculation: Handle HT correctly on AMD (bnc#1012628).
- x86/bugs, KVM: Extend speculation control for VIRT_SPEC_CTRL
  (bnc#1012628).
- x86/speculation: Add virtualized speculative store bypass
  disable support (bnc#1012628).
- x86/speculation: Rework speculative_store_bypass_update()
  (bnc#1012628).
- x86/bugs: Unify x86_spec_ctrl_{set_guest,restore_host}
  (bnc#1012628).
- x86/bugs: Expose x86_spec_ctrl_base directly (bnc#1012628).
- x86/bugs: Remove x86_spec_ctrl_set() (bnc#1012628).
- x86/bugs: Rework spec_ctrl base and mask logic (bnc#1012628).
- x86/speculation, KVM: Implement support for
  VIRT_SPEC_CTRL/LS_CFG (bnc#1012628).
- KVM: SVM: Implement VIRT_SPEC_CTRL support for SSBD
  (bnc#1012628).
- x86/bugs: Rename SSBD_NO to SSB_NO (bnc#1012628).
- bpf: Prevent memory disambiguation attack (bnc#1012628).
- Refresh
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Refresh
  patches.suse/0002-x86-speculation-Add-inlines-to-control-Indirect-Bran.patch.
- commit f86282c

-------------------------------------------------------------------
Mon May 21 07:18:12 CEST 2018 - mkubecek@suse.cz

- Makefile: disable PIE before testing asm goto (bsc#1092456).
- commit 67bdb0d

-------------------------------------------------------------------
Mon May 21 06:59:03 CEST 2018 - mkubecek@suse.cz

- Update to 4.17-rc6
- commit 6912f6b

-------------------------------------------------------------------
Sun May 20 20:45:26 CEST 2018 - jslaby@suse.cz

- Linux 4.16.10 (bnc#1012628).
- proc: do not access cmdline nor environ from file-backed areas
  (bnc#1012628).
- scsi: aacraid: Correct hba_send to include iu_type
  (bnc#1012628).
- net/smc: keep clcsock reference in smc_tcp_listen_work()
  (bnc#1012628).
- net: phy: sfp: fix the BR,min computation (bnc#1012628).
- net/mlx5: Fix mlx5_get_vector_affinity function (bnc#1012628).
- mlxsw: core: Fix an error handling path in
  'mlxsw_core_bus_device_register()' (bnc#1012628).
- ipv4: reset fnhe_mtu_locked after cache route flushed
  (bnc#1012628).
- hv_netvsc: Fix net device attach on older Windows hosts
  (bnc#1012628).
- tipc: fix one byte leak in tipc_sk_set_orig_addr()
  (bnc#1012628).
- tcp: restore autocorking (bnc#1012628).
- sctp: clear the new asoc's stream outcnt in sctp_stream_update
  (bnc#1012628).
- nfp: flower: set tunnel ttl value to net default (bnc#1012628).
- net: systemport: Correclty disambiguate driver instances
  (bnc#1012628).
- net/mlx5e: DCBNL fix min inline header size for dscp
  (bnc#1012628).
- mlxsw: spectrum_switchdev: Do not remove mrouter port from
  MDB's ports list (bnc#1012628).
- udp: fix SO_BINDTODEVICE (bnc#1012628).
- nsh: fix infinite loop (bnc#1012628).
- net/mlx5e: Allow offloading ipv4 header re-write for icmp
  (bnc#1012628).
- ipv6: fix uninit-value in ip6_multipath_l3_keys() (bnc#1012628).
- hv_netvsc: set master device (bnc#1012628).
- net/mlx5: Avoid cleaning flow steering table twice during
  error flow (bnc#1012628).
- net/mlx5e: TX, Use correct counter in dma_map error flow
  (bnc#1012628).
- net: sched: fix error path in tcf_proto_create() when modules
  are not configured (bnc#1012628).
- bonding: send learning packets for vlans on slave (bnc#1012628).
- bonding: do not allow rlb updates to invalid mac (bnc#1012628).
- tg3: Fix vunmap() BUG_ON() triggered from tg3_free_consistent()
  (bnc#1012628).
- tcp: ignore Fast Open on repair mode (bnc#1012628).
- tcp_bbr: fix to zero idle_restart only upon S/ACKed data
  (bnc#1012628).
- sctp: use the old asoc when making the cookie-ack chunk in
  dupcook_d (bnc#1012628).
- sctp: remove sctp_chunk_put from fail_mark err path in
  sctp_ulpevent_make_rcvmsg (bnc#1012628).
- sctp: handle two v4 addrs comparison in sctp_inet6_cmp_addr
  (bnc#1012628).
- sctp: fix the issue that the cookie-ack with auth can't get
  processed (bnc#1012628).
- sctp: delay the authentication for the duplicated cookie-echo
  chunk (bnc#1012628).
- rds: do not leak kernel memory to user land (bnc#1012628).
- r8169: fix powering up RTL8168h (bnc#1012628).
- qmi_wwan: do not steal interfaces from class drivers
  (bnc#1012628).
- openvswitch: Don't swap table in nlattr_set() after
  OVS_ATTR_NESTED is found (bnc#1012628).
- net/tls: Fix connection stall on partial tls record
  (bnc#1012628).
- net/tls: Don't recursively call push_record during
  tls_write_space callbacks (bnc#1012628).
- net: support compat 64-bit time in {s,g}etsockopt (bnc#1012628).
- net/smc: restrict non-blocking connect finish (bnc#1012628).
- net_sched: fq: take care of throttled flows before reuse
  (bnc#1012628).
- net sched actions: fix refcnt leak in skbmod (bnc#1012628).
- net/mlx5: E-Switch, Include VF RDMA stats in vport statistics
  (bnc#1012628).
- net/mlx5e: Err if asked to offload TC match on frag being first
  (bnc#1012628).
- net/mlx4_en: Verify coalescing parameters are in range
  (bnc#1012628).
- net/mlx4_en: Fix an error handling path in
  'mlx4_en_init_netdev()' (bnc#1012628).
- net: ethernet: ti: cpsw: fix packet leaking in dual_mac mode
  (bnc#1012628).
- net: ethernet: sun: niu set correct packet size in skb
  (bnc#1012628).
- llc: better deal with too small mtu (bnc#1012628).
- ipv4: fix memory leaks in udp_sendmsg, ping_v4_sendmsg
  (bnc#1012628).
- ipv4: fix fnhe usage by non-cached routes (bnc#1012628).
- dccp: fix tasklet usage (bnc#1012628).
- bridge: check iface upper dev when setting master via ioctl
  (bnc#1012628).
- 8139too: Use disable_irq_nosync() in rtl8139_poll_controller()
  (bnc#1012628).
- commit 68e48d7

-------------------------------------------------------------------
Thu May 17 15:32:20 CEST 2018 - msuchanek@suse.de

- kernel-{binary,docs}.spec sort dependencies.
- commit d2ab971

-------------------------------------------------------------------
Thu May 17 15:23:27 CEST 2018 - mgalbraith@suse.de

- Fix config/x86_64/debug, turn PREEMPT_NONE off, and PREEMPT_DEBUG on.
- commit 3ec7274

-------------------------------------------------------------------
Wed May 16 12:28:23 CEST 2018 - jslaby@suse.cz

- Linux 4.16.9 (bnc#1012628).
- perf/x86: Fix possible Spectre-v1 indexing for
  x86_pmu::event_map() (bnc#1012628).
- perf/core: Fix possible Spectre-v1 indexing for ->aux_pages[]
  (bnc#1012628).
- perf/x86/msr: Fix possible Spectre-v1 indexing in the MSR driver
  (bnc#1012628).
- perf/x86/cstate: Fix possible Spectre-v1 indexing for pkg_msr
  (bnc#1012628).
- perf/x86: Fix possible Spectre-v1 indexing for hw_perf_event
  cache_* (bnc#1012628).
- tracing/uprobe_event: Fix strncpy corner case (bnc#1012628).
- sched/autogroup: Fix possible Spectre-v1 indexing for
  sched_prio_to_weight[] (bnc#1012628).
- sched/core: Fix possible Spectre-v1 indexing for
  sched_prio_to_weight[] (bnc#1012628).
- swiotlb: silent unwanted warning "buffer is full" (bnc#1012628).
- smb3: directory sync should not return an error (bnc#1012628).
- nvme: Fix sync controller reset return (bnc#1012628).
- nvme: add quirk to force medium priority for SQ creation
  (bnc#1012628).
- thermal: exynos: Propagate error value from tmu_read()
  (bnc#1012628).
- thermal: exynos: Reading temperature makes sense only when
  TMU is turned on (bnc#1012628).
- Bluetooth: btusb: Only check needs_reset_resume DMI table for
  QCA rome chipsets (bnc#1012628).
- Bluetooth: btusb: Add Dell XPS 13 9360 to
  btusb_needs_reset_resume_table (bnc#1012628).
- Revert "Bluetooth: btusb: Fix quirk for Atheros 1525/QCA6174"
  (bnc#1012628).
- arm: dts: imx[35]*: declare flexcan devices to be compatible
  to imx25's flexcan (bnc#1012628).
- cpufreq: schedutil: Avoid using invalid next_freq (bnc#1012628).
- PCI / PM: Check device_may_wakeup() in pci_enable_wake()
  (bnc#1012628).
- PCI / PM: Always check PME wakeup capability for runtime wakeup
  support (bnc#1012628).
- atm: zatm: Fix potential Spectre v1 (bnc#1012628).
- net: atm: Fix potential Spectre v1 (bnc#1012628).
- drm/atomic: Clean private obj old_state/new_state in
  drm_atomic_state_default_clear() (bnc#1012628).
- drm/atomic: Clean old_state/new_state in
  drm_atomic_state_default_clear() (bnc#1012628).
- drm/nouveau/ttm: don't dereference nvbo::cli, it can outlive
  client (bnc#1012628).
- drm/nouveau: Fix deadlock in nv50_mstm_register_connector()
  (bnc#1012628).
- drm/i915: Adjust eDP's logical vco in a reliable place
  (bnc#1012628).
- drm/i915: Fix drm:intel_enable_lvds ERROR message in kernel log
  (bnc#1012628).
- drm/ttm: Use GFP_TRANSHUGE_LIGHT for allocating huge pages
  (bnc#1012628).
- drm/vc4: Fix scaling of uni-planar formats (bnc#1012628).
- mtd: rawnand: marvell: fix command xtype in BCH write hook
  (bnc#1012628).
- mtd: rawnand: marvell: pass ms delay to wait_op (bnc#1012628).
- can: hi311x: Work around TX complete interrupt erratum
  (bnc#1012628).
- can: hi311x: Acquire SPI lock on ->do_get_berr_counter
  (bnc#1012628).
- can: kvaser_usb: Increase correct stats counter in
  kvaser_usb_rx_can_msg() (bnc#1012628).
- can: flexcan: fix endianess detection (bnc#1012628).
- ceph: fix rsize/wsize capping in ceph_direct_read_write()
  (bnc#1012628).
- mm, oom: fix concurrent munlock and oom reaper unmap, v3
  (bnc#1012628).
- mm: sections are not offlined during memory hotremove
  (bnc#1012628).
- z3fold: fix reclaim lock-ups (bnc#1012628).
- tracing: Fix regex_match_front() to not over compare the test
  string (bnc#1012628).
- dm integrity: use kvfree for kvmalloc'd memory (bnc#1012628).
- libata: Apply NOLPM quirk for SanDisk SD7UB3Q*G1001 SSDs
  (bnc#1012628).
- rfkill: gpio: fix memory leak in probe error path (bnc#1012628).
- gpio: fix error path in lineevent_create (bnc#1012628).
- gpio: fix aspeed_gpio unmask irq (bnc#1012628).
- gpioib: do not free unrequested descriptors (bnc#1012628).
- compat: fix 4-byte infoleak via uninitialized struct field
  (bnc#1012628).
- bdi: Fix oops in wb_workfn() (bnc#1012628).
- bdi: Fix use after free bug in debugfs_remove() (bnc#1012628).
- bdi: wake up concurrent wb_shutdown() callers (bnc#1012628).
- tcp: fix TCP_REPAIR_QUEUE bound checking (bnc#1012628).
- i2c: dev: prevent ZERO_SIZE_PTR deref in i2cdev_ioctl_rdwr()
  (bnc#1012628).
- perf: Remove superfluous allocation error check (bnc#1012628).
- memcg: fix per_node_info cleanup (bnc#1012628).
- bpf/tracing: fix a deadlock in perf_event_detach_bpf_prog
  (bnc#1012628).
- inetpeer: fix uninit-value in inet_getpeer (bnc#1012628).
- soreuseport: initialise timewait reuseport field (bnc#1012628).
- ipv4: fix uninit-value in ip_route_output_key_hash_rcu()
  (bnc#1012628).
- dccp: initialize ireq->ir_mark (bnc#1012628).
- net: fix uninit-value in __hw_addr_add_ex() (bnc#1012628).
- net: initialize skb->peeked when cloning (bnc#1012628).
- net: fix rtnh_ok() (bnc#1012628).
- netlink: fix uninit-value in netlink_sendmsg (bnc#1012628).
- crypto: af_alg - fix possible uninit-value in alg_bind()
  (bnc#1012628).
- rds: tcp: must use spin_lock_irq* and not spin_lock_bh with
  rds_tcp_conn_lock (bnc#1012628).
- kcm: Call strp_stop before strp_done in kcm_attach
  (bnc#1012628).
- clk: ti: fix flag space conflict with clkctrl clocks
  (bnc#1012628).
- netfilter: ebtables: don't attempt to allocate 0-sized compat
  array (bnc#1012628).
- ipvs: fix rtnl_lock lockups caused by start_sync_thread
  (bnc#1012628).
- commit 4f45b1e

-------------------------------------------------------------------
Wed May 16 12:09:13 CEST 2018 - msuchanek@suse.de

- macros.kernel-source: Fix building non-x86 KMPs
- commit 8631d05

-------------------------------------------------------------------
Tue May 15 17:50:59 CEST 2018 - jeffm@suse.com

- reiserfs: package in separate KMP (FATE#323394).
- commit d14f152

-------------------------------------------------------------------
Mon May 14 21:10:40 CEST 2018 - msuchanek@suse.de

- macros.kernel-source: ignore errors when using make to print kernel release
  There is no way to handle the errors anyway and including the error into
  package version does not give good results.
- commit 282e9a6

-------------------------------------------------------------------
Mon May 14 20:57:03 CEST 2018 - palcantara@suse.de

- cifs: smb2ops: Fix listxattr() when there are no EAs
  (bsc#1091442).
- commit c6f0d32

-------------------------------------------------------------------
Mon May 14 07:51:55 CEST 2018 - mkubecek@suse.cz

- Update to 4.17-rc5
- commit 80e3a99

-------------------------------------------------------------------
Fri May 11 17:30:49 CEST 2018 - msuchanek@suse.de

- Revert "kernel-binary: do not package extract-cert when not signing modules"
  This reverts commit 10a8bc496a553b8069d490a8ae7508bdb19f58d9.
- commit 1f7acca

-------------------------------------------------------------------
Wed May  9 11:59:30 CEST 2018 - jslaby@suse.cz

- Linux 4.16.8 (bnc#1012628).
- ACPI / button: make module loadable when booted in non-ACPI mode
  (bnc#1012628).
- arm64: Add work around for Arm Cortex-A55 Erratum 1024718
  (bnc#1012628).
- ALSA: hda - Fix incorrect usage of IS_REACHABLE() (bnc#1012628).
- ALSA: pcm: Check PCM state at xfern compat ioctl (bnc#1012628).
- ALSA: seq: Fix races at MIDI encoding in
  snd_virmidi_output_trigger() (bnc#1012628).
- ALSA: dice: fix kernel NULL pointer dereference due to invalid
  calculation for array index (bnc#1012628).
- ALSA: aloop: Mark paused device as inactive (bnc#1012628).
- ALSA: aloop: Add missing cable lock to ctl API callbacks
  (bnc#1012628).
- errseq: Always report a writeback error once (bnc#1012628).
- tracepoint: Do not warn on ENOMEM (bnc#1012628).
- scsi: target: Fix fortify_panic kernel exception (bnc#1012628).
- Input: leds - fix out of bound access (bnc#1012628).
- Input: atmel_mxt_ts - add touchpad button mapping for Samsung
  Chromebook Pro (bnc#1012628).
- swiotlb: fix inversed DMA_ATTR_NO_WARN test (bnc#1012628).
- rtlwifi: cleanup 8723be ant_sel definition (bnc#1012628).
- xfs: prevent creating negative-sized file via INSERT_RANGE
  (bnc#1012628).
- tools: power/acpi, revert to LD = gcc (bnc#1012628).
- RDMA/cxgb4: release hw resources on device removal
  (bnc#1012628).
- RDMA/ucma: Allow resolving address w/o specifying source address
  (bnc#1012628).
- RDMA/mlx5: Fix multiple NULL-ptr deref errors in rereg_mr flow
  (bnc#1012628).
- RDMA/mlx4: Add missed RSS hash inner header flag (bnc#1012628).
- RDMA/mlx5: Protect from shift operand overflow (bnc#1012628).
- NET: usb: qmi_wwan: add support for ublox R410M PID 0x90b2
  (bnc#1012628).
- IB/mlx5: Use unlimited rate when static rate is not supported
  (bnc#1012628).
- infiniband: mlx5: fix build errors when INFINIBAND_USER_ACCESS=m
  (bnc#1012628).
- IB/hfi1: Fix handling of FECN marked multicast packet
  (bnc#1012628).
- IB/hfi1: Fix loss of BECN with AHG (bnc#1012628).
- IB/hfi1: Fix NULL pointer dereference when invalid num_vls is
  used (bnc#1012628).
- iw_cxgb4: Atomically flush per QP HW CQEs (bnc#1012628).
- btrfs: Take trans lock before access running trans in
  check_delayed_ref (bnc#1012628).
- drm/vc4: Make sure vc4_bo_{inc,dec}_usecnt() calls are balanced
  (bnc#1012628).
- drm/vmwgfx: Fix a buffer object leak (bnc#1012628).
- drm/bridge: vga-dac: Fix edid memory leak (bnc#1012628).
- test_firmware: fix setting old custom fw path back on exit,
  second try (bnc#1012628).
- xhci: Fix use-after-free in xhci_free_virt_device (bnc#1012628).
- USB: serial: visor: handle potential invalid device
  configuration (bnc#1012628).
- usb: dwc3: gadget: Fix list_del corruption in dwc3_ep_dequeue
  (bnc#1012628).
- USB: Accept bulk endpoints with 1024-byte maxpacket
  (bnc#1012628).
- USB: serial: option: reimplement interface masking
  (bnc#1012628).
- USB: serial: option: adding support for ublox R410M
  (bnc#1012628).
- usb: musb: host: fix potential NULL pointer dereference
  (bnc#1012628).
- usb: musb: trace: fix NULL pointer dereference in musb_g_tx()
  (bnc#1012628).
- platform/x86: asus-wireless: Fix NULL pointer dereference
  (bnc#1012628).
- platform/x86: Kconfig: Fix dell-laptop dependency chain
  (bnc#1012628).
- KVM: x86: remove APIC Timer periodic/oneshot spikes
  (bnc#1012628).
- x86/tsc: Always unregister clocksource_tsc_early (bnc#1012628).
- x86/tsc: Fix mark_tsc_unstable() (bnc#1012628).
- irqchip/qcom: Fix check for spurious interrupts (bnc#1012628).
- clocksource: Allow clocksource_mark_unstable() on unregistered
  clocksources (bnc#1012628).
- clocksource: Initialize cs->wd_list (bnc#1012628).
- clocksource: Consistent de-rate when marking unstable
  (bnc#1012628).
- tracing: Fix bad use of igrab in trace_uprobe.c (bnc#1012628).
- Delete patches.suse/tools-power-acpi-revert-to-LD-gcc.patch.
- Update config files.
- commit 9269cc1

-------------------------------------------------------------------
Mon May  7 07:52:36 CEST 2018 - mkubecek@suse.cz

- Update to 4.17-rc4
- Eliminated 2 patches
- Update to 4.17-rc3
- Eliminated 2 patches
- commit a993a00

-------------------------------------------------------------------
Wed May  2 21:21:16 CEST 2018 - jslaby@suse.cz

- Linux 4.16.7 (bnc#1012628).
- ext4: prevent right-shifting extents beyond EXT_MAX_BLOCKS
  (bnc#1012628).
- ext4: set h_journal if there is a failure starting a reserved
  handle (bnc#1012628).
- ext4: add MODULE_SOFTDEP to ensure crc32c is included in the
  initramfs (bnc#1012628).
- ext4: add validity checks for bitmap block numbers
  (bnc#1012628).
- ext4: fix bitmap position validation (bnc#1012628).
- random: set up the NUMA crng instances after the CRNG is fully
  initialized (bnc#1012628).
- random: fix possible sleeping allocation from irq context
  (bnc#1012628).
- random: rate limit unseeded randomness warnings (bnc#1012628).
- usbip: usbip_event: fix to not print kernel pointer address
  (bnc#1012628).
- usbip: usbip_host: fix to hold parent lock for device_attach()
  calls (bnc#1012628).
- usbip: vhci_hcd: Fix usb device and sockfd leaks (bnc#1012628).
- usbip: vhci_hcd: check rhport before using in vhci_hub_control()
  (bnc#1012628).
- Revert "xhci: plat: Register shutdown for xhci_plat"
  (bnc#1012628).
- xhci: Fix Kernel oops in xhci dbgtty (bnc#1012628).
- xhci: Fix USB ports for Dell Inspiron 5775 (bnc#1012628).
- USB: serial: simple: add libtransistor console (bnc#1012628).
- USB: serial: ftdi_sio: use jtag quirk for Arrow USB Blaster
  (bnc#1012628).
- USB: serial: cp210x: add ID for NI USB serial console
  (bnc#1012628).
- serial: mvebu-uart: Fix local flags handling on termios update
  (bnc#1012628).
- usb: typec: ucsi: Increase command completion timeout value
  (bnc#1012628).
- usb: core: Add quirk for HP v222w 16GB Mini (bnc#1012628).
- USB: Increment wakeup count on remote wakeup (bnc#1012628).
- virtio: add ability to iterate over vqs (bnc#1012628).
- virtio_console: don't tie bufs to a vq (bnc#1012628).
- virtio_console: free buffers after reset (bnc#1012628).
- virtio_console: drop custom control queue cleanup (bnc#1012628).
- virtio_console: move removal code (bnc#1012628).
- virtio_console: reset on out of memory (bnc#1012628).
- drm/virtio: fix vq wait_event condition (bnc#1012628).
- tty: Don't call panic() at tty_ldisc_init() (bnc#1012628).
- tty: n_gsm: Fix long delays with control frame timeouts in
  ADM mode (bnc#1012628).
- tty: n_gsm: Fix DLCI handling for ADM mode if debug & 2 is
  not set (bnc#1012628).
- tty: Avoid possible error pointer dereference at
  tty_ldisc_restore() (bnc#1012628).
- tty: Use __GFP_NOFAIL for tty_ldisc_get() (bnc#1012628).
- cifs: smbd: Avoid allocating iov on the stack (bnc#1012628).
- cifs: smbd: Don't use RDMA read/write when signing is used
  (bnc#1012628).
- ALSA: dice: fix OUI for TC group (bnc#1012628).
- ALSA: dice: fix error path to destroy initialized stream data
  (bnc#1012628).
- ALSA: hda - Skip jack and others for non-existing PCM streams
  (bnc#1012628).
- ALSA: opl3: Hardening for potential Spectre v1 (bnc#1012628).
- ALSA: asihpi: Hardening for potential Spectre v1 (bnc#1012628).
- ALSA: hdspm: Hardening for potential Spectre v1 (bnc#1012628).
- ALSA: rme9652: Hardening for potential Spectre v1 (bnc#1012628).
- ALSA: control: Hardening for potential Spectre v1 (bnc#1012628).
- ALSA: pcm: Return negative delays from SNDRV_PCM_IOCTL_DELAY
  (bnc#1012628).
- ALSA: core: Report audio_tstamp in snd_pcm_sync_ptr
  (bnc#1012628).
- ALSA: seq: oss: Fix unbalanced use lock for synth MIDI device
  (bnc#1012628).
- ALSA: seq: oss: Hardening for potential Spectre v1
  (bnc#1012628).
- ALSA: hda: Hardening for potential Spectre v1 (bnc#1012628).
- ALSA: hda/realtek - Add some fixes for ALC233 (bnc#1012628).
- ALSA: hda/realtek - Update ALC255 depop optimize (bnc#1012628).
- ALSA: hda/realtek - change the location for one of two front
  mics (bnc#1012628).
- mtd: spi-nor: cadence-quadspi: Fix page fault kernel panic
  (bnc#1012628).
- mtd: cfi: cmdset_0001: Do not allow read/write to suspend
  erase block (bnc#1012628).
- mtd: cfi: cmdset_0001: Workaround Micron Erase suspend bug
  (bnc#1012628).
- mtd: cfi: cmdset_0002: Do not allow read/write to suspend
  erase block (bnc#1012628).
- mtd: rawnand: tango: Fix struct clk memory leak (bnc#1012628).
- mtd: rawnand: marvell: fix the chip-select DT parsing logic
  (bnc#1012628).
- kobject: don't use WARN for registration failures (bnc#1012628).
- scsi: sd_zbc: Avoid that resetting a zone fails sporadically
  (bnc#1012628).
- scsi: sd: Defer spinning up drive while SANITIZE is in progress
  (bnc#1012628).
- blk-mq: start request gstate with gen 1 (bnc#1012628).
- bfq-iosched: ensure to clear bic/bfqq pointers when preparing
  request (bnc#1012628).
- block: do not use interruptible wait anywhere (bnc#1012628).
- vfio: ccw: process ssch with interrupts disabled (bnc#1012628).
- SMB311: Fix reconnect (bnc#1012628).
- ANDROID: binder: prevent transactions into own process
  (bnc#1012628).
- PCI: aardvark: Fix logic in advk_pcie_{rd,wr}_conf()
  (bnc#1012628).
- PCI: aardvark: Set PIO_ADDR_LS correctly in advk_pcie_rd_conf()
  (bnc#1012628).
- PCI: aardvark: Use ISR1 instead of ISR0 interrupt in legacy
  irq mode (bnc#1012628).
- PCI: aardvark: Fix PCIe Max Read Request Size setting
  (bnc#1012628).
- ARM: amba: Make driver_override output consistent with other
  buses (bnc#1012628).
- ARM: amba: Fix race condition with driver_override
  (bnc#1012628).
- ARM: amba: Don't read past the end of sysfs "driver_override"
  buffer (bnc#1012628).
- ARM: dts: Fix NAS4220B pin config (bnc#1012628).
- ARM: socfpga_defconfig: Remove QSPI Sector 4K size force
  (bnc#1012628).
- KVM: arm/arm64: Close VMID generation race (bnc#1012628).
- slimbus: Fix out-of-bounds access in slim_slicesize()
  (bnc#1012628).
- powerpc/mm: Flush cache on memory hot(un)plug (bnc#1012628).
- powerpc/mce: Fix a bug where mce loops on memory UE
  (bnc#1012628).
- powerpc/powernv/npu: Do a PID GPU TLB flush when invalidating
  a large address range (bnc#1012628).
- crypto: drbg - set freed buffers to NULL (bnc#1012628).
- ASoC: dmic: Fix clock parenting (bnc#1012628).
- ASoC: fsl_esai: Fix divisor calculation failure at lower ratio
  (bnc#1012628).
- libceph: un-backoff on tick when we have a authenticated session
  (bnc#1012628).
- libceph: reschedule a tick in finish_hunting() (bnc#1012628).
- libceph: validate con->state at the top of try_write()
  (bnc#1012628).
- PCI / PM: Do not clear state_saved in pci_pm_freeze() when
  smart suspend is set (bnc#1012628).
- virt: vbox: Move declarations of vboxguest private functions
  to private header (bnc#1012628).
- virt: vbox: Add vbg_req_free() helper function (bnc#1012628).
- virt: vbox: Use __get_free_pages instead of kmalloc for DMA32
  memory (bnc#1012628).
- fpga-manager: altera-ps-spi: preserve nCONFIG state
  (bnc#1012628).
- module: Fix display of wrong module .text address (bnc#1012628).
- earlycon: Use a pointer table to fix __earlycon_table stride
  (bnc#1012628).
- cpufreq: powernv: Fix hardlockup due to synchronous smp_call
  in timer interrupt (bnc#1012628).
- rtc: opal: Fix OPAL RTC driver OPAL_BUSY loops (bnc#1012628).
- drm/edid: Reset more of the display info (bnc#1012628).
- drm/amdgpu: set COMPUTE_PGM_RSRC1 for SGPR/VGPR clearing shaders
  (bnc#1012628).
- drm/i915/fbdev: Enable late fbdev initial configuration
  (bnc#1012628).
- drm/i915/audio: set minimum CD clock to twice the BCLK
  (bnc#1012628).
- drm/i915: Enable display WA#1183 from its correct spot
  (bnc#1012628).
- drm/amd/display: Fix deadlock when flushing irq (bnc#1012628).
- drm/amd/display: Don't read EDID in atomic_check (bnc#1012628).
- drm/amd/display: Disallow enabling CRTC without primary plane
  with FB (bnc#1012628).
- x86/ipc: Fix x32 version of shmid64_ds and msqid64_ds
  (bnc#1012628).
- x86/smpboot: Don't use mwait_play_dead() on AMD systems
  (bnc#1012628).
- x86/microcode/intel: Save microcode patch unconditionally
  (bnc#1012628).
- x86/microcode: Do not exit early from __reload_late()
  (bnc#1012628).
- tick/sched: Do not mess with an enqueued hrtimer (bnc#1012628).
- crypto: ccp - add check to get PSP master only when PSP is
  detected (bnc#1012628).
- arm/arm64: KVM: Add PSCI version selection API (bnc#1012628).
- sparc64: Fix mistake in oradax license text (bnc#1012628).
- commit 938738d

-------------------------------------------------------------------
Wed May  2 15:13:49 CEST 2018 - msuchanek@suse.de

- kernel-binary: also default klp_symbols to 0 here.
- commit e35f14a

-------------------------------------------------------------------
Wed May  2 14:55:25 CEST 2018 - msuchanek@suse.de

- klp_symbols: make --klp-symbols argument semantic sane
  It selects build of klp symbols and defaults to off
- commit 0e53042

-------------------------------------------------------------------
Wed May  2 09:13:10 CEST 2018 - jslaby@suse.cz

- tools: power/acpi, revert to LD = gcc (build fix).
- Delete
  patches.suse/revert-tools-fix-cross-compile-var-clobbering.patch.
  Replace by the upstream commit.
- commit ad991e8

-------------------------------------------------------------------
Mon Apr 30 22:33:51 CEST 2018 - jslaby@suse.cz

- Linux 4.16.6 (bnc#1012628).
- Revert "pinctrl: intel: Initialize GPIO properly when used
  through irqchip" (bnc#1012628).
- drm: bridge: dw-hdmi: Fix overflow workaround for Amlogic
  Meson GX SoCs (bnc#1012628).
- i40e: Fix attach VF to VM issue (bnc#1012628).
- tpm: cmd_ready command can be issued only after granting
  locality (bnc#1012628).
- tpm: tpm-interface: fix tpm_transmit/_cmd kdoc (bnc#1012628).
- tpm: add retry logic (bnc#1012628).
- bonding: do not set slave_dev npinfo before slave_enable_netpoll
  in bond_enslave (bnc#1012628).
- docs: ip-sysctl.txt: fix name of some ipv6 variables
  (bnc#1012628).
- ipv6: add RTA_TABLE and RTA_PREFSRC to rtm_ipv6_policy
  (bnc#1012628).
- ipv6: sr: fix NULL pointer dereference in seg6_do_srh_encap()-
  v4 pkts (bnc#1012628).
- KEYS: DNS: limit the length of option strings (bnc#1012628).
- l2tp: check sockaddr length in pppol2tp_connect() (bnc#1012628).
- llc: delete timers synchronously in llc_sk_free() (bnc#1012628).
- net: af_packet: fix race in PACKET_{R|T}X_RING (bnc#1012628).
- net: fix deadlock while clearing neighbor proxy table
  (bnc#1012628).
- net: mvpp2: Fix DMA address mask size (bnc#1012628).
- net: qmi_wwan: add Wistron Neweb D19Q1 (bnc#1012628).
- net/smc: fix shutdown in state SMC_LISTEN (bnc#1012628).
- net: stmmac: Disable ACS Feature for GMAC >= 4 (bnc#1012628).
- packet: fix bitfield update race (bnc#1012628).
- pppoe: check sockaddr length in pppoe_connect() (bnc#1012628).
- Revert "macsec: missing dev_put() on error in macsec_newlink()"
  (bnc#1012628).
- sctp: do not check port in sctp_inet6_cmp_addr (bnc#1012628).
- strparser: Do not call mod_delayed_work with a timeout of
  LONG_MAX (bnc#1012628).
- strparser: Fix incorrect strp->need_bytes value (bnc#1012628).
- tcp: clear tp->packets_out when purging write queue
  (bnc#1012628).
- tcp: don't read out-of-bounds opsize (bnc#1012628).
- tcp: md5: reject TCP_MD5SIG or TCP_MD5SIG_EXT on established
  sockets (bnc#1012628).
- team: avoid adding twice the same option to the event list
  (bnc#1012628).
- team: fix netconsole setup over team (bnc#1012628).
- tipc: add policy for TIPC_NLA_NET_ADDR (bnc#1012628).
- vlan: Fix reading memory beyond skb->tail in
  skb_vlan_tagged_multi (bnc#1012628).
- vmxnet3: fix incorrect dereference when rxvlan is disabled
  (bnc#1012628).
- amd-xgbe: Add pre/post auto-negotiation phy hooks (bnc#1012628).
- amd-xgbe: Improve KR auto-negotiation and training
  (bnc#1012628).
- amd-xgbe: Only use the SFP supported transceiver signals
  (bnc#1012628).
- net: sched: ife: signal not finding metaid (bnc#1012628).
- net: sched: ife: handle malformed tlv length (bnc#1012628).
- net: sched: ife: check on metadata length (bnc#1012628).
- l2tp: hold reference on tunnels in netlink dumps (bnc#1012628).
- l2tp: hold reference on tunnels printed in pppol2tp proc file
  (bnc#1012628).
- l2tp: hold reference on tunnels printed in l2tp/tunnels debugfs
  file (bnc#1012628).
- l2tp: fix {pppol2tp, l2tp_dfs}_seq_stop() in case of seq_file
  overflow (bnc#1012628).
- llc: hold llc_sap before release_sock() (bnc#1012628).
- llc: fix NULL pointer deref for SOCK_ZAPPED (bnc#1012628).
- s390/qeth: fix error handling in adapter command callbacks
  (bnc#1012628).
- s390/qeth: avoid control IO completion stalls (bnc#1012628).
- s390/qeth: handle failure on workqueue creation (bnc#1012628).
- net: ethernet: ti: cpsw: fix tx vlan priority mapping
  (bnc#1012628).
- net: validate attribute sizes in neigh_dump_table()
  (bnc#1012628).
- bnxt_en: Fix memory fault in bnxt_ethtool_init() (bnc#1012628).
- virtio-net: add missing virtqueue kick when flushing packets
  (bnc#1012628).
- VSOCK: make af_vsock.ko removable again (bnc#1012628).
- net: aquantia: Regression on reset with 1.x firmware
  (bnc#1012628).
- tun: fix vlan packet truncation (bnc#1012628).
- net: aquantia: oops when shutdown on already stopped device
  (bnc#1012628).
- virtio_net: split out ctrl buffer (bnc#1012628).
- virtio_net: fix adding vids on big-endian (bnc#1012628).
- Revert "mm/hmm: fix header file if/else/endif maze"
  (bnc#1012628).
- commoncap: Handle memory allocation failure (bnc#1012628).
- scsi: mptsas: Disable WRITE SAME (bnc#1012628).
- cdrom: information leak in cdrom_ioctl_media_changed()
  (bnc#1012628).
- fsnotify: Fix fsnotify_mark_connector race (bnc#1012628).
- m68k/mac: Don't remap SWIM MMIO region (bnc#1012628).
- block/swim: Check drive type (bnc#1012628).
- block/swim: Don't log an error message for an invalid ioctl
  (bnc#1012628).
- block/swim: Remove extra put_disk() call from error path
  (bnc#1012628).
- block/swim: Rename macros to avoid inconsistent inverted logic
  (bnc#1012628).
- block/swim: Select appropriate drive on device open
  (bnc#1012628).
- block/swim: Fix array bounds check (bnc#1012628).
- block/swim: Fix IO error at end of medium (bnc#1012628).
- tracing: Fix missing tab for hwlat_detector print format
  (bnc#1012628).
- hwmon: (k10temp) Add temperature offset for Ryzen 2700X
  (bnc#1012628).
- hwmon: (k10temp) Add support for AMD Ryzen w/ Vega graphics
  (bnc#1012628).
- s390/cio: update chpid descriptor after resource accessibility
  event (bnc#1012628).
- s390/dasd: fix IO error for newly defined devices (bnc#1012628).
- s390/uprobes: implement arch_uretprobe_is_alive() (bnc#1012628).
- s390/cpum_cf: rename IBM z13/z14 counter names (bnc#1012628).
- kprobes: Fix random address output of blacklist file
  (bnc#1012628).
- ACPI / video: Only default only_lcd to true on Win8-ready
  _desktops_ (bnc#1012628).
- commit 566acbc

-------------------------------------------------------------------
Mon Apr 30 06:59:21 CEST 2018 - mkubecek@suse.cz

- Update to 4.17-rc3
- Eliminated 1 patch
- Config changes:
  - x86_64 and i386
    - SND_SST_ATOM_HIFI2_PLATFORM_ACPI=m
  - armv7hl
    - CONFIG_NFT_REDIR_IPV4=m (sync with other configs)
    - CONFIG_NFT_REDIR_IPV6=m (sync with other configs)
- commit 088acbb

-------------------------------------------------------------------
Sun Apr 29 17:06:22 CEST 2018 - afaerber@suse.de

- config: armv7hl: Update to 4.17-rc2
- commit e76ffdc

-------------------------------------------------------------------
Sun Apr 29 16:39:34 CEST 2018 - afaerber@suse.de

- config: armv6hl: Update to 4.17-rc2
- commit 7ac1254

-------------------------------------------------------------------
Sun Apr 29 16:31:51 CEST 2018 - afaerber@suse.de

- config: arm64: Update to 4.17-rc2
- commit 8535e20

-------------------------------------------------------------------
Fri Apr 27 08:43:38 CEST 2018 - msuchanek@suse.de

- kernel-binary: only install modules.fips on modular kernels.
- commit 2cb2bec

-------------------------------------------------------------------
Thu Apr 26 18:54:45 CEST 2018 - jslaby@suse.cz

- Linux 4.16.5 (bnc#1012628).
- cifs: smbd: Check for iov length on sending the last iov
  (bnc#1012628).
- cifs: do not allow creating sockets except with SMB1 posix
  exensions (bnc#1012628).
- btrfs: fix unaligned access in readdir (bnc#1012628).
- btrfs: Fix race condition between delayed refs and blockgroup
  removal (bnc#1012628).
- x86/acpi: Prevent X2APIC id 0xffffffff from being accounted
  (bnc#1012628).
- clocksource/imx-tpm: Correct -ETIME return condition check
  (bnc#1012628).
- posix-cpu-timers: Ensure set_process_cpu_timer is always
  evaluated (bnc#1012628).
- x86/tsc: Prevent 32bit truncation in calc_hpet_ref()
  (bnc#1012628).
- drm/vc4: Fix memory leak during BO teardown (bnc#1012628).
- drm/i915/gvt: throw error on unhandled vfio ioctls
  (bnc#1012628).
- drm/i915/gvt: Add drm_format_mod update (bnc#1012628).
- drm/i915/bios: filter out invalid DDC pins from VBT child
  devices (bnc#1012628).
- drm/i915/audio: Fix audio detection issue on GLK (bnc#1012628).
- drm/i915: Do no use kfree() to free a kmem_cache_alloc()
  return value (bnc#1012628).
- drm/i915: Fix LSPCON TMDS output buffer enabling from low-power
  state (bnc#1012628).
- alarmtimer: Init nanosleep alarm timer on stack (bnc#1012628).
- mm,vmscan: Allow preallocating memory for register_shrinker()
  (bnc#1012628).
- netfilter: x_tables: cap allocations at 512 mbyte (bnc#1012628).
- netfilter: x_tables: add counters allocation wrapper
  (bnc#1012628).
- netfilter: compat: prepare xt_compat_init_offsets to return
  errors (bnc#1012628).
- netfilter: compat: reject huge allocation requests
  (bnc#1012628).
- netfilter: x_tables: limit allocation requests for blob rule
  heads (bnc#1012628).
- perf: Fix sample_max_stack maximum check (bnc#1012628).
- perf: Return proper values for user stack errors (bnc#1012628).
- RDMA/mlx5: Fix NULL dereference while accessing XRC_TGT QPs
  (bnc#1012628).
- Revert "KVM: X86: Fix SMRAM accessing even if VM is shutdown"
  (bnc#1012628).
- mac80211_hwsim: fix use-after-free bug in hwsim_exit_net
  (bnc#1012628).
- Refresh
  patches.suse/btrfs-fs-super.c-add-new-super-block-devices-super_block_d.patch.
- commit 16c5ff9

-------------------------------------------------------------------
Wed Apr 25 15:25:17 CEST 2018 - tiwai@suse.de

- Revert "ath10k: send (re)assoc peer command when NSS changed"
  (bsc#1090458).
- commit 3f3a85c

-------------------------------------------------------------------
Tue Apr 24 19:54:23 CEST 2018 - msuchanek@suse.de

- split-modules: use MAKE_ARGS
- commit d8fe174

-------------------------------------------------------------------
Tue Apr 24 17:45:15 CEST 2018 - mcgrof@suse.com

- xfs: set format back to extents if xfs_bmap_extents_to_btree (bsc#1090717, CVE-2018-10323).
- xfs: set format back to extents if xfs_bmap_extents_to_btree
  (bsc#1090717, CVE-2018-10323).
- commit ddcd6f2

-------------------------------------------------------------------
Tue Apr 24 16:27:11 CEST 2018 - msuchanek@suse.de

- kernel-binary: pass MAKE_ARGS to install script as well.
- commit ce62ae7

-------------------------------------------------------------------
Tue Apr 24 14:23:23 CEST 2018 - mkubecek@suse.cz

- Update config files.
- commit becf16d

-------------------------------------------------------------------
Tue Apr 24 13:58:15 CEST 2018 - msuchanek@suse.de

- kernel-binary: pass ARCH= to kernel build
  Recent kernel does not save CONFIG_64BIT so it has to be specified by
  arch.
- commit fb21b73

-------------------------------------------------------------------
Tue Apr 24 13:57:55 CEST 2018 - tiwai@suse.de

- ALSA: usb-audio: Skip broken EU on Dell dock USB-audio
  (bsc#1090658).
- commit 5639170

-------------------------------------------------------------------
Tue Apr 24 10:50:13 CEST 2018 - mkubecek@suse.cz

- config: fix i386 configs
  Since mainline commit f467c5640c29 ("kconfig: only write '# CONFIG_FOO is
  not set' for visible symbols"), make silentoldconfig (or make syncconfig as
  it is called now) doesn't add CONFIG_64BIT line into i386 configs if called
  with ARCH=i386.
  During the build, it's called without ARCH=i386 so that it requests this
  option to be entered manually and the build fails. Long term solution would
  probably be passing ARCH=%{cpu_arch} to all make commands; for now, just
  add CONFIG_64BIT line to i386/pae to fix the build as is.
- commit d9a33ad

-------------------------------------------------------------------
Tue Apr 24 10:49:53 CEST 2018 - jslaby@suse.cz

- Linux 4.16.4 (bnc#1012628).
- Bluetooth: hci_bcm: Add irq_polarity module option
  (bnc#1012628).
- cpufreq: CPPC: Use transition_delay_us depending
  transition_latency (bnc#1012628).
- cpufreq: armada-37xx: Fix clock leak (bnc#1012628).
- ubifs: Check ubifs_wbuf_sync() return code (bnc#1012628).
- ubi: fastmap: Don't flush fastmap work on detach (bnc#1012628).
- ubi: Fix error for write access (bnc#1012628).
- ubi: Reject MLC NAND (bnc#1012628).
- mm/ksm.c: fix inconsistent accounting of zero pages
  (bnc#1012628).
- mm/hmm: fix header file if/else/endif maze (bnc#1012628).
- mm/hmm: hmm_pfns_bad() was accessing wrong struct (bnc#1012628).
- mm: hwpoison: disable memory error handling on 1GB hugepage
  (bnc#1012628).
- task_struct: only use anon struct under randstruct plugin
  (bnc#1012628).
- fs/reiserfs/journal.c: add missing resierfs_warning() arg
  (bnc#1012628).
- ipc/shm: fix use-after-free of shm file via remap_file_pages()
  (bnc#1012628).
- mm, slab: reschedule cache_reap() on the same CPU (bnc#1012628).
- usb: musb: gadget: misplaced out of bounds check (bnc#1012628).
- phy: allwinner: sun4i-usb: poll vbus changes on A23/A33 when
  driving VBUS (bnc#1012628).
- usb: gadget: udc: core: update usb_ep_queue() documentation
  (bnc#1012628).
- ARM64: dts: meson: reduce odroid-c2 eMMC maximum rate
  (bnc#1012628).
- KVM: arm/arm64: vgic-its: Fix potential overrun in
  vgic_copy_lpi_list (bnc#1012628).
- ARM: EXYNOS: Fix coupled CPU idle freeze on Exynos4210
  (bnc#1012628).
- arm: dts: mt7623: fix USB initialization fails on bananapi-r2
  (bnc#1012628).
- ARM: dts: at91: at91sam9g25: fix mux-mask pinctrl property
  (bnc#1012628).
- ARM: dts: exynos: Fix IOMMU support for GScaler devices on
  Exynos5250 (bnc#1012628).
- ARM: dts: at91: sama5d4: fix pinctrl compatible string
  (bnc#1012628).
- spi: atmel: init FIFOs before spi enable (bnc#1012628).
- spi: Fix scatterlist elements size in spi_map_buf (bnc#1012628).
- spi: Fix unregistration of controller with fixed SPI bus number
  (bnc#1012628).
- media: rc: oops in ir_timer_keyup after device unplug
  (bnc#1012628).
- media: atomisp_fops.c: disable atomisp_compat_ioctl32
  (bnc#1012628).
- media: vivid: check if the cec_adapter is valid (bnc#1012628).
- media: vb2: core: Finish buffers at the end of the stream
  (bnc#1012628).
- media: vsp1: Fix BRx conditional path in WPF (bnc#1012628).
- x86/xen: Delay get_cpu_cap until stack canary is established
  (bnc#1012628).
- regmap: Fix reversed bounds check in regmap_raw_write()
  (bnc#1012628).
- ACPI / video: Add quirk to force acpi-video backlight on
  Samsung 670Z5E (bnc#1012628).
- ACPI / hotplug / PCI: Check presence of slot itself in
  get_slot_status() (bnc#1012628).
- acpi, nfit: rework NVDIMM leaf method detection (bnc#1012628).
- USB: gadget: f_midi: fixing a possible double-free in f_midi
  (bnc#1012628).
- USB:fix USB3 devices behind USB3 hubs not resuming at hibernate
  thaw (bnc#1012628).
- usb: dwc3: prevent setting PRTCAP to OTG from debugfs
  (bnc#1012628).
- usb: dwc3: pci: Properly cleanup resource (bnc#1012628).
- usb: dwc3: gadget: never call ->complete() from ->ep_queue()
  (bnc#1012628).
- cifs: fix memory leak in SMB2_open() (bnc#1012628).
- fix smb3-encryption breakage when CONFIG_DEBUG_SG=y
  (bnc#1012628).
- Tree connect for SMB3.1.1 must be signed for non-encrypted
  shares (bnc#1012628).
- cifs: smbd: avoid reconnect lockup (bnc#1012628).
- cifs: smbd: disconnect transport on RDMA errors (bnc#1012628).
- smb3: Fix root directory when server returns inode number of
  zero (bnc#1012628).
- HID: i2c-hid: fix size check and type usage (bnc#1012628).
- i2c: i801: Save register SMBSLVCMD value only once
  (bnc#1012628).
- i2c: i801: Restore configuration at shutdown (bnc#1012628).
- CIFS: refactor crypto shash/sdesc allocation&free (bnc#1012628).
- CIFS: add sha512 secmech (bnc#1012628).
- CIFS: implement v3.11 preauth integrity (bnc#1012628).
- CIFS: fix sha512 check in cifs_crypto_secmech_release
  (bnc#1012628).
- powerpc/64s: Fix pkey support in dt_cpu_ftrs, add CPU_FTR_PKEY
  bit (bnc#1012628).
- powerpc/powernv: Handle unknown OPAL errors in
  opal_nvram_write() (bnc#1012628).
- powerpc/eeh: Fix race with driver un/bind (bnc#1012628).
- powerpc/64s: Fix dt_cpu_ftrs to have restore_cpu clear unwanted
  LPCR bits (bnc#1012628).
- powerpc/64: Call H_REGISTER_PROC_TBL when running as a HPT
  guest on POWER9 (bnc#1012628).
- powerpc/64: Fix smp_wmb barrier definition use use lwsync
  consistently (bnc#1012628).
- powerpc/kprobes: Fix call trace due to incorrect preempt count
  (bnc#1012628).
- powerpc/kexec_file: Fix error code when trying to load kdump
  kernel (bnc#1012628).
- powerpc/powernv: define a standard delay for OPAL_BUSY type
  retry loops (bnc#1012628).
- powerpc/powernv: Fix OPAL NVRAM driver OPAL_BUSY loops
  (bnc#1012628).
- powerpc/mm/radix: Fix checkstops caused by invalid tlbiel
  (bnc#1012628).
- ceph: always update atime/mtime/ctime for new inode
  (bnc#1012628).
- HID: Fix hid_report_len usage (bnc#1012628).
- HID: core: Fix size as type u32 (bnc#1012628).
- soc: mediatek: fix the mistaken pointer accessed when subdomains
  are added (bnc#1012628).
- ASoC: ssm2602: Replace reg_default_raw with reg_default
  (bnc#1012628).
- ASoC: topology: Fix kcontrol name string handling (bnc#1012628).
- thunderbolt: Wait a bit longer for ICM to authenticate the
  active NVM (bnc#1012628).
- thunderbolt: Serialize PCIe tunnel creation with PCI rescan
  (bnc#1012628).
- thunderbolt: Resume control channel after hibernation image
  is created (bnc#1012628).
- thunderbolt: Handle connecting device in place of host properly
  (bnc#1012628).
- thunderbolt: Prevent crash when ICM firmware is not running
  (bnc#1012628).
- irqchip/gic: Take lock when updating irq type (bnc#1012628).
- random: use a tighter cap in credit_entropy_bits_safe()
  (bnc#1012628).
- extcon: intel-cht-wc: Set direction and drv flags for V5 boost
  GPIO (bnc#1012628).
- block: use 32-bit blk_status_t on Alpha (bnc#1012628).
- jbd2: if the journal is aborted then don't allow update of
  the log tail (bnc#1012628).
- ext4: shutdown should not prevent get_write_access
  (bnc#1012628).
- ext4: eliminate sleep from shutdown ioctl (bnc#1012628).
- ext4: pass -ESHUTDOWN code to jbd2 layer (bnc#1012628).
- ext4: don't update checksum of new initialized bitmaps
  (bnc#1012628).
- ext4: protect i_disksize update by i_data_sem in direct write
  path (bnc#1012628).
- ext4: fix offset overflow on 32-bit archs in ext4_iomap_begin()
  (bnc#1012628 bsc#1079747).
- ext4: limit xattr size to INT_MAX (bnc#1012628).
- ext4: fail ext4_iget for root directory if unallocated
  (bnc#1012628).
- ext4: always initialize the crc32c checksum driver
  (bnc#1012628).
- ext4: don't allow r/w mounts if metadata blocks overlap the
  superblock (bnc#1012628).
- ext4: move call to ext4_error() into ext4_xattr_check_block()
  (bnc#1012628).
- ext4: add bounds checking to ext4_xattr_find_entry()
  (bnc#1012628).
- ext4: add extra checks to ext4_xattr_block_get() (bnc#1012628).
- ext4: force revalidation of directory pointer after seekdir(2)
  (bnc#1012628).
- dm: backfill abnormal IO support to non-splitting IO submission
  (bnc#1012628).
- dm crypt: limit the number of allocated pages (bnc#1012628).
- RDMA/ucma: Don't allow setting RDMA_OPTION_IB_PATH without an
  RDMA device (bnc#1012628).
- RDMA/mlx5: Protect from NULL pointer derefence (bnc#1012628).
- RDMA/rxe: Fix an out-of-bounds read (bnc#1012628).
- RDMA/core: Avoid that ib_drain_qp() triggers an out-of-bounds
  stack access (bnc#1012628).
- xprtrdma: Fix latency regression on NUMA NFS/RDMA clients
  (bnc#1012628).
- xprtrdma: Fix corner cases when handling device removal
  (bnc#1012628).
- ALSA: pcm: Avoid potential races between OSS ioctls and
  read/write (bnc#1012628).
- ALSA: pcm: Return -EBUSY for OSS ioctls changing busy streams
  (bnc#1012628).
- ALSA: pcm: Fix mutex unbalance in OSS emulation ioctls
  (bnc#1012628).
- ALSA: pcm: Fix UAF at PCM release via PCM timer access
  (bnc#1012628).
- ALSA: pcm: Fix endless loop for XRUN recovery in OSS emulation
  (bnc#1012628).
- IB/srp: Fix srp_abort() (bnc#1012628).
- IB/srp: Fix completion vector assignment algorithm
  (bnc#1012628).
- IB/srpt: Fix an out-of-bounds stack access in
  srpt_zerolength_write() (bnc#1012628).
- drivers/infiniband/core/verbs.c: fix build with gcc-4.4.4
  (bnc#1012628).
- drivers/infiniband/ulp/srpt/ib_srpt.c: fix build with gcc-4.4.4
  (bnc#1012628).
- dm raid: fix nosync status (bnc#1012628).
- dmaengine: at_xdmac: fix rare residue corruption (bnc#1012628).
- cxl: Fix possible deadlock when processing page faults from
  cxllib (bnc#1012628).
- tpm: self test failure should not cause suspend to fail
  (bnc#1012628).
- libnvdimm, dimm: fix dpa reservation vs uninitialized label area
  (bnc#1012628).
- libnvdimm, namespace: use a safe lookup for dimm device name
  (bnc#1012628).
- vsprintf: Do not preprocess non-dereferenced pointers for
  bprintf (%px and %pK) (bnc#1012628).
- nfit, address-range-scrub: fix scrub in-progress reporting
  (bnc#1012628).
- nfit: skip region registration for incomplete control regions
  (bnc#1012628).
- ring-buffer: Check if memory is available before allocation
  (bnc#1012628).
- um: Compile with modern headers (bnc#1012628).
- um: Use POSIX ucontext_t instead of struct ucontext
  (bnc#1012628).
- iommu/vt-d: Fix a potential memory leak (bnc#1012628).
- mmc: core: Prevent bus reference leak in mmc_blk_init()
  (bnc#1012628).
- mmc: jz4740: Fix race condition in IRQ mask update
  (bnc#1012628).
- mmc: tmio: Fix error handling when issuing CMD23 (bnc#1012628).
- Revert "drm/amd/display: fix dereferencing possible ERR_PTR()"
  (bnc#1012628).
- drm/amd/display: HDMI has no sound after Panel power off/on
  (bnc#1012628).
- trace_uprobe: Use %lx to display offset (bnc#1012628).
- PCI: Mark Broadcom HT1100 and HT2000 Root Port Extended Tags
  as broken (bnc#1012628).
- clk: mvebu: armada-38x: add support for missing clocks
  (bnc#1012628).
- clk: fix false-positive Wmaybe-uninitialized warning
  (bnc#1012628).
- clk: mediatek: fix PWM clock source by adding a fixed-factor
  clock (bnc#1012628).
- clk: bcm2835: De-assert/assert PLL reset signal when appropriate
  (bnc#1012628).
- clk: tegra: Mark HCLK, SCLK and EMC as critical (bnc#1012628).
- pwm: rcar: Fix a condition to prevent mismatch value setting
  to duty (bnc#1012628).
- pwm: mediatek: Fix up PWM4 and PWM5 malfunction on MT7623
  (bnc#1012628).
- pwm: mediatek: Improve precision in rate calculation
  (bnc#1012628).
- thermal: imx: Fix race condition in imx_thermal_probe()
  (bnc#1012628).
- dt-bindings: clock: mediatek: add binding for fixed-factor
  clock axisel_d4 (bnc#1012628).
- watchdog: f71808e_wdt: Fix WD_EN register read (bnc#1012628).
- drm/amdgpu: Add an ATPX quirk for hybrid laptop (bnc#1012628).
- drm/amdgpu: Fix always_valid bos multiple LRU insertions
  (bnc#1012628).
- drm/amdgpu/sdma: fix mask in emit_pipeline_sync (bnc#1012628).
- drm/amdgpu: Fix PCIe lane width calculation (bnc#1012628).
- drm/amdgpu/si: implement get/set pcie_lanes asic callback
  (bnc#1012628).
- drm/rockchip: Clear all interrupts before requesting the IRQ
  (bnc#1012628).
- drm/radeon: add PX quirk for Asus K73TK (bnc#1012628).
- drm/radeon: Fix PCIe lane width calculation (bnc#1012628).
- ALSA: line6: Use correct endpoint type for midi output
  (bnc#1012628).
- ALSA: rawmidi: Fix missing input substream checks in compat
  ioctls (bnc#1012628).
- ALSA: hda - New VIA controller suppor no-snoop path
  (bnc#1012628).
- ALSA: hda/realtek - set PINCFG_HEADSET_MIC to parse_flags
  (bnc#1012628).
- ALSA: hda/realtek - adjust the location of one mic
  (bnc#1012628).
- random: fix crng_ready() test (bnc#1012628).
- random: use a different mixing algorithm for
  add_device_randomness() (bnc#1012628).
- random: crng_reseed() should lock the crng instance that it
  is modifying (bnc#1012628).
- random: add new ioctl RNDRESEEDCRNG (bnc#1012628).
- HID: i2c-hid: Fix resume issue on Raydium touchscreen device
  (bnc#1012628).
- HID: input: fix battery level reporting on BT mice
  (bnc#1012628).
- HID: hidraw: Fix crash on HIDIOCGFEATURE with a destroyed device
  (bnc#1012628).
- HID: wacom: bluetooth: send exit report for recent Bluetooth
  devices (bnc#1012628).
- s390: add support for IBM z14 Model ZR1 (bnc#1012628).
- MIPS: uaccess: Add micromips clobbers to bzero invocation
  (bnc#1012628).
- MIPS: memset.S: EVA & fault support for small_memset
  (bnc#1012628).
- MIPS: memset.S: Fix return of __clear_user from Lpartial_fixup
  (bnc#1012628).
- MIPS: memset.S: Fix clobber of v1 in last_fixup (bnc#1012628).
- powerpc/eeh: Fix enabling bridge MMIO windows (bnc#1012628).
- powerpc/xive: Fix trying to "push" an already active pool VP
  (bnc#1012628).
- powerpc/lib: Fix off-by-one in alternate feature patching
  (bnc#1012628).
- udf: Fix leak of UTF-16 surrogates into encoded strings
  (bnc#1012628).
- fanotify: fix logic of events on child (bnc#1012628).
- mmc: sdhci-pci: Only do AMD tuning for HS200 (bnc#1012628).
- drm/i915: Fix hibernation with ACPI S0 target state
  (bnc#1012628).
- drm/i915: Correctly handle limited range YCbCr data on VLV/CHV
  (bnc#1012628).
- jffs2_kill_sb(): deal with failed allocations (bnc#1012628).
- hypfs_kill_super(): deal with failed allocations (bnc#1012628).
- orangefs_kill_sb(): deal with allocation failures (bnc#1012628).
- rpc_pipefs: fix double-dput() (bnc#1012628).
- Don't leak MNT_INTERNAL away from internal mounts (bnc#1012628).
- libnvdimm, dimm: handle EACCES failures from label reads
  (bnc#1012628).
- device-dax: allow MAP_SYNC to succeed (bnc#1012628).
- autofs: mount point create should honour passed in mode
  (bnc#1012628).
- mm/filemap.c: fix NULL pointer in page_cache_tree_insert()
  (bnc#1012628).
- drm/i915/gvt: init mmio by lri command in vgpu inhibit context
  (bnc#1012628).
- HID: i2c-hid: fix inverted return value from i2c_hid_command()
  (bnc#1012628).
- writeback: safer lock nesting (bnc#1012628).
- Delete
  patches.suse/ext4-llseek-do-not-crop-offset-on-32bit.patch.
- commit 2ebc2ec

-------------------------------------------------------------------
Tue Apr 24 08:34:08 CEST 2018 - mkubecek@suse.cz

- Documentation: typec.rst: Use literal-block element with
  ascii art.
- commit 1aebada

-------------------------------------------------------------------
Mon Apr 23 21:19:28 CEST 2018 - jeffm@suse.com

- README.BRANCH: Added Michal Kubecek as co-maintainer.
- commit 53ecad7

-------------------------------------------------------------------
Mon Apr 23 12:35:25 CEST 2018 - mkubecek@suse.cz

- Update to 4.17-rc2
- Eliminated 2 patches
- Config changes:
  - s390x:
    - KEXEC_FILE=y
- commit 8aad964

-------------------------------------------------------------------
Fri Apr 20 08:00:04 CEST 2018 - mkubecek@suse.cz

- Update to 4.17-rc1.
- Eliminated 55 patches (51 stable 4.16.x)
- ARM configs need updating.
- Config changes:
  - x86:
    - ACPI_TAD=m
  - s390:
    - EXPOLINE_FULL=y
    - VT=y
    - CONSOLE_TRANSLATIONS=y
    - VT_CONSOLE=y
    - VT_HW_CONSOLE_BINDING=n
    - DUMMY_CONSOLE_COLUMNS=80
    - DUMMY_CONSOLE_ROWS=25
    - SPEAKUP=n
  - Network:
    - NF_TABLES_INET=y
    - NF_TABLES_NETDEV=y
    - NF_TABLES_ARP=y
    - NF_TABLES_BRIDGE=y
    - NET_EMATCH_IPT=m
    - ICE=m
    - RSI_COEX=y
    - IEEE802154_MCR20A=m
    - INFINIBAND_EXP_LEGACY_VERBS_NEW_UAPI=n
  - Filesystems:
    - OVERLAY_FS_XINO_AUTO=n
    - PSTORE_DEFLATE_COMPRESS=m
    - PSTORE_LZ4HC_COMPRESS=m
    - PSTORE_842_COMPRESS=n
    - PSTORE_DEFLATE_COMPRESS_DEFAULT=deflate
  - Crypto:
    - CRYPTO_CFB=m
    - CRYPTO_SM4=m
    - CRYPTO_SPECK=m
    - CRYPTO_DEV_CHELSIO_TLS=m
  - Input:
    - JOYSTICK_PXRC=m
    - HID_ELAN=m
    - HID_GOOGLE_HAMMER=m
  - Sound:
    - SND_SOC_INTEL_CHT_BSW_NAU8824_MACH=m
    - SND_SOC_INTEL_KBL_DA7219_MAX98357A_MACH=m
    - SND_SOC_AK4458=n
    - SND_SOC_AK5558=n
    - SND_SOC_BD28623=n
    - SND_SOC_MAX9867=n
    - SND_SOC_PCM1789_I2C=n
    - SND_SOC_TDA7419=m
    - SND_SOC_MAX9759=n
  - USB:
    - TYPEC_MUX_PI3USB30532=m
    - USB_ROLES_INTEL_XHCI=m
  - GPIO:
    - GPIO_104_DIO_48E=m
    - GPIO_104_IDIO_16=m
    - GPIO_104_IDI_48=m
    - GPIO_GPIO_MM=m
    - GPIO_WINBOND=m
    - GPIO_WS16C48=m
  - Media:
    - CEC_PIN_ERROR_INJ=n
    - CXD2880_SPI_DRV=m
    - MTK_MMC=n
  - IIO:
    - 104_QUAD_8=m
    - CIO_DAC=n
    - AD5272=m
    - MCP4018=m
    - MLX90632=m
  - Other:
    - THERMAL_STATISTICS=y
    - EBC_C384_WDT=m
    - LEDS_MLXREG=m
    - COMMON_CLK_SI544=n
    - STX104=n
    - LV0104CS=n
  - Remote controlers:
    - IR_IMON_DECODER=m
    - IR_IMON_RAW=m
    - INTEL_TH_ACPI=m
  - Debugging:
    - DEBUG_RWSEMS=n
- commit 4e61ecf

-------------------------------------------------------------------
Fri Apr 20 07:55:45 CEST 2018 - mkubecek@suse.cz

- config: enable TCP_MD5SIG (bsc#1090162)
- commit 1cfc938

-------------------------------------------------------------------
Fri Apr 20 07:30:52 CEST 2018 - mkubecek@suse.cz

- x86/power/64: Fix page-table setup for temporary text mapping
  (https://patchwork.kernel.org/patch/10342491/).
- x86/ldt: Fix support_pte_mask filtering in map_ldt_struct()
  (https://patchwork.kernel.org/patch/10342491/).
- commit 3c56473

-------------------------------------------------------------------
Fri Apr 20 00:42:19 CEST 2018 - msuchanek@suse.de

- HID: redragon: Fix modifier keys for Redragon Asura Keyboard
  (https://build.opensuse.org/request/show/597583).
  Update config files.
- commit e9bd8ea

-------------------------------------------------------------------
Thu Apr 19 22:52:31 CEST 2018 - jslaby@suse.cz

- Linux 4.16.3 (bnc#1012628).
- cdc_ether: flag the Cinterion AHS8 modem by gemalto as WWAN
  (bnc#1012628).
- rds: MP-RDS may use an invalid c_path (bnc#1012628).
- slip: Check if rstate is initialized before uncompressing
  (bnc#1012628).
- vhost: fix vhost_vq_access_ok() log check (bnc#1012628).
- l2tp: fix races in tunnel creation (bnc#1012628).
- l2tp: fix race in duplicate tunnel detection (bnc#1012628).
- ip_gre: clear feature flags when incompatible o_flags are set
  (bnc#1012628).
- vhost: Fix vhost_copy_to_user() (bnc#1012628).
- lan78xx: Correctly indicate invalid OTP (bnc#1012628).
- sparc64: Properly range check DAX completion index
  (bnc#1012628).
- media: v4l2-compat-ioctl32: don't oops on overlay (bnc#1012628).
- media: v4l: vsp1: Fix header display list status check in
  continuous mode (bnc#1012628).
- ipmi: Fix some error cleanup issues (bnc#1012628).
- parisc: Fix out of array access in match_pci_device()
  (bnc#1012628).
- parisc: Fix HPMC handler by increasing size to multiple of 16
  bytes (bnc#1012628).
- iwlwifi: add a bunch of new 9000 PCI IDs (bnc#1012628).
- Drivers: hv: vmbus: do not mark HV_PCIE as perf_device
  (bnc#1012628).
- PCI: hv: Serialize the present and eject work items
  (bnc#1012628).
- PCI: hv: Fix 2 hang issues in hv_compose_msi_msg()
  (bnc#1012628).
- KVM: PPC: Book3S HV: trace_tlbie must not be called in realmode
  (bnc#1012628).
- perf intel-pt: Fix overlap detection to identify consecutive
  buffers correctly (bnc#1012628).
- perf intel-pt: Fix sync_switch (bnc#1012628).
- perf intel-pt: Fix error recovery from missing TIP packet
  (bnc#1012628).
- perf intel-pt: Fix timestamp following overflow (bnc#1012628).
- perf/core: Fix use-after-free in uprobe_perf_close()
  (bnc#1012628).
- radeon: hide pointless #warning when compile testing
  (bnc#1012628).
- x86/mce/AMD: Pass the bank number to smca_get_bank_type()
  (bnc#1012628).
- x86/mce/AMD, EDAC/mce_amd: Enumerate Reserved SMCA bank type
  (bnc#1012628).
- x86/mce/AMD: Get address from already initialized block
  (bnc#1012628).
- ath9k: Protect queue draining by rcu_read_lock() (bnc#1012628).
- x86/uapi: Fix asm/bootparam.h userspace compilation errors
  (bnc#1012628).
- x86/apic: Fix signedness bug in APIC ID validity checks
  (bnc#1012628).
- sunrpc: remove incorrect HMAC request initialization
  (bnc#1012628).
- f2fs: fix heap mode to reset it back (bnc#1012628).
- block: Change a rcu_read_{lock,unlock}_sched() pair into
  rcu_read_{lock,unlock}() (bnc#1012628).
- nvme: Skip checking heads without namespaces (bnc#1012628).
- lib: fix stall in __bitmap_parselist() (bnc#1012628).
- zboot: fix stack protector in compressed boot phase
  (bnc#1012628).
- blk-mq: Directly schedule q->timeout_work when aborting a
  request (bnc#1012628).
- blk-mq: order getting budget and driver tag (bnc#1012628).
- blk-mq: make sure that correct hctx->next_cpu is set
  (bnc#1012628).
- blk-mq: don't keep offline CPUs mapped to hctx 0 (bnc#1012628).
- ovl: Set d->last properly during lookup (bnc#1012628).
- ovl: fix lookup with middle layer opaque dir and absolute path
  redirects (bnc#1012628).
- ovl: set i_ino to the value of st_ino for NFS export
  (bnc#1012628).
- ovl: set lower layer st_dev only if setting lower st_ino
  (bnc#1012628).
- xen: xenbus_dev_frontend: Fix XS_TRANSACTION_END handling
  (bnc#1012628).
- hugetlbfs: fix bug in pgoff overflow checking (bnc#1012628).
- nfsd: fix incorrect umasks (bnc#1012628).
- scsi: scsi_dh: Don't look for NULL devices handlers by name
  (bnc#1012628).
- scsi: qla2xxx: Fix small memory leak in qla2x00_probe_one on
  probe failure (bnc#1012628).
- Revert "scsi: core: return BLK_STS_OK for DID_OK in
  __scsi_error_from_host_byte()" (bnc#1012628).
- apparmor: fix logging of the existence test for signals
  (bnc#1012628).
- apparmor: fix display of .ns_name for containers (bnc#1012628).
- apparmor: fix resource audit messages when auditing peer
  (bnc#1012628).
- block/loop: fix deadlock after loop_set_status (bnc#1012628).
- nfit: fix region registration vs block-data-window ranges
  (bnc#1012628).
- s390/qdio: don't retry EQBS after CCQ 96 (bnc#1012628).
- s390/qdio: don't merge ERROR output buffers (bnc#1012628).
- s390/ipl: ensure loadparm valid flag is set (bnc#1012628).
- s390/compat: fix setup_frame32 (bnc#1012628).
- get_user_pages_fast(): return -EFAULT on access_ok failure
  (bnc#1012628).
- mm/gup_benchmark: handle gup failures (bnc#1012628).
- getname_kernel() needs to make sure that ->name != ->iname in
  long case (bnc#1012628).
- Bluetooth: Fix connection if directed advertising and privacy
  is used (bnc#1012628).
- Bluetooth: hci_bcm: Treat Interrupt ACPI resources as always
  being active-low (bnc#1012628).
- rtl8187: Fix NULL pointer dereference in priv->conf_mutex
  (bnc#1012628).
- Refresh patches.suse/0001-AppArmor-basic-networking-rules.patch.
- commit 771261a

-------------------------------------------------------------------
Thu Apr 19 17:47:45 CEST 2018 - tiwai@suse.de

- resource: fix integer overflow at reallocation (bsc#1086739).
- commit 4cf2593

-------------------------------------------------------------------
Thu Apr 19 17:26:11 CEST 2018 - tiwai@suse.de

- Update tags of upstreamed patches
  Refresh
  patches.suse/Revert-drm-amd-display-disable-CRTCs-with-NULL-FB.patch
  patches.suse/media-v4l2-core-fix-size-of-devnode_nums-bitarray.patch
  patches.suse/swiotlb-Fix-unexpected-swiotlb_alloc_coherent-failur.patch
- commit e2aa76d

-------------------------------------------------------------------
Thu Apr 19 15:42:41 CEST 2018 - msuchanek@suse.de

- objtool, perf: Fix GCC 8 -Wrestrict error (bsc#1084620).
- commit 0c6114f

-------------------------------------------------------------------
Wed Apr 18 14:16:28 CEST 2018 - msuchanek@suse.de

- supported.conf: update from openSUSE-15.0
- commit 4ef3f17

-------------------------------------------------------------------
Mon Apr 16 13:45:34 CEST 2018 - tiwai@suse.de

- Revert "drm/amd/display: disable CRTCs with NULL FB on their
  primary plane (V2)" (bsc#1089615, bsc#1088902).
- commit e881e16

-------------------------------------------------------------------
Mon Apr 16 11:22:14 CEST 2018 - mbrugger@suse.com

- arm64: Update config files. (bsc#1089764)
  Increase NR_CPUS to 384
- commit 6f06d9e

-------------------------------------------------------------------
Thu Apr 12 14:50:41 CEST 2018 - jslaby@suse.cz

- Linux 4.16.2 (bnc#1012628).
- nfp: use full 40 bits of the NSP buffer address (bnc#1012628).
- net_sched: fix a missing idr_remove() in u32_delete_key()
  (bnc#1012628).
- vti6: better validate user provided tunnel names (bnc#1012628).
- ip6_tunnel: better validate user provided tunnel names
  (bnc#1012628).
- ip6_gre: better validate user provided tunnel names
  (bnc#1012628).
- ipv6: sit: better validate user provided tunnel names
  (bnc#1012628).
- ip_tunnel: better validate user provided tunnel names
  (bnc#1012628).
- net: fool proof dev_valid_name() (bnc#1012628).
- vlan: also check phy_driver ts_info for vlan's real device
  (bnc#1012628).
- sky2: Increase D3 delay to sky2 stops working after suspend
  (bnc#1012628).
- sctp: sctp_sockaddr_af must check minimal addr length for
  AF_INET6 (bnc#1012628).
- sctp: do not leak kernel memory to user space (bnc#1012628).
- pptp: remove a buggy dst release in pptp_connect()
  (bnc#1012628).
- net/sched: fix NULL dereference in the error path of
  tcf_bpf_init() (bnc#1012628).
- net/ipv6: Increment OUTxxx counters after netfilter hook
  (bnc#1012628).
- net: dsa: Discard frames from unused ports (bnc#1012628).
- arp: fix arp_filter on l3slave devices (bnc#1012628).
- sparc64: Oracle DAX driver depends on SPARC64 (bnc#1012628).
- commit 8ea896b

-------------------------------------------------------------------
Wed Apr 11 11:59:12 CEST 2018 - jslaby@suse.cz

- Update config files.
  s390x/vanilla fails to build without this.
- commit e8d83e8

-------------------------------------------------------------------
Tue Apr 10 20:01:19 CEST 2018 - tiwai@suse.de

- swiotlb: Fix unexpected swiotlb_alloc_coherent() failures
  (bsc#1088658, bsc#1088902).
- commit 096b538

-------------------------------------------------------------------
Tue Apr 10 17:03:50 CEST 2018 - msuchanek@suse.de

- rpm/package-descriptions: fix typo in kernel-azure
- Add azure kernel description.
- commit af0f13e

-------------------------------------------------------------------
Mon Apr  9 12:28:40 CEST 2018 - tiwai@suse.de

- media: v4l2-core: fix size of devnode_nums[] bitarray
  (bsc#1088640).
- commit 6fcb3b5

-------------------------------------------------------------------
Mon Apr  9 08:15:40 CEST 2018 - jslaby@suse.cz

- Linux 4.16.1 (bnc#1012628).
- signal: Correct the offset of si_pkey and si_lower in struct
  siginfo on m68k (bnc#1012628).
- Fix slab name "biovec-(1<<(21-12))" (bnc#1012628).
- vt: change SGR 21 to follow the standards (bnc#1012628).
- Input: i8042 - enable MUX on Sony VAIO VGN-CS series to fix
  touchpad (bnc#1012628).
- Input: i8042 - add Lenovo ThinkPad L460 to i8042 reset list
  (bnc#1012628).
- Input: ALPS - fix TrackStick detection on Thinkpad L570 and
  Latitude 7370 (bnc#1012628).
- Revert "base: arch_topology: fix section mismatch build
  warnings" (bnc#1012628).
- staging: comedi: ni_mio_common: ack ai fifo error interrupts
  (bnc#1012628).
- siox: fix possible buffer overflow in device_add_store
  (bnc#1012628).
- Btrfs: fix unexpected cow in run_delalloc_nocow (bnc#1012628).
- Bluetooth: hci_bcm: Add 6 new ACPI HIDs (bnc#1012628).
- crypto: x86/cast5-avx - fix ECB encryption when long sg follows
  short one (bnc#1012628).
- crypto: arm,arm64 - Fix random regeneration of S_shipped
  (bnc#1012628).
- crypto: ccp - return an actual key size from RSA max_size
  callback (bnc#1012628).
- crypto: caam - Fix null dereference at error path (bnc#1012628).
- crypto: ahash - Fix early termination in hash walk
  (bnc#1012628).
- crypto: talitos - fix IPsec cipher in length (bnc#1012628).
- crypto: testmgr - Fix incorrect values in PKCS#1 test vector
  (bnc#1012628).
- crypto: inside-secure - fix clock management (bnc#1012628).
- crypto: talitos - don't persistently map req_ctx->hw_context
  and req_ctx->buf (bnc#1012628).
- crypto: ccp - Fill the result buffer only on digest, finup,
  and final ops (bnc#1012628).
- crypto: lrw - Free rctx->ext with kzfree (bnc#1012628).
- parport_pc: Add support for WCH CH382L PCI-E single parallel
  port card (bnc#1012628).
- media: usbtv: prevent double free in error case (bnc#1012628).
- /dev/mem: Avoid overwriting "err" in read_mem() (bnc#1012628).
- mei: remove dev_err message on an unsupported ioctl
  (bnc#1012628).
- serial: 8250: Add Nuvoton NPCM UART (bnc#1012628).
- USB: serial: cp210x: add ELDAT Easywave RX09 id (bnc#1012628).
- USB: serial: ftdi_sio: add support for Harman
  FirmwareHubEmulator (bnc#1012628).
- USB: serial: ftdi_sio: add RT Systems VX-8 cable (bnc#1012628).
- bitmap: fix memset optimization on big-endian systems
  (bnc#1012628).
- commit 4bf9d1e

-------------------------------------------------------------------
Fri Apr  6 10:06:22 CEST 2018 - agraf@suse.de

- armv6hl: Disable uacces with memcpy (boo#1080435)
- commit 2592f12

-------------------------------------------------------------------
Thu Apr  5 00:15:45 CEST 2018 - rgoldwyn@suse.com

- apparmor: Check all profiles attached to the label (bsc#1085996).
- commit b249c9e

-------------------------------------------------------------------
Wed Apr  4 15:34:30 CEST 2018 - jslaby@suse.cz

- Revert "tools: fix cross-compile var clobbering" (build fix).
- commit 590ff92

-------------------------------------------------------------------
Mon Apr  2 16:19:10 CEST 2018 - jeffm@suse.com

- Update to 4.16-final.
- commit 1b10c5b

-------------------------------------------------------------------
Sat Mar 31 21:42:52 CEST 2018 - jslaby@suse.cz

- Linux 4.15.15 (bnc#1012628).
- team: Fix double free in error path (bnc#1012628).
- skbuff: Fix not waking applications when errors are enqueued
  (bnc#1012628).
- qede: Fix qedr link update (bnc#1012628).
- net: systemport: Rewrite __bcm_sysport_tx_reclaim()
  (bnc#1012628).
- net: Only honor ifindex in IP_PKTINFO if non-0 (bnc#1012628).
- netlink: avoid a double skb free in genlmsg_mcast()
  (bnc#1012628).
- net/iucv: Free memory obtained by kzalloc (bnc#1012628).
- net: fec: Fix unbalanced PM runtime calls (bnc#1012628).
- net: ethernet: ti: cpsw: add check for in-band mode setting
  with RGMII PHY interface (bnc#1012628).
- commit 4904fc3

-------------------------------------------------------------------
Sat Mar 31 21:40:22 CEST 2018 - jslaby@suse.cz

- net: ethernet: arc: Fix a potential memory leak if an optional
  regulator is deferred (bnc#1012628).
- l2tp: do not accept arbitrary sockets (bnc#1012628).
- ipv6: fix access to non-linear packet in
  ndisc_fill_redirect_hdr_option() (bnc#1012628).
- dccp: check sk for closed state in dccp_sendmsg() (bnc#1012628).
- dpaa_eth: remove duplicate increment of the tx_errors counter
  (bnc#1012628).
- dpaa_eth: increment the RX dropped counter when needed
  (bnc#1012628).
- dpaa_eth: remove duplicate initialization (bnc#1012628).
- dpaa_eth: fix error in dpaa_remove() (bnc#1012628).
- soc/fsl/qbman: fix issue in qman_delete_cgr_safe()
  (bnc#1012628).
- s390/qeth: on channel error, reject further cmd requests
  (bnc#1012628).
- s390/qeth: lock read device while queueing next buffer
  (bnc#1012628).
- s390/qeth: when thread completes, wake up all waiters
  (bnc#1012628).
- s390/qeth: free netdevice when removing a card (bnc#1012628).
- net: Fix hlist corruptions in inet_evict_bucket() (bnc#1012628).
- net: use skb_to_full_sk() in skb_update_prio() (bnc#1012628).
- ieee802154: 6lowpan: fix possible NULL deref in
  lowpan_device_event() (bnc#1012628).
- sch_netem: fix skb leak in netem_enqueue() (bnc#1012628).
- kcm: lock lower socket in kcm_attach (bnc#1012628).
- test_rhashtable: add test case for rhltable with duplicate
  objects (bnc#1012628).
- rhashtable: Fix rhlist duplicates insertion (bnc#1012628).
- ppp: avoid loop in xmit recursion detection code (bnc#1012628).
- net sched actions: return explicit error when tunnel_key mode
  is not specified (bnc#1012628).
- ipv6: Reflect MTU changes on PMTU of exceptions for MTU-less
  routes (bnc#1012628).
- net: phy: Tell caller result of phy_change() (bnc#1012628).
- mlxsw: spectrum_buffers: Set a minimum quota for CPU port
  traffic (bnc#1012628).
- ipv6: sr: fix scheduling in RCU when creating seg6 lwtunnel
  state (bnc#1012628).
- ipv6: sr: fix NULL pointer dereference when setting encap
  source address (bnc#1012628).
- ipv6: old_dport should be a __be16 in __ip6_datagram_connect()
  (bnc#1012628).
- net: ipv6: keep sk status consistent after datagram connect
  failure (bnc#1012628).
- macvlan: filter out unsupported feature flags (bnc#1012628).
- devlink: Remove redundant free on error path (bnc#1012628).
- net: phy: relax error checking when creating sysfs link
  netdev->phydev (bnc#1012628).
- sysfs: symlink: export sysfs_create_link_nowarn() (bnc#1012628).
- qed: Fix non TCP packets should be dropped on iWARP ll2
  connection (bnc#1012628).
- tcp: purge write queue upon aborting the connection
  (bnc#1012628).
- qed: Fix MPA unalign flow in case header is split across two
  packets (bnc#1012628).
- openvswitch: meter: fix the incorrect calculation of max delta_t
  (bnc#1012628).
- net: dsa: Fix dsa_is_user_port() test inversion (bnc#1012628).
- commit 0e7b541

-------------------------------------------------------------------
Thu Mar 29 09:56:18 CEST 2018 - jslaby@suse.cz

- Linux 4.15.14 (bnc#1012628).
- MIPS: ralink: Remove ralink_halt() (bnc#1012628).
- MIPS: ralink: Fix booting on MT7621 (bnc#1012628).
- MIPS: lantiq: Fix Danube USB clock (bnc#1012628).
- MIPS: lantiq: Enable AHB Bus for USB (bnc#1012628).
- MIPS: lantiq: ase: Enable MFD_SYSCON (bnc#1012628).
- iio: chemical: ccs811: Corrected firmware boot/application
  mode transition (bnc#1012628).
- iio: st_pressure: st_accel: pass correct platform data to init
  (bnc#1012628).
- iio: adc: meson-saradc: unlock on error in meson_sar_adc_lock()
  (bnc#1012628).
- ALSA: usb-audio: Fix parsing descriptor of UAC2 processing unit
  (bnc#1012628).
- ALSA: aloop: Sync stale timer before release (bnc#1012628).
- ALSA: aloop: Fix access to not-yet-ready substream via cable
  (bnc#1012628).
- ALSA: hda - Force polling mode on CFL for fixing codec
  communication (bnc#1012628).
- ALSA: hda/realtek - Fix speaker no sound after system resume
  (bnc#1012628).
- ALSA: hda/realtek - Fix Dell headset Mic can't record
  (bnc#1012628).
- ALSA: hda/realtek - Always immediately update mute LED with
  pin VREF (bnc#1012628).
- mmc: core: Fix tracepoint print of blk_addr and blksz
  (bnc#1012628).
- mmc: core: Disable HPI for certain Micron (Numonyx) eMMC cards
  (bnc#1012628).
- mmc: block: fix updating ext_csd caches on ioctl call
  (bnc#1012628).
- mmc: dw_mmc: Fix the DTO/CTO timeout overflow calculation for
  32-bit systems (bnc#1012628).
- mmc: dw_mmc: exynos: fix the suspend/resume issue for exynos5433
  (bnc#1012628).
- mmc: dw_mmc: fix falling from idmac to PIO mode when
  dw_mci_reset occurs (bnc#1012628).
- PCI: Add function 1 DMA alias quirk for Highpoint RocketRAID
  644L (bnc#1012628).
- ahci: Add PCI-id for the Highpoint Rocketraid 644L card
  (bnc#1012628).
- lockdep: fix fs_reclaim warning (bnc#1012628).
- clk: bcm2835: Fix ana->maskX definitions (bnc#1012628).
- clk: bcm2835: Protect sections updating shared registers
  (bnc#1012628).
- clk: sunxi-ng: a31: Fix CLK_OUT_* clock ops (bnc#1012628).
- RDMA/mlx5: Fix crash while accessing garbage pointer and freed
  memory (bnc#1012628).
- Drivers: hv: vmbus: Fix ring buffer signaling (bnc#1012628).
- pinctrl: samsung: Validate alias coming from DT (bnc#1012628).
- Bluetooth: btusb: Remove Yoga 920 from the
  btusb_needs_reset_resume_table (bnc#1012628).
- Bluetooth: btusb: Add Dell OptiPlex 3060 to
  btusb_needs_reset_resume_table (bnc#1012628).
- libata: fix length validation of ATAPI-relayed SCSI commands
  (bnc#1012628).
- libata: remove WARN() for DMA or PIO command without data
  (bnc#1012628).
- libata: don't try to pass through NCQ commands to non-NCQ
  devices (bnc#1012628).
- libata: Apply NOLPM quirk to Crucial MX100 512GB SSDs
  (bnc#1012628).
- libata: disable LPM for Crucial BX100 SSD 500GB drive
  (bnc#1012628).
- libata: Enable queued TRIM for Samsung SSD 860 (bnc#1012628).
- libata: Apply NOLPM quirk to Crucial M500 480 and 960GB SSDs
  (bnc#1012628).
- libata: Make Crucial BX100 500GB LPM quirk apply to all firmware
  versions (bnc#1012628).
- libata: Modify quirks for MX100 to limit NCQ_TRIM quirk to
  MU01 version (bnc#1012628).
- sched, cgroup: Don't reject lower cpu.max on ancestors
  (bnc#1012628).
- cgroup: fix rule checking for threaded mode switching
  (bnc#1012628).
- nfsd: remove blocked locks on client teardown (bnc#1012628).
- media: tegra-cec: reset rx_buf_cnt when start bit detected
  (bnc#1012628).
- hugetlbfs: check for pgoff value overflow (bnc#1012628).
- h8300: remove extraneous __BIG_ENDIAN definition (bnc#1012628).
- mm/vmalloc: add interfaces to free unmapped page table
  (bnc#1012628).
- x86/mm: implement free pmd/pte page interfaces (bnc#1012628).
- mm/khugepaged.c: convert VM_BUG_ON() to collapse fail
  (bnc#1012628).
- mm/thp: do not wait for lock_page() in deferred_split_scan()
  (bnc#1012628).
- mm/shmem: do not wait for lock_page() in
  shmem_unused_huge_shrink() (bnc#1012628).
- Revert "mm: page_alloc: skip over regions of invalid pfns
  where possible" (bnc#1012628).
- drm/vmwgfx: Fix black screen and device errors when running
  without fbdev (bnc#1012628).
- drm/vmwgfx: Fix a destoy-while-held mutex problem (bnc#1012628).
- drm/radeon: Don't turn off DP sink when disconnected
  (bnc#1012628).
- drm/amd/display: We shouldn't set format_default on plane as
  atomic driver (bnc#1012628).
- drm/amd/display: Add one to EDID's audio channel count when
  passing to DC (bnc#1012628).
- drm: Reject getfb for multi-plane framebuffers (bnc#1012628).
- drm: udl: Properly check framebuffer mmap offsets (bnc#1012628).
- mm/vmscan: wake up flushers for legacy cgroups too
  (bnc#1012628).
- module: propagate error in modules_open() (bnc#1012628).
- acpi, numa: fix pxm to online numa node associations
  (bnc#1012628).
- ACPI / watchdog: Fix off-by-one error at resource assignment
  (bnc#1012628).
- libnvdimm, {btt, blk}: do integrity setup before add_disk()
  (bnc#1012628).
- brcmfmac: fix P2P_DEVICE ethernet address generation
  (bnc#1012628).
- rtlwifi: rtl8723be: Fix loss of signal (bnc#1012628).
- tracing: probeevent: Fix to support minus offset from symbol
  (bnc#1012628).
- mtdchar: fix usage of mtd_ooblayout_ecc() (bnc#1012628).
- mtd: nand: fsl_ifc: Fix nand waitfunc return value
  (bnc#1012628).
- mtd: nand: fsl_ifc: Fix eccstat array overflow for IFC ver >=
  2.0.0 (bnc#1012628).
- mtd: nand: fsl_ifc: Read ECCSTAT0 and ECCSTAT1 registers for
  IFC 2.0 (bnc#1012628).
- can: peak/pcie_fd: fix echo_skb is occupied! bug (bnc#1012628).
- can: peak/pcie_fd: remove useless code when interface starts
  (bnc#1012628).
- can: ifi: Repair the error handling (bnc#1012628).
- can: ifi: Check core revision upon probe (bnc#1012628).
- can: cc770: Fix stalls on rt-linux, remove redundant IRQ ack
  (bnc#1012628).
- can: cc770: Fix queue stall & dropped RTR reply (bnc#1012628).
- can: cc770: Fix use after free in cc770_tx_interrupt()
  (bnc#1012628).
- tty: vt: fix up tabstops properly (bnc#1012628).
- selftests/x86/ptrace_syscall: Fix for yet more glibc
  interference (bnc#1012628).
- x86/vsyscall/64: Use proper accessor to update P4D entry
  (bnc#1012628).
- x86/efi: Free efi_pgd with free_pages() (bnc#1012628).
- posix-timers: Protect posix clock array access against
  speculation (bnc#1012628).
- kvm/x86: fix icebp instruction handling (bnc#1012628).
- x86/build/64: Force the linker to use 2MB page size
  (bnc#1012628).
- x86/boot/64: Verify alignment of the LOAD segment (bnc#1012628).
- hwmon: (k10temp) Only apply temperature offset if result is
  positive (bnc#1012628).
- hwmon: (k10temp) Add temperature offset for Ryzen 1900X
  (bnc#1012628).
- perf/x86/intel/uncore: Fix Skylake UPI event format
  (bnc#1012628).
- perf stat: Fix CVS output format for non-supported counters
  (bnc#1012628).
- perf/core: Fix ctx_event_type in ctx_resched() (bnc#1012628).
- trace/bpf: remove helper bpf_perf_prog_read_value from
  tracepoint type programs (bnc#1012628).
- perf/x86/intel: Don't accidentally clear high bits in
  bdw_limit_period() (bnc#1012628).
- perf/x86/intel/uncore: Fix multi-domain PCI CHA enumeration
  bug on Skylake servers (bnc#1012628).
- iio: ABI: Fix name of timestamp sysfs file (bnc#1012628).
- iio: imu: st_lsm6dsx: fix endianness in
  st_lsm6dsx_read_oneshot() (bnc#1012628).
- iio: imu: st_lsm6dsx: introduce conf_lock mutex (bnc#1012628).
- staging: android: ion: Zero CMA allocated memory (bnc#1012628).
- kbuild: disable clang's default use of -fmerge-all-constants
  (bnc#1012628).
- bpf: skip unnecessary capability check (bnc#1012628).
- bpf, x64: increase number of passes (bnc#1012628).
- commit def7e44

-------------------------------------------------------------------
Wed Mar 28 02:56:01 CEST 2018 - neilb@suse.com

- staging: ncpfs: memory corruption in ncp_read_kernel()
  (bsc#1086162, CVE-2018-8822).
- commit a967c04

-------------------------------------------------------------------
Tue Mar 27 16:22:18 CEST 2018 - bp@suse.de

- x86/entry/64: Don't use IST entry for #BP stack (bsc#1087088).
- commit 67a9975

-------------------------------------------------------------------
Mon Mar 26 16:57:24 CEST 2018 - tiwai@suse.de

- brcmsmac: allocate ucode with GFP_KERNEL (bsc#1085174).
- commit 580a38a

-------------------------------------------------------------------
Mon Mar 26 09:52:25 CEST 2018 - jslaby@suse.cz

- Update vanilla config files.
- commit 9beaab6

-------------------------------------------------------------------
Mon Mar 26 04:09:50 CEST 2018 - bpoirier@suse.com

- net: phy: mdio-bcm-unimac: fix potential NULL dereference in
  unimac_mdio_probe() (bsc#1084829 CVE-2018-8043).
- commit 7b5f96b

-------------------------------------------------------------------
Mon Mar 26 03:09:53 CEST 2018 - jeffm@suse.com

- Update to 4.16-rc7.
- Eliminated 1 patch.
- commit 7a36f2f

-------------------------------------------------------------------
Sun Mar 25 10:33:26 CEST 2018 - jslaby@suse.cz

- Linux 4.15.13 (bnc#1012628).
- RDMA/ucma: Don't allow join attempts for unsupported AF family
  (bnc#1012628).
- RDMA/ucma: Fix access to non-initialized CM_ID object
  (bnc#1012628).
- clk: migrate the count of orphaned clocks at init (bnc#1012628).
- RDMA/core: Do not use invalid destination in determining port
  reuse (bnc#1012628).
- serial: 8250_pci: Don't fail on multiport card class
  (bnc#1012628).
- RDMA/vmw_pvrdma: Fix usage of user response structures in ABI
  file (bnc#1012628).
- IB/mlx5: Fix out-of-bounds read in create_raw_packet_qp_rq
  (bnc#1012628).
- IB/mlx5: Fix integer overflows in mlx5_ib_create_srq
  (bnc#1012628).
- dmaengine: ti-dma-crossbar: Fix event mapping for
  TPCC_EVT_MUX_60_63 (bnc#1012628).
- hwrng: core - Clean up RNG list when last hwrng is unregistered
  (bnc#1012628).
- crypto: artpec6 - set correct iv size for gcm(aes)
  (bnc#1012628).
- clk: si5351: Rename internal plls to avoid name collisions
  (bnc#1012628).
- clk: axi-clkgen: Correctly handle nocount bit in recalc_rate()
  (bnc#1012628).
- clk: Don't touch hardware when reparenting during registration
  (bnc#1012628).
- clk: at91: pmc: Wait for clocks when resuming (bnc#1012628).
- nfsd4: permit layoutget of executable-only files (bnc#1012628).
- ARM: dts: aspeed-evb: Add unit name to memory node
  (bnc#1012628).
- RDMA/ocrdma: Fix permissions for OCRDMA_RESET_STATS
  (bnc#1012628).
- scsi: lpfc: Fix issues connecting with nvme initiator
  (bnc#1012628).
- scsi: lpfc: Fix SCSI LUN discovery when SCSI and NVME enabled
  (bnc#1012628).
- soc: qcom: smsm: fix child-node lookup (bnc#1012628).
- ip_gre: fix potential memory leak in erspan_rcv (bnc#1012628).
- ip_gre: fix error path when erspan_rcv failed (bnc#1012628).
- ip6_vti: adjust vti mtu according to mtu of lower device
  (bnc#1012628).
- iommu/vt-d: clean up pr_irq if request_threaded_irq fails
  (bnc#1012628).
- pinctrl: rockchip: enable clock when reading pin direction
  register (bnc#1012628).
- pinctrl: Really force states during suspend/resume
  (bnc#1012628).
- clk: use round rate to bail out early in set_rate (bnc#1012628).
- dt-bindings: display: panel: Fix compatible string for Toshiba
  LT089AC29000 (bnc#1012628).
- clk: check ops pointer on clock register (bnc#1012628).
- media: davinci: fix a debug printk (bnc#1012628).
- PCI: rcar: Handle rcar_pcie_parse_request_of_pci_ranges()
  failures (bnc#1012628).
- PCI: endpoint: Fix find_first_zero_bit() usage (bnc#1012628).
- PCI: designware-ep: Fix ->get_msi() to check MSI_EN bit
  (bnc#1012628).
- coresight: Fix disabling of CoreSight TPIU (bnc#1012628).
- pty: cancel pty slave port buf's work in tty_release
  (bnc#1012628).
- drm/omap: DMM: Check for DMM readiness after successful
  transaction commit (bnc#1012628).
- mmc: sdhci-xenon: wait 5ms after set 1.8V signal enable
  (bnc#1012628).
- omapdrm: panel: fix compatible vendor string for td028ttec1
  (bnc#1012628).
- vgacon: Set VGA struct resource types (bnc#1012628).
- PCI/ASPM: Calculate LTR_L1.2_THRESHOLD from device
  characteristics (bnc#1012628).
- bpf/cgroup: fix a verification error for a CGROUP_DEVICE type
  prog (bnc#1012628).
- iser-target: avoid reinitializing rdma contexts for isert
  commands (bnc#1012628).
- IB/umem: Fix use of npages/nmap fields (bnc#1012628).
- RDMA/cma: Use correct size when writing netlink stats
  (bnc#1012628).
- IB/ipoib: Avoid memory leak if the SA returns a different DGID
  (bnc#1012628).
- rtc: ac100: Fix multiple race conditions (bnc#1012628).
- media: s5p-mfc: Fix lock contention - request_firmware() once
  (bnc#1012628).
- sfp: fix non-detection of PHY (bnc#1012628).
- sfp: fix EEPROM reading in the case of non-SFF8472 SFPs
  (bnc#1012628).
- net: phy: meson-gxl: check phy_write return value (bnc#1012628).
- /dev/mem: Add bounce buffer for copy-out (bnc#1012628).
- mmc: block: fix logical error to avoid memory leak
  (bnc#1012628).
- mmc: avoid removing non-removable hosts during suspend
  (bnc#1012628).
- drm/tilcdc: ensure nonatomic iowrite64 is not used
  (bnc#1012628).
- dmaengine: zynqmp_dma: Fix race condition in the probe
  (bnc#1012628).
- platform/chrome: Use proper protocol transfer function
  (bnc#1012628).
- watchdog: Fix kref imbalance seen if handle_boot_enabled=0
  (bnc#1012628).
- watchdog: Fix potential kref imbalance when opening watchdog
  (bnc#1012628).
- cros_ec: fix nul-termination for firmware build info
  (bnc#1012628).
- serial: 8250_dw: Disable clock on error (bnc#1012628).
- tty: goldfish: Enable 'earlycon' only if built-in (bnc#1012628).
- qmi_wwan: set FLAG_SEND_ZLP to avoid network initiated
  disconnect (bnc#1012628).
- media: [RESEND] media: dvb-frontends: Add delay to Si2168
  restart (bnc#1012628).
- ath10k: handling qos at STA side based on AP WMM enable/disable
  (bnc#1012628).
- media: bt8xx: Fix err 'bt878_probe()' (bnc#1012628).
- rtlwifi: always initialize variables given to RT_TRACE()
  (bnc#1012628).
- rtlwifi: rtl_pci: Fix the bug when inactiveps is enabled
  (bnc#1012628).
- libbpf: prefer global symbols as bpf program name source
  (bnc#1012628).
- spi: sh-msiof: Avoid writing to registers from
  spi_master.setup() (bnc#1012628).
- tcp: allow TLP in ECN CWR (bnc#1012628).
- hv_netvsc: Fix the TX/RX buffer default sizes (bnc#1012628).
- hv_netvsc: Fix the receive buffer size limit (bnc#1012628).
- RDMA/iwpm: Fix uninitialized error code in iwpm_send_mapinfo()
  (bnc#1012628).
- IB/ipoib: Warn when one port fails to initialize (bnc#1012628).
- drm/msm: fix leak in failed get_pages (bnc#1012628).
- media: c8sectpfe: fix potential NULL pointer dereference in
  c8sectpfe_timer_interrupt (bnc#1012628).
- cpufreq: longhaul: Revert transition_delay_us to 200 ms
  (bnc#1012628).
- Bluetooth: btqcomsmd: Fix skb double free corruption
  (bnc#1012628).
- Bluetooth: hci_qca: Avoid setup failure on missing rampatch
  (bnc#1012628).
- drm/amdgpu: use polling mem to set SDMA3 wptr for VF
  (bnc#1012628).
- staging: android: ashmem: Fix possible deadlock in ashmem_ioctl
  (bnc#1012628).
- scsi: megaraid_sas: Do not use 32-bit atomic request descriptor
  for Ventura controllers (bnc#1012628).
- commit 950fc49

-------------------------------------------------------------------
Fri Mar 23 18:13:59 CET 2018 - agraf@suse.de

- armv7hl: Disable uacces with memcpy (boo#1080435)
- commit a3fb408

-------------------------------------------------------------------
Wed Mar 21 19:24:22 CET 2018 - jslaby@suse.cz

- Linux 4.15.12 (bnc#1012628).
- phy: phy-brcm-usb-init: Power down USB 3.0 PHY when XHCI
  disabled (bnc#1012628).
- phy: phy-brcm-usb-init: DRD mode can cause crash on startup
  (bnc#1012628).
- phy: phy-brcm-usb-init: Some Low Speed keyboards fail on 7271
  (bnc#1012628).
- phy: phy-brcm-usb: Fix two DT properties to match bindings doc
  (bnc#1012628).
- usb: gadget: udc: renesas_usb3: fix oops in
  renesas_usb3_remove() (bnc#1012628).
- usb: dwc3: of-simple: fix oops by unbalanced clk disable call
  (bnc#1012628).
- usb: dwc3: core: Power-off core/PHYs on system_suspend in host
  mode (bnc#1012628).
- usb: dwc3: Fix GDBGFIFOSPACE_TYPE values (bnc#1012628).
- USB: gadget: udc: Add missing platform_device_put() on error
  in bdc_pci_probe() (bnc#1012628).
- dt-bindings: usb: fix the STM32F7 DWC2 OTG HS core binding
  (bnc#1012628).
- usb: dwc2: fix STM32F7 USB OTG HS compatible (bnc#1012628).
- scsi: qla2xxx: Fix crashes in qla2x00_probe_one on probe failure
  (bnc#1012628).
- scsi: qla2xxx: Fix logo flag for qlt_free_session_done()
  (bnc#1012628).
- scsi: qla2xxx: Fix NULL pointer access for fcport structure
  (bnc#1012628).
- scsi: qla2xxx: Fix smatch warning in
  qla25xx_delete_{rsp|req}_que (bnc#1012628).
- btrfs: Fix memory barriers usage with device stats counters
  (bnc#1012628).
- btrfs: remove spurious WARN_ON(ref->count < 0) in
  find_parent_nodes (bnc#1012628).
- btrfs: Fix use-after-free when cleaning up fs_devs with a
  single stale device (bnc#1012628).
- btrfs: alloc_chunk: fix DUP stripe size handling (bnc#1012628).
- btrfs: add missing initialization in btrfs_check_shared
  (bnc#1012628).
- btrfs: Fix NULL pointer exception in find_bio_stripe
  (bnc#1012628).
- xfs: preserve i_rdev when recycling a reclaimable inode
  (bnc#1012628).
- nvme: fix subsystem multiple controllers support check
  (bnc#1012628).
- irqchip/gic-v3-its: Ensure nr_ites >= nr_lpis (bnc#1012628).
- RDMAVT: Fix synchronization around percpu_ref (bnc#1012628).
- fs/aio: Use RCU accessors for kioctx_table->table[]
  (bnc#1012628).
- fs/aio: Add explicit RCU grace period when freeing kioctx
  (bnc#1012628).
- lock_parent() needs to recheck if dentry got __dentry_kill'ed
  under it (bnc#1012628).
- KVM: arm/arm64: vgic: Don't populate multiple LRs with the
  same vintid (bnc#1012628).
- kvm: arm/arm64: vgic-v3: Tighten synchronization for guests
  using v2 on v3 (bnc#1012628).
- KVM: arm/arm64: Reset mapped IRQs on VM reset (bnc#1012628).
- KVM: arm/arm64: Reduce verbosity of KVM init log (bnc#1012628).
- fs: Teach path_connected to handle nfs filesystems with multiple
  roots (bnc#1012628).
- drm/amdgpu/dce: Don't turn off DP sink when disconnected
  (bnc#1012628).
- drm/radeon: fix prime teardown order (bnc#1012628).
- drm/amdgpu: fix prime teardown order (bnc#1012628).
- drm/nouveau/mmu: ALIGN_DOWN correct variable (bnc#1012628).
- drm/nouveau/bl: Fix oops on driver unbind (bnc#1012628).
- ALSA: seq: Clear client entry before deleting else at closing
  (bnc#1012628).
- ALSA: seq: Fix possible UAF in snd_seq_check_queue()
  (bnc#1012628).
- ALSA: hda - Revert power_save option default value
  (bnc#1012628).
- ALSA: pcm: Fix UAF in snd_pcm_oss_get_formats() (bnc#1012628).
- parisc: Handle case where flush_cache_range is called with no
  context (bnc#1012628).
- x86/mm: Fix vmalloc_fault to use pXd_large (bnc#1012628).
- KVM: x86: Fix device passthrough when SME is active
  (bnc#1012628).
- x86/speculation: Remove Skylake C2 from Speculation Control
  microcode blacklist (bnc#1012628).
- x86/speculation, objtool: Annotate indirect calls/jumps for
  objtool on 32-bit kernels (bnc#1012628).
- x86/vm86/32: Fix POPF emulation (bnc#1012628).
- selftests/x86/entry_from_vm86: Add test cases for POPF
  (bnc#1012628).
- selftests/x86/entry_from_vm86: Exit with 1 if we fail
  (bnc#1012628).
- x86/cpufeatures: Add Intel PCONFIG cpufeature (bnc#1012628).
- x86/cpufeatures: Add Intel Total Memory Encryption cpufeature
  (bnc#1012628).
- commit 9f942ce

-------------------------------------------------------------------
Mon Mar 19 20:55:59 CET 2018 - jslaby@suse.cz

- Update config files (4.15.11).
- commit a1db525

-------------------------------------------------------------------
Mon Mar 19 20:44:19 CET 2018 - jslaby@suse.cz

- Linux 4.15.11 (bnc#1012628).
- drm/i915/glk: Disable Guc and HuC on GLK (bnc#1012628).
- dmaengine: qcom_hidma: check pending interrupts (bnc#1012628).
- IB/mlx5: revisit -Wmaybe-uninitialized warning (bnc#1012628).
- ima: relax requiring a file signature for new files with zero
  length (bnc#1012628).
- locking/locktorture: Fix num reader/writer corner cases
  (bnc#1012628).
- rcutorture/configinit: Fix build directory error message
  (bnc#1012628).
- ipvlan: add L2 check for packets arriving via virtual devices
  (bnc#1012628).
- Fix misannotated out-of-line _copy_to_user() (bnc#1012628).
- mmc: mmc_test: Ensure command queue is disabled for testing
  (bnc#1012628).
- ASoC: nuc900: Fix a loop timeout test (bnc#1012628).
- crypto: caam/qi - use correct print specifier for size_t
  (bnc#1012628).
- mac80211: remove BUG() when interface type is invalid
  (bnc#1012628).
- mac80211_hwsim: enforce PS_MANUAL_POLL to be set after
  PS_ENABLED (bnc#1012628).
- agp/intel: Flush all chipset writes after updating the GGTT
  (bnc#1012628).
- arm64: dts: renesas: salvator-common: Add EthernetAVB PHY reset
  (bnc#1012628).
- powerpc/64: Don't trace irqs-off at interrupt return to
  soft-disabled context (bnc#1012628).
- powerpc/modules: Don't try to restore r2 after a sibling call
  (bnc#1012628).
- drm/amdkfd: Fix memory leaks in kfd topology (bnc#1012628).
- veth: set peer GSO values (bnc#1012628).
- net: sched: drop qdisc_reset from dev_graft_qdisc (bnc#1012628).
- virtio_net: Disable interrupts if napi_complete_done rescheduled
  napi (bnc#1012628).
- media: davinci: vpif_capture: add NULL check on devm_kzalloc
  return value (bnc#1012628).
- media: cpia2: Fix a couple off by one bugs (bnc#1012628).
- dm raid: fix raid set size revalidation (bnc#1012628).
- media: vsp1: Prevent suspending and resuming DRM pipelines
  (bnc#1012628).
- staging: fsl-dpaa2/eth: Fix access to FAS field (bnc#1012628).
- clk: renesas: r8a77970: Add LVDS clock (bnc#1012628).
- scsi: dh: add new rdac devices (bnc#1012628).
- scsi: devinfo: apply to HP XP the same flags as Hitachi VSP
  (bnc#1012628).
- scsi: core: scsi_get_device_flags_keyed(): Always return device
  flags (bnc#1012628).
- bnxt_en: Don't print "Link speed -1 no longer supported"
  messages (bnc#1012628).
- spi: sun6i: disable/unprepare clocks on remove (bnc#1012628).
- tools/usbip: fixes build with musl libc toolchain (bnc#1012628).
- ath10k: fix invalid STS_CAP_OFFSET_MASK (bnc#1012628).
- mwifiex: cfg80211: do not change virtual interface during scan
  processing (bnc#1012628).
- clk: qcom: msm8916: fix mnd_width for codec_digcodec
  (bnc#1012628).
- bnxt_en: Uninitialized variable in bnxt_tc_parse_actions()
  (bnc#1012628).
- drm/amdgpu: fix amdgpu_sync_resv v2 (bnc#1012628).
- drm/amdgpu:fix virtual dce bug (bnc#1012628).
- iwlwifi: mvm: avoid dumping assert log when device is stopped
  (bnc#1012628).
- perf annotate: Fix objdump comment parsing for Intel mov
  dissassembly (bnc#1012628).
- perf annotate: Fix unnecessary memory allocation for s390x
  (bnc#1012628).
- pinctrl: sh-pfc: r8a7795-es1: Fix MOD_SEL1 bit[25:24] to 0x3
  when using STP_ISEN_1_D (bnc#1012628).
- pinctrl: sh-pfc: r8a7791: Add can_clk function (bnc#1012628).
- drm/sun4i: Fix format mask in DE2 driver (bnc#1012628).
- pwm: stmpe: Fix wrong register offset for hwpwm=2 case
  (bnc#1012628).
- scsi: ses: don't ask for diagnostic pages repeatedly during
  probe (bnc#1012628).
- scsi: lpfc: Fix crash during driver unload with running nvme
  traffic (bnc#1012628).
- drm/amdgpu:fix random missing of FLR NOTIFY (bnc#1012628).
- KVM: X86: Restart the guest when insn_len is zero and SEV is
  enabled (bnc#1012628).
- cpufreq: Fix governor module removal race (bnc#1012628).
- ath10k: update tdls teardown state to target (bnc#1012628).
- iio: health: max30102: Add power enable parameter to get_temp
  function (bnc#1012628).
- iio: adc: ina2xx: Shift bus voltage register to mask flag bits
  (bnc#1012628).
- drm/etnaviv: make THERMAL selectable (bnc#1012628).
- power: supply: ab8500_charger: Bail out in case of error in
  'ab8500_charger_init_hw_registers()' (bnc#1012628).
- power: supply: ab8500_charger: Fix an error handling path
  (bnc#1012628).
- power: supply: sbs-message: double left shift bug in
  sbsm_select() (bnc#1012628).
- bpf: fix stack state printing in verifier log (bnc#1012628).
- leds: pm8058: Silence pointer to integer size warning
  (bnc#1012628).
- xfrm: Fix xfrm_replay_overflow_offload_esn (bnc#1012628).
- userns: Don't fail follow_automount based on s_user_ns
  (bnc#1012628).
- mtd: nand: ifc: update bufnum mask for ver >= 2.0.0
  (bnc#1012628).
- ARM: dts: omap3-n900: Fix the audio CODEC's reset pin
  (bnc#1012628).
- ARM: dts: am335x-pepper: Fix the audio CODEC's reset pin
  (bnc#1012628).
- net: thunderx: Set max queue count taking XDP_TX into account
  (bnc#1012628).
- mtd: nand: fix interpretation of NAND_CMD_NONE in
  nand_command[_lp]() (bnc#1012628).
- gpiolib: don't allow OPEN_DRAIN & OPEN_SOURCE flags
  simultaneously (bnc#1012628).
- net: xfrm: allow clearing socket xfrm policies (bnc#1012628).
- perf report: Fix -D output for user metadata events
  (bnc#1012628).
- rtc: brcmstb-waketimer: fix error handling in
  brcmstb_waketmr_probe() (bnc#1012628).
- net: ieee802154: adf7242: Fix bug if defined DEBUG
  (bnc#1012628).
- drm/vblank: Fix vblank timestamp debugs (bnc#1012628).
- test_firmware: fix setting old custom fw path back on exit
  (bnc#1012628).
- crypto: cavium - fix memory leak on info (bnc#1012628).
- crypto: keywrap - Add missing ULL suffixes for 64-bit constants
  (bnc#1012628).
- crypto: ecc - Fix NULL pointer deref. on no default_rng
  (bnc#1012628).
- crypto: chelsio - Fix an error code in chcr_hash_dma_map()
  (bnc#1012628).
- sched: Stop resched_cpu() from sending IPIs to offline CPUs
  (bnc#1012628).
- sched: Stop switched_to_rt() from sending IPIs to offline CPUs
  (bnc#1012628).
- dt-bindings: serial: Add common rs485 binding for RTS polarity
  (bnc#1012628).
- USB: ledtrig-usbport: fix of-node leak (bnc#1012628).
- typec: tcpm: fusb302: Resolve out of order messaging events
  (bnc#1012628).
- staging: rtl8822be: fix missing null check on dev_alloc_skb
  return (bnc#1012628).
- drm/amdgpu: fix get_max_engine_clock_in_mhz (bnc#1012628).
- ARM: dts: exynos: Correct Trats2 panel reset line (bnc#1012628).
- clk: meson: gxbb: fix wrong clock for SARADC/SANA (bnc#1012628).
- ARM: dts: koelsch: Move cec_clock to root node (bnc#1012628).
- iwlwifi: mvm: rs: don't override the rate history in the search
  cycle (bnc#1012628).
- HID: elo: clear BTN_LEFT mapping (bnc#1012628).
- KVM: PPC: Book3S HV: Fix typo in kvmppc_hv_get_dirty_log_radix()
  (bnc#1012628).
- video/hdmi: Allow "empty" HDMI infoframes (bnc#1012628).
- dma-buf/fence: Fix lock inversion within dma-fence-array
  (bnc#1012628).
- drm/edid: set ELD connector type in drm_edid_to_eld()
  (bnc#1012628).
- KVM: PPC: Book3S HV: Avoid shifts by negative amounts
  (bnc#1012628).
- HID: multitouch: Only look at non touch fields in first packet
  of a frame (bnc#1012628).
- spi: imx: Fix failure path leak on GPIO request error correctly
  (bnc#1012628).
- drm/panel: rpi-touchscreen: propagate errors in
  rpi_touchscreen_i2c_read() (bnc#1012628).
- gfs2: Fixes to "Implement iomap for block_map" (2)
  (bnc#1012628).
- gfs2: Clean up {lookup,fillup}_metapath (bnc#1012628).
- Revert "btrfs: use proper endianness accessors for super_copy"
  (bnc#1012628).
- dm mpath: fix passing integrity data (bnc#1012628).
- earlycon: add reg-offset to physical address before mapping
  (bnc#1012628).
- serial: core: mark port as initialized in autoconfig
  (bnc#1012628).
- serial: 8250_pci: Add Brainboxes UC-260 4 port serial device
  (bnc#1012628).
- usb: dwc3: Fix lock-up on ID change during system suspend/resume
  (bnc#1012628).
- usb: gadget: f_fs: Fix use-after-free in ffs_fs_kill_sb()
  (bnc#1012628).
- usb: usbmon: Read text within supplied buffer size
  (bnc#1012628).
- usb: quirks: add control message delay for 1b1c:1b20
  (bnc#1012628).
- usbip: vudc: fix null pointer dereference on udc->lock
  (bnc#1012628).
- USB: storage: Add JMicron bridge 152d:2567 to unusual_devs.h
  (bnc#1012628).
- scsi: sd_zbc: Fix potential memory leak (bnc#1012628).
- staging: android: ashmem: Fix lockdep issue during llseek
  (bnc#1012628).
- staging: comedi: fix comedi_nsamples_left (bnc#1012628).
- uas: fix comparison for error code (bnc#1012628).
- tty/serial: atmel: add new version check for usart
  (bnc#1012628).
- serial: sh-sci: prevent lockup on full TTY buffers
  (bnc#1012628).
- xhci: fix endpoint context tracer output (bnc#1012628).
- xhci: Fix front USB ports on ASUS PRIME B350M-A (bnc#1012628).
- usb: host: xhci-rcar: add support for r8a77965 (bnc#1012628).
- ASoC: rt5651: Fix regcache sync errors on resume (bnc#1012628).
- ASoC: wm_adsp: For TLV controls only register TLV get/set
  (bnc#1012628).
- ASoC: sgtl5000: Fix suspend/resume (bnc#1012628).
- ASoC: sun4i-i2s: Fix RX slot number of SUN8I (bnc#1012628).
- x86: Treat R_X86_64_PLT32 as R_X86_64_PC32 (bnc#1012628).
- commit 5c89418

-------------------------------------------------------------------
Mon Mar 19 14:10:36 CET 2018 - mkubecek@suse.cz

- Update
  patches.kernel.org/4.15.10-113-netfilter-ebtables-CONFIG_COMPAT-don-t-trust-.patch
  references (add CVE-2018-1068).
- Update
  patches.suse/netfilter-ebtables-fix-erroneous-reject-of-last-rule.patch
  references (add CVE-2018-1068).
- commit 3127e9f

-------------------------------------------------------------------
Mon Mar 19 11:40:13 CET 2018 - msuchanek@suse.de

- kernel-*.spec: remove remaining occurences of %release from dependencies
  There is a mix of %release and %source_rel in manually added
  dependencies and the %release dependencies tend to fail due to rebuild
  sync issues. So get rid of them.
- commit b4ec514

-------------------------------------------------------------------
Mon Mar 19 03:15:02 CET 2018 - jeffm@suse.com

- Update to 4.16-rc6.
- commit a98eb00

-------------------------------------------------------------------
Mon Mar 19 03:14:22 CET 2018 - jeffm@suse.com

- Refresh patches.suse/kernel-add-release-status-to-kernel-build.patch.
- commit cf5ff13

-------------------------------------------------------------------
Thu Mar 15 21:31:17 CET 2018 - jslaby@suse.cz

- Linux 4.15.10 (bnc#1012628).
- RDMA/ucma: Limit possible option size (bnc#1012628).
- RDMA/ucma: Check that user doesn't overflow QP state
  (bnc#1012628).
- RDMA/mlx5: Fix integer overflow while resizing CQ (bnc#1012628).
- IB/uverbs: Improve lockdep_check (bnc#1012628).
- mac80211_hwsim: don't use WQ_MEM_RECLAIM (bnc#1012628).
- net/smc: fix NULL pointer dereference on sock_create_kern()
  error path (bnc#1012628).
- regulator: stm32-vrefbuf: fix check on ready flag (bnc#1012628).
- drm/i915: Check for fused or unused pipes (bnc#1012628).
- drm/i915/audio: fix check for av_enc_map overflow (bnc#1012628).
- drm/i915: Fix rsvd2 mask when out-fence is returned
  (bnc#1012628).
- drm/i915: Clear the in-use marker on execbuf failure
  (bnc#1012628).
- drm/i915: Disable DC states around GMBUS on GLK (bnc#1012628).
- drm/i915: Update watermark state correctly in
  sanitize_watermarks (bnc#1012628).
- drm/i915: Try EDID bitbanging on HDMI after failed read
  (bnc#1012628).
- drm/i915/perf: fix perf stream opening lock (bnc#1012628).
- scsi: core: Avoid that ATA error handling can trigger a kernel
  hang or oops (bnc#1012628).
- scsi: qla2xxx: Fix NULL pointer crash due to active timer for
  ABTS (bnc#1012628).
- drm/i915: Always call to intel_display_set_init_power() in
  resume_early (bnc#1012628).
- workqueue: Allow retrieval of current task's work struct
  (bnc#1012628).
- drm: Allow determining if current task is output poll worker
  (bnc#1012628).
- drm/nouveau: Fix deadlock on runtime suspend (bnc#1012628).
- drm/radeon: Fix deadlock on runtime suspend (bnc#1012628).
- drm/amdgpu: Fix deadlock on runtime suspend (bnc#1012628).
- drm/nouveau: prefer XBGR2101010 for addfb ioctl (bnc#1012628).
- drm/amd/powerplay/smu7: allow mclk switching with no displays
  (bnc#1012628).
- drm/amd/powerplay/vega10: allow mclk switching with no displays
  (bnc#1012628).
- Revert "drm/radeon/pm: autoswitch power state when in balanced
  mode" (bnc#1012628).
- drm/amd/display: check for ipp before calling cursor operations
  (bnc#1012628).
- drm/radeon: insist on 32-bit DMA for Cedar on PPC64/PPC64LE
  (bnc#1012628).
- drm/amd/powerplay: fix power over limit on Fiji (bnc#1012628).
- drm/amd/display: Default HDMI6G support to true. Log VBIOS
  table error (bnc#1012628).
- drm/amdgpu: used cached pcie gen info for SI (v2) (bnc#1012628).
- drm/amdgpu: Notify sbios device ready before send request
  (bnc#1012628).
- drm/radeon: fix KV harvesting (bnc#1012628).
- drm/amdgpu: fix KV harvesting (bnc#1012628).
- drm/amdgpu:Correct max uvd handles (bnc#1012628).
- drm/amdgpu:Always save uvd vcpu_bo in VM Mode (bnc#1012628).
- ovl: redirect_dir=nofollow should not follow redirect for
  opaque lower (bnc#1012628).
- MIPS: BMIPS: Do not mask IPIs during suspend (bnc#1012628).
- MIPS: ath25: Check for kzalloc allocation failure (bnc#1012628).
- MIPS: OCTEON: irq: Check for null return on kzalloc allocation
  (bnc#1012628).
- PCI: dwc: Fix enumeration end when reaching root subordinate
  (bnc#1012628).
- Input: matrix_keypad - fix race when disabling interrupts
  (bnc#1012628).
- Revert "Input: synaptics - Lenovo Thinkpad T460p devices should
  use RMI" (bnc#1012628).
- bug: use %pB in BUG and stack protector failure (bnc#1012628).
- lib/bug.c: exclude non-BUG/WARN exceptions from report_bug()
  (bnc#1012628).
- mm/memblock.c: hardcode the end_pfn being -1 (bnc#1012628).
- loop: Fix lost writes caused by missing flag (bnc#1012628).
- virtio_ring: fix num_free handling in error case (bnc#1012628).
- KVM: s390: fix memory overwrites when not using SCA entries
  (bnc#1012628).
- arm64: mm: fix thinko in non-global page table attribute check
  (bnc#1012628).
- IB/core: Fix missing RDMA cgroups release in case of failure
  to register device (bnc#1012628).
- Revert "nvme: create 'slaves' and 'holders' entries for hidden
  controllers" (bnc#1012628).
- kbuild: Handle builtin dtb file names containing hyphens
  (bnc#1012628).
- dm bufio: avoid false-positive Wmaybe-uninitialized warning
  (bnc#1012628).
- IB/mlx5: Fix incorrect size of klms in the memory region
  (bnc#1012628).
- bcache: fix crashes in duplicate cache device register
  (bnc#1012628).
- bcache: don't attach backing with duplicate UUID (bnc#1012628).
- x86/MCE: Save microcode revision in machine check records
  (bnc#1012628).
- x86/MCE: Serialize sysfs changes (bnc#1012628).
- perf tools: Fix trigger class trigger_on() (bnc#1012628).
- x86/spectre_v2: Don't check microcode versions when running
  under hypervisors (bnc#1012628).
- ALSA: hda/realtek - Add support headset mode for DELL WYSE
  (bnc#1012628).
- ALSA: hda/realtek - Add headset mode support for Dell laptop
  (bnc#1012628).
- ALSA: hda/realtek: Limit mic boost on T480 (bnc#1012628).
- ALSA: hda/realtek - Fix dock line-out volume on Dell Precision
  7520 (bnc#1012628).
- ALSA: hda/realtek - Make dock sound work on ThinkPad L570
  (bnc#1012628).
- ALSA: seq: Don't allow resizing pool in use (bnc#1012628).
- ALSA: seq: More protection for concurrent write and ioctl races
  (bnc#1012628).
- ALSA: hda - Fix a wrong FIXUP for alc289 on Dell machines
  (bnc#1012628).
- ALSA: hda: add dock and led support for HP EliteBook 820 G3
  (bnc#1012628).
- ALSA: hda: add dock and led support for HP ProBook 640 G2
  (bnc#1012628).
- scsi: qla2xxx: Fix NULL pointer crash due to probe failure
  (bnc#1012628).
- scsi: qla2xxx: Fix recursion while sending terminate exchange
  (bnc#1012628).
- dt-bindings: Document mti,mips-cpc binding (bnc#1012628).
- MIPS: CPC: Map registers using DT in
  mips_cpc_default_phys_base() (bnc#1012628).
- nospec: Kill array_index_nospec_mask_check() (bnc#1012628).
- nospec: Include <asm/barrier.h> dependency (bnc#1012628).
- x86/entry: Reduce the code footprint of the 'idtentry' macro
  (bnc#1012628).
- x86/entry/64: Use 'xorl' for faster register clearing
  (bnc#1012628).
- x86/mm: Remove stale comment about KMEMCHECK (bnc#1012628).
- x86/asm: Improve how GEN_*_SUFFIXED_RMWcc() specify clobbers
  (bnc#1012628).
- x86/IO-APIC: Avoid warning in 32-bit builds (bnc#1012628).
- x86/LDT: Avoid warning in 32-bit builds with older gcc
  (bnc#1012628).
- x86-64/realmode: Add instruction suffix (bnc#1012628).
- Revert "x86/retpoline: Simplify vmexit_fill_RSB()"
  (bnc#1012628).
- x86/speculation: Use IBRS if available before calling into
  firmware (bnc#1012628).
- x86/retpoline: Support retpoline builds with Clang
  (bnc#1012628).
- x86/speculation, objtool: Annotate indirect calls/jumps for
  objtool (bnc#1012628).
- x86/speculation: Move firmware_restrict_branch_speculation_*()
  from C to CPP (bnc#1012628).
- x86/paravirt, objtool: Annotate indirect calls (bnc#1012628).
- x86/boot, objtool: Annotate indirect jump in
  secondary_startup_64() (bnc#1012628).
- x86/mm/sme, objtool: Annotate indirect call in
  sme_encrypt_execute() (bnc#1012628).
- objtool: Use existing global variables for options
  (bnc#1012628).
- objtool: Add retpoline validation (bnc#1012628).
- objtool: Add module specific retpoline rules (bnc#1012628).
- objtool, retpolines: Integrate objtool with retpoline support
  more closely (bnc#1012628).
- objtool: Fix another switch table detection issue (bnc#1012628).
- objtool: Fix 32-bit build (bnc#1012628).
- x86/kprobes: Fix kernel crash when probing .entry_trampoline
  code (bnc#1012628).
- watchdog: hpwdt: SMBIOS check (bnc#1012628).
- watchdog: hpwdt: Check source of NMI (bnc#1012628).
- watchdog: hpwdt: fix unused variable warning (bnc#1012628).
- watchdog: hpwdt: Remove legacy NMI sourcing (bnc#1012628).
- netfilter: add back stackpointer size checks (bnc#1012628).
- netfilter: ipt_CLUSTERIP: fix a race condition of proc file
  creation (bnc#1012628).
- netfilter: xt_hashlimit: fix lock imbalance (bnc#1012628).
- netfilter: x_tables: fix missing timer initialization in xt_LED
  (bnc#1012628).
- netfilter: nat: cope with negative port range (bnc#1012628).
- netfilter: IDLETIMER: be syzkaller friendly (bnc#1012628).
- netfilter: bridge: ebt_among: add missing match size checks
  (bnc#1012628).
- netfilter: ipv6: fix use-after-free Write in
  nf_nat_ipv6_manip_pkt (bnc#1012628).
- netfilter: use skb_to_full_sk in ip6_route_me_harder
  (bnc#1012628).
- tpm_tis: Move ilb_base_addr to tpm_tis_data (bnc#1012628).
- tpm: Keep CLKRUN enabled throughout the duration of
  transmit_cmd() (bnc#1012628).
- tpm: delete the TPM_TIS_CLK_ENABLE flag (bnc#1012628).
- tpm: remove unused variables (bnc#1012628).
- tpm: only attempt to disable the LPC CLKRUN if is already
  enabled (bnc#1012628).
- x86/xen: Calculate __max_logical_packages on PV domains
  (bnc#1012628).
- scsi: qla2xxx: Fix system crash for Notify ack timeout handling
  (bnc#1012628).
- scsi: qla2xxx: Fix gpnid error processing (bnc#1012628).
- scsi: qla2xxx: Move session delete to driver work queue
  (bnc#1012628).
- scsi: qla2xxx: Skip IRQ affinity for Target QPairs
  (bnc#1012628).
- scsi: qla2xxx: Fix re-login for Nport Handle in use
  (bnc#1012628).
- scsi: qla2xxx: Retry switch command on time out (bnc#1012628).
- scsi: qla2xxx: Serialize GPNID for multiple RSCN (bnc#1012628).
- scsi: qla2xxx: Fix login state machine stuck at GPDB
  (bnc#1012628).
- scsi: qla2xxx: Fix NPIV host cleanup in target mode
  (bnc#1012628).
- scsi: qla2xxx: Relogin to target port on a cable swap
  (bnc#1012628).
- scsi: qla2xxx: Fix Relogin being triggered too fast
  (bnc#1012628).
- scsi: qla2xxx: Fix PRLI state check (bnc#1012628).
- scsi: qla2xxx: Fix abort command deadlock due to spinlock
  (bnc#1012628).
- scsi: qla2xxx: Replace fcport alloc with qla2x00_alloc_fcport
  (bnc#1012628).
- scsi: qla2xxx: Fix scan state field for fcport (bnc#1012628).
- scsi: qla2xxx: Clear loop id after delete (bnc#1012628).
- scsi: qla2xxx: Defer processing of GS IOCB calls (bnc#1012628).
- scsi: qla2xxx: Remove aborting ELS IOCB call issued as part
  of timeout (bnc#1012628).
- scsi: qla2xxx: Fix system crash in qlt_plogi_ack_unref
  (bnc#1012628).
- scsi: qla2xxx: Fix memory leak in dual/target mode
  (bnc#1012628).
- NFS: Fix an incorrect type in struct nfs_direct_req
  (bnc#1012628).
- pNFS: Prevent the layout header refcount going to zero in
  pnfs_roc() (bnc#1012628).
- NFS: Fix unstable write completion (bnc#1012628).
- Refresh
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Refresh
  patches.suse/0002-x86-speculation-Add-inlines-to-control-Indirect-Bran.patch.
- Refresh
  patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
- commit 5e4329c

-------------------------------------------------------------------
Thu Mar 15 20:05:02 CET 2018 - tiwai@suse.de

- Bluebooth: btusb: Fix quirk for Atheros 1525/QCA6174
  (bsc#1082504).
- commit 8413b00

-------------------------------------------------------------------
Thu Mar 15 20:03:41 CET 2018 - tiwai@suse.de

- Bluebooth: btusb: Fix quirk for Atheros 1525/QCA6174
  (bsc#1082504).
- commit e8a80ec

-------------------------------------------------------------------
Thu Mar 15 09:46:28 CET 2018 - mkubecek@suse.cz

- netfilter: ebtables: fix erroneous reject of last rule
  (bsc#1085107).
- netfilter: ebtables: CONFIG_COMPAT: don't trust userland offsets
  (bsc#1085107).
- commit bfb5701

-------------------------------------------------------------------
Wed Mar 14 19:07:43 CET 2018 - jeffm@suse.com

- config: sync i386/default
  Some options had been removed completely.
- commit 95f48d7

-------------------------------------------------------------------
Wed Mar 14 15:18:32 CET 2018 - jeffm@suse.com

- rpm/kernel-source.spec.in: Add check-module-license to Sources
  The package builds in the build service but the script won't make it
  into the SRPM if it's not in the Sources list.
- commit 031ed9e

-------------------------------------------------------------------
Wed Mar 14 14:02:01 CET 2018 - tiwai@suse.de

- brcmsmac: allocate ucode with GFP_KERNEL (bsc#1085174).
- commit 8e06b20

-------------------------------------------------------------------
Wed Mar 14 11:01:05 CET 2018 - tiwai@suse.de

- mac80211_hwsim: fix possible memory leak in hwsim_new_radio_nl()
  (CVE-2018-8087,bsc#1085053).
- commit cddf6d5

-------------------------------------------------------------------
Tue Mar 13 18:08:11 CET 2018 - msuchanek@suse.de

- mkspec: fix perl warning
- commit f15670f

-------------------------------------------------------------------
Mon Mar 12 14:27:50 CET 2018 - jeffm@suse.com

- Update to 4.16-rc5.
- Eliminated 1 patch.
- commit 0dfffad

-------------------------------------------------------------------
Sun Mar 11 23:30:25 CET 2018 - jslaby@suse.cz

- Linux 4.15.9 (bnc#1012628).
- bpf: fix mlock precharge on arraymaps (bnc#1012628).
- bpf: fix memory leak in lpm_trie map_free callback function
  (bnc#1012628).
- bpf: fix rcu lockdep warning for lpm_trie map_free callback
  (bnc#1012628).
- bpf, x64: implement retpoline for tail call (bnc#1012628).
- bpf, arm64: fix out of bounds access in tail call (bnc#1012628).
- bpf: add schedule points in percpu arrays management
  (bnc#1012628).
- bpf: allow xadd only on aligned memory (bnc#1012628).
- bpf, ppc64: fix out of bounds access in tail call (bnc#1012628).
- scsi: mpt3sas: fix oops in error handlers after shutdown/unload
  (bnc#1012628).
- scsi: mpt3sas: wait for and flush running commands on
  shutdown/unload (bnc#1012628).
- KVM: x86: fix backward migration with async_PF (bnc#1012628).
- Refresh
  patches.suse/0002-x86-speculation-Add-inlines-to-control-Indirect-Bran.patch.
- commit 23fae4b

-------------------------------------------------------------------
Sun Mar 11 12:25:57 CET 2018 - afaerber@suse.de

- config: armv7hl: Update to 4.16-rc4
- commit ad451a4

-------------------------------------------------------------------
Sun Mar 11 12:09:45 CET 2018 - afaerber@suse.de

- config: armv6hl: Update to 4.16-rc4
- commit 6c846e1

-------------------------------------------------------------------
Sat Mar 10 16:25:53 CET 2018 - tiwai@suse.de

- Refresh to upstream patch (bsc#1083694)
  patches.suse/Documentation-sphinx-Fix-Directive-import-error.patch
- commit 2d62679

-------------------------------------------------------------------
Sat Mar 10 00:09:47 CET 2018 - jeffm@suse.com

- kernel: add release status to kernel build (bsc#FATE#325281).
- commit c51605f

-------------------------------------------------------------------
Fri Mar  9 23:45:18 CET 2018 - jeffm@suse.com

- rpm: use %_sourcedir prefix for release-projects
- rpm: set SUSE_KERNEL_RELEASED based on project name
  Set SUSE_KERNEL_RELEASED in the config only if the project name matches
  a list of projects that are part of official release channels.  This
  list of projects is maintained per-branch.
- commit a391a5b

-------------------------------------------------------------------
Fri Mar  9 22:24:07 CET 2018 - jeffm@suse.com

- config: added new 'kvmsmall' flavor
  This flavor is an unreleased internal configuration intended for kernel
  developers to use in simple virtual machines.  It contains only the
  device drivers necessary to use a KVM virtual machine *without* device
  passthrough enabled.  Common local and network file systems are enabled.
  All device mapper targets are enabled.  Only the network and graphics
  drivers for devices that qemu emulates are enabled.  Many subsystems
  enabled in the default kernel are entirely disabled.  This kernel is
  meant to be small and to build very quickly.  There will be no kABI
  stability and its configuration may be changed arbitrarily.
- commit 088f1da

-------------------------------------------------------------------
Fri Mar  9 22:20:06 CET 2018 - jeffm@suse.com

- config: convert kvmsmall to fragment config
- commit 7a5941a

-------------------------------------------------------------------
Fri Mar  9 22:14:02 CET 2018 - jeffm@suse.com

- config: disabled some more options for kvmsmall
  Disable CAN, BT, rare partition types, unused mouse protocols, UIO,
  STM, and others.
- commit 4707d44

-------------------------------------------------------------------
Fri Mar  9 21:20:15 CET 2018 - jeffm@suse.com

- config: added new 'kvmsmall' flavor
  This flavor is intended for kernel developers to use in simple virtual
  machines.  It contains only the device drivers necessary to use a
  KVM virtual machine *without* device passthrough enabled.  Common
  local and network file systems are enabled.  All device mapper targets
  are enabled.  Only the network and graphics drivers for devices that qemu
  emulates are enabled.  Many subsystems enabled in the default kernel
  are entirely disabled.  This kernel is meant to be small and to build
  very quickly.
- commit 3c99d1f

-------------------------------------------------------------------
Fri Mar  9 19:59:56 CET 2018 - jslaby@suse.cz

- Linux 4.15.8 (bnc#1012628).
- platform/x86: dell-laptop: fix kbd_get_state's request value
  (bnc#1012628).
- md: only allow remove_and_add_spares when no sync_thread running
  (bnc#1012628).
- powerpc/64s/radix: Boot-time NULL pointer protection using a
  guard-PID (bnc#1012628).
- ARM: dts: LogicPD Torpedo: Fix I2C1 pinmux (bnc#1012628).
- ARM: dts: LogicPD SOM-LV: Fix I2C1 pinmux (bnc#1012628).
- ACPI / bus: Parse tables as term_list for Dell XPS 9570 and
  Precision M5530 (bnc#1012628).
- KVM/x86: remove WARN_ON() for when vm_munmap() fails
  (bnc#1012628).
- KVM: x86: fix vcpu initialization with userspace lapic
  (bnc#1012628).
- KVM/VMX: Optimize vmx_vcpu_run() and svm_vcpu_run() by marking
  the RDMSR path as unlikely() (bnc#1012628).
- KVM: x86: move LAPIC initialization after VMCS creation
  (bnc#1012628).
- KVM/x86: Remove indirect MSR op calls from SPEC_CTRL
  (bnc#1012628).
- KVM: mmu: Fix overlap between public and private memslots
  (bnc#1012628).
- KVM: X86: Fix SMRAM accessing even if VM is shutdown
  (bnc#1012628).
- ARM: kvm: fix building with gcc-8 (bnc#1012628).
- ARM: mvebu: Fix broken PL310_ERRATA_753970 selects
  (bnc#1012628).
- ARM: dts: rockchip: Remove 1.8 GHz operation point from phycore
  som (bnc#1012628).
- ARM: orion: fix orion_ge00_switch_board_info initialization
  (bnc#1012628).
- x86/mm: Fix {pmd,pud}_{set,clear}_flags() (bnc#1012628).
- nospec: Allow index argument to have const-qualified type
  (bnc#1012628).
- KVM: s390: consider epoch index on TOD clock syncs
  (bnc#1012628).
- KVM: s390: consider epoch index on hotplugged CPUs
  (bnc#1012628).
- KVM: s390: provide only a single function for setting the tod
  (fix SCK) (bnc#1012628).
- KVM: s390: take care of clock-comparator sign control
  (bnc#1012628).
- EDAC, sb_edac: Fix out of bound writes during DIMM configuration
  on KNL (bnc#1012628).
- media: m88ds3103: don't call a non-initalized function
  (bnc#1012628).
- blk-mq: don't call io sched's .requeue_request when requeueing
  rq to ->dispatch (bnc#1012628).
- tcp: revert F-RTO extension to detect more spurious timeouts
  (bnc#1012628).
- tcp: revert F-RTO middle-box workaround (bnc#1012628).
- s390/qeth: fix IPA command submission race (bnc#1012628).
- s390/qeth: fix IP address lookup for L3 devices (bnc#1012628).
- Revert "s390/qeth: fix using of ref counter for rxip addresses"
  (bnc#1012628).
- s390/qeth: fix double-free on IP add/remove race (bnc#1012628).
- s390/qeth: fix IP removal on offline cards (bnc#1012628).
- s390/qeth: fix overestimated count of buffer elements
  (bnc#1012628).
- s390/qeth: fix SETIP command handling (bnc#1012628).
- s390/qeth: fix underestimated count of buffer elements
  (bnc#1012628).
- l2tp: fix tunnel lookup use-after-free race (bnc#1012628).
- l2tp: fix race in pppol2tp_release with session object destroy
  (bnc#1012628).
- l2tp: fix races with tunnel socket close (bnc#1012628).
- l2tp: don't use inet_shutdown on ppp session destroy
  (bnc#1012628).
- l2tp: don't use inet_shutdown on tunnel destroy (bnc#1012628).
- tcp: tracepoint: only call trace_tcp_send_reset with full socket
  (bnc#1012628).
- net: phy: Restore phy_resume() locking assumption (bnc#1012628).
- net/mlx5: Fix error handling when adding flow rules
  (bnc#1012628).
- cxgb4: fix trailing zero in CIM LA dump (bnc#1012628).
- virtio-net: disable NAPI only when enabled during XDP set
  (bnc#1012628).
- tuntap: disable preemption during XDP processing (bnc#1012628).
- tuntap: correctly add the missing XDP flush (bnc#1012628).
- tcp: purge write queue upon RST (bnc#1012628).
- netlink: put module reference if dump start fails (bnc#1012628).
- mlxsw: spectrum_router: Do not unconditionally clear route
  offload indication (bnc#1012628).
- cls_u32: fix use after free in u32_destroy_key() (bnc#1012628).
- amd-xgbe: Restore PCI interrupt enablement setting on resume
  (bnc#1012628).
- tls: Use correct sk->sk_prot for IPV6 (bnc#1012628).
- net/mlx5e: Verify inline header size do not exceed SKB linear
  size (bnc#1012628).
- bridge: Fix VLAN reference count problem (bnc#1012628).
- sctp: fix dst refcnt leak in sctp_v6_get_dst() (bnc#1012628).
- net: ipv4: Set addr_type in hash_keys for forwarded case
  (bnc#1012628).
- mlxsw: spectrum_router: Fix error path in mlxsw_sp_vr_create
  (bnc#1012628).
- sctp: do not pr_err for the duplicated node in transport rhlist
  (bnc#1012628).
- net/sched: cls_u32: fix cls_u32 on filter replace (bnc#1012628).
- net_sched: gen_estimator: fix broken estimators based on percpu
  stats (bnc#1012628).
- net/mlx5e: Fix loopback self test when GRO is off (bnc#1012628).
- doc: Change the min default value of tcp_wmem/tcp_rmem
  (bnc#1012628).
- tcp_bbr: better deal with suboptimal GSO (bnc#1012628).
- rxrpc: Fix send in rxrpc_send_data_packet() (bnc#1012628).
- tcp: Honor the eor bit in tcp_mtu_probe (bnc#1012628).
- net: phy: fix phy_start to consider PHY_IGNORE_INTERRUPT
  (bnc#1012628).
- net/mlx5e: Specify numa node when allocating drop rq
  (bnc#1012628).
- mlxsw: spectrum_switchdev: Check success of FDB add operation
  (bnc#1012628).
- sctp: fix dst refcnt leak in sctp_v4_get_dst (bnc#1012628).
- net/mlx5e: Fix TCP checksum in LRO buffers (bnc#1012628).
- udplite: fix partial checksum initialization (bnc#1012628).
- sctp: verify size of a new chunk in _sctp_make_chunk()
  (bnc#1012628).
- ppp: prevent unregistered channels from connecting to PPP units
  (bnc#1012628).
- net: sched: report if filter is too large to dump (bnc#1012628).
- netlink: ensure to loop over all netns in
  genlmsg_multicast_allns() (bnc#1012628).
- net: ipv4: don't allow setting net.ipv4.route.min_pmtu below 68
  (bnc#1012628).
- net: fix race on decreasing number of TX queues (bnc#1012628).
- net: ethernet: ti: cpsw: fix net watchdog timeout (bnc#1012628).
- net: amd-xgbe: fix comparison to bitshift when dealing with
  a mask (bnc#1012628).
- ipv6 sit: work around bogus gcc-8 -Wrestrict warning
  (bnc#1012628).
- hdlc_ppp: carrier detect ok, don't turn off negotiation
  (bnc#1012628).
- fib_semantics: Don't match route with mismatching tclassid
  (bnc#1012628).
- bridge: check brport attr show in brport_show (bnc#1012628).
- x86/cpu_entry_area: Sync cpu_entry_area to initial_page_table
  (bnc#1012628).
- x86/platform/intel-mid: Handle Intel Edison reboot correctly
  (bnc#1012628).
- x86/xen: Zero MSR_IA32_SPEC_CTRL before suspend (bnc#1012628).
- direct-io: Fix sleep in atomic due to sync AIO (bnc#1012628).
- dax: fix vma_is_fsdax() helper (bnc#1012628).
- cpufreq: s3c24xx: Fix broken s3c_cpufreq_init() (bnc#1012628).
- vfio: disable filesystem-dax page pinning (bnc#1012628).
- block: pass inclusive 'lend' parameter to
  truncate_inode_pages_range (bnc#1012628).
- block: kyber: fix domain token leak during requeue
  (bnc#1012628).
- block: fix the count of PGPGOUT for WRITE_SAME (bnc#1012628).
- btrfs: use proper endianness accessors for super_copy
  (bnc#1012628).
- parisc: Hide virtual kernel memory layout (bnc#1012628).
- parisc: Fix ordering of cache and TLB flushes (bnc#1012628).
- parisc: Reduce irq overhead when run in qemu (bnc#1012628).
- parisc: Use cr16 interval timers unconditionally on qemu
  (bnc#1012628).
- timers: Forward timer base before migrating timers
  (bnc#1012628).
- mmc: dw_mmc: Fix out-of-bounds access for slot's caps
  (bnc#1012628).
- mmc: dw_mmc: Factor out dw_mci_init_slot_caps (bnc#1012628).
- mmc: dw_mmc: Avoid accessing registers in runtime suspended
  state (bnc#1012628).
- mmc: dw_mmc-k3: Fix out-of-bounds access through DT alias
  (bnc#1012628).
- mmc: sdhci-pci: Fix S0i3 for Intel BYT-based controllers
  (bnc#1012628).
- ALSA: hda - Fix pincfg at resume on Lenovo T470 dock
  (bnc#1012628).
- ALSA: hda: Add a power_save blacklist (bnc#1012628).
- ALSA: x86: Fix missing spinlock and mutex initializations
  (bnc#1012628).
- ALSA: control: Fix memory corruption risk in snd_ctl_elem_read
  (bnc#1012628).
- ALSA: usb-audio: Add a quirck for B&W PX headphones
  (bnc#1012628).
- tpm_tis: fix potential buffer overruns caused by bit glitches
  on the bus (bnc#1012628).
- tpm_i2c_nuvoton: fix potential buffer overruns caused by bit
  glitches on the bus (bnc#1012628).
- tpm_i2c_infineon: fix potential buffer overruns caused by bit
  glitches on the bus (bnc#1012628).
- tpm: fix potential buffer overruns caused by bit glitches on
  the bus (bnc#1012628).
- tpm: st33zp24: fix potential buffer overruns caused by bit
  glitches on the bus (bnc#1012628).
- ixgbe: fix crash in build_skb Rx code path (bnc#1012628).
- Bluetooth: btusb: Use DMI matching for QCA reset_resume quirking
  (bnc#1012628).
- powerpc/pseries: Enable RAS hotplug events later (bnc#1012628).
- platform/x86: dell-laptop: Allocate buffer on heap rather than
  globally (bnc#1012628).
- ipmi_si: Fix error handling of platform device (bnc#1012628).
- hrtimer: Ensure POSIX compliance (relative CLOCK_REALTIME
  hrtimers) (bnc#1012628).
- vsprintf: avoid misleading "(null)" for %px (bnc#1012628).
- commit 67f0889

-------------------------------------------------------------------
Thu Mar  8 22:34:05 CET 2018 - msuchanek@suse.de

- mkspec: do not build dtbs for architectures with no kernel.
- commit 8394abf

-------------------------------------------------------------------
Thu Mar  8 16:52:18 CET 2018 - jeffm@suse.com

- kconfig: move SUSE options from init/Kconfig to init/Kconfig.suse
- commit b7f69ff

-------------------------------------------------------------------
Wed Mar  7 18:39:49 CET 2018 - afaerber@suse.de

- config: arm64: Update to 4.16-rc4
- commit 0bb9ed4

-------------------------------------------------------------------
Wed Mar  7 16:31:26 CET 2018 - tiwai@suse.de

- rpm/kernel-binary.spec.in: Check module licenses (bsc#1083215,bsc#1083527)
- commit e41de0c

-------------------------------------------------------------------
Wed Mar  7 16:09:53 CET 2018 - tiwai@suse.de

- x86/kvm/vmx: do not use vm-exit instruction length for fast
  MMIO when running nested (bsc#1081431).
- commit 4e5b14d

-------------------------------------------------------------------
Tue Mar  6 14:08:41 CET 2018 - jslaby@suse.cz

- Update config files.
  Enable module signing (bnc#1082905):
  * CONFIG_MODULE_SIG=y
  * # CONFIG_MODULE_SIG_FORCE is not set
  * # CONFIG_MODULE_SIG_ALL is not set
  * # CONFIG_MODULE_SIG_SHA1 is not set
  * # CONFIG_MODULE_SIG_SHA224 is not set
  * CONFIG_MODULE_SIG_SHA256=y
  * # CONFIG_MODULE_SIG_SHA384 is not set
  * # CONFIG_MODULE_SIG_SHA512 is not set
  * CONFIG_MODULE_SIG_HASH="sha256"
  * CONFIG_MODULE_SIG_KEY="certs/signing_key.pem"
  * CONFIG_SECONDARY_TRUSTED_KEYRING=y
  * CONFIG_SYSTEM_BLACKLIST_KEYRING=y
  * CONFIG_SYSTEM_BLACKLIST_HASH_LIST=""
  This commit synchronizes these options with SLE15.
  We do not add patches for loading keys from the shim layer (as in
  SLE15) for the time being. They were rejected multiple times in
  upstream and we do not want to forward-port them infinitely. This only
  means that loading KMPs with none/invalid signatures generates this:
  <module_name>: loading out-of-tree module taints kernel.
  <module_name>: module verification failed: signature and/or required key missing - tainting kernel
  But the modules load fine after that as we have MODULE_SIG_FORCE set
  to 'n'.
  Tested in qemu+OVMF and bare metal and everything looks fine.
- commit 12abbef

-------------------------------------------------------------------
Mon Mar  5 15:44:09 CET 2018 - msuchanek@suse.de

- rpm: provide %name%-srchash = <kernel-source commit hash> (FATE#325312).
   - Also use for kernel-obs-build dependency.
- commit b6fccdf

-------------------------------------------------------------------
Mon Mar  5 01:51:15 CET 2018 - jeffm@suse.com

- Refresh
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Refresh
  patches.suse/0002-x86-speculation-Add-inlines-to-control-Indirect-Bran.patch.
- Refresh
  patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
- commit 1ba5305

-------------------------------------------------------------------
Mon Mar  5 01:49:13 CET 2018 - jeffm@suse.com

- Update to 4.16-rc4.
- IBRS patches need review.
- commit 061459a

-------------------------------------------------------------------
Sun Mar  4 13:36:38 CET 2018 - msuchanek@suse.de

- arch-symbols: use bash as interpreter since the script uses bashism.
- commit 4cdfb23

-------------------------------------------------------------------
Fri Mar  2 14:05:08 CET 2018 - msuchanek@suse.de

- kernel-binary: do not BuildIgnore m4.
  It is actually needed for regenerating zconf when it is not up-to-date
  due to merge.
- commit 967b28b

-------------------------------------------------------------------
Fri Mar  2 13:43:16 CET 2018 - mkubecek@suse.cz

- rpm/kernel-binary.spec.in: add build requirement for flex
  In addition to bison, we also need flex for "make oldconfig".
- commit 83d831c

-------------------------------------------------------------------
Fri Mar  2 13:33:50 CET 2018 - mkubecek@suse.cz

- rpm/kernel-binary.spec.in: remove m4 from BuildIgnore list
  As bison depends on m4, we cannot set !BuildIgnore for it any more.
- commit d7695e1

-------------------------------------------------------------------
Fri Mar  2 12:52:26 CET 2018 - tiwai@suse.de

- Documentation/sphinx: Fix Directive import error (bsc#1083694).
- commit 7f94eb1

-------------------------------------------------------------------
Wed Feb 28 16:00:41 CET 2018 - msuchanek@suse.de

- bs-upload-kernel: do not set %opensuse_bs
  Since SLE15 it is not set in the distribution project so do not set it
  for kernel projects either.
- commit d696aa0

-------------------------------------------------------------------
Wed Feb 28 13:17:31 CET 2018 - jslaby@suse.cz

- Linux 4.15.7 (bnc#1012628).
- microblaze: fix endian handling (bnc#1012628).
- drm/i915/breadcrumbs: Ignore unsubmitted signalers
  (bnc#1012628).
- arm64: __show_regs: Only resolve kernel symbols when running
  at EL1 (bnc#1012628).
- drm/amdgpu: add new device to use atpx quirk (bnc#1012628).
- drm/amdgpu: Avoid leaking PM domain on driver unbind (v2)
  (bnc#1012628).
- drm/amdgpu: add atpx quirk handling (v2) (bnc#1012628).
- drm/amdgpu: only check mmBIF_IOV_FUNC_IDENTIFIER on tonga/fiji
  (bnc#1012628).
- drm/amdgpu: Add dpm quirk for Jet PRO (v2) (bnc#1012628).
- drm/amdgpu: fix VA hole handling on Vega10 v3 (bnc#1012628).
- drm/amdgpu: disable MMHUB power gating on raven (bnc#1012628).
- drm: Handle unexpected holes in color-eviction (bnc#1012628).
- drm/atomic: Fix memleak on ERESTARTSYS during non-blocking
  commits (bnc#1012628).
- drm/cirrus: Load lut in crtc_commit (bnc#1012628).
- usb: renesas_usbhs: missed the "running" flag in usb_dmac with
  rx path (bnc#1012628).
- usb: gadget: f_fs: Use config_ep_by_speed() (bnc#1012628).
- usb: gadget: f_fs: Process all descriptors during bind
  (bnc#1012628).
- Revert "usb: musb: host: don't start next rx urb if current
  one failed" (bnc#1012628).
- usb: ldusb: add PIDs for new CASSY devices supported by this
  driver (bnc#1012628).
- usb: phy: mxs: Fix NULL pointer dereference on i.MX23/28
  (bnc#1012628).
- usb: dwc3: ep0: Reset TRB counter for ep0 IN (bnc#1012628).
- usb: dwc3: gadget: Set maxpacket size for ep0 IN (bnc#1012628).
- usb: host: ehci: use correct device pointer for dma ops
  (bnc#1012628).
- drm/edid: Add 6 bpc quirk for CPT panel in Asus UX303LA
  (bnc#1012628).
- Add delay-init quirk for Corsair K70 RGB keyboards
  (bnc#1012628).
- arm64: cpufeature: Fix CTR_EL0 field definitions (bnc#1012628).
- arm64: Disable unhandled signal log messages by default
  (bnc#1012628).
- arm64: Remove unimplemented syscall log message (bnc#1012628).
- usb: ohci: Proper handling of ed_rm_list to handle race
  condition between usb_kill_urb() and finish_unlinks()
  (bnc#1012628).
- ohci-hcd: Fix race condition caused by ohci_urb_enqueue()
  and io_watchdog_func() (bnc#1012628).
- net: thunderbolt: Run disconnect flow asynchronously when
  logout is received (bnc#1012628).
- net: thunderbolt: Tear down connection properly on suspend
  (bnc#1012628).
- PCI/cxgb4: Extend T3 PCI quirk to T4+ devices (bnc#1012628).
- irqchip/mips-gic: Avoid spuriously handling masked interrupts
  (bnc#1012628).
- irqchip/gic-v3: Use wmb() instead of smb_wmb() in
  gic_raise_softirq() (bnc#1012628).
- uapi/if_ether.h: move __UAPI_DEF_ETHHDR libc define
  (bnc#1012628).
- mm: don't defer struct page initialization for Xen pv guests
  (bnc#1012628).
- mm, swap, frontswap: fix THP swap if frontswap enabled
  (bnc#1012628).
- x86/oprofile: Fix bogus GCC-8 warning in nmi_setup()
  (bnc#1012628).
- x86/apic/vector: Handle vector release on CPU unplug correctly
  (bnc#1012628).
- Kbuild: always define endianess in kconfig.h (bnc#1012628).
- iio: adis_lib: Initialize trigger before requesting interrupt
  (bnc#1012628).
- iio: buffer: check if a buffer has been set up when poll is
  called (bnc#1012628).
- iio: srf08: fix link error "devm_iio_triggered_buffer_setup"
  undefined (bnc#1012628).
- iio: adc: stm32: fix stm32h7_adc_enable error handling
  (bnc#1012628).
- RDMA/uverbs: Sanitize user entered port numbers prior to access
  it (bnc#1012628).
- RDMA/uverbs: Fix circular locking dependency (bnc#1012628).
- RDMA/uverbs: Fix bad unlock balance in ib_uverbs_close_xrcd
  (bnc#1012628).
- RDMA/uverbs: Protect from command mask overflow (bnc#1012628).
- RDMA/uverbs: Protect from races between lookup and destroy of
  uobjects (bnc#1012628).
- genirq/matrix: Handle CPU offlining proper (bnc#1012628).
- extcon: int3496: process id-pin first so that we start with
  the right status (bnc#1012628).
- PKCS#7: fix certificate blacklisting (bnc#1012628).
- PKCS#7: fix certificate chain verification (bnc#1012628).
- X.509: fix NULL dereference when restricting key with
  unsupported_sig (bnc#1012628).
- X.509: fix BUG_ON() when hash algorithm is unsupported
  (bnc#1012628).
- i2c: bcm2835: Set up the rising/falling edge delays
  (bnc#1012628).
- i2c: designware: must wait for enable (bnc#1012628).
- cfg80211: fix cfg80211_beacon_dup (bnc#1012628).
- MIPS: Drop spurious __unused in struct compat_flock
  (bnc#1012628).
- scsi: ibmvfc: fix misdefined reserved field in
  ibmvfc_fcp_rsp_info (bnc#1012628).
- xtensa: fix high memory/reserved memory collision (bnc#1012628).
- MIPS: boot: Define __ASSEMBLY__ for its.S build (bnc#1012628).
- kconfig.h: Include compiler types to avoid missed struct
  attributes (bnc#1012628).
- arm64: mm: don't write garbage into TTBR1_EL1 register
  (bnc#1012628).
- netfilter: drop outermost socket lock in getsockopt()
  (bnc#1012628).
- commit 48cfb35

-------------------------------------------------------------------
Wed Feb 28 05:01:08 CET 2018 - jeffm@suse.com

- kernel: add product-identifying information to kernel build (FATE#325281).
- commit 450b8db

-------------------------------------------------------------------
Tue Feb 27 17:11:36 CET 2018 - msuchanek@suse.de

- Revert "rpm/kernel-binary.spec.in: Also require m4 for build."
  This reverts commit 0d7b4b3f948c2efb67b7d1b95b5e1dcae225991c.
- commit f5686d2

-------------------------------------------------------------------
Tue Feb 27 09:53:18 CET 2018 - tiwai@suse.de

- kernel-binary: do not package extract-cert when not signing modules
  (boo#1080250).
- commit 10a8bc4

-------------------------------------------------------------------
Mon Feb 26 23:13:22 CET 2018 - jeffm@suse.com

- Update to 4.16-rc3.
- Eliminated 2 patches.
- commit a1d0a5c

-------------------------------------------------------------------
Mon Feb 26 23:07:17 CET 2018 - jeffm@suse.com

- Update to 4.16-rc2.
- Eliminated 1 patch.
- Config changes:
  - i386:
    - X86_MINIMUM_CPU_FAMILY (set automatically by oldconfig).
- commit 70f217f

-------------------------------------------------------------------
Mon Feb 26 23:01:57 CET 2018 - jeffm@suse.com

- Update to 4.16-rc1.
- Eliminated 624 patches (mostly 4.15.x).
- ARM configs need updating.
- Config changes:
  - General:
    - CC_STACKPROTECTOR_REGULAR=y
  - x86:
    - ACPI_SPCR_TABLE=y
    - ACER_WIRELESS=m
    - GPD_POCKET_FAN=m
    - INTEL_CHTDC_TI_PWRBTN=m
    - MELLANOX_PLATFORM=y
    - MLXREG_HOTPLUG=m
    - JAILHOUSE_GUEST=y
  - i386:
    - MLX_PLATFORM=m
    - DEFERRED_STRUCT_PAGE_INIT=y
  - powerpc:
    - PPC_MEM_KEYS=y
    - OCXL=m
    - PPC_IRQ_SOFT_MASK_DEBUG=n
  - s390:
    - KERNEL_NOBP=y
    - EXPOLINE=y
    - EXPOLINE_FULL=y
  - PCI:
    - PCIE_CADENCE_HOST=y
    - PCIE_CADENCE_EP=y
  - Network:
    - NF_FLOW_TABLE=m
    - NF_FLOW_TABLE_IPV4=m
    - NF_FLOW_TABLE_IPV6=m
    - IP6_NF_MATCH_SRH=m
    - BT_HCIBTUSB_AUTOSUSPEND=y
    - NET_VENDOR_CORTINA=y
    - GEMINI_ETHERNET=m
    - NET_VENDOR_SOCIONEXT=y
    - NETDEVSIM=n
    - NFT_FLOW_OFFLOAD=m
    - NF_FLOW_TABLE_INET=m
  - Block:
    - BLK_DEV_NULL_BLK_FAULT_INJECTION=n
    - SATA_MOBILE_LPM_POLICY=0
    - DM_UNSTRIPED=m
    - MMC_SDHCI_F_SDH30=n
  - Misc:
    - MISC_RTSX_PCI=m
    - MISC_RTSX_USB=m
    - HW_RANDOM_TPM=y (from m)
    - I2C_GPIO_FAULT_INJECTOR=n
    - PINCTRL_AXP209=m
    - GPIO_WINBOND=m
    - GPIO_PCIE_IDIO_24=m
    - SENSORS_W83773G=m
    - MFD_CROS_EC_CHARDEV=n
    - RAVE_SP_CORE=n
  CAVIUM_PTP=m
  - Graphics:
    - DRM_PANEL_ILITEK_IL9322=n
    - TINYDRM_ILI9225=n
    - TINYDRM_ST7735R=n
  - Sound:
    - SND_SOC_INTEL_SST_TOPLEVEL=y
    - SND_SST_ATOM_HIFI2_PLATFORM_PCI=m
    - SND_SOC_INTEL_BYT_MAX98090_MACH=m
    - SND_SOC_INTEL_BYT_RT5640_MACH=m
    - SND_SOC_MAX98373=n
    - SND_SOC_PCM186X_I2C=n
    - SND_SOC_PCM186X_SPI=n
    - SND_SOC_TAS6424=n
    - SND_SOC_TLV320AIC32X4_I2C=n
    - SND_SOC_TLV320AIC32X4_SPI=n
    - SND_SOC_TSCS42XX=n
    - SOUNDWIRE=y
    - SOUNDWIRE_INTEL=m
  - Input:
    - HID_JABRA=n
  - USB:
    - USB_XHCI_DBGCAP=n
  - LEDS:
    - LEDS_LM3692X=n
    - LEDS_TRIGGER_NETDEV=m
    - LEDS_LP8860=n
  - RTC:
    - RTC_DRV_CROS_EC=n
  - VIRT:
    - VBOXGUEST=m
    - VIRTIO_MENU=y
    - KVM_AMD_SEV=y
  - Filesystems:
    - CIFS_SMB_DIRECT=n (still experimental)
  - Other:
    - UNISYSSPAR=n
    - XILINX_VCU=n
    - IIO_BUFFER_HW_CONSUMER=n
    - SD_ADC_MODULATOR=n
    - OF_FPGA_REGION=n
    - SIOX=n
    - SLIMBUS=n
    - BPF_KPROBE_OVERRIDE=n
    - FPGA_BRIDGE=n
  - Sensors:
    - ST_UVIS25=n
    - ZOPT2201=n
  - Media:
    - MT76x2E=m
    - LIRC=y
    - DVB_MMAP=n (still experimental)
    - DVB_ULE_DEBUG=n
  - Testing:
    - FAIL_FUNCTION=n
    - RUNTIME_TESTING_MENU=y
    - FIND_BIT_BENCHMARK=n
  - Crypto:
    - CHELSIO_IPSEC_INLINE=n
    - CRYPTO_DEV_SP_PSP=y
- commit 955d7ce

-------------------------------------------------------------------
Sun Feb 25 19:49:03 CET 2018 - jslaby@suse.cz

- bpf: cpumap: use GFP_KERNEL instead of GFP_ATOMIC in
  __cpu_map_entry_alloc() (git-fixes).
- commit b050949

-------------------------------------------------------------------
Sun Feb 25 19:48:38 CET 2018 - jslaby@suse.cz

- ptr_ring: prevent integer overflow when calculating size
  (git-fixes).
- commit f95a8d4

-------------------------------------------------------------------
Sun Feb 25 19:37:06 CET 2018 - jslaby@suse.cz

- Linux 4.15.6 (bnc#1012628).
- vmalloc: fix __GFP_HIGHMEM usage for vmalloc_32 on 32b systems
  (bnc#1012628).
- mei: me: add cannon point device ids for 4th device
  (bnc#1012628).
- mei: me: add cannon point device ids (bnc#1012628).
- crypto: s5p-sss - Fix kernel Oops in AES-ECB mode (bnc#1012628).
- usbip: keep usbip_device sockfd state in sync with tcp_socket
  (bnc#1012628).
- xhci: fix xhci debugfs errors in xhci_stop (bnc#1012628).
- xhci: xhci debugfs device nodes weren't removed after device
  plugged out (bnc#1012628).
- xhci: Fix xhci debugfs devices node disappearance after
  hibernation (bnc#1012628).
- xhci: Fix NULL pointer in xhci debugfs (bnc#1012628).
- staging: iio: ad5933: switch buffer mode to software
  (bnc#1012628).
- staging: iio: adc: ad7192: fix external frequency setting
  (bnc#1012628).
- staging: fsl-mc: fix build testing on x86 (bnc#1012628).
- binder: replace "%p" with "%pK" (bnc#1012628).
- binder: check for binder_thread allocation failure in
  binder_poll() (bnc#1012628).
- staging: android: ashmem: Fix a race condition in pin ioctls
  (bnc#1012628).
- ANDROID: binder: synchronize_rcu() when using POLLFREE
  (bnc#1012628).
- ANDROID: binder: remove WARN() for redundant txn error
  (bnc#1012628).
- dn_getsockoptdecnet: move nf_{get/set}sockopt outside sock lock
  (bnc#1012628).
- arm64: dts: add #cooling-cells to CPU nodes (bnc#1012628).
- ARM: 8743/1: bL_switcher: add MODULE_LICENSE tag (bnc#1012628).
- video: fbdev/mmp: add MODULE_LICENSE (bnc#1012628).
- ASoC: ux500: add MODULE_LICENSE tag (bnc#1012628).
- soc: qcom: rmtfs_mem: add missing
  MODULE_DESCRIPTION/AUTHOR/LICENSE (bnc#1012628).
- net_sched: gen_estimator: fix lockdep splat (bnc#1012628).
- net: avoid skb_warn_bad_offload on IS_ERR (bnc#1012628).
- rds: tcp: atomically purge entries from rds_tcp_conn_list
  during netns delete (bnc#1012628).
- rds: tcp: correctly sequence cleanup on netns deletion
  (bnc#1012628).
- netfilter: xt_RATEEST: acquire xt_rateest_mutex for hash insert
  (bnc#1012628).
- netfilter: xt_cgroup: initialize info->priv in
  cgroup_mt_check_v1() (bnc#1012628).
- netfilter: on sockopt() acquire sock lock only in the required
  scope (bnc#1012628).
- netfilter: ipt_CLUSTERIP: fix out-of-bounds accesses in
  clusterip_tg_check() (bnc#1012628).
- netfilter: x_tables: avoid out-of-bounds reads in
  xt_request_find_{match|target} (bnc#1012628).
- netfilter: x_tables: fix int overflow in xt_alloc_table_info()
  (bnc#1012628).
- kcov: detect double association with a single task
  (bnc#1012628).
- KVM: x86: fix escape of guest dr6 to the host (bnc#1012628).
- blk_rq_map_user_iov: fix error override (bnc#1012628).
- staging: android: ion: Switch from WARN to pr_warn
  (bnc#1012628).
- staging: android: ion: Add __GFP_NOWARN for system contig heap
  (bnc#1012628).
- crypto: x86/twofish-3way - Fix %rbp usage (bnc#1012628).
- media: pvrusb2: properly check endpoint types (bnc#1012628).
- selinux: skip bounded transition processing if the policy
  isn't loaded (bnc#1012628).
- selinux: ensure the context is NUL terminated in
  security_context_to_sid_core() (bnc#1012628).
- ptr_ring: try vmalloc() when kmalloc() fails (bnc#1012628).
- ptr_ring: fail early if queue occupies more than
  KMALLOC_MAX_SIZE (bnc#1012628).
- tun: fix tun_napi_alloc_frags() frag allocator (bnc#1012628).
- commit 71fd692

-------------------------------------------------------------------
Thu Feb 22 22:47:39 CET 2018 - jslaby@suse.cz

- powerpc/pseries: Add empty update_numa_cpu_lookup_table()
  for NUMA=n (git-fixes).
- commit 4a82466

-------------------------------------------------------------------
Thu Feb 22 22:01:26 CET 2018 - jslaby@suse.cz

- Linux 4.15.5 (bnc#1012628).
- scsi: smartpqi: allow static build ("built-in") (bnc#1012628).
- IB/umad: Fix use of unprotected device pointer (bnc#1012628).
- IB/qib: Fix comparison error with qperf compare/swap test
  (bnc#1012628).
- IB/mlx4: Fix incorrectly releasing steerable UD QPs when have
  only ETH ports (bnc#1012628).
- IB/core: Fix two kernel warnings triggered by rxe registration
  (bnc#1012628).
- IB/core: Fix ib_wc structure size to remain in 64 bytes boundary
  (bnc#1012628).
- IB/core: Avoid a potential OOPs for an unused optional parameter
  (bnc#1012628).
- selftests: seccomp: fix compile error seccomp_bpf (bnc#1012628).
- kselftest: fix OOM in memory compaction test (bnc#1012628).
- RDMA/rxe: Fix a race condition related to the QP error state
  (bnc#1012628).
- RDMA/rxe: Fix a race condition in rxe_requester() (bnc#1012628).
- RDMA/rxe: Fix rxe_qp_cleanup() (bnc#1012628).
- cpufreq: powernv: Dont assume distinct pstate values for
  nominal and pmin (bnc#1012628).
- swiotlb: suppress warning when __GFP_NOWARN is set
  (bnc#1012628).
- PM / devfreq: Propagate error from devfreq_add_device()
  (bnc#1012628).
- mwifiex: resolve reset vs. remove()/shutdown() deadlocks
  (bnc#1012628).
- ocfs2: try a blocking lock before return AOP_TRUNCATED_PAGE
  (bnc#1012628).
- trace_uprobe: Display correct offset in uprobe_events
  (bnc#1012628).
- powerpc/radix: Remove trace_tlbie call from radix__flush_tlb_all
  (bnc#1012628).
- powerpc/kernel: Block interrupts when updating TIDR
  (bnc#1012628).
- powerpc/vas: Don't set uses_vas for kernel windows
  (bnc#1012628).
- powerpc/numa: Invalidate numa_cpu_lookup_table on cpu remove
  (bnc#1012628).
- powerpc/mm: Flush radix process translations when setting MMU
  type (bnc#1012628).
- powerpc/xive: Use hw CPU ids when configuring the CPU queues
  (bnc#1012628).
- dma-buf: fix reservation_object_wait_timeout_rcu once more v2
  (bnc#1012628).
- s390: fix handling of -1 in set{,fs}[gu]id16 syscalls
  (bnc#1012628).
- arm64: dts: msm8916: Correct ipc references for smsm
  (bnc#1012628).
- ARM: lpc3250: fix uda1380 gpio numbers (bnc#1012628).
- ARM: dts: STi: Add gpio polarity for "hdmi,hpd-gpio" property
  (bnc#1012628).
- ARM: dts: nomadik: add interrupt-parent for clcd (bnc#1012628).
- arm: dts: mt7623: fix card detection issue on bananapi-r2
  (bnc#1012628).
- arm: spear600: Add missing interrupt-parent of rtc
  (bnc#1012628).
- arm: spear13xx: Fix dmas cells (bnc#1012628).
- arm: spear13xx: Fix spics gpio controller's warning
  (bnc#1012628).
- x86/gpu: add CFL to early quirks (bnc#1012628).
- x86/kexec: Make kexec (mostly) work in 5-level paging mode
  (bnc#1012628).
- x86/xen: init %gs very early to avoid page faults with stack
  protector (bnc#1012628).
- x86: PM: Make APM idle driver initialize polling state
  (bnc#1012628).
- mm, memory_hotplug: fix memmap initialization (bnc#1012628).
- x86/entry/64: Clear extra registers beyond syscall arguments,
  to reduce speculation attack surface (bnc#1012628).
- x86/entry/64/compat: Clear registers for compat syscalls,
  to reduce speculation attack surface (bnc#1012628).
- compiler-gcc.h: Introduce __optimize function attribute
  (bnc#1012628).
- compiler-gcc.h: __nostackprotector needs gcc-4.4 and up
  (bnc#1012628).
- crypto: sun4i_ss_prng - fix return value of
  sun4i_ss_prng_generate (bnc#1012628).
- crypto: sun4i_ss_prng - convert lock to _bh in
  sun4i_ss_prng_generate (bnc#1012628).
- powerpc/mm/radix: Split linear mapping on hot-unplug
  (bnc#1012628).
- x86/mm/pti: Fix PTI comment in entry_SYSCALL_64() (bnc#1012628).
- x86/speculation: Update Speculation Control microcode blacklist
  (bnc#1012628).
- x86/speculation: Correct Speculation Control microcode blacklist
  again (bnc#1012628).
- Revert "x86/speculation: Simplify
  indirect_branch_prediction_barrier()" (bnc#1012628).
- KVM/x86: Reduce retpoline performance impact in
  slot_handle_level_range(), by always inlining iterator helper
  methods (bnc#1012628).
- X86/nVMX: Properly set spec_ctrl and pred_cmd before merging
  MSRs (bnc#1012628).
- KVM/nVMX: Set the CPU_BASED_USE_MSR_BITMAPS if we have a valid
  L02 MSR bitmap (bnc#1012628).
- x86/speculation: Clean up various Spectre related details
  (bnc#1012628).
- PM / runtime: Update links_count also if !CONFIG_SRCU
  (bnc#1012628).
- PM: cpuidle: Fix cpuidle_poll_state_init() prototype
  (bnc#1012628).
- platform/x86: wmi: fix off-by-one write in wmi_dev_probe()
  (bnc#1012628).
- x86/entry/64: Clear registers for exceptions/interrupts,
  to reduce speculation attack surface (bnc#1012628).
- x86/entry/64: Merge SAVE_C_REGS and SAVE_EXTRA_REGS, remove
  unused extensions (bnc#1012628).
- x86/entry/64: Merge the POP_C_REGS and POP_EXTRA_REGS macros
  into a single POP_REGS macro (bnc#1012628).
- x86/entry/64: Interleave XOR register clearing with PUSH
  instructions (bnc#1012628).
- x86/entry/64: Introduce the PUSH_AND_CLEAN_REGS macro
  (bnc#1012628).
- x86/entry/64: Use PUSH_AND_CLEAN_REGS in more cases
  (bnc#1012628).
- x86/entry/64: Get rid of the ALLOC_PT_GPREGS_ON_STACK and
  SAVE_AND_CLEAR_REGS macros (bnc#1012628).
- x86/entry/64: Indent PUSH_AND_CLEAR_REGS and POP_REGS properly
  (bnc#1012628).
- x86/entry/64: Fix paranoid_entry() frame pointer warning
  (bnc#1012628).
- x86/entry/64: Remove the unused 'icebp' macro (bnc#1012628).
- selftests/x86: Fix vDSO selftest segfault for vsyscall=none
  (bnc#1012628).
- selftests/x86: Clean up and document sscanf() usage
  (bnc#1012628).
- selftests/x86/pkeys: Remove unused functions (bnc#1012628).
- selftests/x86: Fix build bug caused by the 5lvl test which
  has been moved to the VM directory (bnc#1012628).
- selftests/x86: Do not rely on "int $0x80" in test_mremap_vdso.c
  (bnc#1012628).
- gfs2: Fixes to "Implement iomap for block_map" (bnc#1012628).
- selftests/x86: Do not rely on "int $0x80" in
  single_step_syscall.c (bnc#1012628).
- selftests/x86: Disable tests requiring 32-bit support on pure
  64-bit systems (bnc#1012628).
- objtool: Fix segfault in ignore_unreachable_insn()
  (bnc#1012628).
- x86/debug, objtool: Annotate WARN()-related UD2 as reachable
  (bnc#1012628).
- x86/debug: Use UD2 for WARN() (bnc#1012628).
- x86/speculation: Fix up array_index_nospec_mask() asm constraint
  (bnc#1012628).
- nospec: Move array_index_nospec() parameter checking into
  separate macro (bnc#1012628).
- x86/speculation: Add <asm/msr-index.h> dependency (bnc#1012628).
- x86/mm: Rename flush_tlb_single() and flush_tlb_one() to
  __flush_tlb_one_[user|kernel]() (bnc#1012628).
- selftests/x86/mpx: Fix incorrect bounds with old _sigfault
  (bnc#1012628).
- x86/cpu: Rename cpu_data.x86_mask to cpu_data.x86_stepping
  (bnc#1012628).
- x86/spectre: Fix an error message (bnc#1012628).
- x86/cpu: Change type of x86_cache_size variable to unsigned int
  (bnc#1012628).
- x86/entry/64: Fix CR3 restore in paranoid_exit() (bnc#1012628).
- drm/ttm: Don't add swapped BOs to swap-LRU list (bnc#1012628).
- drm/ttm: Fix 'buf' pointer update in ttm_bo_vm_access_kmap()
  (v2) (bnc#1012628).
- drm/qxl: unref cursor bo when finished with it (bnc#1012628).
- drm/qxl: reapply cursor after resetting primary (bnc#1012628).
- drm/amd/powerplay: Fix smu_table_entry.handle type
  (bnc#1012628).
- drm/ast: Load lut in crtc_commit (bnc#1012628).
- drm: Check for lessee in DROP_MASTER ioctl (bnc#1012628).
- arm64: Add missing Falkor part number for branch predictor
  hardening (bnc#1012628).
- drm/radeon: Add dpm quirk for Jet PRO (v2) (bnc#1012628).
- drm/radeon: adjust tested variable (bnc#1012628).
- x86/smpboot: Fix uncore_pci_remove() indexing bug when
  hot-removing a physical CPU (bnc#1012628).
- rtc-opal: Fix handling of firmware error codes, prevent busy
  loops (bnc#1012628).
- mbcache: initialize entry->e_referenced in
  mb_cache_entry_create() (bnc#1012628).
- mmc: sdhci: Implement an SDHCI-specific bounce buffer
  (bnc#1012628).
- mmc: bcm2835: Don't overwrite max frequency unconditionally
  (bnc#1012628).
- Revert "mmc: meson-gx: include tx phase in the tuning process"
  (bnc#1012628).
- mlx5: fix mlx5_get_vector_affinity to start from completion
  vector 0 (bnc#1012628).
- Revert "apple-gmux: lock iGP IO to protect from vgaarb changes"
  (bnc#1012628).
- jbd2: fix sphinx kernel-doc build warnings (bnc#1012628).
- ext4: fix a race in the ext4 shutdown path (bnc#1012628).
- ext4: save error to disk in __ext4_grp_locked_error()
  (bnc#1012628).
- ext4: correct documentation for grpid mount option
  (bnc#1012628).
- mm: hide a #warning for COMPILE_TEST (bnc#1012628).
- mm: Fix memory size alignment in devm_memremap_pages_release()
  (bnc#1012628).
- MIPS: Fix typo BIG_ENDIAN to CPU_BIG_ENDIAN (bnc#1012628).
- MIPS: CPS: Fix MIPS_ISA_LEVEL_RAW fallout (bnc#1012628).
- MIPS: Fix incorrect mem=X@Y handling (bnc#1012628).
- PCI: Disable MSI for HiSilicon Hip06/Hip07 only in Root Port
  mode (bnc#1012628).
- PCI: iproc: Fix NULL pointer dereference for BCMA (bnc#1012628).
- PCI: pciehp: Assume NoCompl+ for Thunderbolt ports
  (bnc#1012628).
- PCI: keystone: Fix interrupt-controller-node lookup
  (bnc#1012628).
- video: fbdev: atmel_lcdfb: fix display-timings lookup
  (bnc#1012628).
- console/dummy: leave .con_font_get set to NULL (bnc#1012628).
- rbd: whitelist RBD_FEATURE_OPERATIONS feature bit (bnc#1012628).
- xen: Fix {set,clear}_foreign_p2m_mapping on autotranslating
  guests (bnc#1012628).
- xenbus: track caller request id (bnc#1012628).
- seq_file: fix incomplete reset on read from zero offset
  (bnc#1012628).
- tracing: Fix parsing of globs with a wildcard at the beginning
  (bnc#1012628).
- mpls, nospec: Sanitize array index in mpls_label_ok()
  (bnc#1012628).
- rtlwifi: rtl8821ae: Fix connection lost problem correctly
  (bnc#1012628).
- arm64: proc: Set PTE_NG for table entries to avoid traversing
  them twice (bnc#1012628).
- xprtrdma: Fix calculation of ri_max_send_sges (bnc#1012628).
- xprtrdma: Fix BUG after a device removal (bnc#1012628).
- blk-wbt: account flush requests correctly (bnc#1012628).
- target/iscsi: avoid NULL dereference in CHAP auth error path
  (bnc#1012628).
- iscsi-target: make sure to wake up sleeping login worker
  (bnc#1012628).
- dm: correctly handle chained bios in dec_pending()
  (bnc#1012628).
- Btrfs: fix deadlock in run_delalloc_nocow (bnc#1012628).
- Btrfs: fix crash due to not cleaning up tree log block's dirty
  bits (bnc#1012628).
- Btrfs: fix extent state leak from tree log (bnc#1012628).
- Btrfs: fix use-after-free on root->orphan_block_rsv
  (bnc#1012628).
- Btrfs: fix unexpected -EEXIST when creating new inode
  (bnc#1012628).
- 9p/trans_virtio: discard zero-length reply (bnc#1012628).
- mtd: nand: vf610: set correct ooblayout (bnc#1012628).
- ALSA: hda - Fix headset mic detection problem for two Dell
  machines (bnc#1012628).
- ALSA: usb-audio: Fix UAC2 get_ctl request with a RANGE attribute
  (bnc#1012628).
- ALSA: hda/realtek - Add headset mode support for Dell laptop
  (bnc#1012628).
- ALSA: hda/realtek - Enable Thinkpad Dock device for ALC298
  platform (bnc#1012628).
- ALSA: hda/realtek: PCI quirk for Fujitsu U7x7 (bnc#1012628).
- ALSA: usb-audio: add implicit fb quirk for Behringer UFX1204
  (bnc#1012628).
- ALSA: usb: add more device quirks for USB DSD devices
  (bnc#1012628).
- ALSA: seq: Fix racy pool initializations (bnc#1012628).
- mvpp2: fix multicast address filter (bnc#1012628).
- usb: Move USB_UHCI_BIG_ENDIAN_* out of USB_SUPPORT
  (bnc#1012628).
- x86/mm, mm/hwpoison: Don't unconditionally unmap kernel 1:1
  pages (bnc#1012628).
- ARM: dts: exynos: fix RTC interrupt for exynos5410
  (bnc#1012628).
- ARM: pxa/tosa-bt: add MODULE_LICENSE tag (bnc#1012628).
- arm64: dts: msm8916: Add missing #phy-cells (bnc#1012628).
- ARM: dts: s5pv210: add interrupt-parent for ohci (bnc#1012628).
- arm: dts: mt7623: Update ethsys binding (bnc#1012628).
- arm: dts: mt2701: Add reset-cells (bnc#1012628).
- ARM: dts: Delete bogus reference to the charlcd (bnc#1012628).
- media: r820t: fix r820t_write_reg for KASAN (bnc#1012628).
- mmc: sdhci-of-esdhc: fix eMMC couldn't work after kexec
  (bnc#1012628).
- mmc: sdhci-of-esdhc: fix the mmc error after sleep on ls1046ardb
  (bnc#1012628).
- Refresh
  patches.suse/0001-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Refresh
  patches.suse/0002-x86-speculation-Add-inlines-to-control-Indirect-Bran.patch.
- Refresh
  patches.suse/0005-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
- commit 078aac5

-------------------------------------------------------------------
Thu Feb 22 18:02:01 CET 2018 - lpechacek@suse.com

- rpm/kernel-spec-macros: Try harder to detect Build Service environment (bsc#1078788)
- commit a5f1a4a

-------------------------------------------------------------------
Wed Feb 21 19:58:12 CET 2018 - msuchanek@suse.de

- kernel-binary undefine unique_debug_names
  Some tools do not understand names like
  usr/lib/debug/boot/vmlinux-4.12.14-11.10-default-4.12.14-11.10.ppc64le.debug
- commit 2b90c1e

-------------------------------------------------------------------
Tue Feb 20 03:32:14 CET 2018 - jeffm@suse.com

- config: enable IMA and EVM
- commit 8c97198

-------------------------------------------------------------------
Sun Feb 18 18:33:25 CET 2018 - afaerber@suse.de

- config: arm64: Enable MAX77620 for Nvidia Jetson TX1 (boo#1081473)
- commit 5cbffaf

-------------------------------------------------------------------
Sat Feb 17 09:41:04 CET 2018 - jslaby@suse.cz

- Linux 4.15.4 (bnc#1012628).
- watchdog: indydog: Add dependency on SGI_HAS_INDYDOG
  (bnc#1012628).
- cifs: Fix missing put_xid in cifs_file_strict_mmap
  (bnc#1012628).
- cifs: Fix autonegotiate security settings mismatch
  (bnc#1012628).
- CIFS: zero sensitive data when freeing (bnc#1012628).
- cpufreq: mediatek: add mediatek related projects into blacklist
  (bnc#1012628).
- dmaengine: dmatest: fix container_of member in dmatest_callback
  (bnc#1012628).
- ssb: Do not disable PCI host on non-Mips (bnc#1012628).
- watchdog: gpio_wdt: set WDOG_HW_RUNNING in gpio_wdt_stop
  (bnc#1012628).
- Revert "drm/i915: mark all device info struct with __initconst"
  (bnc#1012628).
- sched/rt: Use container_of() to get root domain in
  rto_push_irq_work_func() (bnc#1012628).
- sched/rt: Up the root domain ref count when passing it around
  via IPIs (bnc#1012628).
- media: dvb-usb-v2: lmedm04: Improve logic checking of warm start
  (bnc#1012628).
- media: dvb-usb-v2: lmedm04: move ts2020 attach to
  dm04_lme2510_tuner (bnc#1012628).
- media: hdpvr: Fix an error handling path in hdpvr_probe()
  (bnc#1012628).
- arm64: cpu_errata: Add Kryo to Falkor 1003 errata (bnc#1012628).
- arm64: kpti: Make use of nG dependent on
  arm64_kernel_unmapped_at_el0() (bnc#1012628).
- arm64: mm: Permit transitioning from Global to Non-Global
  without BBM (bnc#1012628).
- arm64: kpti: Add ->enable callback to remap swapper using nG
  mappings (bnc#1012628).
- arm64: Force KPTI to be disabled on Cavium ThunderX
  (bnc#1012628).
- arm64: entry: Reword comment about post_ttbr_update_workaround
  (bnc#1012628).
- arm64: idmap: Use "awx" flags for .idmap.text .pushsection
  directives (bnc#1012628).
- arm64: barrier: Add CSDB macros to control data-value prediction
  (bnc#1012628).
- arm64: Implement array_index_mask_nospec() (bnc#1012628).
- arm64: Make USER_DS an inclusive limit (bnc#1012628).
- arm64: Use pointer masking to limit uaccess speculation
  (bnc#1012628).
- arm64: entry: Ensure branch through syscall table is bounded
  under speculation (bnc#1012628).
- arm64: uaccess: Prevent speculative use of the current
  addr_limit (bnc#1012628).
- arm64: uaccess: Don't bother eliding access_ok checks in __{get,
  put}_user (bnc#1012628).
- arm64: uaccess: Mask __user pointers for __arch_{clear,
  copy_*}_user (bnc#1012628).
- arm64: futex: Mask __user pointers prior to dereference
  (bnc#1012628).
- arm64: cpufeature: __this_cpu_has_cap() shouldn't stop early
  (bnc#1012628).
- arm64: entry: Apply BP hardening for high-priority synchronous
  exceptions (bnc#1012628).
- arm64: entry: Apply BP hardening for suspicious interrupts
  from EL0 (bnc#1012628).
- arm64: KVM: Increment PC after handling an SMC trap
  (bnc#1012628).
- arm/arm64: KVM: Consolidate the PSCI include files
  (bnc#1012628).
- arm/arm64: KVM: Add PSCI_VERSION helper (bnc#1012628).
- arm/arm64: KVM: Add smccc accessors to PSCI code (bnc#1012628).
- arm/arm64: KVM: Implement PSCI 1.0 support (bnc#1012628).
- arm/arm64: KVM: Advertise SMCCC v1.1 (bnc#1012628).
- arm/arm64: KVM: Turn kvm_psci_version into a static inline
  (bnc#1012628).
- arm64: KVM: Report SMCCC_ARCH_WORKAROUND_1 BP hardening support
  (bnc#1012628).
- arm64: KVM: Add SMCCC_ARCH_WORKAROUND_1 fast handling
  (bnc#1012628).
- firmware/psci: Expose PSCI conduit (bnc#1012628).
- firmware/psci: Expose SMCCC version through psci_ops
  (bnc#1012628).
- arm/arm64: smccc: Make function identifiers an unsigned quantity
  (bnc#1012628).
- arm/arm64: smccc: Implement SMCCC v1.1 inline primitive
  (bnc#1012628).
- arm64: Add ARM_SMCCC_ARCH_WORKAROUND_1 BP hardening support
  (bnc#1012628).
- arm64: Kill PSCI_GET_VERSION as a variant-2 workaround
  (bnc#1012628).
- mtd: cfi: convert inline functions to macros (bnc#1012628).
- mtd: nand: brcmnand: Disable prefetch by default (bnc#1012628).
- mtd: nand: Fix nand_do_read_oob() return value (bnc#1012628).
- mtd: nand: sunxi: Fix ECC strength choice (bnc#1012628).
- ubi: Fix race condition between ubi volume creation and udev
  (bnc#1012628).
- ubi: fastmap: Erase outdated anchor PEBs during attach
  (bnc#1012628).
- ubi: block: Fix locking for idr_alloc/idr_remove (bnc#1012628).
- ubifs: free the encrypted symlink target (bnc#1012628).
- nfs/pnfs: fix nfs_direct_req ref leak when i/o falls back to
  the mds (bnc#1012628).
- nfs41: do not return ENOMEM on LAYOUTUNAVAILABLE (bnc#1012628).
- NFS: Add a cond_resched() to nfs_commit_release_pages()
  (bnc#1012628).
- NFS: Fix nfsstat breakage due to LOOKUPP (bnc#1012628).
- NFS: commit direct writes even if they fail partially
  (bnc#1012628).
- NFS: reject request for id_legacy key without auxdata
  (bnc#1012628).
- NFS: Fix a race between mmap() and O_DIRECT (bnc#1012628).
- nfsd: Detect unhashed stids in nfsd4_verify_open_stid()
  (bnc#1012628).
- kernfs: fix regression in kernfs_fop_write caused by wrong type
  (bnc#1012628).
- ahci: Annotate PCI ids for mobile Intel chipsets as such
  (bnc#1012628).
- ahci: Add PCI ids for Intel Bay Trail, Cherry Trail and Apollo
  Lake AHCI (bnc#1012628).
- ahci: Add Intel Cannon Lake PCH-H PCI ID (bnc#1012628).
- crypto: hash - introduce crypto_hash_alg_has_setkey()
  (bnc#1012628).
- crypto: cryptd - pass through absence of ->setkey()
  (bnc#1012628).
- crypto: mcryptd - pass through absence of ->setkey()
  (bnc#1012628).
- crypto: poly1305 - remove ->setkey() method (bnc#1012628).
- crypto: hash - annotate algorithms taking optional key
  (bnc#1012628).
- crypto: hash - prevent using keyed hashes without setting key
  (bnc#1012628).
- media: v4l2-ioctl.c: use check_fmt for enum/g/s/try_fmt
  (bnc#1012628).
- media: v4l2-ioctl.c: don't copy back the result for -ENOTTY
  (bnc#1012628).
- media: v4l2-compat-ioctl32.c: add missing VIDIOC_PREPARE_BUF
  (bnc#1012628).
- media: v4l2-compat-ioctl32.c: fix the indentation (bnc#1012628).
- media: v4l2-compat-ioctl32.c: move 'helper' functions to
  __get/put_v4l2_format32 (bnc#1012628).
- media: v4l2-compat-ioctl32.c: avoid sizeof(type) (bnc#1012628).
- media: v4l2-compat-ioctl32.c: copy m.userptr in put_v4l2_plane32
  (bnc#1012628).
- media: v4l2-compat-ioctl32.c: fix ctrl_is_pointer (bnc#1012628).
- media: v4l2-compat-ioctl32.c: copy clip list in
  put_v4l2_window32 (bnc#1012628).
- media: v4l2-compat-ioctl32.c: drop pr_info for unknown buffer
  type (bnc#1012628).
- media: v4l2-compat-ioctl32.c: don't copy back the result for
  certain errors (bnc#1012628).
- media: v4l2-compat-ioctl32.c: refactor compat ioctl32 logic
  (bnc#1012628).
- media: v4l2-compat-ioctl32.c: make ctrl_is_pointer work for
  subdevs (bnc#1012628).
- crypto: caam - fix endless loop when DECO acquire fails
  (bnc#1012628).
- crypto: sha512-mb - initialize pending lengths correctly
  (bnc#1012628).
- crypto: talitos - fix Kernel Oops on hashing an empty file
  (bnc#1012628).
- arm: KVM: Fix SMCCC handling of unimplemented SMC/HVC calls
  (bnc#1012628).
- KVM: nVMX: Fix races when sending nested PI while dest
  enters/leaves L2 (bnc#1012628).
- KVM: nVMX: Fix bug of injecting L2 exception into L1
  (bnc#1012628).
- KVM: PPC: Book3S HV: Make sure we don't re-enter guest without
  XIVE loaded (bnc#1012628).
- KVM: PPC: Book3S HV: Drop locks before reading guest memory
  (bnc#1012628).
- KVM: arm/arm64: Handle CPU_PM_ENTER_FAILED (bnc#1012628).
- KVM: PPC: Book3S PR: Fix broken select due to misspelling
  (bnc#1012628).
- ASoC: acpi: fix machine driver selection based on quirk
  (bnc#1012628).
- ASoC: rockchip: i2s: fix playback after runtime resume
  (bnc#1012628).
- ASoC: skl: Fix kernel warning due to zero NHTL entry
  (bnc#1012628).
- ASoC: compress: Correct handling of copy callback (bnc#1012628).
- watchdog: imx2_wdt: restore previous timeout after
  suspend+resume (bnc#1012628).
- afs: Add missing afs_put_cell() (bnc#1012628).
- afs: Need to clear responded flag in addr cursor (bnc#1012628).
- afs: Fix missing cursor clearance (bnc#1012628).
- afs: Fix server list handling (bnc#1012628).
- btrfs: Handle btrfs_set_extent_delalloc failure in fixup worker
  (bnc#1012628).
- Btrfs: raid56: iterate raid56 internal bio with
  bio_for_each_segment_all (bnc#1012628).
- kasan: don't emit builtin calls when sanitization is off
  (bnc#1012628).
- kasan: rework Kconfig settings (bnc#1012628).
- media: dvb_frontend: be sure to init dvb_frontend_handle_ioctl()
  return code (bnc#1012628).
- media: dvb-frontends: fix i2c access helpers for KASAN
  (bnc#1012628).
- media: dt-bindings/media/cec-gpio.txt: mention the CEC/HPD
  max voltages (bnc#1012628).
- media: ts2020: avoid integer overflows on 32 bit machines
  (bnc#1012628).
- media: vivid: fix module load error when enabling fb and
  no_error_inj=1 (bnc#1012628).
- media: cxusb, dib0700: ignore XC2028_I2C_FLUSH (bnc#1012628).
- fs/proc/kcore.c: use probe_kernel_read() instead of memcpy()
  (bnc#1012628).
- kernel/async.c: revert "async: simplify lowest_in_progress()"
  (bnc#1012628).
- kernel/relay.c: revert "kernel/relay.c: fix potential memory
  leak" (bnc#1012628).
- pipe: actually allow root to exceed the pipe buffer limits
  (bnc#1012628).
- pipe: fix off-by-one error when checking buffer limits
  (bnc#1012628).
- HID: quirks: Fix keyboard + touchpad on Toshiba Click Mini
  not working (bnc#1012628).
- Bluetooth: btsdio: Do not bind to non-removable BCM43341
  (bnc#1012628).
- Revert "Bluetooth: btusb: fix QCA Rome suspend/resume"
  (bnc#1012628).
- Bluetooth: btusb: Restore QCA Rome suspend/resume fix with a
  "rewritten" version (bnc#1012628).
- ipmi: use dynamic memory for DMI driver override (bnc#1012628).
- signal/openrisc: Fix do_unaligned_access to send the proper
  signal (bnc#1012628).
- signal/sh: Ensure si_signo is initialized in do_divide_error
  (bnc#1012628).
- alpha: fix crash if pthread_create races with signal delivery
  (bnc#1012628).
- alpha: osf_sys.c: fix put_tv32 regression (bnc#1012628).
- alpha: Fix mixed up args in EXC macro in futex operations
  (bnc#1012628).
- alpha: fix reboot on Avanti platform (bnc#1012628).
- alpha: fix formating of stack content (bnc#1012628).
- xtensa: fix futex_atomic_cmpxchg_inatomic (bnc#1012628).
- EDAC, octeon: Fix an uninitialized variable warning
  (bnc#1012628).
- genirq: Make legacy autoprobing work again (bnc#1012628).
- pinctrl: intel: Initialize GPIO properly when used through
  irqchip (bnc#1012628).
- pinctrl: mcp23s08: fix irq setup order (bnc#1012628).
- pinctrl: sx150x: Unregister the pinctrl on release
  (bnc#1012628).
- pinctrl: sx150x: Register pinctrl before adding the gpiochip
  (bnc#1012628).
- pinctrl: sx150x: Add a static gpio/pinctrl pin range mapping
  (bnc#1012628).
- pktcdvd: Fix pkt_setup_dev() error path (bnc#1012628).
- pktcdvd: Fix a recently introduced NULL pointer dereference
  (bnc#1012628).
- blk-mq: quiesce queue before freeing queue (bnc#1012628).
- clocksource/drivers/stm32: Fix kernel panic with multiple timers
  (bnc#1012628).
- lib/ubsan.c: s/missaligned/misaligned/ (bnc#1012628).
- lib/ubsan: add type mismatch handler for new GCC/Clang
  (bnc#1012628).
- objtool: Fix switch-table detection (bnc#1012628).
- arm64: dts: marvell: add Ethernet aliases (bnc#1012628).
- drm/i915: Avoid PPS HW/SW state mismatch due to rounding
  (bnc#1012628).
- ACPI: sbshc: remove raw pointer from printk() message
  (bnc#1012628).
- acpi, nfit: fix register dimm error handling (bnc#1012628).
- ovl: force r/o mount when index dir creation fails
  (bnc#1012628).
- ovl: fix failure to fsync lower dir (bnc#1012628).
- ovl: take mnt_want_write() for work/index dir setup
  (bnc#1012628).
- ovl: take mnt_want_write() for removing impure xattr
  (bnc#1012628).
- ovl: hash directory inodes for fsnotify (bnc#1012628).
- mn10300/misalignment: Use SIGSEGV SEGV_MAPERR to report a
  failed user copy (bnc#1012628).
- devpts: fix error handling in devpts_mntget() (bnc#1012628).
- ftrace: Remove incorrect setting of glob search field
  (bnc#1012628).
- scsi: core: Ensure that the SCSI error handler gets woken up
  (bnc#1012628).
- scsi: lpfc: Fix crash after bad bar setup on driver attachment
  (bnc#1012628).
- scsi: cxlflash: Reset command ioasc (bnc#1012628).
- rcu: Export init_rcu_head() and destroy_rcu_head() to GPL
  modules (bnc#1012628).
- media: dvb_frontend: fix return error code (git-fixes).
- mtd: ubi: wl: Fix error return code in ubi_wl_init()
  (git-fixes).
- Update config files.
- Linux 4.15.4 (bnc#1012628).
- watchdog: indydog: Add dependency on SGI_HAS_INDYDOG
  (bnc#1012628).
- cifs: Fix missing put_xid in cifs_file_strict_mmap
  (bnc#1012628).
- cifs: Fix autonegotiate security settings mismatch
  (bnc#1012628).
- CIFS: zero sensitive data when freeing (bnc#1012628).
- cpufreq: mediatek: add mediatek related projects into blacklist
  (bnc#1012628).
- dmaengine: dmatest: fix container_of member in dmatest_callback
  (bnc#1012628).
- ssb: Do not disable PCI host on non-Mips (bnc#1012628).
- watchdog: gpio_wdt: set WDOG_HW_RUNNING in gpio_wdt_stop
  (bnc#1012628).
- Revert "drm/i915: mark all device info struct with __initconst"
  (bnc#1012628).
- sched/rt: Use container_of() to get root domain in
  rto_push_irq_work_func() (bnc#1012628).
- sched/rt: Up the root domain ref count when passing it around
  via IPIs (bnc#1012628).
- media: dvb-usb-v2: lmedm04: Improve logic checking of warm start
  (bnc#1012628).
- media: dvb-usb-v2: lmedm04: move ts2020 attach to
  dm04_lme2510_tuner (bnc#1012628).
- media: hdpvr: Fix an error handling path in hdpvr_probe()
  (bnc#1012628).
- arm64: cpu_errata: Add Kryo to Falkor 1003 errata (bnc#1012628).
- arm64: kpti: Make use of nG dependent on
  arm64_kernel_unmapped_at_el0() (bnc#1012628).
- arm64: mm: Permit transitioning from Global to Non-Global
  without BBM (bnc#1012628).
- arm64: kpti: Add ->enable callback to remap swapper using nG
  mappings (bnc#1012628).
- arm64: Force KPTI to be disabled on Cavium ThunderX
  (bnc#1012628).
- arm64: entry: Reword comment about post_ttbr_update_workaround
  (bnc#1012628).
- arm64: idmap: Use "awx" flags for .idmap.text .pushsection
  directives (bnc#1012628).
- arm64: barrier: Add CSDB macros to control data-value prediction
  (bnc#1012628).
- arm64: Implement array_index_mask_nospec() (bnc#1012628).
- arm64: Make USER_DS an inclusive limit (bnc#1012628).
- arm64: Use pointer masking to limit uaccess speculation
  (bnc#1012628).
- arm64: entry: Ensure branch through syscall table is bounded
  under speculation (bnc#1012628).
- arm64: uaccess: Prevent speculative use of the current
  addr_limit (bnc#1012628).
- arm64: uaccess: Don't bother eliding access_ok checks in __{get,
  put}_user (bnc#1012628).
- arm64: uaccess: Mask __user pointers for __arch_{clear,
  copy_*}_user (bnc#1012628).
- arm64: futex: Mask __user pointers prior to dereference
  (bnc#1012628).
- arm64: cpufeature: __this_cpu_has_cap() shouldn't stop early
  (bnc#1012628).
- arm64: entry: Apply BP hardening for high-priority synchronous
  exceptions (bnc#1012628).
- arm64: entry: Apply BP hardening for suspicious interrupts
  from EL0 (bnc#1012628).
- arm64: KVM: Increment PC after handling an SMC trap
  (bnc#1012628).
- arm/arm64: KVM: Consolidate the PSCI include files
  (bnc#1012628).
- arm/arm64: KVM: Add PSCI_VERSION helper (bnc#1012628).
- arm/arm64: KVM: Add smccc accessors to PSCI code (bnc#1012628).
- arm/arm64: KVM: Implement PSCI 1.0 support (bnc#1012628).
- arm/arm64: KVM: Advertise SMCCC v1.1 (bnc#1012628).
- arm/arm64: KVM: Turn kvm_psci_version into a static inline
  (bnc#1012628).
- arm64: KVM: Report SMCCC_ARCH_WORKAROUND_1 BP hardening support
  (bnc#1012628).
- arm64: KVM: Add SMCCC_ARCH_WORKAROUND_1 fast handling
  (bnc#1012628).
- firmware/psci: Expose PSCI conduit (bnc#1012628).
- firmware/psci: Expose SMCCC version through psci_ops
  (bnc#1012628).
- arm/arm64: smccc: Make function identifiers an unsigned quantity
  (bnc#1012628).
- arm/arm64: smccc: Implement SMCCC v1.1 inline primitive
  (bnc#1012628).
- arm64: Add ARM_SMCCC_ARCH_WORKAROUND_1 BP hardening support
  (bnc#1012628).
- arm64: Kill PSCI_GET_VERSION as a variant-2 workaround
  (bnc#1012628).
- mtd: cfi: convert inline functions to macros (bnc#1012628).
- mtd: nand: brcmnand: Disable prefetch by default (bnc#1012628).
- mtd: nand: Fix nand_do_read_oob() return value (bnc#1012628).
- mtd: nand: sunxi: Fix ECC strength choice (bnc#1012628).
- ubi: Fix race condition between ubi volume creation and udev
  (bnc#1012628).
- ubi: fastmap: Erase outdated anchor PEBs during attach
  (bnc#1012628).
- ubi: block: Fix locking for idr_alloc/idr_remove (bnc#1012628).
- ubifs: free the encrypted symlink target (bnc#1012628).
- nfs/pnfs: fix nfs_direct_req ref leak when i/o falls back to
  the mds (bnc#1012628).
- nfs41: do not return ENOMEM on LAYOUTUNAVAILABLE (bnc#1012628).
- NFS: Add a cond_resched() to nfs_commit_release_pages()
  (bnc#1012628).
- NFS: Fix nfsstat breakage due to LOOKUPP (bnc#1012628).
- NFS: commit direct writes even if they fail partially
  (bnc#1012628).
- NFS: reject request for id_legacy key without auxdata
  (bnc#1012628).
- NFS: Fix a race between mmap() and O_DIRECT (bnc#1012628).
- nfsd: Detect unhashed stids in nfsd4_verify_open_stid()
  (bnc#1012628).
- kernfs: fix regression in kernfs_fop_write caused by wrong type
  (bnc#1012628).
- ahci: Annotate PCI ids for mobile Intel chipsets as such
  (bnc#1012628).
- ahci: Add PCI ids for Intel Bay Trail, Cherry Trail and Apollo
  Lake AHCI (bnc#1012628).
- ahci: Add Intel Cannon Lake PCH-H PCI ID (bnc#1012628).
- crypto: hash - introduce crypto_hash_alg_has_setkey()
  (bnc#1012628).
- crypto: cryptd - pass through absence of ->setkey()
  (bnc#1012628).
- crypto: mcryptd - pass through absence of ->setkey()
  (bnc#1012628).
- crypto: poly1305 - remove ->setkey() method (bnc#1012628).
- crypto: hash - annotate algorithms taking optional key
  (bnc#1012628).
- crypto: hash - prevent using keyed hashes without setting key
  (bnc#1012628).
- media: v4l2-ioctl.c: use check_fmt for enum/g/s/try_fmt
  (bnc#1012628).
- media: v4l2-ioctl.c: don't copy back the result for -ENOTTY
  (bnc#1012628).
- media: v4l2-compat-ioctl32.c: add missing VIDIOC_PREPARE_BUF
  (bnc#1012628).
- media: v4l2-compat-ioctl32.c: fix the indentation (bnc#1012628).
- media: v4l2-compat-ioctl32.c: move 'helper' functions to
  __get/put_v4l2_format32 (bnc#1012628).
- media: v4l2-compat-ioctl32.c: avoid sizeof(type) (bnc#1012628).
- media: v4l2-compat-ioctl32.c: copy m.userptr in put_v4l2_plane32
  (bnc#1012628).
- media: v4l2-compat-ioctl32.c: fix ctrl_is_pointer (bnc#1012628).
- media: v4l2-compat-ioctl32.c: copy clip list in
  put_v4l2_window32 (bnc#1012628).
- media: v4l2-compat-ioctl32.c: drop pr_info for unknown buffer
  type (bnc#1012628).
- media: v4l2-compat-ioctl32.c: don't copy back the result for
  certain errors (bnc#1012628).
- media: v4l2-compat-ioctl32.c: refactor compat ioctl32 logic
  (bnc#1012628).
- media: v4l2-compat-ioctl32.c: make ctrl_is_pointer work for
  subdevs (bnc#1012628).
- crypto: caam - fix endless loop when DECO acquire fails
  (bnc#1012628).
- crypto: sha512-mb - initialize pending lengths correctly
  (bnc#1012628).
- crypto: talitos - fix Kernel Oops on hashing an empty file
  (bnc#1012628).
- arm: KVM: Fix SMCCC handling of unimplemented SMC/HVC calls
  (bnc#1012628).
- KVM: nVMX: Fix races when sending nested PI while dest
  enters/leaves L2 (bnc#1012628).
- KVM: nVMX: Fix bug of injecting L2 exception into L1
  (bnc#1012628).
- KVM: PPC: Book3S HV: Make sure we don't re-enter guest without
  XIVE loaded (bnc#1012628).
- KVM: PPC: Book3S HV: Drop locks before reading guest memory
  (bnc#1012628).
- KVM: arm/arm64: Handle CPU_PM_ENTER_FAILED (bnc#1012628).
- KVM: PPC: Book3S PR: Fix broken select due to misspelling
  (bnc#1012628).
- ASoC: acpi: fix machine driver selection based on quirk
  (bnc#1012628).
- ASoC: rockchip: i2s: fix playback after runtime resume
  (bnc#1012628).
- ASoC: skl: Fix kernel warning due to zero NHTL entry
  (bnc#1012628).
- ASoC: compress: Correct handling of copy callback (bnc#1012628).
- watchdog: imx2_wdt: restore previous timeout after
  suspend+resume (bnc#1012628).
- afs: Add missing afs_put_cell() (bnc#1012628).
- afs: Need to clear responded flag in addr cursor (bnc#1012628).
- afs: Fix missing cursor clearance (bnc#1012628).
- afs: Fix server list handling (bnc#1012628).
- btrfs: Handle btrfs_set_extent_delalloc failure in fixup worker
  (bnc#1012628).
- Btrfs: raid56: iterate raid56 internal bio with
  bio_for_each_segment_all (bnc#1012628).
- kasan: don't emit builtin calls when sanitization is off
  (bnc#1012628).
- kasan: rework Kconfig settings (bnc#1012628).
- media: dvb_frontend: be sure to init dvb_frontend_handle_ioctl()
  return code (bnc#1012628).
- media: dvb-frontends: fix i2c access helpers for KASAN
  (bnc#1012628).
- media: dt-bindings/media/cec-gpio.txt: mention the CEC/HPD
  max voltages (bnc#1012628).
- media: ts2020: avoid integer overflows on 32 bit machines
  (bnc#1012628).
- media: vivid: fix module load error when enabling fb and
  no_error_inj=1 (bnc#1012628).
- media: cxusb, dib0700: ignore XC2028_I2C_FLUSH (bnc#1012628).
- fs/proc/kcore.c: use probe_kernel_read() instead of memcpy()
  (bnc#1012628).
- kernel/async.c: revert "async: simplify lowest_in_progress()"
  (bnc#1012628).
- kernel/relay.c: revert "kernel/relay.c: fix potential memory
  leak" (bnc#1012628).
- pipe: actually allow root to exceed the pipe buffer limits
  (bnc#1012628).
- pipe: fix off-by-one error when checking buffer limits
  (bnc#1012628).
- HID: quirks: Fix keyboard + touchpad on Toshiba Click Mini
  not working (bnc#1012628).
- Bluetooth: btsdio: Do not bind to non-removable BCM43341
  (bnc#1012628).
- Revert "Bluetooth: btusb: fix QCA Rome suspend/resume"
  (bnc#1012628).
- Bluetooth: btusb: Restore QCA Rome suspend/resume fix with a
  "rewritten" version (bnc#1012628).
- ipmi: use dynamic memory for DMI driver override (bnc#1012628).
- signal/openrisc: Fix do_unaligned_access to send the proper
  signal (bnc#1012628).
- signal/sh: Ensure si_signo is initialized in do_divide_error
  (bnc#1012628).
- alpha: fix crash if pthread_create races with signal delivery
  (bnc#1012628).
- alpha: osf_sys.c: fix put_tv32 regression (bnc#1012628).
- alpha: Fix mixed up args in EXC macro in futex operations
  (bnc#1012628).
- alpha: fix reboot on Avanti platform (bnc#1012628).
- alpha: fix formating of stack content (bnc#1012628).
- xtensa: fix futex_atomic_cmpxchg_inatomic (bnc#1012628).
- EDAC, octeon: Fix an uninitialized variable warning
  (bnc#1012628).
- genirq: Make legacy autoprobing work again (bnc#1012628).
- pinctrl: intel: Initialize GPIO properly when used through
  irqchip (bnc#1012628).
- pinctrl: mcp23s08: fix irq setup order (bnc#1012628).
- pinctrl: sx150x: Unregister the pinctrl on release
  (bnc#1012628).
- pinctrl: sx150x: Register pinctrl before adding the gpiochip
  (bnc#1012628).
- pinctrl: sx150x: Add a static gpio/pinctrl pin range mapping
  (bnc#1012628).
- pktcdvd: Fix pkt_setup_dev() error path (bnc#1012628).
- pktcdvd: Fix a recently introduced NULL pointer dereference
  (bnc#1012628).
- blk-mq: quiesce queue before freeing queue (bnc#1012628).
- clocksource/drivers/stm32: Fix kernel panic with multiple timers
  (bnc#1012628).
- lib/ubsan.c: s/missaligned/misaligned/ (bnc#1012628).
- lib/ubsan: add type mismatch handler for new GCC/Clang
  (bnc#1012628).
- objtool: Fix switch-table detection (bnc#1012628).
- arm64: dts: marvell: add Ethernet aliases (bnc#1012628).
- drm/i915: Avoid PPS HW/SW state mismatch due to rounding
  (bnc#1012628).
- ACPI: sbshc: remove raw pointer from printk() message
  (bnc#1012628).
- acpi, nfit: fix register dimm error handling (bnc#1012628).
- ovl: force r/o mount when index dir creation fails
  (bnc#1012628).
- ovl: fix failure to fsync lower dir (bnc#1012628).
- ovl: take mnt_want_write() for work/index dir setup
  (bnc#1012628).
- ovl: take mnt_want_write() for removing impure xattr
  (bnc#1012628).
- ovl: hash directory inodes for fsnotify (bnc#1012628).
- mn10300/misalignment: Use SIGSEGV SEGV_MAPERR to report a
  failed user copy (bnc#1012628).
- devpts: fix error handling in devpts_mntget() (bnc#1012628).
- ftrace: Remove incorrect setting of glob search field
  (bnc#1012628).
- scsi: core: Ensure that the SCSI error handler gets woken up
  (bnc#1012628).
- scsi: lpfc: Fix crash after bad bar setup on driver attachment
  (bnc#1012628).
- scsi: cxlflash: Reset command ioasc (bnc#1012628).
- rcu: Export init_rcu_head() and destroy_rcu_head() to GPL
  modules (bnc#1012628).
- Update config files.
- commit 4d42c34

-------------------------------------------------------------------
Thu Feb 15 14:30:11 CET 2018 - jmoreira@suse.de

- Add kernel livepatch-devel package
  Resolving non-exported static symbols in kernel livepatches cannot
  be done implicitly. For such, the relocations of these symbols must
  follow a specially crafted format in the respective elf file. Willing
  to make the task of converting the elf into the right format, a tool
  named klp-convert was proposed. Through a file that maps all kernel
  symbols into their respective kernel object, this tool infers which
  non-exported symbol is relative to a livepatch relocation and
  automatically formats the final elf file.
  Add support to the generation of a map file right after the kernel
  compilation.
  Add the package kernel-<flavour>-livepatch-devel that brings
  the map file.
- commit 0b1b4d3

-------------------------------------------------------------------
Tue Feb 13 08:58:21 CET 2018 - jslaby@suse.cz

- Linux 4.15.3 (bnc#1012628).
- crypto: tcrypt - fix S/G table for test_aead_speed()
  (bnc#1012628).
- gpio: uniphier: fix mismatch between license text and
  MODULE_LICENSE (bnc#1012628).
- media: tegra-cec: add missing MODULE_DESCRIPTION/AUTHOR/LICENSE
  (bnc#1012628).
- media: soc_camera: soc_scale_crop: add missing
  MODULE_DESCRIPTION/AUTHOR/LICENSE (bnc#1012628).
- media: mtk-vcodec: add missing MODULE_LICENSE/DESCRIPTION
  (bnc#1012628).
- net: sched: fix use-after-free in tcf_block_put_ext
  (bnc#1012628).
- net_sched: get rid of rcu_barrier() in tcf_block_put_ext()
  (bnc#1012628).
- soreuseport: fix mem leak in reuseport_add_sock() (bnc#1012628).
- ipv6: Fix SO_REUSEPORT UDP socket with implicit sk_ipv6only
  (bnc#1012628).
- cls_u32: add missing RCU annotation (bnc#1012628).
- tcp_bbr: fix pacing_gain to always be unity when using lt_bw
  (bnc#1012628).
- rocker: fix possible null pointer dereference in
  rocker_router_fib_event_work (bnc#1012628).
- net: ipv6: send unsolicited NA after DAD (bnc#1012628).
- Revert "defer call to mem_cgroup_sk_alloc()" (bnc#1012628).
- ipv6: change route cache aging logic (bnc#1012628).
- ipv6: addrconf: break critical section in addrconf_verify_rtnl()
  (bnc#1012628).
- vhost_net: stop device during reset owner (bnc#1012628).
- tcp: release sk_frag.page in tcp_disconnect (bnc#1012628).
- r8169: fix RTL8168EP take too long to complete driver
  initialization (bnc#1012628).
- qmi_wwan: Add support for Quectel EP06 (bnc#1012628).
- qlcnic: fix deadlock bug (bnc#1012628).
- net: igmp: add a missing rcu locking section (bnc#1012628).
- ip6mr: fix stale iterator (bnc#1012628).
- commit e7bb737

-------------------------------------------------------------------
Tue Feb 13 08:55:21 CET 2018 - jslaby@suse.cz

- ext4: llseek, do not crop offset on 32bit (bsc#1079747).
- commit c6ab9c6

-------------------------------------------------------------------
Sun Feb 11 02:20:43 CET 2018 - afaerber@suse.de

- config: arm64: Enable Hi6421 PMU (bsc#1080449)
- commit 77a784c

-------------------------------------------------------------------
Fri Feb  9 16:48:09 CET 2018 - jslaby@suse.cz

- Update i386 config files.
  Switch from almost unusable UNWINDER_GUESS to UNWINDER_FRAME_POINTER
  (which enables FRAME_POINTERs). It will slow down the kernel a bit,
  but improves the stack traces by the order of magnitude. Sad is that
  we have no ORCs on i386...
- commit 1d39996

-------------------------------------------------------------------
Fri Feb  9 16:05:51 CET 2018 - jslaby@suse.cz

- Update config files.
  Sync vanilla configs to 4.15.
- commit 85c7881

-------------------------------------------------------------------
Thu Feb  8 16:37:42 CET 2018 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: Also require m4 for build.
- commit 0d7b4b3

-------------------------------------------------------------------
Thu Feb  8 07:52:04 CET 2018 - jslaby@suse.cz

- Linux 4.15.2 (bnc#1012628).
- KVM: x86: Make indirect calls in emulator speculation safe
  (bnc#1012628).
- KVM: VMX: Make indirect call speculation safe (bnc#1012628).
- x86/alternative: Print unadorned pointers (bnc#1012628).
- auxdisplay: img-ascii-lcd: add missing
  MODULE_DESCRIPTION/AUTHOR/LICENSE (bnc#1012628).
- iio: adc/accel: Fix up module licenses (bnc#1012628).
- pinctrl: pxa: pxa2xx: add missing
  MODULE_DESCRIPTION/AUTHOR/LICENSE (bnc#1012628).
- ASoC: pcm512x: add missing MODULE_DESCRIPTION/AUTHOR/LICENSE
  (bnc#1012628).
- KVM: nVMX: Eliminate vmcs02 pool (bnc#1012628).
- KVM: VMX: introduce alloc_loaded_vmcs (bnc#1012628).
- objtool: Improve retpoline alternative handling (bnc#1012628).
- objtool: Add support for alternatives at the end of a section
  (bnc#1012628).
- objtool: Warn on stripped section symbol (bnc#1012628).
- x86/mm: Fix overlap of i386 CPU_ENTRY_AREA with FIX_BTMAP
  (bnc#1012628).
- x86/entry/64: Remove the SYSCALL64 fast path (bnc#1012628).
- x86/entry/64: Push extra regs right away (bnc#1012628).
- x86/asm: Move 'status' from thread_struct to thread_info
  (bnc#1012628).
- x86/spectre: Fix spelling mistake: "vunerable"-> "vulnerable"
  (bnc#1012628).
- x86/paravirt: Remove 'noreplace-paravirt' cmdline option
  (bnc#1012628).
- KVM: VMX: make MSR bitmaps per-VCPU (bnc#1012628).
- x86/kvm: Update spectre-v1 mitigation (bnc#1012628).
- x86/retpoline: Avoid retpolines for built-in __init functions
  (bnc#1012628).
- x86/speculation: Fix typo IBRS_ATT, which should be IBRS_ALL
  (bnc#1012628).
- KVM/x86: Update the reverse_cpuid list to include CPUID_7_EDX
  (bnc#1012628).
- KVM/x86: Add IBPB support (bnc#1012628).
- KVM/VMX: Emulate MSR_IA32_ARCH_CAPABILITIES (bnc#1012628).
- KVM/VMX: Allow direct access to MSR_IA32_SPEC_CTRL
  (bnc#1012628).
- KVM/SVM: Allow direct access to MSR_IA32_SPEC_CTRL
  (bnc#1012628).
- serial: core: mark port as initialized after successful IRQ
  change (bnc#1012628).
- fpga: region: release of_parse_phandle nodes after use
  (bnc#1012628).
- commit 54903ae

-------------------------------------------------------------------
Wed Feb  7 16:06:12 CET 2018 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: install ksym-provides tool (bsc#1077692).
- commit 679f5c5

-------------------------------------------------------------------
Wed Feb  7 15:54:20 CET 2018 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: require bison for build.
  linux-next tends to have outdated generated files so it needs bison to
  regenerate them.
- commit 4ad1ede

-------------------------------------------------------------------
Wed Feb  7 15:46:22 CET 2018 - msuchanek@suse.de

- Add ksym-provides tool (bsc#1077692).
- commit 9cd1e1e

-------------------------------------------------------------------
Mon Feb  5 15:52:19 CET 2018 - jslaby@suse.cz

- x86/pti: Mark constant arrays as __initconst (bsc#1068032
  CVE-2017-5753).
- x86/cpuid: Fix up "virtual" IBRS/IBPB/STIBP feature bits on
  Intel (bsc#1068032 CVE-2017-5753).
- commit 7d4f257

-------------------------------------------------------------------
Mon Feb  5 14:15:56 CET 2018 - jslaby@suse.cz

- x86/speculation: Add basic IBRS support infrastructure
  (bsc#1068032 CVE-2017-5753).
- x86/pti: Do not enable PTI on CPUs which are not vulnerable
  to Meltdown (bsc#1068032 CVE-2017-5753).
- x86/cpufeature: Blacklist SPEC_CTRL/PRED_CMD on early Spectre
  v2 microcodes (bsc#1068032 CVE-2017-5753).
- x86/nospec: Fix header guards names (bsc#1068032 CVE-2017-5753).
- x86/bugs: Drop one "mitigation" from dmesg (bsc#1068032
  CVE-2017-5753).
- x86/cpu/bugs: Make retpoline module warning conditional
  (bsc#1068032 CVE-2017-5753).
- x86/cpufeatures: Clean up Spectre v2 related CPUID flags
  (bsc#1068032 CVE-2017-5753).
- x86/retpoline: Simplify vmexit_fill_RSB() (bsc#1068032
  CVE-2017-5753).
- x86/speculation: Simplify indirect_branch_prediction_barrier()
  (bsc#1068032 CVE-2017-5753).
- module/retpoline: Warn about missing retpoline in module
  (bsc#1068032 CVE-2017-5753).
- x86/spectre: Check CONFIG_RETPOLINE in command line parser
  (bsc#1068032 CVE-2017-5753).
- x86/speculation: Use Indirect Branch Prediction Barrier in
  context switch (bsc#1068032 CVE-2017-5753).
- Refresh
  patches.suse/0001-x86-cpufeatures-Add-CPUID_7_EDX-CPUID-leaf.patch.
- Refresh
  patches.suse/0002-x86-cpufeatures-Add-Intel-feature-bits-for-Speculati.patch.
- Refresh
  patches.suse/0003-x86-cpufeatures-Add-AMD-feature-bits-for-Speculation.patch.
- Refresh
  patches.suse/0004-x86-msr-Add-definitions-for-new-speculation-control-.patch.
- Refresh
  patches.suse/0007-x86-speculation-Add-basic-IBPB-Indirect-Branch-Predi.patch.
- Refresh patches.suse/supported-flag.
- Delete
  patches.suse/0005-x86-pti-Do-not-enable-PTI-on-processors-which-are-no.patch.
- Delete
  patches.suse/0006-x86-cpufeature-Blacklist-SPEC_CTRL-on-early-Spectre-.patch.
- Delete patches.suse/0008-x86-kvm-Add-IBPB-support.patch.
- Delete
  patches.suse/0009-x86-speculation-Use-Indirect-Branch-Prediction-Barri.patch.
- Delete
  patches.suse/0010-x86-mm-Only-flush-indirect-branches-when-switching-i.patch.
- Delete
  patches.suse/0011-x86-speculation-Add-basic-IBRS-support-infrastructur.patch.
- Delete
  patches.suse/0017-x86-ibrs-Add-new-helper-macros-to-save-restore-MSR_I-fix.patch.
- Delete
  patches.suse/0017-x86-ibrs-Add-new-helper-macros-to-save-restore-MSR_I.patch.
- Delete
  patches.suse/0018-x86-vmx-Direct-access-to-MSR_IA32_SPEC_CTRL.patch.
  Update to the patches from 4.16-rc1 and the updated IBRS patches from
  the dwmw's repo.
- commit cd20d46

-------------------------------------------------------------------
Mon Feb  5 10:50:15 CET 2018 - jslaby@suse.cz

- Documentation: Document array_index_nospec (bsc#1068032
  CVE-2017-5715).
- array_index_nospec: Sanitize speculative array de-references
  (bsc#1068032 CVE-2017-5715).
- x86: Implement array_index_mask_nospec (bsc#1068032
  CVE-2017-5715).
- x86: Introduce barrier_nospec (bsc#1068032 CVE-2017-5715).
- x86: Introduce __uaccess_begin_nospec() and uaccess_try_nospec
  (bsc#1068032 CVE-2017-5715).
- x86/usercopy: Replace open coded stac/clac with
  __uaccess_{begin, end} (bsc#1068032 CVE-2017-5715).
- x86/syscall: Sanitize syscall table de-references under
  speculation (bsc#1068032 CVE-2017-5715).
- nl80211: Sanitize array index in parse_txq_params (bsc#1068032
  CVE-2017-5715).
- x86/spectre: Report get_user mitigation for spectre_v1
  (bsc#1068032 CVE-2017-5715).
- Delete patches.suse/0001-Documentation-document-array_ptr.patch.
- Delete
  patches.suse/0002-asm-nospec-array_ptr-sanitize-speculative-array-de-r.patch.
- Delete patches.suse/0003-x86-implement-array_ptr_mask.patch.
- Delete
  patches.suse/0004-x86-introduce-__uaccess_begin_nospec-and-ifence.patch.
- Delete
  patches.suse/0007-x86-narrow-out-of-bounds-syscalls-to-sys_read-under-.patch.
- Delete
  patches.suse/0009-kvm-x86-update-spectre-v1-mitigation.patch.
- Delete
  patches.suse/0010-nl80211-sanitize-array-index-in-parse_txq_params.patch.
  Replace by the patches from 4.16-rc1.
- commit 8343cab

-------------------------------------------------------------------
Mon Feb  5 10:43:09 CET 2018 - jslaby@suse.cz

- scsi: aacraid: remove redundant setting of variable c
  (git-fixes).
- commit 143e25c

-------------------------------------------------------------------
Sun Feb  4 18:58:19 CET 2018 - jslaby@suse.cz

- Linux 4.15.1 (bnc#1012628).
- x86/efi: Clarify that reset attack mitigation needs appropriate
  userspace (bnc#1012628).
- Input: synaptics-rmi4 - do not delete interrupt memory too early
  (bnc#1012628).
- Input: synaptics-rmi4 - unmask F03 interrupts when port is
  opened (bnc#1012628).
- test_firmware: fix missing unlock on error in
  config_num_requests_store() (bnc#1012628).
- iio: chemical: ccs811: Fix output of IIO_CONCENTRATION channels
  (bnc#1012628).
- iio: adc: stm32: fix scan of multiple channels with DMA
  (bnc#1012628).
- spi: imx: do not access registers while clocks disabled
  (bnc#1012628).
- serial: imx: Only wakeup via RTSDEN bit if the system has
  RTS/CTS (bnc#1012628).
- serial: 8250_dw: Revert "Improve clock rate setting"
  (bnc#1012628).
- serial: 8250_uniphier: fix error return code in
  uniphier_uart_probe() (bnc#1012628).
- serial: 8250_of: fix return code when probe function fails to
  get reset (bnc#1012628).
- mei: me: allow runtime pm for platform with D0i3 (bnc#1012628).
- android: binder: use VM_ALLOC to get vm area (bnc#1012628).
- ANDROID: binder: remove waitqueue when thread exits
  (bnc#1012628).
- usb/gadget: Fix "high bandwidth" check in
  usb_gadget_ep_match_desc() (bnc#1012628).
- usb: uas: unconditionally bring back host after reset
  (bnc#1012628).
- usb: f_fs: Prevent gadget unbind if it is already unbound
  (bnc#1012628).
- USB: serial: simple: add Motorola Tetra driver (bnc#1012628).
- usbip: list: don't list devices attached to vhci_hcd
  (bnc#1012628).
- usbip: prevent bind loops on devices attached to vhci_hcd
  (bnc#1012628).
- USB: serial: io_edgeport: fix possible sleep-in-atomic
  (bnc#1012628).
- CDC-ACM: apply quirk for card reader (bnc#1012628).
- USB: cdc-acm: Do not log urb submission errors on disconnect
  (bnc#1012628).
- USB: serial: pl2303: new device id for Chilitag (bnc#1012628).
- usb: option: Add support for FS040U modem (bnc#1012628).
- tty: fix data race between tty_init_dev and flush of buf
  (bnc#1012628).
- staging: ccree: fix fips event irq handling build (bnc#1012628).
- staging: ccree: NULLify backup_info when unused (bnc#1012628).
- staging: lustre: separate a connection destroy from free struct
  kib_conn (bnc#1012628).
- scsi: storvsc: missing error code in storvsc_probe()
  (bnc#1012628).
- scsi: aacraid: Fix hang in kdump (bnc#1012628).
- scsi: aacraid: Fix udev inquiry race condition (bnc#1012628).
- ima/policy: fix parsing of fsuuid (bnc#1012628).
- igb: Free IRQs when device is hotplugged (bnc#1012628).
- mtd: nand: denali_pci: add missing
  MODULE_DESCRIPTION/AUTHOR/LICENSE (bnc#1012628).
- gpio: ath79: add missing MODULE_DESCRIPTION/LICENSE
  (bnc#1012628).
- gpio: iop: add missing MODULE_DESCRIPTION/AUTHOR/LICENSE
  (bnc#1012628).
- power: reset: zx-reboot: add missing
  MODULE_DESCRIPTION/AUTHOR/LICENSE (bnc#1012628).
- HID: wacom: Fix reporting of touch toggle
  (WACOM_HID_WD_MUTE_DEVICE) events (bnc#1012628).
- HID: wacom: EKR: ensure devres groups at higher indexes are
  released (bnc#1012628).
- crypto: af_alg - whitelist mask and type (bnc#1012628).
- crypto: sha3-generic - fixes for alignment and big endian
  operation (bnc#1012628).
- crypto: inside-secure - avoid unmapping DMA memory that was
  not mapped (bnc#1012628).
- crypto: inside-secure - fix hash when length is a multiple of
  a block (bnc#1012628).
- crypto: aesni - Fix out-of-bounds access of the AAD buffer in
  generic-gcm-aesni (bnc#1012628).
- crypto: aesni - Fix out-of-bounds access of the data buffer
  in generic-gcm-aesni (bnc#1012628).
- crypto: aesni - add wrapper for generic gcm(aes) (bnc#1012628).
- crypto: aesni - fix typo in generic_gcmaes_decrypt
  (bnc#1012628).
- crypto: aesni - handle zero length dst buffer (bnc#1012628).
- crypto: ecdh - fix typo in KPP dependency of CRYPTO_ECDH
  (bnc#1012628).
- ALSA: hda - Reduce the suspend time consumption for ALC256
  (bnc#1012628).
- gpio: Fix kernel stack leak to userspace (bnc#1012628).
- gpio: stmpe: i2c transfer are forbiden in atomic context
  (bnc#1012628).
- tools/gpio: Fix build error with musl libc (bnc#1012628).
- Bluetooth: hci_serdev: Init hci_uart proto_lock to avoid oops
  (bnc#1012628).
- Linux 4.15.1 (bnc#1012628).
- x86/efi: Clarify that reset attack mitigation needs appropriate
  userspace (bnc#1012628).
- Input: synaptics-rmi4 - do not delete interrupt memory too early
  (bnc#1012628).
- Input: synaptics-rmi4 - unmask F03 interrupts when port is
  opened (bnc#1012628).
- test_firmware: fix missing unlock on error in
  config_num_requests_store() (bnc#1012628).
- iio: chemical: ccs811: Fix output of IIO_CONCENTRATION channels
  (bnc#1012628).
- iio: adc: stm32: fix scan of multiple channels with DMA
  (bnc#1012628).
- spi: imx: do not access registers while clocks disabled
  (bnc#1012628).
- serial: imx: Only wakeup via RTSDEN bit if the system has
  RTS/CTS (bnc#1012628).
- serial: 8250_dw: Revert "Improve clock rate setting"
  (bnc#1012628).
- serial: 8250_uniphier: fix error return code in
  uniphier_uart_probe() (bnc#1012628).
- serial: 8250_of: fix return code when probe function fails to
  get reset (bnc#1012628).
- mei: me: allow runtime pm for platform with D0i3 (bnc#1012628).
- android: binder: use VM_ALLOC to get vm area (bnc#1012628).
- ANDROID: binder: remove waitqueue when thread exits
  (bnc#1012628).
- usb/gadget: Fix "high bandwidth" check in
  usb_gadget_ep_match_desc() (bnc#1012628).
- usb: uas: unconditionally bring back host after reset
  (bnc#1012628).
- usb: f_fs: Prevent gadget unbind if it is already unbound
  (bnc#1012628).
- USB: serial: simple: add Motorola Tetra driver (bnc#1012628).
- usbip: list: don't list devices attached to vhci_hcd
  (bnc#1012628).
- usbip: prevent bind loops on devices attached to vhci_hcd
  (bnc#1012628).
- USB: serial: io_edgeport: fix possible sleep-in-atomic
  (bnc#1012628).
- CDC-ACM: apply quirk for card reader (bnc#1012628).
- USB: cdc-acm: Do not log urb submission errors on disconnect
  (bnc#1012628).
- USB: serial: pl2303: new device id for Chilitag (bnc#1012628).
- usb: option: Add support for FS040U modem (bnc#1012628).
- tty: fix data race between tty_init_dev and flush of buf
  (bnc#1012628).
- staging: ccree: fix fips event irq handling build (bnc#1012628).
- staging: ccree: NULLify backup_info when unused (bnc#1012628).
- staging: lustre: separate a connection destroy from free struct
  kib_conn (bnc#1012628).
- scsi: storvsc: missing error code in storvsc_probe()
  (bnc#1012628).
- scsi: aacraid: Fix hang in kdump (bnc#1012628).
- scsi: aacraid: Fix udev inquiry race condition (bnc#1012628).
- ima/policy: fix parsing of fsuuid (bnc#1012628).
- igb: Free IRQs when device is hotplugged (bnc#1012628).
- mtd: nand: denali_pci: add missing
  MODULE_DESCRIPTION/AUTHOR/LICENSE (bnc#1012628).
- gpio: ath79: add missing MODULE_DESCRIPTION/LICENSE
  (bnc#1012628).
- gpio: iop: add missing MODULE_DESCRIPTION/AUTHOR/LICENSE
  (bnc#1012628).
- power: reset: zx-reboot: add missing
  MODULE_DESCRIPTION/AUTHOR/LICENSE (bnc#1012628).
- HID: wacom: Fix reporting of touch toggle
  (WACOM_HID_WD_MUTE_DEVICE) events (bnc#1012628).
- HID: wacom: EKR: ensure devres groups at higher indexes are
  released (bnc#1012628).
- crypto: af_alg - whitelist mask and type (bnc#1012628).
- crypto: sha3-generic - fixes for alignment and big endian
  operation (bnc#1012628).
- crypto: inside-secure - avoid unmapping DMA memory that was
  not mapped (bnc#1012628).
- crypto: inside-secure - fix hash when length is a multiple of
  a block (bnc#1012628).
- crypto: aesni - Fix out-of-bounds access of the AAD buffer in
  generic-gcm-aesni (bnc#1012628).
- crypto: aesni - Fix out-of-bounds access of the data buffer
  in generic-gcm-aesni (bnc#1012628).
- crypto: aesni - add wrapper for generic gcm(aes) (bnc#1012628).
- crypto: aesni - fix typo in generic_gcmaes_decrypt
  (bnc#1012628).
- crypto: aesni - handle zero length dst buffer (bnc#1012628).
- crypto: ecdh - fix typo in KPP dependency of CRYPTO_ECDH
  (bnc#1012628).
- ALSA: hda - Reduce the suspend time consumption for ALC256
  (bnc#1012628).
- gpio: Fix kernel stack leak to userspace (bnc#1012628).
- gpio: stmpe: i2c transfer are forbiden in atomic context
  (bnc#1012628).
- tools/gpio: Fix build error with musl libc (bnc#1012628).
- Bluetooth: hci_serdev: Init hci_uart proto_lock to avoid oops
  (bnc#1012628).
- commit 671bf29

-------------------------------------------------------------------
Thu Feb  1 19:51:30 CET 2018 - matwey.kornilov@gmail.com

- config: arm64: Enable RockChip 8xx
  We need RockChip RK-808 support to run openSUSE on Rock64 board (RK3328).
  Currently, even voltage regulator is missed.
- commit a348749

-------------------------------------------------------------------
Wed Jan 31 07:51:04 CET 2018 - jslaby@suse.cz

- Update to 4.15-final.
- Eliminated 5 patches.
- Config changes:
  - Security:
    - GENERIC_CPU_VULNERABILITIES=y
- commit 978c9b0

-------------------------------------------------------------------
Tue Jan 30 13:15:01 CET 2018 - mkubecek@suse.cz

- Update
  patches.kernel.org/4.14.14-036-RDS-Heap-OOB-write-in-rds_message_alloc_sgs.patch
  upstream references (add CVE-2018-5332 bsc#1075621).
- commit 510de01

-------------------------------------------------------------------
Tue Jan 30 13:13:54 CET 2018 - mkubecek@suse.cz

- Update
  patches.kernel.org/4.14.14-037-RDS-null-pointer-dereference-in-rds_atomic_fr.patch
  upstream references (add CVE-2018-5333 bsc#1075617).
- commit e6cf845

-------------------------------------------------------------------
Mon Jan 29 22:13:57 CET 2018 - jeffm@suse.com

- Update to 4.15-final.
- Eliminated 5 patches.
- commit 36830f7

-------------------------------------------------------------------
Mon Jan 29 18:11:00 CET 2018 - jeffm@suse.com

- btrfs: fix btrfs_evict_inode to handle abnormal inodes correctly (bsc#1078019).
- commit d3f1d2c

-------------------------------------------------------------------
Mon Jan 29 09:15:43 CET 2018 - jslaby@suse.cz

- Revert "module: Add retpoline tag to VERMAGIC" (fix loading
  of KMPs).
- commit 9a6fca5

-------------------------------------------------------------------
Fri Jan 26 14:10:46 CET 2018 - yousaf.kaukab@suse.com

- config: arm64: enable UNMAP_KERNEL_AT_EL0 and HARDEN_BRANCH_PREDICTOR
- commit c41900c

-------------------------------------------------------------------
Fri Jan 26 14:08:19 CET 2018 - yousaf.kaukab@suse.com

- arm64: Turn on KPTI only on CPUs that need it (bsc#1068032).
- arm64: Branch predictor hardening for Cavium ThunderX2
  (bsc#1068032).
- arm64: Run enable method for errata work arounds on late CPUs
  (bsc#1068032).
- arm64: Move BP hardening to check_and_switch_context
  (bsc#1068032).
- arm: KVM: Invalidate icache on guest exit for Cortex-A15
  (bsc#1068032).
- arm: Invalidate icache on prefetch abort outside of user
  mapping on Cortex-A15 (bsc#1068032).
- arm: Add icache invalidation on switch_mm for Cortex-A15
  (bsc#1068032).
- arm: KVM: Invalidate BTB on guest exit (bsc#1068032).
- arm: Invalidate BTB on prefetch abort outside of user mapping
  on Cortex A8, A9, A12 and A17 (bsc#1068032).
- arm: Add BTB invalidation on switch_mm for Cortex-A9, A12 and
  A17 (bsc#1068032).
- arm64: cputype: Add MIDR values for Cavium ThunderX2 CPUs
  (bsc#1068032).
- arm64: Implement branch predictor hardening for Falkor
  (bsc#1068032).
- arm64: Implement branch predictor hardening for affected
  Cortex-A CPUs (bsc#1068032).
- arm64: cputype: Add missing MIDR values for Cortex-A72 and
  Cortex-A75 (bsc#1068032).
- arm64: KVM: Make PSCI_VERSION a fast path (bsc#1068032).
- arm64: KVM: Use per-CPU vector when BP hardening is enabled
  (bsc#1068032).
- arm64: Add skeleton to harden the branch predictor against
  aliasing attacks (bsc#1068032).
- arm64: Move post_ttbr_update_workaround to C code (bsc#1068032).
- drivers/firmware: Expose psci_get_version through psci_ops
  structure (bsc#1068032).
- arm64: Take into account ID_AA64PFR0_EL1.CSV3 (bsc#1068032).
- arm64: Kconfig: Reword UNMAP_KERNEL_AT_EL0 kconfig entry
  (bsc#1068032).
- arm64: use RET instruction for exiting the trampoline
  (bsc#1068032).
- arm64: capabilities: Handle duplicate entries for a capability
  (bsc#1068032).
- arm64: cpufeature: Pass capability structure to ->enable
  callback (bsc#1068032).
- arm64: kpti: Fix the interaction between ASID switching and
  software PAN (bsc#1068032).
- arm64: kaslr: Put kernel vectors address in separate data page
  (bsc#1068032).
- arm64: mm: Introduce TTBR_ASID_MASK for getting at the ASID
  in the TTBR (bsc#1068032).
- perf: arm_spe: Fail device probe when
  arm64_kernel_unmapped_at_el0() (bsc#1068032).
- arm64: Kconfig: Add CONFIG_UNMAP_KERNEL_AT_EL0 (bsc#1068032).
- arm64: entry: Add fake CPU feature for unmapping the kernel
  at EL0 (bsc#1068032).
- arm64: tls: Avoid unconditional zeroing of tpidrro_el0 for
  native tasks (bsc#1068032).
- arm64: erratum: Work around Falkor erratum #E1003 in trampoline
  code (bsc#1068032).
- arm64: entry: Hook up entry trampoline to exception vectors
  (bsc#1068032).
- arm64: entry: Explicitly pass exception level to kernel_ventry
  macro (bsc#1068032).
- arm64: mm: Map entry trampoline into trampoline and kernel
  page tables (bsc#1068032).
- arm64: entry: Add exception trampoline page for exceptions
  from EL0 (bsc#1068032).
- arm64: mm: Invalidate both kernel and user ASIDs when performing
  TLBI (bsc#1068032).
- arm64: mm: Add arm64_kernel_unmapped_at_el0 helper
  (bsc#1068032).
- arm64: mm: Allocate ASIDs in pairs (bsc#1068032).
- arm64: mm: Fix and re-enable ARM64_SW_TTBR0_PAN (bsc#1068032).
- arm64: mm: Rename post_ttbr0_update_workaround (bsc#1068032).
- arm64: mm: Remove pre_ttbr0_update_workaround for Falkor
  erratum #E1003 (bsc#1068032).
- arm64: mm: Move ASID from TTBR0 to TTBR1 (bsc#1068032).
- arm64: mm: Temporarily disable ARM64_SW_TTBR0_PAN (bsc#1068032).
- arm64: mm: Use non-global mappings for kernel space
  (bsc#1068032).
- commit cdf2ded

-------------------------------------------------------------------
Fri Jan 26 11:24:49 CET 2018 - yousaf.kaukab@suse.com

- config: arm64: enable rk3399 missing drivers
  These drivers are required for Rockchip RK3399 Sapphire board
- commit 94b8551

-------------------------------------------------------------------
Fri Jan 26 09:52:08 CET 2018 - jslaby@suse.cz

- Refresh
  patches.suse/netfilter-nfnetlink_cthelper-Add-missing-permission-.patch.
- Refresh
  patches.suse/netfilter-xt_osf-Add-missing-permission-checks.patch.
- Refresh patches.suse/scsi-libfc-fix-ELS-request-handling.patch.
  Update upstream status.
- commit 12e5c10

-------------------------------------------------------------------
Fri Jan 26 08:40:10 CET 2018 - jslaby@suse.cz

- x86/ibrs: Add new helper macros to save/restore
  MSR_IA32_SPEC_CTRL fix (bsc#1068032 CVE-2017-5753).
- commit 13295d4

-------------------------------------------------------------------
Thu Jan 25 21:47:49 CET 2018 - jslaby@suse.cz

- Delete patches.suse/orc-fix-retpolines-segfaults.patch.
  No longer needed.
- commit 9e84548

-------------------------------------------------------------------
Thu Jan 25 21:46:34 CET 2018 - jslaby@suse.cz

- x86/cpufeatures: Add Intel feature bits for Speculation Control
  (bsc#1068032 CVE-2017-5715).
- x86/cpufeatures: Add AMD feature bits for Speculation Control
  (bsc#1068032 CVE-2017-5715).
- x86/pti: Do not enable PTI on processors which are not
  vulnerable to Meltdown (bsc#1068032 CVE-2017-5715).
- x86/cpufeature: Blacklist SPEC_CTRL on early Spectre v2
  microcodes (bsc#1068032 CVE-2017-5715).
- x86/speculation: Add basic IBPB (Indirect Branch Prediction
  Barrier) support (bsc#1068032 CVE-2017-5715).
- x86/kvm: Add IBPB support (bsc#1068032 CVE-2017-5715).
- x86/speculation: Use Indirect Branch Prediction Barrier in
  context switch (bsc#1068032 CVE-2017-5715).
- x86/mm: Only flush indirect branches when switching into non
  dumpable process (bsc#1068032 CVE-2017-5715).
- x86/speculation: Add basic IBRS support infrastructure
  (bsc#1068032 CVE-2017-5715).
- x86/speculation: Add inlines to control Indirect Branch
  Speculation (bsc#1068032 CVE-2017-5715).
- x86: Simplify spectre_v2 command line parsing (bsc#1068032
  CVE-2017-5715).
- x86/idle: Control Indirect Branch Speculation in idle
  (bsc#1068032 CVE-2017-5715).
- x86/enter: Create macros to restrict/unrestrict Indirect Branch
  Speculation (bsc#1068032 CVE-2017-5715).
- x86/enter: Use IBRS on syscall and interrupts (bsc#1068032
  CVE-2017-5715).
- x86/ibrs: Add new helper macros to save/restore
  MSR_IA32_SPEC_CTRL (bsc#1068032 CVE-2017-5715).
- x86/vmx: Direct access to MSR_IA32_SPEC_CTRL (bsc#1068032
  CVE-2017-5715).
- Delete
  patches.suse/0002-x86-cpufeatures-Add-AMD-feature-bits-for-Prediction-.patch.
- Delete
  patches.suse/0004-x86-feature-Report-presence-of-IBPB-and-IBRS-control.patch.
- Delete
  patches.suse/0005-x86-enter-MACROS-to-set-clear-IBRS-and-set-IBPB.patch.
- Delete
  patches.suse/0006-x86-Add-macro-that-does-not-save-rax-rcx-rdx-on-stac.patch.
- Delete
  patches.suse/0007-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
- Delete
  patches.suse/0008-x86-spec_ctrl-save-IBRS-MSR-value-in-paranoid_entry.patch.
- Delete
  patches.suse/0009-x86-idle-Disable-IBRS-entering-idle-and-enable-it-on.patch.
- Delete
  patches.suse/0010-x86-idle-Disable-IBRS-when-offlining-cpu-and-re-enab.patch.
- Delete
  patches.suse/0011-x86-mm-Set-IBPB-upon-context-switch.patch.
- Delete
  patches.suse/0012-x86-mm-Only-set-IBPB-when-the-new-thread-cannot-ptra.patch.
- Delete
  patches.suse/0013-x86-entry-Stuff-RSB-for-entry-to-kernel-for-non-SMEP.patch.
- Delete
  patches.suse/0014-x86-syscall-Clear-unused-extra-registers-on-syscall-.patch.
- Delete
  patches.suse/0015-x86-syscall-Clear-unused-extra-registers-on-32-bit-c.patch.
- Delete
  patches.suse/0016-x86-kvm-add-MSR_IA32_SPEC_CTRL-and-MSR_IA32_PRED_CMD.patch.
- Delete
  patches.suse/0017-x86-kvm-Set-IBPB-when-switching-VM.patch.
- Delete
  patches.suse/0018-x86-kvm-Toggle-IBRS-on-VM-entry-and-exit.patch.
- Delete
  patches.suse/0021-x86-spec_ctrl-Add-sysctl-knobs-to-enable-disable-SPE.patch.
- Delete
  patches.suse/0022-x86-spec_ctrl-Add-lock-to-serialize-changes-to-ibrs-.patch.
- Delete
  patches.suse/0023-x86-Move-IBRS-IBPB-feature-detection-to-scattered.c.patch.
- Delete
  patches.suse/0024-x86-microcode-Recheck-IBRS-and-IBPB-feature-on-micro.patch.
- Delete
  patches.suse/0025-x86-cpu-AMD-Add-speculative-control-support-for-AMD.patch.
- Delete
  patches.suse/0028-x86-svm-Set-IBPB-when-running-a-different-VCPU.patch.
- Delete
  patches.suse/0029-kvm-svm-add-MSR_IA32_SPEC_CTRL-and-MSR_IA32_PRED_CMD.patch.
- Delete patches.suse/0030-Use-the-ibrs_inuse-variable.patch.
- Delete
  patches.suse/0031-Reverting-the-commit-e5247c4f209530-to-replace.patch.
- Delete
  patches.suse/0032-kvm-vmx-add-MSR_IA32_SPEC_CTRL-and-MSR_IA32_PRED_CMD.patch.
- Delete
  patches.suse/0033-KVM-x86-add-SPEC_CTRL-to-MSR-and-CPUID-lists.patch.
- Delete
  patches.suse/0034-Remove-the-code-that-uses-MSR-save-restore-list.patch.
- Delete patches.suse/0035-Use-the-ibpb_inuse-variable.patch.
- Delete
  patches.suse/0037-Set-IBPB-when-running-a-different-VCPU.patch.
  Update spectre_v1 to the upstream patches.
- commit 67b0a37

-------------------------------------------------------------------
Thu Jan 25 14:26:16 CET 2018 - jslaby@suse.cz

- Revert "futex: Prevent overflow by strengthen input validation"
  (4.14.15-fix).
- commit 5b3d0ce

-------------------------------------------------------------------
Thu Jan 25 08:23:15 CET 2018 - jslaby@suse.cz

- x86/cpufeature: Move processor tracing out of scattered features
  (bsc#1068032 CVE-2017-5753).
- Refresh
  patches.suse/0001-x86-cpufeatures-Add-CPUID_7_EDX-CPUID-leaf.patch.
- Refresh
  patches.suse/0007-x86-speculation-Add-basic-IBPB-Indirect-Branch-Predi.patch.
- commit 8d8b718

-------------------------------------------------------------------
Wed Jan 24 20:19:27 CET 2018 - jslaby@suse.cz

- x86/retpoline: Add LFENCE to the retpoline/RSB filling RSB
  macros (bsc#1068032 CVE-2017-5753).
- commit 8dc7c71

-------------------------------------------------------------------
Wed Jan 24 20:17:09 CET 2018 - jslaby@suse.cz

- x86/vmx: Direct access to MSR_IA32_SPEC_CTRL (bsc#1068032
  CVE-2017-5753).
- x86/ibrs: Add new helper macros to save/restore
  MSR_IA32_SPEC_CTRL (bsc#1068032 CVE-2017-5753).
- x86/enter: Use IBRS on syscall and interrupts (bsc#1068032
  CVE-2017-5753).
- x86/enter: Create macros to restrict/unrestrict Indirect Branch
  Speculation (bsc#1068032 CVE-2017-5753).
- x86/idle: Control Indirect Branch Speculation in idle
  (bsc#1068032 CVE-2017-5753).
- x86: Simplify spectre_v2 command line parsing (bsc#1068032
  CVE-2017-5753).
- x86/speculation: Add inlines to control Indirect Branch
  Speculation (bsc#1068032 CVE-2017-5753).
- x86/speculation: Add basic IBRS support infrastructure
  (bsc#1068032 CVE-2017-5753).
- x86/mm: Only flush indirect branches when switching into non
  dumpable process (bsc#1068032 CVE-2017-5753).
- x86/speculation: Use Indirect Branch Prediction Barrier in
  context switch (bsc#1068032 CVE-2017-5753).
- x86/kvm: Add IBPB support (bsc#1068032 CVE-2017-5753).
- x86/speculation: Add basic IBPB (Indirect Branch Prediction
  Barrier) support (bsc#1068032 CVE-2017-5753).
- x86/cpufeature: Blacklist SPEC_CTRL on early Spectre v2
  microcodes (bsc#1068032 CVE-2017-5753).
- x86/pti: Do not enable PTI on processors which are not
  vulnerable to Meltdown (bsc#1068032 CVE-2017-5753).
- x86/msr: Add definitions for new speculation control MSRs
  (bsc#1068032 CVE-2017-5753).
- x86/cpufeatures: Add AMD feature bits for Speculation Control
  (bsc#1068032 CVE-2017-5753).
- x86/cpufeatures: Add Intel feature bits for Speculation Control
  (bsc#1068032 CVE-2017-5753).
- x86/cpufeatures: Add CPUID_7_EDX CPUID leaf (bsc#1068032
  CVE-2017-5753).
- x86/retpoline: Optimize inline assembler for vmexit_fill_RSB
  (bsc#1068032 CVE-2017-5753).
- x86/retpoline: Fill RSB on context switch for affected CPUs
  (bsc#1068032 CVE-2017-5753).
- commit e36ab4f

-------------------------------------------------------------------
Wed Jan 24 19:41:00 CET 2018 - jslaby@suse.cz

- Documentation: document array_ptr (bsc#1068032 CVE-2017-5715).
- asm/nospec, array_ptr: sanitize speculative array de-references
  (bsc#1068032 CVE-2017-5715).
- x86: implement array_ptr_mask() (bsc#1068032 CVE-2017-5715).
- x86: introduce __uaccess_begin_nospec and ifence (bsc#1068032
  CVE-2017-5715).
- x86, __get_user: use __uaccess_begin_nospec (bsc#1068032
  CVE-2017-5715).
- x86, get_user: use pointer masking to limit speculation
  (bsc#1068032 CVE-2017-5715).
- x86: narrow out of bounds syscalls to sys_read under speculation
  (bsc#1068032 CVE-2017-5715).
- vfs, fdtable: prevent bounds-check bypass via speculative
  execution (bsc#1068032 CVE-2017-5715).
- kvm, x86: update spectre-v1 mitigation (bsc#1068032
  CVE-2017-5715).
- nl80211: sanitize array index in parse_txq_params (bsc#1068032
  CVE-2017-5715).
- Delete
  patches.suse/0003-locking-barriers-introduce-new-observable-speculatio.patch.
- Delete
  patches.suse/0004-bpf-prevent-speculative-execution-in-eBPF-interprete.patch.
- Delete
  patches.suse/0005-x86-bpf-jit-prevent-speculative-execution-when-JIT-i.patch.
- Delete
  patches.suse/0006-uvcvideo-prevent-speculative-execution.patch.
- Delete
  patches.suse/0007-carl9170-prevent-speculative-execution.patch.
- Delete
  patches.suse/0008-p54-prevent-speculative-execution.patch.
- Delete
  patches.suse/0009-qla2xxx-prevent-speculative-execution.patch.
- Delete
  patches.suse/0010-cw1200-prevent-speculative-execution.patch.
- Delete
  patches.suse/0011-Thermal-int340x-prevent-speculative-execution.patch.
- Delete
  patches.suse/0012-ipv4-prevent-speculative-execution.patch.
- Delete
  patches.suse/0013-ipv6-prevent-speculative-execution.patch.
- Delete patches.suse/0014-fs-prevent-speculative-execution.patch.
- Delete
  patches.suse/0015-net-mpls-prevent-speculative-execution.patch.
- Delete
  patches.suse/0016-udf-prevent-speculative-execution.patch.
- Delete
  patches.suse/0017-userns-prevent-speculative-execution.patch.
  Replace by the potential upstream solution.
- commit 804f8a1

-------------------------------------------------------------------
Wed Jan 24 19:31:26 CET 2018 - jslaby@suse.cz

- Documentation: document array_ptr (bsc#1068032 CVE-2017-5715).
- asm/nospec, array_ptr: sanitize speculative array de-references
  (bsc#1068032 CVE-2017-5715).
- x86: implement array_ptr_mask() (bsc#1068032 CVE-2017-5715).
- x86: introduce __uaccess_begin_nospec and ifence (bsc#1068032
  CVE-2017-5715).
- x86, __get_user: use __uaccess_begin_nospec (bsc#1068032
  CVE-2017-5715).
- x86, get_user: use pointer masking to limit speculation
  (bsc#1068032 CVE-2017-5715).
- x86: narrow out of bounds syscalls to sys_read under speculation
  (bsc#1068032 CVE-2017-5715).
- vfs, fdtable: prevent bounds-check bypass via speculative
  execution (bsc#1068032 CVE-2017-5715).
- kvm, x86: update spectre-v1 mitigation (bsc#1068032
  CVE-2017-5715).
- nl80211: sanitize array index in parse_txq_params (bsc#1068032
  CVE-2017-5715).
- Delete
  patches.suse/0003-locking-barriers-introduce-new-observable-speculatio.patch.
- Delete
  patches.suse/0005-x86-bpf-jit-prevent-speculative-execution-when-JIT-i.patch.
- Delete
  patches.suse/0006-uvcvideo-prevent-speculative-execution.patch.
- Delete
  patches.suse/0007-carl9170-prevent-speculative-execution.patch.
- Delete
  patches.suse/0008-p54-prevent-speculative-execution.patch.
- Delete
  patches.suse/0009-qla2xxx-prevent-speculative-execution.patch.
- Delete
  patches.suse/0010-cw1200-prevent-speculative-execution.patch.
- Delete
  patches.suse/0011-Thermal-int340x-prevent-speculative-execution.patch.
- Delete
  patches.suse/0012-ipv4-prevent-speculative-execution.patch.
- Delete
  patches.suse/0013-ipv6-prevent-speculative-execution.patch.
- Delete patches.suse/0014-fs-prevent-speculative-execution.patch.
- Delete
  patches.suse/0015-net-mpls-prevent-speculative-execution.patch.
- Delete
  patches.suse/0016-udf-prevent-speculative-execution.patch.
- Delete
  patches.suse/0017-userns-prevent-speculative-execution.patch.
  Replace intel's shit by the potential upstream solution for spectre_v1.
- commit 6fdb1df

-------------------------------------------------------------------
Tue Jan 23 21:12:07 CET 2018 - jslaby@suse.cz

- Linux 4.14.15 (bnc#1012628).
- tools/objtool/Makefile: don't assume sync-check.sh is executable
  (bnc#1012628).
- objtool: Fix seg fault with clang-compiled objects
  (bnc#1012628).
- objtool: Fix Clang enum conversion warning (bnc#1012628).
- objtool: Fix seg fault caused by missing parameter
  (bnc#1012628).
- powerpc/pseries: Add H_GET_CPU_CHARACTERISTICS flags & wrapper
  (bnc#1012628).
- powerpc/64: Add macros for annotating the destination of
  rfid/hrfid (bnc#1012628).
- powerpc/64s: Simple RFI macro conversions (bnc#1012628).
- powerpc/64: Convert the syscall exit path to use
  RFI_TO_USER/KERNEL (bnc#1012628).
- powerpc/64: Convert fast_exception_return to use
  RFI_TO_USER/KERNEL (bnc#1012628).
- powerpc/64s: Convert slb_miss_common to use RFI_TO_USER/KERNEL
  (bnc#1012628).
- powerpc/64s: Add support for RFI flush of L1-D cache
  (bnc#1012628).
- powerpc/64s: Support disabling RFI flush with no_rfi_flush
  and nopti (bnc#1012628).
- powerpc/pseries: Query hypervisor for RFI flush settings
  (bnc#1012628).
- powerpc/powernv: Check device-tree for RFI flush settings
  (bnc#1012628).
- futex: Avoid violating the 10th rule of futex (bnc#1012628).
- futex: Prevent overflow by strengthen input validation
  (bnc#1012628).
- ALSA: pcm: Remove yet superfluous WARN_ON() (bnc#1012628).
- ALSA: hda - Apply headphone noise quirk for another Dell XPS
  13 variant (bnc#1012628).
- ALSA: hda - Apply the existing quirk to iMac 14,1 (bnc#1012628).
- IB/hfi1: Prevent a NULL dereference (bnc#1012628).
- RDMA/mlx5: Fix out-of-bound access while querying AH
  (bnc#1012628).
- timers: Unconditionally check deferrable base (bnc#1012628).
- af_key: fix buffer overread in verify_address_len()
  (bnc#1012628).
- af_key: fix buffer overread in parse_exthdrs() (bnc#1012628).
- iser-target: Fix possible use-after-free in connection
  establishment error (bnc#1012628).
- delayacct: Account blkio completion on the correct task
  (bnc#1012628).
- objtool: Fix seg fault with gold linker (bnc#1012628).
- mmc: sdhci-esdhc-imx: Fix i.MX53 eSDHCv3 clock (bnc#1012628).
- x86/kasan: Panic if there is not enough memory to boot
  (bnc#1012628).
- objtool: Improve error message for bad file argument
  (bnc#1012628).
- x86/cpufeature: Move processor tracing out of scattered features
  (bnc#1012628).
- x86/intel_rdt/cqm: Prevent use after free (bnc#1012628).
- x86/mm/pkeys: Fix fill_sig_info_pkey (bnc#1012628).
- x86/idt: Mark IDT tables __initconst (bnc#1012628).
- x86/tsc: Future-proof native_calibrate_tsc() (bnc#1012628).
- x86/tsc: Fix erroneous TSC rate on Skylake Xeon (bnc#1012628).
- pipe: avoid round_pipe_size() nr_pages overflow on 32-bit
  (bnc#1012628).
- x86/apic/vector: Fix off by one in error path (bnc#1012628).
- x86/mm: Clean up register saving in the __enc_copy() assembly
  code (bnc#1012628).
- x86/mm: Use a struct to reduce parameters for SME PGD mapping
  (bnc#1012628).
- x86/mm: Centralize PMD flags in sme_encrypt_kernel()
  (bnc#1012628).
- x86/mm: Prepare sme_encrypt_kernel() for PAGE aligned encryption
  (bnc#1012628).
- ARM: OMAP3: hwmod_data: add missing module_offs for MMC3
  (bnc#1012628).
- x86/mm: Encrypt the initrd earlier for BSP microcode update
  (bnc#1012628).
- Input: ALPS - fix multi-touch decoding on SS4 plus touchpads
  (bnc#1012628).
- Input: synaptics-rmi4 - prevent UAF reported by KASAN
  (bnc#1012628).
- Input: 88pm860x-ts - fix child-node lookup (bnc#1012628).
- Input: twl6040-vibra - fix child-node lookup (bnc#1012628).
- Input: twl4030-vibra - fix sibling-node lookup (bnc#1012628).
- tracing: Fix converting enum's from the map in
  trace_event_eval_update() (bnc#1012628).
- phy: work around 'phys' references to usb-nop-xceiv devices
  (bnc#1012628).
- ARM64: dts: marvell: armada-cp110: Fix clock resources for
  various node (bnc#1012628).
- ARM: sunxi_defconfig: Enable CMA (bnc#1012628).
- ARM: dts: kirkwood: fix pin-muxing of MPP7 on OpenBlocks A7
  (bnc#1012628).
- can: peak: fix potential bug in packet fragmentation
  (bnc#1012628).
- can: af_can: can_rcv(): replace WARN_ONCE by pr_warn_once
  (bnc#1012628).
- can: af_can: canfd_rcv(): replace WARN_ONCE by pr_warn_once
  (bnc#1012628).
- i2c: core-smbus: prevent stack corruption on read I2C_BLOCK_DATA
  (bnc#1012628).
- scripts/gdb/linux/tasks.py: fix get_thread_info (bnc#1012628).
- proc: fix coredump vs read /proc/*/stat race (bnc#1012628).
- libata: apply MAX_SEC_1024 to all LITEON EP1 series devices
  (bnc#1012628).
- scsi: libsas: Disable asynchronous aborts for SATA devices
  (bnc#1012628).
- workqueue: avoid hard lockups in show_workqueue_state()
  (bnc#1012628).
- drm/vmwgfx: fix memory corruption with legacy/sou connectors
  (bnc#1012628).
- dm btree: fix serious bug in btree_split_beneath()
  (bnc#1012628).
- dm thin metadata: THIN_MAX_CONCURRENT_LOCKS should be 6
  (bnc#1012628).
- dm integrity: don't store cipher request on the stack
  (bnc#1012628).
- dm crypt: fix crash by adding missing check for auth key size
  (bnc#1012628).
- dm crypt: wipe kernel key copy after IV initialization
  (bnc#1012628).
- dm crypt: fix error return code in crypt_ctr() (bnc#1012628).
- x86: Use __nostackprotect for sme_encrypt_kernel (bnc#1012628).
- alpha/PCI: Fix noname IRQ level detection (bnc#1012628).
- MIPS: CM: Drop WARN_ON(vp != 0) (bnc#1012628).
- KVM: arm/arm64: Check pagesize when allocating a hugepage at
  Stage 2 (bnc#1012628).
- arm64: KVM: Fix SMCCC handling of unimplemented SMC/HVC calls
  (bnc#1012628).
- x86/mce: Make machine check speculation protected (bnc#1012628).
- retpoline: Introduce start/end markers of indirect thunk
  (bnc#1012628).
- kprobes/x86: Blacklist indirect thunk functions for kprobes
  (bnc#1012628).
- kprobes/x86: Disable optimizing on the function jumps to
  indirect thunk (bnc#1012628).
- x86/pti: Document fix wrong index (bnc#1012628).
- x86/retpoline: Optimize inline assembler for vmexit_fill_RSB
  (bnc#1012628).
- x86/mm: Rework wbinvd, hlt operation in stop_this_cpu()
  (bnc#1012628).
- mm, page_vma_mapped: Drop faulty pointer arithmetics in
  check_pte() (bnc#1012628).
- net: mvpp2: do not disable GMAC padding (bnc#1012628).
- MIPS: AR7: ensure the port type's FCR value is used
  (bnc#1012628).
- Refresh
  patches.kernel.org/4.14.10-003-objtool-Move-kernel-headers-code-sync-check-t.patch.
- Refresh
  patches.suse/0001-x86-cpufeatures-Add-Intel-feature-bits-for-Speculati.patch.
- Refresh
  patches.suse/0002-x86-cpufeatures-Add-AMD-feature-bits-for-Prediction-.patch.
- commit fe1d712

-------------------------------------------------------------------
Mon Jan 22 13:29:31 CET 2018 - msuchanek@suse.de

- rpm/mkspec-dtb: Remove COPYING file (bsc#1076905).
  It conflicts between different versions of dtb package.
- commit 0e5fcf9

-------------------------------------------------------------------
Sun Jan 21 14:58:37 CET 2018 - jslaby@suse.cz

- x86/cpufeatures: Add Intel feature bits for Speculation Control
  (bsc#1068032 CVE-2017-5715).
- x86/cpufeatures: Add AMD feature bits for Prediction Command
  (bsc#1068032 CVE-2017-5715).
- x86/msr: Add definitions for new speculation control MSRs
  (bsc#1068032 CVE-2017-5715).
- module: Add retpoline tag to VERMAGIC (bsc#1068032
  CVE-2017-5715).
- x86/retpoline: Add LFENCE to the retpoline/RSB filling RSB
  macros (bsc#1068032 CVE-2017-5715).
- x86/retpoline: Fill RSB on context switch for affected CPUs
  (bsc#1068032 CVE-2017-5715).
- Refresh
  patches.suse/0005-x86-enter-MACROS-to-set-clear-IBRS-and-set-IBPB.patch.
- Refresh
  patches.suse/0008-x86-spec_ctrl-save-IBRS-MSR-value-in-paranoid_entry.patch.
- Refresh
  patches.suse/0009-x86-idle-Disable-IBRS-entering-idle-and-enable-it-on.patch.
- Refresh
  patches.suse/0010-x86-idle-Disable-IBRS-when-offlining-cpu-and-re-enab.patch.
- Refresh
  patches.suse/0011-x86-mm-Set-IBPB-upon-context-switch.patch.
- Refresh
  patches.suse/0012-x86-mm-Only-set-IBPB-when-the-new-thread-cannot-ptra.patch.
- Refresh
  patches.suse/0017-x86-kvm-Set-IBPB-when-switching-VM.patch.
- Refresh
  patches.suse/0018-x86-kvm-Toggle-IBRS-on-VM-entry-and-exit.patch.
- Refresh
  patches.suse/0021-x86-spec_ctrl-Add-sysctl-knobs-to-enable-disable-SPE.patch.
- Refresh
  patches.suse/0023-x86-Move-IBRS-IBPB-feature-detection-to-scattered.c.patch.
- Refresh
  patches.suse/0028-x86-svm-Set-IBPB-when-running-a-different-VCPU.patch.
- Refresh
  patches.suse/0029-kvm-svm-add-MSR_IA32_SPEC_CTRL-and-MSR_IA32_PRED_CMD.patch.
- Refresh patches.suse/0030-Use-the-ibrs_inuse-variable.patch.
- Refresh
  patches.suse/0032-kvm-vmx-add-MSR_IA32_SPEC_CTRL-and-MSR_IA32_PRED_CMD.patch.
- Refresh
  patches.suse/0034-Remove-the-code-that-uses-MSR-save-restore-list.patch.
- Refresh patches.suse/0035-Use-the-ibpb_inuse-variable.patch.
- Refresh
  patches.suse/0037-Set-IBPB-when-running-a-different-VCPU.patch.
- Delete
  patches.suse/0001-x86-feature-Enable-the-x86-feature-to-control-Specul.patch.
- Delete
  patches.suse/0002-x86-cpufeature-Add-X86_FEATURE_IA32_ARCH_CAPS-and-X8.patch.
- Delete
  patches.suse/0003-x86-Add-STIBP-feature-enumeration.patch.
- commit 5790c9a

-------------------------------------------------------------------
Thu Jan 18 11:20:11 CET 2018 - jslaby@suse.cz

- Update config files (bsc#1068032 CVE-2017-5715).
  Enable RETPOLINE -- the compiler is capable of them already.
- commit 5d5345e

-------------------------------------------------------------------
Wed Jan 17 16:02:16 CET 2018 - rjschwei@suse.com

- kernel-obs-build.spec.in: enable xfs module
  This allows the public cloud team to build images with XFS
  as root filesystem
- commit 95a2d6f

-------------------------------------------------------------------
Wed Jan 17 15:19:38 CET 2018 - msuchanek@suse.de

- macros.kernel-source: pass -f properly in module subpackage (boo#1076393).
- commit 66bd9b8

-------------------------------------------------------------------
Wed Jan 17 10:26:10 CET 2018 - jslaby@suse.cz

- Linux 4.14.14 (bnc#1012628).
- Delete
  patches.kernel.org/4.14.14-053-Revert-Revert-xfrm-Fix-stack-out-of-bounds-re.patch.
- commit eef6178

-------------------------------------------------------------------
Tue Jan 16 18:01:44 CET 2018 - tiwai@suse.de

- ALSA: seq: Make ioctls race-free (CVE-2018-1000004,bsc#1076017).
- commit 2134862

-------------------------------------------------------------------
Tue Jan 16 14:38:07 CET 2018 - jslaby@suse.cz

- ORC: fix retpolines segfaults (bnc#1068032 CVE-2017-5715).
- commit 470cac2

-------------------------------------------------------------------
Tue Jan 16 13:54:06 CET 2018 - jslaby@suse.cz

- dm bufio: fix shrinker scans when (nr_to_scan < retain_target)
  (bnc#1012628).
- KVM: Fix stack-out-of-bounds read in write_mmio (bnc#1012628).
- can: vxcan: improve handling of missing peer name attribute
  (bnc#1012628).
- can: gs_usb: fix return value of the "set_bittiming" callback
  (bnc#1012628).
- IB/srpt: Disable RDMA access by the initiator (bnc#1012628).
- IB/srpt: Fix ACL lookup during login (bnc#1012628).
- MIPS: Validate PR_SET_FP_MODE prctl(2) requests against the
  ABI of the task (bnc#1012628).
- MIPS: Factor out NT_PRFPREG regset access helpers (bnc#1012628).
- MIPS: Guard against any partial write attempt with
  PTRACE_SETREGSET (bnc#1012628).
- MIPS: Consistently handle buffer counter with PTRACE_SETREGSET
  (bnc#1012628).
- MIPS: Fix an FCSR access API regression with NT_PRFPREG and MSA
  (bnc#1012628).
- MIPS: Also verify sizeof `elf_fpreg_t' with PTRACE_SETREGSET
  (bnc#1012628).
- MIPS: Disallow outsized PTRACE_SETREGSET NT_PRFPREG regset
  accesses (bnc#1012628).
- cgroup: fix css_task_iter crash on CSS_TASK_ITER_PROC
  (bnc#1012628).
- kvm: vmx: Scrub hardware GPRs at VM-exit (bnc#1012628
  bnc#1068032 CVE-2017-5715).
- platform/x86: wmi: Call acpi_wmi_init() later (bnc#1012628).
- iw_cxgb4: only call the cq comp_handler when the cq is armed
  (bnc#1012628).
- iw_cxgb4: atomically flush the qp (bnc#1012628).
- iw_cxgb4: only clear the ARMED bit if a notification is needed
  (bnc#1012628).
- iw_cxgb4: reflect the original WR opcode in drain cqes
  (bnc#1012628).
- iw_cxgb4: when flushing, complete all wrs in a chain
  (bnc#1012628).
- x86/acpi: Handle SCI interrupts above legacy space gracefully
  (bnc#1012628).
- ALSA: pcm: Remove incorrect snd_BUG_ON() usages (bnc#1012628).
- ALSA: pcm: Workaround for weird PulseAudio behavior on rewind
  error (bnc#1012628).
- ALSA: pcm: Add missing error checks in OSS emulation plugin
  builder (bnc#1012628).
- ALSA: pcm: Abort properly at pending signal in OSS read/write
  loops (bnc#1012628).
- ALSA: pcm: Allow aborting mutex lock at OSS read/write loops
  (bnc#1012628).
- ALSA: aloop: Release cable upon open error path (bnc#1012628).
- ALSA: aloop: Fix inconsistent format due to incomplete rule
  (bnc#1012628).
- ALSA: aloop: Fix racy hw constraints adjustment (bnc#1012628).
- x86/acpi: Reduce code duplication in mp_override_legacy_irq()
  (bnc#1012628).
- 8021q: fix a memory leak for VLAN 0 device (bnc#1012628).
- ip6_tunnel: disable dst caching if tunnel is dual-stack
  (bnc#1012628).
- net: core: fix module type in sock_diag_bind (bnc#1012628).
- phylink: ensure we report link down when LOS asserted
  (bnc#1012628).
- RDS: Heap OOB write in rds_message_alloc_sgs() (bnc#1012628).
- RDS: null pointer dereference in rds_atomic_free_op
  (bnc#1012628).
- net: fec: restore dev_id in the cases of probe error
  (bnc#1012628).
- net: fec: defer probe if regulator is not ready (bnc#1012628).
- net: fec: free/restore resource in related probe error pathes
  (bnc#1012628).
- sctp: do not retransmit upon FragNeeded if PMTU discovery is
  disabled (bnc#1012628).
- sctp: fix the handling of ICMP Frag Needed for too small MTUs
  (bnc#1012628).
- sh_eth: fix TSU resource handling (bnc#1012628).
- net: stmmac: enable EEE in MII, GMII or RGMII only
  (bnc#1012628).
- sh_eth: fix SH7757 GEther initialization (bnc#1012628).
- ipv6: fix possible mem leaks in ipv6_make_skb() (bnc#1012628).
- ethtool: do not print warning for applications using legacy API
  (bnc#1012628).
- mlxsw: spectrum_router: Fix NULL pointer deref (bnc#1012628).
- net/sched: Fix update of lastuse in act modules implementing
  stats_update (bnc#1012628).
- ipv6: sr: fix TLVs not being copied using setsockopt
  (bnc#1012628).
- mlxsw: spectrum: Relax sanity checks during enslavement
  (bnc#1012628).
- sfp: fix sfp-bus oops when removing socket/upstream
  (bnc#1012628).
- Revert "Revert "xfrm: Fix stack-out-of-bounds read in
  xfrm_state_find."" (bnc#1012628).
- membarrier: Disable preemption when calling
  smp_call_function_many() (bnc#1012628).
- crypto: algapi - fix NULL dereference in crypto_remove_spawns()
  (bnc#1012628).
- mmc: renesas_sdhi: Add MODULE_LICENSE (bnc#1012628).
- rbd: reacquire lock should update lock owner client id
  (bnc#1012628).
- rbd: set max_segments to USHRT_MAX (bnc#1012628).
- iwlwifi: pcie: fix DMA memory mapping / unmapping (bnc#1012628).
- x86/microcode/intel: Extend BDW late-loading with a revision
  check (bnc#1012628).
- KVM: x86: Add memory barrier on vmcs field lookup (bnc#1012628).
- KVM: PPC: Book3S PR: Fix WIMG handling under pHyp (bnc#1012628).
- KVM: PPC: Book3S HV: Drop prepare_done from struct
  kvm_resize_hpt (bnc#1012628).
- KVM: PPC: Book3S HV: Fix use after free in case of multiple
  resize requests (bnc#1012628).
- KVM: PPC: Book3S HV: Always flush TLB in
  kvmppc_alloc_reset_hpt() (bnc#1012628).
- drm/vmwgfx: Don't cache framebuffer maps (bnc#1012628).
- drm/vmwgfx: Potential off by one in vmw_view_add()
  (bnc#1012628).
- drm/i915/gvt: Clear the shadow page table entry after post-sync
  (bnc#1012628).
- drm/i915: Whitelist SLICE_COMMON_ECO_CHICKEN1 on Geminilake
  (bnc#1012628).
- drm/i915: Move init_clock_gating() back to where it was
  (bnc#1012628).
- drm/i915: Fix init_clock_gating for resume (bnc#1012628).
- bpf: arsh is not supported in 32 bit alu thus reject it
  (bnc#1012628).
- USB: serial: cp210x: add IDs for LifeScan OneTouch Verio IQ
  (bnc#1012628).
- USB: serial: cp210x: add new device ID ELV ALC 8xxx
  (bnc#1012628).
- usb: misc: usb3503: make sure reset is low for at least 100us
  (bnc#1012628).
- USB: fix usbmon BUG trigger (bnc#1012628).
- USB: UDC core: fix double-free in usb_add_gadget_udc_release
  (bnc#1012628).
- usbip: remove kernel addresses from usb device and urb debug
  msgs (bnc#1012628).
- usbip: fix vudc_rx: harden CMD_SUBMIT path to handle malicious
  input (bnc#1012628).
- usbip: vudc_tx: fix v_send_ret_submit() vulnerability to null
  xfer buffer (bnc#1012628).
- staging: android: ashmem: fix a race condition in
  ASHMEM_SET_SIZE ioctl (bnc#1012628).
- Bluetooth: Prevent stack info leak from the EFS element
  (bnc#1012628).
- uas: ignore UAS for Norelsys NS1068(X) chips (bnc#1012628).
- mux: core: fix double get_device() (bnc#1012628).
- kdump: write correct address of mem_section into vmcoreinfo
  (bnc#1012628).
- apparmor: fix ptrace label match when matching stacked labels
  (bnc#1012628).
- e1000e: Fix e1000_check_for_copper_link_ich8lan return value
  (bnc#1012628).
- x86/pti: Unbreak EFI old_memmap (bnc#1012628).
- x86/Documentation: Add PTI description (bnc#1012628).
- x86/cpufeatures: Add X86_BUG_SPECTRE_V[12] (bnc#1012628).
- sysfs/cpu: Add vulnerability folder (bnc#1012628).
- x86/cpu: Implement CPU vulnerabilites sysfs functions
  (bnc#1012628).
- x86/tboot: Unbreak tboot with PTI enabled (bnc#1012628).
- x86/mm/pti: Remove dead logic in pti_user_pagetable_walk*()
  (bnc#1012628).
- sysfs/cpu: Fix typos in vulnerability documentation
  (bnc#1012628).
- x86/alternatives: Fix optimize_nops() checking (bnc#1012628).
- x86/pti: Make unpoison of pgd for trusted boot work for real
  (bnc#1012628).
- objtool: Detect jumps to retpoline thunks (bnc#1012628).
- objtool: Allow alternatives to be ignored (bnc#1012628).
- x86/retpoline: Add initial retpoline support (bnc#1012628
  bnc#1068032 CVE-2017-5715).
- x86/spectre: Add boot time option to select Spectre v2
  mitigation (bnc#1012628).
- x86/retpoline/crypto: Convert crypto assembler indirect jumps
  (bnc#1012628).
- x86/retpoline/entry: Convert entry assembler indirect jumps
  (bnc#1012628).
- x86/retpoline/ftrace: Convert ftrace assembler indirect jumps
  (bnc#1012628).
- x86/retpoline/hyperv: Convert assembler indirect jumps
  (bnc#1012628).
- x86/retpoline/xen: Convert Xen hypercall indirect jumps
  (bnc#1012628).
- x86/retpoline/checksum32: Convert assembler indirect jumps
  (bnc#1012628).
- x86/retpoline/irq32: Convert assembler indirect jumps
  (bnc#1012628).
- x86/retpoline: Fill return stack buffer on vmexit (bnc#1012628
  bnc#1068032 CVE-2017-5715).
- selftests/x86: Add test_vsyscall (bnc#1012628).
- x86/pti: Fix !PCID and sanitize defines (bnc#1012628).
- security/Kconfig: Correct the Documentation reference for PTI
  (bnc#1012628).
- x86,perf: Disable intel_bts when PTI (bnc#1012628).
- x86/retpoline: Remove compile time warning (bnc#1012628).
- Update config files.
- Refresh
  patches.suse/0007-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
- Refresh
  patches.suse/0016-x86-kvm-add-MSR_IA32_SPEC_CTRL-and-MSR_IA32_PRED_CMD.patch.
- Refresh
  patches.suse/0029-kvm-svm-add-MSR_IA32_SPEC_CTRL-and-MSR_IA32_PRED_CMD.patch.
- Refresh
  patches.suse/0031-Reverting-the-commit-e5247c4f209530-to-replace.patch.
- Refresh
  patches.suse/0032-kvm-vmx-add-MSR_IA32_SPEC_CTRL-and-MSR_IA32_PRED_CMD.patch.
- Delete patches.suse/0019-x86-kvm-Pad-RSB-on-VM-transition.patch.
- Delete
  patches.suse/0020-x86-kvm-clear-registers-on-VM-exit.patch.
- Delete
  patches.suse/0026-Revert-x86-kvm-Pad-RSB-on-VM-transition.patch.
- Delete patches.suse/0027-x86-kvm-Pad-RSB-on-VM-transition.patch.
- Delete
  patches.suse/0036-Clear-the-host-registers-after-setbe.patch.
- commit edd3e75

-------------------------------------------------------------------
Mon Jan 15 15:08:48 CET 2018 - jeffm@suse.com

- Update to 4.15-rc8.
- Eliminated 3 patches.
- Config changes:
  - Security:
    - BPF_JIT_ALWAYS_ON=y
    - RETPOLINE=n (depends on gcc with -mindirect-branch=thunk-extern)
- commit 05e4405

-------------------------------------------------------------------
Fri Jan 12 17:34:16 CET 2018 - jslaby@suse.cz

- bpf, array: fix overflow in max_entries and undefined behavior
  in index_mask (bsc#1068032 CVE-2017-5753).
- commit 3283516

-------------------------------------------------------------------
Fri Jan 12 15:12:13 CET 2018 - jslaby@suse.cz

- Refresh
  patches.suse/bpf-prevent-out-of-bounds-speculation.patch.
- Delete
  patches.suse/0004-bpf-prevent-speculative-execution-in-eBPF-interprete.patch.
  Update the upstream status of the former.
  And removed the latter as it has been just replaced by the proper
  upstream solution.
- commit 20ac09f

-------------------------------------------------------------------
Fri Jan 12 10:04:49 CET 2018 - jslaby@suse.cz

- bpf: prevent out-of-bounds speculation (bsc#1068032
  CVE-2017-5753).
- commit 0eca303

-------------------------------------------------------------------
Thu Jan 11 19:57:16 CET 2018 - matwey.kornilov@gmail.com

- config: arm64: Enable Aardvark PCIe controller
  Aardvark PCIe controller is a part of Marvel Armada 3700 SoC.
  This option is required to support PCIe for JeOS-espressobin.
- commit b0bb655

-------------------------------------------------------------------
Thu Jan 11 16:39:36 CET 2018 - tiwai@suse.de

- drm/nouveau/disp/gf119: add missing drive vfunc ptr
  (bsc#1075613).
- commit 80f2eaf

-------------------------------------------------------------------
Thu Jan 11 10:41:47 CET 2018 - lpechacek@suse.com

- rpm/kernel-binary.spec.in: more specific kGraft Provides: (fate#323682)
  Follow openSUSE packaging practices described at
  https://en.opensuse.org/openSUSE:Package_dependencies#Renaming_a_package.
- commit 050081b

-------------------------------------------------------------------
Thu Jan 11 09:01:53 CET 2018 - mkubecek@suse.cz

- Update
  patches.kernel.org/4.14.9-161-bpf-fix-branch-pruning-logic.patch
  references (add CVE-2017-17862 CVE-2017-17864 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-166-bpf-verifier-fix-bounds-calculation-on-BPF_RSH.patch
  references (add CVE-2017-17853 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-167-bpf-fix-incorrect-sign-extension-in-check_alu_.patch
  references (add CVE-2017-16995 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-168-bpf-fix-incorrect-tracking-of-register-size-tr.patch
  references (add CVE-2017-16996 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-169-bpf-fix-32-bit-ALU-op-verification.patch
  references (add CVE-2017-17852 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-170-bpf-fix-missing-error-return-in-check_stack_bo.patch
  references (add CVE-2017-17857 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-171-bpf-force-strict-alignment-checks-for-stack-po.patch
  references (add CVE-2017-17856 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-172-bpf-don-t-prune-branches-when-a-scalar-is-repl.patch
  references (add CVE-2017-17855 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-173-bpf-fix-integer-overflows.patch
  references (add CVE-2017-17854 bsc#1073928).
- Update
  patches.kernel.org/4.14.9-174-selftests-bpf-add-tests-for-recent-bugfixes.patch
  references (add bsc#1073928).
- commit 4a4cd97

-------------------------------------------------------------------
Thu Jan 11 08:55:30 CET 2018 - mkubecek@suse.cz

- Fix mainline reference:
  patches.kernel.org/4.14.9-170-bpf-fix-missing-error-return-in-check_stack_bo.patch.
- commit 98662d2

-------------------------------------------------------------------
Thu Jan 11 08:42:23 CET 2018 - mkubecek@suse.cz

- Update
  patches.kernel.org/4.14.11-084-net-Fix-double-free-and-memory-corruption-in-.patch
  references (add CVE-2017-15129 bsc#1074839).
- commit 7acebb3

-------------------------------------------------------------------
Wed Jan 10 10:40:45 CET 2018 - jslaby@suse.cz

- x86/cpu/AMD: Make LFENCE a serializing instruction (bsc#1068032
  CVE-2017-5754).
- x86/cpu/AMD: Use LFENCE_RDTSC in preference to MFENCE_RDTSC
  (bsc#1068032 CVE-2017-5754).
- Delete
  patches.suse/0001-x86-cpu-AMD-Make-the-LFENCE-instruction-serialized.patch.
- Delete
  patches.suse/0002-x86-cpu-AMD-Remove-now-unused-definition-of-MFENCE_R.patch.
  Use the variants from upstream (tip tree).
- commit 33b16eb

-------------------------------------------------------------------
Wed Jan 10 10:14:27 CET 2018 - jslaby@suse.cz

- Linux 4.14.13 (bnc#1012628).
- x86/mm: Set MODULES_END to 0xffffffffff000000 (bnc#1012628).
- x86/mm: Map cpu_entry_area at the same place on 4/5 level
  (bnc#1012628).
- x86/kaslr: Fix the vaddr_end mess (bnc#1012628).
- x86/events/intel/ds: Use the proper cache flush method for
  mapping ds buffers (bnc#1012628).
- x86/tlb: Drop the _GPL from the cpu_tlbstate export
  (bnc#1012628).
- x86/alternatives: Add missing '\n' at end of ALTERNATIVE inline
  asm (bnc#1012628).
- x86/pti: Rename BUG_CPU_INSECURE to BUG_CPU_MELTDOWN
  (bnc#1012628).
- kernel/acct.c: fix the acct->needcheck check in
  check_free_space() (bnc#1012628).
- mm/mprotect: add a cond_resched() inside change_pmd_range()
  (bnc#1012628).
- mm/sparse.c: wrong allocation for mem_section (bnc#1012628).
- userfaultfd: clear the vma->vm_userfaultfd_ctx if
  UFFD_EVENT_FORK fails (bnc#1012628).
- btrfs: fix refcount_t usage when deleting btrfs_delayed_nodes
  (bnc#1012628).
- efi/capsule-loader: Reinstate virtual capsule mapping
  (bnc#1012628).
- crypto: n2 - cure use after free (bnc#1012628).
- crypto: chacha20poly1305 - validate the digest size
  (bnc#1012628).
- crypto: pcrypt - fix freeing pcrypt instances (bnc#1012628).
- crypto: chelsio - select CRYPTO_GF128MUL (bnc#1012628).
- drm/i915: Disable DC states around GMBUS on GLK (bnc#1012628).
- drm/i915: Apply Display WA #1183 on skl, kbl, and cfl
  (bnc#1012628).
- sunxi-rsb: Include OF based modalias in device uevent
  (bnc#1012628).
- fscache: Fix the default for fscache_maybe_release_page()
  (bnc#1012628).
- x86 / CPU: Avoid unnecessary IPIs in arch_freq_get_on_cpu()
  (bnc#1012628).
- x86 / CPU: Always show current CPU frequency in /proc/cpuinfo
  (bnc#1012628).
- kernel/signal.c: protect the traced SIGNAL_UNKILLABLE tasks
  from SIGKILL (bnc#1012628).
- kernel/signal.c: protect the SIGNAL_UNKILLABLE tasks from
  !sig_kernel_only() signals (bnc#1012628).
- kernel/signal.c: remove the no longer needed SIGNAL_UNKILLABLE
  check in complete_signal() (bnc#1012628).
- iommu/arm-smmu-v3: Don't free page table ops twice
  (bnc#1012628).
- iommu/arm-smmu-v3: Cope with duplicated Stream IDs
  (bnc#1012628).
- ARC: uaccess: dont use "l" gcc inline asm constraint modifier
  (bnc#1012628).
- powerpc/mm: Fix SEGV on mapped region to return SEGV_ACCERR
  (bnc#1012628).
- Input: elantech - add new icbody type 15 (bnc#1012628).
- apparmor: fix regression in mount mediation when feature set
  is pinned (bnc#1012628).
- parisc: Fix alignment of pa_tlb_lock in assembly on 32-bit
  SMP kernel (bnc#1012628).
- parisc: qemu idle sleep support (bnc#1012628).
- mtd: nand: pxa3xx: Fix READOOB implementation (bnc#1012628).
- KVM: s390: fix cmma migration for multiple memory slots
  (bnc#1012628).
- KVM: s390: prevent buffer overrun on memory hotplug during
  migration (bnc#1012628).
- commit bd444a0

-------------------------------------------------------------------
Tue Jan  9 14:35:46 CET 2018 - jslaby@suse.cz

- Refresh
  patches.suse/0007-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
- Refresh
  patches.suse/0013-x86-entry-Stuff-RSB-for-entry-to-kernel-for-non-SMEP.patch.
- Refresh
  patches.suse/0015-x86-syscall-Clear-unused-extra-registers-on-32-bit-c.patch.
  Fix double fault in 32bit binaries (bnc#1074869, bnc#1074918,
  bnc#1074920, bnc#1074921, bnc#1075018, bnc#1075034)
- commit f4b3cf0

-------------------------------------------------------------------
Mon Jan  8 11:23:11 CET 2018 - msuchanek@suse.de

- kernel-obs-build.spec.in: add --no-hostonly-cmdline to dracut invocation (boo#1062303).
  call dracut with --no-hostonly-cmdline to avoid the random rootfs UUID
  being added into the initrd's /etc/cmdline.d/95root-dev.conf
- commit da5186f

-------------------------------------------------------------------
Mon Jan  8 04:46:44 CET 2018 - jeffm@suse.com

- Update to 4.15-rc7.
- Eliminated 1 patch.
- commit b07c570

-------------------------------------------------------------------
Sat Jan  6 10:10:30 CET 2018 - jslaby@suse.cz

- rpm/constraints.in: lower kernel-syzkaller's mem requirements
  OBS now reports that it needs only around 2G, so lower the limit to
  8G, so that more compliant workers can be used.
- commit a73399a

-------------------------------------------------------------------
Fri Jan  5 19:15:55 CET 2018 - jslaby@suse.cz

- Linux 4.14.12 (bnc#1012628).
- exec: Weaken dumpability for secureexec (bnc#1012628).
- capabilities: fix buffer overread on very short xattr
  (bnc#1012628).
- x86/cpu, x86/pti: Do not enable PTI on AMD processors
  (bnc#1012628).
- x86/pti: Make sure the user/kernel PTEs match (bnc#1012628).
- x86/dumpstack: Fix partial register dumps (bnc#1012628).
- x86/dumpstack: Print registers for first stack frame
  (bnc#1012628).
- x86/pti: Switch to kernel CR3 at early in entry_SYSCALL_compat()
  (bnc#1012628).
- x86/process: Define cpu_tss_rw in same section as declaration
  (bnc#1012628).
- Revert "xfrm: Fix stack-out-of-bounds read in
  xfrm_state_find." (bnc#1012628).
- rtc: m41t80: m41t80_sqw_set_rate should return 0 on success
  (bnc#1012628).
- rtc: m41t80: fix m41t80_sqw_round_rate return value
  (bnc#1012628).
- rtc: m41t80: avoid i2c read in m41t80_sqw_recalc_rate
  (bnc#1012628).
- rtc: m41t80: avoid i2c read in m41t80_sqw_is_prepared
  (bnc#1012628).
- rtc: m41t80: remove unneeded checks from m41t80_sqw_set_rate
  (bnc#1012628).
- Refresh
  patches.suse/0002-x86-stacktrace-make-clear-the-success-paths.patch.
- Refresh
  patches.suse/0007-x86-enter-Use-IBRS-on-syscall-and-interrupts.patch.
- Refresh
  patches.suse/0013-x86-entry-Stuff-RSB-for-entry-to-kernel-for-non-SMEP.patch.
- Refresh
  patches.suse/0015-x86-syscall-Clear-unused-extra-registers-on-32-bit-c.patch.
- commit 3cf399e

-------------------------------------------------------------------
Thu Jan  4 12:32:07 CET 2018 - jslaby@suse.cz

- Refresh
  patches.suse/0027-x86-kvm-Pad-RSB-on-VM-transition.patch.
- Refresh
  patches.suse/0031-Reverting-the-commit-e5247c4f209530-to-replace.patch.
  Fix i386 build.
- commit c36893f

-------------------------------------------------------------------
Wed Jan  3 21:41:58 CET 2018 - jslaby@suse.cz

- Set IBPB when running a different VCPU (bnc#1068032
  CVE-2017-5715).
- Clear the host registers after setbe (bnc#1068032
  CVE-2017-5715).
- Use the ibpb_inuse variable (bnc#1068032 CVE-2017-5715).
- Remove the code that uses MSR save/restore list (bnc#1068032
  CVE-2017-5715).
- KVM: x86: add SPEC_CTRL to MSR and CPUID lists (bnc#1068032
  CVE-2017-5715).
- kvm: vmx: add MSR_IA32_SPEC_CTRL and MSR_IA32_PRED_CMD
  (bnc#1068032 CVE-2017-5715).
- Reverting the commit e5247c4f209530 to replace (bnc#1068032
  CVE-2017-5715).
- Use the "ibrs_inuse" variable (bnc#1068032 CVE-2017-5715).
- kvm: svm: add MSR_IA32_SPEC_CTRL and MSR_IA32_PRED_CMD
  (bnc#1068032 CVE-2017-5715).
- x86/svm: Set IBPB when running a different VCPU (bnc#1068032
  CVE-2017-5715).
- x86/kvm: Pad RSB on VM transition (bnc#1068032 CVE-2017-5715).
- Revert x86/kvm: Pad RSB on VM transition (bnc#1068032
  CVE-2017-5715).
- x86/cpu/AMD: Add speculative control support for AMD
  (bnc#1068032 CVE-2017-5715).
- x86/microcode: Recheck IBRS and IBPB feature on microcode reload
  (bnc#1068032 CVE-2017-5715).
- x86: Move IBRS/IBPB feature detection to scattered.c
  (bnc#1068032 CVE-2017-5715).
- x86/spec_ctrl: Add lock to serialize changes to ibrs and ibpb
  control (bnc#1068032 CVE-2017-5715).
- x86/spec_ctrl: Add sysctl knobs to enable/disable SPEC_CTRL
  feature (bnc#1068032 CVE-2017-5715).
- x86/kvm: clear registers on VM exit (bnc#1068032 CVE-2017-5715).
- x86/kvm: Pad RSB on VM transition (bnc#1068032 CVE-2017-5715).
- x86/kvm: Toggle IBRS on VM entry and exit (bnc#1068032
  CVE-2017-5715).
- x86/kvm: Set IBPB when switching VM (bnc#1068032 CVE-2017-5715).
- x86/kvm: add MSR_IA32_SPEC_CTRL and MSR_IA32_PRED_CMD to kvm
  (bnc#1068032 CVE-2017-5715).
- x86/syscall: Clear unused extra registers on 32-bit compatible
  syscall entrance (bnc#1068032 CVE-2017-5715).
- x86/syscall: Clear unused extra registers on syscall entrance
  (bnc#1068032 CVE-2017-5715).
- x86/entry: Stuff RSB for entry to kernel for non-SMEP platform
  (bnc#1068032 CVE-2017-5715).
- x86/mm: Only set IBPB when the new thread cannot ptrace current
  thread (bnc#1068032 CVE-2017-5715).
- x86/mm: Set IBPB upon context switch (bnc#1068032
  CVE-2017-5715).
- x86/idle: Disable IBRS when offlining cpu and re-enable on
  wakeup (bnc#1068032 CVE-2017-5715).
- x86/idle: Disable IBRS entering idle and enable it on wakeup
  (bnc#1068032 CVE-2017-5715).
- x86/spec_ctrl: save IBRS MSR value in paranoid_entry
  (bnc#1068032 CVE-2017-5715).
- x86/enter: Use IBRS on syscall and interrupts (bnc#1068032
  CVE-2017-5715).
- x86: Add macro that does not save rax, rcx, rdx on stack to
  disable IBRS (bnc#1068032 CVE-2017-5715).
- x86/enter: MACROS to set/clear IBRS and set IBPB (bnc#1068032
  CVE-2017-5715).
- x86/feature: Report presence of IBPB and IBRS control
  (bnc#1068032 CVE-2017-5715).
- x86: Add STIBP feature enumeration (bnc#1068032 CVE-2017-5715).
- x86/cpufeature: Add X86_FEATURE_IA32_ARCH_CAPS and
  X86_FEATURE_IBRS_ATT (bnc#1068032 CVE-2017-5715).
- x86/feature: Enable the x86 feature to control Speculation
  (bnc#1068032 CVE-2017-5715).
- commit 816f713

-------------------------------------------------------------------
Wed Jan  3 19:49:03 CET 2018 - jslaby@suse.cz

- userns: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- udf: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- net: mpls: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- fs: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- ipv6: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- ipv4: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- Thermal/int340x: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- cw1200: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- qla2xxx: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- p54: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- carl9170: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- uvcvideo: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- x86, bpf, jit: prevent speculative execution when JIT is enabled
  (bnc#1068032 CVE-2017-5753).
- bpf: prevent speculative execution in eBPF interpreter
  (bnc#1068032 CVE-2017-5753).
- locking/barriers: introduce new observable speculation barrier
  (bnc#1068032 CVE-2017-5753).
- x86/cpu/AMD: Remove now unused definition of MFENCE_RDTSC
  feature (bnc#1068032 CVE-2017-5753).
- x86/cpu/AMD: Make the LFENCE instruction serialized (bnc#1068032
  CVE-2017-5753).
- commit cf46932

-------------------------------------------------------------------
Wed Jan  3 16:57:12 CET 2018 - jslaby@suse.cz

- Linux 4.14.11 (bnc#1012628).
- tracing: Remove extra zeroing out of the ring buffer page
  (bnc#1012628).
- tracing: Fix possible double free on failure of allocating
  trace buffer (bnc#1012628).
- tracing: Fix crash when it fails to alloc ring buffer
  (bnc#1012628).
- x86/cpufeatures: Add X86_BUG_CPU_INSECURE (bnc#1012628).
- x86/mm/pti: Disable global pages if PAGE_TABLE_ISOLATION=y
  (bnc#1012628).
- x86/mm/pti: Prepare the x86/entry assembly code for entry/exit
  CR3 switching (bnc#1012628).
- x86/mm/pti: Add infrastructure for page table isolation
  (bnc#1012628).
- x86/pti: Add the pti= cmdline option and documentation
  (bnc#1012628).
- x86/mm/pti: Add mapping helper functions (bnc#1012628).
- x86/mm/pti: Allow NX poison to be set in p4d/pgd (bnc#1012628).
- x86/mm/pti: Allocate a separate user PGD (bnc#1012628).
- x86/mm/pti: Populate user PGD (bnc#1012628).
- x86/mm/pti: Add functions to clone kernel PMDs (bnc#1012628).
- x86/mm/pti: Force entry through trampoline when PTI active
  (bnc#1012628).
- x86/mm/pti: Share cpu_entry_area with user space page tables
  (bnc#1012628).
- x86/entry: Align entry text section to PMD boundary
  (bnc#1012628).
- x86/mm/pti: Share entry text PMD (bnc#1012628).
- x86/mm/pti: Map ESPFIX into user space (bnc#1012628).
- x86/cpu_entry_area: Add debugstore entries to cpu_entry_area
  (bnc#1012628).
- x86/events/intel/ds: Map debug buffers in cpu_entry_area
  (bnc#1012628).
- x86/mm/64: Make a full PGD-entry size hole in the memory map
  (bnc#1012628).
- x86/pti: Put the LDT in its own PGD if PTI is on (bnc#1012628).
- x86/pti: Map the vsyscall page if needed (bnc#1012628).
- x86/mm: Allow flushing for future ASID switches (bnc#1012628).
- x86/mm: Abstract switching CR3 (bnc#1012628).
- x86/mm: Use/Fix PCID to optimize user/kernel switches
  (bnc#1012628).
- x86/mm: Optimize RESTORE_CR3 (bnc#1012628).
- x86/mm: Use INVPCID for __native_flush_tlb_single()
  (bnc#1012628).
- x86/mm: Clarify the whole ASID/kernel PCID/user PCID naming
  (bnc#1012628).
- x86/dumpstack: Indicate in Oops whether PTI is configured and
  enabled (bnc#1012628).
- x86/mm/pti: Add Kconfig (bnc#1012628).
- x86/mm/dump_pagetables: Add page table directory to the debugfs
  VFS hierarchy (bnc#1012628).
- x86/mm/dump_pagetables: Check user space page table for WX pages
  (bnc#1012628).
- x86/mm/dump_pagetables: Allow dumping current pagetables
  (bnc#1012628).
- x86/ldt: Make the LDT mapping RO (bnc#1012628).
- ring-buffer: Mask out the info bits when returning buffer page
  length (bnc#1012628).
- ring-buffer: Do no reuse reader page if still in use
  (bnc#1012628).
- iw_cxgb4: Only validate the MSN for successful completions
  (bnc#1012628).
- ASoC: codecs: msm8916-wcd: Fix supported formats (bnc#1012628).
- ASoC: wm_adsp: Fix validation of firmware and coeff lengths
  (bnc#1012628).
- ASoC: da7218: fix fix child-node lookup (bnc#1012628).
- ASoC: fsl_ssi: AC'97 ops need regmap, clock and cleaning up
  on failure (bnc#1012628).
- ASoC: twl4030: fix child-node lookup (bnc#1012628).
- ASoC: tlv320aic31xx: Fix GPIO1 register definition
  (bnc#1012628).
- gpio: fix "gpio-line-names" property retrieval (bnc#1012628).
- IB/hfi: Only read capability registers if the capability exists
  (bnc#1012628).
- IB/mlx5: Serialize access to the VMA list (bnc#1012628).
- IB/uverbs: Fix command checking as part of
  ib_uverbs_ex_modify_qp() (bnc#1012628).
- IB/core: Verify that QP is security enabled in create and
  destroy (bnc#1012628).
- ALSA: hda: Drop useless WARN_ON() (bnc#1012628).
- ALSA: hda - Add MIC_NO_PRESENCE fixup for 2 HP machines
  (bnc#1012628).
- ALSA: hda - change the location for one mic on a Lenovo machine
  (bnc#1012628).
- ALSA: hda - fix headset mic detection issue on a Dell machine
  (bnc#1012628).
- ALSA: hda - Fix missing COEF init for ALC225/295/299
  (bnc#1012628).
- cpufreq: schedutil: Use idle_calls counter of the remote CPU
  (bnc#1012628).
- block: fix blk_rq_append_bio (bnc#1012628).
- block: don't let passthrough IO go into .make_request_fn()
  (bnc#1012628).
- kbuild: add '-fno-stack-check' to kernel build options
  (bnc#1012628).
- ipv4: igmp: guard against silly MTU values (bnc#1012628).
- ipv6: mcast: better catch silly mtu values (bnc#1012628).
- net: fec: unmap the xmit buffer that are not transferred by DMA
  (bnc#1012628).
- net: igmp: Use correct source address on IGMPv3 reports
  (bnc#1012628).
- net: qmi_wwan: add Sierra EM7565 1199:9091 (bnc#1012628).
- net: reevalulate autoflowlabel setting after sysctl setting
  (bnc#1012628).
- ptr_ring: add barriers (bnc#1012628).
- RDS: Check cmsg_len before dereferencing CMSG_DATA
  (bnc#1012628).
- tcp_bbr: record "full bw reached" decision in new
  full_bw_reached bit (bnc#1012628).
- tcp md5sig: Use skb's saddr when replying to an incoming segment
  (bnc#1012628).
- tg3: Fix rx hang on MTU change with 5717/5719 (bnc#1012628).
- tcp_bbr: reset full pipe detection on loss recovery undo
  (bnc#1012628).
- tcp_bbr: reset long-term bandwidth sampling on loss recovery
  undo (bnc#1012628).
- s390/qeth: apply takeover changes when mode is toggled
  (bnc#1012628).
- s390/qeth: don't apply takeover changes to RXIP (bnc#1012628).
- s390/qeth: lock IP table while applying takeover changes
  (bnc#1012628).
- s390/qeth: update takeover IPs after configuration change
  (bnc#1012628).
- net: ipv4: fix for a race condition in raw_sendmsg
  (bnc#1012628).
- net: mvmdio: disable/unprepare clocks in EPROBE_DEFER case
  (bnc#1012628).
- sctp: Replace use of sockets_allocated with specified macro
  (bnc#1012628).
- adding missing rcu_read_unlock in ipxip6_rcv (bnc#1012628).
- ip6_gre: fix device features for ioctl setup (bnc#1012628).
- ipv4: Fix use-after-free when flushing FIB tables (bnc#1012628).
- net: bridge: fix early call to br_stp_change_bridge_id and
  plug newlink leaks (bnc#1012628).
- net: Fix double free and memory corruption in get_net_ns_by_id()
  (bnc#1012628).
- net: phy: micrel: ksz9031: reconfigure autoneg after phy
  autoneg workaround (bnc#1012628).
- sock: free skb in skb_complete_tx_timestamp on error
  (bnc#1012628).
- tcp: invalidate rate samples during SACK reneging (bnc#1012628).
- net/mlx5: Fix rate limit packet pacing naming and struct
  (bnc#1012628).
- net/mlx5e: Fix possible deadlock of VXLAN lock (bnc#1012628).
- net/mlx5e: Fix features check of IPv6 traffic (bnc#1012628).
- net/mlx5e: Add refcount to VXLAN structure (bnc#1012628).
- net/mlx5e: Prevent possible races in VXLAN control flow
  (bnc#1012628).
- net/mlx5: Fix error flow in CREATE_QP command (bnc#1012628).
- openvswitch: Fix pop_vlan action for double tagged frames
  (bnc#1012628).
- sfc: pass valid pointers from efx_enqueue_unwind (bnc#1012628).
- net: dsa: bcm_sf2: Clear IDDQ_GLOBAL_PWR bit for PHY
  (bnc#1012628).
- s390/qeth: fix error handling in checksum cmd callback
  (bnc#1012628).
- sctp: make sure stream nums can match optlen in
  sctp_setsockopt_reset_streams (bnc#1012628).
- tipc: fix hanging poll() for stream sockets (bnc#1012628).
- mlxsw: spectrum: Disable MAC learning for ovs port
  (bnc#1012628).
- tcp: fix potential underestimation on rcv_rtt (bnc#1012628).
- net: phy: marvell: Limit 88m1101 autoneg errata to 88E1145 as
  well (bnc#1012628).
- ipv6: Honor specified parameters in fibmatch lookup
  (bnc#1012628).
- tcp: refresh tcp_mstamp from timers callbacks (bnc#1012628).
- net/mlx5: FPGA, return -EINVAL if size is zero (bnc#1012628).
- vxlan: restore dev->mtu setting based on lower device
  (bnc#1012628).
- net: sched: fix static key imbalance in case of
  ingress/clsact_init error (bnc#1012628).
- bnxt_en: Fix sources of spurious netpoll warnings (bnc#1012628).
- phylink: ensure the PHY interface mode is appropriately set
  (bnc#1012628).
- phylink: ensure AN is enabled (bnc#1012628).
- ipv4: fib: Fix metrics match when deleting a route
  (bnc#1012628).
- ipv6: set all.accept_dad to 0 by default (bnc#1012628).
- Revert "mlx5: move affinity hints assignments to generic code"
  (bnc#1012628).
- skbuff: orphan frags before zerocopy clone (bnc#1012628).
- skbuff: skb_copy_ubufs must release uarg even without user frags
  (bnc#1012628).
- skbuff: in skb_copy_ubufs unclone before releasing zerocopy
  (bnc#1012628).
- sparc64: repair calling incorrect hweight function from stubs
  (bnc#1012628).
- usbip: fix usbip bind writing random string after command in
  match_busid (bnc#1012628).
- usbip: prevent leaking socket pointer address in messages
  (bnc#1012628).
- usbip: stub: stop printing kernel pointer addresses in messages
  (bnc#1012628).
- usbip: vhci: stop printing kernel pointer addresses in messages
  (bnc#1012628).
- USB: chipidea: msm: fix ulpi-node lookup (bnc#1012628).
- USB: serial: ftdi_sio: add id for Airbus DS P8GR (bnc#1012628).
- USB: serial: qcserial: add Sierra Wireless EM7565 (bnc#1012628).
- USB: serial: option: add support for Telit ME910 PID 0x1101
  (bnc#1012628).
- USB: serial: option: adding support for YUGA CLM920-NC5
  (bnc#1012628).
- usb: Add device quirk for Logitech HD Pro Webcam C925e
  (bnc#1012628).
- usb: add RESET_RESUME for ELSA MicroLink 56K (bnc#1012628).
- USB: Fix off by one in type-specific length check of BOS SSP
  capability (bnc#1012628).
- usb: xhci: Add XHCI_TRUST_TX_LENGTH for Renesas uPD720201
  (bnc#1012628).
- timers: Use deferrable base independent of base::nohz_active
  (bnc#1012628).
- timers: Invoke timer_start_debug() where it makes sense
  (bnc#1012628).
- timers: Reinitialize per cpu bases on hotplug (bnc#1012628).
- binder: fix proc->files use-after-free (bnc#1012628).
- phy: tegra: fix device-tree node lookups (bnc#1012628).
- drivers: base: cacheinfo: fix cache type for non-architected
  system cache (bnc#1012628).
- staging: android: ion: Fix dma direction for
  dma_sync_sg_for_cpu/device (bnc#1012628).
- nohz: Prevent a timer interrupt storm in
  tick_nohz_stop_sched_tick() (bnc#1012628).
- x86/smpboot: Remove stale TLB flush invocations (bnc#1012628).
- x86/mm: Remove preempt_disable/enable() from
  __native_flush_tlb() (bnc#1012628).
- x86-32: Fix kexec with stack canary (CONFIG_CC_STACKPROTECTOR)
  (bnc#1012628).
- x86/espfix/64: Fix espfix double-fault handling on 5-level
  systems (bnc#1012628).
- x86/ldt: Plug memory leak in error path (bnc#1012628).
- x86/ldt: Make LDT pgtable free conditional (bnc#1012628).
- n_tty: fix EXTPROC vs ICANON interaction with TIOCINQ (aka
  FIONREAD) (bnc#1012628).
- tty: fix tty_ldisc_receive_buf() documentation (bnc#1012628).
- Update config files.
- commit 58fec0f

-------------------------------------------------------------------
Wed Jan  3 15:34:27 CET 2018 - jeffm@suse.com

- config: x86, PAGE_TABLE_ISOLATION=y (bsc#1068032).
- commit 4343d87

-------------------------------------------------------------------
Tue Jan  2 15:14:16 CET 2018 - jslaby@suse.cz

- userns: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- udf: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- net: mpls: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- fs: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- ipv6: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- ipv4: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- Thermal/int340x: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- cw1200: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- qla2xxx: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- p54: prevent speculative execution (bnc#1068032 CVE-2017-5753).
- carl9170: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- uvcvideo: prevent speculative execution (bnc#1068032
  CVE-2017-5753).
- x86, bpf, jit: prevent speculative execution when JIT is enabled
  (bnc#1068032 CVE-2017-5753).
- bpf: prevent speculative execution in eBPF interpreter
  (bnc#1068032 CVE-2017-5753).
- locking/barriers: introduce new observable speculation barrier
  (bnc#1068032 CVE-2017-5753).
- x86/cpu/AMD: Remove now unused definition of MFENCE_RDTSC
  feature (bnc#1068032 CVE-2017-5753).
- x86/cpu/AMD: Make the LFENCE instruction serialized (bnc#1068032
  CVE-2017-5753).
- commit ee4aa62

-------------------------------------------------------------------
Tue Jan  2 04:37:31 CET 2018 - jeffm@suse.com

- Update to 4.15-rc6.
- Config changes:
  - x86: PAGE_TABLE_ISOLATION=n (default, performance)
- commit cd70bd8

-------------------------------------------------------------------
Mon Jan  1 09:55:10 CET 2018 - jslaby@suse.cz

- Update config files.
- i386: NR_CPUS 128->64
  - 7bbcbd3d1cd (x86/Kconfig: Limit NR_CPUS on 32-bit to a sane
    amount)
- commit 69201cf

-------------------------------------------------------------------
Fri Dec 29 19:51:33 CET 2017 - jslaby@suse.cz

- Linux 4.14.10 (bnc#1012628).
- Revert "ipmi_si: fix memory leak on new_smi" (bnc#1012628).
- net: mvneta: eliminate wrong call to handle rx descriptor error
  (bnc#1012628).
- net: mvneta: use proper rxq_number in loop on rx queues
  (bnc#1012628).
- net: mvneta: clear interface link status on port disable
  (bnc#1012628).
- libnvdimm, pfn: fix start_pad handling for aligned namespaces
  (bnc#1012628).
- libnvdimm, btt: Fix an incompatibility in the log layout
  (bnc#1012628).
- libnvdimm, dax: fix 1GB-aligned namespaces vs physical
  misalignment (bnc#1012628).
- drm/sun4i: Fix error path handling (bnc#1012628).
- drm/i915: Flush pending GTT writes before unbinding
  (bnc#1012628).
- powerpc/perf: Dereference BHRB entries safely (bnc#1012628).
- clk: sunxi: sun9i-mmc: Implement reset callback for reset
  controls (bnc#1012628).
- kvm: x86: fix RSM when PCID is non-zero (bnc#1012628).
- KVM: X86: Fix load RFLAGS w/o the fixed bit (bnc#1012628).
- KVM: MMU: Fix infinite loop when there is no available mmu page
  (bnc#1012628).
- KVM: PPC: Book3S HV: Fix pending_pri value in
  kvmppc_xive_get_icp() (bnc#1012628).
- KVM: PPC: Book3S: fix XIVE migration of pending interrupts
  (bnc#1012628).
- KVM: arm/arm64: Fix HYP unmapping going off limits
  (bnc#1012628).
- arm64: kvm: Prevent restoring stale PMSCR_EL1 for vcpu
  (bnc#1012628).
- pinctrl: cherryview: Mask all interrupts on Intel_Strago based
  systems (bnc#1012628).
- spi: a3700: Fix clk prescaling for coefficient over 15
  (bnc#1012628).
- spi: xilinx: Detect stall with Unknown commands (bnc#1012628).
- Revert "parisc: Re-enable interrupts early" (bnc#1012628).
- parisc: Hide Diva-built-in serial aux and graphics card
  (bnc#1012628).
- parisc: Fix indenting in puts() (bnc#1012628).
- parisc: Align os_hpmc_size on word boundary (bnc#1012628).
- block-throttle: avoid double charge (bnc#1012628).
- block: unalign call_single_data in struct request (bnc#1012628).
- PCI / PM: Force devices to D0 in pci_pm_thaw_noirq()
  (bnc#1012628).
- ALSA: usb-audio: Fix the missing ctl name suffix at parsing SU
  (bnc#1012628).
- ALSA: usb-audio: Add native DSD support for Esoteric D-05X
  (bnc#1012628).
- ALSA: hda - Add vendor id for Cannonlake HDMI codec
  (bnc#1012628).
- ALSA: hda/realtek - Fix Dell AIO LineOut issue (bnc#1012628).
- ALSA: rawmidi: Avoid racy info ioctl via ctl device
  (bnc#1012628).
- mfd: twl6040: Fix child-node lookup (bnc#1012628).
- mfd: twl4030-audio: Fix sibling-node lookup (bnc#1012628).
- mfd: cros ec: spi: Don't send first message too soon
  (bnc#1012628).
- crypto: af_alg - fix race accessing cipher request
  (bnc#1012628).
- crypto: af_alg - wait for data at beginning of recvmsg
  (bnc#1012628).
- crypto: mcryptd - protect the per-CPU queue with a lock
  (bnc#1012628).
- crypto: skcipher - set walk.iv for zero-length inputs
  (bnc#1012628).
- acpi, nfit: fix health event notification (bnc#1012628).
- ACPI: APEI / ERST: Fix missing error handling in erst_reader()
  (bnc#1012628).
- x86/cpu_entry_area: Prevent wraparound in
  setup_cpu_entry_area_ptes() on 32bit (bnc#1012628).
- init: Invoke init_espfix_bsp() from mm_init() (bnc#1012628).
- x86/cpu_entry_area: Move it out of the fixmap (bnc#1012628).
- x86/cpu_entry_area: Move it to a separate unit (bnc#1012628).
- x86/mm: Create asm/invpcid.h (bnc#1012628).
- x86/mm: Put MMU to hardware ASID translation in one place
  (bnc#1012628).
- x86/mm: Remove hard-coded ASID limit checks (bnc#1012628).
- x86/mm: Move the CR3 construction functions to tlbflush.h
  (bnc#1012628).
- x86/mm: Add comments to clarify which TLB-flush functions are
  supposed to flush what (bnc#1012628).
- x86/mm: Remove superfluous barriers (bnc#1012628).
- x86/mm: Use __flush_tlb_one() for kernel memory (bnc#1012628).
- x86/microcode: Dont abuse the TLB-flush interface (bnc#1012628).
- x86/uv: Use the right TLB-flush API (bnc#1012628).
- x86/entry: Rename SYSENTER_stack to CPU_ENTRY_AREA_entry_stack
  (bnc#1012628).
- x86/doc: Remove obvious weirdnesses from the x86 MM layout
  documentation (bnc#1012628).
- x86/mm/64: Improve the memory map documentation (bnc#1012628).
- x86/ldt: Prevent LDT inheritance on exec (bnc#1012628).
- x86/ldt: Rework locking (bnc#1012628).
- arch, mm: Allow arch_dup_mmap() to fail (bnc#1012628).
- x86/vsyscall/64: Warn and fail vsyscall emulation in NATIVE mode
  (bnc#1012628).
- x86/vsyscall/64: Explicitly set _PAGE_USER in the pagetable
  hierarchy (bnc#1012628).
- x86/mm/dump_pagetables: Make the address hints correct and
  readable (bnc#1012628).
- x86/mm/dump_pagetables: Check PAGE_PRESENT for real
  (bnc#1012628).
- x86/Kconfig: Limit NR_CPUS on 32-bit to a sane amount
  (bnc#1012628).
- x86/insn-eval: Add utility functions to get segment selector
  (bnc#1012628).
- x86/decoder: Fix and update the opcodes map (bnc#1012628).
- objtool: Fix 64-bit build on 32-bit host (bnc#1012628).
- tools/headers: Sync objtool UAPI header (bnc#1012628).
- objtool: Fix cross-build (bnc#1012628).
- objtool: Move kernel headers/code sync check to a script
  (bnc#1012628).
- objtool: Move synced files to their original relative locations
  (bnc#1012628).
- Revert "ipv6: grab rt->rt6i_ref before allocating pcpu rt"
  (bnc#1012628).
- commit a9b9f85

-------------------------------------------------------------------
Mon Dec 25 16:42:48 CET 2017 - jslaby@suse.cz

- Linux 4.14.9 (bnc#1012628).
- x86/asm: Remove unnecessary \n\t in front of CC_SET() from
  asm templates (bnc#1012628).
- ACPI / APEI: adjust a local variable type in
  ghes_ioremap_pfn_irq() (bnc#1012628).
- x86/fpu/debug: Remove unused 'x86_fpu_state' and
  'x86_fpu_deactivate_state' tracepoints (bnc#1012628).
- bitops: Add clear/set_bit32() to linux/bitops.h (bnc#1012628).
- x86/cpuid: Add generic table for CPUID dependencies
  (bnc#1012628).
- x86/fpu: Parse clearcpuid= as early XSAVE argument
  (bnc#1012628).
- x86/fpu: Make XSAVE check the base CPUID features before
  enabling (bnc#1012628).
- x86/fpu: Remove the explicit clearing of XSAVE dependent
  features (bnc#1012628).
- x86/platform/UV: Convert timers to use timer_setup()
  (bnc#1012628).
- x86/cpuid: Prevent out of bound access in do_clear_cpu_cap()
  (bnc#1012628).
- mm/sparsemem: Allocate mem_section at runtime for
  CONFIG_SPARSEMEM_EXTREME=y (bnc#1012628).
- x86/kasan: Use the same shadow offset for 4- and 5-level paging
  (bnc#1012628).
- x86/xen: Provide pre-built page tables only for CONFIG_XEN_PV=y
  and CONFIG_XEN_PVH=y (bnc#1012628).
- x86/xen: Drop 5-level paging support code from the XEN_PV code
  (bnc#1012628).
- ACPI / APEI: remove the unused dead-code for SEA/NMI
  notification type (bnc#1012628).
- x86/asm: Don't use the confusing '.ifeq' directive
  (bnc#1012628).
- x86/build: Beautify build log of syscall headers (bnc#1012628).
- x86/mm/64: Rename the register_page_bootmem_memmap() 'size'
  parameter to 'nr_pages' (bnc#1012628).
- x86/cpufeatures: Enable new SSE/AVX/AVX512 CPU features
  (bnc#1012628).
- x86/mm: Relocate page fault error codes to traps.h
  (bnc#1012628).
- x86/boot: Relocate definition of the initial state of CR0
  (bnc#1012628).
- ptrace,x86: Make user_64bit_mode() available to 32-bit builds
  (bnc#1012628).
- x86/entry/64: Remove the restore_c_regs_and_iret label
  (bnc#1012628).
- x86/entry/64: Split the IRET-to-user and IRET-to-kernel paths
  (bnc#1012628).
- x86/entry/64: Move SWAPGS into the common IRET-to-usermode path
  (bnc#1012628).
- x86/entry/64: Simplify reg restore code in the standard IRET
  paths (bnc#1012628).
- x86/entry/64: Shrink paranoid_exit_restore and make labels local
  (bnc#1012628).
- x86/entry/64: Use pop instead of movq in
  syscall_return_via_sysret (bnc#1012628).
- x86/entry/64: Merge the fast and slow SYSRET paths
  (bnc#1012628).
- x86/entry/64: Use POP instead of MOV to restore regs on NMI
  return (bnc#1012628).
- x86/entry/64: Remove the RESTORE_..._REGS infrastructure
  (bnc#1012628).
- xen, x86/entry/64: Add xen NMI trap entry (bnc#1012628).
- x86/entry/64: De-Xen-ify our NMI code (bnc#1012628).
- x86/entry/32: Pull the MSR_IA32_SYSENTER_CS update code out
  of native_load_sp0() (bnc#1012628).
- x86/entry/64: Pass SP0 directly to load_sp0() (bnc#1012628).
- x86/entry: Add task_top_of_stack() to find the top of a task's
  stack (bnc#1012628).
- x86/xen/64, x86/entry/64: Clean up SP code in
  cpu_initialize_context() (bnc#1012628).
- x86/entry/64: Stop initializing TSS.sp0 at boot (bnc#1012628).
- x86/entry/64: Remove all remaining direct thread_struct::sp0
  reads (bnc#1012628).
- x86/entry/32: Fix cpu_current_top_of_stack initialization at
  boot (bnc#1012628).
- x86/entry/64: Remove thread_struct::sp0 (bnc#1012628).
- x86/traps: Use a new on_thread_stack() helper to clean up an
  assertion (bnc#1012628).
- x86/entry/64: Shorten TEST instructions (bnc#1012628).
- x86/cpuid: Replace set/clear_bit32() (bnc#1012628).
- bitops: Revert cbe96375025e ("bitops: Add clear/set_bit32()
  to linux/bitops.h") (bnc#1012628).
- x86/mm: Define _PAGE_TABLE using _KERNPG_TABLE (bnc#1012628).
- x86/cpufeatures: Re-tabulate the X86_FEATURE definitions
  (bnc#1012628).
- x86/cpufeatures: Fix various details in the feature definitions
  (bnc#1012628).
- selftests/x86/ldt_gdt: Add infrastructure to test
  set_thread_area() (bnc#1012628).
- selftests/x86/ldt_gdt: Run most existing LDT test cases against
  the GDT as well (bnc#1012628).
- ACPI / APEI: Replace ioremap_page_range() with fixmap
  (bnc#1012628).
- x86/virt, x86/platform: Merge 'struct x86_hyper' into 'struct
  x86_platform' and 'struct x86_init' (bnc#1012628).
- x86/virt: Add enum for hypervisors to replace x86_hyper
  (bnc#1012628).
- drivers/misc/intel/pti: Rename the header file to free up the
  namespace (bnc#1012628).
- x86/cpufeature: Add User-Mode Instruction Prevention definitions
  (bnc#1012628).
- x86: Make X86_BUG_FXSAVE_LEAK detectable in CPUID on AMD
  (bnc#1012628).
- perf/x86: Enable free running PEBS for REGS_USER/INTR
  (bnc#1012628).
- bpf: fix build issues on um due to mising bpf_perf_event.h
  (bnc#1012628).
- locking/barriers: Add implicit smp_read_barrier_depends()
  to READ_ONCE() (bnc#1012628).
- locking/barriers: Convert users of lockless_dereference()
  to READ_ONCE() (bnc#1012628).
- x86/mm/kasan: Don't use vmemmap_populate() to initialize shadow
  (bnc#1012628).
- x86/entry/64/paravirt: Use paravirt-safe macro to access eflags
  (bnc#1012628).
- x86/unwinder/orc: Dont bail on stack overflow (bnc#1012628).
- x86/unwinder: Handle stack overflows more gracefully
  (bnc#1012628).
- x86/irq: Remove an old outdated comment about context tracking
  races (bnc#1012628).
- x86/irq/64: Print the offending IP in the stack overflow warning
  (bnc#1012628).
- x86/entry/64: Allocate and enable the SYSENTER stack
  (bnc#1012628).
- x86/dumpstack: Add get_stack_info() support for the SYSENTER
  stack (bnc#1012628).
- x86/entry/gdt: Put per-CPU GDT remaps in ascending order
  (bnc#1012628).
- x86/mm/fixmap: Generalize the GDT fixmap mechanism, introduce
  struct cpu_entry_area (bnc#1012628).
- x86/kasan/64: Teach KASAN about the cpu_entry_area
  (bnc#1012628).
- x86/entry: Fix assumptions that the HW TSS is at the beginning
  of cpu_tss (bnc#1012628).
- x86/dumpstack: Handle stack overflow on all stacks
  (bnc#1012628).
- x86/entry: Move SYSENTER_stack to the beginning of struct
  tss_struct (bnc#1012628).
- x86/entry: Remap the TSS into the CPU entry area (bnc#1012628).
- x86/entry/64: Separate cpu_current_top_of_stack from TSS.sp0
  (bnc#1012628).
- x86/espfix/64: Stop assuming that pt_regs is on the entry stack
  (bnc#1012628).
- x86/entry/64: Use a per-CPU trampoline stack for IDT entries
  (bnc#1012628).
- x86/entry/64: Return to userspace from the trampoline stack
  (bnc#1012628).
- x86/entry/64: Create a per-CPU SYSCALL entry trampoline
  (bnc#1012628).
- x86/entry/64: Move the IST stacks into struct cpu_entry_area
  (bnc#1012628).
- x86/entry/64: Remove the SYSENTER stack canary (bnc#1012628).
- x86/entry: Clean up the SYSENTER_stack code (bnc#1012628).
- x86/entry/64: Make cpu_entry_area.tss read-only (bnc#1012628).
- x86/paravirt: Dont patch flush_tlb_single (bnc#1012628).
- x86/paravirt: Provide a way to check for hypervisors
  (bnc#1012628).
- x86/cpufeatures: Make CPU bugs sticky (bnc#1012628).
- optee: fix invalid of_node_put() in optee_driver_init()
  (bnc#1012628).
- backlight: pwm_bl: Fix overflow condition (bnc#1012628).
- drm: Add retries for lspcon mode detection (bnc#1012628).
- clk: sunxi-ng: nm: Check if requested rate is supported by
  fractional clock (bnc#1012628).
- clk: sunxi-ng: sun5i: Fix bit offset of audio PLL post-divider
  (bnc#1012628).
- crypto: crypto4xx - increase context and scatter ring buffer
  elements (bnc#1012628).
- crypto: lrw - Fix an error handling path in 'create()'
  (bnc#1012628).
- rtc: pl031: make interrupt optional (bnc#1012628).
- kvm, mm: account kvm related kmem slabs to kmemcg (bnc#1012628).
- net: phy: at803x: Change error to EINVAL for invalid MAC
  (bnc#1012628).
- PCI: Avoid bus reset if bridge itself is broken (bnc#1012628).
- scsi: cxgb4i: fix Tx skb leak (bnc#1012628).
- scsi: mpt3sas: Fix IO error occurs on pulling out a drive from
  RAID1 volume created on two SATA drive (bnc#1012628).
- PCI: Create SR-IOV virtfn/physfn links before attaching driver
  (bnc#1012628).
- PM / OPP: Move error message to debug level (bnc#1012628).
- igb: check memory allocation failure (bnc#1012628).
- i40e: use the safe hash table iterator when deleting mac filters
  (bnc#1012628).
- iio: st_sensors: add register mask for status register
  (bnc#1012628).
- ixgbe: fix use of uninitialized padding (bnc#1012628).
- IB/rxe: check for allocation failure on elem (bnc#1012628).
- block,bfq: Disable writeback throttling (bnc#1012628).
- md: always set THREAD_WAKEUP and wake up wqueue if thread
  existed (bnc#1012628).
- ip_gre: check packet length and mtu correctly in erspan tx
  (bnc#1012628).
- ipv6: grab rt->rt6i_ref before allocating pcpu rt (bnc#1012628).
- leds: pca955x: Don't invert requested value in
  pca955x_gpio_set_value() (bnc#1012628).
- Bluetooth: hci_uart_set_flow_control: Fix NULL deref when
  using serdev (bnc#1012628).
- Bluetooth: hci_bcm: Fix setting of irq trigger type
  (bnc#1012628).
- i40e/i40evf: spread CPU affinity hints across online CPUs only
  (bnc#1012628).
- PCI/AER: Report non-fatal errors only to the affected endpoint
  (bnc#1012628).
- tracing: Exclude 'generic fields' from histograms (bnc#1012628).
- ASoC: codecs: msm8916-wcd-analog: fix micbias level
  (bnc#1012628).
- ASoC: img-parallel-out: Add pm_runtime_get/put to set_fmt
  callback (bnc#1012628).
- powerpc/xmon: Avoid tripping SMP hardlockup watchdog
  (bnc#1012628).
- powerpc/watchdog: Do not trigger SMP crash from
  touch_nmi_watchdog (bnc#1012628).
- sctp: silence warns on sctp_stream_init allocations
  (bnc#1012628).
- ASoC: codecs: msm8916-wcd-analog: fix module autoload
  (bnc#1012628).
- fm10k: fix mis-ordered parameters in declaration for
  .ndo_set_vf_bw (bnc#1012628).
- scsi: lpfc: Fix secure firmware updates (bnc#1012628).
- scsi: lpfc: PLOGI failures during NPIV testing (bnc#1012628).
- scsi: lpfc: Fix warning messages when NVME_TARGET_FC not defined
  (bnc#1012628).
- i40e: fix client notify of VF reset (bnc#1012628).
- vfio/pci: Virtualize Maximum Payload Size (bnc#1012628).
- ARM: exynos_defconfig: Enable UAS support for Odroid HC1 board
  (bnc#1012628).
- fm10k: ensure we process SM mbx when processing VF mbx
  (bnc#1012628).
- ibmvnic: Set state UP (bnc#1012628).
- net: ipv6: send NS for DAD when link operationally up
  (bnc#1012628).
- RDMA/hns: Avoid NULL pointer exception (bnc#1012628).
- staging: greybus: light: Release memory obtained by kasprintf
  (bnc#1012628).
- clk: sunxi-ng: sun6i: Rename HDMI DDC clock to avoid name
  collision (bnc#1012628).
- tcp: fix under-evaluated ssthresh in TCP Vegas (bnc#1012628).
- rtc: set the alarm to the next expiring timer (bnc#1012628).
- cpuidle: fix broadcast control when broadcast can not be entered
  (bnc#1012628).
- drm/vc4: Avoid using vrefresh==0 mode in DSI htotal math
  (bnc#1012628).
- IB/opa_vnic: Properly clear Mac Table Digest (bnc#1012628).
- IB/opa_vnic: Properly return the total MACs in UC MAC list
  (bnc#1012628).
- thermal/drivers/hisi: Fix missing interrupt enablement
  (bnc#1012628).
- thermal/drivers/hisi: Fix kernel panic on alarm interrupt
  (bnc#1012628).
- thermal/drivers/hisi: Simplify the temperature/step computation
  (bnc#1012628).
- thermal/drivers/hisi: Fix multiple alarm interrupts firing
  (bnc#1012628).
- platform/x86: asus-wireless: send an EV_SYN/SYN_REPORT between
  state changes (bnc#1012628).
- mm/sparsemem: Fix ARM64 boot crash when
  CONFIG_SPARSEMEM_EXTREME=y (bnc#1012628).
- bpf: fix branch pruning logic (bnc#1012628).
- bpf: fix corruption on concurrent perf_event_output calls
  (bnc#1012628).
- bpf, s390x: do not reload skb pointers in non-skb context
  (bnc#1012628).
- bpf, ppc64: do not reload skb pointers in non-skb context
  (bnc#1012628).
- bpf, sparc: fix usage of wrong reg for load_skb_regs after call
  (bnc#1012628).
- bpf/verifier: fix bounds calculation on BPF_RSH (bnc#1012628).
- bpf: fix incorrect sign extension in check_alu_op()
  (bnc#1012628).
- bpf: fix incorrect tracking of register size truncation
  (bnc#1012628).
- bpf: fix 32-bit ALU op verification (bnc#1012628).
- bpf: fix missing error return in check_stack_boundary()
  (bnc#1012628).
- bpf: force strict alignment checks for stack pointers
  (bnc#1012628).
- bpf: don't prune branches when a scalar is replaced with a
  pointer (bnc#1012628).
- bpf: fix integer overflows (bnc#1012628).
- selftests/bpf: add tests for recent bugfixes (bnc#1012628).
- linux/compiler.h: Split into compiler.h and compiler_types.h
  (bnc#1012628).
- Refresh patches.suse/dm-mpath-accept-failed-paths.
- Refresh patches.suse/suse-hv-guest-os-id.patch.
- commit 9423ca2

-------------------------------------------------------------------
Mon Dec 25 03:42:33 CET 2017 - jeffm@suse.com

- config: disable BUG_ON_DATA_CORRUPTION
  On its face this option makes sense but it brings along with it
  DEBUG_LIST, which is very expensive and obvious on benchmarks.
- commit 7bfff34

-------------------------------------------------------------------
Mon Dec 25 01:45:31 CET 2017 - jeffm@suse.com

- config: refresh i386/default
  Commit 4735d41aeeb added a disabled CONFIG_SPI_INTEL_SPI_PLATFORM option
  that doesn't exist on i386/default (at least in 4.15-rc5).
- commit 84167ae

-------------------------------------------------------------------
Sun Dec 24 19:43:43 CET 2017 - jeffm@suse.com

- Update to 4.15-rc5.
- Config changes:
  - i386: NR_CPUS 128->64
    - 7bbcbd3d1cd (x86/Kconfig: Limit NR_CPUS on 32-bit to a sane amount)
- commit 9e8deb3

-------------------------------------------------------------------
Thu Dec 21 13:31:54 CET 2017 - msuchanek@suse.de

- kernel-obs-build: use pae and lpae kernels where available
  (bsc#1073579).
- commit 1ac1946

-------------------------------------------------------------------
Thu Dec 21 11:54:37 CET 2017 - tiwai@suse.de

- Disable CONFIG_SPI_INTEL_SPI_PCI as well (bsc#1073836)
- commit ddb33b2

-------------------------------------------------------------------
Thu Dec 21 11:29:01 CET 2017 - tiwai@suse.de

- Disable CONFIG_SPI_INTEL_SPI_PLATFORM for BIOS breakge on Lenovo laptops
  (bsc#1073836)
- commit 4735d41

-------------------------------------------------------------------
Wed Dec 20 11:40:41 CET 2017 - jslaby@suse.cz

- Linux 4.14.8 (bnc#1012628).
- mfd: fsl-imx25: Clean up irq settings during removal
  (bnc#1012628).
- crypto: algif_aead - fix reference counting of null skcipher
  (bnc#1012628).
- crypto: rsa - fix buffer overread when stripping leading zeroes
  (bnc#1012628).
- crypto: hmac - require that the underlying hash algorithm is
  unkeyed (bnc#1012628).
- crypto: salsa20 - fix blkcipher_walk API usage (bnc#1012628).
- crypto: af_alg - fix NULL pointer dereference in (bnc#1012628).
- cifs: fix NULL deref in SMB2_read (bnc#1012628).
- string.h: workaround for increased stack usage (bnc#1012628).
- autofs: fix careless error in recent commit (bnc#1012628).
- kernel: make groups_sort calling a responsibility group_info
  allocators (bnc#1012628).
- mm, oom_reaper: fix memory corruption (bnc#1012628).
- tracing: Allocate mask_str buffer dynamically (bnc#1012628).
- USB: uas and storage: Add US_FL_BROKEN_FUA for another JMicron
  JMS567 ID (bnc#1012628).
- USB: core: prevent malicious bNumInterfaces overflow
  (bnc#1012628).
- ovl: Pass ovl_get_nlink() parameters in right order
  (bnc#1012628).
- ovl: update ctx->pos on impure dir iteration (bnc#1012628).
- usbip: fix stub_rx: get_pipe() to validate endpoint number
  (bnc#1012628).
- usbip: fix stub_rx: harden CMD_SUBMIT path to handle malicious
  input (bnc#1012628).
- usbip: prevent vhci_hcd driver from leaking a socket pointer
  address (bnc#1012628).
- usbip: fix stub_send_ret_submit() vulnerability to null
  transfer_buffer (bnc#1012628).
- mmc: core: apply NO_CMD23 quirk to some specific cards
  (bnc#1012628).
- ceph: drop negative child dentries before try pruning inode's
  alias (bnc#1012628).
- usb: xhci: fix TDS for MTK xHCI1.1 (bnc#1012628).
- xhci: Don't add a virt_dev to the devs array before it's fully
  allocated (bnc#1012628).
- IB/core: Bound check alternate path port number (bnc#1012628).
- IB/core: Don't enforce PKey security on SMI MADs (bnc#1012628).
- nfs: don't wait on commit in nfs_commit_inode() if there were
  no commit requests (bnc#1012628).
- arm64: mm: Fix pte_mkclean, pte_mkdirty semantics (bnc#1012628).
- arm64: Initialise high_memory global variable earlier
  (bnc#1012628).
- arm64: fix CONFIG_DEBUG_WX address reporting (bnc#1012628).
- scsi: core: Fix a scsi_show_rq() NULL pointer dereference
  (bnc#1012628).
- scsi: libsas: fix length error in sas_smp_handler()
  (bnc#1012628).
- sched/rt: Do not pull from current CPU if only one CPU to pull
  (bnc#1012628).
- dm: fix various targets to dm_register_target after module
  __init resources created (bnc#1012628).
- SUNRPC: Fix a race in the receive code path (bnc#1012628).
- iw_cxgb4: only insert drain cqes if wq is flushed (bnc#1012628).
- x86/boot/compressed/64: Detect and handle 5-level paging at
  boot-time (bnc#1012628).
- x86/boot/compressed/64: Print error if 5-level paging is not
  supported (bnc#1012628).
- eeprom: at24: change nvmem stride to 1 (bnc#1012628).
- posix-timer: Properly check sigevent->sigev_notify
  (bnc#1012628).
- dmaengine: dmatest: move callback wait queue to thread context
  (bnc#1012628).
- Revert "exec: avoid RLIMIT_STACK races with prlimit()"
  (bnc#1012628).
- ext4: support fast symlinks from ext3 file systems
  (bnc#1012628).
- ext4: fix fdatasync(2) after fallocate(2) operation
  (bnc#1012628).
- ext4: add missing error check in __ext4_new_inode()
  (bnc#1012628).
- ext4: fix crash when a directory's i_size is too small
  (bnc#1012628).
- IB/mlx4: Fix RSS's QPC attributes assignments (bnc#1012628).
- HID: cp2112: fix broken gpio_direction_input callback
  (bnc#1012628).
- sfc: don't warn on successful change of MAC (bnc#1012628).
- fbdev: controlfb: Add missing modes to fix out of bounds access
  (bnc#1012628).
- video: udlfb: Fix read EDID timeout (bnc#1012628).
- video: fbdev: au1200fb: Release some resources if a memory
  allocation fails (bnc#1012628).
- video: fbdev: au1200fb: Return an error code if a memory
  allocation fails (bnc#1012628).
- rtc: pcf8563: fix output clock rate (bnc#1012628).
- scsi: aacraid: use timespec64 instead of timeval (bnc#1012628).
- drm/amdgpu: bypass lru touch for KIQ ring submission
  (bnc#1012628).
- PM / s2idle: Clear the events_check_enabled flag (bnc#1012628).
- ASoC: Intel: Skylake: Fix uuid_module memory leak in failure
  case (bnc#1012628).
- dmaengine: ti-dma-crossbar: Correct am335x/am43xx mux value type
  (bnc#1012628).
- mlxsw: spectrum: Fix error return code in mlxsw_sp_port_create()
  (bnc#1012628).
- PCI/PME: Handle invalid data when reading Root Status
  (bnc#1012628).
- powerpc/powernv/cpufreq: Fix the frequency read by /proc/cpuinfo
  (bnc#1012628).
- PCI: Do not allocate more buses than available in parent
  (bnc#1012628).
- iommu/mediatek: Fix driver name (bnc#1012628).
- thunderbolt: tb: fix use after free in tb_activate_pcie_devices
  (bnc#1012628).
- netfilter: ipvs: Fix inappropriate output of procfs
  (bnc#1012628).
- powerpc/opal: Fix EBUSY bug in acquiring tokens (bnc#1012628).
- powerpc/ipic: Fix status get and status clear (bnc#1012628).
- powerpc/pseries/vio: Dispose of virq mapping on vdevice
  unregister (bnc#1012628).
- platform/x86: intel_punit_ipc: Fix resource ioremap warning
  (bnc#1012628).
- target/iscsi: Detect conn_cmd_list corruption early
  (bnc#1012628).
- target/iscsi: Fix a race condition in
  iscsit_add_reject_from_cmd() (bnc#1012628).
- iscsi-target: fix memory leak in lio_target_tiqn_addtpg()
  (bnc#1012628).
- target:fix condition return in core_pr_dump_initiator_port()
  (bnc#1012628).
- target/file: Do not return error for UNMAP if length is zero
  (bnc#1012628).
- badblocks: fix wrong return value in badblocks_set if badblocks
  are disabled (bnc#1012628).
- iommu/amd: Limit the IOVA page range to the specified addresses
  (bnc#1012628).
- xfs: truncate pagecache before writeback in xfs_setattr_size()
  (bnc#1012628).
- arm-ccn: perf: Prevent module unload while PMU is in use
  (bnc#1012628).
- crypto: tcrypt - fix buffer lengths in test_aead_speed()
  (bnc#1012628).
- mm: Handle 0 flags in _calc_vm_trans() macro (bnc#1012628).
- net: hns3: fix for getting advertised_caps in
  hns3_get_link_ksettings (bnc#1012628).
- net: hns3: Fix a misuse to devm_free_irq (bnc#1012628).
- staging: rtl8188eu: Revert part of "staging: rtl8188eu: fix
  comments with lines over 80 characters" (bnc#1012628).
- clk: mediatek: add the option for determining PLL source clock
  (bnc#1012628).
- clk: imx: imx7d: Fix parent clock for OCRAM_CLK (bnc#1012628).
- clk: imx6: refine hdmi_isfr's parent to make HDMI work on
  i.MX6 SoCs w/o VPU (bnc#1012628).
- media: camss-vfe: always initialize reg at vfe_set_xbar_cfg()
  (bnc#1012628).
- clk: hi6220: mark clock cs_atb_syspll as critical (bnc#1012628).
- blk-mq-sched: dispatch from scheduler IFF progress is made in
  ->dispatch (bnc#1012628).
- clk: tegra: Use readl_relaxed_poll_timeout_atomic() in
  tegra210_clock_init() (bnc#1012628).
- clk: tegra: Fix cclk_lp divisor register (bnc#1012628).
- ppp: Destroy the mutex when cleanup (bnc#1012628).
- ASoC: rsnd: rsnd_ssi_run_mods() needs to care ssi_parent_mod
  (bnc#1012628).
- thermal/drivers/step_wise: Fix temperature regulation
  misbehavior (bnc#1012628).
- misc: pci_endpoint_test: Fix failure path return values in probe
  (bnc#1012628).
- misc: pci_endpoint_test: Avoid triggering a BUG() (bnc#1012628).
- scsi: scsi_debug: write_same: fix error report (bnc#1012628).
- GFS2: Take inode off order_write list when setting jdata flag
  (bnc#1012628).
- media: usbtv: fix brightness and contrast controls
  (bnc#1012628).
- rpmsg: glink: Initialize the "intent_req_comp" completion
  variable (bnc#1012628).
- bcache: explicitly destroy mutex while exiting (bnc#1012628).
- bcache: fix wrong cache_misses statistics (bnc#1012628).
- Ib/hfi1: Return actual operational VLs in port info query
  (bnc#1012628).
- Bluetooth: hci_ldisc: Fix another race when closing the tty
  (bnc#1012628).
- arm64: prevent regressions in compressed kernel image size
  when upgrading to binutils 2.27 (bnc#1012628).
- btrfs: fix false EIO for missing device (bnc#1012628).
- btrfs: Explicitly handle btrfs_update_root failure
  (bnc#1012628).
- btrfs: undo writable superblocke when sprouting fails
  (bnc#1012628).
- btrfs: avoid null pointer dereference on fs_info when calling
  btrfs_crit (bnc#1012628).
- btrfs: tests: Fix a memory leak in error handling path in
  'run_test()' (bnc#1012628).
- qtnfmac: modify full Tx queue error reporting (bnc#1012628).
- mtd: spi-nor: stm32-quadspi: Fix uninitialized error return code
  (bnc#1012628).
- ARM64: dts: meson-gxbb-odroidc2: fix usb1 power supply
  (bnc#1012628).
- Bluetooth: btusb: Add new NFA344A entry (bnc#1012628).
- samples/bpf: adjust rlimit RLIMIT_MEMLOCK for xdp1
  (bnc#1012628).
- liquidio: fix kernel panic in VF driver (bnc#1012628).
- platform/x86: hp_accel: Add quirk for HP ProBook 440 G4
  (bnc#1012628).
- nvme: use kref_get_unless_zero in nvme_find_get_ns
  (bnc#1012628).
- l2tp: cleanup l2tp_tunnel_delete calls (bnc#1012628).
- xfs: fix log block underflow during recovery cycle verification
  (bnc#1012628).
- xfs: return a distinct error code value for IGET_INCORE cache
  misses (bnc#1012628).
- xfs: fix incorrect extent state in
  xfs_bmap_add_extent_unwritten_real (bnc#1012628).
- net: dsa: lan9303: Do not disable switch fabric port 0 at .probe
  (bnc#1012628).
- net: hns3: fix a bug in hclge_uninit_client_instance
  (bnc#1012628).
- net: hns3: add nic_client check when initialize roce base
  information (bnc#1012628).
- net: hns3: fix the bug of hns3_set_txbd_baseinfo (bnc#1012628).
- RDMA/cxgb4: Declare stag as __be32 (bnc#1012628).
- PCI: Detach driver before procfs & sysfs teardown on device
  remove (bnc#1012628).
- scsi: hisi_sas: fix the risk of freeing slot twice
  (bnc#1012628).
- scsi: hpsa: cleanup sas_phy structures in sysfs when unloading
  (bnc#1012628).
- scsi: hpsa: destroy sas transport properties before scsi_host
  (bnc#1012628).
- mfd: mxs-lradc: Fix error handling in mxs_lradc_probe()
  (bnc#1012628).
- net: hns3: fix the TX/RX ring.queue_index in hns3_ring_get_cfg
  (bnc#1012628).
- net: hns3: fix the bug when map buffer fail (bnc#1012628).
- net: hns3: fix a bug when alloc new buffer (bnc#1012628).
- serdev: ttyport: enforce tty-driver open() requirement
  (bnc#1012628).
- powerpc/perf/hv-24x7: Fix incorrect comparison in memord
  (bnc#1012628).
- powerpc/xmon: Check before calling xive functions (bnc#1012628).
- soc: mediatek: pwrap: fix compiler errors (bnc#1012628).
- ipv4: ipv4_default_advmss() should use route mtu (bnc#1012628).
- KVM: nVMX: Fix EPT switching advertising (bnc#1012628).
- tty fix oops when rmmod 8250 (bnc#1012628).
- dev/dax: fix uninitialized variable build warning (bnc#1012628).
- pinctrl: adi2: Fix Kconfig build problem (bnc#1012628).
- raid5: Set R5_Expanded on parity devices as well as data
  (bnc#1012628).
- IB/core: Fix use workqueue without WQ_MEM_RECLAIM (bnc#1012628).
- IB/core: Fix calculation of maximum RoCE MTU (bnc#1012628).
- vt6655: Fix a possible sleep-in-atomic bug in vt6655_suspend
  (bnc#1012628).
- IB/hfi1: Mask out A bit from psn trace (bnc#1012628).
- rtl8188eu: Fix a possible sleep-in-atomic bug in
  rtw_createbss_cmd (bnc#1012628).
- rtl8188eu: Fix a possible sleep-in-atomic bug in
  rtw_disassoc_cmd (bnc#1012628).
- nullb: fix error return code in null_init() (bnc#1012628).
- scsi: sd: change manage_start_stop to bool in sysfs interface
  (bnc#1012628).
- scsi: sd: change allow_restart to bool in sysfs interface
  (bnc#1012628).
- scsi: bfa: integer overflow in debugfs (bnc#1012628).
- raid5-ppl: check recovery_offset when performing ppl recovery
  (bnc#1012628).
- md-cluster: fix wrong condition check in raid1_write_request
  (bnc#1012628).
- xprtrdma: Don't defer fencing an async RPC's chunks
  (bnc#1012628).
- udf: Avoid overflow when session starts at large offset
  (bnc#1012628).
- macvlan: Only deliver one copy of the frame to the macvlan
  interface (bnc#1012628).
- IB/core: Fix endianness annotation in rdma_is_multicast_addr()
  (bnc#1012628).
- RDMA/cma: Avoid triggering undefined behavior (bnc#1012628).
- IB/ipoib: Grab rtnl lock on heavy flush when calling
  ndo_open/stop (bnc#1012628).
- icmp: don't fail on fragment reassembly time exceeded
  (bnc#1012628).
- lightnvm: pblk: prevent gc kicks when gc is not operational
  (bnc#1012628).
- lightnvm: pblk: fix changing GC group list for a line
  (bnc#1012628).
- lightnvm: pblk: use right flag for GC allocation (bnc#1012628).
- lightnvm: pblk: initialize debug stat counter (bnc#1012628).
- lightnvm: pblk: fix min size for page mempool (bnc#1012628).
- lightnvm: pblk: protect line bitmap while submitting meta io
  (bnc#1012628).
- ath9k: fix tx99 potential info leak (bnc#1012628).
- ath10k: fix core PCI suspend when WoWLAN is supported but
  disabled (bnc#1012628).
- ath10k: fix build errors with !CONFIG_PM (bnc#1012628).
- usb: musb: da8xx: fix babble condition handling (bnc#1012628).
- commit 674981b

-------------------------------------------------------------------
Tue Dec 19 02:20:44 CET 2017 - jeffm@suse.com

- Update to 4.15-rc4.
- Eliminated 1 patch.
- Config changes:
  - ARM:
    - QCOM_FALKOR_ERRATUM_E1041=y
  - Overlayfs:
    - OVERLAY_FS_REDIRECT_ALWAYS_FOLLOW=y (preserves existing behavior)
- commit ff8819c

-------------------------------------------------------------------
Sun Dec 17 23:11:47 CET 2017 - jslaby@suse.cz

- Linux 4.14.7 (bnc#1012628).
- net: qmi_wwan: add Quectel BG96 2c7c:0296 (bnc#1012628).
- net: thunderx: Fix TCP/UDP checksum offload for IPv6 pkts
  (bnc#1012628).
- net: thunderx: Fix TCP/UDP checksum offload for IPv4 pkts
  (bnc#1012628).
- net: realtek: r8169: implement set_link_ksettings()
  (bnc#1012628).
- s390/qeth: fix early exit from error path (bnc#1012628).
- tipc: fix memory leak in tipc_accept_from_sock() (bnc#1012628).
- vhost: fix skb leak in handle_rx() (bnc#1012628).
- rds: Fix NULL pointer dereference in __rds_rdma_map
  (bnc#1012628).
- sit: update frag_off info (bnc#1012628).
- tcp: add tcp_v4_fill_cb()/tcp_v4_restore_cb() (bnc#1012628).
- packet: fix crash in fanout_demux_rollover() (bnc#1012628).
- net/packet: fix a race in packet_bind() and packet_notifier()
  (bnc#1012628).
- tcp: remove buggy call to tcp_v6_restore_cb() (bnc#1012628).
- usbnet: fix alignment for frames with no ethernet header
  (bnc#1012628).
- net: remove hlist_nulls_add_tail_rcu() (bnc#1012628).
- stmmac: reset last TSO segment size after device open
  (bnc#1012628).
- tcp/dccp: block bh before arming time_wait timer (bnc#1012628).
- s390/qeth: build max size GSO skbs on L2 devices (bnc#1012628).
- s390/qeth: fix thinko in IPv4 multicast address tracking
  (bnc#1012628).
- s390/qeth: fix GSO throughput regression (bnc#1012628).
- tcp: use IPCB instead of TCP_SKB_CB in inet_exact_dif_match()
  (bnc#1012628).
- tipc: call tipc_rcv() only if bearer is up in tipc_udp_recv()
  (bnc#1012628).
- tcp: use current time in tcp_rcv_space_adjust() (bnc#1012628).
- net: sched: cbq: create block for q->link.block (bnc#1012628).
- tap: free skb if flags error (bnc#1012628).
- tcp: when scheduling TLP, time of RTO should account for
  current ACK (bnc#1012628).
- tun: free skb in early errors (bnc#1012628).
- net: ipv6: Fixup device for anycast routes during copy
  (bnc#1012628).
- tun: fix rcu_read_lock imbalance in tun_build_skb (bnc#1012628).
- net: accept UFO datagrams from tuntap and packet (bnc#1012628).
- net: openvswitch: datapath: fix data type in queue_gso_packets
  (bnc#1012628).
- cls_bpf: don't decrement net's refcount when offload fails
  (bnc#1012628).
- sctp: use right member as the param of list_for_each_entry
  (bnc#1012628).
- ipmi: Stop timers before cleaning up the module (bnc#1012628).
- usb: gadget: ffs: Forbid usb_ep_alloc_request from sleeping
  (bnc#1012628).
- fcntl: don't cap l_start and l_end values for F_GETLK64 in
  compat syscall (bnc#1012628).
- fix kcm_clone() (bnc#1012628).
- KVM: arm/arm64: vgic-its: Preserve the revious read from the
  pending table (bnc#1012628).
- kbuild: do not call cc-option before KBUILD_CFLAGS
  initialization (bnc#1012628).
- powerpc/powernv/idle: Round up latency and residency values
  (bnc#1012628).
- ipvlan: fix ipv6 outbound device (bnc#1012628).
- ide: ide-atapi: fix compile error with defining macro DEBUG
  (bnc#1012628).
- blk-mq: Avoid that request queue removal can trigger list
  corruption (bnc#1012628).
- nvmet-rdma: update queue list during ib_device removal
  (bnc#1012628).
- audit: Allow auditd to set pid to 0 to end auditing
  (bnc#1012628).
- audit: ensure that 'audit=1' actually enables audit for PID 1
  (bnc#1012628).
- dm raid: fix panic when attempting to force a raid to sync
  (bnc#1012628).
- md: free unused memory after bitmap resize (bnc#1012628).
- RDMA/cxgb4: Annotate r2 and stag as __be32 (bnc#1012628).
- x86/intel_rdt: Fix potential deadlock during resctrl unmount
  (bnc#1012628).
- Refresh patches.suse/supported-flag.
- commit 0598608

-------------------------------------------------------------------
Fri Dec 15 10:16:23 CET 2017 - jslaby@suse.cz

- x86/stacktrace: make clear the success paths (bnc#1058115).
- Refresh
  patches.suse/0003-x86-stacktrace-remove-STACKTRACE_DUMP_ONCE-from-__sa.patch.
- Refresh
  patches.suse/0004-x86-stacktrace-do-not-fail-for-ORC-with-regs-on-stac.patch.
- Delete
  patches.suse/0002-x86-stacktrace-remove-unwind_state-error.patch.
  Fix livepatch to succeed also for kthreads and idle tasks.
- commit 580e12c

-------------------------------------------------------------------
Thu Dec 14 10:42:26 CET 2017 - jslaby@suse.cz

- Linux 4.14.6 (bnc#1012628).
- usb: gadget: udc: renesas_usb3: fix number of the pipes
  (bnc#1012628).
- usb: gadget: core: Fix ->udc_set_speed() speed handling
  (bnc#1012628).
- serdev: ttyport: add missing receive_buf sanity checks
  (bnc#1012628).
- serdev: ttyport: fix NULL-deref on hangup (bnc#1012628).
- serdev: ttyport: fix tty locking in close (bnc#1012628).
- usb: f_fs: Force Reserved1=1 in OS_DESC_EXT_COMPAT
  (bnc#1012628).
- can: mcba_usb: fix device disconnect bug (bnc#1012628).
- can: peak/pci: fix potential bug when probe() fails
  (bnc#1012628).
- can: flexcan: fix VF610 state transition issue (bnc#1012628).
- can: ti_hecc: Fix napi poll return value for repoll
  (bnc#1012628).
- can: kvaser_usb: free buf in error paths (bnc#1012628).
- can: kvaser_usb: Fix comparison bug in
  kvaser_usb_read_bulk_callback() (bnc#1012628).
- can: kvaser_usb: ratelimit errors if incomplete messages are
  received (bnc#1012628).
- can: kvaser_usb: cancel urb on -EPIPE and -EPROTO (bnc#1012628).
- can: mcba_usb: cancel urb on -EPROTO (bnc#1012628).
- can: ems_usb: cancel urb on -EPIPE and -EPROTO (bnc#1012628).
- can: esd_usb2: cancel urb on -EPIPE and -EPROTO (bnc#1012628).
- can: usb_8dev: cancel urb on -EPIPE and -EPROTO (bnc#1012628).
- can: peak/pcie_fd: fix potential bug in restarting tx queue
  (bnc#1012628).
- virtio: release virtio index when fail to device_register
  (bnc#1012628).
- iio: stm32: fix adc/trigger link error (bnc#1012628).
- iio: health: max30102: Temperature should be in milli Celsius
  (bnc#1012628).
- iio: adc: cpcap: fix incorrect validation (bnc#1012628).
- iio: adc: meson-saradc: fix the bit_idx of the adc_en clock
  (bnc#1012628).
- iio: adc: meson-saradc: initialize the bandgap correctly on
  older SoCs (bnc#1012628).
- iio: adc: meson-saradc: Meson8 and Meson8b do not have REG11
  and REG13 (bnc#1012628).
- pinctrl: armada-37xx: Fix direction_output() callback behavior
  (bnc#1012628).
- Drivers: hv: vmbus: Fix a rescind issue (bnc#1012628).
- hv: kvp: Avoid reading past allocated blocks from KVP file
  (bnc#1012628).
- firmware: cleanup FIRMWARE_IN_KERNEL message (bnc#1012628).
- firmware: vpd: Destroy vpd sections in remove function
  (bnc#1012628).
- firmware: vpd: Tie firmware kobject to device lifetime
  (bnc#1012628).
- firmware: vpd: Fix platform driver and device
  registration/unregistration (bnc#1012628).
- isa: Prevent NULL dereference in isa_bus driver callbacks
  (bnc#1012628).
- scsi: dma-mapping: always provide dma_get_cache_alignment
  (bnc#1012628).
- scsi: use dma_get_cache_alignment() as minimum DMA alignment
  (bnc#1012628).
- scsi: libsas: align sata_device's rps_resp on a cacheline
  (bnc#1012628).
- efi: Move some sysfs files to be read-only by root
  (bnc#1012628).
- efi/esrt: Use memunmap() instead of kfree() to free the
  remapping (bnc#1012628).
- ASN.1: fix out-of-bounds read when parsing indefinite length
  item (bnc#1012628).
- ASN.1: check for error from ASN1_OP_END__ACT actions
  (bnc#1012628).
- KEYS: add missing permission check for request_key() destination
  (bnc#1012628).
- KEYS: reject NULL restriction string when type is specified
  (bnc#1012628).
- X.509: reject invalid BIT STRING for subjectPublicKey
  (bnc#1012628).
- X.509: fix comparisons of ->pkey_algo (bnc#1012628).
- x86/idt: Load idt early in start_secondary (bnc#1012628).
- x86/PCI: Make broadcom_postcore_init() check acpi_disabled
  (bnc#1012628).
- KVM: x86: fix APIC page invalidation (bnc#1012628).
- btrfs: fix missing error return in btrfs_drop_snapshot
  (bnc#1012628).
- btrfs: handle errors while updating refcounts in
  update_ref_for_cow (bnc#1012628).
- ALSA: hda/realtek - New codec support for ALC257 (bnc#1012628).
- ALSA: pcm: prevent UAF in snd_pcm_info (bnc#1012628).
- ALSA: seq: Remove spurious WARN_ON() at timer check
  (bnc#1012628).
- ALSA: usb-audio: Fix out-of-bound error (bnc#1012628).
- ALSA: usb-audio: Add check return value for usb_string()
  (bnc#1012628).
- iommu/vt-d: Fix scatterlist offset handling (bnc#1012628).
- smp/hotplug: Move step CPUHP_AP_SMPCFD_DYING to the correct
  place (bnc#1012628).
- s390: always save and restore all registers on context switch
  (bnc#1012628).
- s390/mm: fix off-by-one bug in 5-level page table handling
  (bnc#1012628).
- s390: fix compat system call table (bnc#1012628).
- KVM: s390: Fix skey emulation permission check (bnc#1012628).
- Revert "powerpc: Do not call ppc_md.panic in fadump panic
  notifier" (bnc#1012628).
- powerpc/64s: Initialize ISAv3 MMU registers before setting
  partition table (bnc#1012628).
- iwlwifi: mvm: mark MIC stripped MPDUs (bnc#1012628).
- iwlwifi: mvm: don't use transmit queue hang detection when it
  is not possible (bnc#1012628).
- iwlwifi: mvm: flush queue before deleting ROC (bnc#1012628).
- iwlwifi: add new cards for 9260 and 22000 series (bnc#1012628).
- iwlwifi: mvm: fix packet injection (bnc#1012628).
- iwlwifi: mvm: enable RX offloading with TKIP and WEP
  (bnc#1012628).
- brcmfmac: change driver unbind order of the sdio function
  devices (bnc#1012628).
- kdb: Fix handling of kallsyms_symbol_next() return value
  (bnc#1012628).
- md/r5cache: move mddev_lock() out of r5c_journal_mode_set()
  (bnc#1012628).
- drm/exynos: gem: Drop NONCONTIG flag for buffers allocated
  without IOMMU (bnc#1012628).
- drm/i915: Fix vblank timestamp/frame counter jumps on gen2
  (bnc#1012628).
- media: dvb: i2c transfers over usb cannot be done from stack
  (bnc#1012628).
- media: rc: sir_ir: detect presence of port (bnc#1012628).
- media: rc: partial revert of "media: rc: per-protocol repeat
  period" (bnc#1012628).
- arm64: KVM: fix VTTBR_BADDR_MASK BUG_ON off-by-one
  (bnc#1012628).
- arm: KVM: Fix VTTBR_BADDR_MASK BUG_ON off-by-one (bnc#1012628).
- KVM: VMX: remove I/O port 0x80 bypass on Intel hosts
  (bnc#1012628).
- KVM: arm/arm64: Fix broken GICH_ELRSR big endian conversion
  (bnc#1012628).
- KVM: arm/arm64: vgic-irqfd: Fix MSI entry allocation
  (bnc#1012628).
- KVM: arm/arm64: vgic: Preserve the revious read from the
  pending table (bnc#1012628).
- KVM: arm/arm64: vgic-its: Check result of allocation before use
  (bnc#1012628).
- arm64: fpsimd: Prevent registers leaking from dead tasks
  (bnc#1012628).
- arm64: SW PAN: Point saved ttbr0 at the zero page when switching
  to init_mm (bnc#1012628).
- arm64: SW PAN: Update saved ttbr0 value on enter_lazy_tlb
  (bnc#1012628).
- Revert "ARM: dts: imx53: add srtc node" (bnc#1012628).
- bus: arm-cci: Fix use of smp_processor_id() in preemptible
  context (bnc#1012628).
- bus: arm-ccn: Check memory allocation failure (bnc#1012628).
- bus: arm-ccn: Fix use of smp_processor_id() in preemptible
  context (bnc#1012628).
- bus: arm-ccn: fix module unloading Error: Removing state 147
  which has instances left (bnc#1012628).
- IB/core: Avoid unnecessary return value check (bnc#1012628).
- IB/core: Only enforce security for InfiniBand (bnc#1012628).
- crypto: talitos - fix AEAD test failures (bnc#1012628).
- crypto: talitos - fix memory corruption on SEC2 (bnc#1012628).
- crypto: talitos - fix setkey to check key weakness
  (bnc#1012628).
- crypto: talitos - fix AEAD for sha224 on non sha224 capable
  chips (bnc#1012628).
- crypto: talitos - fix use of sg_link_tbl_len (bnc#1012628).
- crypto: talitos - fix ctr-aes-talitos (bnc#1012628).
- ARM: BUG if jumping to usermode address in kernel mode
  (bnc#1012628).
- ARM: avoid faulting on qemu (bnc#1012628).
- irqchip/qcom: Fix u32 comparison with value less than zero
  (bnc#1012628).
- net/smc: use sk_rcvbuf as start for rmb creation (bnc#1012628).
- kbuild: pkg: use --transform option to prefix paths in tar
  (bnc#1012628).
- coccinelle: fix parallel build with CHECK=scripts/coccicheck
  (bnc#1012628).
- powerpc/perf: Fix pmu_count to count only nest imc pmus
  (bnc#1012628).
- apparmor: fix leak of null profile name if profile allocation
  fails (bnc#1012628).
- x86/mpx/selftests: Fix up weird arrays (bnc#1012628).
- mac80211_hwsim: Fix memory leak in hwsim_new_radio_nl()
  (bnc#1012628).
- gre6: use log_ecn_error module parameter in ip6_tnl_rcv()
  (bnc#1012628).
- route: also update fnhe_genid when updating a route cache
  (bnc#1012628).
- route: update fnhe_expires for redirect when the fnhe exists
  (bnc#1012628).
- rsi: fix memory leak on buf and usb_reg_buf (bnc#1012628).
- drivers/rapidio/devices/rio_mport_cdev.c: fix resource leak
  in error handling path in 'rio_dma_transfer()' (bnc#1012628).
- pipe: match pipe_max_size data type with procfs (bnc#1012628).
- lib/genalloc.c: make the avail variable an atomic_long_t
  (bnc#1012628).
- dynamic-debug-howto: fix optional/omitted ending line number
  to be LARGE instead of 0 (bnc#1012628).
- NFS: Fix a typo in nfs_rename() (bnc#1012628).
- sunrpc: Fix rpc_task_begin trace point (bnc#1012628).
- nfp: inherit the max_mtu from the PF netdev (bnc#1012628).
- nfp: fix flower offload metadata flag usage (bnc#1012628).
- xfs: fix forgotten rcu read unlock when skipping inode reclaim
  (bnc#1012628).
- dt-bindings: usb: fix reg-property port-number range
  (bnc#1012628).
- block: wake up all tasks blocked in get_request() (bnc#1012628).
- sparc64/mm: set fields in deferred pages (bnc#1012628).
- zsmalloc: calling zs_map_object() from irq is a bug
  (bnc#1012628).
- slub: fix sysfs duplicate filename creation when slub_debug=O
  (bnc#1012628).
- sctp: do not free asoc when it is already dead in sctp_sendmsg
  (bnc#1012628).
- sctp: use the right sk after waking up from wait_buf sleep
  (bnc#1012628).
- fcntl: don't leak fd reference when fixup_compat_flock fails
  (bnc#1012628).
- geneve: fix fill_info when link down (bnc#1012628).
- bpf: fix lockdep splat (bnc#1012628).
- clk: stm32h7: fix test of clock config (bnc#1012628).
- clk: sunxi-ng: a83t: Fix i2c buses bits (bnc#1012628).
- clk: qcom: common: fix legacy board-clock registration
  (bnc#1012628).
- clk: uniphier: fix DAPLL2 clock rate of Pro5 (bnc#1012628).
- clk: hi3660: fix incorrect uart3 clock freqency (bnc#1012628).
- mailbox: mailbox-test: don't rely on rx_buffer content to
  signal data ready (bnc#1012628).
- kbuild: rpm-pkg: fix jobserver unavailable warning
  (bnc#1012628).
- atm: horizon: Fix irq release error (bnc#1012628).
- jump_label: Invoke jump_label_test() via early_initcall()
  (bnc#1012628).
- tls: Use kzalloc for aead_request allocation (bnc#1012628).
- xfrm: Copy policy family in clone_policy (bnc#1012628).
- f2fs: fix to clear FI_NO_PREALLOC (bnc#1012628).
- bnxt_re: changing the ip address shouldn't affect new
  connections (bnc#1012628).
- IB/mlx4: Increase maximal message size under UD QP
  (bnc#1012628).
- IB/mlx5: Assign send CQ and recv CQ of UMR QP (bnc#1012628).
- afs: Fix total-length calculation for multiple-page send
  (bnc#1012628).
- afs: Connect up the CB.ProbeUuid (bnc#1012628).
- commit 45f120a

-------------------------------------------------------------------
Wed Dec 13 15:39:44 CET 2017 - msuchanek@suse.de

- s390/sclp: disable FORTIFY_SOURCE for early sclp code (-).
- commit 62412b6

-------------------------------------------------------------------
Tue Dec 12 19:55:02 CET 2017 - bp@suse.de

- x86/microcode/AMD: Add support for fam17h microcode loading
  (bsc#1068032).
- commit c1a1611

-------------------------------------------------------------------
Tue Dec 12 10:36:33 CET 2017 - mkubecek@suse.cz

- netfilter: xt_osf: Add missing permission checks (CVE-2017-17450
  bsc#1071695).
- commit a1ac243

-------------------------------------------------------------------
Tue Dec 12 10:30:19 CET 2017 - mkubecek@suse.cz

- netlink: Add netns check on taps (CVE-2017-17449 bsc#1071694).
- commit 9e5e383

-------------------------------------------------------------------
Tue Dec 12 10:27:00 CET 2017 - mkubecek@suse.cz

- netfilter: nfnetlink_cthelper: Add missing permission checks
  (CVE-2017-17448 bsc#1071693).
- commit a208c29

-------------------------------------------------------------------
Tue Dec 12 09:43:24 CET 2017 - mkubecek@suse.cz

- dccp: CVE-2017-8824: use-after-free in DCCP code (CVE-2017-8824
  bsc#1070771).
- commit bd1657a

-------------------------------------------------------------------
Mon Dec 11 09:31:08 CET 2017 - jslaby@suse.cz

- Linux 4.14.5 (bnc#1012628).
- Update config files.
- locking/refcounts: Do not force refcount_t usage as GPL-only
  export (bnc#1012628).
- usb: host: fix incorrect updating of offset (bnc#1012628).
- USB: usbfs: Filter flags passed in from user space
  (bnc#1012628).
- USB: core: Add type-specific length check of BOS descriptors
  (bnc#1012628).
- usb: xhci: fix panic in xhci_free_virt_devices_depth_first
  (bnc#1012628).
- xhci: Don't show incorrect WARN message about events for empty
  rings (bnc#1012628).
- USB: ulpi: fix bus-node lookup (bnc#1012628).
- usb: hub: Cycle HUB power when initialization fails
  (bnc#1012628).
- staging: ccree: fix leak of import() after init() (bnc#1012628).
- dma-buf/sw_sync: force signal all unsignaled fences on dying
  timeline (bnc#1012628).
- powerpc/kprobes: Disable preemption before invoking probe
  handler for optprobes (bnc#1012628).
- powerpc/jprobes: Disable preemption when triggered through
  ftrace (bnc#1012628).
- locking/refcounts, x86/asm: Enable CONFIG_ARCH_HAS_REFCOUNT
  (bnc#1012628).
- iio: multiplexer: add NULL check on devm_kzalloc() and
  devm_kmemdup() return values (bnc#1012628).
- iio: adc: ti-ads1015: add 10% to conversion wait time
  (bnc#1012628).
- mm, x86/mm: Fix performance regression in get_user_pages_fast()
  (bnc#1012628).
- perf tools: Fix leaking rec_argv in error cases (bnc#1012628).
- tools include: Do not use poison with C++ (bnc#1012628).
- s390/ptrace: fix guarded storage regset handling (bnc#1012628).
- locking/refcounts, x86/asm: Use unique .text section for
  refcount exceptions (bnc#1012628).
- kprobes/x86: Disable preemption in ftrace-based jprobes
  (bnc#1012628).
- perf test attr: Fix python error on empty result (bnc#1012628).
- perf test attr: Fix ignored test case result (bnc#1012628).
- staging: fsl-mc/dpio: Fix incorrect comparison (bnc#1012628).
- serial: imx: Update cached mctrl value when changing RTS
  (bnc#1012628).
- usbip: tools: Install all headers needed for libusbip
  development (bnc#1012628).
- serial: sh-sci: suppress warning for ports without dma channels
  (bnc#1012628).
- sysrq : fix Show Regs call trace on ARM (bnc#1012628).
- usb: xhci: Return error when host is dead in xhci_disable_slot()
  (bnc#1012628).
- ARM: cpuidle: Correct driver unregistration if init fails
  (bnc#1012628).
- staging: rtl8822be: Keep array subscript no lower than zero
  (bnc#1012628).
- staging: fsl-dpaa2/eth: Account for Rx FD buffers on error path
  (bnc#1012628).
- usb: mtu3: fix error return code in ssusb_gadget_init()
  (bnc#1012628).
- EDAC, sb_edac: Fix missing break in switch (bnc#1012628).
- dt-bindings: timer: renesas, cmt: Fix SoC-specific compatible
  values (bnc#1012628).
- clocksource/drivers/arm_arch_timer: Validate CNTFRQ after
  enabling frame (bnc#1012628).
- x86/entry: Use SYSCALL_DEFINE() macros for sys_modify_ldt()
  (bnc#1012628).
- kprobes: Use synchronize_rcu_tasks() for optprobe with
  CONFIG_PREEMPT=y (bnc#1012628).
- serial: 8250: Preserve DLD[7:4] for PORT_XR17V35X (bnc#1012628).
- x86/intel_rdt: Fix potential deadlock during resctrl mount
  (bnc#1012628).
- x86/intel_rdt: Initialize bitmask of shareable resource if
  CDP enabled (bnc#1012628).
- PCI: dra7xx: Create functional dependency between PCIe and PHY
  (bnc#1012628).
- usb: phy: tahvo: fix error handling in tahvo_usb_probe()
  (bnc#1012628).
- perf/core: Fix __perf_read_group_add() locking (bnc#1012628).
- hwmon: (pmbus/core) Prevent unintentional setting of page to
  0xFF (bnc#1012628).
- mmc: sdhci-msm: fix issue with power irq (bnc#1012628).
- mmc: tmio: check mmc_regulator_get_supply return value
  (bnc#1012628).
- spi: spi-axi: fix potential use-after-free after deregistration
  (bnc#1012628).
- spi: sh-msiof: Fix DMA transfer size check (bnc#1012628).
- staging: rtl8188eu: avoid a null dereference on pmlmepriv
  (bnc#1012628).
- staging: rtl8822be: fix wrong dma unmap len (bnc#1012628).
- serial: 8250_fintek: Fix rs485 disablement on invalid ioctl()
  (bnc#1012628).
- m68k: fix ColdFire node shift size calculation (bnc#1012628).
- staging: greybus: loopback: Fix iteration count on async path
  (bnc#1012628).
- selftests/x86/ldt_gdt: Robustify against set_thread_area()
  and LAR oddities (bnc#1012628).
- selftests/x86/ldt_get: Add a few additional tests for limits
  (bnc#1012628).
- s390/pci: do not require AIS facility (bnc#1012628).
- PM / Domains: Fix genpd to deal with drivers returning 1 from
  ->prepare() (bnc#1012628).
- s390: vfio-ccw: Do not attempt to free no-op, test and tic cda
  (bnc#1012628).
- ima: fix hash algorithm initialization (bnc#1012628).
- MIPS: Add custom serial.h with BASE_BAUD override for generic
  kernel (bnc#1012628).
- serial: 8250_early: Only set divisor if valid clk & baud
  (bnc#1012628).
- USB: serial: usb_debug: add new USB device id (bnc#1012628).
- USB: serial: option: add Quectel BG96 id (bnc#1012628).
- ANDROID: binder: fix transaction leak (bnc#1012628).
- serial: 8250_pci: Add Amazon PCI serial device ID (bnc#1012628).
- usb: quirks: Add no-lpm quirk for KY-688 USB 3.1 Type-C Hub
  (bnc#1012628).
- uas: Always apply US_FL_NO_ATA_1X quirk to Seagate devices
  (bnc#1012628).
- usbip: Fix USB device hang due to wrong enabling of
  scatter-gather (bnc#1012628).
- usbip: fix usbip attach to find a port that matches the
  requested speed (bnc#1012628).
- s390/runtime instrumentation: simplify task exit handling
  (bnc#1012628).
- drm/amdgpu: Use unsigned ring indices in amdgpu_queue_mgr_map
  (bnc#1012628).
- drm/fsl-dcu: enable IRQ before drm_atomic_helper_resume()
  (bnc#1012628).
- drm/fsl-dcu: avoid disabling pixel clock twice on suspend
  (bnc#1012628).
- commit c4edabf

-------------------------------------------------------------------
Mon Dec 11 03:44:03 CET 2017 - jeffm@suse.com

- Update to 4.15-rc3.
- Eliminated 1 patch.
- commit 383d72f

-------------------------------------------------------------------
Sat Dec  9 20:12:16 CET 2017 - afaerber@suse.de

- config: armv7hl: Enable SUN4I_A10_CCU for Allwinner A20 (boo#1072032)
- commit 170d177

-------------------------------------------------------------------
Fri Dec  8 14:10:52 CET 2017 - msuchanek@suse.de

- Add undefine _unique_build_ids (bsc#964063)
- commit 47e91a1

-------------------------------------------------------------------
Tue Dec  5 15:58:24 CET 2017 - jslaby@suse.cz

- Linux 4.14.4 (bnc#1012628).
- platform/x86: hp-wmi: Fix tablet mode detection for convertibles
  (bnc#1012628).
- mm, memory_hotplug: do not back off draining pcp free pages
  from kworker context (bnc#1012628).
- mm, oom_reaper: gather each vma to prevent leaking TLB entry
  (bnc#1012628).
- mm, thp: Do not make page table dirty unconditionally in
  touch_p[mu]d() (bnc#1012628).
- mm/cma: fix alloc_contig_range ret code/potential leak
  (bnc#1012628).
- mm: fix device-dax pud write-faults triggered by
  get_user_pages() (bnc#1012628).
- mm, hugetlbfs: introduce ->split() to vm_operations_struct
  (bnc#1012628).
- device-dax: implement ->split() to catch invalid munmap attempts
  (bnc#1012628).
- mm: introduce get_user_pages_longterm (bnc#1012628).
- mm: fail get_vaddr_frames() for filesystem-dax mappings
  (bnc#1012628).
- v4l2: disable filesystem-dax mapping support (bnc#1012628).
- IB/core: disable memory registration of filesystem-dax vmas
  (bnc#1012628).
- exec: avoid RLIMIT_STACK races with prlimit() (bnc#1012628).
- mm/madvise.c: fix madvise() infinite loop under special
  circumstances (bnc#1012628).
- mm: migrate: fix an incorrect call of prep_transhuge_page()
  (bnc#1012628).
- mm, memcg: fix mem_cgroup_swapout() for THPs (bnc#1012628).
- fs/fat/inode.c: fix sb_rdonly() change (bnc#1012628).
- autofs: revert "autofs: take more care to not update last_used
  on path walk" (bnc#1012628).
- autofs: revert "autofs: fix AT_NO_AUTOMOUNT not being honored"
  (bnc#1012628).
- mm/hugetlb: fix NULL-pointer dereference on 5-level paging
  machine (bnc#1012628).
- btrfs: clear space cache inode generation always (bnc#1012628).
- nfsd: Fix stateid races between OPEN and CLOSE (bnc#1012628).
- nfsd: Fix another OPEN stateid race (bnc#1012628).
- nfsd: fix panic in posix_unblock_lock called from
  nfs4_laundromat (bnc#1012628).
- crypto: algif_aead - skip SGL entries with NULL page
  (bnc#1012628).
- crypto: af_alg - remove locking in async callback (bnc#1012628).
- crypto: skcipher - Fix skcipher_walk_aead_common (bnc#1012628).
- lockd: lost rollback of set_grace_period() in lockd_down_net()
  (bnc#1012628).
- s390: revert ELF_ET_DYN_BASE base changes (bnc#1012628).
- drm: omapdrm: Fix DPI on platforms using the DSI VDDS
  (bnc#1012628).
- omapdrm: hdmi4: Correct the SoC revision matching (bnc#1012628).
- arm64: module-plts: factor out PLT generation code for ftrace
  (bnc#1012628).
- arm64: ftrace: emit ftrace-mod.o contents through code
  (bnc#1012628).
- powerpc/powernv: Fix kexec crashes caused by tlbie tracing
  (bnc#1012628).
- powerpc/kexec: Fix kexec/kdump in P9 guest kernels
  (bnc#1012628).
- KVM: x86: pvclock: Handle first-time write to pvclock-page
  contains random junk (bnc#1012628).
- KVM: x86: Exit to user-mode on #UD intercept when emulator
  requires (bnc#1012628).
- KVM: x86: inject exceptions produced by x86_decode_insn
  (bnc#1012628).
- KVM: lapic: Split out x2apic ldr calculation (bnc#1012628).
- KVM: lapic: Fixup LDR on load in x2apic (bnc#1012628).
- mmc: block: Fix missing blk_put_request() (bnc#1012628).
- mmc: block: Check return value of blk_get_request()
  (bnc#1012628).
- mmc: core: Do not leave the block driver in a suspended state
  (bnc#1012628).
- mmc: block: Ensure that debugfs files are removed (bnc#1012628).
- mmc: core: prepend 0x to pre_eol_info entry in sysfs
  (bnc#1012628).
- mmc: core: prepend 0x to OCR entry in sysfs (bnc#1012628).
- ACPI / EC: Fix regression related to PM ops support in ECDT
  device (bnc#1012628).
- eeprom: at24: fix reading from 24MAC402/24MAC602 (bnc#1012628).
- eeprom: at24: correctly set the size for at24mac402
  (bnc#1012628).
- eeprom: at24: check at24_read/write arguments (bnc#1012628).
- i2c: i801: Fix Failed to allocate irq -2147483648 error
  (bnc#1012628).
- cxl: Check if vphb exists before iterating over AFU devices
  (bnc#1012628).
- bcache: Fix building error on MIPS (bnc#1012628).
- bcache: only permit to recovery read error when cache device
  is clean (bnc#1012628).
- bcache: recover data from backing when data is clean
  (bnc#1012628).
- hwmon: (jc42) optionally try to disable the SMBUS timeout
  (bnc#1012628).
- nvme-pci: add quirk for delay before CHK RDY for WDC SN200
  (bnc#1012628).
- Revert "drm/radeon: dont switch vt on suspend" (bnc#1012628).
- drm/amdgpu: potential uninitialized variable in
  amdgpu_vce_ring_parse_cs() (bnc#1012628).
- drm/amdgpu: Potential uninitialized variable in
  amdgpu_vm_update_directories() (bnc#1012628).
- drm/amdgpu: correct reference clock value on vega10
  (bnc#1012628).
- drm/amdgpu: fix error handling in amdgpu_bo_do_create
  (bnc#1012628).
- drm/amdgpu: Properly allocate VM invalidate eng v2
  (bnc#1012628).
- drm/amdgpu: Remove check which is not valid for certain VBIOS
  (bnc#1012628).
- drm/ttm: fix ttm_bo_cleanup_refs_or_queue once more
  (bnc#1012628).
- dma-buf: make reservation_object_copy_fences rcu save
  (bnc#1012628).
- drm/amdgpu: reserve root PD while releasing it (bnc#1012628).
- drm/ttm: Always and only destroy bo->ttm_resv in
  ttm_bo_release_list (bnc#1012628).
- drm/vblank: Fix flip event vblank count (bnc#1012628).
- drm/vblank: Tune drm_crtc_accurate_vblank_count() WARN down
  to a debug (bnc#1012628).
- drm/tilcdc: Precalculate total frametime in
  tilcdc_crtc_set_mode() (bnc#1012628).
- drm/radeon: fix atombios on big endian (bnc#1012628).
- drm/panel: simple: Add missing panel_simple_unprepare() calls
  (bnc#1012628).
- drm/hisilicon: Ensure LDI regs are properly configured
  (bnc#1012628).
- drm/ttm: once more fix ttm_buffer_object_transfer (bnc#1012628).
- drm/amd/pp: fix typecast error in powerplay (bnc#1012628).
- drm/fb_helper: Disable all crtc's when initial setup fails
  (bnc#1012628).
- drm/fsl-dcu: Don't set connector DPMS property (bnc#1012628).
- drm/edid: Don't send non-zero YQ in AVI infoframe for HDMI
  1.x sinks (bnc#1012628).
- drm/amdgpu: move UVD/VCE and VCN structure out from union
  (bnc#1012628).
- drm/amdgpu: Set adev->vcn.irq.num_types for VCN (bnc#1012628).
- include/linux/compiler-clang.h: handle randomizable anonymous
  structs (bnc#1012628).
- IB/core: Do not warn on lid conversions for OPA (bnc#1012628).
- IB/hfi1: Do not warn on lid conversions for OPA (bnc#1012628).
- e1000e: fix the use of magic numbers for buffer overrun issue
  (bnc#1012628).
- md: forbid a RAID5 from having both a bitmap and a journal
  (bnc#1012628).
- drm/i915: Fix false-positive assert_rpm_wakelock_held in
  i915_pmic_bus_access_notifier v2 (bnc#1012628).
- drm/i915: Re-register PMIC bus access notifier on runtime resume
  (bnc#1012628).
- drm/i915/fbdev: Serialise early hotplug events with async
  fbdev config (bnc#1012628).
- drm/i915/gvt: Correct ADDR_4K/2M/1G_MASK definition
  (bnc#1012628).
- drm/i915: Don't try indexed reads to alternate slave addresses
  (bnc#1012628).
- drm/i915: Prevent zero length "index" write (bnc#1012628).
- Revert "x86/entry/64: Add missing irqflags tracing to
  native_load_gs_index()" (bnc#1012628).
- commit b29439c

-------------------------------------------------------------------
Tue Dec  5 10:13:14 CET 2017 - jslaby@suse.cz

- x86/stacktrace: do now unwind after user regs (bnc#1058115).
- x86/stacktrace: remove unwind_state->error (bnc#1058115).
- x86/stacktrace: remove STACKTRACE_DUMP_ONCE from
  __save_stack_trace_reliable (bnc#1058115).
- x86/stacktrace: do not fail for ORC with regs on stack
  (bnc#1058115).
  More make-ORC-reliable patches.
- commit a6a5b05

-------------------------------------------------------------------
Mon Dec  4 16:10:35 CET 2017 - jeffm@suse.com

- Update to 4.15-rc2.
- Eliminated 2 patches.
- commit 68549b6

-------------------------------------------------------------------
Thu Nov 30 10:05:48 CET 2017 - jslaby@suse.cz

- Linux 4.14.3 (bnc#1012628).
- s390: fix transactional execution control register handling
  (bnc#1012628).
- s390/noexec: execute kexec datamover without DAT (bnc#1012628).
- s390/runtime instrumention: fix possible memory corruption
  (bnc#1012628).
- s390/guarded storage: fix possible memory corruption
  (bnc#1012628).
- s390/disassembler: add missing end marker for e7 table
  (bnc#1012628).
- s390/disassembler: increase show_code buffer size (bnc#1012628).
- ACPI / PM: Fix acpi_pm_notifier_lock vs flush_workqueue()
  deadlock (bnc#1012628).
- ACPI / EC: Fix regression related to triggering source of EC
  event handling (bnc#1012628).
- cpufreq: schedutil: Reset cached_raw_freq when not in sync
  with next_freq (bnc#1012628).
- serdev: fix registration of second slave (bnc#1012628).
- sched: Make resched_cpu() unconditional (bnc#1012628).
- lib/mpi: call cond_resched() from mpi_powm() loop (bnc#1012628).
- x86/boot: Fix boot failure when SMP MP-table is based at 0
  (bnc#1012628).
- x86/decoder: Add new TEST instruction pattern (bnc#1012628).
- x86/entry/64: Fix entry_SYSCALL_64_after_hwframe() IRQ tracing
  (bnc#1012628).
- x86/entry/64: Add missing irqflags tracing to
  native_load_gs_index() (bnc#1012628).
- perf/x86/intel: Hide TSX events when RTM is not supported
  (bnc#1012628).
- arm64: Implement arch-specific pte_access_permitted()
  (bnc#1012628).
- ARM: 8722/1: mm: make STRICT_KERNEL_RWX effective for LPAE
  (bnc#1012628).
- ARM: 8721/1: mm: dump: check hardware RO bit for LPAE
  (bnc#1012628).
- uapi: fix linux/tls.h userspace compilation error (bnc#1012628).
- uapi: fix linux/rxrpc.h userspace compilation errors
  (bnc#1012628).
- MIPS: cmpxchg64() and HAVE_VIRT_CPU_ACCOUNTING_GEN don't work
  for 32-bit SMP (bnc#1012628).
- MIPS: ralink: Fix MT7628 pinmux (bnc#1012628).
- MIPS: ralink: Fix typo in mt7628 pinmux function (bnc#1012628).
- net: mvneta: fix handling of the Tx descriptor counter
  (bnc#1012628).
- nbd: wait uninterruptible for the dead timeout (bnc#1012628).
- nbd: don't start req until after the dead connection logic
  (bnc#1012628).
- PM / OPP: Add missing of_node_put(np) (bnc#1012628).
- PCI/ASPM: Account for downstream device's Port
  Common_Mode_Restore_Time (bnc#1012628).
- PCI/ASPM: Use correct capability pointer to program
  LTR_L1.2_THRESHOLD (bnc#1012628).
- PCI: hv: Use effective affinity mask (bnc#1012628).
- PCI: Set Cavium ACS capability quirk flags to assert RR/CR/SV/UF
  (bnc#1012628).
- PCI: Apply Cavium ThunderX ACS quirk to more Root Ports
  (bnc#1012628).
- ALSA: hda: Add Raven PCI ID (bnc#1012628).
- dm integrity: allow unaligned bv_offset (bnc#1012628).
- dm cache: fix race condition in the writeback mode overwrite_bio
  optimisation (bnc#1012628).
- dm crypt: allow unaligned bv_offset (bnc#1012628).
- dm zoned: ignore last smaller runt zone (bnc#1012628).
- dm mpath: remove annoying message of 'blk_get_request()
  returned -11' (bnc#1012628).
- dm bufio: fix integer overflow when limiting maximum cache size
  (bnc#1012628).
- ovl: Put upperdentry if ovl_check_origin() fails (bnc#1012628).
- dm: allocate struct mapped_device with kvzalloc (bnc#1012628).
- sched/rt: Simplify the IPI based RT balancing logic
  (bnc#1012628).
- MIPS: pci: Remove KERN_WARN instance inside the mt7620 driver
  (bnc#1012628).
- dm: fix race between dm_get_from_kobject() and __dm_destroy()
  (bnc#1012628).
- dm: discard support requires all targets in a table support
  discards (bnc#1012628).
- MIPS: Fix odd fp register warnings with MIPS64r2 (bnc#1012628).
- MIPS: Fix MIPS64 FP save/restore on 32-bit kernels
  (bnc#1012628).
- MIPS: dts: remove bogus bcm96358nb4ser.dtb from dtb-y entry
  (bnc#1012628).
- MIPS: Fix an n32 core file generation regset support regression
  (bnc#1012628).
- MIPS: BCM47XX: Fix LED inversion for WRT54GSv1 (bnc#1012628).
- MIPS: math-emu: Fix final emulation phase for certain
  instructions (bnc#1012628).
- rt2x00usb: mark device removed when get ENOENT usb error
  (bnc#1012628).
- mm/z3fold.c: use kref to prevent page free/compact race
  (bnc#1012628).
- autofs: don't fail mount for transient error (bnc#1012628).
- nilfs2: fix race condition that causes file system corruption
  (bnc#1012628).
- fscrypt: lock mutex before checking for bounce page pool
  (bnc#1012628).
- eCryptfs: use after free in ecryptfs_release_messaging()
  (bnc#1012628).
- libceph: don't WARN() if user tries to add invalid key
  (bnc#1012628).
- bcache: check ca->alloc_thread initialized before wake up it
  (bnc#1012628).
- fs: guard_bio_eod() needs to consider partitions (bnc#1012628).
- fanotify: fix fsnotify_prepare_user_wait() failure
  (bnc#1012628).
- isofs: fix timestamps beyond 2027 (bnc#1012628).
- btrfs: change how we decide to commit transactions during
  flushing (bnc#1012628).
- f2fs: expose some sectors to user in inline data or dentry case
  (bnc#1012628).
- NFS: Fix typo in nomigration mount option (bnc#1012628).
- NFS: Revert "NFS: Move the flock open mode check into
  nfs_flock()" (bnc#1012628).
- nfs: Fix ugly referral attributes (bnc#1012628).
- NFS: Avoid RCU usage in tracepoints (bnc#1012628).
- NFS: revalidate "." etc correctly on "open" (bnc#1012628).
- nfsd: deal with revoked delegations appropriately (bnc#1012628).
- rtlwifi: rtl8192ee: Fix memory leak when loading firmware
  (bnc#1012628).
- rtlwifi: fix uninitialized rtlhal->last_suspend_sec time
  (bnc#1012628).
- iwlwifi: fix firmware names for 9000 and A000 series hw
  (bnc#1012628).
- md: fix deadlock error in recent patch (bnc#1012628).
- md: don't check MD_SB_CHANGE_CLEAN in md_allow_write
  (bnc#1012628).
- Bluetooth: btqcomsmd: Add support for BD address setup
  (bnc#1012628).
- md/bitmap: revert a patch (bnc#1012628 bsc#1062597).
- fsnotify: clean up fsnotify_prepare/finish_user_wait()
  (bnc#1012628).
- fsnotify: pin both inode and vfsmount mark (bnc#1012628).
- fsnotify: fix pinning group in fsnotify_prepare_user_wait()
  (bnc#1012628).
- ata: fixes kernel crash while tracing ata_eh_link_autopsy event
  (bnc#1012628).
- ext4: fix interaction between i_size, fallocate, and delalloc
  after a crash (bnc#1012628).
- ext4: prevent data corruption with inline data + DAX
  (bnc#1012628).
- ext4: prevent data corruption with journaling + DAX
  (bnc#1012628).
- ALSA: pcm: update tstamp only if audio_tstamp changed
  (bnc#1012628).
- ALSA: usb-audio: Add sanity checks to FE parser (bnc#1012628).
- ALSA: usb-audio: Fix potential out-of-bound access at parsing SU
  (bnc#1012628).
- ALSA: usb-audio: Add sanity checks in v2 clock parsers
  (bnc#1012628).
- ALSA: timer: Remove kernel warning at compat ioctl error paths
  (bnc#1012628).
- ALSA: hda/realtek - Fix ALC275 no sound issue (bnc#1012628).
- ALSA: hda: Fix too short HDMI/DP chmap reporting (bnc#1012628).
- ALSA: hda - Fix yet remaining issue with vmaster 0dB
  initialization (bnc#1012628).
- ALSA: hda/realtek - Fix ALC700 family no sound issue
  (bnc#1012628).
- ASoC: sun8i-codec: Invert Master / Slave condition
  (bnc#1012628).
- ASoC: sun8i-codec: Fix left and right channels inversion
  (bnc#1012628).
- ASoC: sun8i-codec: Set the BCLK divider (bnc#1012628).
- mfd: lpc_ich: Avoton/Rangeley uses SPI_BYT method (bnc#1012628).
- fix a page leak in vhost_scsi_iov_to_sgl() error recovery
  (bnc#1012628).
- 9p: Fix missing commas in mount options (bnc#1012628).
- fs/9p: Compare qid.path in v9fs_test_inode (bnc#1012628).
- net/9p: Switch to wait_event_killable() (bnc#1012628).
- scsi: qla2xxx: Suppress a kernel complaint in
  qla_init_base_qpair() (bnc#1012628).
- scsi: sd_zbc: Fix sd_zbc_read_zoned_characteristics()
  (bnc#1012628).
- scsi: lpfc: fix pci hot plug crash in timer management routines
  (bnc#1012628).
- scsi: lpfc: fix pci hot plug crash in list_add call
  (bnc#1012628).
- scsi: lpfc: Fix crash receiving ELS while detaching driver
  (bnc#1012628).
- scsi: lpfc: Fix FCP hba_wqidx assignment (bnc#1012628).
- scsi: lpfc: Fix oops if nvmet_fc_register_targetport fails
  (bnc#1012628).
- iscsi-target: Make TASK_REASSIGN use proper se_cmd->cmd_kref
  (bnc#1012628).
- iscsi-target: Fix non-immediate TMR reference leak
  (bnc#1012628).
- target: fix null pointer regression in core_tmr_drain_tmr_list
  (bnc#1012628).
- target: fix buffer offset in core_scsi3_pri_read_full_status
  (bnc#1012628).
- target: Fix QUEUE_FULL + SCSI task attribute handling
  (bnc#1012628).
- target: Fix caw_sem leak in transport_generic_request_failure
  (bnc#1012628).
- target: Fix quiese during transport_write_pending_qf endless
  loop (bnc#1012628).
- target: Avoid early CMD_T_PRE_EXECUTE failures during ABORT_TASK
  (bnc#1012628).
- mtd: Avoid probe failures when mtd->dbg.dfs_dir is invalid
  (bnc#1012628).
- mtd: nand: Export nand_reset() symbol (bnc#1012628).
- mtd: nand: atmel: Actually use the PM ops (bnc#1012628).
- mtd: nand: omap2: Fix subpage write (bnc#1012628).
- mtd: nand: Fix writing mtdoops to nand flash (bnc#1012628).
- mtd: nand: mtk: fix infinite ECC decode IRQ issue (bnc#1012628).
- mailbox: bcm-flexrm-mailbox: Fix FlexRM ring flush sequence
  (bnc#1012628).
- p54: don't unregister leds when they are not initialized
  (bnc#1012628).
- block: Fix a race between blk_cleanup_queue() and timeout
  handling (bnc#1012628).
- raid1: prevent freeze_array/wait_all_barriers deadlock
  (bnc#1012628).
- genirq: Track whether the trigger type has been set
  (bnc#1012628).
- irqchip/gic-v3: Fix ppi-partitions lookup (bnc#1012628).
- lockd: double unregister of inetaddr notifiers (bnc#1012628).
- KVM: PPC: Book3S HV: Don't call real-mode XICS hypercall
  handlers if not enabled (bnc#1012628).
- KVM: nVMX: set IDTR and GDTR limits when loading L1 host state
  (bnc#1012628).
- KVM: SVM: obey guest PAT (bnc#1012628).
- kvm: vmx: Reinstate support for CPUs without virtual NMI
  (bnc#1012628).
- dax: fix PMD faults on zero-length files (bnc#1012628).
- dax: fix general protection fault in dax_alloc_inode
  (bnc#1012628).
- SUNRPC: Fix tracepoint storage issues with svc_recv and
  svc_rqst_status (bnc#1012628).
- clk: ti: dra7-atl-clock: fix child-node lookups (bnc#1012628).
- libnvdimm, dimm: clear 'locked' status on successful DIMM enable
  (bnc#1012628).
- libnvdimm, pfn: make 'resource' attribute only readable by root
  (bnc#1012628).
- libnvdimm, namespace: fix label initialization to use valid
  seq numbers (bnc#1012628).
- libnvdimm, region : make 'resource' attribute only readable
  by root (bnc#1012628).
- libnvdimm, namespace: make 'resource' attribute only readable
  by root (bnc#1012628).
- svcrdma: Preserve CB send buffer across retransmits
  (bnc#1012628).
- IB/srpt: Do not accept invalid initiator port names
  (bnc#1012628).
- IB/cm: Fix memory corruption in handling CM request
  (bnc#1012628).
- IB/hfi1: Fix incorrect available receive user context count
  (bnc#1012628).
- IB/srp: Avoid that a cable pull can trigger a kernel crash
  (bnc#1012628).
- IB/core: Avoid crash on pkey enforcement failed in received MADs
  (bnc#1012628).
- IB/core: Only maintain real QPs in the security lists
  (bnc#1012628).
- NFC: fix device-allocation error return (bnc#1012628).
- spi-nor: intel-spi: Fix broken software sequencing codes
  (bnc#1012628).
- i40e: Use smp_rmb rather than read_barrier_depends
  (bnc#1012628).
- igb: Use smp_rmb rather than read_barrier_depends (bnc#1012628).
- igbvf: Use smp_rmb rather than read_barrier_depends
  (bnc#1012628).
- ixgbevf: Use smp_rmb rather than read_barrier_depends
  (bnc#1012628).
- i40evf: Use smp_rmb rather than read_barrier_depends
  (bnc#1012628).
- fm10k: Use smp_rmb rather than read_barrier_depends
  (bnc#1012628).
- ixgbe: Fix skb list corruption on Power systems (bnc#1012628).
- parisc: Fix validity check of pointer size argument in new
  CAS implementation (bnc#1012628).
- powerpc: Fix boot on BOOK3S_32 with CONFIG_STRICT_KERNEL_RWX
  (bnc#1012628).
- powerpc/mm/radix: Fix crashes on Power9 DD1 with radix MMU
  and STRICT_RWX (bnc#1012628).
- powerpc/perf/imc: Use cpu_to_node() not
  topology_physical_package_id() (bnc#1012628).
- powerpc/signal: Properly handle return value from
  uprobe_deny_signal() (bnc#1012628).
- powerpc/64s: Fix masking of SRR1 bits on instruction fault
  (bnc#1012628).
- powerpc/64s/radix: Fix 128TB-512TB virtual address boundary
  case allocation (bnc#1012628).
- powerpc/64s/hash: Fix 512T hint detection to use >= 128T
  (bnc#1012628).
- powerpc/64s/hash: Fix 128TB-512TB virtual address boundary
  case allocation (bnc#1012628).
- powerpc/64s/hash: Fix fork() with 512TB process address space
  (bnc#1012628).
- powerpc/64s/hash: Allow MAP_FIXED allocations to cross 128TB
  boundary (bnc#1012628).
- media: Don't do DMA on stack for firmware upload in the AS102
  driver (bnc#1012628).
- media: rc: check for integer overflow (bnc#1012628).
- media: rc: nec decoder should not send both repeat and keycode
  (bnc#1012628).
- media: v4l2-ctrl: Fix flags field on Control events
  (bnc#1012628).
- media: venus: fix wrong size on dma_free (bnc#1012628).
- media: venus: venc: fix bytesused v4l2_plane field
  (bnc#1012628).
- media: venus: reimplement decoder stop command (bnc#1012628).
- ARM64: dts: meson-gxl: Add alternate ARM Trusted Firmware
  reserved memory zone (bnc#1012628).
- iwlwifi: fix wrong struct for a000 device (bnc#1012628).
- iwlwifi: add a new a000 device (bnc#1012628).
- iwlwifi: pcie: sort IDs for the 9000 series for easier
  comparisons (bnc#1012628).
- iwlwifi: add new cards for a000 series (bnc#1012628).
- iwlwifi: add new cards for 8265 series (bnc#1012628).
- iwlwifi: add new cards for 8260 series (bnc#1012628).
- iwlwifi: fix PCI IDs and configuration mapping for 9000 series
  (bnc#1012628).
- e1000e: Fix error path in link detection (bnc#1012628).
- e1000e: Fix return value test (bnc#1012628).
- e1000e: Separate signaling for link check/link up (bnc#1012628).
- e1000e: Avoid receiver overrun interrupt bursts (bnc#1012628).
- e1000e: fix buffer overrun while the I219 is processing DMA
  transactions (bnc#1012628).
- Refresh patches.suse/dm-mpath-accept-failed-paths.
- Delete
  patches.suse/0002-md-bitmap-copy-correct-data-for-bitmap-super.patch.
- commit a731a45

-------------------------------------------------------------------
Thu Nov 30 09:52:27 CET 2017 - jslaby@suse.cz

- Refresh
  patches.suse/apparmor-fix-oops-in-audit_signal_cb-hook.patch.
  Update upstream status.
- commit 00f319b

-------------------------------------------------------------------
Thu Nov 30 09:41:53 CET 2017 - jslaby@suse.cz

- mmc: sdhci: Avoid swiotlb buffer being full (bnc#1068877).
- Delete
  patches.suse/revert-mmc-Delete-bounce-buffer-handling.patch.
- mmc: sdhci: Avoid swiotlb buffer being full (bnc#1068877).
- commit acb1236

-------------------------------------------------------------------
Wed Nov 29 20:47:36 CET 2017 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: fix incorrectly moved comment
  While moving # END COMMON DEPS moved following comment with it.
- commit 858b7e7

-------------------------------------------------------------------
Tue Nov 28 02:01:48 CET 2017 - afaerber@suse.de

- config: armv7hl: Update to 4.15-rc1
- commit b4c7f19

-------------------------------------------------------------------
Tue Nov 28 01:25:18 CET 2017 - afaerber@suse.de

- config: armv6hl: Update to 4.15-rc1
- commit edcdf48

-------------------------------------------------------------------
Tue Nov 28 01:19:11 CET 2017 - afaerber@suse.de

- config: arm64: Update to 4.15-rc1
- commit 3278861

-------------------------------------------------------------------
Mon Nov 27 18:14:28 CET 2017 - jeffm@suse.com

- Update to 4.15-rc1.
- Eliminated 74 patches.
- ARM configs need updating.
- Config changes:
  - General:
    - CPU_ISOLATION=y
    - GUP_BENCHMARK=n
  - x86:
    - X86_INTEL_UMIP=y
    - PINCTRL_CEDARFORK=m
    - INTEL_SOC_PMIC_CHTDC_TI=m
    - INTEL_WMI_THUNDERBOLT=m
    - DELL_SMBIOS_WMI=m
    - DELL_SMBIOS_SMM=m
    - CHT_DC_TI_PMIC_OPREGION=y
    - RPMSG_CHAR=m
  - i386:
    - IR_SPI=m
    - IR_GPIO_CIR=m
    - IR_GPIO_TX=m
    - IR_PWM_TX=m
  - powerpc:
    - PPC_RADIX_MMU_DEFAULT=y (default)
    - MEM_SOFT_DIRTY=n (needs arch expert review)
    - PINCTRL=n
    - PPC_FAST_ENDIAN_SWITCH=n (default)
  - s390:
    - GCC_PLUGINS=n
    - MEM_SOFT_DIRTY=(needs arch expert review)
    - PINCTRL=n
    - FORTIFY_SOURCE=y
  - s390/zfcpdump:
    - BPF_STREAM_PARSER=n
    - MTD=n
  - Network:
    - NET_SCH_CBS=m
    - VSOCKETS_DIAG=m
    - DP83822_PHY=m
    - RENESAS_PHY=m
    - THUNDERBOLT_NET=m
  - Input:
    - TOUCHSCREEN_EXC3000=m
    - TOUCHSCREEN_HIDEEP=m
    - TOUCHSCREEN_S6SY761=m
    - DRM_I2C_ADV7511_CEC=y
  - Misc:
    - IPMI_PROC_INTERFACE=y
    - GPIO_MAX3191X=m
    - MANAGER_SBS=m
    - W1_SLAVE_DS28E17=m
    - SENSORS_MAX6621=m
    - SENSORS_MAX31785=m
    - CEC_GPIO=m
    - TYPEC_TPS6598X=m
    - RPMSG_VIRTIO=m
    - IIO_CROS_EC_ACCEL_LEGACY=m
    - RFD77402=m
    - NTB_SWITCHTEC=m
    - MMC_SDHCI_OMAP=m
  - Filesystems:
    - XFS_ONLINE_SCRUB=n (still experimental)
    - BTRFS_FS_REF_VERIFY=n
    - CRAMFS_BLOCKDEV=y
    - CRAMFS_MTD=y
    - INTEGRITY_TRUSTED_KEYRING=y
  - Crypto:
    - CRYPTO_SM3=m
    - SIGNED_PE_FILE_VERIFICATION=y
    - SYSTEM_TRUSTED_KEYS (empty)
    - SYSTEM_EXTRA_CERTIFICATE=n
    - SECONDARY_TRUSTED_KEYRING=n
  - LEDS:
    - LEDS_APU=m
    - LEDS_TRIGGER_ACTIVITY=m
  - RTC:
    - RTC_DRV_PCF85363=m
  - Xen:
    - XEN_PVCALLS_FRONTEND=n
  - Graphics:
    - DRM_AMD_DC=y
    - DRM_AMD_DC_PRE_VEGA=y
    - DRM_AMD_DC_FBC=y ?
    - DRM_AMD_DC_DCN1_0=y
    - DEBUG_KERNEL_DC=n
    - NOUVEAU_DEBUG_MMU=n
  - Storage:
    - NVME_MULTIPATH=y
  - IB:
    - MLX4_CORE_GEN2=y
  - Sound:
    - SND_SOC_INTEL_SST_TOPLEVEL=m
    - SND_SOC_INTEL_BAYTRAIL=m
  - Testing:
    - KCOV_ENABLE_COMPARISONS=y (syzkaller)
    - BOOTPARAM_LOCKDEP_CROSSRELEASE_FULLSTACK=n
    - PREEMPTIRQ_EVENTS=y
    - TEST_FIND_BIT=n
    - PKCS7_TEST_KEY=n
    - CHASH_SELFTEST=n
    - CHASH_STATS=n
- commit bc47c49

-------------------------------------------------------------------
Sun Nov 26 19:17:08 CET 2017 - afaerber@suse.de

- config: armv6hl: Enable 8250 irq sharing for RPi Zero W (boo#1069828)
- commit 01942c4

-------------------------------------------------------------------
Sat Nov 25 19:53:15 CET 2017 - mwilck@suse.com

- scsi: libfc: fix ELS request handling (bsc#1069801).
- commit 75312a6

-------------------------------------------------------------------
Sat Nov 25 18:12:36 CET 2017 - afaerber@suse.de

- config: armv6hl: Enable brcmfmac for RPi Zero W (boo#1069830)
- commit 56423d9

-------------------------------------------------------------------
Sat Nov 25 17:23:57 CET 2017 - afaerber@suse.de

- config: armv6hl: Enable 8250 serial console for RPi Zero W (boo#1069828)
- commit 3a3001a

-------------------------------------------------------------------
Fri Nov 24 19:16:10 CET 2017 - bp@suse.de

- dvb_frontend: don't use-after-free the frontend struct
  (bsc#1067087 CVE-2017-16648).
- media: dvb-core: always call invoke_release() in fe_free()
  (bsc#1067087).
- commit 2a04ad0

-------------------------------------------------------------------
Fri Nov 24 16:42:44 CET 2017 - tiwai@suse.de

- rpm/kernel-binary.spec.in: Correct supplements for recent SLE products (bsc#1067494)
- commit 8f05b9f

-------------------------------------------------------------------
Fri Nov 24 10:13:02 CET 2017 - jbeulich@suse.com

- supported:conf: Remove stale Xen driver entries.
- commit c46464b

-------------------------------------------------------------------
Fri Nov 24 09:17:59 CET 2017 - jslaby@suse.cz

- ipmi_si: fix memory leak on new_smi (git-fixes).
- commit 4ca3b35

-------------------------------------------------------------------
Fri Nov 24 09:05:44 CET 2017 - jslaby@suse.cz

- Linux 4.14.2 (bnc#1012628).
- af_netlink: ensure that NLMSG_DONE never fails in dumps
  (bnc#1012628).
- vxlan: fix the issue that neigh proxy blocks all icmpv6 packets
  (bnc#1012628).
- net: cdc_ncm: GetNtbFormat endian fix (bnc#1012628).
- fealnx: Fix building error on MIPS (bnc#1012628).
- net/sctp: Always set scope_id in sctp_inet6_skb_msgname
  (bnc#1012628).
- ima: do not update security.ima if appraisal status is not
  INTEGRITY_PASS (bnc#1012628).
- serial: omap: Fix EFR write on RTS deassertion (bnc#1012628).
- serial: 8250_fintek: Fix finding base_port with activated
  SuperIO (bnc#1012628).
- tpm-dev-common: Reject too short writes (bnc#1012628).
- rcu: Fix up pending cbs check in rcu_prepare_for_idle
  (bnc#1012628).
- mm/pagewalk.c: report holes in hugetlb ranges (bnc#1012628).
- ocfs2: fix cluster hang after a node dies (bnc#1012628).
- ocfs2: should wait dio before inode lock in ocfs2_setattr()
  (bnc#1012628).
- ipmi: fix unsigned long underflow (bnc#1012628).
- mm/page_alloc.c: broken deferred calculation (bnc#1012628).
- mm/page_ext.c: check if page_ext is not prepared (bnc#1012628).
- coda: fix 'kernel memory exposure attempt' in fsync
  (bnc#1012628).
- ipmi: Prefer ACPI system interfaces over SMBIOS ones
  (bnc#1012628).
- commit 295c90a

-------------------------------------------------------------------
Thu Nov 23 14:48:07 CET 2017 - jslaby@suse.cz

- apparmor: fix oops in audit_signal_cb hook (bnc#1069562).
- Refresh patches.suse/0001-AppArmor-basic-networking-rules.patch.
- commit d091ad8

-------------------------------------------------------------------
Thu Nov 23 13:38:55 CET 2017 - jslaby@suse.cz

- bio: ensure __bio_clone_fast copies bi_partno (bnc#1069605).
- commit 59c6ade

-------------------------------------------------------------------
Tue Nov 21 19:23:59 CET 2017 - jslaby@suse.cz

- Update config files.
  After renaming the UNWINDER config options, vanilla has the old names
  and they need to be in configs. For example, x86_64 default config
  has CONFIG_UNWINDER_ORC=y, vanilla has CONFIG_ORC_UNWINDER=y.
- commit d0dab46

-------------------------------------------------------------------
Tue Nov 21 16:45:43 CET 2017 - jslaby@suse.cz

- objtool: Print top level commands on incorrect usage
  (bnc#1058115).
- commit 6603336

-------------------------------------------------------------------
Tue Nov 21 15:10:06 CET 2017 - jslaby@suse.cz

- x86/unwind: Make CONFIG_UNWINDER_ORC=y the default in kconfig
  for 64-bit (bnc#1058115).
- Update config files.
- x86/unwind: Rename unwinder config options to
  'CONFIG_UNWINDER_*' (bnc#1058115).
- Refresh patches.suse/0001-orc-mark-it-as-reliable.patch.
- Update config files.
- x86/unwinder: Make CONFIG_UNWINDER_ORC=y the default in the
  64-bit defconfig (bnc#1058115).
- commit c81ce89

-------------------------------------------------------------------
Tue Nov 21 15:04:50 CET 2017 - jslaby@suse.cz

- x86/stacktrace: Avoid recording save_stack_trace() wrappers
  (bnc#1058115).
- commit fa72e96

-------------------------------------------------------------------
Tue Nov 21 14:52:57 CET 2017 - jslaby@suse.cz

- Refresh
  patches.suse/0001-objtool-Don-t-report-end-of-section-error-after-an-e.patch.
- Refresh
  patches.suse/0002-x86-head-Remove-confusing-comment.patch.
- Refresh
  patches.suse/0003-x86-head-Remove-unused-bad_address-code.patch.
- Refresh
  patches.suse/0004-x86-head-Fix-head-ELF-function-annotations.patch.
- Refresh
  patches.suse/0005-x86-boot-Annotate-verify_cpu-as-a-callable-function.patch.
- Refresh
  patches.suse/0006-x86-xen-Fix-xen-head-ELF-annotations.patch.
- Refresh
  patches.suse/0007-x86-xen-Add-unwind-hint-annotations.patch.
- Refresh
  patches.suse/0008-x86-head-Add-unwind-hint-annotations.patch.
  Update upstream status.
- commit f655f80

-------------------------------------------------------------------
Tue Nov 21 10:31:37 CET 2017 - jslaby@suse.cz

- move all patches to patches.suse/
- commit 6fafae6

-------------------------------------------------------------------
Tue Nov 21 10:30:58 CET 2017 - jslaby@suse.cz

- Linux 4.14.1 (bnc#1012628).
- EDAC, sb_edac: Don't create a second memory controller if HA1
  is not present (bnc#1012628).
- dmaengine: dmatest: warn user when dma test times out
  (bnc#1012628).
- crypto: dh - Fix double free of ctx->p (bnc#1012628).
- crypto: dh - Don't permit 'p' to be 0 (bnc#1012628).
- crypto: dh - Don't permit 'key' or 'g' size longer than 'p'
  (bnc#1012628).
- crypto: brcm - Explicity ACK mailbox message (bnc#1012628).
- USB: early: Use new USB product ID and strings for DbC device
  (bnc#1012628).
- USB: usbfs: compute urb->actual_length for isochronous
  (bnc#1012628).
- USB: Add delay-init quirk for Corsair K70 LUX keyboards
  (bnc#1012628).
- usb: gadget: f_fs: Fix use-after-free in ffs_free_inst
  (bnc#1012628).
- USB: serial: metro-usb: stop I/O after failed open
  (bnc#1012628).
- USB: serial: Change DbC debug device binding ID (bnc#1012628).
- USB: serial: qcserial: add pid/vid for Sierra Wireless EM7355
  fw update (bnc#1012628).
- USB: serial: garmin_gps: fix I/O after failed probe and remove
  (bnc#1012628).
- USB: serial: garmin_gps: fix memory leak on probe errors
  (bnc#1012628).
- selftests/x86/protection_keys: Fix syscall NR redefinition
  warnings (bnc#1012628).
- x86/MCE/AMD: Always give panic severity for UC errors in kernel
  context (bnc#1012628).
- platform/x86: peaq-wmi: Add DMI check before binding to the
  WMI interface (bnc#1012628 bsc#1059807).
- platform/x86: peaq_wmi: Fix missing terminating entry for
  peaq_dmi_table (bnc#1012628).
- HID: cp2112: add HIDRAW dependency (bnc#1012628).
- HID: wacom: generic: Recognize WACOM_HID_WD_PEN as a type of
  pen collection (bnc#1012628).
- rpmsg: glink: Add missing MODULE_LICENSE (bnc#1012628).
- staging: wilc1000: Fix bssid buffer offset in Txq (bnc#1012628).
- staging: sm750fb: Fix parameter mistake in poke32 (bnc#1012628).
- staging: ccree: fix 64 bit scatter/gather DMA ops (bnc#1012628).
- staging: greybus: spilib: fix use-after-free after
  deregistration (bnc#1012628).
- staging: vboxvideo: Fix reporting invalid
  suggested-offset-properties (bnc#1012628).
- staging: rtl8188eu: Revert 4 commits breaking ARP (bnc#1012628).
- spi: fix use-after-free at controller deregistration
  (bnc#1012628).
- sparc32: Add cmpxchg64() (bnc#1012628).
- sparc64: mmu_context: Add missing include files (bnc#1012628).
- sparc64: Fix page table walk for PUD hugepages (bnc#1012628).
- commit b1ba0c0

-------------------------------------------------------------------
Tue Nov 21 10:22:41 CET 2017 - jslaby@suse.cz

- drm/bridge: analogix dp: Fix runtime PM state in get_modes()
  callback (bnc#1069146).
- commit 8354c2c

-------------------------------------------------------------------
Tue Nov 21 10:01:49 CET 2017 - jslaby@suse.cz

- Linux 4.14.1 (bnc#1012628).
- EDAC, sb_edac: Don't create a second memory controller if HA1
  is not present (bnc#1012628).
- dmaengine: dmatest: warn user when dma test times out
  (bnc#1012628).
- crypto: dh - Fix double free of ctx->p (bnc#1012628).
- crypto: dh - Don't permit 'p' to be 0 (bnc#1012628).
- crypto: dh - Don't permit 'key' or 'g' size longer than 'p'
  (bnc#1012628).
- crypto: brcm - Explicity ACK mailbox message (bnc#1012628).
- USB: early: Use new USB product ID and strings for DbC device
  (bnc#1012628).
- USB: usbfs: compute urb->actual_length for isochronous
  (bnc#1012628).
- USB: Add delay-init quirk for Corsair K70 LUX keyboards
  (bnc#1012628).
- usb: gadget: f_fs: Fix use-after-free in ffs_free_inst
  (bnc#1012628).
- USB: serial: metro-usb: stop I/O after failed open
  (bnc#1012628).
- USB: serial: Change DbC debug device binding ID (bnc#1012628).
- USB: serial: qcserial: add pid/vid for Sierra Wireless EM7355
  fw update (bnc#1012628).
- USB: serial: garmin_gps: fix I/O after failed probe and remove
  (bnc#1012628).
- USB: serial: garmin_gps: fix memory leak on probe errors
  (bnc#1012628).
- selftests/x86/protection_keys: Fix syscall NR redefinition
  warnings (bnc#1012628).
- x86/MCE/AMD: Always give panic severity for UC errors in kernel
  context (bnc#1012628).
- platform/x86: peaq_wmi: Fix missing terminating entry for
  peaq_dmi_table (bnc#1012628).
- HID: cp2112: add HIDRAW dependency (bnc#1012628).
- HID: wacom: generic: Recognize WACOM_HID_WD_PEN as a type of
  pen collection (bnc#1012628).
- rpmsg: glink: Add missing MODULE_LICENSE (bnc#1012628).
- staging: wilc1000: Fix bssid buffer offset in Txq (bnc#1012628).
- staging: sm750fb: Fix parameter mistake in poke32 (bnc#1012628).
- staging: ccree: fix 64 bit scatter/gather DMA ops (bnc#1012628).
- staging: greybus: spilib: fix use-after-free after
  deregistration (bnc#1012628).
- staging: vboxvideo: Fix reporting invalid
  suggested-offset-properties (bnc#1012628).
- staging: rtl8188eu: Revert 4 commits breaking ARP (bnc#1012628).
- spi: fix use-after-free at controller deregistration
  (bnc#1012628).
- sparc32: Add cmpxchg64() (bnc#1012628).
- sparc64: mmu_context: Add missing include files (bnc#1012628).
- sparc64: Fix page table walk for PUD hugepages (bnc#1012628).
- commit 5bbb894

-------------------------------------------------------------------
Mon Nov 20 16:48:48 CET 2017 - jslaby@suse.cz

- iwlwifi: mvm: support version 7 of the SCAN_REQ_UMAC FW command
  (bnc#1068838).
- commit 1d02750

-------------------------------------------------------------------
Mon Nov 20 14:22:25 CET 2017 - jslaby@suse.cz

- Revert "mmc: Delete bounce buffer handling" (bnc#1068877).
- commit ad8c19c

-------------------------------------------------------------------
Wed Nov 15 15:53:41 CET 2017 - rgoldwyn@suse.com

- apparmor: Fix quieting of audit messages for network mediation
  (FATE#300516, boo#1065536).
- apparmor: update apparmor-basic-networking-rules for 4.11-rc1
  (FATE#300516, boo#1065536).
- AppArmor: basic networking rules (FATE#300516, boo#1065536).
- commit fca1de8

-------------------------------------------------------------------
Wed Nov 15 15:46:47 CET 2017 - rgoldwyn@suse.com

- VFS: Handle lazytime in do_mount() (boo#1068256).
- commit 0f12060

-------------------------------------------------------------------
Mon Nov 13 15:53:06 CET 2017 - jeffm@suse.com

- Update to 4.14-final.
- commit c152297

-------------------------------------------------------------------
Thu Nov  9 15:52:36 CET 2017 - lpechacek@suse.com

- rpm/kernel-binary.spec.in: rename kGraft to KLP (fate#323682)
- commit 0ed191d

-------------------------------------------------------------------
Wed Nov  8 12:21:09 CET 2017 - tiwai@suse.de

- media: dib0700: fix invalid dvb_detach argument (CVE-2017-16646
  bsc#1067105).
- commit c6cd519

-------------------------------------------------------------------
Wed Nov  8 12:15:20 CET 2017 - tiwai@suse.de

- Input: ims-psu - check if CDC union descriptor is sane
  (CVE-2017-16645 bsc#1067132).
- commit 0cfe4b6

-------------------------------------------------------------------
Wed Nov  8 12:11:42 CET 2017 - tiwai@suse.de

- net: usb: asix: fill null-ptr-deref in asix_suspend
  (CVE-2017-16647 bsc#1067102).
- commit a088160

-------------------------------------------------------------------
Wed Nov  8 10:36:03 CET 2017 - jslaby@suse.cz

- Linux 4.13.12 (bnc#1012628).
- irqchip/irq-mvebu-gicp: Add missing spin_lock init
  (bnc#1012628).
- x86/mcelog: Get rid of RCU remnants (bnc#1012628).
- perf/cgroup: Fix perf cgroup hierarchy support (bnc#1012628).
- futex: Fix more put_pi_state() vs. exit_pi_state_list() races
  (bnc#1012628).
- powerpc/kprobes: Dereference function pointers only if the
  address does not belong to kernel text (bnc#1012628).
- x86: CPU: Fix up "cpu MHz" in /proc/cpuinfo (bnc#1012628).
- Revert "x86: do not use cpufreq_quick_get() for /proc/cpuinfo
  "cpu MHz"" (bnc#1012628).
- MIPS: SMP: Fix deadlock & online race (bnc#1012628).
- MIPS: microMIPS: Fix incorrect mask in insn_table_MM
  (bnc#1012628).
- MIPS: smp-cmp: Use right include for task_struct (bnc#1012628).
- MIPS: bpf: Fix a typo in build_one_insn() (bnc#1012628).
- Revert "powerpc64/elfv1: Only dereference function descriptor
  for non-text symbols" (bnc#1012628).
- drm/i915/edp: read edp display control registers unconditionally
  (bnc#1012628).
- drm/i915: Do not rely on wm preservation for ILK watermarks
  (bnc#1012628).
- mm, swap: fix race between swap count continuation operations
  (bnc#1012628).
- fs/hugetlbfs/inode.c: fix hwpoison reserve accounting
  (bnc#1012628).
- ocfs2: fstrim: Fix start offset of first cluster group during
  fstrim (bnc#1012628).
- userfaultfd: hugetlbfs: prevent UFFDIO_COPY to fill beyond
  the end of i_size (bnc#1012628).
- drm/amdgpu: allow harvesting check for Polaris VCE
  (bnc#1012628).
- drm/amdgpu: return -ENOENT from uvd 6.0 early init for
  harvesting (bnc#1012628).
- ARM: 8715/1: add a private asm/unaligned.h (bnc#1012628).
- ARM: dts: mvebu: pl310-cache disable double-linefill
  (bnc#1012628).
- arm/arm64: kvm: Disable branch profiling in HYP code
  (bnc#1012628).
- arm/arm64: KVM: set right LR register value for 32 bit guest
  when inject abort (bnc#1012628).
- KVM: arm64: its: Fix missing dynamic allocation check in
  scan_its_table (bnc#1012628).
- arm64: ensure __dump_instr() checks addr_limit (bnc#1012628).
- virtio_blk: Fix an SG_IO regression (bnc#1012628).
- ASoC: adau17x1: Workaround for noise bug in ADC (bnc#1012628).
- KEYS: fix out-of-bounds read during ASN.1 parsing (bnc#1012628).
- KEYS: trusted: fix writing past end of buffer in trusted_read()
  (bnc#1012628).
- KEYS: return full count in keyring_read() if buffer is too small
  (bnc#1012628).
- cifs: check MaxPathNameComponentLength != 0 before using it
  (bnc#1012628).
- ALSA: seq: Fix nested rwsem annotation for lockdep splat
  (bnc#1012628).
- ALSA: timer: Add missing mutex lock for compat ioctls
  (bnc#1012628).
- commit 19cf938

-------------------------------------------------------------------
Mon Nov  6 16:06:51 CET 2017 - jeffm@suse.com

- Update to 4.14-rc8.
- commit 0fbdeee

-------------------------------------------------------------------
Mon Nov  6 14:43:05 CET 2017 - tiwai@suse.de

- media: imon: Fix null-ptr-deref in imon_probe (CVE-2017-16537
  bsc#1066573).
- [media] cx231xx-cards: fix NULL-deref on missing association
  descriptor (CVE-2017-16536 bsc#1066606).
- media: imon: Fix null-ptr-deref in imon_probe (CVE-2017-16537
  bsc#1066573).
- [media] cx231xx-cards: fix NULL-deref on missing association
  descriptor (CVE-2017-16536 bsc#1066606).
- commit 0cd38c2

-------------------------------------------------------------------
Mon Nov  6 11:59:19 CET 2017 - jkosina@suse.cz

- rpm/kernel-binary.spec.in: add explicit dependency of kernel-*-devel on
  libelf-devel.
  Otherwise warning that got turned into error by upstream 3dd40cb3 ("objtool:
  Upgrade libelf-devel warning to error...") would trigger and cause any
  packages being built against kernel-*-devel (such as KMPs, crash) not to have
  the libelf dependency included, and fail to build.
- rpm/kernel-binary.spec.in: add explicit dependency of kernel-*-devel on
  libelf-devel. Otherwise warning that got turned into error by e683952999
  ("objtool: Upgrade libelf-devel warning to error...") would trigger and
  cause any packages being built against kernel-*-devel (such as KMPs,
  crash) not to have the libelf dependency included, and fail to build.
- commit f6c0f80

-------------------------------------------------------------------
Fri Nov  3 23:20:30 CET 2017 - mcgrof@suse.com

- mac80211: don't compare TKIP TX MIC key in reinstall prevention
  (bsc#1066472).
- commit a2a7106

-------------------------------------------------------------------
Fri Nov  3 23:20:05 CET 2017 - mcgrof@suse.com

- mac80211: use constant time comparison with keys (bsc#1066471).
- commit e2a3d57

-------------------------------------------------------------------
Thu Nov  2 20:06:49 CET 2017 - jslaby@suse.cz

- Linux 4.13.11 (bnc#1012628).
- powerpc/xive: Fix the size of the cpumask used in
  xive_find_target_in_mask() (bnc#1012628).
- regulator: fan53555: fix I2C device ids (bnc#1012628).
- ipsec: Fix aborted xfrm policy dump crash (bnc#1012628).
- cfg80211: fix connect/disconnect edge cases (bnc#1012628).
- can: kvaser_usb: Ignore CMD_FLUSH_QUEUE_REPLY messages
  (bnc#1012628).
- can: kvaser_usb: Correct return value in printout (bnc#1012628).
- can: sun4i: fix loopback mode (bnc#1012628).
- drm/i915/perf: fix perf enable/disable ioctls with 32bits
  userspace (bnc#1012628).
- drm/amd/powerplay: fix uninitialized variable (bnc#1012628).
- x86/cpu/AMD: Apply the Erratum 688 fix when the BIOS doesn't
  (bnc#1012628).
- scsi: sg: Re-fix off by one in sg_fill_request_table()
  (bnc#1012628).
- scsi: qla2xxx: Initialize Work element before requesting IRQs
  (bnc#1012628).
- scsi: aacraid: Fix controller initialization failure
  (bnc#1012628).
- scsi: zfcp: fix erp_action use-before-initialize in REC action
  trace (bnc#1012628).
- assoc_array: Fix a buggy node-splitting case (bnc#1012628).
- SMB3: Validate negotiate request must always be signed
  (bnc#1012628).
- Fix encryption labels and lengths for SMB3.1.1 (bnc#1012628).
- Input: gtco - fix potential out-of-bound access (bnc#1012628).
- Input: elan_i2c - add ELAN0611 to the ACPI table (bnc#1012628).
- CIFS: Fix NULL pointer deref on SMB2_tcon() failure
  (bnc#1012628).
- cifs: Select all required crypto modules (bnc#1012628).
- xen: fix booting ballooned down hvm guest (bnc#1012628).
- xen/gntdev: avoid out of bounds access in case of partial
  gntdev_mmap() (bnc#1012628).
- fuse: fix READDIRPLUS skipping an entry (bnc#1012628).
- ovl: do not cleanup unsupported index entries (bnc#1012628).
- ovl: handle ENOENT on index lookup (bnc#1012628).
- ovl: fix EIO from lookup of non-indexed upper (bnc#1012628).
- ovl: add NULL check in ovl_alloc_inode (bnc#1012628).
- spi: armada-3700: Fix failing commands with quad-SPI
  (bnc#1012628).
- spi: bcm-qspi: Fix use after free in bcm_qspi_probe() in error
  path (bnc#1012628).
- spi: a3700: Return correct value on timeout detection
  (bnc#1012628).
- spi: uapi: spidev: add missing ioctl header (bnc#1012628).
- nbd: handle interrupted sendmsg with a sndtimeo set
  (bnc#1012628).
- s390/kvm: fix detection of guest machine checks (bnc#1012628).
- KVM: PPC: Book3S: Protect kvmppc_gpa_to_ua() with SRCU
  (bnc#1012628).
- KVM: PPC: Book3S HV: POWER9 more doorbell fixes (bnc#1012628).
- KVM: PPC: Fix oops when checking KVM_CAP_PPC_HTM (bnc#1012628).
- Fix tracing sample code warning (bnc#1012628).
- ceph: unlock dangling spinlock in try_flush_caps()
  (bnc#1012628).
- ALSA: hda - fix headset mic problem for Dell machines with
  alc236 (bnc#1012628).
- ALSA: hda/realtek - Add support for ALC236/ALC3204
  (bnc#1012628).
- nvme-fc: fix iowait hang (bnc#1012628).
- workqueue: replace pool->manager_arb mutex with a flag
  (bnc#1012628).
- commit 5a48675

-------------------------------------------------------------------
Mon Oct 30 21:43:06 CET 2017 - neilb@suse.com

- REVERT:  md/bitmap: copy correct data for bitmap super
  (bsc#1062597).
- commit 9382440

-------------------------------------------------------------------
Mon Oct 30 13:34:26 CET 2017 - jslaby@suse.cz

- x86/unwind: Show function name+offset in ORC error messages
  (bnc#1058115).
- x86/entry: Fix idtentry unwind hint (bnc#1058115).
- objtool: Fix memory leak in decode_instructions() (bnc#1058115).
- x86/unwind: Disable unwinder warnings on 32-bit (bnc#1058115).
- x86/unwind: Align stack pointer in unwinder dump (bnc#1058115).
- x86/unwind: Use MSB for frame pointer encoding on 32-bit
  (bnc#1058115).
- x86/unwind: Fix dereference of untrusted pointer (bnc#1058115).
- x86/kvm: Move kvm_fastop_exception to .fixup section
  (bnc#1058115).
- objtool: Upgrade libelf-devel warning to error for
  CONFIG_ORC_UNWINDER (bnc#1058115).
- kprobes/x86: Set up frame pointer in kprobe trampoline
  (bnc#1058115).
- objtool: Support unoptimized frame pointer setup (bnc#1058115).
- objtool: Skip unreachable warnings for GCC 4.4 and older
  (bnc#1058115).
- commit dd8c5e5

-------------------------------------------------------------------
Mon Oct 30 04:20:05 CET 2017 - jeffm@suse.com

- Update to 4.14-rc7.
- commit dbf3e9b

-------------------------------------------------------------------
Sun Oct 29 08:26:08 CET 2017 - jslaby@suse.cz

- x86/unwind: Show function name+offset in ORC error messages
  (bnc#1058115).
- x86/entry: Fix idtentry unwind hint (bnc#1058115).
- commit 951f578

-------------------------------------------------------------------
Fri Oct 27 11:03:09 CEST 2017 - jslaby@suse.cz

- Linux 4.13.10 final
- commit db36cf8

-------------------------------------------------------------------
Fri Oct 27 09:37:37 CEST 2017 - jslaby@suse.cz

- scripts/stableids: revert unwanted change
- commit d6206ec

-------------------------------------------------------------------
Fri Oct 27 09:26:52 CEST 2017 - jslaby@suse.cz

- futex: futex_wake_op, fix sign_extend32 sign bits (bnc#1064590).
- commit a6d946f

-------------------------------------------------------------------
Thu Oct 26 03:52:04 CEST 2017 - neilb@suse.com

- VFS: expedite unmount (bsc#1024412).
- commit 10c4365

-------------------------------------------------------------------
Wed Oct 25 14:47:02 CEST 2017 - jslaby@suse.cz

- Linux 4.13.10 (bnc#1012628).
- staging: bcm2835-audio: Fix memory corruption (bnc#1012628).
- USB: devio: Revert "USB: devio: Don't corrupt user memory"
  (bnc#1012628).
- USB: core: fix out-of-bounds access bug in
  usb_get_bos_descriptor() (bnc#1012628).
- USB: serial: metro-usb: add MS7820 device id (bnc#1012628).
- usb: cdc_acm: Add quirk for Elatec TWN3 (bnc#1012628).
- usb: quirks: add quirk for WORLDE MINI MIDI keyboard
  (bnc#1012628).
- usb: hub: Allow reset retry for USB2 devices on connect bounce
  (bnc#1012628).
- ALSA: usb-audio: Add native DSD support for Pro-Ject Pre Box
  S2 Digital (bnc#1012628).
- can: gs_usb: fix busy loop if no more TX context is available
  (bnc#1012628).
- scsi: qla2xxx: Fix uninitialized work element (bnc#1012628).
- nbd: don't set the device size until we're connected
  (bnc#1012628).
- s390/cputime: fix guest/irq/softirq times after CPU hotplug
  (bnc#1012628).
- parisc: Fix double-word compare and exchange in LWS code on
  32-bit kernels (bnc#1012628).
- parisc: Fix detection of nonsynchronous cr16 cycle counters
  (bnc#1012628).
- iio: dummy: events: Add missing break (bnc#1012628).
- usb: musb: sunxi: Explicitly release USB PHY on exit
  (bnc#1012628).
- USB: musb: fix session-bit runtime-PM quirk (bnc#1012628).
- USB: musb: fix late external abort on suspend (bnc#1012628).
- usb: musb: musb_cppi41: Fix the address of teardown and autoreq
  registers (bnc#1012628).
- usb: musb: musb_cppi41: Fix cppi41_set_dma_mode() for DA8xx
  (bnc#1012628).
- usb: musb: musb_cppi41: Configure the number of channels for
  DA8xx (bnc#1012628).
- usb: musb: Check for host-mode using is_host_active() on reset
  interrupt (bnc#1012628).
- xhci: Identify USB 3.1 capable hosts by their port protocol
  capability (bnc#1012628).
- xhci: Cleanup current_cmd in xhci_cleanup_command_queue()
  (bnc#1012628).
- usb: xhci: Reset halted endpoint if trb is noop (bnc#1012628).
- usb: xhci: Handle error condition in xhci_stop_device()
  (bnc#1012628).
- can: esd_usb2: Fix can_dlc value for received RTR, frames
  (bnc#1012628).
- can: af_can: can_pernet_init(): add missing error handling
  for kzalloc returning NULL (bnc#1012628).
- can: flexcan: fix state transition regression (bnc#1012628).
- can: flexcan: rename legacy error state quirk (bnc#1012628).
- can: flexcan: implement error passive state quirk (bnc#1012628).
- can: flexcan: fix i.MX6 state transition issue (bnc#1012628).
- can: flexcan: fix i.MX28 state transition issue (bnc#1012628).
- can: flexcan: fix p1010 state transition issue (bnc#1012628).
- KEYS: encrypted: fix dereference of NULL user_key_payload
  (bnc#1012628).
- mmc: sdhci-pci: Fix default d3_retune for Intel host controllers
  (bnc#1012628).
- drm/i915: Use bdw_ddi_translations_fdi for Broadwell
  (bnc#1012628).
- drm/nouveau/kms/nv50: fix oops during DP IRQ handling on
  non-MST boards (bnc#1012628).
- drm/nouveau/bsp/g92: disable by default (bnc#1012628).
- drm/nouveau/mmu: flush tlbs before deleting page tables
  (bnc#1012628).
- media: s5p-cec: add NACK detection support (bnc#1012628).
- media: cec: Respond to unregistered initiators, when applicable
  (bnc#1012628).
- media: dvb: i2c transfers over usb cannot be done from stack
  (bnc#1012628).
- tracing/samples: Fix creation and deletion of simple_thread_fn
  creation (bnc#1012628).
- ALSA: seq: Enable 'use' locking in all configurations
  (bnc#1012628).
- ALSA: hda: Remove superfluous '-' added by printk conversion
  (bnc#1012628).
- i2c: ismt: Separate I2C block read from SMBus block read
  (bnc#1012628).
- i2c: piix4: Fix SMBus port selection for AMD Family 17h chips
  (bnc#1012628).
- Revert "tools/power turbostat: stop migrating, unless '-m'"
  (bnc#1012628).
- Input: stmfts - fix setting ABS_MT_POSITION_* maximum size
  (bnc#1012628).
- brcmfmac: Add check for short event packets (bnc#1012628).
- brcmsmac: make some local variables 'static const' to reduce
  stack size (bnc#1012628).
- ARM: dts: sun6i: Fix endpoint IDs in second display pipeline
  (bnc#1012628).
- bus: mbus: fix window size calculation for 4GB windows
  (bnc#1012628).
- clockevents/drivers/cs5535: Improve resilience to spurious
  interrupts (bnc#1012628).
- rtlwifi: rtl8821ae: Fix connection lost problem (bnc#1012628).
- x86/microcode/intel: Disable late loading on model 79
  (bnc#1012628).
- lib/digsig: fix dereference of NULL user_key_payload
  (bnc#1012628).
- fscrypt: fix dereference of NULL user_key_payload (bnc#1012628).
- ecryptfs: fix dereference of NULL user_key_payload
  (bnc#1012628).
- KEYS: Fix race between updating and finding a negative key
  (bnc#1012628).
- FS-Cache: fix dereference of NULL user_key_payload
  (bnc#1012628).
- KEYS: don't let add_key() update an uninstantiated key
  (bnc#1012628).
- pkcs7: Prevent NULL pointer dereference, since sinfo is not
  always set (bnc#1012628).
- arm64: dts: rockchip: correct vqmmc voltage for rk3399 platforms
  (bnc#1012628).
- ALSA: hda - Fix incorrect TLV callback check introduced during
  set_fs() removal (bnc#1012628).
- iomap_dio_rw: Allocate AIO completion queue before submitting
  dio (bnc#1012628).
- xfs: don't unconditionally clear the reflink flag on zero-block
  files (bnc#1012628).
- xfs: evict CoW fork extents when performing finsert/fcollapse
  (bnc#1012628).
- fs/xfs: Use %pS printk format for direct addresses
  (bnc#1012628).
- xfs: report zeroed or not correctly in xfs_zero_range()
  (bnc#1012628).
- xfs: update i_size after unwritten conversion in dio completion
  (bnc#1012628).
- xfs: perag initialization should only touch m_ag_max_usable
  for AG 0 (bnc#1012628).
- xfs: Capture state of the right inode in xfs_iflush_done
  (bnc#1012628).
- xfs: always swap the cow forks when swapping extents
  (bnc#1012628).
- xfs: handle racy AIO in xfs_reflink_end_cow (bnc#1012628).
- xfs: Don't log uninitialised fields in inode structures
  (bnc#1012628).
- xfs: move more RT specific code under CONFIG_XFS_RT
  (bnc#1012628).
- xfs: don't change inode mode if ACL update fails (bnc#1012628).
- xfs: reinit btree pointer on attr tree inactivation walk
  (bnc#1012628).
- xfs: handle error if xfs_btree_get_bufs fails (bnc#1012628
  bsc#1059863).
- xfs: cancel dirty pages on invalidation (bnc#1012628).
- xfs: trim writepage mapping to within eof (bnc#1012628).
- xfs: move two more RT specific functions into CONFIG_XFS_RT
  (bnc#1012628).
- scripts/stableids:
- commit e760ea6

-------------------------------------------------------------------
Mon Oct 23 14:34:12 CEST 2017 - jeffm@suse.com

- Update to 4.14-rc6.
- Eliminated 2 patches.
- commit 8b364ca

-------------------------------------------------------------------
Mon Oct 23 11:38:06 CEST 2017 - jslaby@suse.cz

- futex: do not fail on invalid op (bnc#1064590).
- commit e7d7106

-------------------------------------------------------------------
Sun Oct 22 09:24:14 CEST 2017 - jslaby@suse.cz

- Linux 4.13.9 (bnc#1012628).
- vmbus: more host signalling avoidance (bnc#1012628).
- vmbus: eliminate duplicate cached index (bnc#1012628).
- vmbus: refactor hv_signal_on_read (bnc#1012628).
- vmbus: simplify hv_ringbuffer_read (bnc#1012628).
- Drivers: hv: vmbus: Fix bugs in rescind handling (bnc#1012628).
- Drivers: hv: vmbus: Fix rescind handling issues (bnc#1012628).
- HID: hid-elecom: extend to fix descriptor for HUGE trackball
  (bnc#1012628).
- mm: page_vma_mapped: ensure pmd is loaded with READ_ONCE
  outside of lock (bnc#1012628).
- perf pmu: Unbreak perf record for arm/arm64 with events with
  explicit PMU (bnc#1012628).
- x86/apic: Silence "FW_BUG TSC_DEADLINE disabled due to Errata"
  on hypervisors (bnc#1012628).
- x86/apic: Silence "FW_BUG TSC_DEADLINE disabled due to Errata"
  on CPUs without the feature (bnc#1012628).
- commit abdc07c

-------------------------------------------------------------------
Wed Oct 18 19:36:39 CEST 2017 - mcgrof@suse.com

- mac80211: accept key reinstall without changing anything (CVE-2017-13080 bsc#1063667).
- commit 19d19fc

-------------------------------------------------------------------
Wed Oct 18 12:43:48 CEST 2017 - tiwai@suse.de

- ALSA: hda: Abort capability probe at invalid register read
  (bsc#1064017).
- commit d1f5e26

-------------------------------------------------------------------
Wed Oct 18 11:53:30 CEST 2017 - jslaby@suse.cz

- Linux 4.13.8 (bnc#1012628).
- USB: dummy-hcd: Fix deadlock caused by disconnect detection
  (bnc#1012628).
- MIPS: math-emu: Remove pr_err() calls from fpu_emu()
  (bnc#1012628).
- MIPS: bpf: Fix uninitialised target compiler error
  (bnc#1012628).
- mei: always use domain runtime pm callbacks (bnc#1012628).
- dmaengine: edma: Align the memcpy acnt array size with the
  transfer (bnc#1012628).
- dmaengine: ti-dma-crossbar: Fix possible race condition with
  dma_inuse (bnc#1012628).
- NFS: Fix uninitialized rpc_wait_queue (bnc#1012628).
- nfs/filelayout: fix oops when freeing filelayout segment
  (bnc#1012628).
- HID: usbhid: fix out-of-bounds bug (bnc#1012628).
- crypto: skcipher - Fix crash on zero-length input (bnc#1012628).
- crypto: shash - Fix zero-length shash ahash digest crash
  (bnc#1012628).
- KVM: MMU: always terminate page walks at level 1 (bnc#1012628).
- KVM: nVMX: fix guest CR4 loading when emulating L2 to L1 exit
  (bnc#1012628).
- usb: renesas_usbhs: Fix DMAC sequence for receiving zero-length
  packet (bnc#1012628).
- pinctrl/amd: Fix build dependency on pinmux code (bnc#1012628).
- iommu/amd: Finish TLB flush in amd_iommu_unmap() (bnc#1012628).
- device property: Track owner device of device property
  (bnc#1012628).
- Revert "vmalloc: back off when the current task is killed"
  (bnc#1012628).
- fs/mpage.c: fix mpage_writepage() for pages with buffers
  (bnc#1012628).
- ALSA: usb-audio: Kill stray URB at exiting (bnc#1012628).
- ALSA: seq: Fix copy_from_user() call inside lock (bnc#1012628).
- ALSA: caiaq: Fix stray URB at probe error path (bnc#1012628).
- ALSA: line6: Fix NULL dereference at podhd_disconnect()
  (bnc#1012628).
- ALSA: line6: Fix missing initialization before error path
  (bnc#1012628).
- ALSA: line6: Fix leftover URB at error-path during probe
  (bnc#1012628).
- drm/atomic: Unref duplicated drm_atomic_state in
  drm_atomic_helper_resume() (bnc#1012628).
- drm/i915/edp: Get the Panel Power Off timestamp after panel
  is off (bnc#1012628).
- drm/i915: Read timings from the correct transcoder in
  intel_crtc_mode_get() (bnc#1012628).
- drm/i915/bios: parse DDI ports also for CHV for HDMI DDC pin
  and DP AUX channel (bnc#1012628).
- drm/i915: Use crtc_state_is_legacy_gamma in intel_color_check
  (bnc#1012628).
- usb: gadget: configfs: Fix memory leak of interface directory
  data (bnc#1012628).
- usb: gadget: composite: Fix use-after-free in
  usb_composite_overwrite_options (bnc#1012628).
- PCI: aardvark: Move to struct pci_host_bridge IRQ mapping
  functions (bnc#1012628).
- Revert "PCI: tegra: Do not allocate MSI target memory"
  (bnc#1012628).
- direct-io: Prevent NULL pointer access in submit_page_section
  (bnc#1012628).
- fix unbalanced page refcounting in bio_map_user_iov
  (bnc#1012628).
- more bio_map_user_iov() leak fixes (bnc#1012628).
- bio_copy_user_iov(): don't ignore ->iov_offset (bnc#1012628).
- perf script: Add missing separator for "-F ip,brstack" (and
  brstackoff) (bnc#1012628).
- genirq/cpuhotplug: Enforce affinity setting on startup of
  managed irqs (bnc#1012628).
- genirq/cpuhotplug: Add sanity check for effective affinity mask
  (bnc#1012628).
- USB: serial: ftdi_sio: add id for Cypress WICED dev board
  (bnc#1012628).
- USB: serial: cp210x: fix partnum regression (bnc#1012628).
- USB: serial: cp210x: add support for ELV TFD500 (bnc#1012628).
- USB: serial: option: add support for TP-Link LTE module
  (bnc#1012628).
- USB: serial: qcserial: add Dell DW5818, DW5819 (bnc#1012628).
- USB: serial: console: fix use-after-free on disconnect
  (bnc#1012628).
- USB: serial: console: fix use-after-free after failed setup
  (bnc#1012628).
- RAS/CEC: Use the right length for "cec_disable" (bnc#1012628).
- x86/microcode: Do the family check first (bnc#1012628).
- x86/alternatives: Fix alt_max_short macro to really be a max()
  (bnc#1012628).
- KVM: nVMX: update last_nonleaf_level when initializing nested
  EPT (bnc#1012628).
- commit 569e26e

-------------------------------------------------------------------
Wed Oct 18 02:36:43 CEST 2017 - mcgrof@suse.com

- xfs: handle error if xfs_btree_get_bufs fails (bsc#1059863).
- commit a1a185d

-------------------------------------------------------------------
Mon Oct 16 18:06:20 CEST 2017 - jeffm@suse.com

- Update to 4.14-rc5.
- commit 39eecab

-------------------------------------------------------------------
Mon Oct 16 15:08:41 CEST 2017 - jslaby@suse.cz

- futex: Remove duplicated code and fix undefined behaviour
  (bnc#1005915).
- commit b17692d

-------------------------------------------------------------------
Sun Oct 15 14:07:51 CEST 2017 - jslaby@suse.cz

- Linux 4.13.7 (bnc#1012628).
- commit 031d6da

-------------------------------------------------------------------
Fri Oct 13 17:40:41 CEST 2017 - msuchanek@suse.de

- Revert "rpm/constraints.in: Lower default disk space requirement from 25G to 24G"
  This reverts commit 406abda1467c038842febffe264faae1fa2e3c1d.
  ok, did not wait long enough to see the failure.
- commit ed99981

-------------------------------------------------------------------
Fri Oct 13 17:28:55 CEST 2017 - msuchanek@suse.de

- rpm/constraints.in: Lower default disk space requirement from 25G to 24G
  25G is rejected by the build service on ARM.
- commit 406abda

-------------------------------------------------------------------
Fri Oct 13 11:38:39 CEST 2017 - jslaby@suse.cz

- waitid(): Add missing access_ok() checks (bnc#1062473
  CVE-2017-5123).
- commit a8d2202

-------------------------------------------------------------------
Thu Oct 12 20:24:34 CEST 2017 - jslaby@suse.cz

- Linux 4.13.6 (bnc#1012628).
- imx-media-of: avoid uninitialized variable warning
  (bnc#1012628).
- usb: dwc3: ep0: fix DMA starvation by assigning req->trb on ep0
  (bnc#1012628).
- mlxsw: spectrum: Fix EEPROM access in case of SFP/SFP+
  (bnc#1012628).
- net: bonding: Fix transmit load balancing in balance-alb mode
  if specified by sysfs (bnc#1012628).
- openvswitch: Fix an error handling path in
  'ovs_nla_init_match_and_action()' (bnc#1012628).
- mlxsw: spectrum: Prevent mirred-related crash on removal
  (bnc#1012628).
- net: bonding: fix tlb_dynamic_lb default value (bnc#1012628).
- net_sched: gen_estimator: fix scaling error in bytes/packets
  samples (bnc#1012628).
- net: sched: fix use-after-free in tcf_action_destroy and
  tcf_del_walker (bnc#1012628).
- sctp: potential read out of bounds in
  sctp_ulpevent_type_enabled() (bnc#1012628).
- tcp: update skb->skb_mstamp more carefully (bnc#1012628).
- bpf/verifier: reject BPF_ALU64|BPF_END (bnc#1012628).
- tcp: fix data delivery rate (bnc#1012628).
- udpv6: Fix the checksum computation when HW checksum does not
  apply (bnc#1012628).
- ip6_gre: skb_push ipv6hdr before packing the header in
  ip6gre_header (bnc#1012628).
- net: phy: Fix mask value write on gmii2rgmii converter speed
  register (bnc#1012628).
- ip6_tunnel: do not allow loading ip6_tunnel if ipv6 is disabled
  in cmdline (bnc#1012628).
- net/sched: cls_matchall: fix crash when used with classful qdisc
  (bnc#1012628).
- bpf: do not disable/enable BH in bpf_map_free_id()
  (bnc#1012628).
- tcp: fastopen: fix on syn-data transmit failure (bnc#1012628).
- net: emac: Fix napi poll list corruption (bnc#1012628).
- net: ipv6: fix regression of no RTM_DELADDR sent after DAD
  failure (bnc#1012628).
- packet: hold bind lock when rebinding to fanout hook
  (bnc#1012628).
- bpf: one perf event close won't free bpf program attached by
  another perf event (bnc#1012628).
- net: change skb->mac_header when Generic XDP calls adjust_head
  (bnc#1012628).
- isdn/i4l: fetch the ppp_write buffer in one shot (bnc#1012628).
- net_sched: always reset qdisc backlog in qdisc_reset()
  (bnc#1012628).
- net: stmmac: Cocci spatch "of_table" (bnc#1012628).
- net: qcom/emac: specify the correct size when mapping a DMA
  buffer (bnc#1012628).
- vti: fix use after free in vti_tunnel_xmit/vti6_tnl_xmit
  (bnc#1012628).
- l2tp: fix race condition in l2tp_tunnel_delete (bnc#1012628).
- tun: bail out from tun_get_user() if the skb is empty
  (bnc#1012628).
- net: dsa: mv88e6xxx: Allow dsa and cpu ports in multiple vlans
  (bnc#1012628).
- net: dsa: Fix network device registration order (bnc#1012628).
- packet: in packet_do_bind, test fanout with bind_lock held
  (bnc#1012628).
- packet: only test po->has_vnet_hdr once in packet_snd
  (bnc#1012628).
- net: dsa: mv88e6xxx: lock mutex when freeing IRQs (bnc#1012628).
- net: Set sk_prot_creator when cloning sockets to the right proto
  (bnc#1012628).
- net/mlx5e: IPoIB, Fix access to invalid memory address
  (bnc#1012628).
- netlink: do not proceed if dump's start() errs (bnc#1012628).
- ip6_gre: ip6gre_tap device should keep dst (bnc#1012628).
- ip6_tunnel: update mtu properly for ARPHRD_ETHER tunnel device
  in tx path (bnc#1012628).
- IPv4: early demux can return an error code (bnc#1012628).
- tipc: use only positive error codes in messages (bnc#1012628).
- l2tp: fix l2tp_eth module loading (bnc#1012628).
- socket, bpf: fix possible use after free (bnc#1012628).
- net: rtnetlink: fix info leak in RTM_GETSTATS call
  (bnc#1012628).
- bpf: fix bpf_tail_call() x64 JIT (bnc#1012628).
- usb: gadget: core: fix ->udc_set_speed() logic (bnc#1012628).
- USB: gadgetfs: Fix crash caused by inadequate synchronization
  (bnc#1012628).
- USB: gadgetfs: fix copy_to_user while holding spinlock
  (bnc#1012628).
- usb: gadget: udc: atmel: set vbus irqflags explicitly
  (bnc#1012628).
- usb: gadget: udc: renesas_usb3: fix for no-data control transfer
  (bnc#1012628).
- usb: gadget: udc: renesas_usb3: fix Pn_RAMMAP.Pn_MPKT value
  (bnc#1012628).
- usb: gadget: udc: renesas_usb3: Fix return value of
  usb3_write_pipe() (bnc#1012628).
- usb-storage: unusual_devs entry to fix write-access regression
  for Seagate external drives (bnc#1012628).
- usb-storage: fix bogus hardware error messages for ATA pass-thru
  devices (bnc#1012628).
- usb: renesas_usbhs: fix the BCLR setting condition for non-DCP
  pipe (bnc#1012628).
- usb: renesas_usbhs: fix usbhsf_fifo_clear() for RX direction
  (bnc#1012628).
- ALSA: usb-audio: Check out-of-bounds access by corrupted buffer
  descriptor (bnc#1012628).
- usb: pci-quirks.c: Corrected timeout values used in handshake
  (bnc#1012628).
- USB: cdc-wdm: ignore -EPIPE from GetEncapsulatedResponse
  (bnc#1012628).
- USB: dummy-hcd: fix connection failures (wrong speed)
  (bnc#1012628).
- USB: dummy-hcd: fix infinite-loop resubmission bug
  (bnc#1012628).
- USB: dummy-hcd: Fix erroneous synchronization change
  (bnc#1012628).
- USB: devio: Prevent integer overflow in proc_do_submiturb()
  (bnc#1012628).
- USB: devio: Don't corrupt user memory (bnc#1012628).
- USB: g_mass_storage: Fix deadlock when driver is unbound
  (bnc#1012628).
- USB: uas: fix bug in handling of alternate settings
  (bnc#1012628).
- USB: core: harden cdc_parse_cdc_header (bnc#1012628).
- usb: Increase quirk delay for USB devices (bnc#1012628).
- USB: fix out-of-bounds in usb_set_configuration (bnc#1012628).
- usb: xhci: Free the right ring in xhci_add_endpoint()
  (bnc#1012628).
- xhci: fix finding correct bus_state structure for USB 3.1 hosts
  (bnc#1012628).
- xhci: fix wrong endpoint ESIT value shown in tracing
  (bnc#1012628).
- usb: host: xhci-plat: allow sysdev to inherit from ACPI
  (bnc#1012628).
- xhci: Fix sleeping with spin_lock_irq() held in ASmedia 1042A
  workaround (bnc#1012628).
- xhci: set missing SuperSpeedPlus Link Protocol bit in roothub
  descriptor (bnc#1012628).
- Revert "xhci: Limit USB2 port wake support for AMD Promontory
  hosts" (bnc#1012628).
- iio: adc: twl4030: Fix an error handling path in
  'twl4030_madc_probe()' (bnc#1012628).
- iio: adc: twl4030: Disable the vusb3v1 rugulator in the error
  handling path of 'twl4030_madc_probe()' (bnc#1012628).
- iio: ad_sigma_delta: Implement a dedicated reset function
  (bnc#1012628).
- staging: iio: ad7192: Fix - use the dedicated reset function
  avoiding dma from stack (bnc#1012628).
- iio: core: Return error for failed read_reg (bnc#1012628).
- IIO: BME280: Updates to Humidity readings need ctrl_reg
  write! (bnc#1012628).
- iio: trigger: stm32-timer: preset shouldn't be buffered
  (bnc#1012628).
- iio: trigger: stm32-timer: fix a corner case to write preset
  (bnc#1012628).
- iio: ad7793: Fix the serial interface reset (bnc#1012628).
- iio: adc: stm32: fix bad error check on max_channels
  (bnc#1012628).
- iio: adc: mcp320x: Fix readout of negative voltages
  (bnc#1012628).
- iio: adc: mcp320x: Fix oops on module unload (bnc#1012628).
- uwb: properly check kthread_run return value (bnc#1012628).
- uwb: ensure that endpoint is interrupt (bnc#1012628).
- staging: vchiq_2835_arm: Fix NULL ptr dereference in
  free_pagelist (bnc#1012628).
- ksm: fix unlocked iteration over vmas in cmp_and_merge_page()
  (bnc#1012628).
- mm, hugetlb, soft_offline: save compound page order before
  page migration (bnc#1012628).
- mm, oom_reaper: skip mm structs with mmu notifiers
  (bnc#1012628).
- mm: fix RODATA_TEST failure "rodata_test: test data was not
  read only" (bnc#1012628).
- mm: avoid marking swap cached page as lazyfree (bnc#1012628).
- mm: fix data corruption caused by lazyfree page (bnc#1012628).
- userfaultfd: non-cooperative: fix fork use after free
  (bnc#1012628).
- lib/ratelimit.c: use deferred printk() version (bnc#1012628).
- lsm: fix smack_inode_removexattr and xattr_getsecurity memleak
  (bnc#1012628).
- ALSA: compress: Remove unused variable (bnc#1012628).
- Revert "ALSA: echoaudio: purge contradictions between dimension
  matrix members and total number of members" (bnc#1012628).
- ALSA: usx2y: Suppress kernel warning at page allocation failures
  (bnc#1012628).
- powerpc/powernv: Increase memory block size to 1GB on radix
  (bnc#1012628).
- powerpc: Fix action argument for cpufeatures-based TLB flush
  (bnc#1012628).
- powerpc/64s: Use emergency stack for kernel TM Bad Thing
  program checks (bnc#1012628).
- powerpc/tm: Fix illegal TM state in signal handler
  (bnc#1012628).
- percpu: make this_cpu_generic_read() atomic w.r.t. interrupts
  (bnc#1012628).
- intel_th: pci: Add Lewisburg PCH support (bnc#1012628).
- driver core: platform: Don't read past the end of
  "driver_override" buffer (bnc#1012628).
- cgroup: Reinit cgroup_taskset structure before
  cgroup_migrate_execute() returns (bnc#1012628).
- Drivers: hv: fcopy: restore correct transfer length
  (bnc#1012628).
- vmbus: don't acquire the mutex in
  vmbus_hvsock_device_unregister() (bnc#1012628).
- stm class: Fix a use-after-free (bnc#1012628).
- auxdisplay: charlcd: properly restore atomic counter on error
  path (bnc#1012628).
- ftrace: Fix kmemleak in unregister_ftrace_graph (bnc#1012628).
- ovl: fix error value printed in ovl_lookup_index()
  (bnc#1012628).
- ovl: fix dput() of ERR_PTR in ovl_cleanup_index() (bnc#1012628).
- ovl: fix dentry leak in ovl_indexdir_cleanup() (bnc#1012628).
- ovl: fix missing unlock_rename() in ovl_do_copy_up()
  (bnc#1012628).
- ovl: fix regression caused by exclusive upper/work dir
  protection (bnc#1012628).
- arm64: dt marvell: Fix AP806 system controller size
  (bnc#1012628).
- HID: rmi: Make sure the HID device is opened on resume
  (bnc#1012628).
- HID: i2c-hid: allocate hid buffers for real worst case
  (bnc#1012628).
- HID: wacom: leds: Don't try to control the EKR's read-only LEDs
  (bnc#1012628).
- HID: wacom: Properly report negative values from Intuos Pro
  2 Bluetooth (bnc#1012628).
- HID: wacom: Correct coordinate system of touchring and pen twist
  (bnc#1012628).
- HID: wacom: generic: Send MSC_SERIAL and ABS_MISC when leaving
  prox (bnc#1012628).
- HID: wacom: generic: Clear ABS_MISC when tool leaves proximity
  (bnc#1012628).
- HID: wacom: Always increment hdev refcount within
  wacom_get_hdev_data (bnc#1012628).
- HID: wacom: bits shifted too much for 9th and 10th buttons
  (bnc#1012628).
- btrfs: avoid overflow when sector_t is 32 bit (bnc#1012628).
- Btrfs: fix overlap of fs_info::flags values (bnc#1012628).
- rocker: fix rocker_tlv_put_* functions for KASAN (bnc#1012628).
- netlink: fix nla_put_{u8,u16,u32} for KASAN (bnc#1012628).
- dm crypt: reject sector_size feature if device length is not
  aligned to it (bnc#1012628).
- dm ioctl: fix alignment of event number in the device list
  (bnc#1012628).
- dm crypt: fix memory leak in crypt_ctr_cipher_old()
  (bnc#1012628).
- KVM: PPC: Book3S: Fix server always zero from
  kvmppc_xive_get_xive() (bnc#1012628).
- kvm/x86: Avoid async PF preempting the kernel incorrectly
  (bnc#1012628).
- iwlwifi: mvm: use IWL_HCMD_NOCOPY for MCAST_FILTER_CMD
  (bnc#1012628).
- scsi: sd: Implement blacklist option for WRITE SAME w/ UNMAP
  (bnc#1012628).
- scsi: sd: Do not override max_sectors_kb sysfs setting
  (bnc#1012628).
- brcmfmac: add length check in brcmf_cfg80211_escan_handler()
  (bnc#1012628).
- brcmfmac: setup passive scan if requested by user-space
  (bnc#1012628).
- drm/i915: always update ELD connector type after get modes
  (bnc#1012628).
- drm/i915/bios: ignore HDMI on port A (bnc#1012628).
- bsg-lib: fix use-after-free under memory-pressure (bnc#1012628).
- nvme-pci: Use PCI bus address for data/queues in CMB
  (bnc#1012628).
- mmc: core: add driver strength selection when selecting hs400es
  (bnc#1012628).
- nl80211: Define policy for packet pattern attributes
  (bnc#1012628).
- clk: samsung: exynos4: Enable VPLL and EPLL clocks for
  suspend/resume cycle (bnc#1012628).
- udp: perform source validation for mcast early demux
  (bnc#1012628).
- udp: fix bcast packet reception (bnc#1012628).
- base: arch_topology: fix section mismatch build warnings
  (bnc#1012628).
- commit 5a88d59

-------------------------------------------------------------------
Wed Oct 11 10:09:24 CEST 2017 - tiwai@suse.de

- ALSA: seq: Fix use-after-free at creating a port
  (CVE-2017-15265, bsc#1062520).
- commit fe07a5d

-------------------------------------------------------------------
Mon Oct  9 15:50:44 CEST 2017 - mbrugger@suse.com

- arm64: Ensure fpsimd support is ready before userspace is active
  (bsc#1061188).
- arm64: Ensure the instruction emulation is ready for userspace
  (bsc#1061188).
- commit d9ee625

-------------------------------------------------------------------
Mon Oct  9 13:32:45 CEST 2017 - jeffm@suse.com

- Update to 4.14-rc4.
- commit 879f297

-------------------------------------------------------------------
Fri Oct  6 22:19:04 CEST 2017 - mwilck@suse.com

- watchdog: Revert "iTCO_wdt: all versions count down twice"
  (bsc#1061556).
- commit c6bc876

-------------------------------------------------------------------
Fri Oct  6 16:12:33 CEST 2017 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: add the kernel-binary dependencies to
  kernel-binary-base (bsc#1060333).
- commit 955681c

-------------------------------------------------------------------
Fri Oct  6 11:15:55 CEST 2017 - pmladek@suse.com

- Delete
  patches.suse/ftrace-x86-xen-use-kernel-identity-mapping-only-when.patch.
  The change is not longer needed with PVOPS Xen (bsc#873195).
- commit 8366b6a

-------------------------------------------------------------------
Thu Oct  5 21:17:53 CEST 2017 - jeffm@suse.com

- Delete patches.rpmify/cloneconfig.diff.
- commit 437d08e

-------------------------------------------------------------------
Thu Oct  5 21:07:02 CEST 2017 - jeffm@suse.com

- Only use patches.suse for patches.
  This eliminates patches.arch, patches.drivers, and patches.fixes, and moves
  the patches contained in them to patches.suse.
  Also update feedback for Patch-mainline tags.
- commit 343996e

-------------------------------------------------------------------
Thu Oct  5 20:17:22 CEST 2017 - jslaby@suse.cz

- Linux 4.13.5 (bnc#1012628).
- cifs: check rsp for NULL before dereferencing in SMB2_open
  (bnc#1012628).
- cifs: release cifs root_cred after exit_cifs (bnc#1012628).
- cifs: release auth_key.response for reconnect (bnc#1012628).
- nvme-pci: fix host memory buffer allocation fallback
  (bnc#1012628).
- nvme-pci: use appropriate initial chunk size for HMB allocation
  (bnc#1012628).
- nvme-pci: propagate (some) errors from host memory buffer setup
  (bnc#1012628).
- dax: remove the pmem_dax_ops->flush abstraction (bnc#1012628).
- dm integrity: do not check integrity for failed read operations
  (bnc#1012628).
- mmc: block: Fix incorrectly initialized requests (bnc#1012628).
- fs/proc: Report eip/esp in /prod/PID/stat for coredumping
  (bnc#1012628).
- scsi: scsi_transport_fc: fix NULL pointer dereference in
  fc_bsg_job_timeout (bnc#1012628).
- SMB3: Add support for multidialect negotiate (SMB2.1 and later)
  (bnc#1012628).
- mac80211: fix VLAN handling with TXQs (bnc#1012628).
- mac80211_hwsim: Use proper TX power (bnc#1012628).
- mac80211: flush hw_roc_start work before cancelling the ROC
  (bnc#1012628).
- mac80211: fix deadlock in driver-managed RX BA session start
  (bnc#1012628).
- genirq: Make sparse_irq_lock protect what it should protect
  (bnc#1012628).
- genirq/msi: Fix populating multiple interrupts (bnc#1012628).
- genirq: Fix cpumask check in __irq_startup_managed()
  (bnc#1012628).
- KVM: PPC: Book3S HV: Hold kvm->lock around call to
  kvmppc_update_lpcr (bnc#1012628).
- KVM: PPC: Book3S HV: Fix bug causing host SLB to be restored
  incorrectly (bnc#1012628).
- KVM: PPC: Book3S HV: Don't access XIVE PIPR register using
  byte accesses (bnc#1012628).
- tracing: Fix trace_pipe behavior for instance traces
  (bnc#1012628).
- tracing: Erase irqsoff trace with empty write (bnc#1012628).
- tracing: Remove RCU work arounds from stack tracer
  (bnc#1012628).
- md/raid5: fix a race condition in stripe batch (bnc#1012628).
- md/raid5: preserve STRIPE_ON_UNPLUG_LIST in
  break_stripe_batch_list (bnc#1012628).
- scsi: scsi_transport_iscsi: fix the issue that iscsi_if_rx
  doesn't parse nlmsg properly (bnc#1012628).
- scsi: aacraid: Fix 2T+ drives on SmartIOC-2000 (bnc#1012628).
- scsi: aacraid: Add a small delay after IOP reset (bnc#1012628).
- drm/exynos: Fix locking in the suspend/resume paths
  (bnc#1012628).
- drm/i915/gvt: Fix incorrect PCI BARs reporting (bnc#1012628).
- Revert "drm/i915/bxt: Disable device ready before shutdown
  command" (bnc#1012628).
- drm/radeon: disable hard reset in hibernate for APUs
  (bnc#1012628).
- crypto: drbg - fix freeing of resources (bnc#1012628).
- crypto: talitos - Don't provide setkey for non hmac hashing algs
  (bnc#1012628).
- crypto: talitos - fix sha224 (bnc#1012628).
- crypto: talitos - fix hashing (bnc#1012628).
- security/keys: properly zero out sensitive key material in
  big_key (bnc#1012628).
- security/keys: rewrite all of big_key crypto (bnc#1012628).
- KEYS: fix writing past end of user-supplied buffer in
  keyring_read() (bnc#1012628).
- KEYS: prevent creating a different user's keyrings
  (bnc#1012628).
- KEYS: prevent KEYCTL_READ on negative key (bnc#1012628).
- libnvdimm, namespace: fix btt claim class crash (bnc#1012628).
- powerpc/eeh: Create PHB PEs after EEH is initialized
  (bnc#1012628).
- powerpc/pseries: Fix parent_dn reference leak in add_dt_node()
  (bnc#1012628).
- powerpc/tm: Flush TM only if CPU has TM feature (bnc#1012628).
- MIPS: Fix perf event init (bnc#1012628).
- s390/perf: fix bug when creating per-thread event (bnc#1012628).
- s390/mm: make pmdp_invalidate() do invalidation only
  (bnc#1012628).
- s390/mm: fix write access check in gup_huge_pmd() (bnc#1012628).
- PM: core: Fix device_pm_check_callbacks() (bnc#1012628).
- Revert "IB/ipoib: Update broadcast object if PKey value was
  changed in index 0" (bnc#1012628).
- Fix SMB3.1.1 guest authentication to Samba (bnc#1012628).
- SMB3: Fix endian warning (bnc#1012628).
- SMB3: Warn user if trying to sign connection that authenticated
  as guest (bnc#1012628).
- SMB: Validate negotiate (to protect against downgrade) even
  if signing off (bnc#1012628).
- SMB3: handle new statx fields (bnc#1012628).
- SMB3: Don't ignore O_SYNC/O_DSYNC and O_DIRECT flags
  (bnc#1012628).
- vfs: Return -ENXIO for negative SEEK_HOLE / SEEK_DATA offsets
  (bnc#1012628).
- libceph: don't allow bidirectional swap of pg-upmap-items
  (bnc#1012628).
- brd: fix overflow in __brd_direct_access (bnc#1012628).
- gfs2: Fix debugfs glocks dump (bnc#1012628).
- bsg-lib: don't free job in bsg_prepare_job (bnc#1012628).
- iw_cxgb4: drop listen destroy replies if no ep found
  (bnc#1012628).
- iw_cxgb4: remove the stid on listen create failure
  (bnc#1012628).
- iw_cxgb4: put ep reference in pass_accept_req() (bnc#1012628).
- rcu: Allow for page faults in NMI handlers (bnc#1012628).
- mmc: sdhci-pci: Fix voltage switch for some Intel host
  controllers (bnc#1012628).
- extable: Consolidate *kernel_text_address() functions
  (bnc#1012628).
- extable: Enable RCU if it is not watching in
  kernel_text_address() (bnc#1012628).
- selftests/seccomp: Support glibc 2.26 siginfo_t.h (bnc#1012628).
- seccomp: fix the usage of get/put_seccomp_filter() in
  seccomp_get_filter() (bnc#1012628).
- arm64: Make sure SPsel is always set (bnc#1012628).
- arm64: mm: Use READ_ONCE when dereferencing pointer to pte table
  (bnc#1012628).
- arm64: fault: Route pte translation faults via
  do_translation_fault (bnc#1012628).
- KVM: VMX: extract __pi_post_block (bnc#1012628).
- KVM: VMX: avoid double list add with VT-d posted interrupts
  (bnc#1012628).
- KVM: VMX: simplify and fix vmx_vcpu_pi_load (bnc#1012628).
- KVM: nVMX: fix HOST_CR3/HOST_CR4 cache (bnc#1012628).
- kvm/x86: Handle async PF in RCU read-side critical sections
  (bnc#1012628).
- KVM: VMX: Do not BUG() on out-of-bounds guest IRQ (bnc#1012628).
- kvm: nVMX: Don't allow L2 to access the hardware CR8
  (bnc#1012628).
- xfs: validate bdev support for DAX inode flag (bnc#1012628).
- fix infoleak in waitid(2) (bnc#1012628).
- sched/sysctl: Check user input value of sysctl_sched_time_avg
  (bnc#1012628).
- irq/generic-chip: Don't replace domain's name (bnc#1012628).
- mtd: Fix partition alignment check on multi-erasesize devices
  (bnc#1012628).
- mtd: nand: atmel: fix buffer overflow in atmel_pmecc_user
  (bnc#1012628).
- etnaviv: fix submit error path (bnc#1012628).
- etnaviv: fix gem object list corruption (bnc#1012628).
- futex: Fix pi_state->owner serialization (bnc#1012628).
- md: fix a race condition for flush request handling
  (bnc#1012628).
- md: separate request handling (bnc#1012628).
- PCI: Fix race condition with driver_override (bnc#1012628).
- btrfs: fix NULL pointer dereference from free_reloc_roots()
  (bnc#1012628).
- btrfs: clear ordered flag on cleaning up ordered extents
  (bnc#1012628).
- btrfs: finish ordered extent cleaning if no progress is found
  (bnc#1012628).
- btrfs: propagate error to btrfs_cmp_data_prepare caller
  (bnc#1012628).
- btrfs: prevent to set invalid default subvolid (bnc#1012628).
- PM / OPP: Call notifier without holding opp_table->lock
  (bnc#1012628).
- x86/mm: Fix fault error path using unsafe vma pointer
  (bnc#1012628).
- x86/fpu: Don't let userspace set bogus xcomp_bv (bnc#1012628).
- KVM: VMX: do not change SN bit in vmx_update_pi_irte()
  (bnc#1012628).
- KVM: VMX: remove WARN_ON_ONCE in
  kvm_vcpu_trigger_posted_interrupt (bnc#1012628).
- KVM: VMX: use cmpxchg64 (bnc#1012628).
- video: fbdev: aty: do not leak uninitialized padding in clk
  to userspace (bnc#1012628).
- Update config files.
- commit 3fd9659

-------------------------------------------------------------------
Thu Oct  5 17:15:40 CEST 2017 - tiwai@suse.de

- Refresh QXL fixes: they've been upstreamed
   patches.drivers/qxl-fix-pinning.patch
   patches.drivers/qxl-fix-primary-surface-handling.patch
- commit 7034d64

-------------------------------------------------------------------
Thu Oct  5 16:27:06 CEST 2017 - tiwai@suse.de

- platform/x86: peaq-wmi: Add DMI check before binding to the
  WMI interface (bsc#1059807).
- commit a6a03ea

-------------------------------------------------------------------
Wed Oct  4 14:14:49 CEST 2017 - jeffm@suse.com

- Delete patches.suse/suse-hv-storvsc-sg_tablesize.patch.
  Per Olaf Hering, this is no longer needed.
- commit 83b19a6

-------------------------------------------------------------------
Wed Oct  4 11:35:41 CEST 2017 - jslaby@suse.cz

- orc: mark it as reliable (bnc#1058115).
- Update config files.
- commit 3cbbf06

-------------------------------------------------------------------
Wed Oct  4 10:13:54 CEST 2017 - jslaby@suse.cz

- x86/asm: Use register variable to get stack pointer value
  (bnc#1058115).
- commit a5d4692

-------------------------------------------------------------------
Wed Oct  4 09:58:46 CEST 2017 - jslaby@suse.cz

- x86/asm: Fix inline asm call constraints for GCC 4.4
  (bnc#1058115).
- commit 034c016

-------------------------------------------------------------------
Wed Oct  4 08:45:21 CEST 2017 - hare@suse.de

- Delete patches.fixes/sd_liberal_28_sense_invalid.diff.
- Delete patches.suse/dm-emulate-blkrrpart-ioctl.
- Delete patches.suse/scsi-netlink-ml.
- commit b8f0083

-------------------------------------------------------------------
Wed Oct  4 02:38:01 CEST 2017 - agraf@suse.de

- Delete patches.arch/arm-OMAP-Fix-missing-usb.h-include.patch.
  (no longer needed)
- Delete patches.arch/arm-arndale-usb.patch. (no longer needed)
- Delete
  patches.arch/arm64-0006-arm64-Select-reboot-driver-for-X-Gene-platform.patch.
  (not needed, our config already includes the driver)
- Delete patches.arch/ppc64le-build-vmlinux.patch. (no longer needed)
- commit 2b9d327

-------------------------------------------------------------------
Tue Oct  3 23:01:53 CEST 2017 - jeffm@suse.com

- Disable patches.suse/binutils2_26.patch for testing.
  The issue addressed by this patch should be handled via upstream
  commit 6d92bc9d483 (x86/build: Build compressed x86 kernels as PIE).
- commit f27997b

-------------------------------------------------------------------
Tue Oct  3 22:37:09 CEST 2017 - neilb@suse.com

- Delete
  patches.fixes/0001-Revert-SUNRPC-xs_sock_mark_closed-does-not-need-to-t.patch.
  Not needed, bug was fixed some other way since that patch
  was created.
- commit d55ee70

-------------------------------------------------------------------
Tue Oct  3 17:04:49 CEST 2017 - mgorman@suse.de

- Delete patches.suse/connector-read-mostly.
- commit 8ae100a

-------------------------------------------------------------------
Tue Oct  3 15:21:36 CEST 2017 - jeffm@suse.com

- series.conf: remove commented out lines for removed patches
- commit 7ea9bcc

-------------------------------------------------------------------
Tue Oct  3 14:44:32 CEST 2017 - jeffm@suse.com

- Delete patches.arch/arm-refresh-mach-types.diff.
  It was marked for refresh in 12/2016 and hasn't been updated.
- commit 8e357d7

-------------------------------------------------------------------
Mon Oct  2 18:28:19 CEST 2017 - jeffm@suse.com

- Remove s390 message catalog patches.
- Delete patches.arch/kmsg-fix-parameter-limitations.
- Delete patches.arch/s390-message-catalog.diff.
- commit 865e88d

-------------------------------------------------------------------
Mon Oct  2 17:02:41 CEST 2017 - jeffm@suse.com

- Refresh patches.suse/dm-mpath-accept-failed-paths.
- commit 04a0a7a

-------------------------------------------------------------------
Mon Oct  2 16:48:12 CEST 2017 - jeffm@suse.com

- Moved powerpc-Blacklist-GCC-5.4-6.1-and-6.2.patch to patches.rpmify.
  It's a compiler blacklist addition and should be applied to vanilla too.
- commit e34eae8

-------------------------------------------------------------------
Mon Oct  2 16:36:02 CEST 2017 - jeffm@suse.com

- Update to 4.14-rc3.
- Eliminated 2 patches.
- Config changes:
  - Crypto:
    - Crypto changes brought by Kconfig changes:
      - CONFIG_CRYPTO_GHASH=y (Kconfig dependency change)
      - CONFIG_CRYPTO_GCM=y (Kconfig dependency change)
  - armv7hl:
    -DRM_SUN4I_HDMI_CEC=y
    -CONFIG_CEC_PIN=y (dependency)
  - s390x/zfcpdump:
    - Crypto changes brought by Kconfig changes, consistent with other configs:
      - CRYPTO_MANAGER_DISABLE_TESTS=n
      - CRYPTO_DRBG_HASH=y
      - CRYPTO_DRBG_CTR=y
      - Lots of dependencies
- commit 37f329b

-------------------------------------------------------------------
Mon Oct  2 13:07:17 CEST 2017 - jslaby@suse.cz

- platform/x86: fujitsu-laptop: Don't oops when FUJ02E3 is not
  presnt (bnc#1058814).
- commit 80338f6

-------------------------------------------------------------------
Mon Oct  2 10:29:24 CEST 2017 - jslaby@suse.cz

- ORC crypto patches: Update upstream status.
- commit 01974c6

-------------------------------------------------------------------
Mon Oct  2 10:19:17 CEST 2017 - jslaby@suse.cz

- Refresh
  patches.suse/0001-objtool-Don-t-report-end-of-section-error-after-an-e.patch.
- Refresh
  patches.suse/0002-x86-head-Remove-confusing-comment.patch.
- Refresh
  patches.suse/0003-x86-head-Remove-unused-bad_address-code.patch.
- Refresh
  patches.suse/0004-x86-head-Fix-head-ELF-function-annotations.patch.
- Refresh
  patches.suse/0005-x86-boot-Annotate-verify_cpu-as-a-callable-function.patch.
- Refresh
  patches.suse/0006-x86-xen-Fix-xen-head-ELF-annotations.patch.
- Refresh
  patches.suse/0007-x86-xen-Add-unwind-hint-annotations.patch.
- Refresh
  patches.suse/0008-x86-head-Add-unwind-hint-annotations.patch.
- Delete
  patches.suse/0002-dwarf-do-not-throw-away-unwind-info.patch.
  Update upstream status and drop the dwarf remainder.
- commit c3e0cbe

-------------------------------------------------------------------
Thu Sep 28 11:33:26 CEST 2017 - jeffm@suse.com

- Update to 4.14-rc2.
- Eliminated 21 patches.
- commit b61ed0c

-------------------------------------------------------------------
Wed Sep 27 16:18:58 CEST 2017 - jslaby@suse.cz

- Linux 4.13.4 (bnc#1012628).
- orangefs: Don't clear SGID when inheriting ACLs (bnc#1012628).
- <linux/uaccess.h>: Fix copy_in_user() declaration (bnc#1012628).
- IB/hfi1: Revert egress pkey check enforcement (bnc#1012628).
- IB/{qib, hfi1}: Avoid flow control testing for RDMA write
  operation (bnc#1012628).
- IB/mlx5: Fix cached MR allocation flow (bnc#1012628).
- srcu: Provide ordering for CPU not involved in grace period
  (bnc#1012628).
- smp/hotplug: Handle removal correctly in cpuhp_store_callbacks()
  (bnc#1012628).
- Input: xpad - validate USB endpoint type during probe
  (bnc#1012628).
- drm/amdgpu: read reg in each iterator of psp_wait_for loop
  (bnc#1012628).
- tty: improve tty_insert_flip_char() fast path (bnc#1012628).
- tty: improve tty_insert_flip_char() slow path (bnc#1012628).
- tty: fix __tty_insert_flip_char regression (bnc#1012628).
- pinctrl: samsung: Fix invalid register offset used for
  Exynos5433 external interrupts (bnc#1012628).
- pinctrl: samsung: Fix NULL pointer exception on external
  interrupts on S3C24xx (bnc#1012628).
- pinctrl/amd: save pin registers over suspend/resume
  (bnc#1012628).
- Input: i8042 - add Gigabyte P57 to the keyboard reset table
  (bnc#1012628).
- MIPS: math-emu: <MAX|MAXA|MIN|MINA>.<D|S>: Fix quiet NaN
  propagation (bnc#1012628).
- MIPS: math-emu: <MAX|MAXA|MIN|MINA>.<D|S>: Fix cases of both
  inputs zero (bnc#1012628).
- MIPS: math-emu: <MAX|MIN>.<D|S>: Fix cases of both inputs
  negative (bnc#1012628).
- MIPS: math-emu: <MAXA|MINA>.<D|S>: Fix cases of input values
  with opposite signs (bnc#1012628).
- MIPS: math-emu: <MAXA|MINA>.<D|S>: Fix cases of both infinite
  inputs (bnc#1012628).
- MIPS: math-emu: MINA.<D|S>: Fix some cases of infinity and
  zero inputs (bnc#1012628).
- MIPS: math-emu: <MADDF|MSUBF>.<D|S>: Fix NaN propagation
  (bnc#1012628).
- MIPS: math-emu: <MADDF|MSUBF>.<D|S>: Fix some cases of infinite
  inputs (bnc#1012628).
- MIPS: math-emu: <MADDF|MSUBF>.<D|S>: Fix some cases of zero
  inputs (bnc#1012628).
- MIPS: math-emu: <MADDF|MSUBF>.<D|S>: Clean up "maddf_flags"
  enumeration (bnc#1012628).
- MIPS: math-emu: <MADDF|MSUBF>.S: Fix accuracy (32-bit case)
  (bnc#1012628).
- MIPS: math-emu: <MADDF|MSUBF>.D: Fix accuracy (64-bit case)
  (bnc#1012628).
- docs: disable KASLR when debugging kernel (bnc#1012628).
- crypto: ccp - Fix XTS-AES-128 support on v5 CCPs (bnc#1012628).
- crypto: scompress - don't sleep with preemption disabled
  (bnc#1012628).
- crypto: caam/qi - fix typo in authenc alg driver name
  (bnc#1012628).
- crypto: caam/qi - properly set IV after {en,de}crypt
  (bnc#1012628).
- crypto: AF_ALG - remove SGL terminator indicator when chaining
  (bnc#1012628).
- regulator: cpcap: Fix standby mode (bnc#1012628).
- wcn36xx: Introduce mutual exclusion of fw configuration
  (bnc#1012628).
- ext4: in ext4_seek_{hole,data}, return -ENXIO for negative
  offsets (bnc#1012628).
- ext4: fix incorrect quotaoff if the quota feature is enabled
  (bnc#1012628).
- ext4: fix quota inconsistency during orphan cleanup for
  read-only mounts (bnc#1012628).
- cxl: Fix driver use count (bnc#1012628).
- powerpc/powernv/npu: Move tlb flush before launching ATSD
  (bnc#1012628).
- powerpc/pseries: Don't attempt to acquire drc during memory
  hot add for assigned lmbs (bnc#1012628).
- powerpc: Fix DAR reporting when alignment handler faults
  (bnc#1012628).
- block: Relax a check in blk_start_queue() (bnc#1012628).
- block: directly insert blk-mq request from
  blk_insert_cloned_request() (bnc#1012628).
- md/bitmap: copy correct data for bitmap super (bnc#1012628).
- md/bitmap: disable bitmap_resize for file-backed bitmaps
  (bnc#1012628).
- skd: Avoid that module unloading triggers a use-after-free
  (bnc#1012628).
- skd: Submit requests to firmware before triggering the doorbell
  (bnc#1012628).
- scsi: zfcp: fix queuecommand for scsi_eh commands when DIX
  enabled (bnc#1012628).
- scsi: zfcp: add handling for FCP_RESID_OVER to the fcp ingress
  path (bnc#1012628).
- scsi: zfcp: fix capping of unsuccessful GPN_FT SAN response
  trace records (bnc#1012628).
- scsi: zfcp: fix passing fsf_req to SCSI trace on TMF to
  correlate with HBA (bnc#1012628).
- scsi: zfcp: fix missing trace records for early returns in
  TMF eh handlers (bnc#1012628).
- scsi: zfcp: fix payload with full FCP_RSP IU in SCSI trace
  records (bnc#1012628).
- scsi: zfcp: trace HBA FSF response by default on dismiss or
  timedout late response (bnc#1012628).
- scsi: zfcp: trace high part of "new" 64 bit SCSI LUN
  (bnc#1012628).
- scsi: qedi: off by one in qedi_get_cmd_from_tid() (bnc#1012628).
- scsi: aacraid: Fix command send race condition (bnc#1012628).
- scsi: megaraid_sas: mismatch of allocated MFI frame size and
  length exposed in MFI MPT pass through command (bnc#1012628).
- scsi: megaraid_sas: set minimum value of resetwaittime to be
  1 secs (bnc#1012628).
- scsi: megaraid_sas: Check valid aen class range to avoid kernel
  panic (bnc#1012628).
- scsi: megaraid_sas: Return pended IOCTLs with cmd_status
  MFI_STAT_WRONG_STATE in case adapter is dead (bnc#1012628).
- scsi: storvsc: fix memory leak on ring buffer busy
  (bnc#1012628).
- scsi: sg: factor out sg_fill_request_table() (bnc#1012628).
- scsi: sg: fixup infoleak when using SG_GET_REQUEST_TABLE
  (bnc#1012628).
- scsi: qla2xxx: Update fw_started flags at qpair creation
  (bnc#1012628).
- scsi: qla2xxx: Correction to vha->vref_count timeout
  (bnc#1012628).
- scsi: qla2xxx: Fix target multiqueue configuration
  (bnc#1012628).
- scsi: qla2xxx: Use BIT_6 to acquire FAWWPN from switch
  (bnc#1012628).
- scsi: qla2xxx: Use fabric name for Get Port Speed command
  (bnc#1012628).
- mailbox: bcm-flexrm-mailbox: Fix mask used in
  CMPL_START_ADDR_VALUE() (bnc#1012628).
- ftrace: Fix debug preempt config name in
  stack_tracer_{en,dis}able (bnc#1012628).
- ftrace: Fix selftest goto location on error (bnc#1012628).
- ftrace: Fix memleak when unregistering dynamic ops when tracing
  disabled (bnc#1012628).
- tracing: Add barrier to trace_printk() buffer nesting
  modification (bnc#1012628).
- tracing: Fix clear of RECORDED_TGID flag when disabling trace
  event (bnc#1012628).
- tracing: Apply trace_clock changes to instance max buffer
  (bnc#1012628).
- ARC: Re-enable MMU upon Machine Check exception (bnc#1012628).
- PCI: shpchp: Enable bridge bus mastering if MSI is enabled
  (bnc#1012628).
- PCI: pciehp: Report power fault only once until we clear it
  (bnc#1012628).
- net/netfilter/nf_conntrack_core: Fix net_conntrack_lock()
  (bnc#1012628).
- s390/mm: fix local TLB flushing vs. detach of an mm address
  space (bnc#1012628).
- s390/mm: fix race on mm->context.flush_mm (bnc#1012628).
- media: v4l2-compat-ioctl32: Fix timespec conversion
  (bnc#1012628).
- media: Revert "[media] lirc_dev: remove superfluous
  get/put_device() calls" (bnc#1012628).
- media: venus: fix copy/paste error in return_buf_error
  (bnc#1012628).
- media: uvcvideo: Prevent heap overflow when accessing mapped
  controls (bnc#1012628).
- media: adv7180: add missing adv7180cp, adv7180st i2c device IDs
  (bnc#1012628).
- PM / devfreq: Fix memory leak when fail to register device
  (bnc#1012628).
- ALSA: seq: Cancel pending autoload work at unbinding device
  (bnc#1012628).
- bcache: initialize dirty stripes in flash_dev_run()
  (bnc#1012628).
- bcache: Fix leak of bdev reference (bnc#1012628).
- bcache: do not subtract sectors_to_gc for bypassed IO
  (bnc#1012628).
- bcache: correct cache_dirty_target in __update_writeback_rate()
  (bnc#1012628).
- bcache: Correct return value for sysfs attach errors
  (bnc#1012628).
- bcache: fix sequential large write IO bypass (bnc#1012628).
- bcache: fix for gc and write-back race (bnc#1012628).
- bcache: fix bch_hprint crash and improve output (bnc#1012628).
- sched/cpuset/pm: Fix cpuset vs. suspend-resume bugs
  (bnc#1012628).
- iwlwifi: add workaround to disable wide channels in 5GHz
  (bnc#1012628).
- commit c028f76

-------------------------------------------------------------------
Wed Sep 27 14:07:55 CEST 2017 - jslaby@suse.cz

- usb: quirks: add delay init quirk for Corsair Strafe RGB
  keyboard (bnc#1012628).
- USB: serial: option: add support for D-Link DWM-157 C1
  (bnc#1012628).
- usb: Add device quirk for Logitech HD Pro Webcam C920-C
  (bnc#1012628).
- usb:xhci:Fix regression when ATI chipsets detected
  (bnc#1012628).
- USB: musb: fix external abort on suspend (bnc#1012628).
- ANDROID: binder: add padding to binder_fd_array_object
  (bnc#1012628).
- ANDROID: binder: add hwbinder,vndbinder to BINDER_DEVICES
  (bnc#1012628).
- USB: core: Avoid race of async_completed() w/ usbdev_release()
  (bnc#1012628).
- staging/rts5208: fix incorrect shift to extract upper nybble
  (bnc#1012628).
- staging: ccree: save ciphertext for CTS IV (bnc#1012628).
- staging: fsl-dpaa2/eth: fix off-by-one FD ctrl bitmaks
  (bnc#1012628).
- iio: adc: ti-ads1015: fix incorrect data rate setting update
  (bnc#1012628).
- iio: adc: ti-ads1015: fix scale information for ADS1115
  (bnc#1012628).
- iio: adc: ti-ads1015: enable conversion when CONFIG_PM is not
  set (bnc#1012628).
- iio: adc: ti-ads1015: avoid getting stale result after runtime
  resume (bnc#1012628).
- iio: adc: ti-ads1015: don't return invalid value from buffer
  setup callbacks (bnc#1012628).
- iio: adc: ti-ads1015: add adequate wait time to get correct
  conversion (bnc#1012628).
- driver core: bus: Fix a potential double free (bnc#1012628).
- HID: wacom: Do not completely map WACOM_HID_WD_TOUCHRINGSTATUS
  usage (bnc#1012628).
- binder: free memory on error (bnc#1012628).
- crypto: caam/qi - fix compilation with
  CONFIG_DEBUG_FORCE_WEAK_PER_CPU=y (bnc#1012628).
- crypto: caam/qi - fix compilation with DEBUG enabled
  (bnc#1012628).
- thunderbolt: Fix reset response_type (bnc#1012628).
- fpga: altera-hps2fpga: fix multiple init of l3_remap_lock
  (bnc#1012628).
- intel_th: pci: Add Cannon Lake PCH-H support (bnc#1012628).
- intel_th: pci: Add Cannon Lake PCH-LP support (bnc#1012628).
- ath10k: fix memory leak in rx ring buffer allocation
  (bnc#1012628).
- drm/vgem: Pin our pages for dmabuf exports (bnc#1012628).
- drm/ttm: Fix accounting error when fail to get pages for pool
  (bnc#1012628).
- drm/dp/mst: Handle errors from
  drm_atomic_get_private_obj_state() correctly (bnc#1012628).
- rtlwifi: rtl_pci_probe: Fix fail path of _rtl_pci_find_adapter
  (bnc#1012628).
- Bluetooth: Add support of 13d3:3494 RTL8723BE device
  (bnc#1012628).
- iwlwifi: pci: add new PCI ID for 7265D (bnc#1012628).
- dlm: avoid double-free on error path in
  dlm_device_{register,unregister} (bnc#1012628).
- mwifiex: correct channel stat buffer overflows (bnc#1012628).
- MCB: add support for SC31 to mcb-lpc (bnc#1012628).
- s390/mm: avoid empty zero pages for KVM guests to avoid postcopy
  hangs (bnc#1012628).
- drm/nouveau/pci/msi: disable MSI on big-endian platforms by
  default (bnc#1012628).
- drm/nouveau: Fix error handling in nv50_disp_atomic_commit
  (bnc#1012628).
- workqueue: Fix flag collision (bnc#1012628).
- ahci: don't use MSI for devices with the silly Intel NVMe
  remapping scheme (bnc#1012628).
- cs5536: add support for IDE controller variant (bnc#1012628).
- scsi: sg: protect against races between mmap() and
  SG_SET_RESERVED_SIZE (bnc#1012628).
- scsi: sg: recheck MMAP_IO request length with lock held
  (bnc#1012628).
- of/device: Prevent buffer overflow in of_device_modalias()
  (bnc#1012628).
- rtlwifi: Fix memory leak when firmware request fails
  (bnc#1012628).
- rtlwifi: Fix fallback firmware loading (bnc#1012628).
- Linux 4.13.1 (bnc#1012628).
- mtd: nand: make Samsung SLC NAND usable again (bnc#1012628).
- mtd: nand: hynix: add support for 20nm NAND chips (bnc#1012628).
- mtd: nand: mxc: Fix mxc_v1 ooblayout (bnc#1012628).
- mtd: nand: qcom: fix read failure without complete bootchain
  (bnc#1012628).
- mtd: nand: qcom: fix config error for BCH (bnc#1012628).
- nvme-fabrics: generate spec-compliant UUID NQNs (bnc#1012628).
- btrfs: resume qgroup rescan on rw remount (bnc#1012628).
- rtlwifi: btcoexist: Fix breakage of ant_sel for rtl8723be
  (bnc#1012628).
- rtlwifi: btcoexist: Fix antenna selection code (bnc#1012628).
- radix-tree: must check __radix_tree_preload() return value
  (bnc#1012628).
- brcmfmac: feature check for multi-scheduled scan fails on
  bcm4345 devices (bnc#1012628).
- kselftests: timers: leap-a-day: Change default arguments to
  help test runs (bnc#1012628).
- selftests: timers: Fix run_destructive_tests target to handle
  skipped tests (bnc#1012628).
- selftests/x86/fsgsbase: Test selectors 1, 2, and 3
  (bnc#1012628).
- mm: kvfree the swap cluster info if the swap file is
  unsatisfactory (bnc#1012628).
- mm/swapfile.c: fix swapon frontswap_map memory leak on error
  (bnc#1012628).
- mm/sparse.c: fix typo in online_mem_sections (bnc#1012628).
- mm/memory.c: fix mem_cgroup_oom_disable() call missing
  (bnc#1012628).
- KVM: SVM: Limit PFERR_NESTED_GUEST_PAGE error_code check to
  L1 guest (bnc#1012628).
- Revert "firmware: add sanity check on shutdown/suspend"
  (bnc#1012628).
- rt2800: fix TX_PIN_CFG setting for non MT7620 chips (bnc#1012628
  bnc#1055826).
- Bluetooth: Properly check L2CAP config option output buffer
  length (bnc#1012628).
- ARM64: dts: marvell: armada-37xx: Fix GIC maintenance interrupt
  (bnc#1012628).
- ARM: 8692/1: mm: abort uaccess retries upon fatal signal
  (bnc#1012628).
- NFS: Fix 2 use after free issues in the I/O code (bnc#1012628).
- NFS: Sync the correct byte range during synchronous writes
  (bnc#1012628).
- NFSv4: Fix up mirror allocation (bnc#1012628).
- xfs: XFS_IS_REALTIME_INODE() should be false if no rt device
  present (bnc#1012628).
- Linux 4.13.2 (bnc#1012628).
- Revert "net: use lib/percpu_counter API for fragmentation mem
  accounting" (bnc#1012628).
- Revert "net: fix percpu memory leaks" (bnc#1012628).
- gianfar: Fix Tx flow control deactivation (bnc#1012628).
- vhost_net: correctly check tx avail during rx busy polling
  (bnc#1012628).
- ip6_gre: update mtu properly in ip6gre_err (bnc#1012628).
- udp: drop head states only when all skb references are gone
  (bnc#1012628).
- ipv6: fix memory leak with multiple tables during netns
  destruction (bnc#1012628).
- ipv6: fix typo in fib6_net_exit() (bnc#1012628).
- sctp: fix missing wake ups in some situations (bnc#1012628).
- tcp: fix a request socket leak (bnc#1012628).
- ip_tunnel: fix setting ttl and tos value in collect_md mode
  (bnc#1012628).
- f2fs: let fill_super handle roll-forward errors (bnc#1012628).
- f2fs: check hot_data for roll-forward recovery (bnc#1012628).
- thunderbolt: Remove superfluous check (bnc#1012628).
- thunderbolt: Make key root-only accessible (bnc#1012628).
- thunderbolt: Allow clearing the key (bnc#1012628).
- x86/fsgsbase/64: Fully initialize FS and GS state in
  start_thread_common (bnc#1012628).
- x86/fsgsbase/64: Report FSBASE and GSBASE correctly in core
  dumps (bnc#1012628).
- x86/switch_to/64: Rewrite FS/GS switching yet again to fix
  AMD CPUs (bnc#1012628).
- x86/mm, mm/hwpoison: Clear PRESENT bit for kernel 1:1 mappings
  of poison pages (bnc#1012628).
- ovl: fix false positive ESTALE on lookup (bnc#1012628).
- fuse: allow server to run in different pid_ns (bnc#1012628).
- idr: remove WARN_ON_ONCE() when trying to replace negative ID
  (bnc#1012628).
- libnvdimm, btt: check memory allocation failure (bnc#1012628).
- libnvdimm: fix integer overflow static analysis warning
  (bnc#1012628).
- xfs: write unmount record for ro mounts (bnc#1012628).
- xfs: toggle readonly state around xfs_log_mount_finish
  (bnc#1012628).
- xfs: Add infrastructure needed for error propagation during
  buffer IO failure (bnc#1012628).
- xfs: Properly retry failed inode items in case of error during
  buffer writeback (bnc#1012628).
- xfs: fix recovery failure when log record header wraps log end
  (bnc#1012628).
- xfs: always verify the log tail during recovery (bnc#1012628).
- xfs: fix log recovery corruption error due to tail overwrite
  (bnc#1012628).
- xfs: handle -EFSCORRUPTED during head/tail verification
  (bnc#1012628).
- xfs: stop searching for free slots in an inode chunk when
  there are none (bnc#1012628).
- xfs: evict all inodes involved with log redo item (bnc#1012628).
- xfs: check for race with xfs_reclaim_inode() in
  xfs_ifree_cluster() (bnc#1012628).
- xfs: open-code xfs_buf_item_dirty() (bnc#1012628).
- xfs: remove unnecessary dirty bli format check for ordered bufs
  (bnc#1012628).
- xfs: ordered buffer log items are never formatted (bnc#1012628).
- xfs: refactor buffer logging into buffer dirtying helper
  (bnc#1012628).
- xfs: don't log dirty ranges for ordered buffers (bnc#1012628).
- xfs: skip bmbt block ino validation during owner change
  (bnc#1012628).
- xfs: move bmbt owner change to last step of extent swap
  (bnc#1012628).
- xfs: disallow marking previously dirty buffers as ordered
  (bnc#1012628).
- xfs: relog dirty buffers during swapext bmbt owner change
  (bnc#1012628).
- xfs: disable per-inode DAX flag (bnc#1012628).
- xfs: fix incorrect log_flushed on fsync (bnc#1012628).
- xfs: don't set v3 xflags for v2 inodes (bnc#1012628).
- xfs: open code end_buffer_async_write in
  xfs_finish_page_writeback (bnc#1012628).
- xfs: use kmem_free to free return value of kmem_zalloc
  (bnc#1012628).
- md/raid1/10: reset bio allocated from mempool (bnc#1012628).
- md/raid5: release/flush io in raid5_do_work() (bnc#1012628).
- xfs: fix compiler warnings (bnc#1012628).
- Linux 4.13.3 (bnc#1012628).
- Delete patches.kernel.org/patch-4.13.1.
- Delete patches.kernel.org/patch-4.13.1-2.
- Delete patches.kernel.org/patch-4.13.2-3.
  Replace stable all-in-one patches by expanded patches.
- commit 8e0ee21

-------------------------------------------------------------------
Mon Sep 25 19:47:20 CEST 2017 - jslaby@suse.cz

- x86/asm: Fix inline asm call constraints for Clang
  (bnc#1058115).
- objtool: Handle another GCC stack pointer adjustment bug
  (bnc#1058115).
- x86/asm: Fix inline asm call constraints for Clang
  (bnc#1058115).
- objtool: Handle another GCC stack pointer adjustment bug
  (bnc#1058115).
- commit 8e680d0

-------------------------------------------------------------------
Mon Sep 25 17:13:28 CEST 2017 - jslaby@suse.cz

- scripts/stableids: generate one file per commit
- commit c82ad0e

-------------------------------------------------------------------
Mon Sep 25 14:37:55 CEST 2017 - mkubecek@suse.cz

- 8139too: revisit napi_complete_done() usage (bsc#1042208).
- commit 99343bb

-------------------------------------------------------------------
Sun Sep 24 21:20:35 CEST 2017 - msuchanek@suse.de

- rpm/kernel-binary.spec.in: only rewrite modules.dep if non-zero in size
  (bsc#1056979).
- commit 75691fd

-------------------------------------------------------------------
Fri Sep 22 16:57:13 CEST 2017 - jslaby@suse.cz

- crypto: x86/blowfish - Fix RBP usage (bnc#1058115).
- crypto: x86/camellia - Fix RBP usage (bnc#1058115).
- crypto: x86/cast5 - Fix RBP usage (bnc#1058115).
- crypto: x86/cast6 - Fix RBP usage (bnc#1058115).
- crypto: x86/des3_ede - Fix RBP usage (bnc#1058115).
- crypto: x86/sha1-avx2 - Fix RBP usage (bnc#1058115).
- crypto: x86/sha1-ssse3 - Fix RBP usage (bnc#1058115).
- crypto: x86/sha256-avx - Fix RBP usage (bnc#1058115).
- crypto: x86/sha256-avx2 - Fix RBP usage (bnc#1058115).
- crypto: x86/sha256-ssse3 - Fix RBP usage (bnc#1058115).
- crypto: sha512-avx2 - Fix RBP usage (bnc#1058115).
- crypto: x86/twofish - Fix RBP usage (bnc#1058115).
  Update upstream status.
- commit e890e3e

-------------------------------------------------------------------
Thu Sep 21 11:42:07 CEST 2017 - jeffm@suse.com

- drm/tegra: trace: Fix path to include (build fix).
- commit aecd9be

-------------------------------------------------------------------
Wed Sep 20 17:44:22 CEST 2017 - afaerber@suse.de

- config: armv7hl: Update to 4.14-rc1
- commit 9d284f8

-------------------------------------------------------------------
Wed Sep 20 17:29:24 CEST 2017 - afaerber@suse.de

- config: armv6hl: Update to 4.14-rc1
- commit 0c2764f

-------------------------------------------------------------------
Wed Sep 20 17:12:26 CEST 2017 - afaerber@suse.de

- config: arm64: Update to 4.14-rc1
- commit d6909a3

-------------------------------------------------------------------
Wed Sep 20 16:34:08 CEST 2017 - jeffm@suse.com

- Revert "KVM: Don't accept obviously wrong gsi values via
  KVM_IRQFD" (build fix).
- commit f436aa0

-------------------------------------------------------------------
Wed Sep 20 16:10:00 CEST 2017 - mcgrof@suse.com

- nl80211: check for the required netlink attributes presence
  (bsc#1058410 CVE-2017-12153).
- commit 8afa5c8

-------------------------------------------------------------------
Wed Sep 20 16:04:44 CEST 2017 - mcgrof@suse.com

- nl80211: check for the required netlink attributes presence
  (bsc#1058410 CVE-2017-12153).
- commit 6d93561

-------------------------------------------------------------------
Wed Sep 20 10:49:56 CEST 2017 - tiwai@suse.de

- qxl: fix pinning (bsc#1057241,bsc#1057123).
- qxl: fix primary surface handling (bsc#1057241,bsc#1057123).
- commit b3d7f33

-------------------------------------------------------------------
Wed Sep 20 08:43:24 CEST 2017 - jslaby@suse.cz

- Linux 4.13.3 (bnc#1012628).
- Refresh
  patches.suse/0001-x86-entry-64-Refactor-IRQ-stacks-and-make-them-NMI-s.patch.
- commit 76ecbd3

-------------------------------------------------------------------
Wed Sep 20 00:54:10 CEST 2017 - lduncan@suse.com

- Fix incorrect backport of compatibility patch (bsc#1053501)
  This fixes commit fe56e414dcf9, which incorrectly placed
  the back-ported macros in libc-compat.h in the wrong place.
  It is important for __UAPI_DEF_IOVEC to be defined
  correctly with and without GLIBC being defined.
- commit 102e6e3

-------------------------------------------------------------------
Tue Sep 19 16:07:16 CEST 2017 - jslaby@suse.cz

- objtool: Fix object file corruption (bnc#1058115).
- objtool: Do not retrieve data from empty sections (bnc#1058115).
- objtool: Fix memory leak in elf_create_rela_section()
  (bnc#1058115).
- objtool: Fix object file corruption (bnc#1058115).
- objtool: Do not retrieve data from empty sections (bnc#1058115).
- objtool: Fix memory leak in elf_create_rela_section()
  (bnc#1058115).
- commit 5a29d69

-------------------------------------------------------------------
Tue Sep 19 12:52:31 CEST 2017 - jslaby@suse.cz

- x86/crypto: Fix RBP usage in twofish-avx-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in sha512-avx2-asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha256-ssse3-asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha256-avx2-asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha256-avx-asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha1_ssse3_asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha1_avx2_x86_64_asm.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in des3_ede-asm_64.S (bnc#1058115).
- x86/crypto: Fix RBP usage in cast6-avx-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in cast5-avx-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in camellia-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in blowfish-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in twofish-avx-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in sha512-avx2-asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha256-ssse3-asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha256-avx2-asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha256-avx-asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha1_ssse3_asm.S (bnc#1058115).
- x86/crypto: Fix RBP usage in sha1_avx2_x86_64_asm.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in des3_ede-asm_64.S (bnc#1058115).
- x86/crypto: Fix RBP usage in cast6-avx-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in cast5-avx-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in camellia-x86_64-asm_64.S
  (bnc#1058115).
- x86/crypto: Fix RBP usage in blowfish-x86_64-asm_64.S
  (bnc#1058115).
- commit 38f3021

-------------------------------------------------------------------
Tue Sep 19 10:18:55 CEST 2017 - jeffm@suse.com

- Update to 4.14-rc1.
- Eliminated 17 patches.
- ARM configs need updating.
- Config changes:
  - General:
    - HMM_MIRROR=n
    - DEVICE_PRIVATE=n
    - DEVICE_PUBLIC=n
    - SQUASHFS_ZSTD=y
    - ZRAM_WRITEBACK=y
  - x86:
    - INTEL_RDT=y (renamed option)
    - XEN_PVCALLS_BACKEND=y
    - X86_5LEVEL=n (will only boot on systems that support it)
    - AMD_MEM_ENCRYPT=y
    - AMD_MEM_ENCRYPT_ACTIVE_BY_DEFAULT=n
  - ppc:
    - PPC_MEMTRACE=y
    - PPC_VAS=y
  - s390:
    - CMA_DEBUG=n
    - CMA_DEBUGFS=n
    - CMA_AREAS=7 (default)
    - DMA_CMA=n
    - VMCP_CMA_SIZE=4 (default)
  - Netfilter:
    - NFT_FIB_NETDEV
  - Hyperv:
    - HYPERV_VSOCKETS
  - Network:
    - NET_NSH
    - BPF_STREAM_PARSER=y (build fix)
    - BNXT_FLOWER_OFFLOAD=y
    - HINIC
    - MLX5_MPFS=y
    - MLX5_ESWITCH=y
    - RMNET=n
    - ROCKCHIP_PHY
    - WIL6210_DEBUGFS=n
    - ATH10K_USB
  - Bluetooth:
    - BT_LEGACY_IOCTL=y (default)
  - SPI:
    - SPI_INTEL_SPI_PCI
  - Misc:
    - INPUT_PWM_VIBRA=m
    - SERIO_GPIO_PS2=m
    - PINCTRL_DENVERTON
    - PINCTRL_LEWISBURG
    - W1_SLAVE_DS2805
    - BATTERY_BQ27XXX_HDQ=m
    - BATTERY_MAX1721X
    - SENSORS_IBM_CFFPS
    - SENSORS_TPS53679
    - CLOCK_THERMAL=y
    - DEVFREQ_THERMAL=y
    - MFD_BD9571MWV=n
    - INTEL_SOC_PMIC_CHTWC=y
    - MFD_TPS68470=n
    - IR_GPIO_TX=n
    - IR_PWM_TX=n
    - DVB_DDBRIDGE
       - DVB_DDBRIDGE_MSIENABLE=n
    - TINYDRM_REPAPER=n
    - TINYDRM_ST7586=n
    - SND_SOC_CS43130=n
    - SND_SOC_WM8524=n
    - MMC_SPI
    - LEDS_AS3645A=n
    - LEDS_PCA955X_GPIO=y
    - INFINIBAND_EXP_USER_ACCESS=y [?]
    - CONFIG_ALTERA_MSGDMA
    - R8822BE
    - PI433=n
    - CLK_HSDK=n
    - EXTCON_USBC_CROS_EC
    - DLN2_ADC=m
    - LTC2471=n
    - CCS811=n
    - RESET_HSDK_V1=n
    - FPGA_MGR_ALTERA_CVP=m
    - FPGA_MGR_ALTERA_PS_SPI=m
    - CRYPTO_DEV_SP_CCP=y
    - I2C_CHT_WC=m
    - RESET_ATTACK_MITIGATION=y
- commit 08ca987

-------------------------------------------------------------------
Tue Sep 19 08:45:19 CEST 2017 - jslaby@suse.cz

- Refresh
  patches.suse/0001-objtool-Don-t-report-end-of-section-error-after-an-e.patch.
- Refresh
  patches.suse/0002-x86-head-Remove-confusing-comment.patch.
- Refresh
  patches.suse/0003-x86-head-Remove-unused-bad_address-code.patch.
- Refresh
  patches.suse/0004-x86-head-Fix-head-ELF-function-annotations.patch.
- Refresh
  patches.suse/0005-x86-boot-Annotate-verify_cpu-as-a-callable-function.patch.
- Refresh
  patches.suse/0006-x86-xen-Fix-xen-head-ELF-annotations.patch.
- Refresh
  patches.suse/0007-x86-xen-Add-unwind-hint-annotations.patch.
- Refresh
  patches.suse/0008-x86-head-Add-unwind-hint-annotations.patch.
- Delete
  patches.suse/0007-x86-xen-Add-unwind-hint-annotations-fix.patch.
  Update to the submitted v2.
- commit 27de3c0

-------------------------------------------------------------------
Sun Sep 17 14:41:51 CEST 2017 - jdelvare@suse.de

- drm/amdgpu: revert tile table update for oland (boo#1027378,
  boo#1039806, bko#194761).
- Delete
  patches.fixes/drm-amdgpu-revert-update-tile-table-for-oland-hainan.patch.
- commit 51745cf

-------------------------------------------------------------------
Thu Sep 14 20:35:54 CEST 2017 - jslaby@suse.cz

- Linux 4.13.2 (bnc#1012628 bsc#1055826).
- Delete
  patches.drivers/rt2800-fix-TX_PIN_CFG-setting-for-non-MT7620-chips.
- Delete
  patches.fixes/Bluetooth-validate-output-buffer-length-for-config-r.patch.
- commit 96d9efa

-------------------------------------------------------------------
Wed Sep 13 20:50:54 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: Fix a thinko for xmlto buildreq condition
- commit 0ef59d3

-------------------------------------------------------------------
Wed Sep 13 08:24:42 CEST 2017 - jslaby@suse.cz

- Bluetooth: validate output buffer length for config requests
  and responses (bnc#1057389 CVE-2017-1000251).
- commit c0b7e1f

-------------------------------------------------------------------
Tue Sep 12 14:57:54 CEST 2017 - jslaby@suse.cz

- fix annotations of xen-head.S (bnc#1058115).
- commit d4c88a5

-------------------------------------------------------------------
Tue Sep 12 13:54:48 CEST 2017 - msuchanek@suse.de

- rpm/kernel-docs.spec.in: make unpack scripts executable
- commit 1ba3766

-------------------------------------------------------------------
Tue Sep 12 13:51:53 CEST 2017 - jslaby@suse.cz

- x86/head: Add unwind hint annotations (bnc#1058115).
- x86/xen: Add unwind hint annotations (bnc#1058115).
- x86/xen: Fix xen head ELF annotations (bnc#1058115).
- x86/boot: Annotate verify_cpu() as a callable function
  (bnc#1058115).
- x86/head: Fix head ELF function annotations (bnc#1058115).
- x86/head: Remove unused 'bad_address' code (bnc#1058115).
- x86/head: Remove confusing comment (bnc#1058115).
- objtool: Don't report end of section error after an empty
  unwind hint (bnc#1058115).
- commit 53af152

-------------------------------------------------------------------
Tue Sep 12 13:26:40 CEST 2017 - jslaby@suse.cz

- objtool: Assume unannotated UD2 instructions are dead ends
  (bnc#1058115).
- objtool: Fix gcov check for older versions of GCC (bnc#1058115).
- objtool: Fix objtool fallthrough detection with function padding
  (bnc#1058115).
- objtool: Fix validate_branch() return codes (bnc#1058115).
- objtool: Handle GCC stack pointer adjustment bug (bnc#1058115).
- x86/asm: Add ASM_UNREACHABLE (bnc#1058115).
- x86/asm: Fix UNWIND_HINT_REGS macro for older binutils
  (bnc#1058115).
- x86/asm: Make objtool unreachable macros independent from GCC
  version (bnc#1058115).
- objtool: Skip unreachable warnings for 'alt' instructions
  (bnc#1058115).
- objtool: Track DRAP separately from callee-saved registers
  (bnc#1058115).
- Refresh patches.suse/0001-x86-unwind-Add-the-ORC-unwinder.patch.
  Take all ORC upstream patches. This will go to stable & SLE15 too.
- commit 831ca01

-------------------------------------------------------------------
Mon Sep 11 15:54:48 CEST 2017 - jslaby@suse.cz

- Refresh
  patches.suse/0001-x86-entry-64-Refactor-IRQ-stacks-and-make-them-NMI-s.patch.
- Refresh patches.suse/0001-x86-unwind-Add-the-ORC-unwinder.patch.
- Refresh
  patches.suse/0002-x86-entry-64-Initialize-the-top-of-the-IRQ-stack-bef.patch.
- Refresh
  patches.suse/0002-x86-kconfig-Make-it-easier-to-switch-to-the-new-ORC-.patch.
- Refresh
  patches.suse/0003-x86-dumpstack-Fix-occasionally-missing-registers.patch.
- Refresh
  patches.suse/0003-x86-kconfig-Consolidate-unwinders-into-multiple-choi.patch.
- Refresh
  patches.suse/0004-x86-dumpstack-Fix-interrupt-and-exception-stack-boun.patch.
- Refresh
  patches.suse/0005-objtool-Add-ORC-unwind-table-generation.patch.
- Refresh
  patches.suse/0006-objtool-x86-Add-facility-for-asm-code-to-provide-unw.patch.
- Refresh
  patches.suse/0007-x86-entry-64-Add-unwind-hint-annotations.patch.
- Refresh
  patches.suse/0008-x86-asm-Add-unwind-hint-annotations-to-sync_core.patch.
- Delete
  patches.suse/0001-linkage-new-macros-for-assembler-symbols.patch.
- Delete
  patches.suse/0003-DWARF-EH-frame-based-stack-unwinding.patch.
- Delete patches.suse/stack-unwind-disable-kasan.patch.
  Update upstream status of ORC and drop already-disabled DWARF unwinder.
- commit 2e9b944

-------------------------------------------------------------------
Mon Sep 11 09:47:41 CEST 2017 - jslaby@suse.cz

- rpm/constraints.in: build ARM on at least 2 cpus
- commit b7edeaf

-------------------------------------------------------------------
Mon Sep 11 08:01:37 CEST 2017 - jslaby@suse.cz

- rpm/constraints.in: increase memory for kernel-syzkaller
  And see if it helps. If so, push it to packaging...
- commit 7193e65

-------------------------------------------------------------------
Sun Sep 10 18:56:35 CEST 2017 - afaerber@suse.de

- config: arm64: Enable legacy instruction emulation (boo#1029158)
  Needed for execution of older e.g. ARMv6 code.
- commit a4e05e8

-------------------------------------------------------------------
Sun Sep 10 17:13:16 CEST 2017 - afaerber@suse.de

- config: arm64: Enable ACPI_DOCK for consistency
- commit cec354f

-------------------------------------------------------------------
Sun Sep 10 17:12:20 CEST 2017 - afaerber@suse.de

- config: arm64: Enable some network options
- Marvell Armada 7K/8K Ethernet driver
- Microchip ENC28J60 and related SPI Ethernet drivers
- Micrel KS8851 SPI Ethernet driver
- MMIO MDIO mux driver
- commit cf926f4

-------------------------------------------------------------------
Sun Sep 10 09:41:36 CEST 2017 - jslaby@suse.cz

- rpm/constraints.in: set physical memory
  Not memory.
- rpm/constraints.in: increase memory for kernel-syzkaller
  And see if it helps. If so, push it to packaging...
- commit 0d725b5

-------------------------------------------------------------------
Sun Sep 10 08:45:43 CEST 2017 - jslaby@suse.cz

- Linux 4.13.1 (bnc#1012628).
- commit 8740849

-------------------------------------------------------------------
Fri Sep  8 13:19:18 CEST 2017 - jslaby@suse.cz

- rpm/kernel-binary.spec.in: package ftrace-mod.o on arm64
  It is needed for building modules since 4.13:
  CC [M]  /suse/jslaby/a/aaa.o
  Building modules, stage 2.
  MODPOST 1 modules
  CC      /suse/jslaby/a/aaa.mod.o
  LD [M]  /suse/jslaby/a/aaa.ko
  ld: cannot find ./arch/arm64/kernel/ftrace-mod.o: No such file or directory
  ...
- commit 07da115

-------------------------------------------------------------------
Thu Sep  7 18:00:00 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: Expand kernel tree directly from sources (bsc#1057199)
- commit a61b4d9

-------------------------------------------------------------------
Thu Sep  7 09:47:10 CEST 2017 - jslaby@suse.cz

- Linux 4.12.11 (bnc#1012628).
- commit bf7fb08

-------------------------------------------------------------------
Wed Sep  6 23:51:29 CEST 2017 - mcgrof@suse.com

- supported.conf: add test_syctl to new kselftests-kmp package FATE#323821
  As per FATE#323821 we will require new FATE requests per each
  new selftest driver. We don't want to support these module on
  production runs but we do want to support them for QA / testing
  uses. The compromise is to package them into its own package,
  this will be the kselftests-kmp package.
  Selftests can also be used as proof of concept vehicle for issues
  by customers or ourselves.
  Vanilla kernels do not get test_sysctl given that driver was
  using built-in defaults, this also means we cannot run sefltests
  on config/s390x/zfcpdump which does not enable modules.
  Likeweise, since we had to *change* the kernel for test_syctl, it
  it also means we can't test test_syctl with vanilla kernels. It
  should be possible with other selftests drivers if they are
  present in vanilla kernels though.
- commit ae8069f

-------------------------------------------------------------------
Wed Sep  6 20:33:16 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: Re-add xmlto buildreq conditionally for SLE15 & co
- commit 259b49e

-------------------------------------------------------------------
Wed Sep  6 13:18:40 CEST 2017 - mchandras@suse.de

- rpm/group-source-files.pl: Add arch/*/tools/* files to the devel package
  Commit b71c9ffb1405 ("powerpc: Add arch/powerpc/tools directory")
  introduced in v4.12-rc1 release, moved the scripts into the tools
  directory. However, this location is not considered for the kernel devel
  package and the following error occurs when building a kmp for powerpc
  make[2]: /usr/src/linux-4.12.9-1/arch/powerpc/tools/gcc-check-mprofile-kernel.sh: Command not found
- commit 5f1ff53

-------------------------------------------------------------------
Tue Sep  5 20:41:12 CEST 2017 - jeffm@suse.com

- Update to 4.13-final.
- commit 3fdcb17

-------------------------------------------------------------------
Thu Aug 31 17:43:44 CEST 2017 - tiwai@suse.de

- rt2800: fix TX_PIN_CFG setting for non MT7620 chips
  (bsc#1055826).
- commit 8116757

-------------------------------------------------------------------
Thu Aug 31 16:24:01 CEST 2017 - jeffm@suse.com

- Update to 4.13-rc7.
- Eliminate 2 patches.
- commit dd00417

-------------------------------------------------------------------
Thu Aug 31 15:35:10 CEST 2017 - jthumshirn@suse.de

- scsi: qla2xxx: Fix an integer overflow in sysfs code
  (bsc#1056588, CVE-2017-14051).
- commit 4fafb75

-------------------------------------------------------------------
Thu Aug 31 15:32:51 CEST 2017 - jthumshirn@suse.de

- scsi: qla2xxx: Fix an integer overflow in sysfs code
  (bsc#1056588, CVE-2017-14051).
- commit aacb454

-------------------------------------------------------------------
Wed Aug 30 22:10:03 CEST 2017 - jslaby@suse.cz

- Linux 4.12.10 (bnc#1012628 bnc#1014351 bnc#1048935 bsc#1020657
  bsc#1050582).
- Delete
  patches.drivers/ALSA-hda-Add-stereo-mic-quirk-for-Lenovo-G50-70-17aa.
- Delete
  patches.fixes/Bluetooth-hidp-fix-possible-might-sleep-error-in-hid.patch.
- Delete
  patches.fixes/Input-ALPS-Fix-Alps-Touchpad-two-finger-scroll-does-.
- Delete
  patches.fixes/netfilter-expect-fix-crash-when-putting-uninited-exp.patch.
- commit 030062c

-------------------------------------------------------------------
Tue Aug 29 16:03:12 CEST 2017 - tiwai@suse.de

- Refresh patches.suse/iwlwifi-expose-default-fallback-ucode-api.
  The latest firmware matches for iwl7xxx/3168 series, so dropped the changes.
- commit 1447668

-------------------------------------------------------------------
Tue Aug 29 12:02:37 CEST 2017 - tiwai@suse.de

- Update config files: enable CONFIG_SPI_PXA2XX for MacBook (bsc#1055817)
- commit 3ce18e9

-------------------------------------------------------------------
Mon Aug 28 14:58:26 CEST 2017 - tiwai@suse.de

- rpm/kernel-binary.spec.in: Update drm-kmp obsolete for SLE12-SP3/Leap-42.3
- commit 77ccbd0

-------------------------------------------------------------------
Mon Aug 28 10:58:58 CEST 2017 - tiwai@suse.de

- Refresh patch tags of patches.fixes/Input-ALPS-Fix-Alps-Touchpad-two-finger-scroll-does-
- commit 0b3ef4c

-------------------------------------------------------------------
Mon Aug 28 10:48:06 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: Disable PDF build again
  ... due to the breakage with the recent TeXLive 2017.
  Also add the missing dependency on texlive-varwidth.
- commit 9f682b5

-------------------------------------------------------------------
Fri Aug 25 09:00:32 CEST 2017 - jslaby@suse.cz

- Linux 4.12.9 (bnc#1012628 bsc#1052580 bnc#1049599).
- Delete
  patches.drivers/ALSA-usb-audio-Apply-sample-rate-quirk-to-Sennheiser.
- Delete patches.fixes/debug-fix-WARN_ON_ONCE-for-modules.patch.
- Update config files.
- commit f2ab6ba

-------------------------------------------------------------------
Wed Aug 23 09:39:35 CEST 2017 - tiwai@suse.de

- ALSA: hda - Add stereo mic quirk for Lenovo G50-70 (17aa:3978)
  (bsc#1020657).
- commit 3f6a0b2

-------------------------------------------------------------------
Wed Aug 23 09:36:44 CEST 2017 - tiwai@suse.de

- ALSA: hda - Add stereo mic quirk for Lenovo G50-70 (17aa:3978)
  (bsc#1020657).
- commit d300598

-------------------------------------------------------------------
Wed Aug 23 09:11:31 CEST 2017 - jslaby@suse.cz

- Bluetooth: hidp: fix possible might sleep error in
  hidp_session_thread (bnc#1014351).
- commit fa3a4f0

-------------------------------------------------------------------
Tue Aug 22 20:13:09 CEST 2017 - tiwai@suse.de

- ALSA: ice1712: Add support for STAudio ADCIII (bsc#1048934).
- commit 99a99ef

-------------------------------------------------------------------
Tue Aug 22 20:12:04 CEST 2017 - tiwai@suse.de

- ALSA: ice1712: Add support for STAudio ADCIII (bsc#1048934).
- commit 53a20a8

-------------------------------------------------------------------
Tue Aug 22 19:55:58 CEST 2017 - tiwai@suse.de

- ALSA: hda - Implement mic-mute LED mode enum (bsc#1055013).
- commit a3c362f

-------------------------------------------------------------------
Tue Aug 22 19:53:54 CEST 2017 - tiwai@suse.de

- ALSA: hda - Implement mic-mute LED mode enum (bsc#1055013).
- commit b870486

-------------------------------------------------------------------
Mon Aug 21 04:15:39 CEST 2017 - jeffm@suse.com

- Update to 4.13-rc6.
- commit ee50b89

-------------------------------------------------------------------
Fri Aug 18 16:14:38 CEST 2017 - msuchanek@suse.de

- Do not ship firmware (bsc#1054239).
  Pull firmware from kernel-firmware instead.
- commit 0b0b5c9

-------------------------------------------------------------------
Thu Aug 17 14:56:01 CEST 2017 - jeffm@suse.com

- supported.conf: clear mistaken external support flag for cifs.ko (bsc#1053802).
- commit 75e287e

-------------------------------------------------------------------
Thu Aug 17 14:55:42 CEST 2017 - jeffm@suse.com

- supported.conf: mark reiserfs unsupported (FATE#323394).
  ReiserFS is not supported in SLE15.  ReiserFS file systems must be
  transferred or converted before installing.
- commit 8a547c5

-------------------------------------------------------------------
Thu Aug 17 14:55:28 CEST 2017 - jeffm@suse.com

- Update to 4.13-rc5.
- commit c3fb699

-------------------------------------------------------------------
Thu Aug 17 07:30:12 CEST 2017 - jslaby@suse.cz

- Linux 4.12.8 (bnc#1012628).
- commit 4d7933a

-------------------------------------------------------------------
Tue Aug 15 13:41:13 CEST 2017 - hare@suse.de

- Delete patches.fixes/scsi-dh-queuedata-accessors.
- commit ee998ab

-------------------------------------------------------------------
Tue Aug 15 13:34:33 CEST 2017 - hare@suse.de

- Delete patches.suse/dm-mpath-detach-existing-hardware-handler.
- commit a8291cd

-------------------------------------------------------------------
Tue Aug 15 13:33:10 CEST 2017 - hare@suse.de

- Delete patches.suse/no-partition-scan (FATE#323406)
- commit e1cccca

-------------------------------------------------------------------
Tue Aug 15 09:17:14 CEST 2017 - tiwai@suse.de

- ALSA: usb-audio: Apply sample rate quirk to Sennheiser headset
  (bsc#1052580).
- commit a8251af

-------------------------------------------------------------------
Sun Aug 13 10:27:21 CEST 2017 - jslaby@suse.cz

- Linux 4.12.7 (bnc#1012628).
- commit 7dae241

-------------------------------------------------------------------
Sun Aug 13 09:33:59 CEST 2017 - jslaby@suse.cz

- Refresh
  patches.fixes/netfilter-expect-fix-crash-when-putting-uninited-exp.patch.
  Update upstream status.
- commit cdb9f49

-------------------------------------------------------------------
Sat Aug 12 10:18:48 CEST 2017 - jslaby@suse.cz

- Linux 4.12.6 (CVE-2017-7542 CVE-2017-8831 bnc#1012628
  bsc#1037994 bsc#1049882).
- Delete
  patches.fixes/ipv6-avoid-overflow-of-offset-in-ip6_find_1stfragopt.patch.
- Delete
  patches.fixes/media-saa7164-fix-double-fetch-PCIe-access-condition.
- commit 29b7412

-------------------------------------------------------------------
Sat Aug 12 01:19:37 CEST 2017 - lduncan@suse.com

- uapi: add a compatibility layer between linux/uio.h and glibc
  (bsc#1053501).
- commit fe56e41

-------------------------------------------------------------------
Thu Aug 10 17:07:43 CEST 2017 - msuchanek@suse.de

- Refresh vanilla config.
- commit ae18928

-------------------------------------------------------------------
Thu Aug 10 15:54:22 CEST 2017 - msuchanek@suse.de

- rpm/modules.fips include module list from dracut
- commit f70bab5

-------------------------------------------------------------------
Wed Aug  9 10:35:04 CEST 2017 - ohering@suse.de

- Delete stale patches.fixes/scsi-ibmvscsi-module_alias.patch.
- Delete stale patches.suse/suse-ppc64-branding.
- commit 1c8934b

-------------------------------------------------------------------
Wed Aug  9 09:49:34 CEST 2017 - tiwai@suse.de

- [media] saa7164: fix double fetch PCIe access condition
  (CVE-2017-8831 bsc#1037994).
- commit 4d38c27

-------------------------------------------------------------------
Tue Aug  8 05:07:56 CEST 2017 - jeffm@suse.com

- Update to 4.13-rc4.
- commit 94b098f

-------------------------------------------------------------------
Mon Aug  7 08:29:23 CEST 2017 - jslaby@suse.cz

- Linux 4.12.5 (bnc#1012628 bsc#1049483 bsc#1049599).
- Delete patches.fixes/dentry-name-snapshots.patch.
- Delete
  patches.suse/0001-md-remove-idx-from-struct-resync_pages.patch.
- commit e6109ef

-------------------------------------------------------------------
Wed Aug  2 15:44:30 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: Fix package list and enable building PDFs
  Finally it works!  Added some missing pieces (ImageMagick, some texlive
  subpkgs) in addition to use explicitly python3-Sphinx stuff.
- commit c117a0c

-------------------------------------------------------------------
Tue Aug  1 13:26:15 CEST 2017 - agraf@suse.de

- Clean up upstreamed patches list. Annotate the remaining ones
  with their current status.
- Delete patches.arch/arm-exynos-dwmmc-modalias.patch.
- Delete
  patches.arch/arm64-Relocate-screen_info.lfb_base-on-PCI-BAR-alloc.patch.
- commit 3f654d5

-------------------------------------------------------------------
Mon Jul 31 15:43:01 CEST 2017 - jeffm@suse.com

- Update to 4.13-rc3.
- commit 4ef483a

-------------------------------------------------------------------
Fri Jul 28 07:45:21 CEST 2017 - jslaby@suse.cz

- Update config files.
  Fix vanillas after the orc update.
- commit 2a27bf2

-------------------------------------------------------------------
Fri Jul 28 07:41:29 CEST 2017 - jslaby@suse.cz

- Linux 4.12.4 (bnc#1012628).
- commit f2e2c0a

-------------------------------------------------------------------
Thu Jul 27 14:57:47 CEST 2017 - mkubecek@suse.cz

- ipv6: avoid overflow of offset in ip6_find_1stfragopt
  (CVE-2017-7542 bsc#1049882).
- commit 00c5961

-------------------------------------------------------------------
Thu Jul 27 09:12:00 CEST 2017 - jslaby@suse.cz

- Refresh
  patches.suse/0001-md-remove-idx-from-struct-resync_pages.patch.
- commit b11fd5b

-------------------------------------------------------------------
Thu Jul 27 07:46:03 CEST 2017 - jslaby@suse.cz

- objtool: Fix sibling call detection logic (bnc#1018348).
- x86/kconfig: Make it easier to switch to the new ORC unwinder
  (bnc#1018348).
- x86/kconfig: Consolidate unwinders into multiple choice
  selection (bnc#1018348).
- Refresh
- Refresh patches.suse/0001-x86-unwind-Add-the-ORC-unwinder.patch.
- Refresh
  patches.suse/0002-dwarf-do-not-throw-away-unwind-info.patch.
- Refresh
  patches.suse/0002-objtool-x86-Add-several-functions-and-files-to-the-o.patch.
- Refresh
  patches.suse/0002-x86-entry-64-Initialize-the-top-of-the-IRQ-stack-bef.patch.
- Refresh
  patches.suse/0002-x86-kconfig-Make-it-easier-to-switch-to-the-new-ORC-.patch.
- Refresh
  patches.suse/0003-objtool-Implement-stack-validation-2.0.patch.
- Refresh
  patches.suse/0003-x86-kconfig-Consolidate-unwinders-into-multiple-choi.patch.
- Refresh
  patches.suse/0007-x86-entry-64-Add-unwind-hint-annotations.patch.
- Refresh
  patches.suse/0008-x86-asm-Add-unwind-hint-annotations-to-sync_core.patch.
- Update config files.
  Update to version from -tip. ORC is in -tip completely. So make sure
  we use the upstream version.
- x86/kconfig: Make it easier to switch to the new ORC unwinder
  (bnc#1018348).
- x86/kconfig: Consolidate unwinders into multiple choice
  selection (bnc#1018348).
- Update config files.
- Refresh
  patches.suse/0001-x86-entry-64-Refactor-IRQ-stacks-and-make-them-NMI-s.patch.
- Refresh
  patches.suse/0002-dwarf-do-not-throw-away-unwind-info.patch.
- Refresh
  patches.suse/0002-x86-entry-64-Initialize-the-top-of-the-IRQ-stack-bef.patch.
  Update to version from -tip. ORC is in -tip completely. So make sure
  we use the upstream version.
- commit 34dd0f5

-------------------------------------------------------------------
Wed Jul 26 21:57:19 CEST 2017 - mcgrof@suse.com

- Refresh
  patches.suse/0001-mm-kmemleak-slightly-reduce-the-size-of-some-structu.patch.
- Refresh
  patches.suse/0002-mm-kmemleak-factor-object-reference-updating-out-of-.patch.
- Refresh
  patches.suse/0003-mm-kmemleak-treat-vm_struct-as-alternative-reference.patch.
- commit f7ebe40

-------------------------------------------------------------------
Wed Jul 26 21:46:06 CEST 2017 - mcgrof@suse.com

- Refresh
  patches.suse/0001-mm-kmemleak-slightly-reduce-the-size-of-some-structu.patch.
- Refresh
  patches.suse/0002-mm-kmemleak-factor-object-reference-updating-out-of-.patch.
- Refresh
  patches.suse/0003-mm-kmemleak-treat-vm_struct-as-alternative-reference.patch.
- commit eb41516

-------------------------------------------------------------------
Wed Jul 26 19:55:58 CEST 2017 - jeffm@suse.com

- Update to 4.13-rc2.
- Eliminated 1 patch.
- Config changes:
  - DRM_VBOXVIDEO=m
- commit b545b87

-------------------------------------------------------------------
Wed Jul 26 09:04:59 CEST 2017 - tiwai@suse.de

- Input: ALPS - Fix Alps Touchpad two finger scroll does not
  work on right side (bsc#1050582).
- commit 474729b

-------------------------------------------------------------------
Sun Jul 23 19:42:01 CEST 2017 - stefan.bruens@rwth-aachen.de

- config: arm64: Enable RTC and SPI on Allwinner A64/H5
  A64 and H5 share the RTC and SPI functional blocks with older SoCs,
  enable the corresponding drivers.
- commit b5bf58a

-------------------------------------------------------------------
Fri Jul 21 20:37:00 CEST 2017 - colyli@suse.de

- md: remove 'idx' from 'struct resync_pages' (bsc#1049599).
- commit 515f14e

-------------------------------------------------------------------
Fri Jul 21 11:07:14 CEST 2017 - jslaby@suse.cz

- Linux 4.12.3 (CVE-2017-7541 bnc#1012628 bsc#1049645).
- Refresh patches.suse/pstore-backend-autoaction.
- Delete
  patches.fixes/brcmfmac-fix-possible-buffer-overflow-in-brcmf_cfg80.
- commit 409edbf

-------------------------------------------------------------------
Thu Jul 20 18:22:23 CEST 2017 - jack@suse.cz

- dentry name snapshots (bsc#1049483).
- commit 76ea0ca

-------------------------------------------------------------------
Thu Jul 20 14:40:22 CEST 2017 - jslaby@suse.cz

- debug: fix WARN_ON_ONCE() for modules (bnc#1049599).
- commit b1e9bab

-------------------------------------------------------------------
Thu Jul 20 12:50:11 CEST 2017 - tiwai@suse.de

- brcmfmac: fix possible buffer overflow in
  brcmf_cfg80211_mgmt_tx() (CVE-2017-7541,bsc#1049645).
- commit 823a643

-------------------------------------------------------------------
Wed Jul 19 22:39:56 CEST 2017 - mmarek@suse.cz

- rpm/kernel-binary.spec.in: find-debuginfo.sh should not touch build-id
  This needs rpm-4.14+ (bsc#964063).
- commit f622d60

-------------------------------------------------------------------
Tue Jul 18 16:16:05 CEST 2017 - afaerber@suse.de

- config: armv7hl: Update to v4.13-rc1
- commit 1d72b01

-------------------------------------------------------------------
Tue Jul 18 15:58:06 CEST 2017 - afaerber@suse.de

- config: armv6hl: Update to v4.13-rc1
- commit 5ede81f

-------------------------------------------------------------------
Tue Jul 18 15:37:26 CEST 2017 - afaerber@suse.de

- config: arm64: Update to v4.13-rc1
- commit 7d005f8

-------------------------------------------------------------------
Tue Jul 18 14:48:23 CEST 2017 - jslaby@suse.cz

- Refresh
  patches.suse/0001-x86-entry-64-Refactor-IRQ-stacks-and-make-them-NMI-s.patch.
- Refresh
  patches.suse/0002-x86-entry-64-Initialize-the-top-of-the-IRQ-stack-bef.patch.
- Refresh
  patches.suse/0003-x86-dumpstack-fix-occasionally-missing-registers.patch.
- Refresh
  patches.suse/0004-x86-dumpstack-fix-interrupt-and-exception-stack-boun.patch.
- Refresh
  patches.suse/0005-objtool-add-ORC-unwind-table-generation.patch.
- Refresh
  patches.suse/0006-objtool-x86-add-facility-for-asm-code-to-provide-unw.patch.
- Refresh
  patches.suse/0007-x86-entry-64-add-unwind-hint-annotations.patch.
- Refresh
  patches.suse/0008-x86-asm-add-unwind-hint-annotations-to-sync_core.patch.
  Update upstream information.
- commit 8db850a

-------------------------------------------------------------------
Tue Jul 18 12:40:05 CEST 2017 - tiwai@suse.de

- Delete patches.fixes/drm-i915-Fix-S4-resume-breakage.
  The workaround wasn't merged to upstream, and it seems becoming
  superfluous with the recent i915 driver, so let's drop this one.
- commit f6f228c

-------------------------------------------------------------------
Tue Jul 18 11:52:45 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: Drop unnecessary xmlto for 4.13+
- commit e47dc84

-------------------------------------------------------------------
Tue Jul 18 11:52:08 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: Correct kernel-docs package summary/description
- commit 697b763

-------------------------------------------------------------------
Tue Jul 18 11:45:39 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: refresh dependencies for PDF build (bsc#1048129)
  But it still doesn't work with Tex Live 2017, thus disabled yet.
  Also add texlive-anyfontsize for HTML math handling.
- commit ead44a1

-------------------------------------------------------------------
Tue Jul 18 08:07:50 CEST 2017 - jslaby@suse.cz

- Delete patches.rpmify/drm-i915-disable-KASAN-for-handlers.patch.
  It was never accepted, is under discussion. But we disabled
  CONFIG_DRM_I915_WERROR in commit 5fc7b327348b, so we are safe anyway.
- commit 09fc05f

-------------------------------------------------------------------
Tue Jul 18 07:49:30 CEST 2017 - jslaby@suse.cz

- Delete patches.rpmify/get_builtin_firmware-gcc-7.patch.
  This was never accepted. Instead this seems to be fixed in gcc.
- commit c486b10

-------------------------------------------------------------------
Mon Jul 17 23:39:36 CEST 2017 - jeffm@suse.com

- Updated to 4.13-rc1.
- Eliminated 13 patches.
- ARM configs need updating.
- Config changes:
  - General:
    - SLAB_MERGE_DEFAULT=y (current behavior)
    - REFCOUNT_FULL=n (current behavior)
    - PERCPU_STATS=n (default)
    - FORTIFY_SOURCE=n (needs performance analysis)
    - WARN_ALL_UNSEEDED_RANDOM=n
    - TRACE_EVAL_MAP_FILE=n
    - TEST_SYSCTL=n
    - TEST_KMOD=n
  - Storage:
    - DM_ZONED=m
  - IB:
    - Options for MLX5:
      - MLX5_FPGA
      - MLX5_EN_IPSEC=y
      - MLXFW=m
    - SECURITY_INFINIBAND=y
  - Network:
    - Options for NFP:
      - NFP_APP_FLOWER=y
    - CORTINA_PHY=n (intended for embedded apps)
    - ATH10K_SDIO=m
    - QTNFMAC_PEARL_PCIE=m
  - DRM:
    - DRM_I915_SW_FENCE_CHECK_DAG=n
  - Sound:
    - SND_SOC_INTEL_BYT_CHT_ES8316_MACH=m
    - SND_SOC_INTEL_KBL_RT5663_MAX98927_MACH=m
    - SND_SOC_INTEL_KBL_RT5663_RT5514_MAX98927_MACH=m
    - SND_SOC_ZX_AUD96P22=n
  - HID:
    - HID_ITE=n
    - HID_RETRODE=m
  - USB:
    - TYPEC_UCSI=m
      - UCSI_ACPI=m
  - Misc:
    - RTC_NVMEM=y
    - RTC_DRV_DS3232_HWMON=y
    - WMI_BMOF=m
    - PEAQ_WMI=m
    - INTEL_INT0002_VGPIO=m
    - CROS_EC_LPC_MEC=y
    - EXTCON_INTEL_CHT_WC=m
    - NTB_IDT=m
    - MULTIPLEXER=m
    - KEYBOARD_DLINK_DIR685=n
    - TOUCHSCREEN_STMFTS=n
    - I2C_DESIGNWARE_SLAVE=n
    - SPI_SLAVE=n
    - PINCTRL_MCP23S08=n
    - PINCTRL_CANNONLAKE=m
    - GPIO_XRA1403=n
    - BATTERY_BQ27XXX_DT_UPDATES_NVM=n
    - CHARGER_LTC3651=n
    - SENSORS_IR35221=n
    - WATCHDOG_HANDLE_BOOT_ENABLED=y (default)
  - File Systems:
    - OVERLAY_FS_INDEX=n (mounting on an older kernel read-write will cause unexpected results)
    - CIFS_DEBUG_DUMP_KEYS=n
  - Crypto:
    - CRC4=m
  - X86:
    - INTEL_SOC_PMIC_CHTWC=m
    - CHT_WC_PMIC_OPREGION=y
  - ppc64/ppc64le:
    - CONFIG_IRQ_TIME_ACCOUNTING=n
    - CONFIG_LD_HEAD_STUB_CATCH=n
    - ZONE_DEVICE=y
  - ppc64le:
    - STRICT_KERNEL_RWX=y
  - s390x:
    - CRYPTO_PAES_S390=m
- commit d418532

-------------------------------------------------------------------
Mon Jul 17 23:29:55 CEST 2017 - jeffm@suse.com

- Delete patches.drivers/ppc64-adb.
  This hardware was discontinued in 2006 and the patch was never accepted
  upstream.
- commit 995698b

-------------------------------------------------------------------
Mon Jul 17 23:28:26 CEST 2017 - jeffm@suse.com

- Delete patches.arch/ppc-prom-nodisplay.patch.
  We no longer support 32-bit ppc and this hardware only existed with a
  32-bit CPU.
- commit d94ed1e

-------------------------------------------------------------------
Mon Jul 17 23:25:27 CEST 2017 - jeffm@suse.com

- Delete patches.arch/ppc-pegasos-console-autodetection.patch.
  We no longer support 32-bit ppc and this hardware only existed with a
  32-bit CPU.
- commit b42ddc6

-------------------------------------------------------------------
Mon Jul 17 23:23:25 CEST 2017 - jeffm@suse.com

- Delete patches.suse/ppc-powerbook-usb-fn-key-default.patch.
  We no longer support 32-bit ppc and there were no 64-bit powerbooks.
- commit 9e9a512

-------------------------------------------------------------------
Mon Jul 17 18:04:45 CEST 2017 - jeffm@suse.com

- Disable patches.suse/pstore-backend-autoaction.
  It needs updating and there now exists a mount option instead of a module
  parameter.
- commit 87a5ab7

-------------------------------------------------------------------
Mon Jul 17 18:04:00 CEST 2017 - jeffm@suse.com

- Delete patches.fixes/block-copy-bi_vcnt-in-_bio_clone_fast.
  This was obsoleted by 764f612c6c3c ("blk-merge: don't compute
  bi_phys_segments from bi_vcnt for cloned bio").
- commit f0c2642

-------------------------------------------------------------------
Mon Jul 17 17:23:55 CEST 2017 - jslaby@suse.cz

- netfilter: expect: fix crash when putting uninited expectation
  (bnc#1048935).
- netfilter: expect: fix crash when putting uninited expectation
  (bnc#1048935).
- Delete
  patches.fixes/netfilter-nf_ct_expect-fix-expect-removal.patch.
  Replace by upstream fix (from a subsys repo).
- commit cc9efac

-------------------------------------------------------------------
Mon Jul 17 17:09:40 CEST 2017 - jslaby@suse.cz

- netfilter: nf_ct_expect: fix expect removal (bnc#1048935).
- commit 28fe876

-------------------------------------------------------------------
Mon Jul 17 11:34:30 CEST 2017 - mmarek@suse.cz

- Drop multiversion(kernel) from the KMP template (fate#323189)
- commit 71504d8

-------------------------------------------------------------------
Tue Jul 11 10:20:24 CEST 2017 - tiwai@suse.de

- rpm/kernel-docs.spec.in: Fix and cleanup for 4.13 doc build (bsc#1048129)
  The whole DocBook stuff has been deleted.  The PDF build still non-working
  thus the sub-packaging disabled so far.
- commit 8e7de10

-------------------------------------------------------------------
Mon Jun 19 22:50:59 CEST 2017 - mcgrof@suse.com

- mm: kmemleak: treat vm_struct as alternative reference to vmalloc'ed objects (bsc#1027456).
- mm: kmemleak: factor object reference updating out of scan_block() (bsc#1027456).
- mm: kmemleak: slightly reduce the size of some structures on 64-bit architectures (bsc#1027456).
- commit 880dbd7

-------------------------------------------------------------------
Fri Jun  2 19:28:12 CEST 2017 - afaerber@suse.de

- rpm/dtb.spec.in.in: Fix new include path
  Commit 89de3db69113d58cdab14d2c777de6080eac49dc ("rpm/dtb.spec.in.in:
  Update include path for dt-bindings") introduced an additional include
  path for 4.12. The commit message had it correct, but the spec file
  template lacked a path component, breaking the aarch64 build while
  succeeding on armv7hl. Fix that.
- commit c8d853a

-------------------------------------------------------------------
Wed May 31 14:43:33 CEST 2017 - afaerber@suse.de

- rpm/dtb.spec.in.in: Update include path for dt-bindings
  Kernels before 4.12 had arch/{arm,arm64}/boot/dts/include/ directories
  with a symlink to include/dt-bindings/.
  In 4.12 those include/ directories were dropped.
  Therefore use include/ directly.
  Additionally some cross-architecture .dtsi reuse was introduced, which
  requires scripts/dtc/include-prefixes/ that didn't exist on older kernels.
- commit 466f108

-------------------------------------------------------------------
Fri Jan  6 13:39:12 CET 2017 - afaerber@suse.de

- rpm: Add arm64 dtb-zte subpackage
  4.9 added arch/arm64/boot/dts/zte/.
- commit 073d831

-------------------------------------------------------------------
Fri Jan  6 12:46:50 CET 2017 - afaerber@suse.de

- rpm: Add arm64 dtb-allwinner subpackage
  4.10 added arch/arm64/boot/dts/allwinner/.
- commit dfeb94a

-------------------------------------------------------------------
Tue Dec 20 22:04:04 CET 2016 - xxxxxmichl@googlemail.com

- added De0-Nanos-SoC board support (and others based on Altera SOC).
- commit 9278339

