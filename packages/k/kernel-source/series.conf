# Kernel patches configuration file
# vim: set ts=8 sw=8 noet:
#
# There are three kinds of rules (see guards.1 for details):
# +symbol       include this patch if symbol is defined; otherwise exclude.
# -symbol       exclude this patch if symbol is defined; otherwise include.
# -             exclude this patch.
#
# Using symbols means that an entirely different source tree will be
# generated depending on which symbols are defined. This used to be
# a good thing when arch-specific patches contained conflicts with other
# patches, but we now have a policy that patches must build everywhere.
# The result is a unified source tree that allows us to do neat things
# like ship kernel module packages. Creating a divergent tree breaks
# these # so you'd better have an extraordinary reason for using them.
# For example, the openSUSE 10.3 kernel uses them for segregating the
# -rt patches until they can be integrated completely, and these are
# only applied at the very end of the series.
#
# The most common use in recent kernels is to disable a patch with a
# username as the symbol to indicate responsbility. Another use is
# to check in a patch for testing, but have it disabled in all but your
# own build environment.

	########################################################
	# latest standard kernel patches
	# DO NOT MODIFY THEM!
	# Send separate patches upstream if you find a problem...
	########################################################
	patches.kernel.org/6.4.1-001-x86-microcode-AMD-Load-late-on-both-threads-too.patch
	patches.kernel.org/6.4.1-002-x86-smp-Make-stop_other_cpus-more-robust.patch
	patches.kernel.org/6.4.1-003-x86-smp-Dont-access-non-existing-CPUID-leaf.patch
	patches.kernel.org/6.4.1-004-x86-smp-Remove-pointless-wmb-s-from-native_stop.patch
	patches.kernel.org/6.4.1-005-x86-smp-Use-dedicated-cache-line-for-mwait_play.patch
	patches.kernel.org/6.4.1-006-x86-smp-Cure-kexec-vs.-mwait_play_dead-breakage.patch
	patches.kernel.org/6.4.1-007-cpufreq-amd-pstate-Make-amd-pstate-EPP-driver-n.patch
	patches.kernel.org/6.4.1-008-can-isotp-isotp_sendmsg-fix-return-error-fix-on.patch
	patches.kernel.org/6.4.1-009-maple_tree-fix-potential-out-of-bounds-access-i.patch
	patches.kernel.org/6.4.1-010-mm-introduce-new-lock_mm_and_find_vma-page-faul.patch
	patches.kernel.org/6.4.1-011-mm-make-the-page-fault-mmap-locking-killable.patch
	patches.kernel.org/6.4.1-012-arm64-mm-Convert-to-using-lock_mm_and_find_vma.patch
	patches.kernel.org/6.4.1-013-powerpc-mm-Convert-to-using-lock_mm_and_find_vm.patch
	patches.kernel.org/6.4.1-014-mips-mm-Convert-to-using-lock_mm_and_find_vma.patch
	patches.kernel.org/6.4.1-015-riscv-mm-Convert-to-using-lock_mm_and_find_vma.patch
	patches.kernel.org/6.4.1-016-arm-mm-Convert-to-using-lock_mm_and_find_vma.patch
	patches.kernel.org/6.4.1-017-mm-fault-convert-remaining-simple-cases-to-lock.patch
	patches.kernel.org/6.4.1-018-powerpc-mm-convert-coprocessor-fault-to-lock_mm.patch
	patches.kernel.org/6.4.1-019-mm-make-find_extend_vma-fail-if-write-lock-not-.patch
	patches.kernel.org/6.4.1-020-execve-expand-new-process-stack-manually-ahead-.patch
	patches.kernel.org/6.4.1-021-mm-always-expand-the-stack-with-the-mmap-write-.patch
	patches.kernel.org/6.4.1-022-HID-wacom-Use-ktime_t-rather-than-int-when-deal.patch
	patches.kernel.org/6.4.1-023-gup-add-warning-if-some-caller-would-seem-to-wa.patch
	patches.kernel.org/6.4.1-024-mm-khugepaged-fix-regression-in-collapse_file.patch
	patches.kernel.org/6.4.1-025-fbdev-fix-potential-OOB-read-in-fast_imageblit.patch
	patches.kernel.org/6.4.1-026-HID-hidraw-fix-data-race-on-device-refcount.patch
	patches.kernel.org/6.4.1-027-HID-logitech-hidpp-add-HIDPP_QUIRK_DELAYED_INIT.patch
	patches.kernel.org/6.4.1-028-Revert-thermal-drivers-mediatek-Use-devm_of_iom.patch
	patches.kernel.org/6.4.1-029-sparc32-fix-lock_mm_and_find_vma-conversion.patch
	patches.kernel.org/6.4.1-030-parisc-fix-expand_stack-conversion.patch
	patches.kernel.org/6.4.1-031-csky-fix-up-lock_mm_and_find_vma-conversion.patch
	patches.kernel.org/6.4.1-032-xtensa-fix-NOMMU-build-with-lock_mm_and_find_vm.patch
	patches.kernel.org/6.4.1-033-Linux-6.4.1.patch
	patches.kernel.org/6.4.2-001-xtensa-fix-lock_mm_and_find_vma-in-case-VMA-not.patch
	patches.kernel.org/6.4.2-002-tools-nolibc-x86_64-disable-stack-protector-for.patch
	patches.kernel.org/6.4.2-003-PCI-ACPI-Validate-acpi_pci_set_power_state-para.patch
	patches.kernel.org/6.4.2-004-PCI-ACPI-Call-_REG-when-transitioning-D-states.patch
	patches.kernel.org/6.4.2-005-execve-always-mark-stack-as-growing-down-during.patch
	patches.kernel.org/6.4.2-006-nfs-don-t-report-STATX_BTIME-in-getattr.patch
	patches.kernel.org/6.4.2-007-Revert-cxl-port-Enable-the-HDM-decoder-capabili.patch
	patches.kernel.org/6.4.2-008-nubus-Partially-revert-proc_create_single_data-.patch
	patches.kernel.org/6.4.2-009-hugetlb-revert-use-of-page_cache_next_miss.patch
	patches.kernel.org/6.4.2-010-scripts-tags.sh-Resolve-gtags-empty-index-gener.patch
	patches.kernel.org/6.4.2-011-docs-Set-minimal-gtags-GNU-GLOBAL-version-to-6..patch
	patches.kernel.org/6.4.2-012-dm-ioctl-Avoid-double-fetch-of-version.patch
	patches.kernel.org/6.4.2-013-drm-amdgpu-Validate-VM-ioctl-flags.patch
	patches.kernel.org/6.4.2-014-arch-arm64-mm-fault-Fix-undeclared-variable-err.patch
	patches.kernel.org/6.4.2-015-Linux-6.4.2.patch

	########################################################
	# Build fixes that apply to the vanilla kernel too.
	# Patches in patches.rpmify are applied to both -vanilla
	# and patched flavors.
	########################################################
	patches.rpmify/Add-ksym-provides-tool.patch
	patches.rpmify/Revert-kconfig-only-write-CONFIG_FOO-is-not-set-for-.patch
	patches.rpmify/BTF-Don-t-break-ABI-when-debuginfo-is-disabled.patch
	patches.rpmify/usrmerge-Adjust-module-path-in-the-kernel-sources.patch

	########################################################
	# The sorted section should contain all patches that are
	# either mainline backports or are already in a known
	# subystem maintainer repository so that they can be
	# sorted by git-sort scripts. Out-of-tree patches (which
	# includes any patch without Git-commit tag) belong
	# either into the "on the way to mainline" section below
	# or into one of the subsystem sections.
	#
	# The sorted section should be small or empty on the
	# stable or master branches.
	########################################################

	########################################################
	# sorted patches
	########################################################
	patches.suse/regulator-axp20x-Add-AXP15060-support.patch
	patches.suse/HID-microsoft-Add-rumble-support-to-latest-xbox-cont.patch
	patches.suse/mm-lock-a-vma-before-stack-expansion.patch
	patches.suse/mm-lock-newly-mapped-VMA-which-can-be-modified-after.patch
	patches.suse/fork-lock-VMAs-of-the-parent-process-when-forking.patch
	patches.suse/mm-lock-newly-mapped-VMA-with-corrected-ordering.patch
	########################################################
	# end of sorted patches
	########################################################

	########################################################
	# Unsorted patches on their way to mainline
	#
	# (SLE/Leap: this section is only for patches which
	# cannot go into the sorted section yet.
	#
	# Patches which are already in subsystem maintainer
	# repository or otherwise expected to get into mainline
	# within 1-2 releases belong here. Patches not expected
	# to get into mainline any time soon (or ever) belong
	# to area specific sections below.
	########################################################
	patches.suse/drm-amdgpu-sdma4-set-align-mask-to-255.patch

	patches.suse/drm-amdgpu-make-sure-BOs-are-locked-in-amdgpu_vm_get.patch
	patches.suse/drm-amdgpu-make-sure-that-BOs-have-a-backing-store.patch
	patches.suse/drm-amdgpu-Skip-mark-offset-for-high-priority-rings.patch
	patches.suse/drm-amdgpu-fix-clearing-mappings-for-BOs-that-are-al.patch
	patches.suse/drm-amd-pm-revise-the-ASPM-settings-for-thunderbolt-.patch
	patches.suse/drm-amd-display-add-a-NULL-pointer-check.patch
	patches.suse/drm-amd-display-disable-seamless-boot-if-force_odm_c.patch
	patches.suse/drm-amd-display-Fix-128b132b-link-loss-handling.patch
	patches.suse/drm-amd-pm-update-the-LC_L1_INACTIVITY-setting-to-ad.patch
	patches.suse/drm-amd-Disable-PSR-SU-on-Parade-0803-TCON.patch
	patches.suse/drm-amd-pm-add-abnormal-fan-detection-for-smu-13.0.0.patch
	patches.suse/drm-amdgpu-check-RAS-irq-existence-for-VCN-JPEG.patch
	patches.suse/drm-amd-display-perform-a-bounds-check-before-fillin.patch
	patches.suse/drm-amdgpu-fix-number-of-fence-calculations.patch
	patches.suse/drm-amd-Don-t-try-to-enable-secure-display-TA-multip.patch

	########################################################
	# kbuild/module infrastructure fixes
	########################################################

	# SUSE specific build tweaks
	patches.suse/rpm-kernel-config
	patches.suse/add-suse-supported-flag.patch
	patches.suse/genksyms-add-override-flag.diff
	patches.suse/kernel-add-product-identifying-information-to-kernel-build.patch
	patches.suse/kernel-add-release-status-to-kernel-build.patch
	patches.suse/panic-do-not-print-uninitialized-taint_flags.patch

	# build tweaks for external KMPs
	patches.suse/s390-export-symbols-for-crash-kmp.patch

	########################################################
	# Performance-related tuning of defaults
	########################################################
	patches.suse/readahead-request-tunables.patch

	########################################################
	# Architecture specific patches
	########################################################

	# x86

	# s390x

	# ppc64

	# ARM
	patches.suse/0001-regulator-mt6360-Add-OF-match-table.patch
	patches.suse/0002-regulator-mt6358-Add-OF-match-table.patch
	patches.suse/0003-regulator-mt6323-Add-OF-match-table.patch

	########################################################
	# Scheduler
	########################################################

	########################################################
	# Memory management
	########################################################

	########################################################
	# Filesystems
	########################################################

	# generic
	patches.suse/vfs-add-super_operations-get_inode_dev

	# btrfs
	patches.suse/btrfs-provide-super_operations-get_inode_dev
	patches.suse/btrfs-8447-serialize-subvolume-mounts-with-potentially-mi.patch

	# ext[2-4]

	# XFS

	########################################################
	# Block layer
	########################################################

	########################################################
	# Networking core
	########################################################

	########################################################
	# Security
	########################################################

	# Module signing / secure boot
	patches.suse/KEYS-Make-use-of-platform-keyring-for-module-signatu.patch

	# Bug 1198101 - VUL-0: shim: openSUSE tumbleweed not fully locked down? Add opensuse-cert-prompt back to openSUSE shim
	# Lock down functions for secure boot
+jlee	patches.suse/0001-security-lockdown-expose-a-hook-to-lock-the-kernel-down.patch
+jlee	patches.suse/0002-efi-Add-an-EFI_SECURE_BOOT-flag-to-indicate-secure-boot-mode.patch
+jlee	patches.suse/0003-efi-Lock-down-the-kernel-if-booted-in-secure-boot-mode.patch
+jlee	patches.suse/0004-efi-Lock-down-the-kernel-at-the-integrity-level-if-b.patch
+jlee	patches.suse/arm64-lock-down-kernel-in-secure-boot-mode.patch

	# crypto

	########################################################
	# Virtualization
	########################################################

	########################################################
	# Other core patches
	########################################################

	########################################################
	# PM
	########################################################

	########################################################
	# DRM / Graphics
	########################################################
	patches.suse/drivers-firmware-skip-simpledrm-if-nvidia-drm.modese.patch
	patches.suse/Add-parameter-to-disable-simple-framebuffer-devices.patch
	patches.suse/0001-bsc-1204315-Disable-sysfb-before-creating-simple-fra.patch

	########################################################
	# Storage
	########################################################
	patches.suse/scsi-retry-alua-transition-in-progress

	########################################################
	# Networking drivers (wired)
	########################################################

	########################################################
	# Wireless networking drivers
	########################################################
	patches.suse/b43-missing-firmware-info.patch
	patches.suse/iwlwifi-cfg-Add-missing-MODULE_FIRMWARE-for-pnvm.patch

	########################################################
	# USB
	########################################################

	########################################################
	# Input
	########################################################
	patches.suse/Input-elan_i2c-Add-deny-list-for-Lenovo-Yoga-Slim-7.patch

	########################################################
	# Other drivers
	########################################################
	patches.suse/Revert-io_uring-Adjust-mapping-wrt-architecture-alia.patch

	########################################################
	# Debugging
	########################################################
	patches.suse/crasher.patch
	patches.suse/add-product-identifying-information-to-vmcoreinfo.patch

	########################################################
	# You'd better have a good reason for adding a patch
	# below here.
	########################################################
