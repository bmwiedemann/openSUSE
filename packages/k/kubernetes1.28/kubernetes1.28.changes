-------------------------------------------------------------------
Mon Nov  4 06:08:51 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.28.15:
  * bump golang to 1.22.8
  * kubeadm: fix a bug where the RemoveMember function did not return the correct member list when the member to be removed did not exist
  * Fix daemonset to ensure old unhealthy pods are counted towards max unavailable budget.
  * fix pod index label name
  * kubeadm: check the member list status before adding or removing an etcd member
  * kubeadm: check whether the peer URL for the added etcd member already exists when the MemberAddAsLearner/MemberAdd fails
  * add cross image as well
  * bugfix: endpoints controller track resource version conrrectly
  * Remove `socat` and `ebtables` from kubeadm preflight checks

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.22.8`
  * ref: https://github.com/kubernetes/kubernetes/blob/v1.28.15/build/dependencies.yaml#L115-L117

-------------------------------------------------------------------
Mon Oct 14 06:51:47 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.28.14:
  * Release commit for Kubernetes v1.28.14
  * succeeded pod is being re-admitted
  * Build etcd image of v3.5.15
  * Update etcd from v3.5.14 to v3.5.15
  * add missing RBAC to statefulset-controller for StatefulSetAutoDeletePVC feature
  * Bump images, dependencies and versions to go 1.22.6 and distroless iptables
  * Add a new workqueue to endpointslice controller for updating topology cache and checking node topology distribution.
  * fix a scheduler preemption issue that victim is not patched properly
  * kube-proxy: initialization wait for service and endpoint handlers synced

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.22.6`
  * ref: https://github.com/kubernetes/kubernetes/blob/v1.28.14/build/dependencies.yaml#L115-L117

-------------------------------------------------------------------
Fri Aug 16 13:26:19 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.28.13:
  * Respect controllers on PVCs for retention policy
  * Updating kubelet on Windows to query uuid from registry
  * Update err message before ratcheting enabled.
  * Hot fix for panic on schema conversion.
  * update container ubuntu sha256
  * update driver installer
  * mount-utils: treat syscall.ENODEV as corrupted mount
  * api: fix ValidatingAdmissionPolicyList json tag
  * apiserver: fix watch namespace
  * Fix that PodIP field is not set for terminal pod
  * Use omitempty for optional fields in Job Pod Failure Policy
  * bugfix: dont skip reconcile for unchanged policy if last sync failed

-------------------------------------------------------------------
Tue Aug  6 11:55:00 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- Follow up changes after go version bump to 1.22:
  - For ppc64le platform: disabled `export GOLDFLAGS='-linkmode=external'`.   * to fix the build failure error:
      `-linkmode=external requires external (cgo) linking, but cgo is not enabled`
  - For linux/s390x platform: disabled building kubernetes binaries with `-buildmode=pie`
    * `-buildmode=pie` with "internal linking" is not yet supported on linux/s390x platform
    * ref: https://github.com/golang/go/blob/a63907808d14679c723e566cb83acc76fc8cafc2/src/internal/platform/supported.go#L223-L232
    * ref: https://github.com/golang/go/issues/64875#issuecomment-1870734528

-------------------------------------------------------------------
Tue Aug 06 11:51:00 UTC 2024 - priyanka.saggu@suse.com

- Update to version 1.28.12:
  * Add funcs in pkg/filesystem/util that can actually set file permissiosn on Windows and update container log dir perms to 660 on Windows
  * Mark a test case which sets up a sample-apiserver as serial due to potential conflicts with other test cases which do the same.
  * Fix pv reclaim failed due to its phase is wrongly updated to the Failed state by kcm
  * fix issue with using feature HonorPVReclaimPolicy in csi-provisioner
  * defaultMaskedPaths must be kept in sync with moby/moby.
  * gitRepo volume: directory must be max 1 level deep
  * Bump images, dependencies and versions to go 1.22.5 and distroless iptables
  * Fix endpoints status out-of-sync when the pod state changes rapidly
  * Fix verify target to not update env var if already set
  * fix: skip isPodWorthRequeuing only when SchedulingGates gates the pod

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.22.5`
  * `BuildRequires:  golang(API) = 1.22`
  * ref: https://github.com/kubernetes/kubernetes/blob/v1.28.12/build/dependencies.yaml#L115-L117

-------------------------------------------------------------------
Wed Jun 26 06:15:39 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.28.11:
  * Bump images, dependencies and versions to go 1.21.11 and distroless iptables/setcap/debian-base
  * Don't fill in NodeToStatusMap with UnschedulableAndUnresolvable
  * Revert "scheduler: preallocation for NodeToStatusMap"
  * add an integration test when nodeAffinity specifies a non-existent node.
  * base on allNodes when calculating nextStartNodeIndex
  * backport verify-govulncheck.sh to 1.28
  * Don't sort under lock
  * Fix printPod panic with spurious container statuses
  * Cherry pick #124618 to 1.28
  * Fix NFS related issues on GCP/Ubuntu
  * fix requests tracker concurrency
  * fix conflict race in statefulset rest update
  * fix stateful set pod recreation and event spam
  * fix pods tracking and internal error checking in statefulset tests
  * Updated & added visibility to apiserver x509 test certificates expiring this year

-------------------------------------------------------------------
Fri May 17 04:57:44 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.28.10:
  * scheduler: preallocation for NodeToStatusMap
  * add e2e test when a plugin (in-tree or out-of-tree) return non-existent/illegal nodes, the pod should be scheduled normally if suitable nodes exists
  * test to catch illegal nodeNames returned by PreFilterResult
  * add integration test for pod with pvc has node-affinity to non-existent/existent nodes
  * hotfix when a plugin (in-tree or out-of-tree) return non-existent/illegal nodes, the pod scheduling flow will abort immediately.
  * Fix PersistentVolumeLabel admission plugin on Azure
  * cluster/gce: upgrade cos-97-lts -> cos-109-lts
  * storage e2e: update hostpath and mock images
  * add log verbosity to endpoint topology hint loop.
  * Rename `cluster` to `storage_cluster_id` for apiserver_storage_size_bytes metric
  * gce: fix test for non-existing instance in cloud
  * cloud-node-lifecycle controller: add fallback for empty providerID in shutdown

-------------------------------------------------------------------
Thu Apr 18 11:21:45 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.28.9:
  * Add envFrom to serviceaccount admission plugin
  * update debian-base to bookworm-v1.0.2
  * [go] Bump images, dependencies and versions to go 1.22.1 and distroless iptables / set-cap
  * [CVE-2023-45288] .*: bump x/net to v0.23.0, bsc#1229869
  * Use the right feature gate when updating uncertain volumes
  * fix panic with SIGSEGV in kubeadm certs check-expiration
  * hack/tools: bump honnef.co/go/tools to v0.4.6
  * Serve watch without resourceVersion from cache and introduce a WatchFromStorageWithoutResourceVersion feature gate to allow serving watch from storage.
  * fix aggregator path filtering to include /
  * Filter aggregated apiservice gv
  * Use DBG=1 for conformance verification
  * build: use -trimpath in non-DBG mode

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.21.9`
  * ref: https://github.com/kubernetes/kubernetes/blob/v1.28.9/build/dependencies.yaml#L115-L117

-------------------------------------------------------------------
Mon Apr  8 11:04:15 UTC 2024 - Priyanka Saggu <priyanka.saggu@suse.com>

- update .spec file to set FORCE_HOST_GO env variable,
  to force k8s build scripts use the local GOTOOLCHAIN version from the build pipeline
  (i.e. GOTOOLCHAIN='local')
  * ref: https://github.com/kubernetes/kubernetes/blob/9791f0d1f39f3f1e0796add7833c1059325d5098/hack/lib/golang.sh#L507 

-------------------------------------------------------------------
Mon Apr 08 06:23:49 UTC 2024 - priyanka.saggu@suse.com

- Update to version 1.28.8:
  * remove --v arg from kubetest2-tester-ginkgo test args
  * ci: bump kind to latest for kms jobs
  * [go] Bump images, dependencies and versions to go 1.21.8 / distroless-iptables to v0.4.6
  * [CVE-2024-24786] Bump github.com/golang/protobuf v1.5.4, google.golang.org/protobuf v1.33.0, bsc#1229867
  * keep existing PDB conditions when updating status
  * Validate restartable init container state transition
  * Test that separation of streams work by using progress notifies
  * Prevent watch cache starvation, by moving its watch to separate RPC and add a SeparateCacheWatchRPC feature flag to disable this behavior
  * fix UT failure TestPrintIPAddressList
  * Fix race condition between external-resizer and kubelet
  * codegen: don't nuke files if only verifying
  * dra: increase timeout in setupFakeDRADriverGRPCServer to prevent tests to flake.
  * e2e_node: replace `registry.k8s.io/stress:v1` with agnhost
  * promote agnhost to v2.47
  * fixing issue with GetCPUUsageNanoCores on Windows
  * Fix cleanup of file subpaths
  * etcd: Update to version 3.5.12
  * build etcd image v3.5.12

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.21.8`
  * ref: https://github.com/kubernetes/kubernetes/blob/v1.28.8/build/dependencies.yaml#L115-L117

-------------------------------------------------------------------
Mon Feb 26 08:54:27 UTC 2024 - priyanka.saggu@suse.com

- Update to version 1.28.7:
  * [go] Bump images, dependencies and versions to go 1.21.7 / setcap/debian-base to bookworm-v1.0.1 and distroless-iptables to v0.4.5
  * Add processStartTime in metrics/slis
  * Revert "kubeadm: fix a bug where the uploaded kubelet configuration in kube-system/kubelet-config ConfigMap does not respect user patch"
  * kubeadm: better checks if the node is CP during "upgrade node"
  * If a pvc has an empty storageclass name, don't try to assign a default StorageClass to it.
  * Drop PendingChanges methods from change trackers, move into UpdateResults
  * Squash some unnecessarily-chained methods in the change trackers

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  golang(API) = 1.21`

-------------------------------------------------------------------
Thu Feb 22 12:43:44 UTC 2024 - Dominique Leuenberger <dimstar@opensuse.org>

- Use %patch -P N instead of deprecated %patchN.

-------------------------------------------------------------------
Wed Jan 24 10:47:23 UTC 2024 - priyanka.saggu@suse.com

- Update .spec file to remove go version build requirements:
  * above build requirement causing build failures with following error:
     - `go: download go1.20.13 for linux/amd64: toolchain not available`
     - ref: https://go.dev/doc/toolchain

- Update to version 1.28.6:
  * Revert "Graduate Evented PLEG to Beta"
  * [go] Bump images, dependencies and versions to go 1.20.13 and distroless iptables to 0.2.9
  * e2e framework: adapt unit test to Go 1.22
  * use context for lazy evaluation.
  * Handle edge cases in seat demand stats
  * .*: bump golang.org/x/tools to v0.16.1
  * fix: 119921
  * Use a separate function for checking if device was reconstructed
  * Add tests for checking of uncertain device paths
  * Fix device uncertain errors on reboot
  * fix(scheduler): fix incorrect loop logic in MultiPoint to avoid a plugin being loaded multiple times
  * Add unit test for Job Controller for panic when PodFailurePolicy is used on 1.28
  * etcd: Update to version 3.5.10
  * kube-proxy: Fix etp:Local for externalIPs

-------------------------------------------------------------------
Wed Jan 24 10:21:40 UTC 2024 - priyanka.saggu@suse.com

- Update to version 1.28.5:
  * enable SchedulerQueueingHints feature gate in TestIncomingPodsMetrics
  * fix: disable SchedulerQueueingHints feature flag by default
  * Fix panic if there are more terminating pods than active pods
  * [go] Bump images, dependencies and versions to go 1.20.12
  * Move adding GroupVersion log until after an update is confirmed
  * pass GOTOOLCHAIN to build containers
  * handle GOTOOLCHAIN in kube::golang::verify_go_version
  * fix: requeue pods rejected by Extenders properly
  * Bump distroless-iptables to 0.2.8 based on Go 1.20.11
  * fix: smb file share unavailable issue when it's deleted
  * Make StatefulSet restart pods with phase Succeeded
  * run hack scripts to update cyphar/filepath-securejoin to v0.2.4 correctly
  * update filepath-securejoin dependency to 0.2.4 to fix security vulnerability
  * DRA: call plugins for claims even if exist in cache
  * Fix panic when process RunScorePlugins for cap out of range
  * e2e: bootstrap vsphere tests earlier
  * apf: request ejected from queue should use reason 'time-out'
  * apf: remove RequestWaitLimit from queueset config
  * apf: remove timeoutOldRequestsAndRejectOrEnqueueLocked function
  * apf: use context for queue wait
  * apiserver: add flow control metric current_inqueue_seats

-------------------------------------------------------------------
Fri Nov 24 06:39:49 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.20.11`

- Update to version 1.28.4:
  * Use golang library instead of mklink
  * [go] Bump images, dependencies and versions to go 1.20.11
  * Fixing attempt to deploy past allocatable memory limits test on Windows
  * bump golang.org/grpc to v1.56.3
  * Add more test cases ensuring nextScheduleTimeDuration is never < 0
  * Modify mostRecentScheduleTime to return more detailed information about missed schedules
  * removing the import of "k8s.io/utils/ptr" because it was introduced after 1.28
  * Fixing CurrentReplicas and CurrentRevision in completeRollingUpdate
  * Use Patch instead of SSA for Pod Disruption condition
  * KCCM: fix GCP ILB by reintroducing readiness predicate for eTP:Local
  * Fix panic testing intree vSphere dynamic PV.
  * service controller: improve node lifecycle updates - update nodes if providerID has changed
  * implement Stringer for podActions
  * Retry operations if CSI Driver Isn't Found by Treating this Error as Transient

-------------------------------------------------------------------
Thu Oct 26 04:55:27 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update .spec file to bump go version build requirements:
  * `BuildRequires:  go >= 1.20.10`
- Update to version 1.28.3:
  * Register UnauthenticatedHTTP2DOSMitigation into kube components (CVE-2023-44487, CVE-2023-39325), bsc#1229869
  * Skip TestUnauthenticatedHTTP2ClientConnectionClose http1 tests (CVE-2023-44487, CVE-2023-39325), bsc#1229869
  * Disable UnauthenticatedHTTP2DOSMitigation by default (CVE-2023-44487, CVE-2023-39325), bsc#1229869
  * Prevent rapid reset http2 DOS on API server (CVE-2023-44487, CVE-2023-39325), bsc#1229869
  * Fix concurrent write when filling PVC labels
  * Modify test PVC to detect concurrent map write bug
  * [go] Bump images, dependencies and versions to go 1.20.10
  * Fix to honor PDB with an empty selector `{}`
  * .: bump golang.org/x/net to v0.17.0
  * Mark a volume as uncertain-attached after detach error
  * Unit & integration tests for OpenAPIV2 AddUpdateAPIService
  * Fix 120878 - Refactor cacheabledownloader so handler can be updated and fix AddUpdateAPIService to update handler
  * Fix 120739 - Prevent AddUpdateAPIService from blocking on updating spec
  * Fix 120758 - prevent cache Load on uninitialized spec
  * Add nil checks for hpa object target type values
  * Make a certain ipv4-vs-ipv6 config error non-fatal, for backward compat
  * [go] Bump images, versions and deps to use Go 1.20.9
  * Only configure swap if available on node
  * Use local isCgroup2UnifiedMode consistently
  * cronjob controller: ensure already existing jobs are added to Active list of cronjobs
  * reintroduce resourcequota.NewMonitor
  * change rolling update logic to exclude sunsetting nodes
  * vsphere: adapt to govmomi bump
  * .: bump govmomi to v0.30.6
  * Increase range of job_sync_duration_seconds
  * sync Service API status rest storage
  * kubeadm: remove reference of k8s.io/kubernetes/pkg/apis/core/v1
  * fix race on etcd client constructor for healthchecks
  * e2e pods: fix WaitForPodsResponding retry
  * kmsv2: reload metrics bug fix backport
  * scheduler: start scheduling attempt with clean UnschedulablePlugins

-------------------------------------------------------------------
Wed Sep 20 18:53:22 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- Update to version 1.28.2:
  * fix(queue_test): make sure the first bind failure via counter
  * [go] Bump images, versions and deps to use Go 1.20.8
  * scheduler: unit test case for concurrent event with other pod
  * scheduler: fix tracking of concurrent events
  * sort stability list of metrics in the shell command
  * Feature-gate SidecarContainers code in pkg/kubelet/kuberuntime
  * Add an e2e test for the pod sandbox changed scenario
  * fix: concurrent map writes in e2e test
  * Automated cherry pick of #119776: Fix a job quota related deadlock (#120319)
  * TopologyAwareHints: Take lock in HasPopulatedHints
  * Fallback to legacy discovery on a wider range of conditions in aggregator
  * Fix OpenAPI aggregation cleanup
  * apiextensions-apiserver: generate applyconfigurations
  * Revert to json-patch 4.12.0
  * update build cross image to the correct release branch image
  * Mark Job onPodConditions as optional in pod failure policy
  * Incorporating feedback on 119341
  * Release commit for Kubernetes v1.28.1
  * Add wait for cache sync
  * check for overflow
  * Fix CEL cost handling of zero length replacement strings
  * Use env varaibles for passing path
  * Use environment varaibles for parameters in Powershell
  * e2e framework util subtle bug checking endpoints
  * Pass Pinned field to kubecontainer.Image
  * prep for go1.21: use -e in go list
  * kubeadm: fix nil pointer when etcd member is already removed
  * update to golangci-lint v1.54.1 + go-ruleguard v0.4.0
  * Make gomaxprocs install optional, limit to tests
  * Drop [Feature: tag to make sure this tests runs on pre-submits
  * Statefulset should wait for new replicas when removing .start.ordinal
  * e2e WaitForServiceEndpointsNum take into account the address family
  * fix: when PreFilter returns UnschedulableAndUnresolvable, copy the state in all nodes in statusmap
  * Fix a bug that PostFilter plugin may not function if previous PreFilter plugins return Skip
  * Add test coverage of result size of string operations
  * Bump cel-go to v0.16.1

-------------------------------------------------------------------
Wed Sep 20 18:27:23 UTC 2023 - Priyanka Saggu <priyanka.saggu@suse.com>

- initial package for Kubernetes v1.28.0 
