--- scripts/ypMakefile.in
+++ scripts/ypMakefile.in	2019/03/12 15:10:13
@@ -45,8 +45,9 @@
 MERGE_PASSWD=true
 
 # Should we merge the group file with the gshadow file ?
+# We don't support /etc/gshadow anymore, so we don't can merge it.
 # MERGE_GROUP=true|false
-MERGE_GROUP=true
+MERGE_GROUP=false
 
 # These are commands which this Makefile needs to properly rebuild the
 # NIS databases. Don't change these unless you have a good reason.
@@ -62,7 +63,7 @@
 # taken from YPSRCDIR.
 #
 YPSRCDIR = /etc
-YPPWDDIR = /etc
+YPPWDDIR = $(shell . /etc/sysconfig/ypserv; echo $$YPPWD_SRCDIR)
 YPBINDIR = @YPBINDIR@
 YPSBINDIR = @SBINDIR@
 YPDIR = @YPMAPDIR@
@@ -107,8 +108,9 @@
 # If you don't want some of these maps built, feel free to comment
 # them out from this list.
 
-all:  passwd group hosts rpc services netid protocols netgrp mail \
-	shadow publickey # networks ethers bootparams printcap \
+all: passwd group rpc services netid
+#all:  passwd group hosts rpc services netid protocols netgrp mail \
+#	shadow publickey # networks ethers bootparams printcap \
 	# amd.home autofs passwd.adjunct \
 	# timezone locale netmasks
 
--- scripts/ypxfr_1perday.in
+++ scripts/ypxfr_1perday.in	2019/03/12 15:07:32
@@ -6,7 +6,9 @@
 
 YPBINDIR=@YPBINDIR@
 
-MAPS_TO_GET="group.byname group.bygid protocols.byname protocols.bynumber networks.byname networks.byaddr rpc.byname rpc.bynumber services.byname ypservers"
+#MAPS_TO_GET="group.byname group.bygid protocols.byname protocols.bynumber networks.byname networks.byaddr rpc.byname rpc.bynumber services.byname ypservers"
+MAPS_TO_GET="group.byname group.bygid rpc.byname rpc.bynumber services.byname
+ ypservers"
 
 for map in $MAPS_TO_GET
 do
--- scripts/ypxfr_1perhour.in
+++ scripts/ypxfr_1perhour.in	2019/03/12 15:07:32
@@ -6,7 +6,8 @@
 
 YPBINDIR=@YPBINDIR@
 
-MAPS_TO_GET="passwd.byname passwd.byuid shadow.byname publickey.byname"
+#MAPS_TO_GET="passwd.byname passwd.byuid shadow.byname publickey.byname"
+MAPS_TO_GET="passwd.byname passwd.byuid"
 
 for map in $MAPS_TO_GET
 do
