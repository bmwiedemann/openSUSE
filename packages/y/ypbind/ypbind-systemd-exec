#!/bin/sh
#
# ypbind-exec
#
# description: This is part of former ypbind init script, which is used 
#              to create the correct arguments to start ypbind itself.

# evaluate the OPTIONS for ypbind-mt
OTHER_YPBIND_OPTS=""
test "$YPBIND_VERBOSE" = "yes" && OTHER_YPBIND_OPTS="-verbose $OTHER_YPBIND_OPTS"
test "$YPBIND_LOCAL_ONLY" = "yes" && OTHER_YPBIND_OPTS="-local-only $OTHER_YPBIND_OPTS"
test "$YPBIND_BROADCAST" = "yes" && OTHER_YPBIND_OPTS="-broadcast $OTHER_YPBIND_OPTS"
test "$YPBIND_BROKEN_SERVER" = "yes" && OTHER_YPBIND_OPTS="-broken-server $OTHER_YPBIND_OPTS"
test "X$YPBIND_PING_INTERVAL" != "X" && OTHER_YPBIND_OPTS="-ping-interval $YPBIND_PING_INTERVAL $OTHER_YPBIND_OPTS"
#test "$YPBIND_DBUS" = "no" && OTHER_YPBIND_OPTS="-no-dbus $OTHER_YPBIND_OPTS"
test -n "$YPBIND_OPTIONS" && OTHER_YPBIND_OPTS="$YPBIND_OPTIONS $OTHER_YPBIND_OPTS"

exec /usr/sbin/ypbind -n $OTHER_YPBIND_OPTS
