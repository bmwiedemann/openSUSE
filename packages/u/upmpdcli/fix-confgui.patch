From 71a8d5bd7536f38067e20031f7912b61b5126304 Mon Sep 17 00:00:00 2001
From: Jean-Francois Dockes <jf@dockes.org>
Date: Tue, 10 Feb 2026 16:20:54 +0100
Subject: [PATCH] upmpdcli-config: accept "str" as alias to "string". Fix a few
 other issues in the XML

---
 cfgui/xmltoconfgui.cpp | 2 ++
 src/upmpdcli.conf-xml  | 6 +++---
 2 files changed, 5 insertions(+), 3 deletions(-)

diff --git a/cfgui/xmltoconfgui.cpp b/cfgui/xmltoconfgui.cpp
index 83c97e9..0c2e53a 100644
--- a/cfgui/xmltoconfgui.cpp
+++ b/cfgui/xmltoconfgui.cpp
@@ -115,6 +115,8 @@ ConfTabsW *xmlToConfGUI(const std::string& xml, std::string& toptext,
                     paramtype = ConfTabsW::CFPT_INT;
                 } else if (m_curvartp == "string") {
                     paramtype = ConfTabsW::CFPT_STR;
+                } else if (m_curvartp == "str") {
+                    paramtype = ConfTabsW::CFPT_STR;
                 } else if (m_curvartp == "cstr") {
                     paramtype = ConfTabsW::CFPT_CSTR;
                 } else if (m_curvartp == "cstrl") {
diff --git a/src/upmpdcli.conf-xml b/src/upmpdcli.conf-xml
index 6376832..66bfc48 100644
--- a/src/upmpdcli.conf-xml
+++ b/src/upmpdcli.conf-xml
@@ -707,7 +707,7 @@ upradiostitle = Upmpdcli Radio List
 # <descr>The port of the SubSonic server</descr></var>
 #subsonicport = 4533
 
-# <var name="subsonicserverpath" type="str" values="0 65535 4533">
+# <var name="subsonicserverpath" type="string">
 # <brief>SubSonic server path.</brief>
 # <descr>Optional, use only if the server is exposed on a specific path</descr></var>
 #subsonicserverpath = my-srv-path
@@ -811,7 +811,7 @@ upradiostitle = Upmpdcli Radio List
 # <descr>Allows the plugin to remove old cache images from the server, recommended</descr></var>
 #subsonicenablecachedimageagelimit = 0
 
-# <var name="subsoniccachedimagemaxagedays" type="int">
+# <var name="subsoniccachedimagemaxagedays" type="int" values="0 3650 60">
 # <brief>Age limit for image files in image cache in days</brief>
 # <descr>Sets the maximum image file age in days, relevant when pruning is enabled</descr></var>
 #subsoniccachedimagemaxagedays = 60
@@ -833,7 +833,7 @@ upradiostitle = Upmpdcli Radio List
 # to be ascending instead of descending (default)</descr></var>
 #subsonicartistalbumnewestfirst = 0
 
-# <var name="subsonicmaxrandomsonglistsize" type="int">
+# <var name="subsonicmaxrandomsonglistsize" type="int" values="2 500 250">
 # <brief>Number of songs in Random Songs (list)</brief>
 # <descr>Set the maximum number of songs in Random Songs (list),
 # defaults to 250, cannot be more than 500</descr></var>
-- 
GitLab

