-------------------------------------------------------------------
Tue May 25 15:02:00 UTC 2021 - Thorsten Kukuk <kukuk@suse.com>

- login.pamd: use pam_motd to unify motd handling [bsc#1185897].
  Else motd snippets of e.g. cockpit will not be shown.

-------------------------------------------------------------------
Tue Feb 16 19:33:08 UTC 2021 - Stanislav Brabec <sbrabec@suse.com>

- Update to version 2.36.2:
  * agetty: tty eol defaults to REPRINT
  * fsck.cramfs: fix fsck.cramfs crashes on blocksizes > 4K
  * lib/caputils: add fall back for last cap using prctl.
  * lib/signames: change license to public domain
  * libfdisk:
    * (dos) fix last possible sector calculation
    * (script) ignore empty values for start and size
    * ignore 33553920 byte optimal I/O size
  * libmount:
    * add vboxsf, virtiofs to pseudo filesystems
    * do not canonicalize ZFS source dataset
    * don't use "symfollow" for helpers on user mounts (boo#1181750,
      obsoletes util-linux-libmount-dont-use-symfollow.patch)
    * fix /{etc,proc}/filesystems use
  * login: use full tty path for PAM_TTY
  * lsblk: read SCSI_IDENT_SERIAL also from udev
  * rfkill: stop execution when rfkill device cannot be opened
  * setpriv: allow using [-+]all for capabilities.
  * su: use full tty path for PAM_TTY
  * switch_root: check if mount point to move even exists
  * umount:
    * ignore --no-canonicalize,-c for non-root users
    * Show the 'r' option in the help menu
  * Code cleanups and documentation improvements.
  * Translation updates.

-------------------------------------------------------------------
Wed Feb 10 23:18:39 UTC 2021 - Stanislav Brabec <sbrabec@suse.com>

- libmount: don't use "symfollow" for helpers on user mounts
  (boo#1181750, util-linux-libmount-dont-use-symfollow.patch)

-------------------------------------------------------------------
Tue Feb  9 11:19:40 UTC 2021 - Jan Engelhardt <jengelh@inai.de>

- Override GTKDOCIZE with /bin/true so we can run autoreconf
  without needing gtk-doc as a dependency.

-------------------------------------------------------------------
Thu Feb  4 02:17:39 UTC 2021 - Stanislav Brabec <sbrabec@suse.com>

- Merge package with SLE15 SP3 and openSUSE Leap 15.3:
  Obsoletes upstreamed patches:
- libblkid: Do not trigger CDROM autoclose (v2.35, bsc#1084671,
  util-linux-libblkid-cdrom-autoclose-1.patch,
  util-linux-libblkid-cdrom-autoclose-2.patch,
  util-linux-libblkid-cdrom-autoclose-3.patch).
- lscpu: avoid segfault on PowerPC systems with valid hardware
  configurations
  (v2.36.1, bsc#1175623, bsc#1178554, bsc#1178825,
  lscpu-avoid-segfault-on-PowerPC-systems-with-valid-h.patch)
- Fix for SG#57988, bsc#1174942 (v2.36):
  libmount-fix-mount-a-EBUSY-for-cifs.patch: Fix warning on mounts
  to CIFS with mount â€“a.
- blockdev: Do not fail --report on kpartx-style partitions on
  multipath (v2.36,
  bsc#1168235, util-linux-blockdev-report-dm.patch).
- nologin: Add support for -c to prevent error from su -c
  (v2.35, bsc#1151708, util-linux-nologin-su-c.patch).
- Add libmount-Avoid-triggering-autofs-in-lookup_umount_fs.patch:
  Avoid triggering autofs in lookup_umount_fs_by_statfs
  (v2.36 boo#1168389)
- mount: fall back to device node name if /dev/mapper link not found
  (v2.34, bsc#1149911)
  * Add patch: util-linux-canonicalize-coverity-scan.patch
- De-duplicate fstrim -A properly (v2.34, bsc#1127701,
  util-linux-fstrim-A-1.patch, util-linux-fstrim-A-3.patch,
  util-linux-fstrim-A-4.patch).
- Do not trim read-only volumes
  (v2.34, boo#1106214, util-linux-fstrim-A-2.patch,
  util-linux-fstrim-A-4.patch).
- libmount: To prevent incorrect behavior, recognize more pseudofs
  and netfs (v2.34, bsc#1122417,
  util-linux-libmount-pseudofs.patch).
- agetty: Return previous response of agetty for special characters
  (v2.34, bsc#1085196, bsc#1125886,
  util-linux-agetty-smart-reload-13.patch,
  util-linux-agetty-smart-reload-14.patch).
- Fix problems in reading of login.defs values (v2.34, bsc#1121197,
  util-linux-login_defs-priority1.patch,
  util-linux-login_defs-priority2.patch,
  util-linux-login_defs-SYS_UID.patch).

-------------------------------------------------------------------
Thu Feb  4 01:24:55 UTC 2021 - Stanislav Brabec <sbrabec@suse.com>

- Build with libudev support to support non-root users
  (boo#1169006).
- Move findmnt and lsblk to util-linux-systemd, as they use libudev
  (bsc#1169006#c10).

-------------------------------------------------------------------
Fri Jan 29 02:18:58 UTC 2021 - Stanislav Brabec <sbrabec@suse.com>

- Do not require libeconf-devel on products without /usr/etc.

-------------------------------------------------------------------
Mon Jan 25 17:07:55 UTC 2021 - Ludwig Nussel <lnussel@suse.de>

- s/--enable-vendordir/--with-vendordir/
- remove pam_securetty line again. As long as there is no agreement
  from pam side having it would fail openQA (boo#1033626)

-------------------------------------------------------------------
Sat Jan 16 02:30:02 UTC 2021 - Stanislav Brabec <sbrabec@suse.com>

- Update to version 2.36.1:
  * chrt: use SCHED_FLAG_RESET_ON_FORK for sched_setattr()
  * fallocate: fix --dig-holes at end of files
  * fdisk: always report fdisk_create_disklabel() errors
  * flock: keep -E exit status more restrictive
  * fstrim: remove fstab condition from fstrim.timer
  * hexdump: automatically use -C when called as hd
  * hwclock: add fallback if SYS_settimeofday does not exist, fix
    SYS_settimeofday fallback
  * libblkid: allow a lot of mac partitions, fix Atari prober logic,
    limit amount of parsed partitions
  * more libfdisk improvements
  * losetup: avoid infinite busy loop, increase limit of setup
    attempts
  * lsblk: fix -T optional argument, fix SCSI_IDENT_SERIAL, print
    zero rather than empty SIZE, read ID_SCSI_IDENT_SERIAL if
    available
  * lscpu: Add FUJITSU aarch64 A64FX cpupart, Even more Arm part
    numbers, avoid segfault on PowerPC systems with valid hardware
    configurations (bsc#1175623)
  * mount: Add support for "nosymfollow" mount option.
  * pg: fix wcstombs()
  * sfdisk: correct --json --dump false exclusive, fix backward
    --move-data
  * vipw: fix short write handling in copyfile
  * whereis: fix out of boundary read, support zst compressed man
    pages
  * minor code improvements and fixes
  * minor licensing changes
  * improve docs
- Require both group(uuidd) and user(uuidd).

-------------------------------------------------------------------
Thu Nov 26 20:15:46 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Do search /usr/sbin for mount helpers. (This drops /sbin/fs,
  /sbin/fs.d, which we do not use in openSUSE.)

-------------------------------------------------------------------
Fri Nov 20 15:06:37 UTC 2020 - Ludwig Nussel <lnussel@suse.de>

- prepare usrmerge (boo#1029961)

-------------------------------------------------------------------
Wed Nov  4 11:07:03 UTC 2020 - Dr. Werner Fink <werner@suse.de>

- Modernize patch util-linux-sulogin4bsc1175514.patch
  * Try to autoconfigure broken serial lines

-------------------------------------------------------------------
Fri Oct 30 14:03:47 UTC 2020 - Dr. Werner Fink <werner@suse.de>

- Add patch util-linux-sulogin4bsc1175514.patch
  Avoid sulogin failing on not existing or not functional console
  devices (bsc#1175514)

-------------------------------------------------------------------
Wed Sep 16 00:10:11 UTC 2020 - Stanislav Brabec <sbrabec@suse.com>

- Fix default permissions of wall and write.
- Update to version 2.36:
  * blkdiscard(8) refuses to proceed if filesystem or RAID
    signatures are found in interactive mode (executed on a
    terminal). The option --force is required to the discard
    data.
  * new commands irqtop(1) and lsirq(1)to monitor kernel
    interrupts.
  * cal(1) provides a new --vertical command line option.
  * blkzone(8) implements open/close/finish commands now.
  * unshare(1) and nsenter(1) commands support the time namespace
    now.
  * agetty(8) now supports multiple paths in the option
    --issue-file.
  * fdisk(8), sfdisk(8), cfdisk(8), mkswap(8) and wipefs(8) now
    support block devices locking by flock(2), new command line
    option --lock and $LOCK_BLOCK_DEVICE environmental variable.
  * dmesg(1) new command line option --follow-new to wait and
    print only new kernel messages.
  * fdisk(8) new command line option --list-details and
    --noauto-pt.
  * fdisk(8) and sfdisk(8) support user-friendly aliases for
    partition types.
  * fstrim(8) supports new command line option --listed-in.
  * libfdisk provides API to relocate GPT backup header. New
    command line option "sfdisk --relocate".
  * mount(8) now supports mount by ID= tag.
  * login(1) supports list of "message of the day".
  * All tools which read /etc/login.defs is possible to compile
    with libeconf now.
  * more(1) has been refactored.
  * man pages cleanup
  * other fixes and improvements, see:
    https://mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.36/v2.36-ReleaseNotes
- Refresh Add-documentation-on-blacklisted-modules-to-mount-8-.patch.
- Drop upstreamed libeconf.patch,
  libmount-Avoid-triggering-autofs-in-lookup_umount_fs.patch.
- util-linux-login_defs-check.sh: Perform all steps to integrate
  MOTD_FIRSTONLY.
- Update baselibs.conf.

-------------------------------------------------------------------
Fri May 22 11:15:01 UTC 2020 - Fabian Vogt <fvogt@suse.com>

- Use plain #!/bin/sh for flushb

-------------------------------------------------------------------
Thu May 21 12:48:40 UTC 2020 - Marketa Calabkova <mcalabkova@suse.com>

- Include pam_securetty in login.pamd again (bsc#1033626)
- Update to 2.35.2
  * make glibc 2.31 compatible
- Dropped unneeded patch libfdisk-script-accept-sector-size.patch

-------------------------------------------------------------------
Wed May 13 10:19:22 UTC 2020 - Fabian Vogt <fvogt@suse.com>

- Add patch to fix sfdisk not reading its own scripts:
  * libfdisk-script-accept-sector-size.patch
- Use %autopatch

-------------------------------------------------------------------
Fri May  8 07:54:57 UTC 2020 - Fabian Vogt <fvogt@suse.com>

- Fix verification of mount, su and umount (bsc#1166948)

-------------------------------------------------------------------
Mon Apr  6 23:07:48 CEST 2020 - Stanislav Brabec <sbrabec@suse.com>

- Update to version 2.35.1:
  * agetty: add --show-issue, support for /run/issue and
  * fdisk: Correct handling of hybrid MBR, cleanup wipe warning,
    use 'r' to return from MBR to GPT.
  * lsblk: FSVER column,
    drop e3bb9bfb76c17b1d05814436ced62c05c4011f48.patch.
  * lscpu: Add HiSilicon aarch64 tsv110 cpupart, add a new columns
    to --cache.
  * mount: add --target-prefix.
  * mountpoint: add --nofollow option.
  * script: add --echo, --log-in, --logging-format, --log-out and
    --log-timing.
  * scriptlive: new command.
  * scriptreplay: add --log-* options, --cr-mode, --stream,
    --summary, -T --log-timing.
  * sfdisk: add progress bars.
  * unshare: add --keep-caps and --map-current-user options.
  * Many other fixes and improvements, see:
    https://mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.35/v2.35-ReleaseNotes
    https://mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.35/v2.35.1-ReleaseNotes
- Refresh libeconf.patch.

-------------------------------------------------------------------
Mon Apr  6 14:47:56 UTC 2020 - Ignaz Forster <iforster@suse.com>

- Add libmount-Avoid-triggering-autofs-in-lookup_umount_fs.patch:
  Avoid triggering autofs in lookup_umount_fs_by_statfs
  (boo#1168389)

-------------------------------------------------------------------
Tue Oct  8 14:48:15 CEST 2019 - kukuk@suse.de

- libeconf.patch: fix a long int error on 32bit

-------------------------------------------------------------------
Tue Oct  1 13:19:42 CEST 2019 - kukuk@suse.de

- libeconf.patch: Add support for libeconf
- Move /etc/pam.d/* to /usr/etc/pam.d
- Remove migration code for su from coreutils to util-linux, not
  needed anymore

-------------------------------------------------------------------
Thu Sep 19 11:54:29 UTC 2019 - Ludwig Nussel <lnussel@suse.de>

- Do not recommend lang package. The lang package already has a
  supplements.

-------------------------------------------------------------------
Fri Aug 30 11:53:46 UTC 2019 - olaf@aepfle.de

- lsblk: force to print PKNAME for partition with
  e3bb9bfb76c17b1d05814436ced62c05c4011f48.patch

-------------------------------------------------------------------
Mon Aug 19 15:27:03 CEST 2019 - kukuk@suse.de

- Remove outdated buildignore for pwdutils, had no effect with
  shadow anyways

-------------------------------------------------------------------
Tue Aug  6 03:39:25 UTC 2019 - Stanislav Brabec <sbrabec@suse.com>

- Issue a warning for outdated pam files
  (bsc#1082293, boo#1081947#c68).
- Fix comments and unify look of PAM files (login.pamd,
  remote.pamd, runuser-l.pamd, runuser.pamd, su-l.pamd, su.pamd).

-------------------------------------------------------------------
Wed Jul 31 18:08:29 CEST 2019 - sbrabec@suse.com

- Update to version 2.34:
  * new command hardlink
  * rewrite of lsblk, now supports --dedup
  * support for FUSE in umount
  * support for "--all -o remount" in mount
  * su: prefer /etc/default/su over /etc/login.defs and ENV_SUPATH
    over ENV_ROOTPATH (bsc#1121197), improved --pty
  * unshare: add -S/--setuid, -G/--setgid, -R/--root and -w/--wd
  * fstrim: do not suppress warnings unless --quiet is used
  * lscpu: print 'Frequency boost' and 'Vulnerability' fields, add
    --caches
  * logger: merge multiple MESSAGE= lines
  * libblkid: do not depend on libuuid, supports DRBD9 detection
  * libsmartcols: support N:M relationships in tree-like output
  * fstrim and uuidd systemd services: hardening settings to
    improve security and service isolation
  * fstrim: trim root filesystem on --fstab, check for read-only
    filesystems on --all and --fstab (boo#1106214).
  * fstrim -A: properly de-duplicate sub-volumes (boo#1127701).
  * Obsoletes util-linux-login_defs-priority1.patch,
    util-linux-login_defs-priority2.patch and
    util-linux-login_defs-SYS_UID.patch.
  * Many Other fixes, see
    https://www.kernel.org/pub/linux/utils/util-linux/v2.34/v2.34-ReleaseNotes
- Provide and obsolete hardlink package.
- util-linux-login_defs-check.sh: Update checksum, login now
  supports LASTLOG_UID_MAX.

-------------------------------------------------------------------
Mon Jul 22 17:19:22 CEST 2019 - sbrabec@suse.com

- Fix /etc/default/su comments and create /etc/default/runuser
  (bsc#1121197#31).
- Remove /etc/default/su migration from coreutils.

-------------------------------------------------------------------
Mon Jul  1 23:45:55 CEST 2019 - sbrabec@suse.com

- Fix license of libraries: LGPL-2.1-or-later and BSD-3-Clause for
  libuuid (bsc#1135708).

-------------------------------------------------------------------
Thu Jun 20 09:27:11 UTC 2019 - Martin LiÅ¡ka <mliska@suse.cz>

- Use FAT LTO objects in order to provide proper static library (boo#1138795).

-------------------------------------------------------------------
Wed Jun 19 00:21:25 CEST 2019 - sbrabec@suse.com

- raw.service: Add RemainAfterExit=yes (bsc#1135534).

-------------------------------------------------------------------
Thu May  9 21:00:29 CEST 2019 - sbrabec@suse.com

- Update to version 2.33.2 (bsc#1134337):
  * agetty: Fix 8-bit processing in get_logname() (bsc#1125886).
  * mount: Fix "mount" output for net file systems (bsc#1122417).
  * Many Other fixes, see
    https://www.kernel.org/pub/linux/utils/util-linux/v2.33/v2.33.2-ReleaseNotes

-------------------------------------------------------------------
Thu May  2 23:51:45 CEST 2019 - sbrabec@suse.com

- Fix problems in reading of login.defs values (bsc#1121197,
  util-linux-login_defs-priority1.patch,
  util-linux-login_defs-priority2.patch,
  util-linux-login_defs-SYS_UID.patch).
- Perform one-time reset of /etc/default/su (bsc#1121197).
- Add virtual symbols for login.defs compatibility (bsc#1121197).
- Add login.defs safety check util-linux-login_defs-check.sh
  (bsc#1121197).

-------------------------------------------------------------------
Mon Mar  4 15:23:27 CET 2019 - sbrabec@suse.com

- Integrate pam_keyinit pam module to login
  (boo#1081947, login.pamd, remote.pamd).

-------------------------------------------------------------------
Mon Mar  4 13:00:08 UTC 2019 - Dominique Leuenberger <dimstar@opensuse.org>

- Drop bc BuildRequires: not needed.

-------------------------------------------------------------------
Thu Feb 21 10:36:48 UTC 2019 - Martin Wilck <mwilck@suse.com>

-  libmount: remove jffs2 and ubifs from blacklist (jsc#SLE-4085).

-------------------------------------------------------------------
Thu Feb  7 14:28:37 UTC 2019 - Martin Wilck <mwilck@suse.com>

- libmount: print a blacklist hint for "unknown filesystem type"
  (jsc#SLE-4085, fate#326832), and add documentation
  * add libmount-print-a-blacklist-hint-for-unknown-filesyst.patch
  * add Add-documentation-on-blacklisted-modules-to-mount-8-.patch

-------------------------------------------------------------------
Tue Jan 22 22:29:00 CET 2019 - sbrabec@suse.com

- Update to version 2.33.1:
  * agetty fixes (drop util-linux-agetty-smart-reload-10.patch,
    util-linux-agetty-smart-reload-11.patch,
    util-linux-agetty-smart-reload-12.patch).
  * Other minor fixes and documentation updates.

-------------------------------------------------------------------
Fri Jan  4 22:56:19 CET 2019 - sbrabec@suse.com

- agetty: Fixes for reload issue only if it is really needed
  (bsc#1085196, boo#1120298,
  util-linux-agetty-smart-reload-10.patch,
  util-linux-agetty-smart-reload-11.patch,
  util-linux-agetty-smart-reload-12.patch).

-------------------------------------------------------------------
Mon Dec 10 19:08:35 CET 2018 - sbrabec@suse.com

- Drop rfkill-block@.service and rfkill-unblock@.service that
  functionally conflict with systemd-rfkill@.service
  (boo#1092820#c13).

-------------------------------------------------------------------
Wed Nov 21 17:55:03 CET 2018 - sbrabec@suse.com

- Update to version 2.33:
  * choom: new command to adjust and display the current OOM-killer
    score.
  * libsmartcols has been improved to differentiate between
    numbers, booleans and strings in JSON output.
  * fstrim(8): trim all mounted filesystems from /etc/fstab
    (-A|--fstab), new command line option --dry-run.
  * hwclock(8) new command line option --delay.
  * mount umount, libmount allow to mount and umount filesystem in
    another namespace.
  * rename(1) new command line option --interactive.
  * setarch(8) does not require architecture when modify
    personality like ADDR_NO_RANDOMIZE. The architecture argument
    is optional now.
  * command su(1) new command line option --whitelist-environment.
  * setpriv(1) new command line option --reset-env and --pdeathsig.
  * fdisk(8), sfdisk(8): print disk model name to simplify device
    identification.
  * column --table-empty-lines" allows to use empty lines in
    formatted output.
  * wipefs improved to postpone BLKRRPART ioctl until all magic
    strings are wiped.
  * script(1) extended to store more information about terminal
    size and type to the typescript header. New command line
    option --output-limit.
  * libblkid provides BitLocker and basic APFS detection now.
  * lsblk is possible to execute against /sys and /proc dumps with
    --sysroot is specified.
  * agetty(8) reload issue only if it is really needed
    (bsc#1085196).
- Drop klogconsole in favor of dmesg --console-level plus
  setlogcons (kbd) (boo#1116277).

-------------------------------------------------------------------
Fri Oct 26 17:24:46 CEST 2018 - sbrabec@suse.com

- Fix runstatedir path (to /run) (boo#1113188#c1).

-------------------------------------------------------------------
Fri Oct 12 14:06:56 CEST 2018 - sbrabec@suse.com

- Create empty /etc/issue.d for the new agetty feature.

-------------------------------------------------------------------
Thu Sep 27 20:24:45 CEST 2018 - sbrabec@suse.com

- Drop obsolete downstream ppc utilities
  chrp-addnote and mkzimage_cmdline (boo#1109284).
- Drop obsolete setctsid (boo#1109290).

-------------------------------------------------------------------
Mon Aug  6 15:21:35 CEST 2018 - sbrabec@suse.com

- Update to version 2.32.1:
  * cal(1) has been improved and extended.
  * libblkid has been extended to support LUKS2, Micron mpool, VDO
    and Atari partition table.
  * rfkill(8) has been moved to /usr/sbin.
  * dmesg(1) provides better support for multi-line messages, new
    command line option --force-prefix.
  * fallocate(1) --dig-holes is faster and more effect now.
  * fdisk(8) provides access to Protective MBR accessible from main
    menu. Sun label support has been improved.
  * lscpu(1) provides more details about ARM CPUs now
    (FATE#326453).
  * lsmem(1) supports memory zone awareness now (FATE#324252,
    drop util-linux-lsmem-memory-zone-1.patch,
    util-linux-lsmem-memory-zone-2.patch,
    util-linux-lsmem-memory-zone-3.patch).
  * lsns(8) provides netnsid and nsfs columns now.
  * rtcwake(8) waits stdin to settle down before entering a system
    sleep.
  * Many fixes and improvements, see
    https://www.kernel.org/pub/linux/utils/util-linux/v2.32/v2.32-ReleaseNotes
    https://www.kernel.org/pub/linux/utils/util-linux/v2.32/v2.32.1-ReleaseNotes
    (drop util_linux_bigendian.patch, util-linux-cramfs.patch,
    util-linux-fincore-count.patch,
    util-linux-sysfs-nvme-devno.patch, util-linux-lscpu-loop.patch,
    util-linux-libmount-umount-a-segfault.patch,
    util-linux-libmount-mount-a-nfs-bind-mount.patch,
    util-linux-lscpu-chcpu-new-cpu-macros.patch,
    util-linux-chcpu-cpu-count.patch).

-------------------------------------------------------------------
Tue Jul  3 16:27:27 CEST 2018 - sbrabec@suse.com

- Switch python-libmount to python3-libmount.

-------------------------------------------------------------------
Tue May 22 11:54:13 UTC 2018 - tchvatal@suse.com

- Do not run rfkill-block@.service and rfkill-unblock@service as it
  is just template without parameter bsc#1092820 bsc#1093176

-------------------------------------------------------------------
Thu May 10 17:22:14 CEST 2018 - sbrabec@suse.com

- Fix lscpu and chcpu on systems with >1024 cores
  (bnc#1091164, util-linux-lscpu-chcpu-new-cpu-macros.patch).
- Fix CPU count in chcpu
  (bnc#1091164, util-linux-chcpu-cpu-count.patch).

-------------------------------------------------------------------
Thu Apr 19 19:30:25 CEST 2018 - sbrabec@suse.com

- Backport three upstream patches:
  * Fix crash loop in lscpu
    (bsc#1072947, util-linux-lscpu-loop.patch).
  * Fix possible segfault of umount -a
    (util-linux-libmount-umount-a-segfault.patch).
  * Fix mount -a on NFS bind mounts (bsc#1080740,
    util-linux-libmount-mount-a-nfs-bind-mount.patch).

-------------------------------------------------------------------
Thu Apr 12 17:09:30 CEST 2018 - sbrabec@suse.com

- Integrate pam_keyinit pam module (boo#1081947, su-l.pamd,
  runuser-l.pamd, runuser.pamd).

-------------------------------------------------------------------
Wed Apr  4 04:12:56 CEST 2018 - sbrabec@suse.com

- su.default: Set ALWAYS_SET_PATH default to "yes" (bsc#353876#c7);
  add one-time wrapper forcing ALWAYS_SET_PATH on upgrade.

-------------------------------------------------------------------
Tue Mar 20 13:02:18 CET 2018 - kukuk@suse.de

- Use %license instead of %doc [bsc#1082318]

-------------------------------------------------------------------
Fri Feb  9 15:08:22 CET 2018 - sbrabec@suse.com

- Fix lsblk on NVMe
  (bsc#1078662, util-linux-sysfs-nvme-devno.patch).

-------------------------------------------------------------------
Wed Jan 31 20:34:56 CET 2018 - sbrabec@suse.com

- Update to version 2.31.1:
  * blkid: Add support for LUKS2 and new LABEL attributes.
  * move rfkill to /usr/sbin (boo#1076134).
  * fsck.cramfs: Fix bus error on broken file system.
  * hwclock: add iso-8601 overflow check
  * libmount:
    * Allow MNT_FORCE and MNT_DETACH at umount
    * add nsfs between pseudo filesystems
  * lscpu: Treat read failure on Xen Hypervisor properties as
    non-fatal
  * sha1: endian fixes (affects util_linux_bigendian.patch)
  * documentation updates
  * other fixes and improvements
- Fix regressions in 2.31.1:
  * sha1 on s390* (update util_linux_bigendian.patch)
  * fsck.cramfs on ppc64le (util-linux-cramfs.patch)
  * fincore/count (disable, util-linux-fincore-count.patch)

-------------------------------------------------------------------
Sun Jan 21 20:15:00 UTC 2018 - jengelh@inai.de

- Combine %service_* calls again.

-------------------------------------------------------------------
Thu Jan 18 01:54:42 UTC 2018 - bwiedemann@suse.com

- Provide /usr/sbin/rfkill from rfkill package (boo#1076134)

-------------------------------------------------------------------
Tue Jan 16 16:26:48 UTC 2018 - normand@linux.vnet.ibm.com

- Add util_linux_bigendian.patch solve two failing tests on ppc64
  (sha1, uuid/oids)

-------------------------------------------------------------------
Fri Jan 12 13:49:36 CET 2018 - sbrabec@suse.com

- Integrate rfkill-block@.service and rfkill-unblock@.service from
  rfkill package (boo#1074250#c4).
- Remove unneeded release based conflicts and obsolescences
  (boo#1074250#c18).
- Remove sysvinit requirement.

-------------------------------------------------------------------
Mon Jan  1 10:32:51 UTC 2018 - antoine.belvire@opensuse.org

- Fix Obsoletes for rfkill (boo#1074250).

-------------------------------------------------------------------
Mon Dec 18 15:30:56 CET 2017 - sbrabec@suse.com

- Update bash completion conflict to cover rfkill file conflict.

-------------------------------------------------------------------
Mon Dec  4 17:28:04 CET 2017 - sbrabec@suse.com

- lsmem: Add support for zone awareness (bsc#1065471, FATE#324252,
  util-linux-lsmem-memory-zone-1.patch,
  util-linux-lsmem-memory-zone-2.patch,
  util-linux-lsmem-memory-zone-3.patch).
- Drop util-linux-losetup-Add-support-for-setting-logical-blocksize.patch.
  Different implementations exists in the new kernel, and it has
  a conflicting implementation in util-linux.

-------------------------------------------------------------------
Mon Nov 20 17:29:11 CET 2017 - sbrabec@suse.com

- Update to version 2.31:
  * New utilities: uuidparse, rfkill.
  * su has been refactored and extended to create pseudo terminal
    (new option --pty, CVE-2016-2779, bsc#968674). This new
    EXPERIMENTAL feature provides better isolation between root's
    terminal and an unprivileged su.
  * libuuid: Improved to match 
  * libuuid, uuidgen: support hash-based UUIDs v3 (md5) and v5
    (sha1) as specified by RFC-4122. Provide UUID templates for
    dns, url, oid, or x500.
  * libblkid: Extended support for DM-integrity, HPE (aka
    extended-XFS) and UBI superblock. New API to hide already
    detected signatures.
  * libfdisk: New API to modify grain, make possible to completely
    disable dialog driven partitioning.
  * libsmartcols: New API to move columns.
  * column: --table-header-repeat to repeat table headers.
  * libfdisk: Use BLKPG ioctls to inform the kernel about changes.
  * fdisk: Improved ^C and ^D behavior.
  * cfdisk: Dialog to resize partition.
  * look: Follow the WORDLIST environment variable.
  * losetup: Added support for --sector-size (FATE#319010).
  * script: Follow the usual semantics for stop/continue signals.
  * setpriv: New command line options --ambient-caps and
    --init-groups.
  * hwclock: Reduce system shutdown times, log --systz when using
    libaudit.
  * Other bug fixes.
- Drop upstreamed util-linux-use-tinfow.patch.
- Refreshed make-sure-sbin-resp-usr-sbin-are-in-PATH.diff.

-------------------------------------------------------------------
Thu Sep 21 14:41:01 UTC 2017 - jengelh@inai.de

- Update RPM categories and summaries.
  Do not ignore errors from useradd.

-------------------------------------------------------------------
Tue Sep 19 14:11:49 CEST 2017 - sbrabec@suse.com

- Link against tinfow instead of tinfo
  (bsc#1056171, util-linux-use-tinfow.patch).

-------------------------------------------------------------------
Fri Sep 15 07:17:45 UTC 2017 - werner@suse.de

- Ensure libreadline usage as well as _GNU_SOURCE

-------------------------------------------------------------------
Tue Sep 12 12:35:34 CEST 2017 - sbrabec@suse.com

- Fix prerequirement of groups tty and uuidd (boo#1057937).

-------------------------------------------------------------------
Thu Jul 20 13:51:20 UTC 2017 - sweet_f_a@gmx.de

- Update to version 2.30.1:
  Bugfix release, more details at:
  https://www.kernel.org/pub/linux/utils/util-linux/v2.30/v2.30.1-ReleaseNotes
- Drop upstreamed patch
  util-linux-lscpu-cleanup-DMI-detection-return-codes.patch 

-------------------------------------------------------------------
Mon Jul  3 12:38:36 UTC 2017 - schwab@suse.de

- Make sure group tty is defined

-------------------------------------------------------------------
Sun Jun 11 12:12:44 UTC 2017 - lnussel@suse.de

- don't conflict with sysvinit-tools in Tumblweed anymore. Needed for Leap 15
  which wants to use a different release number scheme (lp150.x which produces
  lower numbers than the conflict).

-------------------------------------------------------------------
Thu Jun  8 21:21:12 UTC 2017 - sweet_f_a@gmx.de

- Update to version 2.30:
  * Many changes and improvements, most notably:
    * The libblkid library has been improved for hybrid CDROM/DVD
      media.
    * The deprecated command tailf has been removed. Use "tail -f"
      from coreutils.
    * blkzone -- NEW COMMAND to run zone commands on block devices
      that support Zoned Block Commands (ZBC) or Zoned-device ATA
      Commands (ZAC).
    * fincore -- NEW COMMAND to count pages of file contents in
      core (memory).
    * lsmem -- NEW COMMAND to list the ranges of available memory
      with their online status.
    * The command fallocate -- supports an "insert range" operation
      now.
    * The command "column -t|--table" has been modified to use
      libsmartcols. It now provides nearly all of that library's
      functionality from the command line.
  * Security issues:
    * hwclock - no longer makes any internal permission checks. The
      System Administrator must set proper permissions to control
      user access to the RTC. It is NOT recommended to use SUID.
    * CVE-2016-2779 - This security issue is NOT FIXED yet.
  * More details at:
    https://www.kernel.org/pub/linux/utils/util-linux/v2.30/v2.30-ReleaseNotes
- Drop upstreamed patch
  arm64-lscpu-use-sysfs-for-table-access-if-available.patch
- Refreshed patch
  util-linux-losetup-Add-support-for-setting-logical-blocksize.patch 
- fix compiler warnings for mkzimage_cmdline

-------------------------------------------------------------------
Thu Jun  8 16:28:41 UTC 2017 - msuchanek@suse.com

- When when hypervisor_decode_sysfw fails continue with other
  detection methods (bsc#1042991, bsc#1039360, bsc#1033718)
  + util-linux-lscpu-cleanup-DMI-detection-return-codes.patch

-------------------------------------------------------------------
Wed Apr 12 09:19:21 UTC 2017 - agraf@suse.com

- Prefer sysfs exported SMBIOS3 tables in lscu (bsc#1033718)
  + arm64-lscpu-use-sysfs-for-table-access-if-available.patch

-------------------------------------------------------------------
Thu Apr  6 17:35:34 CEST 2017 - sbrabec@suse.com

- To cover release numbers of both SLE12 SP3 and Leap 42.3, relax
  release based conflict with bash-completion from 13.1 to 10.

-------------------------------------------------------------------
Tue Apr  4 14:51:09 UTC 2017 - sweet_f_a@gmx.de

- fix util-linux-losetup-Add-support-for-setting-logical-blocksize.patch
  --logical-blocksize was behaving like --nooverlap

-------------------------------------------------------------------
Fri Mar 17 17:18:28 CET 2017 - sbrabec@suse.com

- Conflict with old systemd-presets-branding to ensure correct
  preset migration (boo#1029775, bsc#1012850).

-------------------------------------------------------------------
Thu Mar 16 22:44:12 CET 2017 - sbrabec@suse.com

- Drop "codepage" fstab migration needed for SuSE Linux < 9.1
  (bsc#51950 (suse#36950)).

-------------------------------------------------------------------
Tue Feb 28 17:27:58 CET 2017 - sbrabec@suse.com

- Keep dependency on insserv and fillup for compatibilitiy reasons
  in Leap 42.3. Too many poorly written packages depend on it.
  (Marked as "sysv compatibility hack".)

-------------------------------------------------------------------
Wed Feb 22 22:00:05 UTC 2017 - sweet_f_a@gmx.de

- Update to version 2.29.2:
  * su(1) security issue CVE-2017-2616 (bsc#1023041)
  * minor bugfixes and enhancements

-------------------------------------------------------------------
Fri Feb 10 10:40:23 UTC 2017 - fbui@suse.com

- presets are managed by the branding presets package (bsc#1012850)

  The default activation state is defined by the branding preset
  package.

  This also get rid of the only use of the rpm preset macros so we can
  kill them.

-------------------------------------------------------------------
Wed Feb  8 18:16:22 CET 2017 - sbrabec@suse.com

- Merge SLE12 SP3 changes to make the package compatible with
  Tumbleweed, SLE12 SP3 and Leap 42.3.
- Drop patch tests-script-race-on-force-only.patch from SLE12 SP3
  and Leap 42.3. Upstream has a different workaround.
  https://github.com/karelzak/util-linux/issues/296
- INCOMPATIBLE CHANGE for SLE12 SP3 and Leap 42.3:
  losetup -L changes its meaning from SLE12 SP1&SP2 specific
  --logical-blocksize to the upstream --nooverlap).
  --logical-blocksize can be used only with long option
  (bsc#966891).
- Include SLE12 + Leap 42 exclusive feature, implemented by
  hare@suse.de:
  * losetup: Add support for setting logical blocksizes
    (bsc#931634, FATE#319010)
    + util-linux-losetup-Add-support-for-setting-logical-blocksize.patch
  SLE12 & Leap 42 specific changes:
  * Fix for SLE12: bsc#956540, SLE12 SP1: bsc#953691, Leap 42.1:
    boo#954482, was obsoleted by the systemd update, and skipped.
  * Remove --enable-ncurses that is intended to force non-wide
    ncurses (boo#978993).
  * Make release-dependent conflict with old sysvinit-tools SLE
    specific, as it is required only for SLE 11 upgrade,
    and breaks openSUSE staging builds (boo#994399).
  * Obsolete these patches, now upstreamed:
  * Drop upstreamed patches
    (tests-script-race-on-force-only.patch,
    util-linux-libmount-ignore-redundant-slashes.patch,
    util-linux-sfdisk-show-pt-geometry-1.patch,
    util-linux-sfdisk-show-pt-geometry-2.patch,
    util-linux-sfdisk-show-pt-geometry-3.patch,
    util-linux-libblkid-partition-loop.patch,
    util-linux-libblkid-wipe-offset.patch,
    util-linux-mount-reuse-loop-1.patch,
    util-linux-mount-reuse-loop-2.patch,
    util-linux-mount-reuse-loop-3.patch,
    util-linux-mount-reuse-loop-4.patch,
    util-linux-loop-reuse-01.patch, util-linux-loop-reuse-02.patch,
    util-linux-loop-reuse-03.patch, util-linux-loop-reuse-04.patch,
    util-linux-loop-reuse-05.patch, util-linux-loop-reuse-06.patch,
    util-linux-loop-reuse-07.patch, util-linux-loop-reuse-08.patch,
    util-linux-loop-reuse-09.patch, util-linux-loop-reuse-10.patch,
    util-linux-loop-reuse-12.patch, util-linux-loop-reuse-13.patch,
    util-linux-loop-reuse-14.patch, util-linux-loop-reuse-15.patch,
    util-linux-loop-reuse-16.patch, util-linux-loop-reuse-17.patch,
    util-linux-loop-reuse-18.patch, util-linux-loop-reuse-19.patch,
    util-linux-loop-reuse-20.patch,
    util-linux-libmount-cifs-is_mounted.patch).
  * Refreshed patches
    (make-sure-sbin-resp-usr-sbin-are-in-PATH.diff,
    util-linux-losetup-Add-support-for-setting-logical-blocksize.patch).

-------------------------------------------------------------------
Tue Feb  7 20:07:55 CET 2017 - sbrabec@suse.com

- Update to version 2.29.1:
  * lscpu: add aarch64 specific names
  * lubmount: Disable disable ro/rw mtab checks (bsc#1012632)
  * More details at:
    https://www.kernel.org/pub/linux/utils/util-linux/v2.29/v2.29.1-ReleaseNotes

-------------------------------------------------------------------
Tue Feb  7 18:31:04 CET 2017 - sbrabec@suse.com

- Replace raw initscript by a systemd service doing the same thing.
  Based on previous work of fcrozat@suse.com (FATE#321122).

-------------------------------------------------------------------
Thu Jan  5 12:34:33 UTC 2017 - sweet_f_a@gmx.de

- don't install bash-completions for uninstalled binaries (chfn,
  chsh, newgrp, pg)
- for now remove procps dependency  which is only needed for tests
  because it pulls systemd

-------------------------------------------------------------------
Thu Dec 15 09:26:01 UTC 2016 - fbui@suse.com

- Replace pkgconfig(libsystemd-*) with pkgconfig(libsystemd)

  libsystemd-* libs were deprecated and are gone now.

-------------------------------------------------------------------
Wed Dec  7 16:12:55 CET 2016 - sbrabec@suse.com

- Remove no more supported --enable-libmount-force-mountinfo.
  There is --enable-libmount-support-mtab, disabled by default,
  exactly as we need.

-------------------------------------------------------------------
Tue Nov  8 15:11:37 UTC 2016 - sweet_f_a@gmx.de

- Update to version 2.29 (FATE#322090)
  * cal: possible to specify month by name (e.g. "cal January
    2017") and use relative placeholders (cal "+1 month")
  * fdisk(8) allows to wipe newly created partitions; the feature
    is possible to control by new command line option
    --wipe-partitions[==auto|never|default].
  * findmnt --verify: the command scans /etc/fstab and tries to
    verify the configuration.
  * mount(8) now rejects requests to create another device and
    mount filesystem for the same backing file. The command
    `losetup --nooverlap` reuses loop device if already exists
    for the same backing file. All the functionality calculate
    with offset and sizelimit options of course, so it's fine to
    have multiple regions (partitions) in the same image file and
    mount all of them in the same time. The restriction is that
    the regions should not overlap.
  * lscpu supports the "drawer" topology for IBM S/390.
  * sfdisk: Support for deprecated --show-pt-geometry (bsc#990531).
  * libmount: various issues with cifs mount
    (bsc#982331, bsc#987176).
  * libblkid: Prevent infinite loop DoS while parsing DOS partition
    tables (bsc#988361, CVE-2016-5011).
  * More details at:
    http://karelzak.blogspot.de/2016/10/util-linux-v229-whats-new.html
    https://www.kernel.org/pub/linux/utils/util-linux/v2.29/v2.29-ReleaseNotes
- refresh make-sure-sbin-resp-usr-sbin-are-in-PATH.diff

-------------------------------------------------------------------
Wed Sep  7 12:43:31 UTC 2016 - sweet_f_a@gmx.de

- Update to version 2.28.2, bugfix release, see
  https://www.kernel.org/pub/linux/utils/util-linux/v2.28/v2.28.2-ReleaseNotes

-------------------------------------------------------------------
Thu Aug 11 13:24:34 UTC 2016 - sweet_f_a@gmx.de

- Update to version 2.28.1, bugfix release, see
  https://www.kernel.org/pub/linux/utils/util-linux/v2.28/v2.28.1-ReleaseNotes
- Remove util-linux-libblkid-wipe-offset.patch (upstream)
- use the new configure option --enable-libuuid-force-uuidd
  instead of sed'ing configure.ac

-------------------------------------------------------------------
Thu Aug 11 10:21:35 UTC 2016 - olaf@aepfle.de

- Install klogconsole with read permissions (bnc#990837)

-------------------------------------------------------------------
Mon Jul 11 07:29:18 UTC 2016 - dimstar@opensuse.org

- BuildIgnore util-linux: it's part of VMInstall, hence part of
  every package build. util-linux itself can be built without its
  own presence though. Helps with some rare bootstrap issues (when
  librtas changes soname for example).
- Drop usage of gpg-offline: this has long been migrated to a
  source service that checks signatures on checkin already (osc
  service lr source_validatory).

-------------------------------------------------------------------
Mon Jun 13 11:37:33 UTC 2016 - dimstar@opensuse.org

- Do not BuildRequires bash-completion: this is tempting, but it
  pulls bash-completion and its entire dependency stack into Ring0,
  which is inacceptable. Pass the correct path
  (%{_datdir}/bash-completion/completions) via
  --with-bashcompletiondir to configure.

-------------------------------------------------------------------
Thu May 19 14:29:27 CEST 2016 - sbrabec@suse.com

- blkid: Wipe corect area for probes with offset (bsc#976141,
  util-linux-libblkid-wipe-offset.patch).

-------------------------------------------------------------------
Tue Apr 26 18:24:40 CEST 2016 - sbrabec@suse.com

- Remove incorrect --with-bashcompletiondir that breaks
  bash-completion, use path in bash-completion.pc instead
  (boo#977259).

-------------------------------------------------------------------
Fri Apr 22 16:41:34 CEST 2016 - sbrabec@suse.com

- Add librtas-devel to BuildRequires on Power platforms. Needed for
  proper function of lscpu (bsc#975082).

-------------------------------------------------------------------
Wed Apr 13 21:29:00 UTC 2016 - sweet_f_a@gmx.de

- fix build for openSUSE >= 13.1 (inclusive SLE 12)
- drop build for openSUSE < 13.1
- remove old build conditions: sysvinit_tools, enable_su and
  enable_eject
- cosmetics: reorder configure options

-------------------------------------------------------------------
Wed Apr 13 09:53:21 UTC 2016 - sweet_f_a@gmx.de

- Update to version 2.28 (bsc#974301):
  * Many changes and improvements, most notably:
    * Now cfdisk, sfdisk and fdisk wipe all filesystem and RAID
      signatures when creating a new disk label in interactive
      mode. See --wipe[=auto|never|always].
    * lsns -- this NEW COMMAND lists information about all
      currently accessible namespaces or about the given namespace.
    * The command sfdisk supports new operations --delete,
      --move-data and --reorder.
    * The command blkdiscard supports a new option --zeroout to
      zero-fill rather than discard a specified area.
    * The command cal supports a new option --span to span the date
      when displaying multiple months.
    * The command chrt supports the DEADLINE scheduling class and
      the new options --sched-runtime --sched-period and
      --sched-deadline.
    * The command logger supports RFC 5424 structured data through
      the new options --sd-id and --sd-param.
    * The command losetup supports a new option --direct-io.
    * The command lsblk allows to sort output by unprinted columns.
    * The command mount applies the nofail mount option to
      ENOMEDIUM errors.
    * The commands nsenter and unshare support a new option
      --cgroup for work with cgroups namespaces (CLONE_NEWCGROUP).
    * The library libmount has been improved to properly detect
      already mounted btrfs subvolumes (bsc#947494, bsc#972684).
    * The library libsmartcols has been massively improved to print
      table ranges, multi-line cells, table titles and to support
      continuous printing.
    * The package build system and code have been improved to be
      more portable to non-Linux systems (BSD, OSX).
    * The package does not provide fallback solutions for
      openat-family functions anymore.
    * The python binding for libsmartcols is available in separate
      project at https://github.com/ignatenkobrain/python-smartcols
    * Other bug fixes (bsc#970404, bsc#975082, FATE#318444).
  * Security issue: CVE-2016-2779 is NOT FIXED yet.
- Remove old util-linux-noenc-suse.patch

-------------------------------------------------------------------
Tue Dec  1 10:27:17 UTC 2015 - sweet_f_a@gmx.de

- enable last binary

-------------------------------------------------------------------
Wed Nov 11 15:46:46 UTC 2015 - sweet_f_a@gmx.de

- Update to version 2.27.1, bugfix release, see
  https://www.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27.1-ReleaseNotes
  (fixes bsc#950778, FATE#320552).

-------------------------------------------------------------------
Wed Nov 11 11:25:25 UTC 2015 - schwab@suse.de

- Change condition for known fail markers from test for armv6 and aarch64
  architecture to test for qemu user-space build

-------------------------------------------------------------------
Wed Sep 23 14:16:22 CEST 2015 - sbrabec@suse.com

- Update to version 2.27:
  * Many changes and improvements, most notably:
    * lsipc: new command
    * unshare provides a new option --propagation=
    * mount(8) supports read-only binds in one (not atomic) step by
      "bind,ro".
    * GNU readline support in fdisk and sfdisk.
    * JSON support in libsmartcols and findmnt, losetup, lsblk,
      lslocks, sfdisk and lsipc.
    * script has been massively improved to be more robust and less
      complex (bsc#888678, bsc#930236).
    * sulogin supports locked root accounts by --force
      (bsc#968733, bsc#963399).
    * colors support by default. It is possible to change this
      with --disable-colors-default.
    * more information in cfdisk
    * fdisk provides new commands 'F' and 'i'
    * cal supports the new options --twelve and --months <n>
    * rtcwake supports a news option --list-modes and --date, no
      support RTC_ALM_READ and RTC_ALM_SET fallbacks any more.
  * Many fixes, most notably:
    * fsck: now supports -r {fd} (bsc#923777, bsc#903738)
    * Fix fsck -C {fd} parsing (bsc#923777, bsc#903738)
    * better handling of multi-path devices
      (bsc#880468, bsc#924994)
    * flock: improve timeout handling (bsc#926945)
    * lsblk: display mountpoint even for top-level device
      (bsc#943415)
    * colcrt: fix buffer overflow (bsc#949754, CVE-2015-5218)

-------------------------------------------------------------------
Wed Aug 19 21:18:11 CEST 2015 - sbrabec@suse.com

- Add licenses.

-------------------------------------------------------------------
Tue Aug  4 20:31:55 CEST 2015 - sbrabec@suse.com

- Add %systemd_preset_pre and %systemd_preset_posttrans that will
  do one shot presetting of uuidd.service on upgrade.
  (bnc#900935#c46, FATE#318949, FATE#317727).
- Remove one shot presetting hacks.

-------------------------------------------------------------------
Mon May 25 16:26:01 UTC 2015 - crrodriguez@opensuse.org

- Build with --enable-libmount-force-mountinfo the rationale is
 identical to the following commit message --> http://bit.ly/1eqf5GO
 The default behaviour is undesirable and fragile when using
 systemd.

-------------------------------------------------------------------
Fri May  1 11:30:09 UTC 2015 - sweet_f_a@gmx.de

- Update to util-linux-2.26.2:
  * many fixes, most notable for logger, *fdisks and mount
  * (lib)mount, add support for MS_LAZYTIME
- disable libmount/lock test to avoid random timeouts
- socat is needed for logger tests

-------------------------------------------------------------------
Fri Mar 13 15:57:56 UTC 2015 - sweet_f_a@gmx.de

- Update to util-linux-2.26.1:
  * cal(1): do not segfault when TERM is not defined or wrong
    (bnc#903440)
  * logger(1): major fixes and enhancements
  * agetty(8): support /usr/lib/os-release too
  * some more fixes, mostly minor ones, see ReleaseNotes
- re-enable fixed tests (fdisk/bsd, ppc64le)

-------------------------------------------------------------------
Wed Feb 25 20:43:28 CET 2015 - sbrabec@suse.cz

- Update to util-linux-2.26:
  * based on the git master branch of util-linux, remove backported
    patches (util-linux-libblkid-unsafe-chars.patch,
    util-linux-libblkid-overflow.patch)
  * zramctl(8): this NEW COMMAND allows to control /dev/zramN
    devices
  * agetty(8): supports new option --reload to force already
    running agetty processes to reprint the /etc/issue file
  * cfdisk(8), sfdisk(8) and fdisk(8): support sfdisk-compatible
    scripts; it's possible to save your partitioning layout to text
    files and (re)use it in all fdisks
  * fdisk(8), sfdisk(8): support new command-line option "--output
    <list>" to specify output columns for --list or print commands,
    do not abort when fdisk -l when device cannot be opened
    [bnc#886790], [bnc#893712], [bnc#890351]
  * nsenter(1): has been updated to work with the latest kernel
    changes in user namespaces supports new command-line option
    --preserve-credentials
  * unshare(1): has been updated to work with the latest kernel
    changes in user namespaces supports new command-line option
    "--setgroups=<deny|allow>"
  * swapon(8): supports new command-line option "-o <list>" with
    the same semantics as -o for mount(8); it's now possible to
    specify swap options on the command line by the same string as
    in fstab
  * fdformat(8): supports new command-line options --from and --to
    to specify tracks and --repair for broken floppies
  * getopt(1): has been updated to the latest version (originally
    maintained outside of util-linux) and refactored
  * ldattach(8): has been improved to support GSM0710 and intro
    modem commands
  * logger(1): supports new command-line option --id= to specify
    PID (or another ID) allows to specify --rfc3164 or --rfc5424
    syslog protocols
  * lscpu: recognizes Unisys s-Par as hypervisor (FATE#318231)
  * libfdisk: the library is distributed as a shared library with a
    stable API and a standard header file
  * libmount: provides a new simple API to monitor mount-table
    changes (including changes in userspace mount options)
  * libmount: Fix mount point lookup (and mount -a) if the path
    contains // (bsc#931955).
- Fix lack of I18N support in util-linux-systemd (mis-compilation).

-------------------------------------------------------------------
Sun Feb 22 17:15:41 UTC 2015 - crrodriguez@opensuse.org

- Build with FULL RELRO.

-------------------------------------------------------------------
Tue Feb 10 15:26:55 UTC 2015 - sweet_f_a@gmx.de

- define upstream source for klogconsole to remove patches
  * klogconsole-quiet.patch
  * klogconsole.diff
- remove openSUSE 13.1 specific eject permissions, did not worked
  anyway since eject-fpie.patch was removed
- always call autoreconf, not only for splitted packages, skip
  autopoint (gettext)

-------------------------------------------------------------------
Fri Feb  6 17:01:02 UTC 2015 - dimstar@opensuse.org

- Do not try to unregister an info file (ipc.info.gz) which we do
  not own. Already in May 2011, we stopped registering it: "do not
  register ipc.info.gz (not provided by this package)".

-------------------------------------------------------------------
Wed Feb  4 19:08:43 CET 2015 - sbrabec@suse.cz

- libblkid: care about unsafe chars and possible buffer overflow
  in cache (CVE-2014-9114, util-linux-libblkid-unsafe-chars.patch,
  util-linux-libblkid-overflow.patch, bsc#907434)

-------------------------------------------------------------------
Thu Jan 29 14:13:41 UTC 2015 - sweet_f_a@gmx.de

- Update to version 2.25.2: mostly minor fixes
  (including boo#908742)
- re-enable utmpdump and ipcs tests for all archs

-------------------------------------------------------------------
Thu Jan 15 17:15:47 UTC 2015 - schwab@linux-m68k.org

- Use util-linux:/bin/logger as split-provide,
  /usr/lib/systemd/system/fstrim.service didn't exist in 13.1

-------------------------------------------------------------------
Sat Jan 10 02:24:25 UTC 2015 - jengelh@inai.de

- Remove pam_securetty.so from /etc/pam.d/login. By definition,
  local logins are always secure. Remote logins actually use
  /etc/pam.d/remote by way of `/bin/login -h` (such as rlogind).
  This solves the problem that root logins are erroneously rejected
  when using kmscon(8) or `machinectl login`, because they use
  ptys.

-------------------------------------------------------------------
Tue Nov 11 10:57:12 UTC 2014 - schwab@suse.de

- Remove known fail marker for fdisk/bsd on ppc, ppc64, s390, s390x

-------------------------------------------------------------------
Fri Oct 17 21:18:43 CEST 2014 - sbrabec@suse.cz

- Fix mis-compilation of libuuid without uuidd support
  (bnc#900935).
- Fix uuidd socket activation (bnc#900935).
- Remove obsolete sysvinit script for uuidd.
- Remove no more needed uuidd permissions stuff.
- Replace PreReq for obsolete pwdutils by names of binaries.
- Add fstrim service scripts and rcfstrim helper.

-------------------------------------------------------------------
Mon Sep  8 21:04:34 CEST 2014 - sbrabec@suse.cz

- Install runuser and runuser-l PAM file
  (runuser.pamd, bnc#892079, bnc#894833).

-------------------------------------------------------------------
Wed Sep  3 16:21:57 CEST 2014 - sbrabec@suse.cz

- Update to version 2.25.1:
  * bug fixes (removed util-linux-bash-completion-blockdev.patch,
    util-linux-slash-in-format-string.patch)
  * translation updates
  * correct support for plurals
  * gpt: use real sector size to set PTMAGIC_OFFSET
  * gpt: add Microsoft Storage Spaces GUID
  * libmount: use -t for type.subtype in helpers API
  * erase all traces of the long-obsolete xiafs

-------------------------------------------------------------------
Tue Aug 26 12:15:02 UTC 2014 - schwab@suse.de

- Always mark ipcs/limits and misc/setarch as known failure

-------------------------------------------------------------------
Tue Aug 26 07:43:16 UTC 2014 - pgajdos@suse.com

- fix parsing of slash in the format string [bnc#889934] (internal)
- added patches:
  * util-linux-slash-in-format-string.patch

-------------------------------------------------------------------
Thu Aug 21 18:34:59 CEST 2014 - sbrabec@suse.cz

- Remove hacks for format_spec_file and source_validator
  (bnc#891152, bnc#891829).
- Use macro defined summary that passes both SLE and openSUSE
  check-in QA scripts (invented by Ruediger Oertel).

-------------------------------------------------------------------
Fri Aug  8 22:17:29 CEST 2014 - sbrabec@suse.cz

- Update to version 2.25
  (using work of Ruediger Meier <sweet_f_a@gmx.de>):
  * based on the git master branch of util-linux
  * many fixes (including bnc#869355, bnc#871951 and
    bnc#871698#c49)
  * new Python binding sub-package for libmount: python-libmount
  * new library: libsmartcols
  * new commands: lslogins, setpriv
  * add fstrim systemd timer
  * better systemd integration
  * DROPPED command:
    * cytune: Upstream decided to remove tool untested for years
      that supports this old hardware.
- Dropped patches included in the upstream:
    (*git) Included with no changes
    (+git) Included with improvements
    (!git) Included with differences
  * support-other-tty-lines-not-vconsole.patch           (*b9c7390)
  * agetty-fooled-on-serial-line-due-plymouth.patch,
  * sulogin-fooled-on-tty-line-due-plymouth.patch        (*bb280f7)
  * agetty-on-s390-on-dev-3270-tty1-line.patch           (*f2bcda5)
  * sulogin-does-not-find-any-console.patch              (*624b204)
  * util-linux-setarch-uname26.patch                     (*f6eb160)
  * util-linux-ng-2.16-squashfs3-detect.patch            (*11402f5)
  * util-linux-lscpu-improve-hypervisor-detection.patch
                     (!b774473, b32488c, 5bd31c6, 0f0c558, 96ce475)
    WARNING, INCOMPATIBLE CHANGE: "lscpu -p" no more reports
    hypervisor, as it breaks standard behavior. Use standard output
    instead! (FATE#310255)
  * blkid-stop-scanning-on-I-O-error.patch               (+296d96e)
  * blkid-convert-superblocks-to-new-calling-convention.patch
                                                         (+37f4060)
  * util-linux-libblkid-ext-probe.patch                  (*a1ca32f)
  * util-linux-hwclock-drift-check.patch                 (*f196fd1)
  * util-linux-hwclock-adjtime-check.patch               (*db8fc5f)
- Dropped obsolete patch:
  * util-linux-2.23.1-eject-fpie.patch      (eject is no more SUID)
  * util-linux-2.24-fdisk_remove_bogus_warnings.patch
                             (upstream fixed it in a different way)
  * util-linux-HACK-boot.localfs.diff
                         (MOUNT_PRINT_SOURCE is no more referenced)
- Ported and renamed:
  * util-linux-2.23.1-noenc-suse.diff
    -> util-linux-noenc-suse.patch
- Split spec file to three stages:
  * util-linux.spec: Everything that do not need python or systemd.
  * util-linux-systemd.spec: Stuff that needs systemd:
    util-linux-systemd and uuidd
    NOTE: Not building systemd-less variants of utilities.
  * python-libmount.spec: Just python-libmount
- Move bash-completion files to correct packages.
- Add patch util-linux-bash-completion-blockdev.patch.
- Add hacks to prevent damaging of spec files by format_spec_file
  (bnc#891152, also edited util-linux-rpmlintrc).

-------------------------------------------------------------------
Sat Jul 26 11:44:57 UTC 2014 - dimstar@opensuse.org

- Really fix devel-static requires (libblkid-devel-static).

-------------------------------------------------------------------
Sat Jul 26 09:39:30 UTC 2014 - coolo@suse.com

- fix requires of devel-static packages

-------------------------------------------------------------------
Thu Jul 24 18:45:53 CEST 2014 - dsterba@suse.cz

- enable build of libmount-devel-static, libuuid-devel-static and
  libblkid-devel-static

-------------------------------------------------------------------
Tue May 27 21:17:40 UTC 2014 - sweet_f_a@gmx.de

- use nologin from upstream (was added in 2.24)
- remove unknown configure options
- remove unused and outdated suse READMEs
- require bc for checks

-------------------------------------------------------------------
Fri May 16 15:10:53 UTC 2014 - sweet_f_a@gmx.de

- Prevent excessive clock drift calculations (bnc#871698,
  util-linux-prevent-excessive-clock-drift-calculations.patch),
  committed by sbrabec@suse.cz

-------------------------------------------------------------------
Thu May  8 08:15:04 UTC 2014 - werner@suse.de

- Modify patch support-other-tty-lines-not-vconsole.patch to
  make it work on virtual console
- Modify patch agetty-on-s390-on-dev-3270-tty1-line.patch
  to add the missed 3270 support upstream

-------------------------------------------------------------------
Wed May  7 14:12:32 UTC 2014 - werner@suse.de

- Add patch support-other-tty-lines-not-vconsole.patch
  to be able to support console lines like xvc and hvc

-------------------------------------------------------------------
Thu Apr 24 11:33:36 UTC 2014 - sweet_f_a@gmx.de

- Update to util-linux-2.24.2:
  addpart:
  * minor man page improvements
  blockdev:
  * Some minor corrections to the manual
  build-sys:
  * don't connect _DEPENDENCIES and _LIBADD
  * fix .h.in usage in libblkid and libmount
  * libmount/python/__init__.py is always a dist file
  chcpu:
  * cleanup return codes
  * cleanup stdout/stderr usage
  delpart:
  * minor man page improvements
  dmesg:
  * -w output not line-buffered
  * don't report EPIPE
  docs:
  * update AUTHORS file
  fallocate:
  * Clarify that space can also be deallocated
  fdformat:
  * Some minor change to the manual
  fdisk:
  * don't colorize "foo " prefixes
  flock:
  * use nfs4 fallback on EBADF too
  fsck:
  * Some typographical corrections to the manual
  fsck.minix:
  * A few typographical corrections to the manual
  fstrim:
  * add hint to man page
  getopt:
  * getopt.1 The usual doc dir is /usr/share/doc, not .../docs
  hwclock:
  * fix possible hang and other set_hardware_clock_exact() issues
  include/closestream:
  * don't wipe errno on EPIPE
  ipcs:
  * cleanup jumplabel stlyes
  * fix ipc_msg_get_info fallback case
  * fix ipc_sem_get_info fallback case
  * fix ipc_shm_get_info fallback case
  * fix memleak in ipc_*_get_info functions
  isosize:
  * A few typographical changes to the manual
  last:
  * fix minor typos in the man page
  lib/sysfs:
  * make dirent d_type usage more robust
  libblkid:
  * add extra checks to XFS prober
  libfdisk:
  * fix logical partition reorder command
  * make qsort_r() optional
  * properly implement read-only mode
  libmount:
  * FS id and parent ID could be zero
  * accept (deleted) path suffix in mountinfo file
  * initialize *root to NULL in mnt_table_get_root_fs
  login:
  * fix minor typos in the man page
  losetup:
  * wait for udev
  lscpu:
  * cleanup, use _PATH_SYS_CPU/NODE
  * don't abort if cache size is unknown
  * don't assume filesystem supports d_type when searching for NUMA nodes
  * read_hypervisor_dmi  only fallback to memory scan on x86/x86_64
  mkfs:
  * Some typographical changes to the manual
  mkfs.bfs:
  * One typographical correction to the manual
  mkfs.cramfs:
  * Some typographical corrections to the manual
  mkfs.minix:
  * Some typographical changes in the manual
  mkswap:
  * Some minor typographical corrections to the manual
  more:
  * improve formatting and wording of man page and help text
  mount:
  * apply "nofail" to MNT_ERR_NOSOURCE libmount error
  * fix --all and nofail return code
  * mount.8 Some typographical and prefix corrections to the manual
  * remove obsolete and confusing statement from mount.8
  * update mount.8 about barrier mount options defaults
  nologin:
  * minor man page improvements
  nsenter:
  * fix set{gid,uid} order,drop supplementary groups
  partx:
  * Improve the typesetting of the manual
  * make dirent d_type usage more robust
  po:
  * merge changes
  * update cs.po (from translationproject.org)
  * update da.po (from translationproject.org)
  * update de.po (from translationproject.org)
  raw:
  * Improve the typesetting of the manual
  renice:
  * correct max priority in renice man page
  runuser:
  * fix minor typos in the man page
  script:
  * Also flush writes to timing file.
  * time from end of read() call partially fixes #58
  scriptreplay:
  * no need to skip first time value or last bytes fixes #58
  setarch:
  * Fix ppc64le architectures
  setpriv:
  * Fix --apparmor-profile
  su:
  * don't use kill(0, ...) when propagate signal
  * fix minor typos in the man page
  sulogin:
  * minor man page improvements
  swaplabel:
  * Improve the typesetting of the manual
  * wrong version number in check
  switch_root:
  * make dirent d_type usage more robust
  * verify initramfs by f_type, not devno
  tests:
  * add fdisk 'f' command MBR test
  * add lscpu dump for ppc cpu with no cache size
  * clean up backport
  * cleanup, remove unused lscpu output
  * update Py parse mountinfo test
  * update libmount tabdiff tests
  * use old output format
  umount:
  * fix typo in usage
  * more robust success message for --all
  unshare:
  * include libmount.h to provide missing MS_* defines
  utmpdump:
  * minor man page improvements
  vipw:
  * minor man page improvements
- remove tty3270-on-serial-line-of-s390.patch (was already upstream
  since 2.24.1)
- remove barrier_documentation.patch (applied upstream)
- rebase blkid-convert-superblocks-to-new-calling-convention.patch

-------------------------------------------------------------------
Thu Apr 17 22:43:31 CEST 2014 - sbrabec@suse.cz

- Enable socket activation needed by systemd service (bnc#872807).

-------------------------------------------------------------------
Fri Apr 11 16:45:03 CEST 2014 - sbrabec@suse.cz

- libblkid: Drop the broken ext2/ext3/ext4 discrimination logic
  (util-linux-libblkid-ext-probe.patch, bnc#864703).

-------------------------------------------------------------------
Fri Apr 11 16:27:11 CEST 2014 - hare@suse.de

- Abort blkid probing on I/O errors (bnc#859062,
  blkid-stop-scanning-on-I-O-error.patch,
  blkid-convert-superblocks-to-new-calling-convention.patch,
  http://www.spinics.net/lists/util-linux-ng/msg08976.html)

-------------------------------------------------------------------
Tue Apr  1 18:49:26 UTC 2014 - sweet_f_a@gmx.de

- remove unnecessarily added patches from SLE11:
  * util-linux-update-default-commit-interval.patch, openSUSE  has
    never changed the default and neither will SLE12
  * sfdisk-warn-about-2TB-limit.patch, fixed by upstream years ago
  * umount-avoid-readlink.patch, this patch only affects unused
    code and the used code does not have this bug
- edit util-linux-lscpu-improve-hypervisor-detection.patch to not
  change the default behaviour of "lscpu -p" as documented in it's
  man page. Now this patch only affects the summary output.

-------------------------------------------------------------------
Mon Mar 17 22:36:58 CET 2014 - sbrabec@suse.cz

- Merge fixes and features from SLE11 (bnc#831868):
  * Detect squashfs version <= 3 as squashfs3 and version >= 4 as
    squashfs. (mszeredi@suse.cz,
    util-linux-ng-2.16-squashfs3-detect.patch, bnc#666893)
  * add sfdisk-warn-about-2TB-limit.patch (puzel@novell.com,
    bnc#495657)
  * Document barrier option in mount.8 (jack@suse.cz,
    hvogel@suse.de,
    util-linux-ng-2.19.1-barrier_documentation.patch, bnc#489740)
  * lscpu: improve hypervisor detection (puzel@novell.com,
    fate#310255)
    - util-linux-lscpu-improve-hypervisor-detection.patch
  * umount: avoid calling readlink on mountpoints if not necessary
    - add: umount-avoid-readlink.patch (puzel@suse.com, bnc#794529)
  * fix file conflict between util-linux and s390-32
    (puzel@suse.com, bnc#805684)
  * util-linux-update-default-commit-interval.patch:
    mount(8): update default commit interval (puzel@suse.com,
    bnc#809480)
  * Obsolete no more packaged uuid-runtime.
- Add uname26 (util-linux-setarch-uname26.patch, FATE#313476).

-------------------------------------------------------------------
Thu Mar  6 09:43:34 UTC 2014 - werner@suse.de

- Modify the patches
  agetty-fooled-on-serial-line-due-plymouth.patch
  sulogin-fooled-on-tty-line-due-plymouth.patch
  to be able to disable plymouth if not already terminated due to
  a hanging network service (bnc#866860)

-------------------------------------------------------------------
Sun Feb  9 21:20:31 UTC 2014 - andreas.stieger@gmx.de

- util-linux 2.24.1
- agetty:
  * support the special terminal on first serial line on a S/390
- blkdiscard:
  * BLKSSZGET fills in an int, not a uint64
- blkid:
  * escape quotes in the output
  * simple typo
- blockdev:
  * don't use HDIO_GETGEO
- build-sys:
  * add --with-smack to config-gen.d
  * fstrim depends on libmount
- chsh, chfn:
  * add info about non-local support to the man pages
- dmesg:
  * fix --raw zero timestamp for kmsg
- docs:
  * add patching process to howto-contribute.txt
  * update AUTHORS file
  * update links to http //git.kernel.org/ web repository views
 -fdisk:
  * don't care about partition type
  * fix printf stuff
  * fix usage(), -l [<disk>]
- flock:
  * Change the 'exit status' man page section to make more sense
- fsck:
  * add ext4 to list of filesystems with progress bars in fsck man page
- fstrim:
  * add --all to discard all filesystem
  * cleanup usage()
- lib/path:
  * add path_strdup()
- libblkid:
  * (nilfs2) check also backup superblock
  * detect alone PMBR
  * fix memory leak in blkid_parse_tag_string()
  * fix swap-area version
- libfdisk:
  * (dos) be more verbose when change bootable flag
  * (dos) fix free part counter
  * (dos) warn on type 0
  * (gpt) add /home GUID
  * (gpt) improve and cleanup recovery code
  * (gpt) recover from corrupted primary/backup PT
  * (sgi) generate partname according to partition position
  * (sun) fix end sectors with +1 error
- libmount:
  * add efivarfs to the list of pseudo filesystems
  * add mnt_tag_is_valid()
  * cleanup fix_optstr() regards to selinux and smack
  * fix typo in smack path
  * remove smackfs* option when SMACK not enabled
- lsblk:
  * fix -D segfault
- lscpu:
  * sort NUMA nodes to keep output human readable
  * support discontinuous NUMA nodes
  * support non sequentially numbering of CPUs
- man:
  * Syntax and spelling fixes
- mkfs.minix:
  * fix fscanf() format string [coverity scan]
- mkswap:
  * fix compiler warning [-Wunused-variable]
  * remove cruft from the man page
- mount:
  * add note about "noauto" to --all description
  * correct mount man page default iso9660 permission
  * fix man mount page type
  * improve -s man mage info
  * make NAME=value tags usable for non-root
  * mount.8 fix grammar
  * update man page ext3/4 mount options
- partx:
  * fix --update ranges and out of order tables
- po:
  * merge changes
  * update da.po (from translationproject.org)
  * update de.po (from translationproject.org)
  * update pt_BR.po (from translationproject.org)
  * update zh_CN.po (from translationproject.org)
- pylibmount:
  * correctly import from pylibmount.so
  * import directly from pylibmount in tests
  * remove unncessary subdirectory
- script:
  * don't call TIOCGWINSZ in signal handler
  * restore errno in signal handler
  * use poll() rather then O_NONBLOCK
- setpriv:
  * simplify usage()
- setterm:
  * fix -dump man page info
- sulogin:
  * use dirent->d_type when scans /dev
- taskset:
  * fix PERMISSIONS section of taskset man page
- tests:
  * update blkid swap tests
  * update build-sys tests
  * update lscpu tests
- textual:
  * small inprovements to usage and man page of fstrim
- umount:
  * fix umount by tag for non-roots
- unshare:
  * add more hints about mount namespaces to the man page
- wipefs:
  * call BLKRRPART when erase partition table
- removed patches:
  * blkdiscard-BLKSSZGET-fills-in-an-int.patch, applied upstream
- modified patches:
  * tty3270-on-serial-line-of-s390.patch, one hunk applied
    upstream

------------------------------------------------------------------
Fri Feb  7 15:59:20 UTC 2014 - werner@suse.de

- Add patch sulogin-does-not-find-any-console.patch to enable sulogin
  to find suitable console device even if first is not usable (bnc#862078)

-------------------------------------------------------------------
Thu Feb  6 10:03:30 UTC 2014 - werner@suse.de

- Avoid that hanging plymouth locks terminal lines that is
  add patch sulogin-fooled-on-tty-line-due-plymouth.patch and
  modify patch agetty-fooled-on-serial-line-due-plymouth.patch
  to remove any lock which had been left over.

-------------------------------------------------------------------
Tue Feb  4 10:24:02 UTC 2014 - werner@suse.de

- Modify patch agetty-on-s390-on-dev--3270-tty1-line.patch and
  patch tty3270-on-serial-line-of-s390.patch to handle 3270
  terminals
- Really do not verify /usr/bin/eject

-------------------------------------------------------------------
Mon Feb  3 16:16:36 UTC 2014 - werner@suse.de

- Add patch agetty-on-s390-on-dev--3270-tty1-line.patch
  to let agetty detect /dev/3270/tty1 as device not as baud rate

-------------------------------------------------------------------
Tue Jan 28 09:37:57 UTC 2014 - speilicke@suse.com

- Don't verify /usr/bin/eject, it lost the SUID bit and was dropped
  from /etc/permissions (bnc#824406)

-------------------------------------------------------------------
Thu Jan 23 12:40:06 UTC 2014 - werner@suse.de

- Change patch agetty-fooled-on-serial-line-due-plymouth.patch
  to sleep instead of sending breaks to terminal (bnc#774126).

-------------------------------------------------------------------
Mon Jan 13 10:45:54 CET 2014 - fcrozat@suse.com

- Ensure localstatedir value used by configure is /run (changed to that
  value upstream since 2012).

-------------------------------------------------------------------
Fri Jan 10 13:08:45 UTC 2014 - werner@suse.de

- Add patch
  agetty-fooled-on-serial-line-due-plymouth.patch
  even with TTYReset=no it seems with systemd or plymouth the termios
  flags become changed from under the first agetty on a serial system
  console as the flags are locked (bnc#774126).

-------------------------------------------------------------------
Tue Dec 10 16:10:27 UTC 2013 - sweet_f_a@gmx.de

- Update to util-linux-2.24
  + Release highlights (2.24)
  fdisk(8):
    * the code has been completely refactored and moved to libfdisk
      (the library does not have a stable API yet)
    * user interface has been unified for all label types and it
      supports colors
    * GPT disk UUID, partition UUID and partition name modification
      is supported now
  pylibmount:
    * this new library provides PYTHON BINDINGS for libmount;
       use --with-python[=2|3] to enable the bindings
  last(1) and lastb(1):
    * the NEW IMPLEMENTATION has been merged from sysvinit to
      util-linux and extended; now it supports command line options
      --present, --since, and --time-format
    * use --enable-deprecated-last to enable the old util-linux
      last(1) implementation
  swapon(8):
    * the option --discard= and fstab mount option discard= allow
      to explicitly specify 'pages' or 'once' discard policy. If no
      policy is selected, the default behavior is to enable both.
      See swapon.8 man page for more details.
  libblkid and blkid(8):
    * supports LOGUUID= for external logs (e.g. extN and XFS)
    * generates a pseudo PARTUUID= for MBR partitions (based on MBR
      Id, Linux kernel supports the same concept for root= command
      line option)
  agetty(8):
    * supportes new issue file \S escape code to read information
      from /etc/os-release
    * the option -L allows to completely control CLOCAL flag
  dmesg(1):
    * supports new command line option --time-format to specify
      time format
    * supports new iso-8601 time format
  hexdump(1):
    * supports long options now
  wall(1):
    * the command is compatible with sysvinit implementation now
  logger(1):
    * supports new command line option --prio-prefix when logging
      stdin
  lscpu(1):
    * allows to detect more hypervisor types and provides info
      about Max and Min CPU Mhz
  unshare(8):
    * supports new command line options --fork and --mount-proc for
      pid namespaces
  wipefs(8):
    * now wipes superblocks with incorrect checksums too
    * supports new command line option --backup to backup erased
      data to $HOME/wipefs-<devname>-<offset>.bak
  nologin(8):
    * this command has been merged into util-linux, the command
      politely refuses a login.
- Removed following patches now upstream
    * eject-scsi-check-host_status-and-driver_status.patch
    * more-fix-buffer-overflow.patch
    * more-check-for-buffer-size-when-write-multibyte-char.patch
    * more-guarantee-space-for-multibyte.patch
- Removed following patch because now pkg-config does that
    * fdisk-tinfo.patch
- Refreshed following patches with updating version string
    * util-linux-2.23.1-fdisk_remove_bogus_warnings.patch
- Added enable_last condition in case we don't want to use the last
  binary from sysvinit-tools in future
- Upstream moved getopt examples from datadir to docdir but we keep
  the old location because we would need to fix the manpage first.

-------------------------------------------------------------------
Fri Nov 29 13:46:21 UTC 2013 - werner@suse.de

- Add patch
  tty3270-on-serial-line-of-s390.patch
  to better support the first and second serial line on s390/x

-------------------------------------------------------------------
Sun Nov  3 12:53:34 UTC 2013 - schwab@linux-m68k.org

- blkdiscard-BLKSSZGET-fills-in-an-int.patch: Fix type mismatch in
  blkdiscard

-------------------------------------------------------------------
Fri Oct 25 18:52:01 CEST 2013 - sbrabec@suse.cz

- Drop SUID flag for eject (bnc#824406).

-------------------------------------------------------------------
Wed Oct  9 10:00:55 UTC 2013 - schwab@suse.de

- No *fdisk on m68k

-------------------------------------------------------------------
Wed Oct  2 18:55:22 CEST 2013 - sbrabec@suse.cz

- Safely migrate su config files from coreutils to util-linux
  (bnc#814626#c18).

-------------------------------------------------------------------
Fri Sep 27 21:58:03 UTC 2013 - mgorse@suse.com

- Add more-check-for-buffer-size-when-write-multibyte-char.patch and
  more-guarantee-space-for-multibyte.patch -- check for buffer space with
  multi-byte chars (BNC#829720).

-------------------------------------------------------------------
Fri Sep 27 16:58:40 UTC 2013 - mgorse@suse.com

- Add more-fix-buffer-overflow.patch (bnc#829720).

-------------------------------------------------------------------
Fri Sep 13 07:06:19 UTC 2013 - werner@suse.de

- Avoid build require gpg-offline twice

-------------------------------------------------------------------
Wed Sep 11 20:54:24 CEST 2013 - sbrabec@suse.cz

- Update to version 2.23.2:
  nsenter(1):
  * this NEW COMMAND provides command line interface to setns()
    Linux syscall and allows to run program with namespaces of
    other processes
  unshare(1):
  * supports new PID and USER namespaces
  fdisk(8):
  * provides experimental support for GUID Partition Table (GPT),
    the implementation is still not complete and some (unimportant)
    features are missing.
  * ~50% of fdisk code has been refactored, this task is going to
    be complete in the next release. The goal is to have libfdisk
    shared between all fdisks.
  partx(8):
  * supports new "update" command (implemented by
    BLKPG_RESIZE_PARTITION ioctl)
  mount(8):
  * supports new userspace mount option x-mount.mkdir[=<mode>] to
    create mountpoints on demand
  * the support for propagation flags has been improved, now the
    flags could be specified in /etc/fstab and used together with
    regular mount options. It's also possible to specify more
    propagation flags together. This EXPERIMENTAL feature is
    implemented by additional mount(2) syscalls, because Linux does
    not allow to use propagation flags with another options or more
    flags together.
  umount(8):
  * supports new command line option --recursive to recursively
    unmount all sub-mounts for the specified mountpoint * supports
    new command line option --all-targets to unmount all
    mountpoints in the current namespace for the specified
    filesystem * the options --recursive and --all-targets could be
    used together
  dmesg(1):
  * supports new command line options --color, --human and
  --nopager, the --human option enables relative times, colors and
  pager support.
  su(1):
  * supports new command line options --group and --supp-group to
    specify primary and supplementary groups
  chfn(1) and chsh(1):
  * the commands could be linked with libuser to support non-local
    accounts modification (e.g. LDAP, etc).
  kill(1):
  * the command has been improved to be compatible with procps
    version, the procps version is deprecated now, the util-linux
    version is enabled by default.
  blkdiscard(8):
  * this NEW COMMAND discard sectors on a device (for example on
    SSD disks)
  sulogin(8):
  * provides multi-console feature from SysVinit
  findmnt(8):
  * provides new columns FREQ, PASSNO, ID, OPT-FIELDS, PROPAGATION
  lslocks(8):
  * provides new column BLOCKER and detects blocked locks
  lsblk(8):
  * supports new command line option --scsi and new columns HCTL,
    TRANsport VENDOR and REVision
  swapon(8) and losetup(8):
  * the commands prints basic overview by default if no option
    specified
  column(1):
  * supports new command line option --output-separator to specify
    table output delimiter
  rename(1):
  * supports new command line option --symlink to rename symlink
    target
  hwclock(8):
  * supports new command line option --compare to periodically
    compare the Hardware Clock to the System Time (based on
    adjtimex -c)
  ipcs(1):
  * supports new command line options --bytes and --human
  wipefs(1):
  * supports new command line option --force to force erase on used
    devices
- Removed upstreamed patches (mkfs.bfs_cleanup_64bit.patch-Patch,
  mkfs.bfs_cleanup_endian.patch)

-------------------------------------------------------------------
Mon Jul  1 13:43:23 UTC 2013 - mail@bernhard-voelker.de

- Correct condition for Conflicts of sysvinit-tools.

-------------------------------------------------------------------
Mon Jul  1 07:08:46 UTC 2013 - werner@suse.de

- Correct version in source URL path.

-------------------------------------------------------------------
Fri Jun 28 17:42:14 CEST 2013 - sbrabec@suse.cz

- Fix Provides and Obsoletes of eject.
- Conflict with old coreutils and sysvinit-tools with conflicting
  files to guarantee seamless upgrade.
- Remove Provides and Obsoletes of packages that do not exist since
  SuSE Linux 8.
- Include upstreamed patch from SUSE eject package:
  Check eject host_status and driver_status when using SG_IO
  (eject-scsi-check-host_status-and-driver_status.patch,
  bnc#358033).

-------------------------------------------------------------------
Wed Jun 19 10:58:17 UTC 2013 - coolo@suse.com

- rely on systemd-rpm-macros instead of the full thing

-------------------------------------------------------------------
Wed Jun 12 21:02:28 UTC 2013 - mail@bernhard-voelker.de

- util-linux.spec: remove previously added "moving-su-trickery" again
  as a su-less coreutils packet is in Base:Build and Factory now.

-------------------------------------------------------------------
Fri Jun  7 00:13:25 UTC 2013 - mail@bernhard-voelker.de

- util-linux.spec: work around su(1) PAM problems based on su(1)
  being provided by both the coreutils and the util-linux package.
  Fix macro typo in %post and %verifyscript sections related to su(1):
    s/sysvinit_tools/enable_su/

-------------------------------------------------------------------
Thu Jun  6 08:27:43 UTC 2013 - werner@suse.de

- Add make-sure-sbin-resp-usr-sbin-are-in-PATH.diff, that is include
  the old "let `su' handle /sbin and /usr/sbin in path"
- Provide the new eject utility to avoid file conflict with old
  eject package

-------------------------------------------------------------------
Wed Jun  5 12:30:45 UTC 2013 - werner@suse.de

- Update to util-linux-2.23.1
  + Release highlights (2.22)
  su(1):
    * has been merged from coreutils into util-linux
    * utils-linux version uses /etc/pam.d/su-l PAM config file for --login
      (e.g. "su -") session.
  sulogin(8):
    * has been merged from sysvinit into util-linux
  utmpdump(1):
    * has been merged from sysvinit into util-linux
  eject(1):
    * has been merged from inactive upstream from sf.net and Fedora into util-linux
    * supports new options --manualeject, --force and --no-partitions-unmount
  lslocks(1)
    * this NEW COMMAND prints local system locks and it's replacement to very
      long time unmaintained lslk(1)
  wdctl(8):
    * this NEW COMMAND shows hardware watchdog status
  libuuid:
    * does NOT EXECUTE uuidd on demand, the daemon has to be started by
      init scripts / systemd
  uuidd:
    * supports socket activation (for systemd)
    * supports new options -no-fork, --no-pid and --socket-activation
  + Release highlights (2.23)
  blkdiscard(8):
    * this NEW COMMAND discard sectors on a device (for example on SSD disks)
  sulogin(8):
    * provides multi-console feature from SysVinit
- Removed following patches now upstream
  * 0001-Test-for-secure_getenv-too.patch
  * 0001-include-bitops.h-Use-the-operating-system-byteswappi.patch
  * add-canonicalize_path_restricted.patch
  * fdiskbsdlabel.patch
  * libmount-add-MNT_ERR_LOOPDEV.patch
  * libmount-add-special-MNT_ERR-codes.patch
  * libmount-don-t-use-nosuid-noexec-nodev-for-cifs-user.patch
  * login-close-tty-before-vhangup.patch
  * mount-new-add-loopdev-specific-error-message.patch
  * mount-new-allow-sloppy-for-non-root.patch
  * mount-new-improve-error-messages.patch
  * mount-new-use-MNT_ERR-for-error-messages.patch
  * mount-sanitize-paths-from-non-root-users.patch
  * util-linux-2.21.2-noenc.diff
  * umount-sanitize-paths-from-non-root-users.patch
- Removed following patch which otherwise cause to break build
  * util-linux-2.20-libmount-deps.patch
- Refreshed following patches with updating version string
  * util-linux-2.23.1-fdisk_remove_bogus_warnings.patch
  * util-linux-2.23.1-noenc-suse.diff
- Add util-linux-2.23.1-eject-fpie.patch to compile and link eject
  with PIE

-------------------------------------------------------------------
Wed May 29 11:45:04 UTC 2013 - ihno@suse.com

- fixing mkfs.bfs to make it 64bit and endian clean.
  adding the patches mkfs.bfs_cleanup_64bit.patch and
  mkfs.bfs_cleanup_endian.patch

-------------------------------------------------------------------
Sun Mar 17 20:39:47 UTC 2013 - jengelh@inai.de

- Split "which", "time" and "adjtimex" off util-linux

-------------------------------------------------------------------
Sat Feb 16 17:48:29 UTC 2013 - schwab@suse.de

- fdiskbsdlabel.patch:
  Fix fdisk compilation on aarch64

-------------------------------------------------------------------
Tue Feb  5 14:32:49 UTC 2013 - crrodriguez@opensuse.org

- 0001-Test-for-secure_getenv-too.patch:
  Current glibc in 12.3/factory no longer exports internal
  function __secure_getenv() but has secure_getenv() instead.

-------------------------------------------------------------------
Mon Jan  7 13:26:15 UTC 2013 - puzel@suse.com

- add-canonicalize_path_restricted.patch,
  mount-sanitize-paths-from-non-root-users.patch,
  umount-sanitize-paths-from-non-root-users.patch:
  prevent leaking information about existence of folders
  (bnc#797002, CVE-2013-0157)

-------------------------------------------------------------------
Fri Dec 28 04:30:58 UTC 2012 - crrodriguez@opensuse.org

- 0001-include-bitops.h-Use-the-operating-system-byteswappi.patch
  Use OS byteswapping macros, this patch is functionally identical
  to the version submitted upstream with the exception it excludes
  code that target non-linux systems.

-------------------------------------------------------------------
Wed Sep 19 19:41:10 UTC 2012 - jslaby@suse.com

- login: close tty before vhangup (bnc#778842)
  login-close-tty-before-vhangup.patch

-------------------------------------------------------------------
Fri Jun 22 09:37:20 CEST 2012 - kukuk@suse.de

- Remove pam_lastlog from login.pamd, login is doing it itself.
  [bnc#768067]

-------------------------------------------------------------------
Wed Jun 20 09:22:50 UTC 2012 - lnussel@suse.de

- add a hack for boot.localfs to determine the devices to wait for

-------------------------------------------------------------------
Fri Jun 15 12:57:06 UTC 2012 - puzel@suse.com

- improve error messages from new mount (bnc#767208)
 - backport patches from upstream git:
  - mount-new-add-loopdev-specific-error-message.patch
  - mount-new-use-MNT_ERR-for-error-messages.patch
  - libmount-add-special-MNT_ERR-codes.patch
  - mount-new-improve-error-messages.patch
  - libmount-add-MNT_ERR_LOOPDEV.patch

-------------------------------------------------------------------
Fri Jun 15 10:07:26 UTC 2012 - lnussel@suse.de

- remove encryption options completely as upstream will do that as
  well in the next release (bnc#748879).

-------------------------------------------------------------------
Thu Jun 14 13:04:40 UTC 2012 - puzel@suse.com

- fix automount with quota (rh#825836)
  - mount-new-allow-sloppy-for-non-root.patch
- fix wrong mount options for CIFS mounts (bnc#766157)
  - libmount-don-t-use-nosuid-noexec-nodev-for-cifs-user.patch

-------------------------------------------------------------------
Thu May 31 10:04:23 UTC 2012 - sweet_f_a@gmx.de

- require binutils-devel because "which" wants to find libiberty.a
- remove which-lib64.patch because it's broken and couldn't find
  libiberty.a whithin /usr/lib64
- which doesn't need autoreconf anymore

-------------------------------------------------------------------
Tue May 29 09:28:55 UTC 2012 - puzel@suse.com

- switch to new libmount-based mount(8)

-------------------------------------------------------------------
Fri May 25 12:12:09 UTC 2012 - puzel@suse.com

- update to util-linux-2.21.2
  - bugfix release
- drop sfdisk-fix-calculation-due-to-type-mismatch.patch
  (fixed upstream)

-------------------------------------------------------------------
Fri May 25 12:03:07 UTC 2012 - puzel@suse.com

- build with RPM_OPT_FLAGS again (removed by mistake)

-------------------------------------------------------------------
Thu Apr 12 09:09:05 UTC 2012 - puzel@suse.com

- fix miscalculation in sfdisk on ix86 (bnc#754789)
  - add sfdisk-fix-calculation-due-to-type-mismatch.patch

-------------------------------------------------------------------
Sat Mar 31 11:09:38 UTC 2012 - puzel@suse.com

- update to util-linux-2.21.1
  - bugfix release

-------------------------------------------------------------------
Fri Mar 16 09:56:21 UTC 2012 - fcrozat@suse.com

- Fix Obsoletes / Provides for login.

-------------------------------------------------------------------
Tue Mar 13 16:38:34 CET 2012 - kukuk@suse.de

- Enable /bin/login and obsolete old fork now merged back
  (not moved to /usr/bin until all problems are solved to
   avoid that root is not able to login).

-------------------------------------------------------------------
Tue Mar  6 21:18:56 UTC 2012 - rschweikert@suse.com

- keep binaries in /usr tree (UsrMerge project)

-------------------------------------------------------------------
Tue Feb 21 13:46:25 UTC 2012 - puzel@suse.com

- update to util-linux-2.21
  chcpu(8):
    - new command
  prlimit(1):
    - new command
  losetup(8):
    - the command has been rewritten, features:
      * supports 64bit ioctls only
      * losetup -a does not require root permissions
      * uses new /dev/loop-control kernel API
      * supports new command line option --partscan to enable
        kernel partition table parser
  agetty(8):
    - supports new command line options --nohints to disable hints
      about Num, Caps and Scroll Locks
    - supports new command line option --remote to add a hostname
      to the login(1) command line
  dmesg(1):
    - supports new command line options --file to read the log from
      a file rather than from kernel buffer
  fallocate(8):
    - supports new command line options --punch-hole to punch holes
      in the file
  findmnt(8):
    - supports alternative location of the fstab file
  ipcrm(8):
    - supports new command line option --all to remove all resources
  lscpu(1):
    - supports new command line options --all, --offline and
      --online to list all, offline or online CPUs
    - supports s390 topology description (polarization, books, ...)
  partx(8):
    - supports partitioned loop devices
  wipefs(8):
    - allows to zap partition tables
    - supports new command line option "--type <list>" to wipe only
      specified filesystems, RAIDs or partition table types
  libblkid:
    - provides new function blkid_do_wipe() to remove all
      signatures from the given block device.
- disable elvtune (works only with 2.4 kernel)
- drop patches which are upstream now:
  - drop fsck-use-FS-blacklist-for-non-all-mode-too.patch
  - drop util-linux-dmesg-fix-printing-of-multibyte-characters.patch
  - libmount-ignore-tailing-slash-in-netfs-source-paths.patch
  - libmount-fix-chdir-to-parent-for-restricted-user-umo.patch
- update to adjtimex-1.29
- use fdupes to symlink duplicate manpages
- disabled make check for time (noop)
- libraries back to %{_libdir}, /usr merge project (by
  crrodriguez@opensuse.org)
- drop cryptoloop support (provided by dm-crypt)
  - util-linux-2.17.1-mount_losetup_crypto.patch

-------------------------------------------------------------------
Tue Feb  7 14:48:23 UTC 2012 - jengelh@medozas.de

- Remove redundant tags/sections

-------------------------------------------------------------------
Sun Dec 25 22:19:44 UTC 2011 - coolo@suse.com

- do not call %suse_update_config

-------------------------------------------------------------------
Mon Nov 21 15:13:56 UTC 2011 - aj@suse.de

- add fdisk-tinfo.patch to fix build with newer curses.

-------------------------------------------------------------------
Tue Nov 15 13:15:19 UTC 2011 - coolo@suse.com

- add libtool as buildrequire to avoid implicit dependency

-------------------------------------------------------------------
Wed Nov  9 08:27:17 UTC 2011 - puzel@suse.com

- add libmount-ignore-tailing-slash-in-netfs-source-paths.patch and
  libmount-fix-chdir-to-parent-for-restricted-user-umo.patch:
  fix umounting network filesystems as plain user (bnc#728480)

-------------------------------------------------------------------
Tue Nov  8 09:36:41 UTC 2011 - puzel@suse.com

- add fsck-use-FS-blacklist-for-non-all-mode-too.patch (bnc#728645)

-------------------------------------------------------------------
Wed Nov  2 09:37:12 UTC 2011 - puzel@suse.com

- add util-linux-dmesg-fix-printing-of-multibyte-characters.patch
  (bnc#725993)

-------------------------------------------------------------------
Thu Oct 20 13:01:22 UTC 2011 - puzel@suse.com

- update to util-linux-2.20.1
  - bugfix release
- drop patches (in upstream):
  - util-linux-sfdisk-manpage-fix.patch
  - util-linux-lib-sysfs-deinit.patch
  - fdisk-dont-shorten-long-path-to-disk.patch

-------------------------------------------------------------------
Wed Oct 12 09:26:40 UTC 2011 - puzel@suse.com

- add fdisk-dont-shorten-long-path-to-disk.patch (bnc#722959)

-------------------------------------------------------------------
Tue Oct  4 11:32:11 UTC 2011 - uli@suse.com

- cross-build fix: use %__cc, %configure macros
- set bindir explicitly when installing
- (cross-?)build fix: disable build dependency on SELINUX_LIBS
  in libmount

-------------------------------------------------------------------
Tue Sep 13 09:10:43 UTC 2011 - puzel@suse.com

- add util-linux-lib-sysfs-deinit.patch (bnc#714151)

-------------------------------------------------------------------
Mon Aug 29 14:57:57 UTC 2011 - puzel@suse.com

- update to util-linux-2.20
  - cleanups, bugfixes
- build with --enable-ddate
- add util-linux-sfdisk-manpage-fix.patch

-------------------------------------------------------------------
Thu Aug 25 14:12:15 UTC 2011 - rguenther@novell.com

- BuildIgnore pwdutils.

-------------------------------------------------------------------
Wed Aug 17 10:37:20 UTC 2011 - puzel@novell.com

- update to util-linux-2.20-rc2
  - bugfixes
- drop patches:
  - util-linux-fix-manpages.patch
  - util-linux-wall-build-with-pie.patch
  - util-linux-2.20-rc1-agetty-fixes.patch
  - util-linux-2.20-rc1-hexdump-segfault.patch
  - util-linux-2.20-rc-fix-dmesg.patch

-------------------------------------------------------------------
Wed Aug 10 13:42:33 UTC 2011 - puzel@novell.com

- add util-linux-2.20-rc1-hexdump-segfault.patch (bnc#710877)

-------------------------------------------------------------------
Wed Aug 10 12:20:41 UTC 2011 - puzel@novell.com

- add util-linux-2.20-rc-fix-dmesg.patch (bnc#710417)

-------------------------------------------------------------------
Wed Aug 10 11:06:15 UTC 2011 - puzel@novell.com

- add util-linux-2.20-rc1-agetty-fixes.patch (bnc#711240)

-------------------------------------------------------------------
Mon Aug  1 13:44:21 UTC 2011 - puzel@novell.com

- update to util-linux-2.20-rc1
 - Release highlights
  agetty(8):
    - mingetty features have been merged to agetty
  chrt(1), taskset(1):
    - supports new command line option "--all-tasks" to set or
      retrieve the scheduling attributes of all the tasks (threads)
      for a given PID
  dmesg(1):
    - supports new command line options: --clear, --console-on,
      --console-off, --ctime, --decode, --facility=<list>,
      --level=<list>, --show-delta, --notime, --kernel and
      --userspace
  fdisk(8):
    - improved dialogs to be more user-friendly
  findmnt(8), partx(8), lsblk(8)
    - support new command line option "--pairs" to enable
      key="value" output format
  findmnt(8):
    - supports new command line options "--poll" and "--timeout" to
      monitor /proc/self/mountinfo changes
  ionice(1):
    - supports human-readable scheduling class names, for example:
      ionice -c best-effort $PID
  kill(1):
    - supports new command line option "-q <sigval>" to use
      sigqueue(2)
    - supports real-time signals in formats RT<n>, RTMIN+<n> and
      RTMAX-<n>
  lsblk(8):
    - supports new columns
    - supports new command line option "-D" to print device discard
      topology
  lscpu(8):
    - improved support for s390 boxes
  mkfs.minix:
    - supports minix version 3
  simpleinit:
    - this set of deprecated utils has been REMOVED
  wall(1):
    - support new command line option "--timeout" to specify write
      timeout to terminals in seconds.
- add util-linux-fix-manpages.patch
- add util-linux-wall-build-with-pie.patch
- package /sbin/rcuuidd

-------------------------------------------------------------------
Tue May  3 09:39:37 UTC 2011 - puzel@novell.com

- update to util-linux-2.19.1
  - numerous bugfixes, including (bnc#690486 and bnc#690488)
- drop umount-by-imgname.patch (merged upstream)
- cleanup: do not register ipc.info.gz (not provided by
  this package)

-------------------------------------------------------------------
Thu Apr 14 16:27:27 UTC 2011 - puzel@novell.com

- merge util-linux-2.17.1-losetup-honor-documented-c-option and
  util-linux-2.17.1-mount_losetup_crypto.patch)

-------------------------------------------------------------------
Mon Feb 21 16:28:38 UTC 2011 - puzel@novell.com

- add umount-by-imgname.patch (bnc#666161)

-------------------------------------------------------------------
Thu Feb 10 11:01:40 UTC 2011 - puzel@novell.com

- update to util-linux-2.19
  - uuid fixes
  - cleanups, documentation and translation updates
- drop util-linux-2.19-rc1-loop-offset.diff (fixed in upstream, by
  different patch)

-------------------------------------------------------------------
Wed Jan 26 11:47:55 UTC 2011 - puzel@novell.com

- update to util-linux-2.19-rc3
  - bugfixes

-------------------------------------------------------------------
Tue Jan 25 09:29:15 UTC 2011 - lnussel@suse.de

- don't mess with /etc/mtab in %post. aaa_base does that for us
  already.

-------------------------------------------------------------------
Fri Jan 21 12:34:35 UTC 2011 - lnussel@suse.de

- fix parsing offset= followed by more options (bnc#666150)

-------------------------------------------------------------------
Tue Jan 18 09:47:11 UTC 2011 - bwiedemann@novell.com

- fix bnc#664873

-------------------------------------------------------------------
Thu Jan  6 16:43:46 UTC 2011 - puzel@novell.com

- update to util-linux-2.19-rc1
- important changes:
  * lsblk(8):
   - this NEW COMMAND lists information about all or selected block
     devices in tree-like format.
  * partx(8):
   - this command has been rewritten to use libblkid for partition
     tables parsing. It supports aix, bsd, dos, gpt, mac, minix,
     sgi, solaris_x86, sun, ultrix and unixware now.
   - supports new command line option "--show" to list partitions in
     new format
   - prints UUID and name for GPT and mac partitions
  * findmnt(8):
   - supports new command line option "--submounts" to list all
     submounts for selected mountpoint(s)
  * agetty(8):
   - supports new command line options "-c" and "-s" to reuse
     already initialized tty cflags and existing baud rate
  * mount(8), umount(8):
   - could be linked with libmount (--enable-libmount-mount) to
     manage userspace mount options outside /etc/mtab on systems
     where the file is a symlink to /proc/mounts. (EXPERIMENTAL,
     enabled in openSUSE package)
  * losetup(8), mount(8):
   - uses /sys/dev/block/<device>/loop/backing_file rather than
     loopdev ioctls (requires kernel >= 2.6.37)
  * fsck(8):
   - supports new command line option "-l" to lock whole-disk device
     by exclusive flock(2). This option is recommended when more
     fsck(8) instances are executed in the same time.
  * rtcwake(8):
    - supports new mode "show" to print the current RTC alarm time
  * fstrim(8):
    - this NEW COMMAND allows to discard unused blocks on a mounted
      filesystem (wrapper for FITRIM ioctl)
  * swapon(8):
    - supports new options "discard" and "nofail"

- in post, replace /etc/mtab with a symlink to /proc/mounts/self
- drop following patches (in upstream)
  - util-linux-swapon-btrfs-limitations
  - util-linux-agetty-s-option.patch
  - util-linux-fsck-l-option.patch
  - util-linux-2.18-no-canonicalize-fix.patch
  - util-linux-swapon-canonicalize-swap-device.patch
- fix uuidd Summary and Description
- build with --enable-libmount-mount (new option)
- use set_permissions macros
- run spec-cleaner

-------------------------------------------------------------------
Tue Dec 14 16:11:34 UTC 2010 - puzel@novell.com

- add util-linux-swapon-canonicalize-swap-device.patch
  (bnc#641142)

-------------------------------------------------------------------
Thu Dec  2 17:09:08 CET 2010 - mszeredi@suse.cz

- mount: don't canonicalize "spec" with --no-canonicalize option
  [bnc#651598]

-------------------------------------------------------------------
Thu Dec  2 15:23:36 CET 2010 - mszeredi@suse.cz

- add Provides: util-linux(fake+no-canonicalize) [bnc#651598]

-------------------------------------------------------------------
Tue Nov 30 12:19:53 UTC 2010 - puzel@novell.com

- update util-linux-2.17.1-mount_losetup_crypto.patch (bnc#655804)

-------------------------------------------------------------------
Fri Nov 26 19:10:27 CET 2010 - kay.sievers@novell.com

- add Provides: fsck-with-dev-lock

-------------------------------------------------------------------
Thu Nov 25 13:37:43 CET 2010 - kay.sievers@novell.com

- add 'fsck -l' option needed for systemd

-------------------------------------------------------------------
Tue Nov 16 16:08:48 UTC 2010 - cristian.rodriguez@opensuse.org

- disable silent rules

-------------------------------------------------------------------
Thu Nov 11 10:36:35 CET 2010 - kay.sievers@novell.com

- add 'agetty' -s option needed for systemd's serial console setup

-------------------------------------------------------------------
Tue Sep 28 11:42:46 UTC 2010 - aj@suse.de

- uuidd rc file already creates /var/run/uuidd, mark it as %ghost
  in spec file.

-------------------------------------------------------------------
Fri Jul  9 06:23:27 UTC 2010 - puzel@novell.com

- update to util-linux-ng-2.18
  - do not provide rdev, ramsize, vidmode and rootflags commands
    anymore
  - fdisk does not use cylinders as display units by default
  - libmount: new library; its API is still officially unstable
  - new commands: findmnt, fsfreeze, swaplabel
  - blkid: new option "-i" to print I/O limits
  - full release notes:
    https://www.kernel.org/pub/linux/utils/util-linux/v2.18/v2.18-ReleaseNotes
- update to adjtimex-1.28
- update to which-2.20
- drop util-linux-2.14.1-mount_skip_sync.patch (fixed upstream)
- drop util-linux-addpart-use-atoll.patch (fixed upstream)
- drop util-linux-mount-detect-ro-mount.patch (fixed upstream)
- drop adjtimex-1.20-nosyscall.diff (fixed upstream)
- cleanup specfile a bit

-------------------------------------------------------------------
Mon Jun 28 06:38:35 UTC 2010 - jengelh@medozas.de

- use %_smp_mflags

-------------------------------------------------------------------
Thu Jun 24 23:24:41 CEST 2010 - jeffm@suse.de

- document btrfs limitation with swapfiles (bnc#616617)

-------------------------------------------------------------------
Tue Jun 22 16:48:29 UTC 2010 - bg@novell.com

- hppa specific binaries are parisc{,32,64}

-------------------------------------------------------------------
Tue Jun  1 14:23:23 UTC 2010 - puzel@novell.com

- do not run uuidd as root, but uuidd:uuidd (bnc#604168)

-------------------------------------------------------------------
Fri May 28 13:24:43 UTC 2010 - puzel@novell.com

- add util-linux-mount-detect-ro-mount.patch (bnc#481123)

-------------------------------------------------------------------
Tue May 11 13:58:49 UTC 2010 - puzel@novell.com

- add util-linux-addpart-use-atoll.patch (bnc#603328)

-------------------------------------------------------------------
Tue Apr  6 13:22:37 UTC 2010 - hvogel@novell.com

- update to version 2.17.2
   - fix small typo in v2.17.1-ReleaseNotes
   - fix -b <sectorsize> fdisk
   - fix typo in ionice
   - fix display of device size, fix infinite loop when probe chain
     bails out early, more robust minix probing, remove "0x" prefix
     from DRBD UUID, reset BLKID_TINY_DEV flag in
     blkid_probe_set_device, support alignment_offset=-1 in libblkid
   - fix cpuid opcode detection in lscpu
   - more explicitly explain fstab usage in mount.8, posix option
     of vfat is obsolete, properly ignore comments in
     /etc/filesystems in mount
   - update ja.po, pl.po, update vi.po
   - remove " (deleted)" from filenames from /proc/swaps
   - cleanup usage() and man page of wipefs

-------------------------------------------------------------------
Wed Mar 10 23:11:42 CET 2010 - jeffm@suse.de

- Properly honor documented -c option (bnc#583677)

-------------------------------------------------------------------
Tue Mar  2 09:53:04 UTC 2010 - lnussel@suse.de

- drop freeramdisk (bnc#584565)
- drop hostid (bnc#584562)

-------------------------------------------------------------------
Tue Feb 23 12:46:07 UTC 2010 - lnussel@suse.de

- new version 2.17.1
  - new commands: wipefs, unshare, fallocate
  - fdisk: DOS-compatible mode marked deprecated
  - honor nofail option in fsck
  - libblkid overhaul
  - lots of bug fixes
- fix self-obsoletes
- compile suid programs using -fpie
- drop -DCONFIG_SMP for s390 as it doesn't seem to be used anyways

-------------------------------------------------------------------
Sun Dec 13 15:19:16 CET 2009 - jengelh@medozas.de

- add baselibs.conf as a source

-------------------------------------------------------------------
Sun Dec  6 15:07:33 CET 2009 - jengelh@medozas.de

- enabled parallel build

-------------------------------------------------------------------
Mon Nov 30 17:05:38 CET 2009 - meissner@suse.de

- exclude sparc correctly -> %sparc bnc#559180

-------------------------------------------------------------------
Sun Nov 15 14:04:48 CET 2009 - meissner@suse.de

- refreshed patches with fuzz=0

-------------------------------------------------------------------
Mon Oct 26 17:45:53 UTC 2009 - crrodriguez@opensuse.org

- fsck during boot up fails with Too many open files [bnc#503008]

-------------------------------------------------------------------
Tue Oct 20 12:14:24 CEST 2009 - dmueller@suse.de

- fix typo in baselibs.conf change

-------------------------------------------------------------------
Tue Oct 13 11:23:07 UTC 2009 - aj@suse.de

- Fix requires of 32-bit devel packages.

-------------------------------------------------------------------
Tue Sep 29 12:58:37 UTC 2009 - hvogel@novell.com

- finaly remove the mount mtab locking patch:
  * util-linux-2.14.1-mount_race.patch
  It causes too much regressions.

-------------------------------------------------------------------
Mon Jul 13 14:21:07 CEST 2009 - kay.sievers@novell.com

- update to final 2.16 release
  - fix libdir issues in pkgconfig files
  - fix location of uuidd run directory
  - improve libuuid handling if uuidd is installed but not setuid
- add blkid.conf file to:
  - disable the sequential /dev scanner
  - move cache to /dev/.blkid.tab to get file out of /etc
    and prevent the cache file to survive a reboot

-------------------------------------------------------------------
Wed Jul  8 13:14:42 CEST 2009 - meissner@novell.com

- added baselibs.conf for libblkid* and libuuid*

-------------------------------------------------------------------
Sun Jun 28 21:36:57 CEST 2009 - kay.sievers@novell.com

- update to version 2.16
- switch from libvolume_id to new libblkid
- provide fsck
- provide libblkid
- provide libuuid
- provide setarch
- provide separate uuidd package
- remove patches:
    util-linux-2.14.1-lscpu.patch (upstream)
    util-linux-2.14.1-lscpu_add_hypervisor_detection.patch (upstream)
    util-linux-2.14.1-lscpu_sysroot_option.patch (upstream)
    util-linux-2.14.1-sys-utils_lscpu_exit.patch (upstream)
    util-linux-2.14.2-schedutils_fix_email.patch (upstream)
    util-linux-2.12r-fdisk_cyl.patch (upstream)
    util-linux-2.14.1-mount_swap_pagesize.patch (--fixpg option)
    util-linux-2.14.2-schedutils_ionice_enosys.patch (-t option)
    util-linux-2.14.1-hwclock_adjust_and_hctosys.patch (--systz)

-------------------------------------------------------------------
Thu Apr 16 14:55:22 CEST 2009 - werner@suse.de

- Move /usr/sbin/adjtimex to /sbin/adjtimex to be able to check the
  kernel time variables even without /usr mounted

-------------------------------------------------------------------
Mon Feb 16 12:35:00 CET 2009 - mkoenig@suse.de

- remove util-linux-2.14.1-fdisk_cylinder.patch
  fixed upstream

-------------------------------------------------------------------
Thu Feb 12 17:12:28 CET 2009 - mkoenig@suse.de

- update to version 2.14.2
  chrt:
    * support CFS SCHED_IDLE priority and document it
  fdisk:
    * cannot create partition with starting beyond 1 TB
    * remove obsolete information from man page
  hwclock:
    * remove "cli" and "sti" from i386 CMOS code
    * remove x86_64-specific bogon
  losetup:
    * add warning about read-only mode
    * missing EBUSY error hint message
  more:
    * minor fixes to magic()
  mount:
    * add i_version support
    * add info about /proc/mounts to mount.1
    * add info about semantics of read-only mount to mount.8
    * add rootcontext= SELinux mount option
    * clean up SPEC canonicalization
    * create separate section for fs-independent options in mount.8
    * finalize support of quoted LABELs/UUIDs
    * mtab created multiple times with -a option
    * suggest to use blockdev --setro rather than losetup
- catch ENOSYS in ionice to allow execution in virtualized
  environments which don't support ioprio_{get,set} calls [bnc#444637]
- umount: fix suid check for user mounted loop devices [bnc#461732]
- fix doc [bnc#456375]
- remove patches:
  util-linux-2.13.1-fdisk_cfdisk_yesno.patch
  util-linux-2.13-hwclock_rtc_wait_busy_tempfix.patch
  util-linux-2.14.1-disk-utils_mkfs.minix_file_size_detection.patch
  util-linux-2.14.1-fdisk_missing_include.patch
  util-linux-2.14.1-mount_loop_ro_fix.patch

-------------------------------------------------------------------
Sat Feb  7 18:28:58 CET 2009 - schwab@suse.de

- Fix info dir entry for which.

-------------------------------------------------------------------
Wed Jan  7 15:42:38 CET 2009 - mkoenig@suse.de

- fix locking problem for external mount helpers when type
  is not given [bnc#459839]

-------------------------------------------------------------------
Tue Dec  2 12:23:37 CET 2008 - mkoenig@suse.de

- raw: do not stat the raw devices when binding, since they
  are created dynamically [bnc#450675]

-------------------------------------------------------------------
Thu Nov 27 01:27:19 CET 2008 - dmueller@suse.de

- mount: fix hang on trying to find a free loop device
  if one of them has a stale nfs handle mounted (bnc#449646)

-------------------------------------------------------------------
Mon Nov 24 15:24:11 CET 2008 - mkoenig@suse.de

- mount: fix locking patch to not break -n [bnc#447937]

-------------------------------------------------------------------
Thu Nov 20 18:08:33 CET 2008 - mkoenig@suse.de

- mount: enhance mount/umount mtab locking and lock the whole
  read mtab/syscall/write mtab process to avoid mtab corruption
  with highly concurrent mount/umount calls [bnc#444966]
- add arch/powerpc/boot/addnote.c from kernel 2.6.27
  as /usr/bin/chrp-addnote [bnc#443859]
- umount: skip sync() in umount -a if no umount happened [bnc#447036]
- hwclock: allow --adjust and --hctosys simultaneously [bnc#441106]

-------------------------------------------------------------------
Fri Nov  7 14:50:00 CET 2008 - mkoenig@suse.de

- fdisk: support +cylinder notation [bnc#441871]
- check for EACCES when using ro fallback when loop mounting
  a readonly image
- fix uninitialized variable in swapon pagesize detection

-------------------------------------------------------------------
Mon Oct 27 17:33:01 CET 2008 - mkoenig@suse.de

- fdisk: add missing includes [bnc#438670]

-------------------------------------------------------------------
Thu Oct 23 17:58:28 CEST 2008 - mkoenig@suse.de

- swapon: add swap pagesize detection [bnc#433028]
- lscpu: fix return code [bnc#437367]
- mkfs.minix: fix device size detection [bnc#437980]
- lscpu: update to most recent version for hypervisor detection

-------------------------------------------------------------------
Thu Oct  2 11:10:11 CEST 2008 - mkoenig@suse.de

- add lscpu tool from current util-linux-ng git,
  needed for fate#303051
- replace hypervisor detection tool with the solution blessed by
  upstream, which adds hv detection as lscpu feature [fate#303051]

-------------------------------------------------------------------
Wed Sep 24 11:28:07 CEST 2008 - mkoenig@suse.de

- add new tool /bin/hypervisor for x86, x86_64
  from Ky Srinivasan <ksrinivasan@novell.com>
  to detect the presence of a hypervisor [fate#303051]

-------------------------------------------------------------------
Wed Sep 10 15:58:52 CEST 2008 - mkoenig@suse.de

- update to version 2.14.1
  * fdisk: don't check for GPT when asked for disk size only
  * losetup: remove unnecessary minor number check
  * rtcwake: prefer RTC_WKALM_SET over RTC_ALM_SET
  * scriptreplay: new implementation is out-of-sync
  * selinux: is_selinux_enabled() returns 0, 1 and -1
  * umount: improve "-d" option for autoclear loops
- remove patch
  util-linux-2.14-loop_autoclear.patch

-------------------------------------------------------------------
Wed Aug 20 15:20:06 CEST 2008 - mkoenig@suse.de

- enable SELinux support [fate#303662]

-------------------------------------------------------------------
Mon Aug 18 18:13:10 CEST 2008 - mrueckert@suse.de

- remove outdated options in the fillup_and_insserv call

-------------------------------------------------------------------
Mon Aug 18 12:36:39 CEST 2008 - mkoenig@suse.de

- raw: fix init script tags

-------------------------------------------------------------------
Mon Jul  7 15:13:24 CEST 2008 - mkoenig@suse.de

- update which to version 2.19
  * Upgraded code from bash to version 3.2. This DOES has influence
    on how Which behaves under certain circumstances.
  * When the environment variable HOME is not set, the home directory
    is now read from /etc/passwd or set to '/' if no home directory
    could be found (this now matches the tilde lib used in bash)
  * Changed the license to GPLv3
  * Add support for shells that output '{' on the same line as the
    function name in the output of 'declare -f' (ie zsh).
- fix build

-------------------------------------------------------------------
Wed Jul  2 15:47:08 CEST 2008 - mkoenig@suse.de

- replace util-linux-2.14-mount_ignore_ENXIO_in_del_loop.patch
  with upstream version
  util-linux-2.14-loop_autoclear.patch

-------------------------------------------------------------------
Fri Jun 27 17:05:46 CEST 2008 - schwab@suse.de

- Fix lib64 check.

-------------------------------------------------------------------
Wed Jun 25 14:26:49 CEST 2008 - mkoenig@suse.de

- update to version 2.14
  most important changes:
  * new command ldattach
  mount:
  * support auto-destruction of loop devices
  losetup:
  * new option -j
  * supports unlimited number of loop devices
  * new option --sizelimit to set data end
  * option -s (short form of --show) now deprecated
  mkswap:
  * new option -U to set UUID explicitly
  fdisk:
  * calculate partition size in 2^N [bnc#381270]
  hwclock:
  * new option --adjfile to override default /etc/adjtime
- readd scriptreplay, implemented now in C
- add retry for mount if ENOMEDIUM is returned [bnc#390204]
- ignore ENXIO in del_loop, because they might have been
  auto-destructed
- removed patches:
  util-linux-2.13.1-canonicalize_loopfile_name.patch
  util-linux-2.13.1-mkfs.minix_add_sectorsize_check.patch
  util-linux-2.13.1-mkfs.minix_device_size_cleanup.patch
  util-linux-2.13.1-mount_getfs_fix.patch
  util-linux-2.13.1-prevent_loop_mounting_the_same_file_twice.patch
  util-linux-2.13-fdisk_cfdisk_ncursesw.patch
  util-linux-mount_opt_nofail.patch
  util-linux-ng-2.13-swapon-swsuspend.patch

-------------------------------------------------------------------
Thu Apr  3 17:11:53 CEST 2008 - mkoenig@suse.de

- cfdisk: accept english answer [bnc#369043]
- use upstream getfs fix

-------------------------------------------------------------------
Wed Mar 26 22:05:42 CET 2008 - coolo@suse.de

- actually require the split out package

-------------------------------------------------------------------
Sun Mar 23 11:13:13 CET 2008 - coolo@suse.de

- splitting out 60% of the size of the package:
  creating lang subpackage

-------------------------------------------------------------------
Wed Feb 13 10:21:42 CET 2008 - bg@suse.de

- don't try to package parisc*.8 manual pages

-------------------------------------------------------------------
Mon Feb 11 17:49:04 CET 2008 - mkoenig@suse.de

- update to version 2.13.1 again
- fix broken util-linux-2.13.1-getfs_fix.patch

-------------------------------------------------------------------
Sun Feb 10 18:11:07 CET 2008 - lrupp@suse.de

- revert to 2.13.0.1+git20071121
  breaks current 'mount' call in Buildservice

-------------------------------------------------------------------
Thu Feb  7 12:41:25 CET 2008 - mkoenig@suse.de

- update to version 2.13.1:
  mount:
  * -L|-U segfault when label or uuid doesn't exist
  * chain of symlinks to fstab causes use of pointer after free
  * don't call canonicalize(SPEC) for cifs, smbfs and nfs
  * improve error message when helper program not present
  losetup:
  * fix errno usage
  mkswap:
  * possible to crash with SELinux relabeling support
  sfdisk:
  * allow partitioning drives of over 2^31 sectors
  hwclock:
  * check for ENODEV
- mount: fix problem with device canonicalization when using
  persistent name in fstab but call mount with real bd name
- patches merged:
  util-linux-2.13-mount_fd_leak.patch

-------------------------------------------------------------------
Tue Dec 18 15:55:19 CET 2007 - mkoenig@suse.de

- add temporary workaround for broken RTC update interrupts
  [#338419]

-------------------------------------------------------------------
Mon Dec  3 11:03:57 CET 2007 - ro@suse.de

- remove "arch", in coreutils now

-------------------------------------------------------------------
Thu Nov 29 17:51:17 CET 2007 - lnussel@suse.de

- update crypto patch
  * fix mount buffer overflow when reading the passphrase (#332148)
  * add loop_fish2 compatability code to losetup/mount again (#332095)
  * change default hash size for 128bit keys to sha256 again


-------------------------------------------------------------------
Wed Nov 21 13:43:31 CET 2007 - mkoenig@suse.de

- update to git20071121:
  add sector size check for mkfs.minix [#308256]
  fix canonicalization for cifs [#338375]
- provide Short-Description for raw init script
- add rpmlintrc

-------------------------------------------------------------------
Tue Nov 20 17:49:35 CET 2007 - mkoenig@suse.de

- fix raw path in init script

-------------------------------------------------------------------
Tue Nov  6 16:11:02 CET 2007 - mkoenig@suse.de

- update to 2.13.0.1+git20071106
- prevent loop mounting the same file twice [#240653]
- merged upstream:
  util-linux-2.13-mount_helper_fix.patch
  util-linux-2.13-hwclock_rtc_option.patch

-------------------------------------------------------------------
Thu Oct  4 22:24:04 CEST 2007 - bg@suse.de

- don't use parisc, parisc32 and parisc64.

-------------------------------------------------------------------
Mon Oct  1 17:08:06 CEST 2007 - mkoenig@suse.de

- update to version 2.13
  merged upstream:
  util-linux-2.12r-disk_utils_mkfs_open_exclusive.patch
  util-linux-2.13-loop.patch
  util-linux-2.13-mount_create_mtab.patch
  util-linux-2.13-schedutils_error_handling.patch
  util-linux-2.13-sys_utils_build_rdev_x86_64.patch
- fix hwclock --rtc option [#326106]
- fix setuid/setgid mixup and error checking [#327022]

-------------------------------------------------------------------
Fri Sep 14 11:24:33 CEST 2007 - mkoenig@suse.de

- link cfdisk against libncursesw instead libncurses to fix
  broken utf-8 characters [#307353]

-------------------------------------------------------------------
Wed Aug 29 12:22:21 CEST 2007 - mkoenig@suse.de

- fix fd leaks in previous patch

-------------------------------------------------------------------
Tue Aug 28 16:42:04 CEST 2007 - lnussel@suse.de

- add support for specifying the key length and password hash
  algorithm [#304861]

-------------------------------------------------------------------
Fri Aug 24 14:09:19 CEST 2007 - mkoenig@suse.de

- avoid duplicates of root fs if defined with LABEL in fstab
  [#297959]
- fix ionice error handling [#301675]

-------------------------------------------------------------------
Thu Aug 16 18:34:30 CEST 2007 - ssommer@suse.de

- free loop devices when mount fails [#297172]

-------------------------------------------------------------------
Wed Jul 25 18:43:42 CEST 2007 - mkoenig@suse.de

- update to git20070725
- removed patches (merged upstream):
  util-linux-2.12r-mount_mount.8_xfs_update.patch
  util-linux-2.12r-sys_utils_readprofile_mapfile.patch
  util-linux-2.12r-disk_utils_mkswap_fix.patch
  util-linux-2.13-schedutils_ionice_idle.patch

-------------------------------------------------------------------
Tue Jul 17 10:44:18 CEST 2007 - mkoenig@suse.de

- updated to version 2.13-rc2:
  * add wakertc
- cleanup ionice usage [#270251]
- enable hwclock audit support [#280113]
- removed patches (merged/fixed upstream)
  util-linux-login_utils_wall.patch
  util-linux-mount_mount.8-acl.patch
  util-linux-2.12r-mount_mtab_update.patch
  util-linux-2.13-schedutils_chrt.patch
  util-linux-2.13-sys_utils_arch.patch
  util-linux-2.12a-mount_mountpointwithcolon.patch
  util-linux-2.12a-mount_procswapcheck.patch
  util-linux-2.12q-mount_umount2_not_static.patch

-------------------------------------------------------------------
Fri Jul 13 12:31:56 CEST 2007 - mkoenig@suse.de

- replace hotplug with nofail option and fix it to not use
  syscall reserved values.
- removed patch
  util-linux-2.11z-hwclock_geteuid.patch
  it is intentional that suid hwclock capabilities are limited
- removed patch (fixed upstream)
  util-linux-2.12q-mount_--move.patch

-------------------------------------------------------------------
Mon Jul  9 11:34:33 CEST 2007 - mkoenig@suse.de

- add libuuid-devel to BuildRequires to let mkswap use UUIDs

-------------------------------------------------------------------
Thu Jul  5 16:08:58 CEST 2007 - mkoenig@suse.de

- use %config(noreplace) for /etc/filesystems
- Keep rdev stuff for x86_64
  util-linux-2.13-sys_utils_build_rdev_x86_64.patch
- removed patches (merged upstream)
  util-linux-2.12r-misc_utils_cal_formatting.patch
  util-linux-2.12q-sys_utils_ionice.patch

-------------------------------------------------------------------
Thu Jul  5 11:59:30 CEST 2007 - mkoenig@suse.de

- update to 2.13-rc1:
  * mount fixes
  * agetty: add 'O' escape code to display domain name
  * blockdev: add BLKFRAGET/BLKFRASET ioctls
  * fdisk: many significant improvements and fixes to Sun label handling
  * update po files
- removed patches (merged upstream):
  util-linux-2.11q-fdisk_fs_mac.patch
  util-linux-2.12r-fdisk_fdiskwrap.patch
  util-linux-2.12r-mount_racy_loop.patch
  util-linux-2.13-misc_utils_cal_ncurses.patch
  util-linux-2.13-mount_volumeid_label.patch
- use %find_lang

-------------------------------------------------------------------
Thu Jun 21 14:50:58 CEST 2007 - mkoenig@suse.de

- use encoded label names with volume_id [#232929]
  util-linux-2.13-mount_volumeid_label.patch

-------------------------------------------------------------------
Thu Jun 14 10:52:25 CEST 2007 - mkoenig@suse.de

- mkzimage_cmdline: activate commandline if used with -s [#279935]

-------------------------------------------------------------------
Wed Jun 13 12:33:59 CEST 2007 - mkoenig@suse.de

- schedutils: let chrt accept pid 0 for current process and
  fix some documentation bugs [#266879]
  util-linux-2.13-schedutils_chrt.patch

-------------------------------------------------------------------
Wed Jun  6 16:15:43 CEST 2007 - mkoenig@suse.de

- update to git20070530
- removed patches
  util-linux-2.13-mount_volume_id.patch
  util-linux-2.12r-mount_by_uuid.patch
  util-linux-2.13-build_gnu_source.patch
- fix build with ncurses

-------------------------------------------------------------------
Tue Jun  5 17:01:48 CEST 2007 - mkoenig@suse.de

- update to git20070509
  mount: NFS code removed (use mount.nfs{,4} from nfs-utils)
- remove sm-notify (nfs-utils)
- removed patches
  util-linux-2.11u-mount_nfs_mount_acl.patch
  util-linux-2.12-mount_base_nfsv4.patch
  util-linux-2.12-mount_mountfallback.patch
  util-linux-2.12-mount_nfs_tcp.patch
  util-linux-2.12q-mount_strict_aliasing.patch
  util-linux-2.12r-mount_nfs_remount_options.patch
  util-linux-2.12r-mount_rpcsec_gss.patch
  util-linux-2.12r-mount_sec_manpage.patch
  util-linux-2.12r-mount_umount_nosysfs.patch
  util-linux-2.13-mount_nfs_timeo.patch
  util-linux-mount_nfs.8.patch
  util-linux-mount_warn_nfsudp.patch

-------------------------------------------------------------------
Tue Jun  5 14:34:49 CEST 2007 - pth@suse.de

- Update to which-2.16, mainly because regenerating configure
  with newer autotools works.
- Fix the patch for AC_CHECK_STATICLIB
- Our distribution doesn't install libiberty.a, so pass
  --disable-iberty to configure of which to not use a libiberty from
  somewhere else.

-------------------------------------------------------------------
Mon Jun  4 17:06:47 CEST 2007 - pth@suse.de

- Make configure of which search for static libs in lib64 subdirs.

-------------------------------------------------------------------
Mon Apr 23 16:49:00 CEST 2007 - mkoenig@suse.de

- update to git20070412
- remove chkdupexe and scriptreplay to get rid of the
  perl dependency [#265757]
  util-linux-2.13-build_no_perl_dependency.patch
- upstream integration of umount helper support [#252089]
- merged patches:
  util-linux-2.13-misc_utils_add_man_scriptreplay.patch
  util-linux-2.13-tests_missing_include.patch

-------------------------------------------------------------------
Mon Apr 16 17:20:16 CEST 2007 - mkoenig@suse.de

- fix initialization of offset in
  util-linux-2.12r-mount_racy_loop.patch [#264225]

-------------------------------------------------------------------
Tue Apr 10 17:25:34 CEST 2007 - mkoenig@suse.de

- update to version git20070330 of new forked development tree
- removed Suse crypto patches for losetup [FATE#302001]
- removed binaries:
     /bin/guessfstype
     /sbin/sln
     /usr/bin/setfdprm
- removed obsolete patches:
  * guessfstype2.patch
  * loop-AES-v3.0a-util-linux-2.12p.diff
  * mount-nfs-nonreserved
  * stupid-programmer.diff
  * util-linux-nodiratime.diff
  * util-linux-2.12-multipleraw.diff
  * util-linux-2.12-enablereplaybuild.diff
  * util-linux-2.12-mount_guessfstype.diff
  * util-linux-2.12h-mtablock.diff
  * util-linux-2.12i-x86_64intel.diff
  * util-linux-2.12q-null.diff
  * util-linux-2.12r.diff
  * util-linux-2.12r-fdisk_llseek.patch
  * util-linux-2.12r-mount-doubleslashessourceprefix-cifs.diff
  * util-linux-2.12r-mount_external_prog_on_guess.patch
  * util-linux-2.12r-nonfsmountfallback.diff
  * util-linux-2.12r-pagesize.patch
  * util-linux-2.12r-partx_enable.patch
  * util-linux-2.12r-partx_gpt_warning.patch
- add patches:
  * util-linux-2.13-misc_utils_add_man_scriptreplay.patch
    install man page for scriptreplay
  * util-linux-2.13-tests_missing_include.patch
    fix missing header in tests/mnt_test_sysinfo.c
  * util-linux-2.13-sys_utils_arch.patch
    keep /bin/arch
  * util-linux-2.13-build_gnu_source.patch
    build with _GNU_SOURCE
  * util-linux-2.13-build_fix_intel_check.patch
    detect also x86_64 as INTEL architecture
- rename patches to identify them clearly by subsystem
- schedutils now part of util-linux itself

-------------------------------------------------------------------
Wed Apr  4 12:55:40 CEST 2007 - mkoenig@suse.de

- add Supplements line [FATE#301966]

-------------------------------------------------------------------
Mon Mar 26 15:49:09 CEST 2007 - rguenther@suse.de

- add ncurses-devel and zlib-devel BuildRequires

-------------------------------------------------------------------
Thu Mar 15 17:24:34 CET 2007 - mkoenig@suse.de

- mount: Let swapon automatically reinitialize a suspended
  swap partition [#254437]

-------------------------------------------------------------------
Thu Mar  9 11:00:11 CET 2007 - mkoenig@suse.de

- mount: fix mtablock patch to avoid mtab corruption [#226783]

-------------------------------------------------------------------
Thu Mar  8 17:27:22 CET 2007 - mkoenig@suse.de

- partx: fix warning for too long literal

-------------------------------------------------------------------
Wed Mar  7 16:58:08 CET 2007 - rguenther@suse.de

- fix changelog entry order

-------------------------------------------------------------------
Tue Feb 27 10:58:46 CET 2007 - mkoenig@suse.de

- fix missing return code in
  util-linux-2.12r-losetup_password.patch
- mount: fix race condition in mount -o loop [#242750]

-------------------------------------------------------------------
Mon Feb 12 17:22:45 CET 2007 - mkoenig@suse.de

- remove legacy warnings from fdisk [#241372]

-------------------------------------------------------------------
Fri Feb  2 13:27:31 CET 2007 - mkoenig@suse.de

- do not use O_EXCL for mkfs.cramfs [#241466]

-------------------------------------------------------------------
Wed Jan 31 12:06:55 CET 2007 - mkoenig@suse.de

- let mkfs tools open with O_EXCL [#238687]

-------------------------------------------------------------------
Tue Dec 12 11:04:07 CET 2006 - mkoenig@suse.de

- provide different return codes for losetup with encryption
  for empty and too short passwords. [#197493]

-------------------------------------------------------------------
Tue Dec  5 18:13:32 CET 2006 - mkoenig@suse.de

- default swap to V1 in any case [#205956]
  patch: util-linux-2.12r-mkswap_fix.patch
- do not append addr option with each nfs remount [#130625]
  patch: util-linux-2.12r-nfs_remount_options.patch
- add README.largedisk about fdisk partition size constraints
  [#153657]

-------------------------------------------------------------------
Tue Nov  7 13:09:45 CET 2006 - mkoenig@suse.de

- enable partx [#214992]

-------------------------------------------------------------------
Tue Oct 10 18:17:42 CEST 2006 - mkoenig@suse.de

- Round up partition end LBA to a cylinder boundary during
  add_partition() [#174892]
- Fix readprofile on ppc64 [#179122]
- Fix cal formatting bug [#203469]

-------------------------------------------------------------------
Mon Oct  9 12:27:33 CEST 2006 - mkoenig@suse.de

- Fix llseek issues.
- swapon.c: Do not use PAGE_SIZE macro.

-------------------------------------------------------------------
Mon Aug 21 12:10:01 CEST 2006 - mkoenig@suse.de

- Added sysfs to list of filesystems not to unmount with
  umount -a, resolves #190385

-------------------------------------------------------------------
Mon Jun 12 14:08:25 CEST 2006 - kay.sievers@suse.de

- use libvolume_id from provided as a rpm by udev 094

-------------------------------------------------------------------
Wed May 17 23:48:27 CEST 2006 - jeffm@suse.com

- Fixed support for calling external programs w/o -t <type>,
  it would add mtab twice [#176582]

-------------------------------------------------------------------
Mon Apr 24 14:33:20 CEST 2006 - hvogel@suse.de

- document xfs dmapi mount options better [#158955]

-------------------------------------------------------------------
Fri Apr 21 15:48:16 CEST 2006 - olh@suse.de

- add mkzimage_cmdline to edit CHRP zImage kernel cmdline (168313)

-------------------------------------------------------------------
Tue Apr 18 16:09:46 CEST 2006 - hvogel@suse.de

- fix number of supported raw devices [#165570]

-------------------------------------------------------------------
Wed Mar 29 13:54:32 CEST 2006 - olh@suse.de

- clearify comments about mac disk label handling in fdisk

-------------------------------------------------------------------
Tue Mar 28 17:53:46 CEST 2006 - hvogel@suse.de

- more fixes for the fdiskwrap patch [#160822]

-------------------------------------------------------------------
Tue Mar 21 11:35:26 CET 2006 - okir@suse.de

- Update nfs(5) manpage to document security flavors [#159368]

-------------------------------------------------------------------
Mon Mar 20 12:14:18 CET 2006 - hvogel@suse.de

- fix numbers of supported raw devices to match the kernel
  [#158203]
- make NFSv3 client support RPCSEC_GSS [#158401]
- fix that if the user doesn't specify -t <fstype>
  mount.fstype will never be called. [#155147]

-------------------------------------------------------------------
Fri Mar 10 12:07:10 CET 2006 - hvogel@suse.de

- Fix init.d/raw script to parse device names with , in them
  correctly [#155653]

-------------------------------------------------------------------
Thu Mar  9 12:28:04 CET 2006 - hare@suse.de

- Fix potential security hole in libvolume_id (#133256)

-------------------------------------------------------------------
Mon Mar  6 12:03:35 CET 2006 - hvogel@suse.de

- patch fdiskmaclabel.h too

-------------------------------------------------------------------
Thu Mar  2 15:49:06 CET 2006 - hvogel@suse.de

- axboe made fdisk not wrap at 2TB [#153657]

-------------------------------------------------------------------
Fri Feb 17 15:25:39 CET 2006 - lmuelle@suse.de

- Use cifs instead of smbfs if the source starts with // and we do not set a
  different fs type.

-------------------------------------------------------------------
Sun Feb 12 12:40:21 CET 2006 - olh@suse.de

- cosmetic fix for option_hotplug declaration
  fix unininitalized string for unknown filesystems (#148855)

-------------------------------------------------------------------
Fri Feb 10 14:00:48 CET 2006 - hvogel@suse.de

- mount should not put / in the mtab twice if mount -f / is called
  [#148409]
- fix hostid printf [#149163]

-------------------------------------------------------------------
Wed Feb  1 03:58:58 CET 2006 - olh@suse.de

- dont invent our own MS_FLAGS (#147132)

-------------------------------------------------------------------
Wed Feb  1 02:20:17 CET 2006 - ro@suse.de

- fix typo in previous change, binary negation is "~"

-------------------------------------------------------------------
Fri Jan 27 13:02:36 CET 2006 - sscheler@suse.de

- fixed mount hotplug option (#143352). now we don't send the
  MS_HOTPLUG flag to the kernel any longer, because the kernel
  doesn't know this option (EINVAL) and actually doesn't need to
  know about it.

-------------------------------------------------------------------
Fri Jan 27 12:55:29 CET 2006 - olh@suse.de

- remove clock symlink, hwclock exists since 7 years

-------------------------------------------------------------------
Fri Jan 27 11:46:17 CET 2006 - olh@suse.de

- lsprop and nvsetenv moved to powerpc-utils [#144758]

-------------------------------------------------------------------
Thu Jan 26 13:06:51 CET 2006 - hvogel@suse.de

- Make nfsboot world readable [#145418]

-------------------------------------------------------------------
Wed Jan 25 21:31:03 CET 2006 - mls@suse.de

- converted neededforbuild to BuildRequires

-------------------------------------------------------------------
Tue Jan 24 17:06:22 CET 2006 - mmj@suse.de

- Remove faulty nfs fallback code [#139019]

-------------------------------------------------------------------
Mon Jan 16 11:25:28 CET 2006 - mmj@suse.de

- Add patch for nsetenv to fix short reads/short writes [#142546]

-------------------------------------------------------------------
Wed Jan 11 12:46:28 CET 2006 - mmj@suse.de

- Update sm-notify [#141542]

-------------------------------------------------------------------
Wed Jan  4 13:52:31 CET 2006 - mmj@suse.de

- Update to 2.12r including since 2.12q:
  o cfdisk: fix a segfault with ReiserFS partitions
  o umount: disallow -r option for non-root users

-------------------------------------------------------------------
Tue Nov 22 11:49:39 CET 2005 - mmj@suse.de

- install proper renice manpage [#132470]

-------------------------------------------------------------------
Tue Nov 15 17:01:34 CET 2005 - uli@suse.de

- umount2 is not static (only fails on ARM, surprisingly)
- added ARM ionice syscalls

-------------------------------------------------------------------
Fri Nov 11 10:42:35 CET 2005 - hare@suse.de

- Fix reverse-mapping of by-UUID and by-LABEL mounts.

-------------------------------------------------------------------
Thu Nov 10 09:04:17 CET 2005 - hare@suse.de

- Fix a mishandling of by-UUID mounts.
- Use libvolume_id from udev.

-------------------------------------------------------------------
Sat Oct 22 17:55:16 CEST 2005 - mmj@suse.de

- Increase lsprop.c max property size to 4k [#128155]

-------------------------------------------------------------------
Mon Oct 10 12:44:05 CEST 2005 - mmj@suse.de

- Add -fno-strict-aliasing to nfsmount_xdr.c

-------------------------------------------------------------------
Mon Oct  3 09:55:56 CEST 2005 - mmj@suse.de

- Teach the mount manual page about nodiratime [#118987]

-------------------------------------------------------------------
Thu Sep 29 12:42:03 CEST 2005 - mmj@suse.de

- Patch from jakub007@go2.pl to make mount --move update
  /etc/mtab correctly [#115129]

-------------------------------------------------------------------
Tue Sep 13 14:16:58 CEST 2005 - mmj@suse.de

- Only allow root to pass -r to umount [#116741]

-------------------------------------------------------------------
Mon Sep  5 13:18:27 CEST 2005 - mmj@suse.de

- MAC -> Mac [#104081]

-------------------------------------------------------------------
Fri Sep  2 13:48:17 CEST 2005 - mmj@suse.de

- Don't package manual executable [#114849]

-------------------------------------------------------------------
Thu Sep  1 10:56:25 CEST 2005 - mmj@suse.de

- Add patch for device-mapper mount by label support [#75966]

-------------------------------------------------------------------
Thu Sep  1 00:12:39 CEST 2005 - ro@suse.de

- provide and obsolete schedutils

-------------------------------------------------------------------
Tue Aug 23 18:00:01 CEST 2005 - hvogel@suse.de

- update ionice patch by axboe so that ionice will complain about
  missing sys_ioprio_set support, but it will still
  execute the process.

-------------------------------------------------------------------
Mon Aug 22 17:06:42 CEST 2005 - hvogel@suse.de

- Fix rpm verify output [#105807]
  (ghost entry for /var/lib/nfs/state)

-------------------------------------------------------------------
Mon Aug 22 16:27:16 CEST 2005 - schwab@suse.de

- Fix stupid buffer overflow bug in cfdisk [#66020].

-------------------------------------------------------------------
Wed Aug 17 12:59:24 CEST 2005 - hare@suse.de

- Add option 'hotplug' to mount (#104405)

-------------------------------------------------------------------
Mon Aug 15 16:33:48 CEST 2005 - schwab@suse.de

- Always build with RPM_OPT_FLAGS.

-------------------------------------------------------------------
Thu Aug 11 14:41:18 CEST 2005 - mmj@suse.de

- Patch from Patrick Kirsch to make fdisk detect MAC-fs [#104081]

-------------------------------------------------------------------
Wed Aug  3 20:50:59 CEST 2005 - mmj@suse.de

- Merge schedutils to here (it's happened upstream already)

-------------------------------------------------------------------
Tue Aug  2 08:47:47 CEST 2005 - mmj@suse.de

- Support for s390 and s390x

-------------------------------------------------------------------
Mon Aug  1 20:04:13 CEST 2005 - mmj@suse.de

- It's not __ppc_ and __ppc64__ but __powerpc__ and __powerpc64__

-------------------------------------------------------------------
Mon Aug  1 12:17:39 CEST 2005 - mmj@suse.de

- Add ionice binary from Jens Axboe

-------------------------------------------------------------------
Wed Jun 29 11:26:31 CEST 2005 - mmj@suse.de

- Document load and clearly issues about NFS over UDP [#80263]
- Don't compile with -fsigned-char [#93886]

-------------------------------------------------------------------
Tue May 31 13:26:05 CEST 2005 - okir@suse.de

- Added NFSv4 support

-------------------------------------------------------------------
Mon May  9 17:27:59 CEST 2005 - hvogel@suse.de

- move hashalot and cryptsetup tools to util-linux-crypto

-------------------------------------------------------------------
Tue Apr 12 16:13:57 CEST 2005 - mmj@suse.de

- bump TCP timeo to 600 [#76198]

-------------------------------------------------------------------
Tue Mar 29 13:43:31 CEST 2005 - mmj@suse.de

- Add awareness of twofishSL92 [#74359]
- Update hashalot to version 0.3

-------------------------------------------------------------------
Mon Mar 14 15:30:49 CET 2005 - okir@suse.de

- Changed sm-notify to recognize host names as well as addresses.

-------------------------------------------------------------------
Thu Mar 10 11:28:21 CET 2005 - mmj@suse.de

- Don't strip anything explicitly
- Don't compile with -fno-strict-aliasing [#66020]

-------------------------------------------------------------------
Fri Feb  4 14:48:27 CET 2005 - schwab@suse.de

- Fix stupid programmer.

-------------------------------------------------------------------
Mon Jan 24 17:01:51 CET 2005 - meissner@suse.de

- implicit strcmp / strerror in setctsid fixed.
- 0 -> NULL in an execl

-------------------------------------------------------------------
Fri Jan 21 14:37:21 CET 2005 - mmj@suse.de

- Sleep after inserting the raw module to make sure it's ready [#49807]
- Update to 2.12q including since 2.12p:
  o New upstream maintainer - Adrian Bunk <bunk_at_stusta_dot_de>
  o sfdisk: add -G option
  o Updated translations

-------------------------------------------------------------------
Tue Jan 18 17:04:30 CET 2005 - okir@suse.de

- Updated sm-notify; try not to stall bootup my moving the NSM
  state update after we've backgrounded (#49072).

-------------------------------------------------------------------
Mon Jan 10 14:45:12 CET 2005 - mmj@suse.de

- Update adjtimex to 1.20
- Update to util-linux-2.12p including since 2.12i:
  o cfdisk: fix number of new partition when partitions not in disk order
  o fdisk: fix Sun label handling in sector mode
  o mkfs: never truncate filename (not that that ever happened)
  o more: fix redraw flaw
  o lomount: revert patch from 2.12j
  o lptune.8: -T option is obsolete
  o mkswap, mkswap.8, swapon: support labels
  o umount: allow user unmounting repeatedly mounted nfs mounts
  o cfdisk: recognize JFS, support reiserfs labels
  o mount: fix option parsing bug
  o mount.8: several updates
  o swapon.8: document -v option
  o Makefile: remove cat-id-tbl.c upon make clean
  o fdisk: fixed a bug that would cause a non-update of a sun disklabel
  o fdisk: use sectorsize instead of 512 for SGI
  o hwclock: actually use HAVE_tm_gmtoff
  o swapon: fix priority handling
  o umount: refuse to unmount an empty string
  o configure, MCONFIG: detect gcc 3.4.0 and use -mtune option
  o configure: do not run ./conftest (for cross compilation)
  o fsck.cramfs: try to get correct PAGE_CACHE_SIZE
  o losetup: try to give better error messages
  o readprofile: default map file is /boot/System.map
  o rdev.8: added historical info on ramdisk
  o cal: highlight today
  o lomount: stop reading passwd at NUL, fix lo_encrypt key_size
  o losetup: add -f option to find an unused loop device
  o more: code cleanup
  o mount: add "group" mount option
  o sfdisk: fix 2.6.8 BLKRRPART ioctl damage
  o swapon: let swapon -a skip the swapfiles marked "noauto"
  o umount: fix problem with empty mtab
  o umount: use special umount program if it exists
  o new flock binary
  o New messages

-------------------------------------------------------------------
Tue Nov 30 11:02:32 CET 2004 - mmj@suse.de

- Install ramsize, rdev, rootflags and vidmode on x86-64 [#48633]

-------------------------------------------------------------------
Fri Nov 12 15:01:36 CET 2004 - schwab@suse.de

- Don't install *fdisk on ia64.

-------------------------------------------------------------------
Fri Nov 12 14:50:24 CET 2004 - ro@suse.de

- correct permissions handling for wall and write

-------------------------------------------------------------------
Tue Nov  9 16:00:23 CET 2004 - mmj@suse.de

- Fix segfault with mount -l [#48029]

-------------------------------------------------------------------
Fri Nov  5 11:36:16 CET 2004 - mmj@suse.de

- Update to util-linux-2.12i including:
  o MCONFIG: fix build conditions
  o chfn, chsh: add error checking
  o cytune: use local header cyclades.h
  o fdisk: fix default SGI volume header size
  o fstab.c: use strsignal() instead of sys_siglist[]
  o hwclock: use <sys/io.h> when available on i386
  o hwclock: dont try KDGHWCLK on archs other than __m68k__
  o sfdisk: correct typo in __attribute__used nonsense
  o sfdisk: use PACKED on __arm__
  o sfdisk: fix warning printout

-------------------------------------------------------------------
Thu Nov  4 08:37:19 CET 2004 - mmj@suse.de

- Update to util-linux-2.12h including:
  o cfdisk: avoid crash if no partition table
  o elvtune: tell user that this only works on 2.4 kernels
  o lomount: clear passwords after use
  o mount: accept comments (specified by comment=) in fstab
  o mount: support ocfs, ocfs2
  o [u]mount: be more careful with malloc, try to avoid OOM with
    many mounts
  o sfdisk: __attribute__used nonsense to support gcc 3.4
  o shutdown: do not unmount various virtual filesystems
  o mount.8: added recent ext2 mount options
  o mount: support jfs mount-by-label, improve reiserfs support
  o sfdisk: remove strange "ends in a digit" heuristic
  o *fdisk: use common disksize() routine

-------------------------------------------------------------------
Tue Oct 19 10:24:13 CEST 2004 - mmj@suse.de

- Add patch from SGI for fdisk label [#47368]

-------------------------------------------------------------------
Tue Sep 28 11:18:50 CEST 2004 - mmj@suse.de

- And another one [#46201]

-------------------------------------------------------------------
Wed Sep 15 23:11:56 CEST 2004 - mmj@suse.de

- Add patch from Andries to fix cfdisk [#44996]

-------------------------------------------------------------------
Tue Sep  7 07:32:39 CEST 2004 - mmj@suse.de

- Update to util-linux-2.12c including:
  o mount.8: added recent ext2 mount options
  o mount: support jfs mount-by-label, improve reiserfs support
  o sfdisk: remove strange "ends in a digit" heuristic
  o *fdisk: use common disksize() routine [#44678]

-------------------------------------------------------------------
Wed Aug 25 12:54:00 CEST 2004 - mmj@suse.de

- Update to util-linux-2.12b including:
  o  chsh: improved error message
  o  dmesg: ask kernel proper buffer size
  o  losetup: handle 64-bit offsets
  o  blockdev: also report BLKGETSIZE64 result [#43464]
  o  blockdev, elvtune, fdisk: handle new kernel _IOR,_IOW defines
  o  fdisk: remove strange "ends in a digit" heuristic
  o  fdisk: also list Solaris as possible type for 0x82
  o  mount: added --rbind option
  o  mount: use blkid library
  o  mount: support reiserfs mount by label
  o  mount: attempt to use the right definition of dev_t in struct
     loopinfo
  o  mount.8: jfs mount options added
  o  readprofile: new -s option
  o  rename.1: added ref to mmv.1
  o  replay: renamed to scriptreplay; correct typos
  o  script: do not use locale for time delay floating point number
     format
  o  sfdisk: error messages to stderr
  o  New Catalan, Dutch, Finnish, French, German, Spanish, Swedish,
     Turkish, Ukrainian messages
- Update the loop-AES patch, thanks to Sumit Bose
- Change the minimum password length to 8 chars

-------------------------------------------------------------------
Tue Aug 24 08:03:24 CEST 2004 - mmj@suse.de

- Fix signed/unsigned bug in lsprop [#44048]

-------------------------------------------------------------------
Wed Aug 18 15:56:01 CEST 2004 - mmj@suse.de

- Readd patch that got lost to make fdisk -l work better with
  RAID controllers [#43485]

-------------------------------------------------------------------
Mon Aug  9 11:06:34 CEST 2004 - mmj@suse.de

- Add an improved version of the dmesg bufsize patch.

-------------------------------------------------------------------
Tue Jun 22 15:50:05 CEST 2004 - mmj@suse.de

- Add patch to try and guess a filesystem type before blindly
  assuming it's nfs because of the colon [#42097]

-------------------------------------------------------------------
Mon Jun 14 19:21:08 CEST 2004 - agruen@suse.de

- Formatting error in mount.8 manual page.

-------------------------------------------------------------------
Wed Jun  9 15:17:47 CEST 2004 - mmj@suse.de

- Add patch from Olaf Kirch to make protocol selection for mount
  independent of protocol selection for NFS, and picks what is
  available (preferring TCP over UDP) [#41735]

-------------------------------------------------------------------
Wed Jun  9 12:10:03 CEST 2004 - mls@suse.de

- add '-f' option to setctsid

-------------------------------------------------------------------
Thu May 27 15:07:13 CEST 2004 - okir@suse.de

- sm-notify now binds to a reserved port

-------------------------------------------------------------------
Sat May 15 16:15:00 CEST 2004 - mmj@suse.de

- Add documentation about raw device handling [#39037]

-------------------------------------------------------------------
Mon May 10 14:40:43 CEST 2004 - mmj@suse.de

- Make dmesg dump entire buffer. Patch from Andries/odabrunz [#39761]

-------------------------------------------------------------------
Wed May  6 10:05:16 CEST 2004 - mmj@suse.de

- Also check if the device is the same when doing swapon. Could be
  the same block device with 2 different names [#39436]

-------------------------------------------------------------------
Wed May  5 11:12:47 CEST 2004 - mmj@suse.de

- Do a /sbin/modprobe raw when invoking raw devices [#39037]

-------------------------------------------------------------------
Tue Apr 20 09:28:09 CEST 2004 - mmj@suse.de

- Update to 2.12a including:
  o fdisk: fix for kernels 2.4.15-2.4.17
  o fdisk: fix when all partitions are in use
  o hwclock: add a timeout when waiting for a clock update
  o ipcs: compilation fix
  o ipcs: shminfo.shmall gives pages
  o mount: efs support
  o partx: bigendian fix
  o readprofile: support for 64-bit addresses
  o setterm: fix klogctl error message
  o setterm.1: clarification
  o sfdisk: fix check for is_ide_cdrom_or_tape
  o umount: skip proc, devfs, devpts on umount -a

-------------------------------------------------------------------
Mon Apr 19 11:52:54 CEST 2004 - mmj@suse.de

- Add patch for unlimited raw devices [#39037]

-------------------------------------------------------------------
Thu Apr 15 11:08:50 CEST 2004 - mmj@suse.de

- Make sm-notify be more quiet when nothing wrong, and log to sys-
  log when something is.

-------------------------------------------------------------------
Tue Apr  6 14:45:36 CEST 2004 - mmj@suse.de

- Don't use startproc for sm-notify [#38481]

-------------------------------------------------------------------
Mon Apr  5 14:55:39 CEST 2004 - mmj@suse.de

- Removing elvtune alltogether was a bit drastic, since it of
  course works fine with 2.4 kernels. So print a warning in case
  the BLKELVGET ioctl returns something indicating 2.6 kernels.

-------------------------------------------------------------------
Thu Apr  1 19:50:47 CEST 2004 - mmj@suse.de

- Don't package elvtune anymore since it's obsolete now that io
  scheduler can be tuned in /sys/block/hdX/queue/iosched/* [#37869]

-------------------------------------------------------------------
Wed Mar 31 11:19:28 CEST 2004 - mmj@suse.de

- Apply util-linux-2.12a fixes for hwclock and readprofile. The
  hwclock bit is a timout fix which hopefully fixes [#35877]
- Move sm-notify to here from nfs-utils [#36737]

-------------------------------------------------------------------
Mon Mar 29 13:26:20 CEST 2004 - mmj@suse.de

- Adjust warnings about Crypto-API

-------------------------------------------------------------------
Sun Mar 28 11:00:24 CEST 2004 - mmj@suse.de

- Add patch to make script allways use the same LC_NUMERIC [#35476]

-------------------------------------------------------------------
Fri Mar 26 21:38:27 CET 2004 - od@suse.de

- Add setctsid by Werner Fink [#37177]

-------------------------------------------------------------------
Fri Mar 26 15:07:00 CET 2004 - mmj@suse.de

- Mount option "code" is now "codepage" so update /etc/fstab in
  postinstall [#36950]

-------------------------------------------------------------------
Fri Mar 26 11:49:01 CET 2004 - mmj@suse.de

- Remove false statement in nfs.5 about the linux kernel not
  supporting nfs over tcp [#37060]

-------------------------------------------------------------------
Wed Mar 17 21:41:17 CET 2004 - mmj@suse.de

- Use correct permissions for README.hashalot [#36303]

-------------------------------------------------------------------
Mon Mar  8 10:51:46 CET 2004 - mmj@suse.de

- Enable build of replay [#35434]

-------------------------------------------------------------------
Wed Feb 25 14:07:15 CET 2004 - mmj@suse.de

- Use loop-AES-v2.0f-util-linux-2.12.diff instead of losetup patch
  added earlier. Thanks Sumit Bose!

-------------------------------------------------------------------
Thu Feb 19 09:54:03 CET 2004 - mmj@suse.de

- Add cryptsetup script from Christophe Saout, for usage with the
  new dm-crypt.

-------------------------------------------------------------------
Mon Feb 16 15:32:57 CET 2004 - mmj@suse.de

- Add losetup patch and hashalot program from Ben Slusky

-------------------------------------------------------------------
Sun Feb  1 14:11:51 CET 2004 - kukuk@suse.de

- Remove newgrp again (will use POSIX conform version)

-------------------------------------------------------------------
Fri Jan 16 13:26:55 CET 2004 - kukuk@suse.de

- Add pam-devel to neededforbuild

-------------------------------------------------------------------
Mon Jan 12 11:31:47 CET 2004 - mmj@suse.de

- Adjust the nfs.5 manual page to reflect we're mounting nfs over
  tcp pr. default.
- Collapse two similar patches 2 one.

-------------------------------------------------------------------
Fri Dec 19 16:43:39 CET 2003 - garloff@suse.de

- Fix by okir for previous patch.

-------------------------------------------------------------------
Fri Dec 19 11:19:43 CET 2003 - garloff@suse.de

- Add patch to fallback to UDP if TCP NFS mount fails.

-------------------------------------------------------------------
Tue Dec  2 09:03:32 CET 2003 - mmj@suse.de

- Make patch to guess if a CD is a CD-Extra [#30316]
- Adjust patch that moves ext2/3 in front of vfat
- Regenerate patches (filename still tells when they were added)

-------------------------------------------------------------------
Tue Nov 18 13:57:28 CET 2003 - mmj@suse.de

- Mount NFS over TCP pr. default [#33018]

-------------------------------------------------------------------
Thu Nov 13 14:43:39 CET 2003 - mmj@suse.de

- Update to util-linux-2.12 including:
  o losetup: -p option specifies fd for passphrase
  o fdisk: sgi layout fix
  o mount: -p option specifies fd for passphrase
  o mount: recognize some PCDOS floppies
  o umount: in "umount name", first try to interpret "name" as a mount point
  o translations updates for several languages
  o cfdisk: localize the Y/N answer, improve printing localized messages
  o cfdisk: make various variables long long - some disks are close to 2 TB
  o cfdisk: use BLKGETSIZE64
  o fdisk: make various variables unsigned to lengthen the life of 32-bit vars
  o fdisk: some sgi fixes
  o fdisk: k=1000, K=1024
  o fdisk: removed last occurrences of HDIO_REQ
  o fdisk: use BLKGETSIZE64
  o hwclock: fix rtc test
  o login: set a timeout on printing the timeout message
  o md5: x86_64 fix
  o more: POSIX fixes
  o mount: do not supply MS_MGC_VAL when there are conflicting flags
  o mount: ncp and smb are called smbfs and ncpfs - global change
  o mount: add support for xvm mount by label
  o mount: correct hfs magic recognition
  o mount: keep original umask - it influences the mount call
  o raw.8: documented unbinding of raw devices
  o readprofile: fixed off-by eight error
  o script: add -c option
  o sfdisk.8: added an example of partitioning with logical partitions
  o sfdisk: only add a AA55 signature for DOS-type partition tables
  o tailf: new

-------------------------------------------------------------------
Tue Oct 21 15:49:01 CEST 2003 - mmj@suse.de

- Correct permissions

-------------------------------------------------------------------
Tue Oct 21 14:53:54 CEST 2003 - ja@suse.cz

- added support for cryptoloop in 2.6.x kernels.

-------------------------------------------------------------------
Wed Oct 15 13:20:54 CEST 2003 - mmj@suse.de

- Don't build as root

-------------------------------------------------------------------
Mon Oct 13 21:44:43 CEST 2003 - kukuk@suse.de

- Enable newgrp

-------------------------------------------------------------------
Thu Oct  2 11:31:14 CEST 2003 - kukuk@suse.de

- Fix compiling with kernel 2.6.0-test6 header files

-------------------------------------------------------------------
Tue Aug 12 15:27:20 CEST 2003 - mmj@suse.de

- Update to pmac-utils-2.1 sources and only include nvsetenv

-------------------------------------------------------------------
Tue Aug 12 12:38:18 CEST 2003 - mmj@suse.de

- Add mount_guessfstype support for PCDOS [#27814]

-------------------------------------------------------------------
Wed Jun 18 16:16:15 CEST 2003 - ak@suse.de

- support noreserved option for NFS (#27428)

-------------------------------------------------------------------
Thu Jun  5 14:06:51 CEST 2003 - mmj@suse.de

- Rearrange the specfile wrt. archs

-------------------------------------------------------------------
Tue May 13 11:20:26 CEST 2003 - mmj@suse.de

- Use %defattr
- Remove files we don't package

-------------------------------------------------------------------
Wed May  7 15:38:56 CEST 2003 - mmj@suse.de

- Rearrange the do_guess_fstype() code to look for ext2/3 before
  vfat [#26581]

-------------------------------------------------------------------
Thu Apr 24 12:20:23 CEST 2003 - ro@suse.de

- fix install_info --delete call and move from preun to postun

-------------------------------------------------------------------
Mon Apr 14 15:12:27 CEST 2003 - pthomas@suse.de

- Get rid of the syscall for adjtimex in selective cases and
  just call the glibc wrapper. Fixes build on s390.

-------------------------------------------------------------------
Mon Apr 14 10:35:38 CEST 2003 - pthomas@suse.de

- Use geteuid instead of getuid in hwclock to enable making
  hwclock suid root.

-------------------------------------------------------------------
Mon Apr  7 15:40:54 CEST 2003 - mmj@suse.de

- Only delete info entries when removing last version.

-------------------------------------------------------------------
Thu Mar 13 11:29:54 CET 2003 - mmj@suse.de

- Apply patch to make sfdisk not destroy BSD slices [#25093]

-------------------------------------------------------------------
Mon Mar  3 16:19:04 CET 2003 - mmj@suse.de

- Remove superflous umask(033); calls [#23292]

-------------------------------------------------------------------
Mon Mar  3 12:27:01 CET 2003 - ro@suse.de

- add missing info dir entries

-------------------------------------------------------------------
Tue Feb 18 14:29:45 CET 2003 - agruen@suse.de

- Add description of the effect of `mount -t nfs -o noacl' on
  the use of the GETACL and SETACL remote procedure calls to
  the nfs(5) manual page.

-------------------------------------------------------------------
Mon Feb 17 15:44:28 CET 2003 - mmj@suse.de

- It's called smbfs not smb [#23697]

-------------------------------------------------------------------
Thu Feb 13 06:17:02 CET 2003 - mmj@suse.de

- Readd patch for passphrase timeout that got lost [#23527]

-------------------------------------------------------------------
Fri Feb  7 12:24:12 CET 2003 - mmj@suse.de

- The install_info macros need PreReq: %install_info_prereq

-------------------------------------------------------------------
Fri Feb  7 01:30:53 CET 2003 - ro@suse.de

- added install_info macros

-------------------------------------------------------------------
Tue Feb  4 22:34:10 CET 2003 - ro@suse.de

- don't package /bin/kill (part of coreutils now)

-------------------------------------------------------------------
Tue Feb  4 12:40:00 CET 2003 - meissner@suse.de

- Include tarball with pmac-utils manpages, so we do not need
  sgmltool and all its dependents.

-------------------------------------------------------------------
Wed Jan 29 11:52:19 CET 2003 - mmj@suse.de

- Update to util-linux-2.11z including:
  * Translation updates
  * mount: fix LABEL= handling for user umount, don't abort on read
    error with photocds and add dmask and fmask vfat mount options
  * setterm: accept devfs name
  * simpleinit: security: refuse initctl_fd if FD_CLOEXEC fails
  * umount: allow user umount after mount by label or uuid

-------------------------------------------------------------------
Wed Jan 22 15:10:24 CET 2003 - sf@suse.de

- removed last patch, added new (correct) patch

-------------------------------------------------------------------
Wed Jan 22 12:48:30 CET 2003 - sf@suse.de

- removed eliminate_doubles() from mkfs.cramfs.c
  for x86_64, as it segfaults.
  (makes the images slightly larger, about 10%)

-------------------------------------------------------------------
Tue Jan 21 14:51:29 CET 2003 - mmj@suse.de

- Added description of ISO mount options to mount.8 [#22915]

-------------------------------------------------------------------
Mon Dec  2 12:21:38 CET 2002 - mmj@suse.de

- Update the ReiserFS patch from Chris Mason

-------------------------------------------------------------------
Fri Nov 29 10:38:02 CET 2002 - mmj@suse.de

- Fix missing #include <errno.h>

-------------------------------------------------------------------
Thu Nov 28 15:03:05 CET 2002 - mmj@suse.de

- Make readprofile also try to locate the System.map in
  /boot/System.map-`uname -r` [#22168]

-------------------------------------------------------------------
Wed Nov 27 11:01:52 CET 2002 - mmj@suse.de

- Update to util-linux-2.11y including:
  o Translation updates
  o fdisk,cfdisk: cosmetic fixes
  o mount,umount: fix LABEL= handling for non-root [#17322]
  o more: kill external help file
  o simpleinit: security: refuse initctl_fd if setting FD_CLOEXEC
    fails (patch we had, now folded upstream)

-------------------------------------------------------------------
Wed Nov 20 12:19:33 CET 2002 - mmj@suse.de

- Update to util-linux-2.11x including:
  o Translation updates for several languages
  o cfdisk: correct error printout
  o fdisk: allow addition of a new partition when logicals all used
    but primary free
  o hwclock: detect systime jumps backward during setting hwclock
  o Merge of the cramfs bloksize patch
  o mount: new --rbind flag, for recursive loopback mounts
  o mount, umount: new -O option
  o setpwnam.c: open temp pw file with O_EXCL
  o simpleinit: fix for "spawn too fast"
  o swapon: new -e option

-------------------------------------------------------------------
Tue Nov 19 20:12:02 CET 2002 - mmj@suse.de

- Fix multistring assignment in adjtimex

-------------------------------------------------------------------
Mon Nov 11 11:26:14 CET 2002 - ro@suse.de

- changed neededforbuild <sp> to <opensp>
- changed neededforbuild <sp-devel> to <>

-------------------------------------------------------------------
Thu Oct 31 14:59:11 CET 2002 - mmj@suse.de

- Add -b option to mkfs.cramfs (needed for biarch architectures)

-------------------------------------------------------------------
Thu Oct 31 00:40:09 CET 2002 - ro@suse.de

- hack time to build on alpha

-------------------------------------------------------------------
Tue Oct 22 16:13:36 CEST 2002 - mmj@suse.de

- Add correction to the ReiserFS patch that fixes the case where it
  was possible but unlikely to detect a logged copy of a super on a
  dedicated logging device as the real thing. From Chris Mason.

-------------------------------------------------------------------
Tue Oct 22 14:13:30 CEST 2002 - mmj@suse.de

- Update to util-linux-2.11w including:
  o fdisk and cfdisk fixes
  o more bigendian fix
  o translation updates
  o > 2GB swapspace
  o mount umask, cramfs and ocfs stuff

-------------------------------------------------------------------
Tue Oct  8 17:13:18 CEST 2002 - mmj@suse.de

- Only enable below patch on ix86 and x86_64

-------------------------------------------------------------------
Mon Oct  7 16:35:24 CEST 2002 - mmj@suse.de

- Make small bugfix to below patch

-------------------------------------------------------------------
Sat Oct  5 01:27:51 CEST 2002 - mmj@suse.de

- Apply patch to enable > 2GB swap (redhat) [#20533]

-------------------------------------------------------------------
Wed Oct  2 15:27:47 CEST 2002 - mmj@suse.de

- Add one-liner security fix to mount and umount.

-------------------------------------------------------------------
Mon Sep 23 09:47:33 CEST 2002 - mmj@suse.de

- Readd fix for klogconsole that got lost [#19834]

-------------------------------------------------------------------
Fri Sep 13 12:55:24 CEST 2002 - mmj@suse.de

- Added patch from Oracle to mount ocfs by label [#19262]

-------------------------------------------------------------------
Thu Sep 12 18:06:21 CEST 2002 - mmj@suse.de

- more: Do not cast char * to int and back [#18896]

-------------------------------------------------------------------
Sat Aug 31 17:58:26 CEST 2002 - olh@suse.de

- add mount_cramfs_be.diff to allow mount -oloop cramfsfile loopdir

-------------------------------------------------------------------
Mon Aug 26 16:56:52 CEST 2002 - mmj@suse.de

- Make mode not 666 when writing /etc/mtab [#18342]

-------------------------------------------------------------------
Mon Aug 26 13:21:30 CEST 2002 - meissner@suse.de

- quieten klogconsole if the console does not support TIOCLINUX [#12516]

-------------------------------------------------------------------
Thu Aug 22 15:05:32 CEST 2002 - mmj@suse.de

- Added patch from Andreas Gruenbacher for nfs-access-acl [#18183]

-------------------------------------------------------------------
Wed Aug 21 10:33:05 CEST 2002 - mmj@suse.de

- Fixed an mtab locking bug with patch from Olaf Kirch [#17637]

-------------------------------------------------------------------
Mon Aug 19 16:46:54 CEST 2002 - mmj@suse.de

- Updated reiserfs patch from Chris Mason
- Added patch for mount.8, thanks Andreas Gruenbacher

-------------------------------------------------------------------
Thu Aug 15 19:56:31 CEST 2002 - mmj@suse.de

- Correct PreReq:

-------------------------------------------------------------------
Mon Aug  5 10:45:05 CEST 2002 - mmj@suse.de

- Update to 2.11u which includes:
 o Danish, German, Spanish, Swedish and Turkish updates.
 o configure: for fsck.cramfs, mkfs.cramfs: add test for libz
 o text-utils/Makefile: pg fix
 o agetty: use same test as login does to find utmp entry
 o fdisk: fix for fdisk on empty disk
 o mount updates

-------------------------------------------------------------------
Tue Jul 23 21:10:27 CEST 2002 - schwab@suse.de

- Fix mkfs.cramfs for architectures with non-4k pages.

-------------------------------------------------------------------
Wed Jul 17 00:34:49 CEST 2002 - mmj@suse.de

- Merged base into util-linux

-------------------------------------------------------------------
Mon Jul 15 10:23:51 CEST 2002 - mmj@suse.de

- Added JFSv2 patch from Christoph Hellwig for volume label. Does
  for JFS, what below patch does for ReiserFS.

-------------------------------------------------------------------
Sun Jul 14 19:04:16 CEST 2002 - adrian@suse.de

- fix ul-2.10m-sgi-fdisk.diff patch to apply again

-------------------------------------------------------------------
Thu Jul 11 10:36:16 CEST 2002 - mmj@suse.de

- Added patch from Chris Mason for volume label on reiserfs

-------------------------------------------------------------------
Wed Jul 10 15:31:53 CEST 2002 - olh@suse.de

- add mkfs.cramfs and fsck.cramfs to file list

-------------------------------------------------------------------
Wed Jul 10 15:12:48 CEST 2002 - mmj@suse.de

- Fixed nfs.5 to tell nfsver defaults to 3 [#16815]

-------------------------------------------------------------------
Mon Jul  8 21:16:07 CEST 2002 - mmj@suse.de

- Update to 2.11t which includes
  * fdformat: remove test on major
  * fdisk, hwclock and swap polishing
  * Lots of translations
  * cramfs tools includes from the kernel
  * swap{on,off} honours /proc/swaps
  * mount small fixups

-------------------------------------------------------------------
Fri Jul  5 11:10:06 CEST 2002 - kukuk@suse.de

- Use %ix86 macro

-------------------------------------------------------------------
Mon Jul  1 14:23:38 CEST 2002 - bk@suse.de

- get raw built on s390 and s390x
- remove %ifarchs s390 s390x for fdisk(needed for SCSI disks)

-------------------------------------------------------------------
Mon Jun 17 10:52:49 CEST 2002 - mmj@suse.de

- Added a fix for simpleinit exploit.

-------------------------------------------------------------------
Thu Jun 13 17:01:38 CEST 2002 - olh@suse.de

- disable hwclock ppc patch, maybe obsolete with recent kernels

-------------------------------------------------------------------
Thu May 16 12:57:53 CEST 2002 - mmj@suse.de

- Added manpage guessfstype(8)

-------------------------------------------------------------------
Thu May  9 19:07:21 CEST 2002 - mmj@suse.de

- Updated to util-linux-2.11r, including translations, x86-64 sup-
  port and small bugfixes.

-------------------------------------------------------------------
Sat Apr 13 14:19:46 CEST 2002 - mmj@suse.de

- Updated to util-linux-2.11q, includes bugfixes.
- util-linux-mkswap.patch for ia64 was folded into mainline

-------------------------------------------------------------------
Fri Apr 12 16:49:38 CEST 2002 - stepan@suse.de

- added x86-64 support.

-------------------------------------------------------------------
Thu Apr  4 20:06:09 CEST 2002 - ihno@suse.de

- corrected printf to report shared memories sizes bigger than
  2 GByte correct (Bug #15585). It was reportet on s390x, but
  should effect other 64-Bit systems as well.

-------------------------------------------------------------------
Tue Mar 19 13:41:04 MET 2002 - mmj@suse.de

- Updated to 2.11o. The hexdump patch have been dropped since it
  was folded to mainline util-linux.

-------------------------------------------------------------------
Fri Mar 15 12:08:15 CET 2002 - schwab@suse.de

- Fix mkswap for ia64.

-------------------------------------------------------------------
Mon Mar  4 16:21:41 MET 2002 - draht@suse.de

- permissions fixes for write(1) and wall(1)

-------------------------------------------------------------------
Fri Feb  1 14:46:45 CET 2002 - mmj@suse.de

- Moved /usr/bin/logger to /bin/logger (needed by sysconfig)

-------------------------------------------------------------------
Mon Jan 28 13:59:26 CET 2002 - mmj@suse.de

- Added the guessfstype binary from msvec/fehr

-------------------------------------------------------------------
Thu Jan 24 10:16:37 CET 2002 - ro@suse.de

- modified fillup_and_insserv call (perl-hack not needed here)

-------------------------------------------------------------------
Mon Jan 21 17:08:17 CET 2002 - mmj@suse.de

- Merge NetBSD hexdump changes, fixes bugzilla #12801

-------------------------------------------------------------------
Thu Jan 10 14:18:21 CET 2002 - ro@suse.de

- removed ACTIVATE_RAW_DEV

-------------------------------------------------------------------
Mon Dec 31 19:05:45 UTC 2001 - adrian@suse.de

- add patch for mips to create SGI partition tables with fdisk

-------------------------------------------------------------------
Tue Dec 18 16:50:34 CET 2001 - bjacke@suse.de

- add adjtimex

-------------------------------------------------------------------
Mon Dec 10 18:22:06 CET 2001 - mmj@suse.de

- Update to util-linux-2.11n

-------------------------------------------------------------------
Tue Nov 20 14:48:25 CET 2001 - mmj@suse.de

- Added a patch to 'wall' to remove unwanted newline (#12181)

-------------------------------------------------------------------
Wed Nov  7 14:15:51 CET 2001 - kukuk@suse.de

- Remove unneeded SPARC patch for hwclock

-------------------------------------------------------------------
Sat Oct 13 20:59:29 CEST 2001 - kukuk@suse.de

- Update to util-linux 2.11l

-------------------------------------------------------------------
Wed Sep 12 00:13:22 MEST 2001 - garloff@suse.de

- Fixed some dutch translations. (bug #10276)

-------------------------------------------------------------------
Mon Sep 10 19:31:57 CEST 2001 - olh@suse.de

- marry fdisk and AIX label again...
  add lsprop for ppc
  dumps the device tree in a human readable format

-------------------------------------------------------------------
Mon Sep  3 09:50:11 CEST 2001 - kukuk@suse.de

- Update to version 2.11i:
  - blockdev: corrected ioctl numbers
  - cal: fixed for multibyte locales
  - line: new
  - mount: added vxfs magic

-------------------------------------------------------------------
Sat Sep  1 19:08:46 CEST 2001 - kukuk@suse.de

- Let mount follow symlinks again

-------------------------------------------------------------------
Wed Aug 29 16:00:18 CEST 2001 - kukuk@suse.de

- Add new option to losetup manual page

-------------------------------------------------------------------
Tue Aug 28 18:24:14 MEST 2001 - draht@suse.de

- added timeout support for losetup (-t <timeout>)

-------------------------------------------------------------------
Mon Aug 27 15:24:25 CEST 2001 - kukuk@suse.de

- Add raw rc scripts, too

-------------------------------------------------------------------
Sun Aug 26 08:51:29 CEST 2001 - bjacke@suse.de

- added raw binary and put rawio into obsoletes and provides

-------------------------------------------------------------------
Sat Aug 25 20:22:58 CEST 2001 - kukuk@suse.de

- Fix path in getopt.1 manual page to example directory [Bug #9831]

-------------------------------------------------------------------
Fri Aug 24 16:00:13 CEST 2001 - kukuk@suse.de

- Small fix for hwclock on newer SPARCs

-------------------------------------------------------------------
Mon Aug 13 15:51:59 CEST 2001 - ro@suse.de

- changed neededforbuild <sp_libs> to <sp-devel>

-------------------------------------------------------------------
Mon Jul 30 10:59:46 CEST 2001 - kukuk@suse.de

- Update to util-linux-2.11h
- Add nologin program

-------------------------------------------------------------------
Tue Jul 10 16:44:35 CEST 2001 - kukuk@suse.de

- Remove swapdev from filelist

-------------------------------------------------------------------
Tue Jul 10 13:10:23 CEST 2001 - kukuk@suse.de

- Update to util-linux-2.11g

-------------------------------------------------------------------
Wed Jun  6 17:25:33 EDT 2001 - bk@suse.de

- added s390x to all ifnarch s390

-------------------------------------------------------------------
Fri Apr 20 12:09:40 CEST 2001 - kukuk@suse.de

- Fix wall bug (character 80, 160, 240, are missing) [Bug #6962]

-------------------------------------------------------------------
Mon Mar 26 10:24:40 CEST 2001 - kukuk@suse.de

- Add exception for broken i2o disk device numbering scheme, kernel
  hacker are not able to fix this and make it right [Bug #5881].

-------------------------------------------------------------------
Sat Mar 24 15:27:56 CET 2001 - kukuk@suse.de

- Update to util-linux 2.11b

-------------------------------------------------------------------
Thu Mar 15 15:47:34 CET 2001 - kukuk@suse.de

- Fix changing of partitions with ID 0 on SPARC
- Remove duplicate mount patch

-------------------------------------------------------------------
Wed Mar 14 21:29:23 CET 2001 - schwab@suse.de

- Don't use _syscallX on ia64.
- Fix missing includes.

-------------------------------------------------------------------
Wed Mar 14 11:05:22 CET 2001 - kukuk@suse.de

- Update to version 2.11a

-------------------------------------------------------------------
Fri Mar  2 17:05:01 CET 2001 - kukuk@suse.de

- enable write again

-------------------------------------------------------------------
Mon Feb 12 15:23:14 CET 2001 - kukuk@suse.de

- cmos.c: Use sys/io.h, fix PowerPC hack

-------------------------------------------------------------------
Tue Feb  6 11:54:34 CET 2001 - ro@suse.de

- wall.c: include time.h

-------------------------------------------------------------------
Mon Feb  5 11:13:56 CET 2001 - kukuk@suse.de

- Split hex to extra package
- Update to util-linux-2.10s

-------------------------------------------------------------------
Fri Feb  2 12:18:56 CET 2001 - werner@suse.de

- Make swapon/swapoff more handy:
  * Ignore swap files on ro mounted file systems
  * If -a is given ignore already active devices at swapon
  * If -a is given ignore not active devices at swapoff

-------------------------------------------------------------------
Thu Jan 25 00:37:22 CET 2001 - ro@suse.de

- added Provides: util

-------------------------------------------------------------------
Fri Jan 12 10:08:29 MET 2001 - garloff@suse.de

- Apply patch to lomount to allow all kerneli crypt algos to be
  passed and allow to pass passwd with -k.
- losetup seems to support >2GB files just fine (#5433)

-------------------------------------------------------------------
Tue Jan  2 12:04:33 CET 2001 - kukuk@suse.de

- Save permissions of /etc/mtab [Bug #5027]

-------------------------------------------------------------------
Tue Dec  5 15:25:45 CET 2000 - kukuk@suse.de

- Search first in /etc/filesystems, then in /proc/filesystems

-------------------------------------------------------------------
Tue Dec  5 11:24:34 CET 2000 - kukuk@suse.de

- Use AIX/fdisk patch from util-linux-2.10r
- Backport "guess filesystems" from util-linux-2.10r

-------------------------------------------------------------------
Tue Dec  5 11:10:10 CET 2000 - schwab@suse.de

- Don't use _syscallX on ia64.


-------------------------------------------------------------------
Mon Dec  4 09:27:28 CET 2000 - olh@suse.de

- fix diff again

-------------------------------------------------------------------
Sun Dec  3 00:09:16 CET 2000 - olh@suse.de

- no segfaults with AIX disklabels

-------------------------------------------------------------------
Wed Nov 29 18:21:25 CET 2000 - uli@suse.de

- fixed to build on PPC

-------------------------------------------------------------------
Mon Nov 27 19:03:20 CET 2000 - schwab@suse.de

- Fix broken casts in hwclock.

-------------------------------------------------------------------
Thu Nov 23 15:48:35 CET 2000 - bk@suse.de

- temporary disable pivot_root on s390(2.4 kernel is not yet built)

-------------------------------------------------------------------
Wed Nov 22 13:28:06 CET 2000 - schwab@suse.de

- Add pivot_root to file list.

-------------------------------------------------------------------
Mon Nov 20 11:37:35 CET 2000 - kukuk@suse.de

- Fix pmac-utils to compile with new kernel

-------------------------------------------------------------------
Fri Nov 17 19:40:20 CET 2000 - kukuk@suse.de

- Fix hwclock to compile on PPC

-------------------------------------------------------------------
Wed Nov 15 12:39:13 CET 2000 - kukuk@suse.de

- Update util-linux to 2.10q, merge flushb.diff

-------------------------------------------------------------------
Thu Nov  2 10:21:12 CET 2000 - kukuk@suse.de

- Remove some of the last specfile changes

-------------------------------------------------------------------
Wed Nov  1 14:17:07 CET 2000 - olh@suse.de

- update pmac-utils for new powermacs, cleanup specfile

-------------------------------------------------------------------
Fri Oct 20 14:58:09 CEST 2000 - kukuk@suse.de

- Update util-linux to 2.10p
- Rename package from util to util-linux

-------------------------------------------------------------------
Wed Sep 27 11:30:21 CEST 2000 - kukuk@suse.de

- Allow NFS v3 with 2.2.17.SuSE

-------------------------------------------------------------------
Tue Sep 26 17:54:23 CEST 2000 - kukuk@suse.de

- Fix mount for new NFS kernel patch

-------------------------------------------------------------------
Sat Sep  9 17:36:24 CEST 2000 - kukuk@suse.de

- Remove tcsh dependency
- Update to util-linux 2.10o, use of /etc/filesystems is still broken

-------------------------------------------------------------------
Fri Aug 25 17:05:50 MEST 2000 - pthomas@suse.de

- use %{_mandir} and %{_infodir} exclusively. This allows building
  from source rpm on platforms other than 7.0.

-------------------------------------------------------------------
Wed Jul 19 00:50:48 CEST 2000 - bk@suse.de

- s390: removed dasdfmt and silo, %ifnarch s390 for some non-s390 things.

-------------------------------------------------------------------
Tue May 30 18:45:56 CEST 2000 - bk@suse.de

- added dasdfmt and silo on s390

-------------------------------------------------------------------
Mon May 15 18:15:05 CEST 2000 - kukuk@suse.de

- util-linux: Update to 2.10m

-------------------------------------------------------------------
Wed Apr 26 11:22:54 CEST 2000 - kukuk@suse.de

- flusb: Don't use kernel headers, even if we don't need them!

-------------------------------------------------------------------
Wed Apr 19 13:56:28 CEST 2000 - kukuk@suse.de

- util-linux: Update to 2.10l

-------------------------------------------------------------------
Mon Apr 17 15:06:51 CEST 2000 - kukuk@suse.de

- util-linux: Update to 2.10k

-------------------------------------------------------------------
Thu Apr 13 15:57:45 CEST 2000 - kukuk@suse.de

- Move /sbin/setserial to /bin/setserial, add compat link to
  /sbin. This fixes [Bug 1084] and is necessary for FHS 2.1

-------------------------------------------------------------------
Wed Apr 12 15:43:05 CEST 2000 - kukuk@suse.de

- Fix util-linux for Alpha

-------------------------------------------------------------------
Wed Apr 12 14:36:41 CEST 2000 - kukuk@suse.de

- util-linux: Update to 2.10j

-------------------------------------------------------------------
Sun Apr  2 01:08:05 CEST 2000 - bk@suse.de

- suse s390 team added support for s390

-------------------------------------------------------------------
Thu Mar 30 21:31:15 CEST 2000 - uli@suse.de

- hwclock/PPC: added support for MK48T559 RTC chip used in MTX+ boards

-------------------------------------------------------------------
Fri Mar 24 11:49:25 CET 2000 - kukuk@suse.de

- Add Linux LVM partition tag to fdisk
- Fix a lot of more possible buffer overruns
- Fix some fdisk sunlabel bugs
- added BuildRoot fixes from nadvorni@suse.cz

-------------------------------------------------------------------
Wed Mar 22 14:28:27 CET 2000 - kukuk@suse.de

- Update util-linux to 2.10h
- Add clock again for non PPC platforms

-------------------------------------------------------------------
Fri Mar 17 15:10:50 CET 2000 - uli@suse.de

- now contains both hwclock and clock on PPC (/sbin/init.d/boot
  chooses what to run at runtime)

-------------------------------------------------------------------
Tue Mar 14 19:23:26 CET 2000 - schwab@suse.de

- Add support for ia64.

-------------------------------------------------------------------
Thu Mar  9 21:25:15 CET 2000 - kukuk@suse.de

- fdisk: Fix -l for Mylex RAID controller

-------------------------------------------------------------------
Tue Mar  7 17:23:57 CET 2000 - kukuk@suse.de

- etc/filesystems: Add minix and reiserfs

-------------------------------------------------------------------
Tue Mar  7 11:49:23 CET 2000 - kukuk@suse.de

- mount: fix endian problem with minix fs

-------------------------------------------------------------------
Tue Feb 15 12:11:50 CET 2000 - kukuk@suse.de

- mount: Add hack for PPC/syscall mount problem

-------------------------------------------------------------------
Sun Feb 13 05:16:13 CET 2000 - bk@suse.de

- let rdev continue in case it stubles over a bad file in /dev (/dev/snd fix)

-------------------------------------------------------------------
Fri Feb  4 17:14:07 CET 2000 - kukuk@suse.de

- Make PPC clock parameter compatible to hwclock

-------------------------------------------------------------------
Thu Feb  3 14:42:23 CET 2000 - kukuk@suse.de

- Fix filelist for SPARC

-------------------------------------------------------------------
Thu Feb  3 11:14:29 CET 2000 - kukuk@suse.de

- util-linux: Update to 2.10f (mount security fix)

-------------------------------------------------------------------
Sun Jan 23 15:45:08 CET 2000 - kukuk@suse.de

- util-linux: Update to 2.10e

-------------------------------------------------------------------
Tue Jan 18 19:18:08 CET 2000 - kukuk@suse.de

- mount now looks at first in /etc/filesystems and then in
  /proc/filesystems

-------------------------------------------------------------------
Tue Jan 18 16:32:05 CET 2000 - ro@suse.de

- fixed pmac-utils to build with 2.3 as well

-------------------------------------------------------------------
Tue Jan 18 14:56:22 CET 2000 - kukuk@suse.de

- Fix a lot of fdisk buffer overruns [Bug 1642]

-------------------------------------------------------------------
Mon Jan 17 18:23:56 CET 2000 - kukuk@suse.de

- Fix setserial for Linux 2.3.40
- Remove write, is now in nkitb
- Build minix and bfs tools for SPARC
- Fix some buffer overflows in fdisk

-------------------------------------------------------------------
Fri Dec 17 15:00:19 MET 1999 - kukuk@suse.de

- util-linux: Update to 2.10d
- hex: Update to 1.2
- Move manual pages to /usr/share/man

-------------------------------------------------------------------
Tue Nov 30 18:28:14 CET 1999 - uli@suse.de

- re-added hwclock link for PPC (2nd try)

-------------------------------------------------------------------
Tue Nov 30 17:49:27 MET 1999 - uli@suse.de

- re-added hwclock link for PPC

-------------------------------------------------------------------
Mon Nov 15 12:39:41 MET 1999 - kukuk@suse.de

- util-linux: Update to 2.10b

-------------------------------------------------------------------
Sat Nov 13 15:36:37 MET 1999 - kukuk@suse.de

- setserial: Add Patch for Sparc
- Fix filelist for Sparc

-------------------------------------------------------------------
Wed Oct 27 04:03:42 CEST 1999 - garloff@suse.de

- added flushb (moved here from ddrescue).
- fix bug in logger (remove trailing newlines).

-------------------------------------------------------------------
Fri Oct 22 11:29:51 MEST 1999 - kukuk@suse.de

- util-linux: Remove old patches for mk_loop_h

-------------------------------------------------------------------
Sat Oct 16 16:40:13 MEST 1999 - kukuk@suse.de

- util-linux: Update to 2.9z

-------------------------------------------------------------------
Fri Oct  8 10:58:48 MEST 1999 - kukuk@suse.de

- Update to util-linux-2.9y (execpt fdisk)

-------------------------------------------------------------------
Tue Sep 14 18:14:53 CEST 1999 - uli@suse.de

- added PMac-specific utils for PPC

-------------------------------------------------------------------
Mon Sep 13 17:23:57 CEST 1999 - bs@suse.de

- ran old prepare_spec on spec file to switch to new prepare_spec.

-------------------------------------------------------------------
Thu Aug 26 15:05:03 CEST 1999 - uli@suse.de

- disabled hayesesp for PPC

-------------------------------------------------------------------
Wed Aug 25 18:04:35 MEST 1999 - kukuk@suse.de

- Don't install tsort, its now in textutils 2.0

-------------------------------------------------------------------
Tue Aug 24 10:11:06 MEST 1999 - kukuk@suse.de

- Update to util-linux-2.9w (execpt fdisk)

-------------------------------------------------------------------
Mon Aug  9 10:55:48 MEST 1999 - kukuk@suse.de

- Update to util-linux-2.9v (execpt fdisk)

-------------------------------------------------------------------
Tue Jul 20 18:01:29 CEST 1999 - garloff@suse.de

- Added hex from Erich S. Raymond

-------------------------------------------------------------------
Mon Jul 12 12:11:45 MEST 1999 - kukuk@suse.de

- Add fdisk patch from Klaus G. Wagner
- Add mount patch from util-linux 2.9u

-------------------------------------------------------------------
Tue Jul  6 12:23:47 MEST 1999 - kukuk@suse.de

- update to util-linux-2.9t

-------------------------------------------------------------------
Fri Jun 25 14:44:30 MEST 1999 - kukuk@suse.de

- update to util-linux-2.9s

-------------------------------------------------------------------
Wed Mar  3 11:25:50 MET 1999 - ro@suse.de

- hwclock.c: always use busywait to get rtctime
  (it's hard to find out at runtime if we will get an irq)

-------------------------------------------------------------------
Tue Mar  2 00:42:15 MET 1999 - ro@suse.de

- update to util-linux-2.9i
- update to setserial-2.15
- using diffs from jurix and add-ons from kgw for compaq smart raid

-------------------------------------------------------------------
Mon Feb  1 10:22:10 MET 1999 - ro@suse.de

- rdev is not built on alpha

-------------------------------------------------------------------
Mon Jan 18 21:29:36 MET 1999 - florian@suse.de

- fixed one broken case to delete a partition in fdisk

-------------------------------------------------------------------
Sun Dec 13 22:20:16 MET 1998 - bs@suse.de

- fixed file list

-------------------------------------------------------------------
Thu Dec 10 16:38:08 MET 1998 - fehr@suse.de

- fix bug in fdisk

-------------------------------------------------------------------
Tue Dec  8 15:43:23 MET 1998 - ro@suse.de

- removed last from filelist
- added link /sbin/clock -> hwclock

-------------------------------------------------------------------
Wed Nov  4 00:23:02 MET 1998 - ro@suse.de

- fdisksunlabel: don't include scsi/scsi.h for glibc-2.0

-------------------------------------------------------------------
Fri Oct 30 11:46:38 MET 1998 - ro@suse.de

- update to 2.9 / added hostid from previous diff
- copied some glibc changes from previous diff (strcpy..)

-------------------------------------------------------------------
Thu Sep 17 13:04:14 MEST 1998 - ro@suse.de

- define _GNU_SOURCE when using getopt

-------------------------------------------------------------------
Mon Aug 31 16:12:36 MEST 1998 - ro@suse.de

- full switch to util-linux 2.8
--  sync has moved to pkg fileutils
--  chroot has moved to pkg sh_utils (has been there for a while)
--  adopted hostid from previous suse-pkg

-------------------------------------------------------------------
Mon Aug 24 10:46:33 MEST 1998 - ro@suse.de

- switched to use mount from util-linux-2.8

-------------------------------------------------------------------
Tue Jun 23 10:46:45 MEST 1998 - ro@suse.de

- added fdisk, sfdisk, cfdisk from util-linux-2.8
  (including man-pages,readmes)

-------------------------------------------------------------------
Mon Nov 17 14:14:47 MET 1997 - ro@suse.de

- changed /local/bin/perl5 in chkdupexe to /usr/bin/perl

-------------------------------------------------------------------
Fri Oct 31 13:38:58 MET 1997 - ro@suse.de

- temporarily removed mount-hacker

-------------------------------------------------------------------
Wed Oct 29 23:44:37 MET 1997 - florian@suse.de

- add changes from ms@suse.de for hostid.c


-------------------------------------------------------------------
Tue May 20 14:10:37 MEST 1997 - florian@suse.de


- only support kernel 2.0.x for nfs mounts, please use /bin/mount-hacker
  for kernel 2.1.x


-------------------------------------------------------------------
Wed Apr 30 15:57:14 CEST 1997 - florian@suse.de


- update to mount 2.6g


-------------------------------------------------------------------
Sun Apr 13 23:04:29 MEST 1997 - florian@suse.de


- update to new version util-linux 2.6

- update to new version mount 2.6e



-------------------------------------------------------------------
Sat Nov  2 17:35:11 CET 1996 - florian@suse.de


- update to mount 2.5p


-------------------------------------------------------------------
Thu Oct 17 16:05:09 CEST 1996 - florian@suse.de


- Update auf neue Version von mount 2.5o.


-------------------------------------------------------------------
Tue Sep  3 17:01:45 MET DST 1996 - florian@suse.de


- updated to new version mount 2.5m
- (u)mount now gives much better error messages


-------------------------------------------------------------------
Sun Aug 25 19:28:50 MET DST 1996 - bs@suse.de

compile setterm with libtermcap and not libncurses
use newer mount instead of the old version in util-linux
(security fix)
