From faa6d8a6b3dd92ab61cd3c5515dfd120ccb7e74b Mon Sep 17 00:00:00 2001
From: Jelle van der Waa <jvanderwaa@redhat.com>
Date: Fri, 11 Oct 2024 16:40:13 +0200
Subject: [PATCH] dbus: show charge-threshold-* status as yes/no

Previously shown as a boolean integer and not properly aligned.
---
 libupower-glib/up-device.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/libupower-glib/up-device.c b/libupower-glib/up-device.c
index e0a3d971..86a5525b 100644
--- a/libupower-glib/up-device.c
+++ b/libupower-glib/up-device.c
@@ -395,9 +395,9 @@ up_device_to_text (UpDevice *device)
 		if (up_exported_device_get_charge_end_threshold (priv->proxy_device) > 0)
 			g_string_append_printf (string, "    charge-end-threshold:          %d%%\n", up_exported_device_get_charge_end_threshold (priv->proxy_device));
 		if (up_exported_device_get_charge_threshold_enabled (priv->proxy_device))
-			g_string_append_printf (string, "    charge-threshold-enabled:          %d\n", up_exported_device_get_charge_threshold_enabled (priv->proxy_device));
+			g_string_append_printf (string, "    charge-threshold-enabled:      %s\n", up_device_bool_to_string (up_exported_device_get_charge_threshold_enabled (priv->proxy_device)));
 		if (up_exported_device_get_charge_threshold_supported (priv->proxy_device))
-			g_string_append_printf (string, "    charge-threshold-supported:          %d\n", up_exported_device_get_charge_threshold_supported (priv->proxy_device));
+			g_string_append_printf (string, "    charge-threshold-supported:    %s\n", up_device_bool_to_string (up_exported_device_get_charge_threshold_supported (priv->proxy_device)));
 	}
 	if (kind == UP_DEVICE_KIND_LINE_POWER)
 		g_string_append_printf (string, "    online:              %s\n", up_device_bool_to_string (up_exported_device_get_online (priv->proxy_device)));
-- 
GitLab

