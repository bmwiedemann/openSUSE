Index: uim-1.8.6/sigscheme/libgcroots/include/private/gcconfig.h
===================================================================
--- uim-1.8.6.orig/sigscheme/libgcroots/include/private/gcconfig.h
+++ uim-1.8.6/sigscheme/libgcroots/include/private/gcconfig.h
@@ -479,6 +479,10 @@
 #   define NONSTOP
 #   define mach_type_known
 # endif
+# if defined(__riscv) && defined(LINUX)
+#   define RISCV
+#   define mach_type_known
+# endif
 
 /* Feel free to add more clauses here */
 
@@ -2022,6 +2026,19 @@
 #   endif
 # endif
 
+# ifdef RISCV
+#   define MACH_TYPE "RISC-V"
+#   define CPP_WORDSZ __riscv_xlen /* 32 or 64 */
+#   define ALIGNMENT (CPP_WORDSZ/8)
+#   ifdef LINUX
+#     define OS_TYPE "LINUX"
+      extern int __data_start[];
+#     define DATASTART ((ptr_t)__data_start)
+#     define LINUX_STACKBOTTOM
+#     define DYNAMIC_LOADING
+#   endif
+# endif /* RISCV */
+
 #if defined(LINUX) && defined(USE_MMAP)
     /* The kernel may do a somewhat better job merging mappings etc.	*/
     /* with anonymous mappings.						*/
