From 4a73f7125c11b38bd86d23297263f603cfa7ee35 Mon Sep 17 00:00:00 2001
From: Element Green <element@elementsofsound.org>
Date: Fri, 15 Jul 2016 17:00:10 -0600
Subject: [PATCH 01/13] Fix improper GValue type assignments in
 ipatch_dls2_sample_info_notify_changes().

---
 libinstpatch/libinstpatch/IpatchDLS2Sample.c | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

diff --git a/libinstpatch/libinstpatch/IpatchDLS2Sample.c b/libinstpatch/libinstpatch/IpatchDLS2Sample.c
index c01662d..ef0217a 100644
--- a/libinstpatch/libinstpatch/IpatchDLS2Sample.c
+++ b/libinstpatch/libinstpatch/IpatchDLS2Sample.c
@@ -802,8 +802,8 @@ ipatch_dls2_sample_info_notify_changes (IpatchItem *item,
     {
       g_value_init (&newval, G_TYPE_INT);
       g_value_init (&oldval, G_TYPE_INT);
-      g_value_set_flags (&newval, newinfo->root_note);
-      g_value_set_flags (&oldval, oldinfo->root_note);
+      g_value_set_int (&newval, newinfo->root_note);
+      g_value_set_int (&oldval, oldinfo->root_note);
       ipatch_item_prop_notify (item, found_pspec_cache[2], &newval, &oldval);
       g_value_unset (&newval);
       g_value_unset (&oldval);
@@ -813,8 +813,8 @@ ipatch_dls2_sample_info_notify_changes (IpatchItem *item,
     {
       g_value_init (&newval, G_TYPE_INT);
       g_value_init (&oldval, G_TYPE_INT);
-      g_value_set_flags (&newval, newinfo->fine_tune);
-      g_value_set_flags (&oldval, oldinfo->fine_tune);
+      g_value_set_int (&newval, newinfo->fine_tune);
+      g_value_set_int (&oldval, oldinfo->fine_tune);
       ipatch_item_prop_notify (item, found_pspec_cache[3], &newval, &oldval);
       g_value_unset (&newval);
       g_value_unset (&oldval);
@@ -824,8 +824,8 @@ ipatch_dls2_sample_info_notify_changes (IpatchItem *item,
     {
       g_value_init (&newval, G_TYPE_INT);
       g_value_init (&oldval, G_TYPE_INT);
-      g_value_set_flags (&newval, newinfo->gain);
-      g_value_set_flags (&oldval, oldinfo->gain);
+      g_value_set_int (&newval, newinfo->gain);
+      g_value_set_int (&oldval, oldinfo->gain);
       ipatch_item_prop_notify (item, found_pspec_cache[4], &newval, &oldval);
       g_value_unset (&newval);
       g_value_unset (&oldval);
@@ -835,8 +835,8 @@ ipatch_dls2_sample_info_notify_changes (IpatchItem *item,
     {
       g_value_init (&newval, G_TYPE_UINT);
       g_value_init (&oldval, G_TYPE_UINT);
-      g_value_set_flags (&newval, newinfo->loop_start);
-      g_value_set_flags (&oldval, oldinfo->loop_start);
+      g_value_set_uint (&newval, newinfo->loop_start);
+      g_value_set_uint (&oldval, oldinfo->loop_start);
       ipatch_item_prop_notify (item, found_pspec_cache[5], &newval, &oldval);
       g_value_unset (&newval);
       g_value_unset (&oldval);
@@ -846,8 +846,8 @@ ipatch_dls2_sample_info_notify_changes (IpatchItem *item,
     {
       g_value_init (&newval, G_TYPE_UINT);
       g_value_init (&oldval, G_TYPE_UINT);
-      g_value_set_flags (&newval, newinfo->loop_end);
-      g_value_set_flags (&oldval, oldinfo->loop_end);
+      g_value_set_uint (&newval, newinfo->loop_end);
+      g_value_set_uint (&oldval, oldinfo->loop_end);
       ipatch_item_prop_notify (item, found_pspec_cache[6], &newval, &oldval);
       g_value_unset (&newval);
       g_value_unset (&oldval);
-- 
2.16.4

