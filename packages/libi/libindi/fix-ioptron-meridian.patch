From b717412dc649dfb2505d08931bd9efbfc04b8ff9 Mon Sep 17 00:00:00 2001
From: Jasem Mutlaq <mutlaqja@ikarustech.com>
Date: Wed, 3 Aug 2022 11:52:30 +0300
Subject: [PATCH] Save meridian flip settings by default on change

---
 drivers/telescope/ioptronv3.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/telescope/ioptronv3.cpp b/drivers/telescope/ioptronv3.cpp
index 25237120d7..51067931cd 100644
--- a/drivers/telescope/ioptronv3.cpp
+++ b/drivers/telescope/ioptronv3.cpp
@@ -463,6 +463,7 @@ bool IOptronV3::ISNewNumber(const char *dev, const char *name, double values[],
                           MeridianLimitN[0].value, MeridianActionS[IOP_MB_STOP].s == ISS_ON ? "stop" : "flip");
             }
             IDSetNumber(&MeridianLimitNP, nullptr);
+            saveConfig(true, MeridianLimitNP.name);
             return true;
         }
 
@@ -586,6 +587,7 @@ bool IOptronV3::ISNewSwitch(const char *dev, const char *name, ISState *states,
                           MeridianLimitN[0].value, MeridianActionS[IOP_MB_STOP].s == ISS_ON ? "stop" : "flip");
             }
             IDSetSwitch(&MeridianActionSP, nullptr);
+            saveConfig(true, MeridianActionSP.name);
             return true;
         }
 

