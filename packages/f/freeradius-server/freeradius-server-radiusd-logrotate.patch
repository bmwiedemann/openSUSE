Index: freeradius-server-3.0.21/suse/radiusd-logrotate
===================================================================
--- freeradius-server-3.0.21.orig/suse/radiusd-logrotate
+++ freeradius-server-3.0.21/suse/radiusd-logrotate
@@ -2,39 +2,33 @@
 # it to /etc/logrotate.d/radiusd
 
 #
-#    Global options for all files
-#
-dateext
-maxage 365
-rotate 99
-missingok
-compress
-delaycompress
-notifempty
-su radiusd radiusd
-
-#
 #  The main server log
 #
 /var/log/radius/radius.log {
+	dateext
+	maxage 365
+	rotate 99
+	missingok
+	compress
+	delaycompress
+	notifempty
+
+	su radiusd radiusd
 	copytruncate
+	postrotate
+			kill -HUP `cat /run/radiusd/radiusd.pid` || :
+	endscript
 }
 
 #
 #  Session monitoring utilities
 #
-/var/log/radius/checkrad.log /var/log/radius/radwatch.log {
-	nocreate
-	size=+1024k
-}
+/var/log/radius/checkrad.log /var/log/radius/radwatch.log
 
 #
 #  SQL log files
 #
-/var/log/radius/sqllog.sql {
-	nocreate
-	size=+2048k
-}
+/var/log/radius/sqllog.sql
 
 # There are different detail-rotating strategies you can use.  One is
 # to write to a single detail file per IP and use the rotate config
@@ -44,6 +38,15 @@ su radiusd radiusd
 # second technique, you will need another cron job that removes old
 # detail files.  You do not need to comment out the below for method #2.
 /var/log/radius/radacct/*/detail {
+	dateext
+	maxage 365
+	rotate 99
+	missingok
+	compress
+	delaycompress
+	notifempty
+	size 1M
+	su radiusd radiusd
 	nocreate
 }
 
