From bf81e7d2a60b2c8646663889e4a4431b988ae972 Mon Sep 17 00:00:00 2001
From: Frode Solheim <frode@solheim.dev>
Date: Fri, 8 Oct 2021 11:39:16 +0200
Subject: [PATCH] Work around an incompatibility with C++17

---
 src/dosbox/setup.h | 11 +++++++++++
 1 file changed, 11 insertions(+)

diff --git a/src/dosbox/setup.h b/src/dosbox/setup.h
index db75ada8..e0a3a75d 100644
--- a/src/dosbox/setup.h
+++ b/src/dosbox/setup.h
@@ -54,6 +54,12 @@ public:
    
 };
 
+#ifdef FSUAE
+// Work around an incompatibility with C++17. It does not seem like these
+// functions are used anyway.
+#define throw(...) throw()
+#endif
+
 class Value {
 /* 
  * Multitype storage container that is aware of the currently stored type in it.
@@ -113,6 +119,11 @@ private:
 	void set_double(std::string const& in);
 };
 
+#ifdef FSUAE
+#undef throw
+#endif
+
+
 class Property {
 public:
 	struct Changeable { enum Value {Always, WhenIdle,OnlyAtStart};};
-- 
2.33.0

