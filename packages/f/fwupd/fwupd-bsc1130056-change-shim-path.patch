Index: fwupd-1.8.12/plugins/uefi-capsule/fu-uefi-bootmgr.c
===================================================================
--- fwupd-1.8.12.orig/plugins/uefi-capsule/fu-uefi-bootmgr.c
+++ fwupd-1.8.12/plugins/uefi-capsule/fu-uefi-bootmgr.c
@@ -292,7 +292,8 @@ fu_uefi_bootmgr_bootnext(FuDevice *devic
 	/* test if we should use shim */
 	secure_boot = fu_efivar_secure_boot_enabled(NULL);
 	if (secure_boot) {
-		shim_app = fu_uefi_get_esp_app_path(device, esp_path, "shim", error);
+		shim_app = g_strdup_printf ("%s/shim.efi",
+					    fu_uefi_get_esp_path_for_os (device, esp_path));
 		if (shim_app == NULL)
 			return FALSE;
 
