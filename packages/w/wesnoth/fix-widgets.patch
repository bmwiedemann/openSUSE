diff -Nur wesnoth-1.15.13/src/CMakeLists.txt new/src/CMakeLists.txt
--- wesnoth-1.15.13/src/CMakeLists.txt	2021-05-31 16:35:46.442567515 +0200
+++ new/src/CMakeLists.txt	2021-05-31 16:37:10.699512912 +0200
@@ -153,7 +153,7 @@
 	add_library(wesnoth-client STATIC ${wesnoth_sources} ${lua_sources} ${wesnoth_game_sources} ${wesnoth_sdl_sources})
 
 	# widgets need special handling since otherwise the way they're registered causes the linker to remove them since it incorrectly thinks they're unused
-	add_library(wesnoth-widgets ${wesnoth_widget-sources})
+	add_library(wesnoth-widgets STATIC ${wesnoth_widget-sources})
 	if(APPLE)
 		set(WIDGETS_LIB -Wl,-force_load wesnoth-widgets)
 	elseif(NOT WIN32)
