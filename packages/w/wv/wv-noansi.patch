--- wv-1.2.2.orig/configure.ac
+++ wv-1.2.2/configure.ac
@@ -53,9 +53,12 @@ AH_TOP([
 
 dnl Checks for programs.
 
-AC_PROG_CC
+AC_PROG_CC_STDC
+AC_USE_SYSTEM_EXTENSIONS
+AC_SYS_LARGEFILE
+
 if test "x$GCC" = "xyes"; then
-	ANSI_CFLAGS="-ansi"
+	ANSI_CFLAGS=""
 else
 	ANSI_CFLAGS=""
 fi
--- wv-1.2.2.orig/wvWare.c
+++ wv-1.2.2/wvWare.c
@@ -30,8 +30,6 @@
 #include "wv.h"
 #include "getopt.h"
 
-/* strdup isn't declared in <string.h> for `gcc -ansi'; declare it here */
-extern char *strdup (const char *);
 
 extern char *str_copy(char *d, size_t n, char *s);
 extern char *str_append(char *d, size_t n, char *s);
