From baf385f48d4703282e84e405b9097316cf4f4b94 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Tim=20R=C3=BChsen?= <tim.ruehsen@gmx.de>
Date: Sun, 22 Sep 2019 19:39:44 +0200
Subject: [PATCH] * unit-tests/test-dl.c: Add missing len param to plugin
 function call

---
 unit-tests/test-dl.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/unit-tests/test-dl.c b/unit-tests/test-dl.c
index c1ea51fe..41086019 100644
--- a/unit-tests/test-dl.c
+++ b/unit-tests/test-dl.c
@@ -178,13 +178,13 @@ do { \
 	} \
 } while(0)
 
-typedef void (*test_fn)(char buf[16]);
+typedef void (*test_fn)(char buf[16], size_t len);
 static void test_fn_check(void *fn, const char *expected)
 {
 	char buf[16];
 	test_fn fn_p;
 	*((void **) &fn_p) = fn;
-	(*fn_p)(buf);
+	(*fn_p)(buf, sizeof(buf));
 	if (strncmp(buf, expected, 15) != 0)
 		abortmsg("Test function returned %s, expected %s", buf, expected);
 }
-- 
2.26.0

