From 9f440d0b503561cb6ce9f344dfadf3dcd0bf2584 Mon Sep 17 00:00:00 2001
From: George Kiagiadakis <george.kiagiadakis@collabora.com>
Date: Fri, 11 Apr 2025 15:53:44 +0300
Subject: [PATCH] monitors/libcamera: fix deduplicating devices with the same
 name

---
 src/scripts/monitors/libcamera/name-device.lua | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/scripts/monitors/libcamera/name-device.lua b/src/scripts/monitors/libcamera/name-device.lua
index 91b869975..912e37c24 100644
--- a/src/scripts/monitors/libcamera/name-device.lua
+++ b/src/scripts/monitors/libcamera/name-device.lua
@@ -31,7 +31,7 @@ SimpleEventHook {
 
     -- deduplicate devices with the same name
     for counter = 2, 99, 1 do
-      if mutils.find_duplicate (parent, id, "device.name", properties["node.name"]) then
+      if mutils.find_duplicate (parent, id, "device.name", properties["device.name"]) then
         properties["device.name"] = name .. "." .. counter
       else
         break
-- 
GitLab

