From: Antonio Larrosa <alarrosa@suse.com>
Subject: Reduce the minimum required meson version

With this, we can build wireplumber in SLE 15 SP3/Leap 15.3
which only have meson 0.54

Index: wireplumber-0.4.13/meson.build
===================================================================
--- wireplumber-0.4.13.orig/meson.build
+++ wireplumber-0.4.13/meson.build
@@ -1,7 +1,7 @@
 project('wireplumber', ['c'],
   version : '0.4.13',
   license : 'MIT',
-  meson_version : '>= 0.59.0',
+  meson_version : '>= 0.54.0',
   default_options : [
     'warning_level=1',
     'buildtype=debugoptimized',
@@ -52,7 +52,17 @@ spa_dep = dependency('libspa-0.2', versi
 pipewire_dep = dependency('libpipewire-0.3', version: '>= 0.3.52')
 mathlib = cc.find_library('m')
 threads_dep = dependency('threads')
-libintl_dep = dependency('intl')
+
+
+if meson.version().version_compare('>= 0.59')
+  libintl_dep = dependency('intl')
+else
+  libintl_dep = dependency('', required: false)
+
+  if not cc.has_function('ngettext')
+    libintl_dep = cc.find_library('intl')
+  endif
+endif
 
 if build_modules
   system_lua = get_option('system-lua')
@@ -145,8 +155,13 @@ if get_option('tests')
   subdir('tests')
 endif
 
-builddir = meson.project_build_root()
-srcdir = meson.project_source_root()
+if meson.version().version_compare('>= 0.56')
+  builddir = meson.project_build_root()
+  srcdir = meson.project_source_root()
+else
+  builddir = meson.build_root()
+  srcdir = meson.source_root()
+endif
 
 conf_uninstalled = configuration_data()
 conf_uninstalled.set('MESON', '')
@@ -166,10 +181,12 @@ wireplumber_uninstalled = custom_target(
   command : ['cp', '@INPUT@', '@OUTPUT@'],
 )
 
-devenv = environment({
-  'WIREPLUMBER_MODULE_DIR': builddir / 'modules',
-  'WIREPLUMBER_CONFIG_DIR': srcdir / 'src' / 'config',
-  'WIREPLUMBER_DATA_DIR': srcdir / 'src',
-})
+if meson.version().version_compare('>= 0.58')
+  devenv = environment({
+    'WIREPLUMBER_MODULE_DIR': builddir / 'modules',
+    'WIREPLUMBER_CONFIG_DIR': srcdir / 'src' / 'config',
+    'WIREPLUMBER_DATA_DIR': srcdir / 'src',
+  })
 
-meson.add_devenv(devenv)
+  meson.add_devenv(devenv)
+endif
