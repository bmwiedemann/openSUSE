From e51e1b60802cf3c2a722950cf50ac4400d7dd9ac Mon Sep 17 00:00:00 2001
From: Lukas Riezler <lukas.riezler@wolfvision.net>
Date: Tue, 11 Mar 2025 10:09:37 +0100
Subject: [PATCH] v4l2/monitor: scripts: fix for deduplicate devices with the
 same name

---
 src/scripts/monitors/v4l2/name-device.lua | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/scripts/monitors/v4l2/name-device.lua b/src/scripts/monitors/v4l2/name-device.lua
index 5188850a2..2deec68a6 100644
--- a/src/scripts/monitors/v4l2/name-device.lua
+++ b/src/scripts/monitors/v4l2/name-device.lua
@@ -31,7 +31,7 @@ SimpleEventHook {
 
     -- deduplicate devices with the same name
     for counter = 2, 99, 1 do
-      if mutils.find_duplicate (parent, id, "device.name", properties["node.name"]) then
+      if mutils.find_duplicate (parent, id, "device.name", properties["device.name"]) then
         properties["device.name"] = name .. "." .. counter
       else
         break
-- 
GitLab

