-------------------------------------------------------------------
Tue Feb 24 13:57:53 UTC 2026 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 2.50.5:
  + Fix checking whether a view is active on gamepad input when
    using WPEPlatform.
  + Fix several crashes and rendering issues.

-------------------------------------------------------------------
Sun Dec 21 15:22:50 UTC 2025 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 2.50.4:
  + Correctly handle the program name passed to the sleep disabler.
  + Ensure GStreamer is initialized before applying quirks.
  + Fix usage of the cache API in nested workers.
  + Fix incorrect rendering of SVG path arc elements.
  + Fix several crashes and rendering issues.
- Changes from version 2.50.3:
  + Fix pointer event processing no longer working after a mouse
    right button press.
  + Fix seeking and looping of media elements that set the loop
    property.
  + Fix several crashes and rendering issues.

-------------------------------------------------------------------
Thu Nov 27 11:19:22 UTC 2025 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 2.50.2:
  + Prevent unsafe URI schemes from participating in media playback
  + Make webkit_web_view_add_frame_displayed_callback() work with
    WPEPlatform
  + Make jsc_value_array_buffer_get_data() function introspectable
  + Fix logging in to Google accounts that have a WebAuthn second
    factor configured
  + Fix loading webkit://gpu when there are no threads configured
    for GPU rendering
  + Fix rendering gradients that use the CSS hue interpolation
    method
  + Fix pasting image data from the clipboard
  + Fix font-family selection when the font name contains spaces
  + Fix the build with standard C libraries that lack execinfo.h,
    like Musl or uClibc
  + Fix capturing canvas snapshots in the Web Inspector
  + Fix build dependencies to ensure that generated headers for
    WPEPlatform are always created before they are needed
  + Fix several crashes and rendering issues

-------------------------------------------------------------------
Fri Oct 17 07:01:32 UTC 2025 - Bjørn Lie <bjorn.lie@gmail.com>

- Do not build 32bit targets via ExcludeArch %{ix86} and %{arm}.

-------------------------------------------------------------------
Thu Oct 16 08:21:56 UTC 2025 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 2.50.1:
  + Improve text rendering performance.
  + On Android, the built library no longer includes versioning
    information in its name.
  + Fix audio playback broken on Instagram.
  + Fix blurry rendering of SVG patterns when zoomed.
  + Fix rendering of layers with fractional transforms.
  + Fix the build with ENABLE(VIDEO) disabled.
  + Fix the build in s390x.
  + Fix several crashes and rendering issues.

-------------------------------------------------------------------
Mon Sep 22 21:41:14 UTC 2025 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 2.50.0:
  + Improved rendering performance by recording each layer once and
    replaying every dirty region in different worker threads.
  + Enable damage propagation to the UI process by default.
  + The CSS property font-variant-emoji is now supported and
    enabled by default.
  + Font synthesis properties (bold/italic) are now properly
    handled.
  + Added new API to get the theme color of a WebKitWebView.
  + Support for video capture using PipeWire through the camera
    portal.
  + The WebKitSettings:enable-hyperlink-auditing option has been
    deprecated, and the setting is always considered to be enabled.
  + The USE_GSTREAMER_TRANSCODER build option has been removed, and
    the implementation replaced with stock GStreamer functionality.
  + The lowest GCC version that can be used to build WebKit is now
    12.2.
- Disable skia on ppc64le for now. It currently makes the build
  fail.

-------------------------------------------------------------------
Mon Sep  1 15:20:32 UTC 2025 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 2.48.5:
  + Fix several crashes.
- Changes from version 2.48.4:
  + Improve emoji font selection with USE_SKIA=ON.
  + Improve playback of multimedia streams from blob URLs.
  + Integrate with the system logging service on Android, allowing
    configuring the overall log level and log channels using the
    log.tag.WPEWebKit and debug.log.WPEWebKit system properties.
  + Fall back to display-wide DMA-BUF formats when failing to get
    the preferred formats for a given WPEToplevel.
  + Fall back to using libdrm to detect device nodes to use in the
    WPEPlatform headless and Wayland backends.
  + Fix WebGL initialization when using WPEPlatform in some setups
    i.e. Mali GPUs with the proprietary driver.
  + Fix the build with USE_SKIA_OPENTYPE_SVG=ON and
    USE_SYSPROF_CAPTURE=ON.
  + Fix the build on LoongArch with USE_SKIA=ON.
  + Fix several crashes and rendering issues.
- Changes from version 2.48.3:
  + Fix a crash introduced by the new threaded rendering
    implementation using Skia API.
  + Improve rendering performance by recording layers once and
    replaying every dirty region in different worker threads.
  + Fix a crash when setting WEBKIT_SKIA_GPU_PAINTING_THREADS=0.
  + Fix a reference cycle in webkitmediastreamsrc preventing its
    disposal.
- Changes from version 2.48.2:
  + Enable CSS Overscroll Behavior by default.
  + Change threaded rendering implementation to use Skia API
    instead of WebCore display lists that were not thread safe.
  + Fix rendering when device scale factor change comes before the
    web view geometry update.
  + Fix network process crash on exit.
  + Fix the build with ENABLE_RESOURCE_USAGE=OFF.
  + Fix several crashes and rendering issues.
- Changes from version 2.48.1:
  + Limit the data stored in session state.
  + Remove the empty area below the title bar in Web Inspector when
    not docked.
  + Improve the robustness of WebAudio and WebCodecs multimedia
    support.
  + Fix the build with GST_DISABLE_GST_DEBUG.
  + Fix the build with GStreamer versions older than 1.20.
  + Fix the build with libc++ version 19 or newer.
  + Fix the build with video support disabled (ENABLE_VIDEO=OFF).
  + Fix the build with Clang 20.
- Changes from version 2.48.0:
  + Fix YouTube playback by using a different User-Agent quirk.
  + Avoid adding redundant tracks to MediaPlayer.
  + Propagate the font's computed locale to HarfBuzz.
  + Fix missing default values for the key repeat delay, key repeat
    interval, and drag threshold in WPESettings.
  + Fix missing registration for the DRM scale setting in
    WPESettings.
  + Fix the build on non-Linux platforms.
  + Fix several crashes and rendering issues.
- Add flite-devel BuildRequires: New dependency.
- Drop libWPEWebInspectorResources sub-package, no longer built.
- No longer disable LTO for ppc64le, disable LTO for 32bit arm.

-------------------------------------------------------------------
Wed Feb 19 13:34:44 UTC 2025 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 2.46.6:
  + Support building against ICU 76.1
  + Fix lost initial audio samples played using WebAudio on 32-bit
    Raspberry Pi devices when using the OpenMAX GStreamer elements.
  + Fix rendering on GPUs with maximum texture size smaller than
    2000x2000 pixels by querying the maximum size supported at
    runtime.
  + Fix a crash when enabling Skia CPU rendering.
  + Fix several crashes and rendering issues.
- Drop fix-icu-build.patch: Fixed upstream.
- Drop libWPEPlatform sub-package, no longer built.

-------------------------------------------------------------------
Wed Nov 20 17:13:30 UTC 2024 - Bjørn Lie <bjorn.lie@gmail.com>

- Add fix-icu-build.patch: Support ICU 76.1 build

-------------------------------------------------------------------
Sat Sep 28 12:44:54 UTC 2024 - Michael Gorse <mgorse@suse.com>

- Update to version 2.46.0:
  + Fix rendering of images in PDF documents.
  + Make process launching fast again.
  + Fix webkit_web_resource_get_data() regression that caused we
    were always retuning empty data.
  + Fix the build with touch events disabled.
  + Fix the build with GLib < 2.68.
  + Fix several crashes and rendering issues.
  + For all changes between 2.44.2 and 2.45.90, please see packaged
    NEWS file.
- Add libinput to BuildRequires: new dependency.
- Pass USE_SYSTEM_SYSPROF_CAPTURE=NO to cmake, avoid building
  sysprof capture for now.
- Only disable LTO on x86 and ppc64le.
- Package libWPEPlatform (new WPE platform API).

-------------------------------------------------------------------
Tue Jun  4 17:28:23 UTC 2024 - Joan Torres <joan.torres@suse.com>

- Stop passing -DENABLE_SAMPLING_PROFILER=OFF and -DENABLE_C_LOOP=ON 
  on arch64, it's no longer needed to avoid build failure.
- Set wayland and xkbcommon includes through CFLAGS and CXXFLAGS,
  it looks like the compiler can't automatically find them.

-------------------------------------------------------------------
Thu May 23 08:23:41 UTC 2024 - Joan Torres <joan.torres@suse.com>

- Update to version 2.44.2:
  * Fix CVE-2024-27834 bsc#1225071
  * Decrease input notifications for gamepad inputs.
  * Disable the gst-libav AAC decoder.
  * Make gamepads visible on axis movements, and not only on button presses.
  * Make user scripts and style sheets visible in the Web Inspector.
  * Use the geolocation portal where available, with the existing Geoclue as fallback if the portal is not usable.
  * Use optimized assembler BoringSSL modules with USE_LIBWEBRTC enabled.
  * Fix mouse location in WebDriver when output device scaling is in effect.
  * Fix touch input event propagation.
  * Fix the build on 32-bit ARM with USE_LIBWEBRTC enabled.
  * Fix the build with ENABLE_WEBAUDIO disabled.
  * Fix several crashes and rendering issues.

-------------------------------------------------------------------
Fri May  3 15:09:25 UTC 2024 - Dominique Leuenberger <dimstar@opensuse.org>

- Update to version 2.44.1:
  + Do not schedule layer flushes when drawing area size is empty.
  + Fix videos with alpha when using the DMA-BUF sink.
  + Fix the build with ENABLE_WEB_AUDIO=OFF.
  + Fix the build with ENABLE_VIDEO=OFF.
  + Fix the build with USE_GBM=OFF.
  + Fix the build in 32bit platforms
  + Fix several crashes and rendering issues.
  + For all changes between 2.42.2 and 2.44.1, please see packaged
    NEWS file.
- Add libbacktrace-devel BuildRequires: new dependency.
- Drop fix-include-dirs.patch and fix-load-backend-fdo-lib.patch:
  no longer needed.

-------------------------------------------------------------------
Wed Nov 22 11:12:21 UTC 2023 - Joan Torres <joan.torres@suse.com>

- Update to version 2.42.2:
  * Bump Safari version in user agent header.
  * Fix CSP regression that broke Unity WebGL applications.
  * Fix the build with GBM disabled.
  * Fix several crashes and rendering issues.
- Temporaly disable LTO which is currently failing to link
  (will be solved in a next release).

-------------------------------------------------------------------
Tue Sep 26 09:05:23 UTC 2023 - Joan Torres <joan.torres@suse.com>

- Update to version 2.42.0:
  * GBM is no longer required for WebGL implementation.
  * Add API to configure experimental features at runtime.
  * Add API to set the percentage of volume space that can be used for data storage.
  * Fix several crashes and rendering issues. 

-------------------------------------------------------------------
Fri Jun 30 17:43:03 UTC 2023 - Joan Torres <joan.torres@suse.com>

- Init repo.
