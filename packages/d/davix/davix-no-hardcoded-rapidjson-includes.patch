---
 CMakeLists.txt                   |    7 +++++++
 src/CMakeLists.txt               |    1 +
 src/utils/davix_gcloud_utils.cpp |    2 +-
 3 files changed, 9 insertions(+), 1 deletion(-)

Index: davix-0.8.6/src/utils/davix_gcloud_utils.cpp
===================================================================
--- davix-0.8.6.orig/src/utils/davix_gcloud_utils.cpp
+++ davix-0.8.6/src/utils/davix_gcloud_utils.cpp
@@ -23,7 +23,7 @@
 #include <libs/alibxx/crypto/hmacsha.hpp>
 #include <libs/alibxx/crypto/base64.hpp>
 #include <fstream>
-#include <libs/rapidjson/document.h>
+#include <rapidjson/document.h>
 #include <sstream>
 
 #define SSTR(message) static_cast<std::ostringstream&>(std::ostringstream().flush() << message).str()
Index: davix-0.8.6/CMakeLists.txt
===================================================================
--- davix-0.8.6.orig/CMakeLists.txt
+++ davix-0.8.6/CMakeLists.txt
@@ -97,6 +97,13 @@ set(NE_HAVE_SSL 1)
 
 add_subdirectory(deps)
 
+find_package(RapidJSON QUIET)
+if(${RapidJSON_FOUND})
+  set(RAPIDJSON_INCLUDE_DIRS ${RapidJSON_INCLUDE_DIRS})
+else()
+  message(STATUS "Using bundled RapidJSON")
+  set(RAPIDJSON_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/src/libs)
+endif()
 
 #libuuid
 if(NOT APPLE)
Index: davix-0.8.6/src/CMakeLists.txt
===================================================================
--- davix-0.8.6.orig/src/CMakeLists.txt
+++ davix-0.8.6/src/CMakeLists.txt
@@ -84,6 +84,7 @@ set(DAVIX_SOURCES
 set(DAVIX_INTERNAL_INCLUDES
   ${OPENSSL_INCLUDE_DIR}
   ${LIBXML2_INCLUDE_DIR}
+  ${RAPIDJSON_INCLUDE_DIRS}
   ${PROJECT_SOURCE_DIR}/deps
   ${PROJECT_SOURCE_DIR}/src
   ${CMAKE_CURRENT_BINARY_DIR}
