diff -Nur deepin-terminal-3.2.2.1/CMakeLists.txt deepin-terminal-3.2.2.1-new/CMakeLists.txt
--- deepin-terminal-3.2.2.1/CMakeLists.txt	2019-04-12 14:57:08.000000000 +0800
+++ deepin-terminal-3.2.2.1-new/CMakeLists.txt	2019-05-18 21:51:41.209782200 +0800
@@ -18,6 +18,7 @@
 find_package(Gettext)
 
 pkg_check_modules(GTK3 REQUIRED gtk+-3.0)
+pkg_check_modules(VTE REQUIRED vte-2.91)
 pkg_check_modules(GEE REQUIRED gee-0.8)
 pkg_check_modules(GIO REQUIRED gio-unix-2.0)
 pkg_check_modules(RSVG REQUIRED librsvg-2.0)
@@ -65,14 +66,6 @@
 endif()
 
 if (USE_VENDOR_LIB)
-ExternalProject_Add(Vte-0.52
-  SOURCE_DIR ${CMAKE_SOURCE_DIR}/3rdparty/vte-0.52.1
-  CONFIGURE_COMMAND ./configure --enable-static
-  BUILD_COMMAND make
-  INSTALL_COMMAND ""
-  BUILD_IN_SOURCE 1
-  )
-
 ExternalProject_Add(zssh-1.5c
   SOURCE_DIR ${CMAKE_SOURCE_DIR}/3rdparty/zssh-1.5c
   CONFIGURE_COMMAND ./configure
@@ -101,11 +94,11 @@
 	${RSVG_INCLUDE_DIRS}
 	${JsonGlib_INCLUDE_DIRS}
 	${LIBSECRET_INCLUDE_DIRS}
+	${VTE_INCLUDE_DIRS}
 )
 
 if (USE_VENDOR_LIB)
 	list(APPEND INCLUDE_PATHS ${CMAKE_SOURCE_DIR}/3rdparty/vte-0.52.1/src)
-	find_library(VTE_LIB NAMES libvte-2.91.a tcmalloc_minimal)
 else()
 	list(APPEND INCLUDE_PATHS ${VTE_INCLUDE_DIRS})
 endif()
@@ -124,6 +117,7 @@
 	${XTST_LIBRARIES}
 	${FONTCONFIG_LIBRARY}
 	${M_LIBRARIES}
+	${VTE_LIBRARIES}
 	stdc++
 	m
 	z
@@ -187,12 +181,7 @@
 
 add_executable(${target} ${VALA_C} ${CMAKE_SOURCE_DIR}/project_path.c ${CMAKE_SOURCE_DIR}/lib/font.c)
 
-if (USE_VENDOR_LIB)
-	target_link_libraries(${target} ${LIBS} ${CMAKE_SOURCE_DIR}/3rdparty/vte-0.52.1/src/.libs/libvte-2.91.a)
-	add_dependencies(${target} Vte-0.52)
-else()
-	target_link_libraries(${target} ${LIBS})
-endif()
+target_link_libraries(${target} ${LIBS})
 
 FILE(GLOB children LIST_DIRECTORIES true po/*)
 SET(dirlist "")
