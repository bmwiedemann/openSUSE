-------------------------------------------------------------------
Wed Jun  2 14:05:24 UTC 2021 - Dirk Müller <dmueller@suse.com>

- use https for url (and more beautification changes from spec-cleaner)

-------------------------------------------------------------------
Tue Jun  1 10:28:25 UTC 2021 - Michal Suchanek <msuchanek@suse.com>

- Handle zero sized per-cpu veriables in Linux BTF.
  + btf_encoder-fix-and-complete-filtering-out-zero-sized-per-CPU-variables.patch

-------------------------------------------------------------------
Mon May  3 08:45:43 UTC 2021 - Jiri Slaby <jslaby@suse.cz>

- add remove-ftrace-filter.patch

-------------------------------------------------------------------
Thu Apr 22 10:25:46 UTC 2021 - Jan Engelhardt <jengelh@inai.de>

- Codify build requirement on elfutils >= 0.171

-------------------------------------------------------------------
Mon Apr 12 16:36:06 UTC 2021 - Jan Engelhardt <jengelh@inai.de>

- Update to release 1.21
  * Handle DWARF5 DW_OP_addrx and
    subprogram ret type with abstract_origin properly.

-------------------------------------------------------------------
Fri Feb  5 01:08:01 UTC 2021 - Jan Engelhardt <jengelh@inai.de>

- Update to release 1.20
  * Addresses problems related to gcc 11 defaulting to DWARF5
    for -g.
  * Support SHN_XINDEX in st_shndx symbol indexes, to handle ELF
    objects with more than 65534 sections, for instance, which
    happens with kernels built with KCFLAGS="-ffunction-sections
    -fdata-sections", Other cases may include when using FG-ASLR,
    LTO.
  * Fix BTF variable generation for kernel modules, not skipping
    variables at offset zero.
  * Fix address size to match what is in the ELF file being
    processed, to fix using a 64-bit pahole binary to generate
    BTF for a 32-bit vmlinux image.

-------------------------------------------------------------------
Wed Jan  6 06:07:31 UTC 2021 - Gary Ching-Pang Lin <glin@suse.com>

- Drop the version requirement of libdw-devel
  + DW_AT_alignment is defined in 1.19 so dwarves now is compatible
    with older libdw.

-------------------------------------------------------------------
Tue Nov 24 13:26:05 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Update to release 1.19
  * Support for split BTF.
  * Support cross-compiled ELF binaries with different endianness.
  * Support for showing typedefs for anonymous types, like structs,
    unions and enums.

-------------------------------------------------------------------
Tue Oct 27 15:52:01 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Add _service file / move to 1.18.g19 (863e6f0f)
  * btf_encoder: Ignore zero-sized ELF symbols

-------------------------------------------------------------------
Tue Oct 27 13:00:23 UTC 2020 - Dirk Mueller <dmueller@suse.com>

- update to 1.18_15g040fd7f (bsc#1177921):
  * btf_encoder: Support cross-compiled ELF binaries with different endianness
  * strings: use BTF's string APIs for strings management
  * strings: Rename strings.h to avoid clashing with /usr/include/strings.h
  * dwarf_loader: increase the size of lookup hash map
  * btf_encoder: revamp how per-CPU variables are encoded
  * btf_encoder: Discard CUs after BTF encoding
  * btf_encoder: Fix emitting __ARRAY_SIZE_TYPE__ as index range type
  * btf_encoder: Use libbpf APIs to encode BTF type info
  * btf_loader: Use libbpf to load BTF
  * dwarves: Expose and maintain active debug info loader operations
  * btf_encoder: detect BTF encoding errors and exit
  * libbpf: Update to latest libbpf version
  * dwarf_loader: Conditionally define DW_AT_alignment
  * pahole: Implement --packed
  * man-pages: Fix 'coimbine' typo
- remove libbpf-Fix-libbpf-hashmap-on-I-LP32-architectures.patch (upstream)

-------------------------------------------------------------------
Fri Oct  2 22:00:47 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Update to release 1.18
  * pahole now should be segfault free when handling gdb test
    suit DWARF files, including ADA, FORTRAN, rust and dwp
    compressed files (the latter is refused).
  * Bail out on partial units for now, avoiding segfaults.
- Drop
  dwarves-dwarf_loader-Ignore-entries-in-a-DW_TAG_partial_unit-for-now.patch,
  dwarves-dwarf_loader-Bail-out-at-DW_TAG_imported_unit-tags.patch
  (merged)
- Add forced ELF symvers because of ABI breaks

-------------------------------------------------------------------
Mon Sep 21 18:48:25 UTC 2020 - Tom de Vries <tdevries@suse.com>

- Backport fixes for segfault when processing dwz-ed kernel
  [bsc#1176095,https://github.com/acmel/dwarves/issues/10].
  * dwarves-dwarf_loader-Bail-out-at-DW_TAG_imported_unit-tags.patch
  * dwarves-dwarf_loader-Ignore-entries-in-a-DW_TAG_partial_unit-for-now.patch

-------------------------------------------------------------------
Wed Sep  2 08:39:24 UTC 2020 - Jiri Slaby <jslaby@suse.com>

- add libbpf-Fix-libbpf-hashmap-on-I-LP32-architectures.patch

-------------------------------------------------------------------
Tue May 19 11:44:37 UTC 2020 - Ismail Dönmez <idonmez@suse.com>

- Don't require libebl-plugins on suse_version >= 1550 

-------------------------------------------------------------------
Sun Mar 15 18:57:27 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Update to release 1.17
  * Support raw BTF as available in /sys/kernel/btf/vmlinux.
  * Make --find_pointers_to consider unions.
  * Make --contains and --find_pointers_to honour --unions.
  * Add support for finding pointers to void.
  * Make --contains and --find_pointers_to to work with base types.

-------------------------------------------------------------------
Mon Dec 16 15:50:02 UTC 2019 - Jan Engelhardt <jengelh@inai.de>

- Update to release 1.16
  * btf_loader: Add support for BTF_KIND_FUNC

-------------------------------------------------------------------
Thu Jun 27 11:22:47 UTC 2019 - Jan Engelhardt <jengelh@inai.de>

- Update to new upstream release 1.15
  * Avoid null dereference with NULL configs
  * Fixup printing "const" early with "const void"
  * Fix recursively printing named structs in --expand_types

-------------------------------------------------------------------
Thu May  2 00:00:00 CEST 2019 - dsterba@suse.cz

- version 1.13
  - Use of the recently introduced BTF deduplication algorithm
  - Introduce a 'btfdiff' utility
  - Add a BTF loader, i.e. 'pahole -F btf' allows pretty printing of structs
    and unions in the same fashion as with DWARF info
  - Better union support
  - Infer __attribute__((__packed__)) when structs have no alignment holes
  - Support DWARF5's DW_AT_alignment
  - Add a '--compile' option to 'pfunct'

-------------------------------------------------------------------
Thu Aug 16 21:20:17 UTC 2018 - jengelh@inai.de

- Update to new upstream release 1.12
  * Added a BTF (BPF Type Format) encoder
  * Initial support for DW_TAG_partial_unit
  * Print cacheline boundaries in multiple union members
  * Show offsets at union members

-------------------------------------------------------------------
Mon Mar 26 12:42:30 UTC 2018 - jengelh@inai.de

- dwarves needs elfutils to have the EBL plugins available
  to carry out its work. [boo#1049871]
- Update to new upstream release 1.11
  * dwarf_loader: Do not stop processing after finding
    unsupported tags
  * dwarf_loader: Support DW_FORM_data{4,8} for reading class
    member offsets
  * dwarf_fprintf: Handle DW_TAG_GNU_call_site{_parameter}
  * dwarf_loader: Add support for DW_TAG_restrict_type
  * dwarf_loader: Initial support for DW_TAG_unspecified_type
- Remove dwarves-no-DW_TAG_mutable.patch (already applied)

-------------------------------------------------------------------
Wed Feb  1 14:38:32 UTC 2017 - mpluskal@suse.com

- Use cmake macros

-------------------------------------------------------------------
Thu Jan 22 08:47:19 UTC 2015 - dimstar@opensuse.org

- Add dwarves-no-DW_TAG_mutable.patch: Fix build with newer
  libdwarf versions: DW_TAG_mutable_type was a mistake in an early
  DWARFv3 draft and was removed in the final version.

-------------------------------------------------------------------
Wed Oct 15 14:37:48 UTC 2014 - jengelh@inai.de

- Drop libdwarf dependency; it is not needed for build (libdw
  is used instead)

-------------------------------------------------------------------
Wed Jun  6 21:39:25 UTC 2012 - jengelh@inai.de

- Update to new upstream release 1.10
* Initial DWARF4 support
* Add stubs for some new GNU tags
* Fix a crash when pahole is called with -R -S

-------------------------------------------------------------------
Sun Sep 18 17:17:12 UTC 2011 - jengelh@medozas.de

- Remove redundant tags/sections from specfile
  (cf. packaging guidelines)
- Use %_smp_mflags for parallel build
- Implement baselibs config

-------------------------------------------------------------------
Thu Aug 11 14:47:15 UTC 2011 - jengelh@medozas.de

- Update to new upstream release 1.9
* Add the "scncopy" tool - like object copy but tries not to change
  section content
* pfunct: Introduce the -P option
* dwarves fprintf: Add extra GNU tags
- Update group and description with something more detailed
- Remove redundant %clean section
- Strip duplicate changelog
- Remove redundant manual requires on libraries
- Update URL to acme's new location

-------------------------------------------------------------------
Wed Apr 13 16:37:41 UTC 2011 - mgorman@suse.de

- Remove %debug_package directive which is breaking build

-------------------------------------------------------------------
Mon May  3 14:20:14 UTC 2010 - lchiquitto@novell.com

- update to 1.8 release 

-------------------------------------------------------------------
Fri Feb 29 18:33:01 CET 2008 - dmueller@suse.de

- update to 1.6 release

-------------------------------------------------------------------
Sat Dec  1 17:25:25 CET 2007 - dgollub@suse.de

- initial package of dwarves

