Index: distcc-3.3.3/Makefile.in
===================================================================
--- distcc-3.3.3.orig/Makefile.in
+++ distcc-3.3.3/Makefile.in
@@ -52,13 +52,14 @@ mandir = @mandir@
 includedir = @includedir@
 oldincludedir = /usr/include
 docdir = @docdir@
-pkgdatadir = $(datadir)/@PACKAGE_NAME@
+icondir = $(datadir)/pixmaps
+desktopdir = $(datadir)/applications
 
 include_server_builddir = $(builddir)/_include_server
 
 # These must be done from here, not from autoconf, because they can 
 # contain variable expansions written in Make syntax.  Ew.
-DIR_DEFS = -DLIBDIR="\"${libdir}\"" -DSYSCONFDIR="\"${sysconfdir}\"" -DPKGDATADIR="\"${pkgdatadir}\""
+DIR_DEFS = -DLIBDIR="\"${libdir}\"" -DSYSCONFDIR="\"${sysconfdir}\"" -DICONDIR="\"${icondir}\""
 
 # arguments to pkgconfig
 GNOME_PACKAGES = @GNOME_PACKAGES@
@@ -1126,10 +1127,10 @@ install-example: $(example_DOCS)
 	done
 
 install-gnome-data: $(gnome_data)
-	$(mkinstalldirs) "$(DESTDIR)$(pkgdatadir)"
-	for p in $(gnome_data); do \
-	  $(INSTALL_DATA) "$$p" "$(DESTDIR)$(pkgdatadir)" || exit 1; \
-	done
+	$(mkinstalldirs) "$(DESTDIR)$(icondir)"
+	$(mkinstalldirs) "$(DESTDIR)$(desktopdir)"
+	$(INSTALL_DATA) gnome/distccmon-gnome-icon.png "$(DESTDIR)$(icondir)" || exit 1
+	$(INSTALL_DATA) gnome/distccmon-gnome.desktop "$(DESTDIR)$(desktopdir)" || exit 1
 
 install-conf: $(conf_files) $(default_files)
 	$(mkinstalldirs) "$(DESTDIR)$(sysconfdir)/distcc"
Index: distcc-3.3.3/gnome/distccmon-gnome.desktop
===================================================================
--- distcc-3.3.3.orig/gnome/distccmon-gnome.desktop
+++ distcc-3.3.3/gnome/distccmon-gnome.desktop
@@ -1,6 +1,4 @@
 [Desktop Entry]
-Version=0.9.4
-Encoding=UTF-8
 Exec=distccmon-gnome
 Name=distcc monitor
 Name[sv]=distcc övervakare
@@ -8,9 +6,9 @@ GenericName=Distributed Compile Monitor
 GenericName[sv]=Distribuerad kompilerings-övervakare
 Comment=Graphical view of distributed compile tasks
 Comment[sv]=Grafisk vy av distribuerade kompileringsuppgifter
-Icon=distccmon-gnome-icon.png
+Icon=distccmon-gnome-icon
 TryExec=distccmon-gnome
 Terminal=false
 Type=Application
-Categories=GNOME;Application;Development;
+Categories=GNOME;Development;
 StartupNotify=true
Index: distcc-3.3.3/src/mon-gnome.c
===================================================================
--- distcc-3.3.3.orig/src/mon-gnome.c
+++ distcc-3.3.3/src/mon-gnome.c
@@ -599,7 +599,7 @@ static GtkWidget * dcc_gnome_make_mainwi
 
 #if GTK_CHECK_VERSION(2,2,0)
   gtk_window_set_icon_from_file (GTK_WINDOW (mainwin),
-                                 PKGDATADIR "/distccmon-gnome-icon.png",
+                                 ICONDIR "/distccmon-gnome-icon.png",
                                  NULL);
 #endif
 
