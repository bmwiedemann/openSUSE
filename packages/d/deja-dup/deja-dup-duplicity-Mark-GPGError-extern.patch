From 05422eab47e444525427b4108c64a00721139712 Mon Sep 17 00:00:00 2001
From: Rico Tzschichholz <ricotz@ubuntu.com>
Date: Wed, 10 Jul 2019 13:33:47 +0200
Subject: [PATCH] duplicity: Mark GPGError as extern and prevent GPG symbols to
 be public API

This also fixes building with vala 0.45.2+
---
 libdeja/tools/duplicity/DuplicityJob.vala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/libdeja/tools/duplicity/DuplicityJob.vala b/libdeja/tools/duplicity/DuplicityJob.vala
index 82c0c603..00a9f6ab 100644
--- a/libdeja/tools/duplicity/DuplicityJob.vala
+++ b/libdeja/tools/duplicity/DuplicityJob.vala
@@ -20,13 +20,13 @@
 using GLib;
 
 [CCode (cheader_filename = "gpgrt.h", cname = "gpg_err_code_t", cprefix = "GPG_ERR_", has_type_id = false)]
-public enum GPGError {
+extern enum GPGError {
   NO_SECKEY = 17,
   BAD_KEY = 19,
 }
 
 [CCode (cheader_filename = "gpgrt.h")]
-public extern unowned string gpg_strerror(GPGError code);
+extern unowned string gpg_strerror(GPGError code);
 
 internal class DuplicityJob : DejaDup.ToolJob
 {
-- 
2.22.0

