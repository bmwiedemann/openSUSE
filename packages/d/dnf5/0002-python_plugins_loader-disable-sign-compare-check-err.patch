From 7e95b620a1a972788b3fb7f81802f696d2f3da2e Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ale=C5=A1=20Mat=C4=9Bj?= <amatej@redhat.com>
Date: Wed, 5 Nov 2025 07:59:00 +0100
Subject: [PATCH 2/2] python_plugins_loader: disable sign-compare check errors

---
 libdnf5-plugins/python_plugins_loader/CMakeLists.txt | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/libdnf5-plugins/python_plugins_loader/CMakeLists.txt b/libdnf5-plugins/python_plugins_loader/CMakeLists.txt
index 5454a5d5..e316af7f 100644
--- a/libdnf5-plugins/python_plugins_loader/CMakeLists.txt
+++ b/libdnf5-plugins/python_plugins_loader/CMakeLists.txt
@@ -15,6 +15,13 @@ add_custom_target(swigpyrun-header
     COMMENT "Generating SWIG Python runtime header"
 )
 
+# The generated SWIG Python runtime header: swigpyrun.h contains a problematic section on
+# certain architectures (i686):
+# error: comparison of integer expressions of different signedness: ‘int’ and ‘unsigned int’
+# 658 |     for (cast = head; (cast - head) <= head->value; cast++) {
+# Since we don't control that code don't treat it as an error.
+add_compile_options(-Wno-error=sign-compare)
+
 add_library(python_plugins_loader MODULE python_plugins_loader.cpp)
 
 # python_plugins_loader requires swigpyrun.h so lets generate it
-- 
2.51.0

