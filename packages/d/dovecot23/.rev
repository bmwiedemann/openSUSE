<revisionlist>
  <revision rev="1" vrev="1">
    <srcmd5>f35c97690bd558fb4b33ca238ef50411</srcmd5>
    <version>2.3.0</version>
    <time>1515505894</time>
    <user>dimstar_suse</user>
    <comment>2.3 branch</comment>
    <requestid>559875</requestid>
  </revision>
  <revision rev="2" vrev="2">
    <srcmd5>c82de15d69cdb68c607832e9b2f1768d</srcmd5>
    <version>2.3.0</version>
    <time>1515623742</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>562901</requestid>
  </revision>
  <revision rev="3" vrev="1">
    <srcmd5>66ad3d54759b186e0dbc1aa900e09546</srcmd5>
    <version>2.3.0.1</version>
    <time>1520415574</time>
    <user>dimstar_suse</user>
    <comment>- update pigeonhole to 0.5.0.1
  - imap4flags extension: Fix binary corruption occurring when
    setflag/addflag/removeflag flag-list is a variable.
  - sieve-extprograms plugin: Fix segfault occurring when used in
    IMAPSieve context.
- drop 321a39be974deb2e7eff7b2a509a3ee6ff2e5ae1.patch

- pull backport patch dovecot-2.3.0.1-over-quota-lmtp-crash.patch

- update to 2.3.0.1
  * CVE-2017-15130: TLS SNI config lookups may lead to excessive
    memory usage, causing imap-login/pop3-login VSZ limit to be
    reached and the process restarted. This happens only if Dovecot
    config has local_name { } or local { } configuration blocks and
    attacker uses randomly generated SNI servernames.
  * CVE-2017-14461: Parsing invalid email addresses may cause a
    crash or leak memory contents to attacker. For example, these
    memory contents might contain parts of an email from another
    user if the same imap process is reused for multiple users.
    First discovered by Aleksandar Nikolic of Cisco Talos.
    Independently also discovered by &quot;flxflndy&quot; via HackerOne.
  * CVE-2017-15132: Aborted SASL authentication leaks memory in
    login process.
  * Linux: Core dumping is no longer enabled by default via
    PR_SET_DUMPABLE, because this may allow attackers to bypass
    chroot/group restrictions. Found by cPanel Security Team.
    Nowadays core dumps can be safely enabled by using &quot;sysctl -w
    fs.suid_dumpable=2&quot;. If the old behaviour is wanted, it can
    still be enabled by setting:
    import_environment=$import_environment PR_SET_DUMPABLE=1
  - imap-login with SSL/TLS connections may end up in infinite loop</comment>
    <requestid>583681</requestid>
  </revision>
  <revision rev="4" vrev="2">
    <srcmd5>dd729803dfecdb25c910416b24e4564f</srcmd5>
    <version>2.3.0.1</version>
    <time>1521052788</time>
    <user>dimstar_suse</user>
    <comment>Security update</comment>
    <requestid>586348</requestid>
  </revision>
  <revision rev="5" vrev="1">
    <srcmd5>768454701751c1fa19dd7b9552121abd</srcmd5>
    <version>2.3.1</version>
    <time>1522317428</time>
    <user>dimstar_suse</user>
    <comment>- update to 2.3.1
- update pigeonhole to 0.5.1</comment>
    <requestid>591874</requestid>
  </revision>
  <revision rev="6" vrev="2">
    <srcmd5>ab2e87ca5eb7968cbefb73e657bab3f5</srcmd5>
    <version>2.3.1</version>
    <time>1523448210</time>
    <user>maxlin_factory</user>
    <comment>- bnc#1088911 - dovecot23 can not build ond s390
  add: 35497604d80090a02619024aeec069b32568e4b4.diff
  add: 5522b8b3d3ed1a99c3b63bb120216af0bd427403.diff</comment>
    <requestid>595501</requestid>
  </revision>
  <revision rev="7" vrev="3">
    <srcmd5>4a9d4320b6d6c688591519426f130636</srcmd5>
    <version>2.3.1</version>
    <time>1527605613</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>612867</requestid>
  </revision>
  <revision rev="8" vrev="1">
    <srcmd5>7ad32459fb16eef2f742282a14409a94</srcmd5>
    <version>2.3.2</version>
    <time>1531135773</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>621463</requestid>
  </revision>
  <revision rev="9" vrev="1">
    <srcmd5>0bfb3ce0e209165ca145d43c4e2b5f28</srcmd5>
    <version>2.3.2.1</version>
    <time>1531470063</time>
    <user>dimstar_suse</user>
    <comment>- update to 2.3.2.1
  - SSL/TLS servers may have crashed during client disconnection
  - lmtp: With lmtp_rcpt_check_quota=yes mail deliveries may have
    sometimes assert-crashed.
  - v2.3.2: &quot;make check&quot; may have crashed with 32bit systems</comment>
    <requestid>622091</requestid>
  </revision>
  <revision rev="10" vrev="2">
    <srcmd5>5ef0157dbfb781b2f2f26b24cf9002cf</srcmd5>
    <version>2.3.2.1</version>
    <time>1532293543</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>624423</requestid>
  </revision>
  <revision rev="11" vrev="1">
    <srcmd5>2005661952fe63de4c31a237865d47a0</srcmd5>
    <version>2.3.3</version>
    <time>1538502549</time>
    <user>dimstar_suse</user>
    <comment>- update pigeonhole to 0.5.3
- update to 2.3.3</comment>
    <requestid>639470</requestid>
  </revision>
  <revision rev="12" vrev="1">
    <srcmd5>b4b4f4a7f834c0d124e487df4d08fc63</srcmd5>
    <version>2.3.4</version>
    <time>1543953456</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>653727</requestid>
  </revision>
  <revision rev="13" vrev="2">
    <srcmd5>66ab2d4d3d23dd2db86d973ec49c0ab1</srcmd5>
    <version>2.3.4</version>
    <time>1544189902</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>655862</requestid>
  </revision>
  <revision rev="14" vrev="3">
    <srcmd5>91dc62c4594234c10f6ba5c64ece656e</srcmd5>
    <version>2.3.4</version>
    <time>1548335520</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>667410</requestid>
  </revision>
  <revision rev="15" vrev="1">
    <srcmd5>af8d5ab2f59207885ad1af5b11a232c8</srcmd5>
    <version>2.3.4.1</version>
    <time>1549458440</time>
    <user>coolo</user>
    <comment>- update to 2.3.4.1 (boo#1123022)
  * CVE-2019-3814: If imap/pop3/managesieve/submission client has
    trusted certificate with missing username field
    (ssl_cert_username_field), under some configurations Dovecot
    mistakenly trusts the username provided via authentication
    instead of failing.
  * ssl_cert_username_field setting was ignored with external
    SMTP AUTH, because none of the MTAs (Postfix, Exim) currently
    send the cert_username field. This may have allowed users with
    trusted certificate to specify any username in the
    authentication. This bug didn't affect Dovecot's Submission
    service.</comment>
    <requestid>671912</requestid>
  </revision>
  <revision rev="16" vrev="1">
    <srcmd5>0aa22ab481f56faf3ef6ea0857ca8f64</srcmd5>
    <version>2.3.5.1</version>
    <time>1554384136</time>
    <user>dimstar_suse</user>
    <comment>- update to 2.3.5.1</comment>
    <requestid>689340</requestid>
  </revision>
  <revision rev="17" vrev="1">
    <srcmd5>22a25d8bb70a3811f18102cfd9e4dd46</srcmd5>
    <version>2.3.5.2</version>
    <time>1555691922</time>
    <user>dimstar_suse</user>
    <comment>- update to 2.3.5.2 (boo#1132501)
  * CVE-2019-10691: Trying to login with 8bit username containing
    invalid UTF8 input causes auth process to crash if auth policy
    is enabled. This could be used rather easily to cause a DoS.
    Similar crash also happens during mail delivery when using
    invalid UTF8 in From or Subject header when OX push
    notification driver is used.

- update to 2.3.5.1 (boo#1130116)</comment>
    <requestid>695556</requestid>
  </revision>
  <revision rev="18" vrev="1">
    <srcmd5>9c36b5c104a9280bbf669b1effcf359b</srcmd5>
    <version>2.3.6</version>
    <time>1556817511</time>
    <user>dimstar_suse</user>
    <comment>- update pigeonhole to 0.5.6
  + sieve: Redirect loop prevention is sometimes ineffective.
    Improve existing loop detection by also recognizing the
    X-Sieve-Redirected-From header in incoming messages and
    dropping redirect actions when it points to the sending
    account. This header is already added by the redirect action,
    so this improvement only adds an additional use of this header.
  - sieve: Prevent execution of implicit keep upon temporary
    failure occurring at runtime.

- update to 2.3.6: (boo#1133624 boo#1133625)
  * CVE-2019-11494: Submission-login crashed with signal 11 due to
    null pointer access when authentication was aborted by
    disconnecting.
  * CVE-2019-11499: Submission-login crashed when authentication
    was started over TLS secured channel and invalid authentication
    message was sent.
  * auth: Support password grant with passdb oauth2.
  + Use system default CAs for outbound TLS connections.
  + Simplify array handling with new helper macros.
  + fts_solr: Enable configuring batch_size and soft_commit features.
  - lmtp/submission: Fixed various bugs in XCLIENT handling,
    including a hang when XCLIENT commands were sent infinitely to
    the remote server.
  - lmtp/submission: Forwarded multi-line replies were erroneously
    sent as two replies to the client.
  - lib-smtp: client: Message was not guaranteed to contain CRLF
    consistently when CHUNKING was used.
  - fts_solr: Plugin was no longer compatible with Solr 7.
  - Make it possible to disable certificate checking without
    setting ssl_client_ca_* settings.
  - pop3c: SSL support was broken.
  - mysql: Closing connection twice lead to crash on some systems.
  - auth: Multiple oauth2 passdbs crashed auth process on deinit.
  - HTTP client connection errors infrequently triggered a
    segmentation fault when the connection was idle and not used
    for a particular client instance.</comment>
    <requestid>699690</requestid>
  </revision>
  <revision rev="19" vrev="1">
    <srcmd5>5bf3ab7c68bca1fdcfddd7bf9026840f</srcmd5>
    <version>2.3.7.1</version>
    <time>1564137622</time>
    <user>dimstar_suse</user>
    <comment>- update to 2.3.7.1 and pigeonhole to 0.5.7.1
  Dovecot 2.3.7.1
    - Fix TCP_NODELAY errors being logged on non-Linux OSes
    - lmtp proxy: Fix assert-crash when client uses BODY=8BITMIME
    - Remove wrongly added checks in namespace prefix checking
  Pigeonhole 0.5.7.1
    - dsync: Sieve script syncing failed if mailbox attributes weren't enabled.
  Dovecot 2.3.7
    * fts-solr: Removed break-imap-search parameter
    + Added more events for the new statistics, see
      https://doc.dovecot.org/admin_manual/list_of_events/
    + mail-lua: Add IMAP metadata accessors, see
      https://doc.dovecot.org/admin_manual/lua/
    + Add event exporters that allow exporting raw events to log files and
      external systems, see
      https://doc.dovecot.org/configuration_manual/event_export/
    + SNIPPET is now PREVIEW and size has been increased to 200 characters.
    + Add body option to fts_enforced. This triggers building FTS index only
      on body search, and an error using FTS index fails the search rather
      than reads through all the mails.
    - Submission/LMTP: Fixed crash when domain argument is invalid in a
      second EHLO/LHLO command.
    - Copying/moving mails using Maildir format loses IMAP keywords in the
      destination if the mail also has no system flags.
    - mail_attachment_detection_options=add-flags-on-save caused email body
      to be unnecessarily opened when FETCHing mail headers that were
      already cached.
    - mail attachment detection keywords not saved with maildir.
    - dovecot.index.cache may have grown excessively large in some
      situations. This happened especially when using autoexpunging with
      lazy_expunge folders. Also with mdbox format in general the cache file
      wasn't recreated as often as it should have.
    - Autoexpunged mails weren't immediately deleted from the disk. Instead,
      the deletion from disk happened the next time the folder was opened.
      This could have caused unnecessary delays if the opening was done by
      an interactive IMAP session.
    - Dovecot's TCP connections sometimes add extra 40ms latency due to not
      enabling TCP_NODELAY. HTTP and SMTP/LMTP connections weren't
      affected, but everything else was. This delay wasn't always visible -
      only in some situations with some message/packet sizes.
    - imapc: Fix various crash conditions
    - Dovecot builds were not always reproducible.
    - login-proxy: With shutdown_clients=no after config reload the
      existing connections could no longer be listed or kicked with doveadm.
    - &quot;doveadm proxy kick&quot; with -f parameter caused a crash in some
      situations.
    - Auth policy can cause segmentation fault crash during auth process
      shutdown if all auth requests have not been finished.
    - Fix various minor bugs leading into incorrect behaviour in mailbox
      list index handling. These rarely caused noticeable problems.
    - LDAP auth: Iteration accesses freed memory, possibly crashing
      auth-worker
    - local_name { .. } filter in dovecot.conf does not correctly support
      multiple names and wildcards were matched incorrectly.
    - replicator: dsync assert-crashes if it can't connect to remote TCP
      server.
    - config: Memory leak in config process when ssl_dh setting wasn't
      set and there was no ssl-parameters.dat file.
      This caused config process to die once in a while
      with &quot;out of memory&quot;.
- bsc#1134242 - upgrade from 42.3 to 15.1: dovecot shows Unknown
  protocol 'SSLv2'
  * remove !SSLv2 from existing ssl_protocols configuration
    during upgrade
 
</comment>
    <requestid>718437</requestid>
  </revision>
  <revision rev="20" vrev="1">
    <srcmd5>497616d279794394ea4429ee8e096fb4</srcmd5>
    <version>2.3.7.2</version>
    <time>1567092483</time>
    <user>dimstar_suse</user>
    <comment>- update to 2.3.7.2
  * CVE-2019-11500: IMAP protocol parser does not properly handle
    NUL byte when scanning data in quoted strings, leading to out
    of bounds heap memory writes. Found by Nick Roessler and Rafi
    Rubin. (boo#1145559)
- update pigeonhole to 0.5.7.2
  * CVE-2019-11500: ManageSieve protocol parser does not properly
    handle NUL byte when scanning data in quoted strings, leading
    to out of bounds heap memory writes. Found by Nick Roessler and
    Rafi Rubin. (boo#1145559)
- refreshed patches to apply cleanly again:
  dovecot-2.3.0-better_ssl_defaults.patch
  dovecot-2.3.0-dont_use_etc_ssl_certs.patch</comment>
    <requestid>726988</requestid>
  </revision>
</revisionlist>
