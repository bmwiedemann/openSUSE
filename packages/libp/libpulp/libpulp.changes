-------------------------------------------------------------------
Mon Oct 23 16:17:27 UTC 2023 - Giuliano Belinassi <gbelinassi@suse.de>

- Update package with libpulp-0.3.1:
  * Add timestamp information on `ulp patches`.

-------------------------------------------------------------------
Tue Jun 27 14:23:33 UTC 2023 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.3.0:
  * Add support for processes with blocked mprotect (process launched by
    systemd, for example) (bsc#1210224, jsc#PED-2877).
  * Add support for processes which chroots into /proc.
  * Supports livepathcing all processes in SLE.

-------------------------------------------------------------------
Fri Jun 16 14:45:03 UTC 2023 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.11:
  * Avoid warning on symbol read of processes which user do not have access.
  * Fix a bug in livepatch installation counting.
  * Fix a warning message of library not loaded when reverting all patches when
    the library is loaded.
  * Fix a crash when `patches` is called with invalid PID.
  * Enable batch processing for patching a single process via PID.

-------------------------------------------------------------------
Thu Apr 13 21:47:06 UTC 2023 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.10:
  * Fix typo which makes write_bytes fallback to ptrace mode when vm_writev is
    available.
  * Detect when mprotect is blocked by seccomp (process launched by systemd,
    for example) and disable livepatching in the process (bsc#1210224,
    jsc#PED-2877).

-------------------------------------------------------------------
Thu Mar  9 19:24:46 UTC 2023 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.9:
  * Add mechanism to enable or disable livepatching based or environment variables
    and in the new command `ulp set_patchable` (jsc#PED-2877).
  * Change `patch already applied` message from error to skipped.

-------------------------------------------------------------------
Thu Feb 23 21:24:45 UTC 2023 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.8:
   * Minor code refactoring.
   * Fixed a bug where libpulp rejected correct ELF files as library input.
   * Fixed a file descriptor leak when -check-stack is passed to ulp.
   * Fixed a bug where ulp did not shown libcrypto.so.1.1 as a livepatchable library (bsc#1208575)

-------------------------------------------------------------------
Mon Jan  2 19:53:55 UTC 2023 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.7:
   * Add support to library to JSON library dumps, Removing any requirement of
     adding the original library .so file into the livepatch build tarball.
   * Update the ulp post hook script for transactional systems (jsc#PED-1078).
   * Add `setup_package.sh` as part of libpulp tools.

-------------------------------------------------------------------
Thu Nov 10 18:00:41 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.6
  * Add new `-R` option to specify a prefix root for livepatches
    (jsc#PED-1078).

-------------------------------------------------------------------
Wed Aug 18 12:23:31 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.5.
  * Fix ulp tool not patching on highly stressed environments. The reason behind
    it is that a 10s timeout was not enough depending of how stressed the
    machine is. Worse cases when libpulp is running in a VM (bsc#1200316).
  * Fix HANA testcase failures (bsc#1200129).
  * Add support for searching for patches recursively. Previous versions only
    searched on the path specified, ignoring subdirectories.
  * Improve patching performance. Previous version took up to 20s ~ 25s to
    patch 4000 processes. This version reduces this time to 6s. The way this
    is done is reducing ptrace calls and switching to process_vm_readv/writev
    when possible, and moving process discovery to a different thread.

-------------------------------------------------------------------
Fri Jun 24 20:10:22 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Fix ulp tool not patching on high process count (bsc#1200316).
- Implement a timeout feature in case of deadlocks.

-------------------------------------------------------------------
Thu Jun 23 00:03:18 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Fix ulp tool crashing on high process count (bsc#1200316).
- Avoid parsing /proc/<pid>/comm when not needed.

-------------------------------------------------------------------
Mon Jun 13 19:15:37 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.4.
- Fix dlsym interposition changing program behaviour (bsc#1200129)
- Fix free call of mmap'ed buffers (bsc#1200129)
- Fix error message when user has no permission to open livepatch.

-------------------------------------------------------------------
Thu May 12 14:53:49 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.3 (jsc#SLE-20049).
- Add support for endbr64 instructions on function beginning.
- Fix use-after-free bug.
- Fix compilation in Tumbleweed.

-------------------------------------------------------------------
Mon May  2 14:56:48 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.2 (jsc#SLE-20049).
- Use colored output by default (disable with --color=no)
- Packer now reports errors in .dsc in a GCC 5+ fashion.
- Trigger now has a summarized mode (disable with -v)

-------------------------------------------------------------------
Tue Apr 12 19:27:29 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.1 (jsc#SLE-20049).
- Fix base address load of non-library variables in target process.
- Dump references information on `ulp dump`.

-------------------------------------------------------------------
Wed Mar 30 18:54:12 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.2.0 (jsc#SLE-20049).
- Embed metadata (.ulp) into livepatch container (.so).

-------------------------------------------------------------------
Fri Mar 25 13:58:11 UTC 2022 - Libor Pechacek <lpechacek@suse.com>

- Add patch build macros and deployment scripts. (jsc#SLE-20049)

-------------------------------------------------------------------
Tue Feb 22 18:03:18 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with libpulp-0.1.1 (jsc#SLE-20049).
- Add new command `ulp livepatchable` to check if a library is livepatchable.

-------------------------------------------------------------------
Wed Feb 16 13:50:17 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with newest libpulp features (jsc#SLE-20049).
- Fix a bug which causes the ulp tool to fail if itself was loaded with libpulp.

-------------------------------------------------------------------
Fri Jan 28 15:33:12 UTC 2022 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update package with newest libpulp features (jsc#SLE-20049).
- Fix --revert-all when no wildcards are provided.
- Fix batch processing of .rev files.
- Disable lto when building libpulp.

-------------------------------------------------------------------
Fri Nov 12 15:39:24 UTC 2021 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update libpulp with ulp_apply in trigger.

-------------------------------------------------------------------
Fri Oct 22 19:41:03 UTC 2021 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Remove gcc9 as build requirement.

-------------------------------------------------------------------
Tue Oct 12 14:59:28 UTC 2021 - Libor Pechacek <lpechacek@suse.com>

- Add libpulp.rpmlintrc to the sources. (jsc#SLE-20049)
- Refresh the .spec file with spec-cleaner.

-------------------------------------------------------------------
Tue Oct  5 18:11:08 UTC 2021 - Giuliano Belinassi <giuliano.belinassi@suse.com>

- Update libpulp .tar.gz package.

-------------------------------------------------------------------
Mon Sep 27 18:54:11 UTC 2021 - Giuliano Belinassi <gbelinassi@suse.de>

- Update libpulp .tar.gz package.
- Remove gcc9-PIE from libpulp.spec, as it is not provided anymore.

-------------------------------------------------------------------
Mon Feb  3 16:58:33 UTC 2020 - Gabriel F. T. Gomes <gagomes@suse.de>

- Initial package.
