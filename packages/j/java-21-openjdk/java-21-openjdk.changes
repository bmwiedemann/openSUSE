-------------------------------------------------------------------
Sun Sep 28 11:05:40 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- Refresh the config.sub and config.guess files

-------------------------------------------------------------------
Tue Jul 29 07:03:50 UTC 2025 - Andreas Schwab <schwab@suse.de>

- jdk-8354941.patch: JDK-8354941: Build failure with glibc 2.42 due
  to uabs() name collision

-------------------------------------------------------------------
Mon Jul 21 10:59:48 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- Do not embed rebuild counter (bsc#1246806)

-------------------------------------------------------------------
Fri Jul 18 05:55:27 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- Update to upstream tag jdk-21.0.8+9 (July 2025 CPU)
  * CVEs
    + CVE-2025-30749, bsc#1246595
    + CVE-2025-30754, bsc#1246598
    + CVE-2025-50059, bsc#1246575
    + CVE-2025-50106, bsc#1246584
  * Changes
    + JDK-6956385: URLConnection.getLastModified() leaks file
      handles for jar:file and file: URLs
    + JDK-8051591: Test
      javax/swing/JTabbedPane/8007563/Test8007563.java fails
    + JDK-8136895: Writer not closed with disk full error, file
      resource leaked
    + JDK-8180450: secondary_super_cache does not scale well
    + JDK-8183348: Better cleanup for
      jdk/test/sun/security/pkcs12/P12SecretKey.java
    + JDK-8200566: DistributionPointFetcher fails to fetch CRLs if
      the DistributionPoints field contains more than one
      DistributionPoint and the first one fails
    + JDK-8202100: Merge vm/share/InMemoryJavaCompiler w/
      jdk/test/lib/compiler/InMemoryJavaCompiler
    + JDK-8210471: GZIPInputStream constructor could leak an
      un-end()ed Inflater
    + JDK-8211400: nsk.share.gc.Memory::getArrayLength returns
      wrong value
    + JDK-8220213: com/sun/jndi/dns/ConfigTests/Timeout.java
      failed intermittent
    + JDK-8249831: Test sun/security/mscapi/nonUniqueAliases/
      /NonUniqueAliases.java is marked with @ignore
    + JDK-8253440: serviceability/sa/TestJhsdbJstackLineNumbers.java
      failed with "Didn't find enough line numbers"
    + JDK-8256211: assert fired in
      java/net/httpclient/DependentPromiseActionsTest (infrequent)
    + JDK-8258483: [TESTBUG] gtest
      CollectorPolicy.young_scaled_initial_ergo_vm fails if heap is
      too small
    + JDK-8267174: Many test files have the wrong Copyright header
    + JDK-8270269: Desktop.browse method fails if earlier
      CoInitialize call as COINIT_MULTITHREADED
    + JDK-8276995: Bug in jdk.jfr.event.gc.collection.TestSystemGC
    + JDK-8279016: JFR Leak Profiler is broken with Shenandoah
    + JDK-8280991: [XWayland] No displayChanged event after
      setDisplayMode call
    + JDK-8281511: java/net/ipv6tests/UdpTest.java fails with
      checkTime failed
    + JDK-8282726: java/net/vthread/BlockingSocketOps.java
      timeout/hang intermittently on Windows
    + JDK-8286204: [Accessibility,macOS,VoiceOver] VoiceOver reads
      the spinner value 10 as 1 when user iterates to 10 for the
      first time on macOS
    + JDK-8286789: Test forceEarlyReturn002.java timed out
    + JDK-8286875: ProgrammableUpcallHandler::on_entry/on_exit
      access thread fields from native
    + JDK-8294155: Exception thrown before awaitAndCheck hangs
      PassFailJFrame
    + JDK-8295804: javax/swing/JFileChooser/
      /JFileChooserSetLocationTest.java failed with "setLocation()
      is not working properly"
    + JDK-8297692: Avoid sending per-region GCPhaseParallel JFR
      events in G1ScanCollectionSetRegionClosure
    + JDK-8303770: Remove Baltimore root certificate expiring in
      May 2025
    + JDK-8305010: Test vmTestbase/nsk/jvmti/scenarios/sampling/
      /SP05/sp05t003/TestDescription.java timed out: thread not
      suspended
    + JDK-8307318: Test serviceability/sa/
      /ClhsdbCDSJstackPrintAll.java failed:
      ArrayIndexOutOfBoundsException
    + JDK-8307824: Clean up Finalizable.java and finalize
      terminology in vmTestbase/nsk/share
    + JDK-8308033: The jcmd thread dump related tests should test
      virtual threads
    + JDK-8308966: Add intrinsic for float/double modulo for x86
      AVX2 and AVX512
    + JDK-8309667: TLS handshake fails because of
      ConcurrentModificationException in PKCS12KeyStore
      .engineGetEntry
    + JDK-8309841: Jarsigner should print a warning if an entry is
      removed
    + JDK-8309978: [x64] Fix useless padding
    + JDK-8310066: Improve test coverage for JVMTI GetThreadState
      on carrier and mounted vthread
    + JDK-8310525: DynamicLauncher for JDP test needs to try
      harder to find a free port
    + JDK-8310643: Misformatted copyright messages in FFM
    + JDK-8312246: NPE when HSDB visits bad oop
    + JDK-8312475: org.jline.util.PumpReader signed byte problem
    + JDK-8313290: Misleading exception message from
      STS.Subtask::get when task forked after shutdown
    + JDK-8313430: [JVMCI] fatal error: Never compilable: in JVMCI
      shutdown
    + JDK-8313654: Test WaitNotifySuspendedVThreadTest.java timed
      out
    + JDK-8314056: Remove runtime platform check from frem/drem
    + JDK-8314136: Test java/net/httpclient/CancelRequestTest.java
      failed: WARNING: tracker for HttpClientImpl(42) has
      outstanding operations
    + JDK-8314236: Overflow in Collections.rotate
    + JDK-8314319: LogCompilation doesn't reset lateInlining when
      it encounters a failure.
    + JDK-8314840: 3 gc/epsilon tests ignore external vm options
    + JDK-8314842: zgc/genzgc tests ignore vm flags
    + JDK-8315128: jdk/jfr/event/runtime/
      /TestResidentSetSizeEvent.java fails with "The size should be
      less than or equal to peak"
    + JDK-8315484: java/awt/dnd/RejectDragDropActionTest.java
      timed out
    + JDK-8315669: Open source several Swing PopupMenu related
      tests
    + JDK-8315742: Open source several Swing Scroll related tests
    + JDK-8315827: Kitchensink.java and RenaissanceStressTest.java
      time out with jvmti module errors
    + JDK-8315871: Opensource five more Swing regression tests
    + JDK-8315876: Open source several Swing CSS related tests
    + JDK-8315951: Open source several Swing HTMLEditorKit related
      tests
    + JDK-8315981: Opensource five more random Swing tests
    + JDK-8316061: Open source several Swing RootPane and Slider
      related tests
    + JDK-8316324: Opensource five miscellaneous Swing tests
    + JDK-8316388: Opensource five Swing component related
      regression tests
    + JDK-8316452: java/lang/instrument/modules/
      /AppendToClassPathModuleTest.java ignores VM flags
    + JDK-8316497: ColorConvertOp - typo for non-ICC conversions
      needs one-line fix
    + JDK-8316580: HttpClient with StructuredTaskScope does not
      close when a task fails
    + JDK-8316629: j.text.DateFormatSymbols setZoneStrings()
      exception is unhelpful
    + JDK-8317264: Pattern.Bound has `static` fields that should
      be `static final`.
    + JDK-8318509: x86 count_positives intrinsic broken for
      -XX:AVX3Threshold=0
    + JDK-8318636: Add jcmd to print annotated process memory map
    + JDK-8318700: MacOS Zero cannot run gtests due to wrong JVM
      path
    + JDK-8318811: Compiler directives parser swallows a character
      after line comments
    + JDK-8318915: Enhance checks in BigDecimal.toPlainString()
    + JDK-8319439: Move BufferNode from PtrQueue files to new files
    + JDK-8319572: Test jdk/incubator/vector/LoadJsvmlTest.java
      ignores VM flags
    + JDK-8319690: [AArch64] C2 compilation hits
      offset_ok_for_immed: assert "c2 compiler bug"
    + JDK-8320687: sun.jvmstat.monitor.MonitoredHost
      .getMonitoredHost() throws unexpected exceptions when invoked
      concurrently
    + JDK-8320948: NPE due to unreported compiler error
    + JDK-8321204: C2: assert(false) failed: node should be in
      igvn hash table
    + JDK-8321479: java -D-D crashes
    + JDK-8321931: memory_swap_current_in_bytes reports 0 as
      "unlimited"
    + JDK-8322141: SequenceInputStream.transferTo should not
      return as soon as Long.MAX_VALUE bytes have been transferred
    + JDK-8322475: Extend printing for System.map
    + JDK-8323795: jcmd Compiler.codecache should print total size
      of code cache
    + JDK-8324345: Stack overflow during C2 compilation when
      splitting memory phi
    + JDK-8324678: Replace NULL with nullptr in HotSpot gtests
    + JDK-8324681: Replace NULL with nullptr in HotSpot jtreg test
      native code files
    + JDK-8324799: Use correct extension for C++ test headers
    + JDK-8324880: Rename get_stack_trace.h
    + JDK-8325055: Rename Injector.h
    + JDK-8325180: Rename jvmti_FollowRefObjects.h
    + JDK-8325347: Rename native_thread.h
    + JDK-8325367: Rename nsk_list.h
    + JDK-8325435: [macos] Menu or JPopupMenu not closed when main
      window is resized
    + JDK-8325456: Rename nsk_mutex.h
    + JDK-8325458: Rename mlvmJvmtiUtils.h
    + JDK-8325680: Uninitialised memory in deleteGSSCB of
      GSSLibStub.c:179
    + JDK-8325682: Rename nsk_strace.h
    + JDK-8325910: Rename jnihelper.h
    + JDK-8326090: Rename jvmti_aod.h
    + JDK-8326389: [test] improve assertEquals failure output
    + JDK-8326524: Rename agent_common.h
    + JDK-8326586: Improve Speed of System.map
    + JDK-8327071: [Testbug] g-tests for cgroup leave files in
      /tmp on linux
    + JDK-8327169: serviceability/dcmd/vm/SystemMapTest.java and
      SystemDumpMapTest.java may fail after JDK-8326586
    + JDK-8327370: (ch) sun.nio.ch.Poller.register throws
      AssertionError
    + JDK-8327461: KeyStore getEntry is not thread-safe
    + JDK-8328107: Shenandoah/C2: TestVerifyLoopOptimizations test
      failure
    + JDK-8328301: Convert Applet test
      ManualHTMLDataFlavorTest.java to main program
    + JDK-8328482: Convert and Open source few manual applet test
      to main based
    + JDK-8328484: Convert and Opensource few JFileChooser applet
      test to main
    + JDK-8328648: Remove applet usage from JFileChooser tests
      bug4150029
    + JDK-8328670: Automate and open source few closed manual
      applet test
    + JDK-8328673: Convert closed text/html/CSS manual applet test
      to main
    + JDK-8328864: NullPointerException in
      sun.security.jca.ProviderList.getService()
    + JDK-8329261: G1: interpreter post-barrier x86 code asserts
      index size of wrong buffer
    + JDK-8329729:
      java/util/Properties/StoreReproducibilityTest.java times out
    + JDK-8330106: C2: VectorInsertNode::make() shouldn't call
      ConINode::make() directly
    + JDK-8330158: C2: Loop strip mining uses ABS with min int
    + JDK-8330534: Update nsk/jdwp tests to use driver instead of
      othervm
    + JDK-8330598: java/net/httpclient/Http1ChunkedTest.java fails
      with java.util.MissingFormatArgumentException: Format
      specifier '%s'
    + JDK-8330936: [ubsan] exclude function BilinearInterp and
      ShapeSINextSpan in libawt java2d from ubsan checks
    + JDK-8331088: Incorrect TraceLoopPredicate output
    + JDK-8331735: UpcallLinker::on_exit races with GC when
      copying frame anchor
    + JDK-8332252: Clean up vmTestbase/vm/share
    + JDK-8332506: SIGFPE In
      ObjectSynchronizer::is_async_deflation_needed()
    + JDK-8332631: Update nsk.share.jpda.BindServer to don't use
      finalization
    + JDK-8332641: Update nsk.share.jpda.Jdb to don't use
      finalization
    + JDK-8332880: JFR GCHelper class recognizes "Archive" regions
      as valid
    + JDK-8332921: Ctrl+C does not call shutdown hooks after JLine
      upgrade
    + JDK-8333013: Update vmTestbase/nsk/share/LocalProcess.java
      to don't use finalization
    + JDK-8333117: Remove support of remote and manual debuggee
      launchers
    + JDK-8333680: com/sun/tools/attach/BasicTests.java fails with
      "SocketException: Permission denied: connect"
    + JDK-8333805: Replaying compilation with null static final
      fields results in a crash
    + JDK-8333890: Fatal error in auto-vectorizer with float16
      kernel.
    + JDK-8334644: Automate
      javax/print/attribute/PageRangesException.java
    + JDK-8334780: Crash: assert(h_array_list.not_null()) failed:
      invariant
    + JDK-8334895: OpenJDK fails to configure on linux aarch64
      when CDS is disabled after JDK-8331942
    + JDK-8335181: Incorrect handling of HTTP/2 GOAWAY frames in
      HttpClient
    + JDK-8335643: serviceability/dcmd/vm tests fail for ZGC after
      JDK-8322475
    + JDK-8335662: [AArch64] C1: guarantee(val < (1ULL << nbits))
      failed: Field too big for insn
    + JDK-8335684: Test ThreadCpuTime.java should pause like
      ThreadCpuTimeArray.java
    + JDK-8335710: serviceability/dcmd/vm/SystemDumpMapTest.java
      and SystemMapTest.java fail on Linux Alpine after 8322475
    + JDK-8335836: serviceability/jvmti/StartPhase/AllowedFunctions/
      /AllowedFunctions.java fails with unexpected exit code: 112
    + JDK-8335860: compiler/vectorization/
      /TestFloat16VectorConvChain.java fails with non-standard
      AVX/SSE settings
    + JDK-8336042: Caller/callee param size mismatch in
      deoptimization causes crash
    + JDK-8336499: Failure when creating non-CRT RSA private keys
      in SunPKCS11
    + JDK-8336587: failure_handler lldb command times out on
      macosx-aarch64 core file
    + JDK-8336827: compiler/vectorization/
      /TestFloat16VectorConvChain.java timeouts on ppc64 platforms
      after JDK-8335860
    + JDK-8337221: CompileFramework: test library to conveniently
      compile java and jasm sources for fuzzing
    + JDK-8337299: vmTestbase/nsk/jdb/stop_at/stop_at002/
      /stop_at002.java failure goes undetected
    + JDK-8337681: PNGImageWriter uses much more memory than
      necessary
    + JDK-8337795: Type annotation attached to incorrect type
      during class reading
    + JDK-8337958: Out-of-bounds array access in
      secondary_super_cache
    + JDK-8337981: ShenandoahHeap::is_in should check for alive
      regions
    + JDK-8337998: CompletionFailure in getEnclosingType attaching
      type annotations
    + JDK-8338010: WB_IsFrameDeoptimized miss ResourceMark
    + JDK-8338064: Give better error for ConcurrentHashTable
      corruption
    + JDK-8338136: Hotspot should support multiple large page
      sizes on Windows
    + JDK-8338154: Fix -Wzero-as-null-pointer-constant warnings in
      gtest framework
    + JDK-8338202: Shenandoah: Improve handshake closure labels
    + JDK-8338314: JFR: Split JFRCheckpoint VM operation
    + JDK-8339148: Make os::Linux::active_processor_count() public
    + JDK-8339288: Improve diagnostic logging
      runtime/cds/DeterministicDump.java
    + JDK-8339300: CollectorPolicy.young_scaled_initial_ergo_vm
      gtest fails on ppc64 based platforms
    + JDK-8339538: Wrong timeout computations in DnsClient
    + JDK-8339639: Opensource few AWT PopupMenu tests
    + JDK-8339678: Update runtime/condy tests to be executed with
      VM flags
    + JDK-8339727: Open source several AWT focus tests - series 1
    + JDK-8339769: Incorrect error message during startup if
      working directory does not exist
    + JDK-8339794: Open source closed choice tests #1
    + JDK-8339810: Clean up the code in sun.tools.jar.Main to
      properly close resources and use ZipFile during extract
    + JDK-8339836: Open source several AWT Mouse tests - Batch 1
    + JDK-8339842: Open source several AWT focus tests - series 2
    + JDK-8339895: Open source several AWT focus tests - series 3
    + JDK-8339906: Open source several AWT focus tests - series 4
    + JDK-8339935: Open source several AWT focus tests - series 5
    + JDK-8339982: Open source several AWT Mouse tests - Batch 2
    + JDK-8339984: Open source AWT MenuItem related tests
    + JDK-8339995: Open source several AWT focus tests - series 6
    + JDK-8340024: In ClassReader, extract a constant for the
      superclass supertype_index
    + JDK-8340077: Open source few Checkbox tests - Set2
    + JDK-8340084: Open source AWT Frame related tests
    + JDK-8340143: Open source several Java2D rendering loop tests.
    + JDK-8340146: ZGC: TestAllocateHeapAt.java should not run
      with UseLargePages
    + JDK-8340164: Open source few Component tests - Set1
    + JDK-8340173: Open source some Component/Panel/EventQueue
      tests - Set2
    + JDK-8340176: Replace usage of -noclassgc with -Xnoclassgc in
      test/jdk/java/lang/management/MemoryMXBean/LowMemoryTest2.java
    + JDK-8340193: Open source several AWT Dialog tests - Batch 1
    + JDK-8340228: Open source couple more miscellaneous AWT tests
    + JDK-8340271: Open source several AWT Robot tests
    + JDK-8340279: Open source several AWT Dialog tests - Batch 2
    + JDK-8340332: Open source mixed AWT tests - Set3
    + JDK-8340366: Open source several AWT Dialog tests - Batch 3
    + JDK-8340367: Opensource few AWT image tests
    + JDK-8340393: Open source closed choice tests #2
    + JDK-8340407: Open source a few more Component related tests
    + JDK-8340417: Open source some MenuBar tests - Set1
    + JDK-8340432: Open source some MenuBar tests - Set2
    + JDK-8340433: Open source closed choice tests #3
    + JDK-8340437: Open source few more AWT Frame related tests
    + JDK-8340458: Open source additional Component tests (part 2)
    + JDK-8340555: Open source DnD tests - Set4
    + JDK-8340560: Open Source several AWT/2D font and rendering
      tests
    + JDK-8340605: Open source several AWT PopupMenu tests
    + JDK-8340621: Open source several AWT List tests
    + JDK-8340625: Open source additional Component tests (part 3)
    + JDK-8340639: Open source few more AWT List tests
    + JDK-8340713: Open source DnD tests - Set5
    + JDK-8340784: Remove PassFailJFrame constructor with
      screenshots
    + JDK-8340790: Open source several AWT Dialog tests - Batch 4
    + JDK-8340809: Open source few more AWT PopupMenu tests
    + JDK-8340874: Open source some of the AWT Geometry/Button
      tests
    + JDK-8340907: Open source closed frame tests # 2
    + JDK-8340966: Open source few Checkbox and Cursor tests - Set1
    + JDK-8340967: Open source few Cursor tests - Set2
    + JDK-8340978: Open source few DnD tests - Set6
    + JDK-8340985: Open source some Desktop related tests
    + JDK-8341000: Open source some of the AWT Window tests
    + JDK-8341004: Open source AWT FileDialog related tests
    + JDK-8341072: Open source several AWT Canvas and Rectangle
      related tests
    + JDK-8341128: open source some 2d graphics tests
    + JDK-8341148: Open source several Choice related tests
    + JDK-8341162: Open source some of the AWT window test
    + JDK-8341170: Open source several Choice related tests (part 2)
    + JDK-8341177: Opensource few List and a Window test
    + JDK-8341191: Open source few more AWT FileDialog tests
    + JDK-8341239: Open source closed frame tests # 3
    + JDK-8341257: Open source few DND tests - Set1
    + JDK-8341258: Open source few various AWT tests - Set1
    + JDK-8341278: Open source few TrayIcon tests - Set7
    + JDK-8341298: Open source more AWT window tests
    + JDK-8341373: Open source closed frame tests # 4
    + JDK-8341378: Open source few TrayIcon tests - Set8
    + JDK-8341447: Open source closed frame tests # 5
    + JDK-8341535: sun/awt/font/TestDevTransform.java fails with
      RuntimeException: Different rendering
    + JDK-8341637: java/net/Socket/UdpSocket.java fails with
      "java.net.BindException: Address already in use"
      (macos-aarch64)
    + JDK-8341779: [REDO BACKPORT] type annotations are not
      visible to javac plugins across compilation boundaries
      (JDK-8225377)
    + JDK-8341972: java/awt/dnd/DnDRemoveFocusOwnerCrashTest.java
      timed out after JDK-8341257
    + JDK-8342075: HttpClient: improve HTTP/2 flow control checks
    + JDK-8342376: More reliable OOM handling in
      ExceptionDuringDumpAtObjectsInitPhase test
    + JDK-8342524: Use latch in AbstractButton/bug6298940.java
      instead of delay
    + JDK-8342633: javax/management/security/
      /HashedPasswordFileTest.java creates tmp file in src dir
    + JDK-8342958: Use jvmArgs consistently in microbenchmarks
    + JDK-8343019: Primitive caches must use boxed instances from
      the archive
    + JDK-8343037: Missing @since tag on JColorChooser.showDialog
      overload
    + JDK-8343103: Enable debug logging for vmTestbase/nsk/jvmti/
      /scenarios/sampling/SP05/sp05t003/TestDescription.java
    + JDK-8343124: Tests fails with java.lang.IllegalAccessException:
      class com.sun.javatest.regtest.agent.MainWrapper$MainTask
      cannot access
    + JDK-8343144: UpcallLinker::on_entry racingly clears pending
      exception with GC safepoints
    + JDK-8343170: java/awt/Cursor/JPanelCursorTest/
      /JPanelCursorTest.java does not show the default cursor
    + JDK-8343224: print/Dialog/PaperSizeError.java fails with
      MediaSizeName is not A4: A4
    + JDK-8343342: java/io/File/GetXSpace.java fails on Windows
      with CD-ROM drive
    + JDK-8343345: Use -jvmArgsPrepend when running
      microbenchmarks in RunTests.gmk
    + JDK-8343529: serviceability/sa/ClhsdbWhere.java fails
      AssertionFailure: Corrupted constant pool
    + JDK-8343754: Problemlist
      jdk/jfr/event/oldobject/TestShenandoah.java after JDK-8279016
    + JDK-8343855: HTTP/2 ConnectionWindowUpdateSender may miss
      some unprocessed DataFrames from closed streams
    + JDK-8343891: Test javax/swing/JTabbedPane/
      /TestJTabbedPaneBackgroundColor.java failed
    + JDK-8343936: Adjust timeout in test
      javax/management/monitor/DerivedGaugeMonitorTest.java
    + JDK-8344316: security/auth/callback/TextCallbackHandler/
      /Password.java make runnable with JTReg and add the UI
    + JDK-8344346: java/net/httpclient/ShutdownNow.java fails with
      java.lang.AssertionError: client was still running, but exited
      after further delay: timeout should be adjusted
    + JDK-8344361: Restore null return for invalid services from
      legacy providers
    + JDK-8344414: ZGC: Another division by zero in
      rule_major_allocation_rate
    + JDK-8344925: translet-name ignored when package-name is also
      set
    + JDK-8345133: Test sun/security/tools/jarsigner/
      /TsacertOptionTest.java failed: Warning found in stdout
    + JDK-8345134: Test sun/security/tools/jarsigner/
      /ConciseJarsigner.java failed: unable to find valid
      certification path to requested target
    + JDK-8345146: [PPC64] Make intrinsic conversions between bit
      representations of half precision values and floats
    + JDK-8345341: Fix incorrect log message in JDI stop002t test
    + JDK-8345357: test/jdk/javax/swing/JRadioButton/8033699/
      /bug8033699.java fails in ubuntu22.04
    + JDK-8345447: test/jdk/javax/swing/JToolBar/4529206/
      /bug4529206.java fails in ubuntu22.04
    + JDK-8345547: test/jdk/javax/swing/text/DefaultEditorKit/
      /4278839/bug4278839.java fails in ubuntu22.04
    + JDK-8345598: Upgrade NSS binaries for interop tests
    + JDK-8345625: Better HTTP connections
    + JDK-8345728: [Accessibility,macOS,Screen Magnifier]:
      JCheckbox unchecked state does not magnify but works for
      checked state
    + JDK-8345838: Remove the
      appcds/javaldr/AnonVmClassesDuringDump.java test
    + JDK-8346049: jdk/test/lib/security/timestamp/TsaServer.java
      warnings
    + JDK-8346082: Output JVMTI agent information in hserr files
    + JDK-8346264: "Total compile time" counter should include
      time spent in failing/bailout compiles
    + JDK-8346581: JRadioButton/ButtonGroupFocusTest.java fails in
      CI on Linux
    + JDK-8346888: [ubsan] block.cpp:1617:30: runtime error:
      9.97582e+36 is outside the range of representable values of
      type 'int'
    + JDK-8347000: Bug in
      com/sun/net/httpserver/bugs/B6361557.java test
    + JDK-8347019: Test javax/swing/JRadioButton/8033699/
      /bug8033699.java  still fails: Focus is not on Radio Button
      Single as Expected
    + JDK-8347083: Incomplete logging in nsk/jvmti/
      /ResourceExhausted/resexhausted00* tests
    + JDK-8347126: gc/stress/TestStressG1Uncommit.java gets
      OOM-killed
    + JDK-8347173: java/net/DatagramSocket/
      /InterruptibleDatagramSocket.java fails with virtual thread
      factory
    + JDK-8347286: (fs) Remove some extensions from
      java/nio/file/Files/probeContentType/Basic.java
    + JDK-8347296: WinInstallerUiTest fails in local test runs if
      the path to test work directory is longer that regular
    + JDK-8347373: HTTP/2 flow control checks may count
      unprocessed data twice
    + JDK-8347506: Compatible OCSP readtimeout property with OCSP
      timeout
    + JDK-8347596: Update HSS/LMS public key encoding
    + JDK-8347629: Test FailOverDirectExecutionControlTest.java
      fails with -Xcomp
    + JDK-8347995: Race condition in jdk/java/net/httpclient/
      /offline/FixedResponseHttpClient.java
    + JDK-8348107: test/jdk/java/net/httpclient/
      /HttpsTunnelAuthTest.java fails intermittently
    + JDK-8348110: Update LCMS to 2.17
    + JDK-8348299: Update List/ItemEventTest/ItemEventTest.java
    + JDK-8348323: Corrupted timezone string in JVM crash log
    + JDK-8348596: Update FreeType to 2.13.3
    + JDK-8348597: Update HarfBuzz to 10.4.0
    + JDK-8348598: Update Libpng to 1.6.47
    + JDK-8348600: Update PipeWire to 1.3.81
    + JDK-8348865: JButton/bug4796987.java never runs because
      Windows XP is unavailable
    + JDK-8348936: [Accessibility,macOS,VoiceOver] VoiceOver
      doesn't announce untick on toggling the checkbox with "space"
      key on macOS
    + JDK-8348989: Better Glyph drawing
    + JDK-8349111: Enhance Swing supports
    + JDK-8349200: [JMH]
      time.format.ZonedDateTimeFormatterBenchmark fails
    + JDK-8349348: Refactor ClassLoaderDeadlock.sh and Deadlock.sh
      to run fully in java
    + JDK-8349358: [JMH] Cannot access class
      jdk.internal.vm.ContinuationScope
    + JDK-8349492: Update sun/security/pkcs12/
      /KeytoolOpensslInteropTest.java to use a recent Openssl
      version
    + JDK-8349501: Relocate supporting classes in
      security/testlibrary to test/lib/jdk tree
    + JDK-8349594: Enhance TLS protocol support
    + JDK-8349623: [ASAN] Gtest os_linux.glibc_mallinfo_wrapper_vm
      fails
    + JDK-8349637: Integer.numberOfLeadingZeros outputs
      incorrectly in certain cases
    + JDK-8349751: AIX build failure after upgrade pipewire to
      1.3.81
    + JDK-8350201: Out of bounds access on Linux aarch64 in
      os::print_register_info
    + JDK-8350211: CTW: Attempt to preload all classes in constant
      pool
    + JDK-8350224: Test javax/swing/JComboBox/
      /TestComboBoxComponentRendering.java fails in ubuntu 23.x and
      later
    + JDK-8350260: Improve HTML instruction formatting in
      PassFailJFrame
    + JDK-8350313: Include timings for leaving safepoint in
      safepoint logging
    + JDK-8350383: Test: add more test case for string compare (UL
      case)
    + JDK-8350386: Test TestCodeCacheFull.java fails with option
      -XX:-UseCodeCacheFlushing
    + JDK-8350412: [21u] AArch64: Ambiguous frame layout leads to
      incorrect traces in JFR
    + JDK-8350483: AArch64: turn on signum intrinsics by default
      on Ampere CPUs
    + JDK-8350498: Remove two Camerfirma root CA certificates
    + JDK-8350546: Several java/net/InetAddress tests fails
      UnknownHostException
    + JDK-8350616: Skip ValidateHazardPtrsClosure in non-debug
      builds
    + JDK-8350650: Bump update version for OpenJDK: jdk-21.0.8
    + JDK-8350682: [JMH] vector.IndexInRangeBenchmark failed with
      IndexOutOfBoundsException for size=1024
    + JDK-8350786: Some java/lang jtreg tests miss requires
      vm.hasJFR
    + JDK-8350924: javax/swing/JMenu/4213634/bug4213634.java fails
    + JDK-8350991: Improve HTTP client header handling
    + JDK-8351086: (fc) Make java/nio/channels/FileChannel/
      /BlockDeviceSize.java test manual
    + JDK-8351500: G1: NUMA migrations cause crashes in region
      allocation
    + JDK-8351665: Remove unused UseNUMA in os_aix.cpp
    + JDK-8351933: Inaccurate masking of TC subfield decrement in
      ForkJoinPool
    + JDK-8352076: [21u] Problem list tests that fail in 21 and
      would be fixed by 8309622
    + JDK-8352109: java/awt/Desktop/MailTest.java fails in
      platforms where Action.MAIL is not supported
    + JDK-8352302: Test sun/security/tools/jarsigner/
      /TimestampCheck.java is failing
    + JDK-8352512: TestVectorZeroCount: counter not reset between
      iterations
    + JDK-8352676: Opensource JMenu tests - series1
    + JDK-8352680: Opensource few misc swing tests
    + JDK-8352684: Opensource JInternalFrame tests - series1
    + JDK-8352706: httpclient HeadTest does not run on HTTP2
    + JDK-8352716: (tz) Update Timezone Data to 2025b
    + JDK-8352908: Open source several swing tests batch1
    + JDK-8352942: jdk/jfr/startupargs/TestMemoryOptions.java
      fails with 32-bit build
    + JDK-8353070: Clean up and open source couple AWT Graphics
      related tests (Part 1)
    + JDK-8353138: Screen capture for test
      TaskbarPositionTest.java, failure case
    + JDK-8353190: Use "/native" Run Option for
      TestAvailableProcessors Execution
    + JDK-8353237: [AArch64] Incorrect result of
      VectorizedHashCode intrinsic on Cortex-A53
    + JDK-8353320: Open source more Swing text tests
    + JDK-8353446: Open source several AWT Menu tests - Batch 2
    + JDK-8353475: Open source two Swing DefaultCaret tests
    + JDK-8353685: Open some JComboBox bugs 4
    + JDK-8353709: Debug symbols bundle should contain full debug
      files when building --with-external-symbols-in-bundles=public
    + JDK-8353787: Increased number of SHA-384-Digest
      java.util.jar.Attributes$Name instances leading to higher
      memory footprint
    + JDK-8353942: Open source Swing Tests - Set 5
    + JDK-8354255: [jittester] Remove TempDir debug output
    + JDK-8354530: AIX: sporadic unexpected errno when calling
      setsockopt in Net.joinOrDrop
    + JDK-8354554: Open source several clipboard tests batch1
    + JDK-8354802: MAX_SECS definition is unused in os_linux
    + JDK-8354893: [REDO BACKPORT] javac crashes while adding type
      annotations to the return type of a constructor (JDK-8320001)
    + JDK-8355498: [AIX] Adapt code for C++ VLA rule
    + JDK-8356053: Test java/awt/Toolkit/Headless/
      /HeadlessToolkit.java fails by timeout
    + JDK-8356096: ISO 4217 Amendment 179 Update
    + JDK-8356571: Re-enable -Wtype-limits for GCC in LCMS
    + JDK-8357105: C2: compilation fails with "assert(false)
      failed: empty program detected during loop optimization"
    + JDK-8357193: [VS 2022 17.14] Warning C5287 in debugInit.c:
      enum type mismatch during build
    + JDK-8359170: Add 2 TLS and 2 CS Sectigo roots
    + JDK-8360147: Better Glyph drawing redux
    + JDK-8360406: [21u] Disable logic for attaching type
      annotations to class files until 8359336 is fixed
    + JDK-8361672: [21u] Remove designator
      DEFAULT_PROMOTED_VERSION_PRE=ea for release 21.0.8

-------------------------------------------------------------------
Tue Jul 15 06:41:52 UTC 2025 - Bernhard Wiedemann <bwiedemann@suse.com>

- Add java-40y.patch to allow compilation of openjdk for 40 years (bsc#1213796)

-------------------------------------------------------------------
Thu Apr 24 03:49:17 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- Update to upstream tag jdk-21.0.7+6 (April 2025 CPU)
  * CVEs
    + CVE-2025-21587, bsc#1241274
    + CVE-2025-30691, bsc#1241275
    + CVE-2025-30698, bsc#1241276
  * Changes
    + JDK-8198237: [macos] Test java/awt/Frame/
      /ExceptionOnSetExtendedStateTest/
      /ExceptionOnSetExtendedStateTest.java fails
    + JDK-8211851: (ch) java/nio/channels/AsynchronousSocketChannel/
      /StressLoopback.java times out (aix)
    + JDK-8226933: [TEST_BUG]GTK L&F: There is no swatches or RGB
      tab in JColorChooser
    + JDK-8226938: [TEST_BUG]GTK L&F: There is no Details button in
      FileChooser Dialog
    + JDK-8227529: With malformed --app-image the error messages
      are awful
    + JDK-8277240: java/awt/Graphics2D/ScaledTransform/
      /ScaledTransform.java dialog does not get disposed
    + JDK-8283664: Remove jtreg tag manual=yesno for
      java/awt/print/PrinterJob/PrintTextTest.java
    + JDK-8286875: ProgrammableUpcallHandler::on_entry/on_exit
      access thread fields from native
    + JDK-8293345: SunPKCS11 provider checks on PKCS11 Mechanism
      are problematic
    + JDK-8294316: SA core file support is broken on macosx-x64
      starting with macOS 12.x
    + JDK-8295159: DSO created with -ffast-math breaks Java
      floating-point arithmetic
    + JDK-8302111: Serialization considerations
    + JDK-8304701: Request with timeout aborts later in-flight
      request on HTTP/1.1 cxn
    + JDK-8309841: Jarsigner should print a warning if an entry is
      removed
    + JDK-8311546: Certificate name constraints improperly
      validated with leading period
    + JDK-8312570: [TESTBUG] Jtreg compiler/loopopts/superword/
      /TestDependencyOffsets.java fails on 512-bit SVE
    + JDK-8313633: [macOS] java/awt/dnd/NextDropActionTest/
      /NextDropActionTest.java fails with java.lang.RuntimeException:
      wrong next drop action!
    + JDK-8313905: Checked_cast assert in CDS compare_by_loader
    + JDK-8314752: Use google test string comparison macros
    + JDK-8314909: tools/jpackage/windows/Win8282351Test.java fails
      with java.lang.AssertionError: Expected [0]. Actual [1618]:
    + JDK-8315486: vmTestbase/nsk/jdwp/ThreadReference/
      /ForceEarlyReturn/forceEarlyReturn002/forceEarlyReturn002.java
      timed out
    + JDK-8315825: Open some swing tests
    + JDK-8315882: Open some swing tests 2
    + JDK-8315883: Open source several Swing JToolbar tests
    + JDK-8315952: Open source several Swing JToolbar JTooltip
      JTree tests
    + JDK-8316056: Open source several Swing JTree tests
    + JDK-8316146: Open some swing tests 4
    + JDK-8316149: Open source several Swing JTree JViewport
      KeyboardManager tests
    + JDK-8316218: Open some swing tests 5
    + JDK-8316371: Open some swing tests 6
    + JDK-8316627: JViewport Test headless failure
    + JDK-8316885: jcmd: Compiler.CodeHeap_Analytics cmd does not
      inform about missing aggregate
    + JDK-8317283: jpackage tests run osx-specific checks on
      windows and linux
    + JDK-8317636: Improve heap walking API tests to verify
      correctness of field indexes
    + JDK-8317808: HTTP/2 stream cancelImpl may leave subscriber
      registered
    + JDK-8317919: pthread_attr_init handle return value and
      destroy pthread_attr_t object
    + JDK-8319233: AArch64: Build failure with clang due to
      -Wformat-nonliteral warning
    + JDK-8320372: test/jdk/sun/security/x509/DNSName/
      /LeadingPeriod.java validity check failed
    + JDK-8320676: Manual printer tests have no Pass/Fail buttons,
      instructions close set 1
    + JDK-8320691: Timeout handler on Windows takes 2 hours to
      complete
    + JDK-8320706: RuntimePackageTest.testUsrInstallDir test fails
      on Linux
    + JDK-8320916: jdk/jfr/event/gc/stacktrace/
      /TestParallelMarkSweepAllocationPendingStackTrace.java failed
      with "OutOfMemoryError: GC overhead limit exceeded"
    + JDK-8321818: vmTestbase/nsk/stress/strace/strace015.java
      failed with 'Cannot read the array length because "<local4>"
      is null'
    + JDK-8322983: Virtual Threads: exclude 2 tests
    + JDK-8324672: Update jdk/java/time/tck/java/time/
      /TCKInstant.java now() to be more robust
    + JDK-8324807: Manual printer tests have no Pass/Fail buttons,
      instructions close set 2
    + JDK-8324838: test_nmt_locationprinting.cpp broken in the gcc
      windows build
    + JDK-8325042: Remove unused JVMDITools test files
    + JDK-8325529: Remove unused imports from `ModuleGenerator`
      test file
    + JDK-8325659: Normalize Random usage by incubator vector tests
    + JDK-8325937: runtime/handshake/HandshakeDirectTest.java
      causes "monitor end should be strictly below the frame
      pointer" assertion failure on AArch64
    + JDK-8326421: Add jtreg test for large arrayCopy disjoint case.
    + JDK-8326525: com/sun/tools/attach/BasicTests.java does not
      verify AgentLoadException case
    + JDK-8327098: GTest needs larger combination limit
    + JDK-8327390: JitTester: Implement temporary folder
      functionality
    + JDK-8327460: Compile tests with the same visibility rules as
      product code
    + JDK-8327476: Upgrade JLine to 3.26.1
    + JDK-8327505: Test com/sun/jmx/remote/
      /NotificationMarshalVersions/TestSerializationMismatch.java
      fails
    + JDK-8327857: Remove applet usage from JColorChooser tests
      Test4222508
    + JDK-8327859: Remove applet usage from JColorChooser tests
      Test4319113
    + JDK-8327986: ASAN reports use-after-free in
      DirectivesParserTest.empty_object_vm
    + JDK-8327994: Update code gen in CallGeneratorHelper
    + JDK-8328005: Convert java/awt/im/JTextFieldTest.java applet
      test to main
    + JDK-8328085: C2: Use after free in
      PhaseChaitin::Register_Allocate()
    + JDK-8328121: Remove applet usage from JColorChooser tests
      Test4759306
    + JDK-8328130: Remove applet usage from JColorChooser tests
      Test4759934
    + JDK-8328185: Convert java/awt/image/MemoryLeakTest/
      /MemoryLeakTest.java applet test to main
    + JDK-8328227: Remove applet usage from JColorChooser tests
      Test4887836
    + JDK-8328368: Convert java/awt/image/multiresolution/
      /MultiDisplayTest/MultiDisplayTest.java applet test to main
    + JDK-8328370: Convert java/awt/print/Dialog/PrintApplet.java
      applet test to main
    + JDK-8328380: Remove applet usage from JColorChooser tests
      Test6348456
    + JDK-8328387: Convert java/awt/Frame/FrameStateTest/
      /FrameStateTest.html applet test to main
    + JDK-8328403: Remove applet usage from JColorChooser tests
      Test6977726
    + JDK-8328553: Get rid of JApplet in test/jdk/sanity/client/lib/
      /SwingSet2/src/DemoModule.java
    + JDK-8328558: Convert javax/swing/JCheckBox/8032667/
      /bug8032667.java applet test to main
    + JDK-8328717: Convert javax/swing/JColorChooser/8065098/
      /bug8065098.java applet test to main
    + JDK-8328719: Convert java/awt/print/PageFormat/SetOrient.html
      applet test to main
    + JDK-8328730: Convert java/awt/print/bug8023392/bug8023392.html
      applet test to main
    + JDK-8328753: Open source few Undecorated Frame tests
    + JDK-8328819: Remove applet usage from JFileChooser tests
      bug6698013
    + JDK-8328827: Convert java/awt/print/PrinterJob/
      /PrinterDialogsModalityTest/PrinterDialogsModalityTest.html
      applet test to main
    + JDK-8329210: Delete Redundant Printer Dialog Modality Test
    + JDK-8329320: Simplify awt/print/PageFormat/NullPaper.java test
    + JDK-8329322: Convert PageFormat/Orient.java to use
      PassFailJFrame
    + JDK-8329692: Add more details to FrameStateTest.java test
      instructions
    + JDK-8330647: Two CDS tests fail with -UseCompressedOops and
      UseSerialGC/UseParallelGC
    + JDK-8330702: Update failure handler to don't generate Error
      message if cores actions are empty
    + JDK-8331735: UpcallLinker::on_exit races with GC when copying
      frame anchor
    + JDK-8331959: Update PKCS#11 Cryptographic Token Interface to
      v3.1
    + JDK-8331977: Crash: SIGSEGV in dlerror()
    + JDK-8331993: Add counting leading/trailing zero tests for
      Integer
    + JDK-8332158: [XWayland] test/jdk/java/awt/Mouse/
      /EnterExitEvents/ResizingFrameTest.java
    + JDK-8332494: java/util/zip/EntryCount64k.java failing with
      java.lang.RuntimeException: '\\A\\Z' missing from stderr
    + JDK-8332917: failure_handler should execute gdb "info
      threads" command on linux
    + JDK-8333116: test/jdk/tools/jpackage/share/ServiceTest.java
      test fails
    + JDK-8333360: PrintNullString.java doesn't use float arguments
    + JDK-8333391: Test com/sun/jdi/InterruptHangTest.java failed:
      Thread was never interrupted during sleep
    + JDK-8333403: Write a test to check various components events
      are triggered properly
    + JDK-8333647: C2 SuperWord: some additional PopulateIndex tests
    + JDK-8334305: Remove all code for  nsk.share.Log verbose mode
    + JDK-8334371: [AIX] Beginning with AIX 7.3 TL1 mmap() supports
      64K memory pages
    + JDK-8334490: Normalize string with locale invariant
      `toLowerCase()`
    + JDK-8334777: Test javax/management/remote/mandatory/notif/
      /NotifReconnectDeadlockTest.java failed with
      NullPointerException
    + JDK-8335288: SunPKCS11 initialization will call
      C_GetMechanismInfo on unsupported mechanisms
    + JDK-8335468: [XWayland] JavaFX hangs when calling
      java.awt.Robot.getPixelColor
    + JDK-8335789: [TESTBUG] XparColor.java test fails with Error.
      Parse Exception: Invalid or unrecognized bugid: @
    + JDK-8336012: Fix usages of jtreg-reserved properties
    + JDK-8336498: [macos] [build]: install-file macro may run into
      permission denied error
    + JDK-8336692: Redo fix for JDK-8284620
    + JDK-8336942: Improve test coverage for class loading elements
      with annotations of different retentions
    + JDK-8337222: gc/TestDisableExplicitGC.java fails due to
      unexpected CodeCache GC
    + JDK-8337494: Clarify JarInputStream behavior
    + JDK-8337660: C2: basic blocks with only BoxLock nodes are
      wrongly treated as empty
    + JDK-8337692: Better TLS connection support
    + JDK-8337886: java/awt/Frame/MaximizeUndecoratedTest.java
      fails in OEL due to a slight color difference
    + JDK-8337951: Test sun/security/validator/samedn.sh
      CertificateNotYetValidException: NotBefore validation
    + JDK-8337994: [REDO] Native memory leak when not recording any
      events
    + JDK-8338100: C2: assert(!n_loop->is_member(get_loop(lca)))
      failed: control must not be back in the loop
    + JDK-8338303: Linux ppc64le with toolchain clang - detection
      failure in early JVM startup
    + JDK-8338426: Test java/nio/channels/Selector/WakeupNow.java
      failed
    + JDK-8338430: Improve compiler transformations
    + JDK-8338571: [TestBug] DefaultCloseOperation.java test not
      working as expected wrt instruction after JDK-8325851 fix
    + JDK-8338595: Add more linesize for MIME decoder in macro
      bench test Base64Decode
    + JDK-8338668: Test javax/swing/JFileChooser/8080628/
      /bug8080628.java doesn't test for GTK L&F
    + JDK-8339154: Cleanups and JUnit conversion of
      test/jdk/java/util/zip/Available.java
    + JDK-8339261: Logs truncated in test
      javax/net/ssl/DTLS/DTLSRehandshakeTest.java
    + JDK-8339356: Test javax/net/ssl/SSLSocket/Tls13PacketSize.java
      failed with java.net.SocketException: An established
      connection was aborted by the software in your host machine
    + JDK-8339475: Clean up return code handling for pthread calls
      in library coding
    + JDK-8339524: Clean up a few ExtendedRobot tests
    + JDK-8339542: compiler/codecache/CheckSegmentedCodeCache.java
      fails
    + JDK-8339687: Rearrange reachabilityFence()s in
      jdk.test.lib.util.ForceGC
    + JDK-8339728: [Accessibility,Windows,JAWS] Bug in the
      getKeyChar method of the AccessBridge class
    + JDK-8339810: Clean up the code in sun.tools.jar.Main to
      properly close resources and use ZipFile during extract
    + JDK-8339834: Replace usages of -mx and -ms in some tests
    + JDK-8339883: Open source several AWT/2D related tests
    + JDK-8339902: Open source couple TextField related tests
    + JDK-8339943: Frame not disposed in
      java/awt/dnd/DropActionChangeTest.java
    + JDK-8340078: Open source several 2D tests
    + JDK-8340116: test/jdk/sun/security/tools/jarsigner/
      /PreserveRawManifestEntryAndDigest.java can fail due to regex
    + JDK-8340313: Crash due to invalid oop in nmethod after C1
      patching
    + JDK-8340411: open source several 2D imaging tests
    + JDK-8340480: Bad copyright notices in changes from JDK-8339902
    + JDK-8340687: Open source closed frame tests #1
    + JDK-8340719: Open source AWT List tests
    + JDK-8340824: C2: Memory for TypeInterfaces not reclaimed by
      hashcons()
    + JDK-8340969: jdk/jfr/startupargs/TestStartDuration.java
      should be marked as flagless
    + JDK-8341037: Use standard layouts in
      DefaultFrameIconTest.java and MenuCrash.java
    + JDK-8341111: open source several AWT tests including menu
      shortcut tests
    + JDK-8341135: Incorrect format string after JDK-8339475
    + JDK-8341194: [REDO] Implement C2 VectorizedHashCode on AArch64
    + JDK-8341316: [macos] javax/swing/ProgressMonitor/
      /ProgressMonitorEscapeKeyPress.java fails sometimes in macos
    + JDK-8341412: Various test failures after JDK-8334305
    + JDK-8341424: GHA: Collect hs_errs from build time failures
    + JDK-8341453: java/awt/a11y/AccessibleJTableTest.java fails in
      some cases where the test tables are not visible
    + JDK-8341715: PPC64: ObjectMonitor::_owner should be reset
      unconditionally in nmethod unlocking
    + JDK-8341820: Check return value of hcreate_r
    + JDK-8341862: PPC64: C1 unwind_handler fails to unlock
      synchronized methods with LM_MONITOR
    + JDK-8341881: [REDO] java/nio/file/attribute/
      /BasicFileAttributeView/CreationTime.java#tmp fails on alinux3
    + JDK-8341978: Improve JButton/bug4490179.java
    + JDK-8341982: Simplify JButton/bug4323121.java
    + JDK-8342098: Write a test to compare the images
    + JDK-8342145: File libCreationTimeHelper.c compile fails on
      Alpine
    + JDK-8342270: Test sun/security/pkcs11/Provider/
      /RequiredMechCheck.java needs write access to src tree
    + JDK-8342498: Add test for Allocation elimination after use as
      alignment reference by SuperWord
    + JDK-8342508: Use latch in BasicMenuUI/bug4983388.java instead
      of delay
    + JDK-8342541: Exclude List/KeyEventsTest/KeyEventsTest.java
      from running on macOS
    + JDK-8342562: Enhance Deflater operations
    + JDK-8342602: Remove JButton/PressedButtonRightClickTest test
    + JDK-8342609: jpackage test helper function incorrectly
      removes a directory instead of its contents only
    + JDK-8342634: javax/imageio/plugins/wbmp/
      /WBMPStreamTruncateTest.java creates temp file in src dir
    + JDK-8342635: javax/swing/JFileChooser/FileSystemView/
      /WindowsDefaultIconSizeTest.java creates tmp file in src dir
    + JDK-8342704: GHA: Report truncation is broken after
      JDK-8341424
    + JDK-8342811: java/net/httpclient/PlainProxyConnectionTest.java
      failed: Unexpected connection count: 5
    + JDK-8342858: Make target mac-jdk-bundle fails on chmod command
    + JDK-8342988: GHA: Build JTReg in single step
    + JDK-8343007: Enhance Buffered Image handling
    + JDK-8343100: Consolidate EmptyFolderTest and
      EmptyFolderPackageTest jpackage tests into single java file
    + JDK-8343101: Rework BasicTest.testTemp test cases
    + JDK-8343102: Remove `--compress` from jlink command lines
      from jpackage tests
    + JDK-8343118: [TESTBUG] java/awt/PrintJob/PrintCheckboxTest/
      /PrintCheckboxManualTest.java fails with Error. Can't find
      HTML file PrintCheckboxManualTest.html
    + JDK-8343128: PassFailJFrame.java test result: Error. Bad
      action for script: build}
    + JDK-8343129: Disable unstable check of
      ThreadsListHandle.sanity_vm ThreadList values
    + JDK-8343144: UpcallLinker::on_entry racingly clears pending
      exception with GC safepoints
    + JDK-8343149: Cleanup os::print_tos_pc on AIX
    + JDK-8343178: Test BasicTest.java javac compile fails cannot
      find symbol
    + JDK-8343205: CompileBroker::possibly_add_compiler_threads
      excessively polls available memory
    + JDK-8343314: Move common properties from jpackage jtreg test
      declarations to TEST.properties file
    + JDK-8343343: Misc crash dump improvements on more platforms
      after JDK-8294160
    + JDK-8343378: Exceptions in javax/management DeadLockTest.java
      do not cause test failure
    + JDK-8343396: Use OperatingSystem, Architecture, and OSVersion
      in jpackage tests
    + JDK-8343491: javax/management/remote/mandatory/connection/
      /DeadLockTest.java failing with NoSuchObjectException: no such
      object in table
    + JDK-8343599: Kmem limit and max values swapped when printing
      container information
    + JDK-8343882: BasicAnnoTests doesn't handle multiple
      annotations at the same position
    + JDK-8344275: tools/jpackage/windows/Win8301247Test.java fails
      on localized Windows platform
    + JDK-8344326: Move jpackage tests from "jdk.jpackage.tests"
      package to the default package
    + JDK-8344581: [TESTBUG] java/awt/Robot/
      /ScreenCaptureRobotTest.java failing on macOS
    + JDK-8344589: Update IANA Language Subtag Registry to Version
      2024-11-19
    + JDK-8344646: The libjsig deprecation warning should go to
      stderr not stdout
    + JDK-8345296: AArch64: VM crashes with SIGILL when prctl is
      disallowed
    + JDK-8345368: java/io/File/createTempFile/SpecialTempFile.java
      fails on Windows Server 2025
    + JDK-8345370: Bump update version for OpenJDK: jdk-21.0.7
    + JDK-8345375: Improve debuggability of
      test/jdk/java/net/Socket/CloseAvailable.java
    + JDK-8345414: Google CAInterop test failures
    + JDK-8345468: test/jdk/javax/swing/JScrollBar/4865918/
      /bug4865918.java fails in ubuntu22.04
    + JDK-8345569: [ubsan] adjustments to filemap.cpp and
      virtualspace.cpp for macOS aarch64
    + JDK-8345614: Improve AnnotationFormatError message for
      duplicate annotation interfaces
    + JDK-8345676: [ubsan] ProcessImpl_md.c:561:40: runtime error:
      applying zero offset to null pointer on macOS aarch64
    + JDK-8345684: OperatingSystemMXBean.getSystemCpuLoad() throws
      NPE
    + JDK-8345750: Shenandoah: Test TestJcmdHeapDump.java#aggressive
      intermittent assert(gc_cause() == GCCause::_no_gc) failed:
      Over-writing cause
    + JDK-8346055: javax/swing/text/StyledEditorKit/4506788/
      /bug4506788.java fails in ubuntu22.04
    + JDK-8346108: [21u][BACKOUT] 8337994: [REDO] Native memory
      leak when not recording any events
    + JDK-8346324: javax/swing/JScrollBar/4865918/bug4865918.java
      fails in CI
    + JDK-8346587: Distrust TLS server certificates anchored by
      Camerfirma Root CAs
    + JDK-8346671: java/nio/file/Files/probeContentType/Basic.java
      fails on Windows 2025
    + JDK-8346713: [testsuite] NeverActAsServerClassMachine breaks
      TestPLABAdaptToMinTLABSize.java
      TestPinnedHumongousFragmentation.java
      TestPinnedObjectContents.java
    + JDK-8346828: javax/swing/JScrollBar/4865918/bug4865918.java
      still fails in CI
    + JDK-8346847: [s390x] minimal build failure
    + JDK-8346880: [aix] java/lang/ProcessHandle/InfoTest.java
      still fails: "reported cputime less than expected"
    + JDK-8346881: [ubsan] logSelection.cpp:154:24 /
      logSelectionList.cpp:72:94 : runtime error: applying non-zero
      offset 1 to null pointer
    + JDK-8346887: DrawFocusRect() may cause an assertion failure
    + JDK-8346972: Test java/nio/channels/FileChannel/
      /LoopingTruncate.java fails sometimes with IOException: There
      is not enough space on the disk
    + JDK-8347038: [JMH] jdk.incubator.vector.SpiltReplicate fails
      NoClassDefFoundError
    + JDK-8347129: cpuset cgroups controller is required for no
      good reason
    + JDK-8347171: (dc) java/nio/channels/DatagramChannel/
      /InterruptibleOrNot.java fails with virtual thread factory
    + JDK-8347256: Epsilon: Demote heap size and AlwaysPreTouch
      warnings to info level
    + JDK-8347267: [macOS]: UnixOperatingSystem.c:67:40: runtime
      error: division by zero
    + JDK-8347268: [ubsan] logOutput.cpp:357:21: runtime error:
      applying non-zero offset 1 to null pointer
    + JDK-8347424: Fix and rewrite
      sun/security/x509/DNSName/LeadingPeriod.java test
    + JDK-8347427: JTabbedPane/8134116/Bug8134116.java has no
      license header
    + JDK-8347576: Error output in libjsound has non matching
      format strings
    + JDK-8347740: java/io/File/createTempFile/SpecialTempFile.java
      failing
    + JDK-8347847: Enhance jar file support
    + JDK-8347911: Limit the length of inflated text chunks
    + JDK-8347965: (tz) Update Timezone Data to 2025a
    + JDK-8348562: ZGC: segmentation fault due to missing node type
      check in barrier elision analysis
    + JDK-8348625: [21u, 17u] Revert JDK-8185862 to restore old
      java.awt.headless behavior on Windows
    + JDK-8348675: TrayIcon tests fail in Ubuntu 24.10 Wayland
    + JDK-8349039: Adjust exception No type named <ThreadType> in
      database
    + JDK-8349603: [21u, 17u, 11u] Update GHA JDKs after Jan/25
      updates
    + JDK-8349729: [21u] AIX jtreg tests fail to compile with
      qvisibility=hidden
    + JDK-8352097: (tz) zone.tab update missed in 2025a backport
    + JDK-8353904: [21u] Remove designator
      DEFAULT_PROMOTED_VERSION_PRE=ea for release 21.0.7
- Modified patch:
  * fips.patch
    + rediff

-------------------------------------------------------------------
Wed Jan 22 11:34:42 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- Update to upstream tag jdk-21.0.6+7 (January 2025 CPU)
  * Security fixes
    + JDK-8330045, CVE-2025-21502, bsc#1236278: Enhance array
      handling
  * Changes
    + JDK-6942632: Hotspot should be able to use more than 64
      logical processors on Windows
    + JDK-8028127: Regtest java/security/Security/
      /SynchronizedAccess.java is incorrect
    + JDK-8195675: Call to insertText with single character from
      custom Input Method ignored
    + JDK-8207908: JMXStatusTest.java fails assertion intermittently
    + JDK-8225220: When the Tab Policy is checked,the scroll button
      direction displayed incorrectly.
    + JDK-8240343: JDI stopListening/stoplis001 "FAILED: listening
      is successfully stopped without starting listening"
    + JDK-8283214: [macos] Screen magnifier does not show the
      magnified text for JComboBox
    + JDK-8296787: Unify debug printing format of X.509 cert serial
      numbers
    + JDK-8296972: [macos13] java/awt/Frame/MaximizedToIconified/
      /MaximizedToIconified.java: getExtendedState() != 6 as
      expected.
    + JDK-8306446: java/lang/management/ThreadMXBean/Locks.java
      transient failures
    + JDK-8308429: jvmti/StopThread/stopthrd007 failed with
      "NoClassDefFoundError: Could not initialize class
      jdk.internal.misc.VirtualThreads"
    + JDK-8309218: java/util/concurrent/locks/Lock/OOMEInAQS.java
      still times out with ZGC, Generational ZGC, and SerialGC
    + JDK-8311301: MethodExitTest may fail with stack buffer overrun
    + JDK-8311656: Shenandoah: Unused
      ShenandoahSATBAndRemarkThreadsClosure::_claim_token
    + JDK-8312518: [macos13] setFullScreenWindow() shows black
      screen on macOS 13 & above
    + JDK-8313374: --enable-ccache's CCACHE_BASEDIR breaks builds
    + JDK-8313878: Exclude two compiler/rtm/locking tests on ppc64le
    + JDK-8315701: [macos] Regression: KeyEvent has different
      keycode on different keyboard layouts
    + JDK-8316428: G1: Nmethod count statistics only count last
      code root set iterated
    + JDK-8316893: Compile without -fno-delete-null-pointer-checks
    + JDK-8316895: SeenThread::print_action_queue called on a null
      pointer
    + JDK-8316907: Fix nonnull-compare warnings
    + JDK-8317116: Provide layouts for multiple test UI in
      PassFailJFrame
    + JDK-8317575: AArch64: C2_MacroAssembler::fast_lock uses
      rscratch1 for cmpxchg result
    + JDK-8318105: [jmh] the test java.security.HSS failed with 2
      active threads
    + JDK-8318442: java/net/httpclient/ManyRequests2.java fails
      intermittently on Linux
    + JDK-8319640: ClassicFormat::parseObject (from
      DateTimeFormatter) does not conform to the javadoc and may
      leak DateTimeException
    + JDK-8319673: Few security tests ignore VM flags
    + JDK-8319678: Several tests from corelibs areas ignore VM flags
    + JDK-8319960: RISC-V: compiler/intrinsics/TestInteger/
      /LongUnsignedDivMod.java failed with "counts: Graph contains
      wrong number of nodes"
    + JDK-8319970: AArch64: enable tests compiler/intrinsics/
      /Test(Long|Integer)UnsignedDivMod.java on aarch64
    + JDK-8319973: AArch64: Save and restore FPCR in the call stub
    + JDK-8320192: SHAKE256 does not work correctly if n >= 137
    + JDK-8320397: RISC-V: Avoid passing t0 as temp register to
      MacroAssembler:: cmpxchg_obj_header/cmpxchgptr
    + JDK-8320575: generic type information lost on mandated
      parameters of record's compact constructors
    + JDK-8320586: update manual test/jdk/TEST.groups
    + JDK-8320665: update jdk_core at open/test/jdk/TEST.groups
    + JDK-8320673: PageFormat/CustomPaper.java has no Pass/Fail
      buttons; multiple instructions
    + JDK-8320682: [AArch64] C1 compilation fails with "Field too
      big for insn"
    + JDK-8320892: AArch64: Restore FPU control state after JNI
    + JDK-8321299: runtime/logging/ClassLoadUnloadTest.java doesn't
      reliably trigger class unloading
    + JDK-8321470: ThreadLocal.nextHashCode can be static final
    + JDK-8321474: TestAutoCreateSharedArchiveUpgrade.java should
      be updated with JDK 21
    + JDK-8321543: Update NSS to version 3.96
    + JDK-8321550: Update several runtime/cds tests to use vm flags
      or mark as flagless
    + JDK-8321616: Retire binary test vectors in
      test/jdk/java/util/zip/ZipFile
    + JDK-8321940: Improve CDSHeapVerifier in handling of interned
      strings
    + JDK-8322166: Files.isReadable/isWritable/isExecutable
      expensive when file does not exist
    + JDK-8322754: click JComboBox when dialog about to close
      causes IllegalComponentStateException
    + JDK-8322809: SystemModulesMap::classNames and moduleNames
      arrays do not match the order
    + JDK-8322830: Add test case for ZipFile opening a ZIP with no
      entries
    + JDK-8323562: SaslInputStream.read() may return wrong value
    + JDK-8323688: C2: Fix UB of jlong overflow in
      PhaseIdealLoop::is_counted_loop()
    + JDK-8324841: PKCS11 tests still skip execution
    + JDK-8324861: Exceptions::wrap_dynamic_exception() doesn't
      have ResourceMark
    + JDK-8325038: runtime/cds/appcds/ProhibitedPackage.java can
      fail with UseLargePages
    + JDK-8325399: Add tests for virtual threads doing Selector
      operations
    + JDK-8325506: Ensure randomness is only read from provided
      SecureRandom object
    + JDK-8325525: Create jtreg test case for JDK-8325203
    + JDK-8325610: CTW: Add StressIncrementalInlining to stress
      options
    + JDK-8325762: Use PassFailJFrame.Builder.splitUI() in
      PrintLatinCJKTest.java
    + JDK-8325851: Hide PassFailJFrame.Builder constructor
    + JDK-8325906: Problemlist vmTestbase/vm/mlvm/meth/stress/
      /compiler/deoptimize/Test.java#id1 until JDK-8320865 is fixed
    + JDK-8326100: DeflaterDictionaryTests should use
      Deflater.getBytesWritten instead of Deflater.getTotalOut
    + JDK-8326121: vmTestbase/gc/g1/unloading/tests/
      /unloading_keepRef_rootClass_inMemoryCompilation_keep_cl
      failed with Full gc happened. Test was useless.
    + JDK-8326611: Clean up vmTestbase/nsk/stress/stack tests
    + JDK-8326898: NSK tests should listen on loopback addresses
      only
    + JDK-8327924: Simplify TrayIconScalingTest.java
    + JDK-8328021: Convert applet test java/awt/List/SetFontTest/
      /SetFontTest.html to main program
    + JDK-8328242: Add a log area to the PassFailJFrame
    + JDK-8328303: 3 JDI tests timed out with UT enabled
    + JDK-8328379: Convert URLDragTest.html applet test to main
    + JDK-8328402: Implement pausing functionality for the
      PassFailJFrame
    + JDK-8328619: sun/management/jmxremote/bootstrap/
      /SSLConfigFilePermissionTest.java failed with BindException:
      Address already in use
    + JDK-8328665: serviceability/jvmti/vthread/PopFrameTest failed
      with a timeout
    + JDK-8328723: IP Address error when client enables HTTPS
      endpoint check on server socket
    + JDK-8329353: ResolvedReferencesNotNullTest.java failed with
      Incorrect resolved references array, quxString should not be
      archived
    + JDK-8329533: TestCDSVMCrash fails on libgraal
    + JDK-8330278: Have SSLSocketTemplate.doClientSide use loopback
      address
    + JDK-8330621: Make 5 compiler tests use
      ProcessTools.executeProcess
    + JDK-8331391: Enhance the keytool code by invoking the
      buildTrustedCerts method for essential options
    + JDK-8331393: AArch64: u32 _partial_subtype_ctr loaded/stored
      as 64
    + JDK-8331864: Update Public Suffix List to 1cbd6e7
    + JDK-8332112: Update nsk.share.Log to don't print summary
      during VM shutdown hook
    + JDK-8332340: Add JavacBench as a test case for CDS
    + JDK-8332461: ubsan : dependencies.cpp:906:3: runtime error:
      load of value 4294967295, which is not a valid value for type
      'DepType'
    + JDK-8332724: x86 MacroAssembler may over-align code
    + JDK-8332777: Update JCStress test suite
    + JDK-8332866: Crash in ImageIO JPEG decoding when MEM_STATS in
      enabled
    + JDK-8332901: Select{Current,New}ItemTest.java for Choice
      don't open popup on macOS
    + JDK-8333098: ubsan: bytecodeInfo.cpp:318:59: runtime error:
      division by zero
    + JDK-8333108: Update vmTestbase/nsk/share/DebugeeProcess.java
      to don't use finalization
    + JDK-8333144: docker tests do not work when ubsan is configured
    + JDK-8333235: vmTestbase/nsk/jdb/kill/kill001/kill001.java
      fails with C1
    + JDK-8333248: VectorGatherMaskFoldingTest.java failed when
      maximum vector bits is 64
    + JDK-8333317: Test sun/security/pkcs11/sslecc/
      /ClientJSSEServerJSSE.java failed with: Invalid ECDH
      ServerKeyExchange signature
    + JDK-8333427: langtools/tools/javac/newlines/NewLineTest.java
      is failing on Japanese Windows
    + JDK-8333728: ubsan: shenandoahFreeSet.cpp:1347:24: runtime
      error: division by zero
    + JDK-8333754: Add a Test against ECDSA and ECDH NIST Test
      vector
    + JDK-8333824: Unused ClassValue in VarHandles
    + JDK-8334057: JLinkReproducibleTest.java support receive
      test.tool.vm.opts
    + JDK-8334405: java/nio/channels/Selector/
      /SelectWithConsumer.java#id0 failed in testWakeupDuringSelect
    + JDK-8334475: UnsafeIntrinsicsTest.java#ZGenerationalDebug
      assert(!assert_on_failure) failed: Has low-order bits set
    + JDK-8334560: [PPC64]:
      postalloc_expand_java_dynamic_call_sched does not copy all fields
    + JDK-8334562: Automate com/sun/security/auth/callback/
      /TextCallbackHandler/Default.java test
    + JDK-8334567: [test] runtime/os/TestTracePageSizes move ppc
      handling
    + JDK-8334719: (se) Deferred close of SelectableChannel may
      result in a Selector doing the final close before concurrent
      I/O on channel has completed
    + JDK-8335142: compiler/c1/TestTraceLinearScanLevel.java
      occasionally times out with -Xcomp
    + JDK-8335172: Add manual steps to run security/auth/callback/
      /TextCallbackHandler/Password.java test
    + JDK-8335267: [XWayland] move screencast tokens from .awt to
      .java folder
    + JDK-8335344: test/jdk/sun/security/tools/keytool/NssTest.java
      fails to compile
    + JDK-8335428: Enhanced Building of Processes
    + JDK-8335449: runtime/cds/DeterministicDump.java fails with
      File content different at byte ...
    + JDK-8335530: Java file extension missing in AuthenticatorTest
    + JDK-8335664: Parsing jsr broken: assert(bci>= 0 && bci <
      c->method()->code_size()) failed: index out of bounds
    + JDK-8335709: C2: assert(!loop->is_member(get_loop(useblock)))
      failed: must be outside loop
    + JDK-8335912, JDK-8337499: Add an operation mode to the jar
      command when extracting to not overwriting existing files
    + JDK-8336240: Test com/sun/crypto/provider/Cipher/DES/
      /PerformanceTest.java fails with java.lang.ArithmeticException
    + JDK-8336257: Additional tests in jmxremote/startstop to match
      on PID not app name
    + JDK-8336315: tools/jpackage/windows/WinChildProcessTest.java
      Failed: Check is calculator process is alive
    + JDK-8336413: gtk headers : Fix typedef redeclaration of
      GMainContext and GdkPixbuf
    + JDK-8336564: Enhance mask blit functionality redux
    + JDK-8336640: Shenandoah: Parallel worker use in
      parallel_heap_region_iterate
    + JDK-8336854: CAInterop.java#actalisauthenticationrootca
      conflicted with /manual and /timeout
    + JDK-8336911: ZGC: Division by zero in heuristics after
      JDK-8332717
    + JDK-8337066: Repeated call of StringBuffer.reverse with
      double byte string returns wrong result
    + JDK-8337067: Test
      runtime/classFileParserBug/Bad_NCDFE_Msg.java won't compile
    + JDK-8337320: Update ProblemList.txt with tests known to fail
      on XWayland
    + JDK-8337331: crash: pinned virtual thread will lead to jvm
      crash when running with the javaagent option
    + JDK-8337410: The makefiles should set problemlist and adjust
      timeout basing on the given VM flags
    + JDK-8337780: RISC-V: C2: Change C calling convention for sp
      to NS
    + JDK-8337810: ProblemList
      BasicDirectoryModel/LoaderThreadCount.java on Windows
    + JDK-8337826: Improve logging in OCSPTimeout and
      SimpleOCSPResponder to help diagnose JDK-8309754
    + JDK-8337851: Some tests have name which confuse jtreg
    + JDK-8337876: [IR Framework] Add support for IR tests with
      @Stable
    + JDK-8337966: (fs) Files.readAttributes fails with Operation
      not permitted on older docker releases
    + JDK-8338058: map_or_reserve_memory_aligned Windows enhance
      remap assertion
    + JDK-8338101: remove old remap assertion in
      map_or_reserve_memory_aligned  after JDK-8338058
    + JDK-8338109: java/awt/Mouse/EnterExitEvents/
      /ResizingFrameTest.java duplicate in ProblemList
    + JDK-8338110: Exclude Fingerprinter::do_type from ubsan checks
    + JDK-8338112: Test testlibrary_tests/ir_framework/tests/
      /TestPrivilegedMode.java fails with release build
    + JDK-8338344: Test TestPrivilegedMode.java intermittent fails
      java.lang.NoClassDefFoundError: jdk/test/lib/Platform
    + JDK-8338380: Update TLSCommon/interop/AbstractServer to
      specify an interface to listen for connections
    + JDK-8338389: [JFR] Long strings should be added to the string
      pool
    + JDK-8338402: GHA: some of bundles may not get removed
    + JDK-8338449: ubsan: division by zero in sharedRuntimeTrans.cpp
    + JDK-8338550: Do libubsan1 installation in test container only
      if requested
    + JDK-8338748: [17u,21u] Test Disconnect.java compile error:
      cannot find symbol after JDK-8299813
    + JDK-8338751: ConfigureNotify behavior has changed in KWin 6.2
    + JDK-8338759: Add extra diagnostic to
      java/net/InetAddress/ptr/Lookup.java
    + JDK-8338924: C1: assert(0 <= i && i < _len) failed: illegal
      index 5 for length 5
    + JDK-8339080: Bump update version for OpenJDK: jdk-21.0.6
    + JDK-8339180: Enhanced Building of Processes: Follow-on Issue
    + JDK-8339248: RISC-V: Remove li64 macro assembler routine and
      related code
    + JDK-8339384: Unintentional IOException in jdk.jdi module when
      JDWP end of stream occurs
    + JDK-8339386: Assertion on AIX - original PC must be in the
      main code section of the compiled method
    + JDK-8339416: [s390x] Provide implementation for
      resolve_global_jobject
    + JDK-8339487: ProcessHandleImpl os_getChildren sysctl call -
      retry in case of ENOMEM and enhance exception message
    + JDK-8339548: GHA: RISC-V: Use Debian snapshot archive for
      bootstrap
    + JDK-8339560: Unaddressed comments during code review of
      JDK-8337664
    + JDK-8339591: Mark jdk/jshell/ExceptionMessageTest.java
      intermittent
    + JDK-8339637: (tz) Update Timezone Data to 2024b
    + JDK-8339644: Improve parsing of Day/Month in tzdata rules
    + JDK-8339648: ZGC: Division by zero in
      rule_major_allocation_rate
    + JDK-8339725: Concurrent GC crashed due to
      GetMethodDeclaringClass
    + JDK-8339731: java.desktop/share/classes/javax/swing/text/html/
      /default.css typo in margin settings
    + JDK-8339741: RISC-V: C ABI breakage for integer on stack
    + JDK-8339787: Add some additional diagnostic output to
      java/net/ipv6tests/UdpTest.java
    + JDK-8339803: Acknowledge case insensitive unambiguous
      keywords in tzdata files
    + JDK-8339892: Several security shell tests don't set
      TESTJAVAOPTS
    + JDK-8340007: Refactor KeyEvent/FunctionKeyTest.java
    + JDK-8340008: KeyEvent/KeyTyped/Numpad1KeyTyped.java has 15
      seconds timeout
    + JDK-8340109: Ubsan: ciEnv.cpp:1660:65: runtime error: member
      call on null pointer of type 'struct CompileTask'
    + JDK-8340210: Add positionTestUI() to PassFailJFrame.Builder
    + JDK-8340214: C2 compilation asserts with "no node with a side
      effect" in PhaseIdealLoop::try_sink_out_of_loop
    + JDK-8340230: Tests crash: assert(is_in_encoding_range ||
      k->is_interface() || k->is_abstract()) failed: sanity
    + JDK-8340306: Add border around instructions in PassFailJFrame
    + JDK-8340308: PassFailJFrame: Make rows default to number of
      lines in instructions
    + JDK-8340365: Position the first window of a window list
    + JDK-8340383: VM issues warning failure to find kernel32.dll
      on Windows nanoserver
    + JDK-8340387: Update OS detection code to recognize Windows
      Server 2025
    + JDK-8340398: [JVMCI] Unintuitive behavior of UseJVMCICompiler
      option
    + JDK-8340418: GHA: MacOS AArch64 bundles can be removed
      prematurely
    + JDK-8340461: Amend description for logArea
    + JDK-8340466: Add description for PassFailJFrame constructors
    + JDK-8340552: Harden TzdbZoneRulesCompiler against missing
      zone names
    + JDK-8340590: RISC-V: C2: Small improvement to vector gather
      load and scatter store
    + JDK-8340632: ProblemList java/nio/channels/DatagramChannel/
      for Macos
    + JDK-8340657: [PPC64] SA determines wrong unextendedSP
    + JDK-8340684: Reading from an input stream backed by a closed
      ZipFile has no test coverage
    + JDK-8340785: Update description of PassFailJFrame and samples
    + JDK-8340799: Add border inside instruction frame in
      PassFailJFrame
    + JDK-8340801: Disable ubsan checks in some awt/2d coding
    + JDK-8340804: doc/building.md update Xcode instructions to
      note that full install is required
    + JDK-8340812: LambdaForm customization via
      MethodHandle::updateForm is not thread safe
    + JDK-8340815: Add SECURITY.md file
    + JDK-8340899: Remove wildcard bound in
      PositionWindows.positionTestWindows
    + JDK-8340923: The class LogSelection copies uninitialized
      memory
    + JDK-8341024: [test] build/AbsPathsInImage.java fails with OOM
      when using ubsan-enabled binaries
    + JDK-8341146: RISC-V: Unnecessary fences used for load-acquire
      in template interpreter
    + JDK-8341235: Improve default instruction frame title in
      PassFailJFrame
    + JDK-8341261: Tests assume UnlockExperimentalVMOptions is
      disabled by default
    + JDK-8341562: RISC-V: Generate comments in
      -XX:+PrintInterpreter to link to source code
    + JDK-8341688: Aarch64: Generate comments in
      -XX:+PrintInterpreter to link to source code
    + JDK-8341722: Fix some warnings as errors when building on
      Linux with toolchain clang
    + JDK-8341806: Gcc version detection failure on Alinux3
    + JDK-8341927: Replace hardcoded security providers with new
      test.provider.name system property
    + JDK-8341997: Tests create files in src tree instead of
      scratch dir
    + JDK-8342014: RISC-V: ZStoreBarrierStubC2 clobbers rflags
    + JDK-8342063: [21u][aix] Backport introduced redundant line in
      ProblemList
    + JDK-8342181: Update tests to use stronger Key and Salt size
    + JDK-8342183: Update tests to use stronger algorithms and keys
    + JDK-8342188: Update tests to use stronger key parameters and
      certificates
    + JDK-8342409: [s390x] C1 unwind_handler fails to unlock
      synchronized methods with LM_MONITOR
    + JDK-8342496: C2/Shenandoah: SEGV in compiled code when
      running jcstress
    + JDK-8342578: GHA: RISC-V: Bootstrap using Debian snapshot is
      still failing
    + JDK-8342607: Enhance register printing on x86_64 platforms
    + JDK-8342669: [21u] Fix TestArrayAllocatorMallocLimit after
      backport of JDK-8315097
    + JDK-8342681: TestLoadBypassesNullCheck.java fails improperly
      specified VM option
    + JDK-8342701: [PPC64] TestOSRLotsOfLocals.java crashes
    + JDK-8342765: [21u] RTM tests assume
      UnlockExperimentalVMOptions is disabled by default
    + JDK-8342823: Ubsan: ciEnv.cpp:1614:65: runtime error: member
      call on null pointer of type 'struct CompileTask'
    + JDK-8342905: Thread.setContextClassloader from thread in FJP
      commonPool task no longer works after JDK-8327501 redux
    + JDK-8342962: [s390x] TestOSRLotsOfLocals.java crashes
    + JDK-8343285: java.lang.Process is unresponsive and CPU usage
      spikes to 100%
    + JDK-8343474: [updates] Customize README.md to specifics of
      update project
    + JDK-8343506: [s390x] multiple test failures with ubsan
    + JDK-8343724: [PPC64] Disallow OptoScheduling
    + JDK-8343848: Fix typo of property name in TestOAEPPadding
      after 8341927
    + JDK-8343877: Test AsyncClose.java intermittent fails -
      Socket.getInputStream().read() wasn't preempted
    + JDK-8343884: [s390x]  Disallow OptoScheduling
    + JDK-8343923: GHA: Switch to Xcode 15 on MacOS AArch64 runners
    + JDK-8344164: [s390x] ProblemList
      hotspot/jtreg/runtime/NMT/VirtualAllocCommitMerge.java
    + JDK-8344628: Test TestEnableJVMCIProduct.java run with
      virtual thread intermittent fails
    + JDK-8344993: [21u] [REDO] Backport JDK-8327501 and
      JDK-8328366 to JDK 21
    + JDK-8345055: [21u] ProblemList failing rtm tests on ppc
      platforms
    + JDK-8347010: [21u] Remove designator
      DEFAULT_PROMOTED_VERSION_PRE=ea for release 21.0.6
- Added patch
  * reproducible-directory-mtime.patch
    + reproducible modification times for directory creation

-------------------------------------------------------------------
Fri Nov  1 12:37:36 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Update to upstream tag jdk-21.0.5+13 (October 2024 CPU)
  * Security fixes
    + JDK-8307383: Enhance DTLS connections
    + JDK-8311208: Improve CDS Support
    + JDK-8328286, CVE-2024-21208, bsc#1231702: Enhance HTTP client
    + JDK-8328544, CVE-2024-21210, bsc#1231711: Improve handling of
      vectorization
    + JDK-8328726: Better Kerberos support
    + JDK-8331446, CVE-2024-21217, bsc#1231716: Improve
      deserialization support
    + JDK-8332644, CVE-2024-21235, bsc#1231719: Improve graph
      optimizations
    + JDK-8335713: Enhance vectorization analysis
  * Other changes
    + JDK-6355567: AdobeMarkerSegment causes failure to read valid
      JPEG
    + JDK-6967482: TAB-key does not work in JTables after selecting
      details-view in JFileChooser
    + JDK-7022325: TEST_BUG: test/java/util/zip/ZipFile/
      /ReadLongZipFileName.java leaks files if it fails
    + JDK-8051959: Add thread and timestamp options to
      java.security.debug system property
    + JDK-8073061: (fs) Files.copy(foo, bar, REPLACE_EXISTING)
      deletes bar even if foo is not readable
    + JDK-8166352: FilePane.createDetailsView() removes JTable TAB,
      SHIFT-TAB functionality
    + JDK-8170817: G1: Returning MinTLABSize from
      unsafe_max_tlab_alloc causes TLAB flapping
    + JDK-8211847: [aix] java/lang/ProcessHandle/InfoTest.java
      fails: "reported cputime less than expected"
    + JDK-8211854: [aix] java/net/ServerSocket/
      /AcceptInheritHandle.java fails: read times out
    + JDK-8222884: ConcurrentClassDescLookup.java times out
      intermittently
    + JDK-8238169: BasicDirectoryModel getDirectories and
      DoChangeContents.run can deadlock
    + JDK-8241550: [macOS] SSLSocketImpl/ReuseAddr.java failed due
      to "BindException: Address already in use"
    + JDK-8242564: javadoc crashes:: class cast exception
      com.sun.tools.javac.code.Symtab$6
    + JDK-8260633: [macos] java/awt/dnd/MouseEventAfterStartDragTest/
      /MouseEventAfterStartDragTest.html test failed
    + JDK-8261433: Better pkcs11 performance for
      libpkcs11:C_EncryptInit/libpkcs11:C_DecryptInit
    + JDK-8269428: java/util/concurrent/ConcurrentHashMap/
      /ToArray.java timed out
    + JDK-8269657: Test java/nio/channels/DatagramChannel/
      /Loopback.java failed: Unexpected message
    + JDK-8280120: [IR Framework] Add attribute to @IR to
      enable/disable IR matching based on the architecture
    + JDK-8280392: java/awt/Focus/NonFocusableWindowTest/
      /NonfocusableOwnerTest.java failed with "RuntimeException:
      Test failed."
    + JDK-8280988: [XWayland] Click on title to request focus test
      failures
    + JDK-8280990: [XWayland] XTest emulated mouse click does not
      bring window to front
    + JDK-8283223: gc/stringdedup/TestStringDeduplicationFullGC.java
      #Parallel failed with "RuntimeException: String verification
      failed"
    + JDK-8287325: AArch64: fix virtual threads with
      -XX:UseBranchProtection=pac-ret
    + JDK-8291809: Convert compiler/c2/cr7200264/TestSSE2IntVect.java
      to IR verification test
    + JDK-8294148: Support JSplitPane for instructions and test UI
    + JDK-8299058: AssertionError in sun.net.httpserver.ServerImpl
      when connection is idle
    + JDK-8299487: Test java/net/httpclient/whitebox/
      /SSLTubeTestDriver.java timed out
    + JDK-8299790: os::print_hex_dump is racy
    + JDK-8299813: java/nio/channels/DatagramChannel/Disconnect.java
      fails with jtreg test timeout due to lost datagram
    + JDK-8301686: TLS 1.3 handshake fails if server_name doesn't
      match resuming session
    + JDK-8303920: Avoid calling out to python in
      DataDescriptorSignatureMissing test
    + JDK-8305072: Win32ShellFolder2.compareTo is inconsistent
    + JDK-8305825: getBounds API returns wrong value resulting in
      multiple Regression Test Failures on Ubuntu 23.04
    + JDK-8307193: Several Swing jtreg tests use class.forName on
      L&F classes
    + JDK-8307352: AARCH64: Improve itable_stub
    + JDK-8307778: com/sun/jdi/cds tests fail with jtreg's Virtual
      test thread factory
    + JDK-8307788: vmTestbase/gc/gctests/LargeObjects/large003/
      /TestDescription.java timed out
    + JDK-8308286: Fix clang warnings in linux code
    + JDK-8308660: C2 compilation hits 'node must be dead' assert
    + JDK-8309067: gtest/AsyncLogGtest.java fails again in
      stderrOutput_vm
    + JDK-8309621: [XWayland][Screencast] screen capture failure
      with sun.java2d.uiScale other than 1
    + JDK-8309685: Fix -Wconversion warnings in assembler and
      register code
    + JDK-8309894: compiler/vectorapi/
      /VectorLogicalOpIdentityTest.java fails on SVE system with
      UseSVE=0
    + JDK-8310072: JComboBox/DisabledComboBoxFontTestAuto: Enabled
      and disabled ComboBox does not match in these LAFs: GTK+
    + JDK-8310108: Skip ReplaceCriticalClassesForSubgraphs when
      EnableJVMCI is specified
    + JDK-8310201: Reduce verbose locale output in -XshowSettings
      launcher option
    + JDK-8310334: [XWayland][Screencast] screen capture error
      message in debug
    + JDK-8310628: GcInfoBuilder.c missing JNI Exception checks
    + JDK-8310683: Refactor StandardCharset/standard.java to use
      JUnit
    + JDK-8310906: Fix -Wconversion warnings in runtime, oops and
      some code header files.
    + JDK-8311306: Test com/sun/management/ThreadMXBean/
      /ThreadCpuTimeArray.java failed: out of expected range
    + JDK-8311666: Disabled tests in test/jdk/sun/java2d/marlin
    + JDK-8311989: Test java/lang/Thread/virtual/Reflection.java
      timed out
    + JDK-8312049: runtime/logging/ClassLoadUnloadTest can be
      improved
    + JDK-8312111: open/test/jdk/java/awt/Robot/ModifierRobotKey/
      /ModifierRobotKeyTest.java fails on ubuntu 23.04
    + JDK-8312140: jdk/jshell tests failed with JDI socket timeouts
    + JDK-8312200: Fix Parse::catch_call_exceptions memory leak
    + JDK-8312229: Crash involving yield, switch and anonymous
      classes
    + JDK-8313674: (fc) java/nio/channels/FileChannel/
      /BlockDeviceSize.java should test for more block devices
    + JDK-8313697: [XWayland][Screencast] consequent getPixelColor
      calls are slow
    + JDK-8313983: jmod create --target-platform should replace
      existing ModuleTarget attribute
    + JDK-8314163: os::print_hex_dump prints incorrectly for big
      endian platforms and unit sizes larger than 1
    + JDK-8314225: SIGSEGV in JavaThread::is_lock_owned
    + JDK-8314515: java/util/concurrent/SynchronousQueue/
      /Fairness.java failed with "Error: fair=false i=8 j=0"
    + JDK-8314614: jdk/jshell/ImportTest.java failed with
      "InternalError: Failed remote listen"
    + JDK-8315024: Vector API FP reduction tests should not test
      for exact equality
    + JDK-8315031: YoungPLABSize and OldPLABSize not aligned by
      ObjectAlignmentInBytes
    + JDK-8315422: getSoTimeout() would be in try block in
      SSLSocketImpl
    + JDK-8315505: CompileTask timestamp printed can overflow
    + JDK-8315576: compiler/codecache/CodeCacheFullCountTest.java
      fails after JDK-8314837
    + JDK-8315804: Open source several Swing JTabbedPane JTextArea
      JTextField tests
    + JDK-8315923: pretouch_memory by atomic-add-0 fragments huge
      pages unexpectedly
    + JDK-8315965: Open source various AWT applet tests
    + JDK-8315969: compiler/rangechecks/
      /TestRangeCheckHoistingScaledIV.java: make flagless
    + JDK-8316104: Open source several Swing SplitPane and
      RadioButton related tests
    + JDK-8316131: runtime/cds/appcds/TestParallelGCWithCDS.java
      fails with JNI error
    + JDK-8316193: jdk/jfr/event/oldobject/TestListenerLeak.java
      java.lang.Exception: Could not find leak
    + JDK-8316211: Open source several manual applet tests
    + JDK-8316240: Open source several add/remove MenuBar manual
      tests
    + JDK-8316285: Opensource JButton manual tests
    + JDK-8316306: Open source and convert manual Swing test
    + JDK-8316328: Test jdk/jfr/event/oldobject/
      /TestSanityDefault.java times out for some heap sizes
    + JDK-8316361: C2: assert(!failure) failed: Missed optimization
      opportunity in PhaseIterGVN with -XX:VerifyIterativeGVN=10
    + JDK-8316389: Open source few AWT applet tests
    + JDK-8316756: C2 EA fails with "missing memory path" when
      encountering unsafe_arraycopy stub call
    + JDK-8317112: Add screenshot for Frame/DefaultSizeTest.java
    + JDK-8317128: java/nio/file/Files/CopyAndMove.java failed with
      AccessDeniedException
    + JDK-8317240: Promptly free OopMapEntry after fail to insert
      the entry to OopMapCache
    + JDK-8317288: [macos] java/awt/Window/Grab/GrabTest.java:
      Press on the outside area didn't cause ungrab
    + JDK-8317299: safepoint scalarization doesn't keep track of
      the depth of the JVM state
    + JDK-8317360: Missing null checks in JfrCheckpointManager and
      JfrStringPool initialization routines
    + JDK-8317372: Refactor some NumberFormat tests to use JUnit
    + JDK-8317446: ProblemList gc/arguments/TestNewSizeFlags.java
      on macosx-aarch64 in Xcomp
    + JDK-8317449: ProblemList serviceability/jvmti/stress/
      /StackTrace/NotSuspended/
      /GetStackTraceNotSuspendedStressTest.java on several platforms
    + JDK-8317635: Improve GetClassFields test to verify
      correctness of field order
    + JDK-8317696: Fix compilation with clang-16
    + JDK-8317738: CodeCacheFullCountTest failed with
      "VirtualMachineError: Out of space in CodeCache for method
      handle intrinsic"
    + JDK-8317831: compiler/codecache/CheckLargePages.java fails on
      OL 8.8 with unexpected memory string
    + JDK-8318071: IgnoreUnrecognizedVMOptions flag still causes
      failure in ArchiveHeapTestClass
    + JDK-8318479: [jmh] the test security.CacheBench  failed for
      multiple threads run
    + JDK-8318605: Enable parallelism in
      vmTestbase/nsk/stress/stack tests
    + JDK-8319197: Exclude hb-subset and hb-style from compilation
    + JDK-8319406: x86: Shorter movptr(reg, imm) for 32-bit
      immediates
    + JDK-8319773: Avoid inflating monitors when installing hash
      codes for LM_LIGHTWEIGHT
    + JDK-8319793: C2 compilation fails with "Bad graph detected in
      build_loop_late" after JDK-8279888
    + JDK-8319817: Charset constructor should make defensive copy
      of aliases
    + JDK-8319818: Address GCC 13.2.0 warnings (stringop-overflow
      and dangling-pointer)
    + JDK-8320079: The ArabicBox.java test has no control buttons
    + JDK-8320212: Disable GCC stringop-overflow warning for
      affected files
    + JDK-8320379: C2: Sort spilling/unspilling sequence for better
      ld/st merging into ldp/stp on AArch64
    + JDK-8320602: Lock contention in SchemaDVFactory.getInstance()
    + JDK-8320608: Many jtreg printing tests are missing the
      @printer keyword
    + JDK-8320655: awt screencast robot spin and sync issues with
      native libpipewire api
    + JDK-8320675: PrinterJob/SecurityDialogTest.java hangs
    + JDK-8320945: problemlist tests failing on latest Windows 11
      update
    + JDK-8321025: Enable Neoverse N1 optimizations for Neoverse V2
    + JDK-8321176: [Screencast] make a second attempt on screencast
      failure
    + JDK-8321206: Make Locale related system properties
      `StaticProperty`
    + JDK-8321220: JFR: RecordedClass reports incorrect modifiers
    + JDK-8321278: C2: Partial peeling fails with assert "last_peel
      <- first_not_peeled"
    + JDK-8321509: False positive in get_trampoline fast path
      causes crash
    + JDK-8321933: TestCDSVMCrash.java spawns two processes
    + JDK-8322008: Exclude some CDS tests from running with
      -Xshare:off
    + JDK-8322062: com/sun/jdi/JdwpAllowTest.java does not performs
      negative testing with prefix length
    + JDK-8322330: JavadocHelperTest.java OOMEs with Parallel GC
      and ZGC
    + JDK-8322726: C2: Unloaded signature class kills argument value
    + JDK-8322743: C2: prevent lock region elimination in OSR
      compilation
    + JDK-8322766: Micro bench SSLHandshake should use default
      algorithms
    + JDK-8322881: java/nio/file/Files/CopyMoveVariations.java
      fails with AccessDeniedException due to permissions of files
      in /tmp
    + JDK-8322971: KEM.getInstance() should check if a 3rd-party
      security provider is signed
    + JDK-8322996: BoxLockNode creation fails with assert(reg <
      CHUNK_SIZE) failed: sanity
    + JDK-8323122: AArch64: Increase itable stub size estimate
    + JDK-8323196: jdk/jfr/api/consumer/filestream/TestOrdered.java
      failed with "Events are not ordered! Reuse = false"
    + JDK-8323274: C2: array load may float above range check
    + JDK-8323552: AbstractMemorySegmentImpl#mismatch returns -1
      when comparing distinct areas of the same instance of
      MemorySegment
    + JDK-8323577: C2 SuperWord: remove AlignVector restrictions on
      IR tests added in JDK-8305055
    + JDK-8323584: AArch64: Unnecessary ResourceMark in
      NativeCall::set_destination_mt_safe
    + JDK-8323670: A few client tests intermittently throw
      ConcurrentModificationException
    + JDK-8323682: C2: guard check is not generated in
      Arrays.copyOfRange intrinsic when allocation is eliminated by
      EA
    + JDK-8323782: Race: Thread::interrupt vs.
      AbstractInterruptibleChannel.begin
    + JDK-8323801: <s> tag doesn't strikethrough the text
    + JDK-8323972: C2 compilation fails with
      assert(!x->as_Loop()->is_loop_nest_inner_loop()) failed: loop
      was transformed
    + JDK-8324174: assert(m->is_entered(current)) failed: invariant
    + JDK-8324577: [REDO] - [IMPROVE] OPEN_MAX is no longer the max
      limit on macOS >= 10.6 for RLIMIT_NOFILE
    + JDK-8324580: SIGFPE on THP initialization on kernels < 4.10
    + JDK-8324641: [IR Framework] Add Setup method to provide
      custom arguments and set fields
    + JDK-8324668: JDWP process management needs more efficient
      file descriptor handling
    + JDK-8324755: Enable parallelism in
      vmTestbase/gc/gctests/LargeObjects tests
    + JDK-8324781: runtime/Thread/TestAlwaysPreTouchStacks.java
      failed with Expected a higher ratio between stack committed
      and reserved
    + JDK-8324808: Manual printer tests have no Pass/Fail buttons,
      instructions close set 3
    + JDK-8324969: C2: prevent elimination of unbalanced coarsened
      locking regions
    + JDK-8324983: Race in
      CompileBroker::possibly_add_compiler_threads
    + JDK-8325022: Incorrect error message on client authentication
    + JDK-8325037: x86: enable and fix
      hotspot/jtreg/compiler/vectorization/TestRoundVectFloat.java
    + JDK-8325083: jdk/incubator/vector/Double512VectorTests.java
      crashes in Assembler::vex_prefix_and_encode
    + JDK-8325179: Race in BasicDirectoryModel.validateFileCache
    + JDK-8325218: gc/parallel/TestAlwaysPreTouchBehavior.java fails
    + JDK-8325382: (fc) FileChannel.transferTo throws IOException
      when position equals size
    + JDK-8325384: sun/security/ssl/SSLSessionImpl/
      /ResumptionUpdateBoundValues.java failing intermittently when
      main thread is a virtual thread
    + JDK-8325469: Freeze/Thaw code can crash in the presence of
      OSR frames
    + JDK-8325494: C2: Broken graph after not skipping CastII node
      anymore for Assertion Predicates after JDK-8309902
    + JDK-8325520: Vector loads and stores with indices and masks
      incorrectly compiled
    + JDK-8325542: CTW: Runner can produce negative StressSeed
    + JDK-8325587: Shenandoah: ShenandoahLock should allow blocking
      in VM
    + JDK-8325616: JFR ZGC Allocation Stall events should record
      stack traces
    + JDK-8325620: HTMLReader uses ConvertAction instead of
      specified CharacterAction for <b>, <i>, <u>
    + JDK-8325754: Dead AbstractQueuedSynchronizer$ConditionNodes
      survive minor garbage collections
    + JDK-8325763: Revert properties: vm.opt.x.*
    + JDK-8326106: Write and clear stack trace table outside of
      safepoint
    + JDK-8326129: Java Record Pattern Match leads to infinite loop
    + JDK-8326332: Unclosed inline tags cause misalignment in
      summary tables
    + JDK-8326717: Disable stringop-overflow in shenandoahLock.cpp
    + JDK-8326734: text-decoration applied to <span> lost when
      mixed with <u> or <s>
    + JDK-8327007: javax/swing/JSpinner/8008657/bug8008657.java
      fails
    + JDK-8327040: Problemlist ActionListenerCalledTwiceTest.java
      test failing in macos14
    + JDK-8327137: Add test for ConcurrentModificationException in
      BasicDirectoryModel
    + JDK-8327401: Some jtreg tests fail on Wayland without any
      tracking bug
    + JDK-8327423: C2 remove_main_post_loops: check if main-loop
      belongs to pre-loop, not just assert
    + JDK-8327424: ProblemList serviceability/sa/TestJmapCore.java
      on all platforms with ZGC
    + JDK-8327501: Common ForkJoinPool prevents class unloading in
      some cases
    + JDK-8327650: Test java/nio/channels/DatagramChannel/
      /StressNativeSignal.java timed out
    + JDK-8327787: Convert javax/swing/border/Test4129681.java
      applet test to main
    + JDK-8327840: Automate javax/swing/border/Test4129681.java
    + JDK-8327990: [macosx-aarch64] Various tests fail with
      -XX:+AssertWXAtThreadSync
    + JDK-8328011: Convert java/awt/Frame/GetBoundsResizeTest/
      /GetBoundsResizeTest.java applet test to main
    + JDK-8328075: Shenandoah: Avoid forwarding when objects don't
      move in full-GC
    + JDK-8328110: Allow simultaneous use of PassFailJFrame with
      split UI and additional windows
    + JDK-8328115: Convert java/awt/font/TextLayout/
      /TestJustification.html applet test to main
    + JDK-8328158: Convert java/awt/Choice/NonFocusablePopupMenuTest
      to automatic main test
    + JDK-8328218: Delete test
      java/awt/Window/FindOwner/FindOwner.html
    + JDK-8328234: Remove unused nativeUtils files
    + JDK-8328238: Convert few closed manual applet tests to main
    + JDK-8328269: NonFocusablePopupMenuTest.java should be marked
      as headful
    + JDK-8328273: sun/management/jmxremote/bootstrap/
      /RmiRegistrySslTest.java failed with
      java.rmi.server.ExportException: Port already in use
    + JDK-8328366: Thread.setContextClassloader from thread in FJP
      commonPool task no longer works after JDK-8327501
    + JDK-8328560: java/awt/event/MouseEvent/ClickDuringKeypress/
      /ClickDuringKeypress.java imports Applet
    + JDK-8328561: test java/awt/Robot/ManualInstructions/
      /ManualInstructions.java isn't used
    + JDK-8328642: Convert applet test
      MouseDraggedOutCauseScrollingTest.html to main
    + JDK-8328647: TestGarbageCollectorMXBean.java fails with
      C1-only and -Xcomp
    + JDK-8328697: SubMenuShowTest and SwallowKeyEvents tests
      stabilization
    + JDK-8328785: IOException: Symbol not found: C_GetInterface
      for PKCS11 interface prior to V3.0
    + JDK-8328896: Fontmetrics for large Fonts has zero width
    + JDK-8328953: JEditorPane.read throws ChangedCharSetException
    + JDK-8328999: Update GIFlib to 5.2.2
    + JDK-8329004: Update Libpng to 1.6.43
    + JDK-8329088: Stack chunk thawing races with concurrent GC
      stack iteration
    + JDK-8329103: assert(!thread->in_asgct()) failed during
      multi-mode profiling
    + JDK-8329126: No native wrappers generated anymore with
      -XX:-TieredCompilation after JDK-8251462
    + JDK-8329134: Reconsider TLAB zapping
    + JDK-8329258: TailCall should not use frame pointer register
      for jump target
    + JDK-8329510: Update ProblemList for
      JFileChooser/8194044/FileSystemRootTest.java
    + JDK-8329559: Test javax/swing/JFrame/bug4419914.java failed
      because The End and Start buttons are not placed correctly and
      Tab focus does not move as expected
    + JDK-8329665: fatal error: memory leak: allocating without
      ResourceMark
    + JDK-8329667: [macos] Issue with JTree related fix for
      JDK-8317771
    + JDK-8329995: Restricted access to `/proc` can cause JFR
      initialization to crash
    + JDK-8330027: Identity hashes of archived objects must be
      based on a reproducible random seed
    + JDK-8330063: Upgrade jQuery to 3.7.1
    + JDK-8330133: libj2pkcs11.so crashes on some pkcs#11 v3.0
      libraries
    + JDK-8330146: assert(!_thread->is_in_any_VTMS_transition())
      failed
    + JDK-8330520: linux clang build fails in os_linux.cpp with
      static_assert with no message is a C++17 extension
    + JDK-8330576: ZYoungCompactionLimit should have range check
    + JDK-8330611: AES-CTR vector intrinsic may read out of bounds
      (x86_64, AVX-512)
    + JDK-8330748: ByteArrayOutputStream.writeTo(OutputStream) pins
      carrier
    + JDK-8330814: Cleanups for KeepAliveCache tests
    + JDK-8330819: C2 SuperWord: bad dominance after pre-loop limit
      adjustment with base that has CastLL after pre-loop
    + JDK-8330849: Add test to verify memory usage with recursive
      locking
    + JDK-8330981: ZGC: Should not dedup strings in the finalizer
      graph
    + JDK-8331011: [XWayland] TokenStorage fails under Security
      Manager
    + JDK-8331063: Some HttpClient tests don't report leaks
    + JDK-8331077: nroff man page update for jar tool
    + JDK-8331142: Add test for number of loader threads in
      BasicDirectoryModel
    + JDK-8331153: JFR: Improve logging of
      jdk/jfr/api/consumer/filestream/TestOrdered.java
    + JDK-8331164: createJMHBundle.sh download jars fail when url
      needed to be redirected
    + JDK-8331266: Bump update version for OpenJDK: jdk-21.0.5
    + JDK-8331405: Shenandoah: Optimize ShenandoahLock with TTAS
    + JDK-8331411: Shenandoah: Reconsider spinning duration in
      ShenandoahLock
    + JDK-8331421: ubsan: vmreg.cpp checking error member call on
      misaligned address
    + JDK-8331495: Limit BasicDirectoryModel/LoaderThreadCount.java
      to Windows only
    + JDK-8331518: Tests should not use the "Classpath" exception
      form of the legal header
    + JDK-8331572: Allow using OopMapCache outside of STW GC phases
    + JDK-8331573: Rename CollectedHeap::is_gc_active to be
      explicitly about STW GCs
    + JDK-8331575: C2: crash when ConvL2I is split thru phi at
      LongCountedLoop
    + JDK-8331605:
      jdk/test/lib/TestMutuallyExclusivePlatformPredicates.java test
      failure
    + JDK-8331626: unsafe.cpp:162:38: runtime error in
      index_oop_from_field_offset_long - applying non-zero offset
      4563897424 to null pointer
    + JDK-8331714: Make OopMapCache installation lock-free
    + JDK-8331731: ubsan: relocInfo.cpp:155:30: runtime error:
      applying non-zero offset to null pointer
    + JDK-8331746: Create a test to verify that the cmm id is not
      ignored
    + JDK-8331771: ZGC: Remove OopMapCacheAlloc_lock ordering
      workaround
    + JDK-8331789: ubsan: deoptimization.cpp:403:29: runtime error:
      load of value 208, which is not a valid value for type 'bool'
    + JDK-8331798: Remove unused arg of checkErgonomics() in
      TestMaxHeapSizeTools.java
    + JDK-8331854: ubsan: copy.hpp:218:10: runtime error: addition
      of unsigned offset to 0x7fc2b4024518 overflowed to
      0x7fc2b4024510
    + JDK-8331863: DUIterator_Fast used before it is constructed
    + JDK-8331885: C2: meet between unloaded and speculative types
      is not symmetric
    + JDK-8331931: JFR: Avoid loading regex classes during startup
    + JDK-8331999: BasicDirectoryModel/LoaderThreadCount.java
      frequently fails on Windows in CI
    + JDK-8332008: Enable issuestitle check
    + JDK-8332113: Update nsk.share.Log to be always verbose
    + JDK-8332154: Memory leak in SynchronousQueue
    + JDK-8332174: Remove 2 (unpaired) RLO Unicode characters in
      ff_Adlm.xml
    + JDK-8332248: (fc) java/nio/channels/FileChannel/
      /BlockDeviceSize.java failed with RuntimeException
    + JDK-8332424: Update IANA Language Subtag Registry to Version
      2024-05-16
    + JDK-8332431: NullPointerException in JTable of SwingSet2
    + JDK-8332473: ubsan: growableArray.hpp:290:10: runtime error:
      null pointer passed as argument 1, which is declared to never
      be null
    + JDK-8332490: JMH org.openjdk.bench.java.util.zip
      .InflaterInputStreams.inflaterInputStreamRead OOM
    + JDK-8332499: Gtest codestrings.validate_vm fail on linux x64
      when hsdis is present
    + JDK-8332524: Instead of printing "TLSv1.3," it is showing
      "TLS13"
    + JDK-8332589: ubsan: unix/native/libjava/ProcessImpl_md.c:562:5:
      runtime error: null pointer passed as argument 2, which is
      declared to never be null
    + JDK-8332675: test/hotspot/jtreg/gc/testlibrary/Helpers.java
      compileClass javadoc does not match after 8321812
    + JDK-8332699: ubsan: jfrEventSetting.inline.hpp:31:43: runtime
      error: index 163 out of bounds for type 'jfrNativeEventSetting
      [162]'
    + JDK-8332717: ZGC: Division by zero in heuristics
    + JDK-8332720: ubsan: instanceKlass.cpp:3550:76: runtime error:
      member call on null pointer of type 'struct Array'
    + JDK-8332818: ubsan: archiveHeapLoader.cpp:70:27: runtime
      error: applying non-zero offset 18446744073707454464 to null
      pointer
    + JDK-8332825: ubsan: guardedMemory.cpp:35:11: runtime error:
      null pointer passed as argument 2, which is declared to never
      be null
    + JDK-8332885: Clarify failure_handler self-tests
    + JDK-8332894: ubsan: vmError.cpp:2090:26: runtime error:
      division by zero
    + JDK-8332898: failure_handler: log directory of commands
    + JDK-8332903: ubsan: opto/output.cpp:1002:18: runtime error:
      load of value 171, which is not a valid value for type 'bool'
    + JDK-8332904: ubsan ppc64le: c1_LIRGenerator_ppc.cpp:581:21:
      runtime error: signed integer overflow: 9223372036854775807 + 1
      cannot be represented in type 'long int'
    + JDK-8332905: C2 SuperWord: bad AD file, with RotateRightV and
      first operand not a pack
    + JDK-8332920: C2: Partial Peeling is wrongly applied for CmpU
      with negative limit
    + JDK-8332935: Crash:  assert(*lastPtr != 0) failed: Mismatched
      JNINativeInterface tables, check for new entries
    + JDK-8332936: Test vmTestbase/metaspace/gc/watermark_70_80/
      /TestDescription.java fails with no GC's recorded
    + JDK-8332959: C2: ZGC fails with 'Incorrect load shift' when
      invoking Object.clone() reflectively on an array
    + JDK-8333088: ubsan: shenandoahAdaptiveHeuristics.cpp:245:44:
      runtime error: division by zero
    + JDK-8333093: Incorrect comment in zAddress_aarch64.cpp
    + JDK-8333099: Missing check for is_LoadVector in
      StoreNode::Identity
    + JDK-8333149: ubsan : memset on nullptr target detected in
      jvmtiEnvBase.cpp get_object_monitor_usage
    + JDK-8333178: ubsan: jvmti_tools.cpp:149:16: runtime error:
      null pointer passed as argument 2, which is declared to never
      be null
    + JDK-8333270: HandlersOnComplexResetUpdate and
      HandlersOnComplexUpdate tests fail with "Unexpected reference"
      if timeoutFactor is less than 1/3
    + JDK-8333277: ubsan: mlib_ImageScanPoly.c:292:43: runtime
      error: division by zero
    + JDK-8333353: Delete extra empty line in CodeBlob.java
    + JDK-8333354: ubsan: frame.inline.hpp:91:25: and
      src/hotspot/share/runtime/frame.inline.hpp:88:29: runtime
      error: member call on null pointer of type 'const struct
      SmallRegisterMap'
    + JDK-8333361: ubsan,test : libHeapMonitorTest.cpp:518:9:
      runtime error: null pointer passed as argument 2, which is
      declared to never be null
    + JDK-8333363: ubsan: instanceKlass.cpp: runtime error: member
      call on null pointer of type 'struct AnnotationArray'
    + JDK-8333366: C2: CmpU3Nodes are not pushed back to worklist
      in PhaseCCP leading to non-fixpoint assertion failure
    + JDK-8333398: Uncomment the commented test in test/jdk/java/
      /util/jar/JarFile/mrjar/MultiReleaseJarAPI.java
    + JDK-8333462: Performance regression of new DecimalFormat()
      when compare to jdk11
    + JDK-8333477: Delete extra empty spaces in Makefiles
    + JDK-8333542: Breakpoint in parallel code does not work
    + JDK-8333622: ubsan: relocInfo_x86.cpp:101:56: runtime error:
      pointer index expression with base (-1) overflowed
    + JDK-8333639: ubsan: cppVtables.cpp:81:55: runtime error:
      index 14 out of bounds for type 'long int [1]'
    + JDK-8333652: RISC-V: compiler/vectorapi/
      /VectorGatherMaskFoldingTest.java fails when using RVV
    + JDK-8333716: Shenandoah: Check for disarmed method before
      taking the nmethod lock
    + JDK-8333724: Problem list security/infra/java/security/cert/
      /CertPathValidator/certification/CAInterop.java
      #teliasonerarootcav1
    + JDK-8333804: java/net/httpclient/ForbiddenHeadTest.java threw
      an exception with 0 failures
    + JDK-8333887: ubsan: unsafe.cpp:247:13: runtime error: store
      to null pointer of type 'volatile int'
    + JDK-8334078: RISC-V: TestIntVect.java fails after JDK-8332153
      when running without RVV
    + JDK-8334123: log the opening of Type 1 fonts
    + JDK-8334166: Enable binary check
    + JDK-8334239: Introduce macro for ubsan method/function
      exclusions
    + JDK-8334297: (so) java/nio/channels/SocketChannel/OpenLeak.java
      should not depend on SecurityManager
    + JDK-8334332: TestIOException.java fails if run by root
    + JDK-8334333: MissingResourceCauseTestRun.java fails if run by
      root
    + JDK-8334339: Test java/nio/file/attribute/
      /BasicFileAttributeView/CreationTime.java fails on alinux3
    + JDK-8334418: Update IANA Language Subtag Registry to Version
      2024-06-14
    + JDK-8334421: assert(!oldbox->is_unbalanced()) failed: this
      should not be called for unbalanced region
    + JDK-8334482: Shenandoah: Deadlock when safepoint is pending
      during nmethods iteration
    + JDK-8334592: ProblemList serviceability/jvmti/stress/
      /StackTrace/NotSuspended/
      /GetStackTraceNotSuspendedStressTest.java in jdk21 on all
      platforms
    + JDK-8334594: Generational ZGC: Deadlock after OopMap rewrites
      in 8331572
    + JDK-8334600: TEST java/net/MulticastSocket/IPMulticastIF.java
      fails on linux-aarch64
    + JDK-8334618: ubsan: support setting additional ubsan check
      options
    + JDK-8334653: ISO 4217 Amendment 177 Update
    + JDK-8334769: Shenandoah: Move CodeCache_lock close to its use
      in ShenandoahConcurrentNMethodIterator
    + JDK-8334867: Add back assertion from JDK-8325494
    + JDK-8335007: Inline OopMapCache table
    + JDK-8335134: Test com/sun/jdi/BreakpointOnClassPrepare.java
      timeout
    + JDK-8335150: Test LogGeneratedClassesTest.java fails on
      rpmbuild mock enviroment
    + JDK-8335237: ubsan: vtableStubs.hpp  is_vtable_stub exclude
      from ubsan checks
    + JDK-8335283: Build failure due to 'no_sanitize' attribute
      directive ignored
    + JDK-8335409: Can't allocate and retain memory from resource
      area in frame::oops_interpreted_do oop closure after 8329665
    + JDK-8335493: check_gc_overhead_limit should reset
      SoftRefPolicy::_should_clear_all_soft_refs
    + JDK-8335536: Fix assertion failure in IdealGraphPrinter when
      append is true
    + JDK-8335743: jhsdb jstack cannot print some information on
      the waiting thread
    + JDK-8335775: Remove extraneous 's' in comment of
      rawmonitor.cpp test file
    + JDK-8335904: Fix invalid comment in ShenandoahLock
    + JDK-8335967: "text-decoration: none" does not work with "A"
      HTML tags
    + JDK-8336284: Test TestClhsdbJstackLock.java/
      TestJhsdbJstackLock.java fails with -Xcomp after JDK-8335743
    + JDK-8336301: test/jdk/java/nio/channels/
      /AsyncCloseAndInterrupt.java leaves around a FIFO file upon
      test completion
    + JDK-8336342: Fix known X11 library locations in sysroot
    + JDK-8336343: Add more known sysroot library locations for ALSA
    + JDK-8336926: jdk/internal/util/ReferencedKeyTest.java can
      fail with ConcurrentModificationException
    + JDK-8336928: GHA: Bundle artifacts removal broken
    + JDK-8337038: Test java/nio/file/attribute/
      /BasicFileAttributeView/CreationTime.java shoud set as /native
    + JDK-8337283: configure.log is truncated when build dir is on
      different filesystem
    + JDK-8337622: IllegalArgumentException in
      java.lang.reflect.Field.get
    + JDK-8337664: Distrust TLS server certificates issued after
      Oct 2024 and anchored by Entrust Root CAs
    + JDK-8338139: {ClassLoading,Memory}MXBean::isVerbose methods
      are inconsistent with their setVerbose methods
    + JDK-8338286: GHA: Demote x86_32 to hotspot build only
    + JDK-8338696: (fs) BasicFileAttributes.creationTime() falls
      back to epoch if birth time is unavailable (Linux)
    + JDK-8339869: [21u] Test CreationTime.java fails with
      UnsatisfiedLinkError after 8334339
    + JDK-8341057: Add 2 SSL.com TLS roots
    + JDK-8341059: Change Entrust TLS distrust date to November 12,
      2024
    + JDK-8341674: [21u] Remove designator
      DEFAULT_PROMOTED_VERSION_PRE=ea for release 21.0.5
    + JDK-8341989: [21u] Back out JDK-8327501 and JDK-8328366

-------------------------------------------------------------------
Wed Jul 17 19:32:56 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Update to upstream tag jdk-21.0.4+7 (July 2024 CPU)
  * Security fixes
    + JDK-8314794, CVE-2024-21131, bsc#1228046: Improve UTF8 String
      supports
    + JDK-8319859, CVE-2024-21138, bsc#1228047: Better symbol
      storage
    + JDK-8320097: Improve Image transformations
    + JDK-8320548, CVE-2024-21140, bsc#1228048: Improved loop
      handling
    + JDK-8323231, CVE-2024-21147, bsc#1228052: Improve array
      management
    + JDK-8323390: Enhance mask blit functionality
    + JDK-8324559, CVE-2024-21145, bsc#1228051: Improve 2D image
      handling
    + JDK-8325600: Better symbol storage
    + JDK-8327413: Enhance compilation efficiency
  * Other changes
    + JDK-7001133: OutOfMemoryError by CustomMediaSizeName
      implementation
    + JDK-8159927: Add a test to verify JMOD files created in the
      images do not have debug symbols
    + JDK-8185862: AWT Assertion Failure in ::GetDIBits(hBMDC, hBM,
      0, 1, 0, gpBitmapInfo, 0) 'awt_Win32GraphicsDevice.cpp', at
      line 185
    + JDK-8187759: Background not refreshed when painting over a
      transparent JFrame
    + JDK-8223696: java/net/httpclient/MaxStreams.java failed with
      didn't finish within the time-out
    + JDK-8259866: two java.util tests failed with "IOException:
      There is not enough space on the disk"
    + JDK-8266242: java/awt/GraphicsDevice/CheckDisplayModes.java
      failing on macOS 11 ARM
    + JDK-8278527: java/util/concurrent/tck/JSR166TestCase.java
      fails nanoTime test
    + JDK-8280056: gtest/LargePageGtests.java#use-large-pages
      failed "os.release_one_mapping_multi_commits_vm"
    + JDK-8281658: Add a security category to the java
      -XshowSettings option
    + JDK-8288936: Wrong lock ordering writing
      G1HeapRegionTypeChange JFR event
    + JDK-8288989: Make tests not depend on the source code
    + JDK-8293069: Make -XX:+Verbose less verbose
    + JDK-8293850: need a largest_committed  metric for each
      category of NMT's output
    + JDK-8294699: Launcher causes lingering busy cursor
    + JDK-8294985: SSLEngine throws IAE during parsing of
      X500Principal
    + JDK-8295111: dpkg appears to have problems resolving
      symbolically linked native libraries
    + JDK-8299023: TestPLABResize.java and TestPLABPromotion.java
      are failing intermittently
    + JDK-8301183: (zipfs) jdk/jdk/nio/zipfs/
      /TestLocOffsetFromZip64EF.java failing with ZipException:R0
      on OL9
    + JDK-8303525: Refactor/cleanup
      open/test/jdk/javax/rmi/ssl/SSLSocketParametersTest.java
    + JDK-8303773: Replace "main.wrapper" with
      "test.thread.factory" property in test code
    + JDK-8303891: Speed up Zip64SizeTest using a small ZIP64 file
    + JDK-8303959: tools/jpackage/share/RuntimePackageTest.java
      fails with java.lang.AssertionError missing files
    + JDK-8303972: (zipfs) Make test/jdk/jdk/nio/zipfs/
      /TestLocOffsetFromZip64EF.java independent of the zip command
      line
    + JDK-8304839: Move TestScaffold.main() to the separate class
      DebugeeWrapper
    + JDK-8305645: System Tray icons get corrupted when Windows
      primary monitor changes
    + JDK-8305931: jdk/jfr/jcmd/TestJcmdDumpPathToGCRoots.java
      failed with "Expected chains but found none"
    + JDK-8306040: HttpResponseInputStream.available() returns 1 on
      empty stream
    + JDK-8308144: Uncontrolled memory consumption in
      SSLFlowDelegate.Reader
    + JDK-8308453: Convert JKS test keystores in
      test/jdk/javax/net/ssl/etc to PKCS12
    + JDK-8309142: Refactor test/langtools/tools/javac/versions/
      /Versions.java
    + JDK-8309752: com/sun/jdi/SetLocalWhileThreadInNative.java
      fails with virtual test thread factory due to
      OpaqueFrameException
    + JDK-8309757: com/sun/jdi/ReferrersTest.java fails with
      virtual test thread factory
    + JDK-8309763: Move tests in test/jdk/sun/misc/URLClassPath
      directory to test/jdk/jdk/internal/loader
    + JDK-8309871: jdk/jfr/api/consumer/recordingstream/
      /TestSetEndTime.java timed out
    + JDK-8309890: TestStringDeduplicationInterned.java waits for
      the wrong condition
    + JDK-8310070: Test javax/net/ssl/DTLS/DTLSWontNegotiateV10.java
      timed out
    + JDK-8310228: Improve error reporting for uncaught native
      exceptions on Windows
    + JDK-8310234: Refactor Locale tests to use JUnit
    + JDK-8310355: Move the stub test from initialize_final_stubs()
      to test/hotspot/gtest
    + JDK-8310513: [s390x] Intrinsify recursive ObjectMonitor
      locking
    + JDK-8310731: Configure a javax.net.ssl.SNIMatcher for the
      HTTP/1.1 test servers in java/net/httpclient tests
    + JDK-8310818: Refactor more Locale tests to use JUnit
    + JDK-8310913: Move ReferencedKeyMap to jdk.internal so it may
      be shared
    + JDK-8311792: java/net/httpclient/ResponsePublisher.java fails
      intermittently with AssertionError: Found some outstanding
      operations
    + JDK-8311823: JFR: Uninitialized EventEmitter::_thread_id field
    + JDK-8311881: jdk/javax/swing/ProgressMonitor/ProgressTest.java
      does not show the ProgressMonitorInputStream all the time
    + JDK-8311964: Some jtreg tests failing on x86 with error
      'unrecognized VM options' (C2 flags)
    + JDK-8312014: [s390x] TestSigInfoInHsErrFile.java Failure
    + JDK-8312194: test/hotspot/jtreg/applications/ctw/modules/
      /jdk_crypto_ec.java cannot handle empty modules
    + JDK-8312218: Print additional debug information when hitting
      assert(in_hash)
    + JDK-8312320: Remove javax/rmi/ssl/SSLSocketParametersTest.sh
      from ProblemList
    + JDK-8312383: Log X509ExtendedKeyManager implementation class
      name in TLS/SSL connection
    + JDK-8312498: Thread::getState and JVM TI GetThreadState
      should return TIMED_WAITING virtual thread is timed parked
    + JDK-8312777: notifyJvmtiMount before notifyJvmtiUnmount
      8321270: Virtual Thread.yield consumes parking permit
    + JDK-8313394: Array Elements in OldObjectSample event has the
      incorrect description
    + JDK-8313612: Use JUnit in lib-test/jdk tests
    + JDK-8313702: Update IANA Language Subtag Registry to Version
      2023-08-02
    + JDK-8313710: jcmd: typo in the documentation of JFR.start and
      JFR.dump
    + JDK-8313899: JVMCI exception Translation can fail in
      TranslatedException.<clinit>
    + JDK-8314573: G1: Heap resizing at Remark does not take
      existing eden regions into account
    + JDK-8314824: Fix serviceability/jvmti/8036666/
      /GetObjectLockCount.java to use vm flags
    + JDK-8314828: Mark 3 jcmd command-line options test as
      vm.flagless
    + JDK-8314832: Few runtime/os tests ignore vm flags
    + JDK-8314975: JavadocTester should set source path if not
      specified
    + JDK-8315071: Modify TrayIconScalingTest.java,
      PrintLatinCJKTest.java to use new PassFailJFrame's builder
      pattern usage
    + JDK-8315117: Update Zlib Data Compression Library to Version
      1.3
    + JDK-8315373: Change VirtualThread to unmount after freezing,
      re-mount before thawing
    + JDK-8315485: (fs) Move java/nio/file/Path/Misc.java tests
      into java/nio/file/Path/PathOps.java
    + JDK-8315503: G1: Code root scan causes long GC pauses due to
      imbalanced iteration
    + JDK-8315559: Delay TempSymbol cleanup to avoid symbol table
      churn
    + JDK-8315605: G1: Add number of nmethods in code roots
      scanning statistics
    + JDK-8315609: Open source few more swing text/html tests
    + JDK-8315652: RISC-V: Features string uses wrong separator for
      jtreg
    + JDK-8315663: Open source misc awt tests
    + JDK-8315677: Open source few swing JFileChooser and other
      tests
    + JDK-8315741: Open source few swing JFormattedTextField and
      JPopupMenu tests
    + JDK-8315824: Open source several Swing Text/HTML related tests
    + JDK-8315834: Open source several Swing JSpinner related tests
    + JDK-8315889: Open source several Swing HTMLDocument  related
      tests
    + JDK-8315898: Open source swing JMenu tests
    + JDK-8315998: Remove dead
      ClassLoaderDataGraphKlassIteratorStatic
    + JDK-8316002: Remove unnecessary seen_dead_loader in
      ClassLoaderDataGraph::do_unloading
    + JDK-8316053: Open some swing tests 3
    + JDK-8316138: Add GlobalSign 2 TLS root certificates
    + JDK-8316154: Opensource JTextArea manual tests
    + JDK-8316164: Opensource JMenuBar manual test
    + JDK-8316186: RISC-V: Remove PlatformCmpxchg<4>
    + JDK-8316228: jcmd tests are broken by 8314828
    + JDK-8316242: Opensource SwingGraphics manual test
    + JDK-8316451: 6 java/lang/instrument/PremainClass tests ignore
      VM flags
    + JDK-8316460: 4 javax/management tests ignore VM flags
    + JDK-8316559: Refactor some util/Calendar tests to JUnit
    + JDK-8316563: test tools/jpackage/linux/LinuxResourceTest.java
      fails on CentOS Linux release 8.5.2111 and Fedora 27
    + JDK-8316608: Enable parallelism in vmTestbase/gc/vector tests
    + JDK-8316669: ImmutableOopMapSet destructor not called
    + JDK-8316670: Remove effectively unused nmethodBucket::_count
    + JDK-8316696: Remove the testing base classes: IntlTest and
      CollatorTest
    + JDK-8316924: java/lang/Thread/virtual/stress/ParkALot.java
      times out
    + JDK-8316959: Improve InlineCacheBuffer pending queue
      management
    + JDK-8317007: Add bulk removal of dead nmethods during class
      unloading
    + JDK-8317235: Remove Access API use in nmethod class
    + JDK-8317287: [macos14] InterJVMGetDropSuccessTest.java: Child
      VM: abnormal termination
    + JDK-8317350: Move code cache purging out of
      CodeCache::UnloadingScope
    + JDK-8317440: Lock rank checking fails when code root set is
      modified with the Servicelock held after JDK-8315503
    + JDK-8317600: VtableStubs::stub_containing() table load not
      ordered wrt to stores
    + JDK-8317631: Refactor ChoiceFormat tests to use JUnit
    + JDK-8317677: Specialize Vtablestubs::entry_for() for
      VtableBlob
    + JDK-8317809: Insertion of free code blobs into code cache can
      be very slow during class unloading
    + JDK-8317965: TestLoadLibraryDeadlock.java fails with "Unable
      to load native library.: expected true, was false"
    + JDK-8318109: Writing JFR records while a CHT has taken its
      lock asserts in rank checking
    + JDK-8318322: Update IANA Language Subtag Registry to Version
      2023-10-16
    + JDK-8318455: Fix the compiler/sharedstubs/
      /SharedTrampolineTest.java and SharedStubToInterpTest.java
    + JDK-8318580: "javax/swing/MultiMonitor/MultimonVImage.java
      failing with Error. Can't find library: /open/test/jdk/java/
      /awt/regtesthelpers" after JDK-8316053
    + JDK-8318585: Rename CodeCache::UnloadingScope to
      UnlinkingScope
    + JDK-8318599: HttpURLConnection cache issues leading to
      crashes in JGSS w/ native GSS introduced by 8303809
    + JDK-8318720: G1: Memory leak in G1CodeRootSet after
      JDK-8315503
    + JDK-8318727: Enable parallelism in
      vmTestbase/vm/gc/concurrent tests
    + JDK-8318757: VM_ThreadDump asserts in interleaved
      ObjectMonitor::deflate_monitor calls
    + JDK-8318854: [macos14] Running any AWT app prints Secure
      coding warning
    + JDK-8318962: Update ProcessTools javadoc with suggestions in
      8315097
    + JDK-8318986: Improve GenericWaitBarrier performance
    + JDK-8319048: Monitor deflation unlink phase prolongs time to
      safepoint
    + JDK-8319153: Fix: Class is a raw type in ProcessTools
    + JDK-8319265: TestLoadLibraryDeadlock.java fails on
      windows-x64 "Unable to load b.jar"
    + JDK-8319338: tools/jpackage/share/RuntimeImageTest.java fails
      with -XX:+UseZGC
    + JDK-8319376: ParallelGC: Forwarded objects found during heap
      inspection
    + JDK-8319437: NMT should show library names in call stacks
    + JDK-8319567: Update java/lang/invoke tests to support vm flags
    + JDK-8319568: Update java/lang/reflect/exeCallerAccessTest/
      /CallerAccessTest.java to accept vm flags
    + JDK-8319571: Update jni/nullCaller/NullCallerTest.java to
      accept flags or mark as flagless
    + JDK-8319574: Exec/process tests should be marked as flagless
    + JDK-8319578: Few java/lang/instrument ignore test.java.opts
      and accept test.vm.opts only
    + JDK-8319647: Few java/lang/System/LoggerFinder/modules tests
      ignore vm flags
    + JDK-8319648: java/lang/SecurityManager tests ignore vm flags
    + JDK-8319650: Improve heap dump performance with class
      metadata caching
    + JDK-8319651: Several network tests ignore vm flags when start
      java process
    + JDK-8319672: Several classloader tests ignore VM flags
    + JDK-8319676: A couple of jdk/modules/incubator/ tests ignore
      VM flags
    + JDK-8319677: Test jdk/internal/misc/VM/RuntimeArguments.java
      should be marked as flagless
    + JDK-8319713: Parallel: Remove
      PSAdaptiveSizePolicy::should_full_GC
    + JDK-8319757: java/nio/channels/DatagramChannel/
      /InterruptibleOrNot.java failed: wrong exception thrown
    + JDK-8319876: Reduce memory consumption of VM_ThreadDump::doit
    + JDK-8319896: Remove monitor deflation from final audit
    + JDK-8319955: Improve dependencies removal during class
      unloading
    + JDK-8320005: Allow loading of shared objects with .a
      extension on AIX
    + JDK-8320061: [nmt] Multiple issues with peak accounting
    + JDK-8320113: [macos14] : ShapeNotSetSometimes.java fails
      intermittently on macOS 14
    + JDK-8320129: "top" command during jtreg failure handler does
      not display CPU usage on OSX
    + JDK-8320275: assert(_chunk->bitmap().at(index)) failed: Bit
      not set at index
    + JDK-8320331: G1 Full GC Heap verification relies on metadata
      not reset before verification
    + JDK-8320342: Use PassFailJFrame for
      TruncatedPopupMenuTest.java
    + JDK-8320343: Generate GIF images for
      AbstractButton/5049549/bug5049549.java
    + JDK-8320349: Simplify FileChooserSymLinkTest.java by using
      single-window testUI
    + JDK-8320365: IPPPrintService.getAttributes() causes blanket
      re-initialisation
    + JDK-8320370: NMT: Change MallocMemorySnapshot to simplify
      code.
    + JDK-8320515: assert(monitor->object_peek() != nullptr)
      failed: Owned monitors should not have a dead object
    + JDK-8320525: G1:
      G1UpdateRemSetTrackingBeforeRebuild::distribute_marked_bytes
      accesses partially unloaded klass
    + JDK-8320570: NegativeArraySizeException decoding >1G UTF8
      bytes with non-ascii characters
    + JDK-8320681: [macos] Test tools/jpackage/macosx/
      /MacAppStoreJlinkOptionsTest.java timed out on macOS
    + JDK-8320692: Null icon returned for .exe without custom icon
    + JDK-8320707: Virtual thread test updates
    + JDK-8320712: Rewrite BadFactoryTest in pure Java
    + JDK-8320714: java/util/Locale/LocaleProvidersRun.java and
      java/util/ResourceBundle/modules/visibility/
      /VisibilityTest.java timeout after passing
    + JDK-8320715: Improve the tests of
      test/hotspot/jtreg/compiler/intrinsics/float16
    + JDK-8320924: Improve heap dump performance by optimizing
      archived object checks
    + JDK-8321075: RISC-V: UseSystemMemoryBarrier lacking proper OS
      support
    + JDK-8321107: Add more test cases for JDK-8319372
    + JDK-8321163: [test] OutputAnalyzer.getExitValue()
      unnecessarily logs even when process has already completed
    + JDK-8321182: SourceExample.SOURCE_14 comment should refer to
      'switch expressions' instead of 'text blocks'
    + JDK-8321276: runtime/cds/appcds/dynamicArchive/
      /DynamicSharedSymbols.java failed with "'17 2:
      jdk/test/lib/apps ' missing from stdout/stderr"
    + JDK-8321489: Update LCMS to 2.16
    + JDK-8321713: Harmonize executeTestJvm with
      create[Limited]TestJavaProcessBuilder
    + JDK-8321718: ProcessTools.executeProcess calls waitFor before
      logging
    + JDK-8321812: Update GC tests to use execute[Limited]TestJava
    + JDK-8321815: Shenandoah: gc state should be synchronized to
      java threads only once per safepoint
    + JDK-8321925: sun/security/mscapi/KeytoolChangeAlias.java
      fails with "Alias <246810> does not exist"
    + JDK-8322239: [macos] a11y : java.lang.NullPointerException is
      thrown when focus is moved on the JTabbedPane
    + JDK-8322477: order of subclasses in the permits clause can
      differ between compilations
    + JDK-8322503: Shenandoah: Clarify gc state usage
    + JDK-8322818: Thread::getStackTrace can fail with
      InternalError if virtual thread is timed-parked when pinned
    + JDK-8322846: Running with -Djdk.tracePinnedThreads set can
      hang
    + JDK-8322858: compiler/c2/aarch64/TestFarJump.java fails on
      AArch64 due to unexpected PrintAssembly output
    + JDK-8322920: Some ProcessTools.execute* functions are
      declared to throw Throwable
    + JDK-8322962: Upcall stub might go undetected when freezing
      frames
    + JDK-8323002: test/jdk/java/lang/Thread/virtual/stress/
      /GetStackTraceALotWhenPinned.java times out on macosx-x64
    + JDK-8323170: j2dbench is using outdated  javac source/target
      to be able to build by itself
    + JDK-8323210: Update the usage of cmsFLAGS_COPY_ALPHA
    + JDK-8323276: StressDirListings.java fails on AIX
    + JDK-8323296: java/lang/Thread/virtual/stress/
      /GetStackTraceALotWhenPinned.java#id1 timed out
    + JDK-8323519: Add applications/ctw/modules to Hotspot tiered
      testing
    + JDK-8323595: is_aligned(p, alignof(OopT))) assertion fails in
      Jetty without compressed OOPs
    + JDK-8323635: Test gc/g1/TestHumongousAllocConcurrentStart.java
      fails with -XX:TieredStopAtLevel=3
    + JDK-8323685: PrintSystemDictionaryAtExit has mutex rank assert
    + JDK-8323994: gtest runner repeats test name for every single
      gtest assertion
    + JDK-8324121: SIGFPE in
      PhaseIdealLoop::extract_long_range_checks
    + JDK-8324123: aarch64: fix prfm literal encoding in assembler
    + JDK-8324236: compiler/ciReplay/
      /TestInliningProtectionDomain.java failed with
      RuntimeException: should only dump inline information for ...
      expected true, was false
    + JDK-8324238: [macOS] java/awt/Frame/ShapeNotSetSometimes/
      /ShapeNotSetSometimes.java fails with the shape has not been
      applied msg
    + JDK-8324243: Compilation failures in java.desktop module with
      gcc 14
    + JDK-8324632: Update Zlib Data Compression Library to Version
      1.3.1
    + JDK-8324646: Avoid Class.forName in SecureRandom constructor
    + JDK-8324648: Avoid NoSuchMethodError when instantiating
      NativePRNG
    + JDK-8324723: GHA: Upgrade some actions to avoid deprecated
      Node 16
    + JDK-8324733: [macos14] Problem list tests which fail due to
      macOS bug described in JDK-8322653
    + JDK-8324817: Parallel GC does not pre-touch all heap pages
      when AlwaysPreTouch enabled and large page disabled
    + JDK-8324824: AArch64: Detect Ampere-1B core and update
      default options for Ampere CPUs
    + JDK-8324834: Use _LARGE_FILES on AIX
    + JDK-8324933: ConcurrentHashTable::statistics_calculate
      synchronization is expensive
    + JDK-8324998: Add test cases for String.regionMatches
      comparing Turkic dotted/dotless I with uppercase latin I
    + JDK-8325024: java/security/cert/CertPathValidator/OCSP/
      /OCSPTimeout.java incorrect comment information
    + JDK-8325028: (ch) Pipe channels should lazily set socket to
      non-blocking mode on first use by virtual thread
    + JDK-8325095: C2: bailout message broken: ResourceArea
      allocated string used after free
    + JDK-8325137: com/sun/management/ThreadMXBean/
      /ThreadCpuTimeArray.java can fail in Xcomp with out of
      expected range
    + JDK-8325203: System.exit(0) kills the launched 3rd party
      application
    + JDK-8325213: Flags introduced by configure script are not
      passed to ADLC build
    + JDK-8325255: jdk.internal.util.ReferencedKeySet::add using
      wrong test
    + JDK-8325326: [PPC64] Don't relocate in case of allocation
      failure
    + JDK-8325372: Shenandoah: SIGSEGV crash in unnecessary_acquire
      due to LoadStore split through phi
    + JDK-8325432: enhance assert message "relocation addr must be
      in this section"
    + JDK-8325437: Safepoint polling in monitor deflation can cause
      massive logs
    + JDK-8325567: jspawnhelper without args fails with segfault
    + JDK-8325579: Inconsistent behavior in
      com.sun.jndi.ldap.Connection::createSocket
    + JDK-8325613: CTW: Stale method cleanup requires GC after
      Sweeper removal
    + JDK-8325621: Improve jspawnhelper version checks
    + JDK-8325743: test/jdk/java/nio/channels/unixdomain/
      /SocketOptions.java enhance user name output in error case
    + JDK-8325862: set -XX:+ErrorFileToStderr when executing java
      in containers for some container related jtreg tests
    + JDK-8325908: Finish removal of IntlTest and CollatorTest
    + JDK-8325972: Add -x to bash for building with LOG=debug
    + JDK-8326006: Allow TEST_VM_FLAGLESS to set flagless mode
    + JDK-8326101: [PPC64] Need to bailout cleanly if creation of
      stubs fails when code cache is out of space
    + JDK-8326140: src/jdk.accessibility/windows/native/
      /libjavaaccessbridge/AccessBridgeJavaEntryPoints.cpp
      ReleaseStringChars might be missing in early returns
    + JDK-8326201: [S390] Need to bailout cleanly if creation of
      stubs fails when code cache is out of space
    + JDK-8326351: Update the Zlib version in
      open/src/java.base/share/legal/zlib.md to 1.3.1
    + JDK-8326446: The User and System of jdk.CPULoad on Apple M1
      are inaccurate
    + JDK-8326496: [test] checkHsErrFileContent  support printing
      hserr in error case
    + JDK-8326521: JFR: CompilerPhase event test fails on windows
      32 bit
    + JDK-8326529: JFR: Test for CompilerCompile events fails due
      to time out
    + JDK-8326591: New test JmodExcludedFiles.java fails on Windows
      when --with-external-symbols-in-bundles=public is used
    + JDK-8326638: Crash in PhaseIdealLoop::remix_address_expressions
      due to unexpected Region instead of Loop
    + JDK-8326643: JDK server does not send a dummy
      change_cipher_spec record after HelloRetryRequest message
    + JDK-8326661: sun/java2d/cmm/ColorConvertOp/ColConvTest.java
      assumes profiles were generated by LCMS
    + JDK-8326685: Linux builds not reproducible if two builds
      configured in different build folders
    + JDK-8326718: Test java/util/Formatter/Padding.java should
      timeout on large inputs before fix in JDK-8299677
    + JDK-8326773: Bump update version for OpenJDK: jdk-21.0.4
    + JDK-8326824: Test: remove redundant test in
      compiler/vectorapi/reshape/utils/TestCastMethods.java
    + JDK-8326891: Prefer RPATH over RUNPATH for $ORIGIN rpaths in
      internal JDK binaries
    + JDK-8326936: RISC-V: Shenandoah GC crashes due to incorrect
      atomic memory operations
    + JDK-8326948: Force English locale for timeout formatting
    + JDK-8326960: GHA: RISC-V sysroot cannot be debootstrapped due
      to ongoing Debian t64 transition
    + JDK-8326974: ODR violation in macroAssembler_aarch64.cpp
    + JDK-8327036: [macosx-aarch64] SIGBUS in
      MarkActivationClosure::do_code_blob reached from
      Unsafe_CopySwapMemory0
    + JDK-8327059: os::Linux::print_proc_sys_info add swappiness
      information
    + JDK-8327096: (fc) java/nio/channels/FileChannel/Size.java
      fails on partition incapable of creating large files
    + JDK-8327136: javax/management/remote/mandatory/notif/
      /NotifReconnectDeadlockTest.java fails on libgraal
    + JDK-8327180: Failed:
      java/io/ObjectStreamClass/ObjectStreamClassCaching.java#G1
    + JDK-8327261: Parsing test for Double/Float succeeds w/o
      testing all bad cases
    + JDK-8327468: Do not restart close if errno is EINTR
      [macOS/linux]
    + JDK-8327474: Review use of java.io.tmpdir in jdk tests
    + JDK-8327486: java/util/Properties/PropertiesStoreTest.java
      fails "Text 'xxx' could not be parsed at index 20" after
      JDK-8174269
    + JDK-8327631: Update IANA Language Subtag Registry to Version
      2024-03-07
    + JDK-8327799: JFR view: the "Park Until" field of
      jdk.ThreadPark is invalid if the parking method is not absolute
    + JDK-8327971: Multiple ASAN errors reported for metaspace
    + JDK-8327988: When running ASAN, disable dangerous NMT test
    + JDK-8327989: java/net/httpclient/ManyRequest.java should not
      use "localhost" in URIs
    + JDK-8327998: Enable java/lang/ProcessBuilder/
      /JspawnhelperProtocol.java on Mac
    + JDK-8328037: Test java/util/Formatter/Padding.java has
      unnecessary high heap requirement after JDK-8326718
    + JDK-8328066: WhiteBoxResizeTest failure on linux-x86: Could
      not reserve enough space for 2097152KB object heap
    + JDK-8328165: improve assert(idx < _maxlrg) failed: oob
    + JDK-8328166: Epsilon: 'EpsilonHeap::allocate_work' misuses
      the parameter 'size' as size in bytes
    + JDK-8328168: Epsilon: Premature OOM when allocating object
      larger than uncommitted heap size
    + JDK-8328194: Add a test to check default rendering engine
    + JDK-8328524: [x86] StringRepeat.java failure on linux-x86:
      Could not reserve enough space for 2097152KB object heap
    + JDK-8328540: test javax/swing/JSplitPane/4885629/
      /bug4885629.java fails on windows hidpi
    + JDK-8328555: hidpi problems for test java/awt/Dialog/
      /DialogAnotherThread/JaWSTest.java
    + JDK-8328589: unify os::breakpoint among posix platforms
    + JDK-8328592: hprof tests fail with -XX:-CompactStrings
    + JDK-8328604: remove on_aix() function
    + JDK-8328638: Fallback option for POST-only OCSP requests
    + JDK-8328702: C2: Crash during parsing because sub type check
      is not folded
    + JDK-8328703: Illegal accesses in
      Java_jdk_internal_org_jline_terminal_impl_jna_linux_CLibraryImpl_ioctl0
    + JDK-8328705: GHA: Cross-compilation jobs do not require build
      JDK
    + JDK-8328709: AIX os::get_summary_cpu_info  support Power 10
    + JDK-8328744: Parallel: Parallel GC throws OOM before heap is
      fully expanded
    + JDK-8328776: [AIX] remove checked_vmgetinfo, use vmgetinfo
      directly
    + JDK-8328812: Update and move siphash license
    + JDK-8328822: C2: "negative trip count?" assert failure in
      profile predicate code
    + JDK-8328825: Google CAInterop test failures
    + JDK-8328938: C2 SuperWord: disable vectorization for large
      stride and scale
    + JDK-8328948: GHA: Restoring sysroot from cache skips the
      build after JDK-8326960
    + JDK-8328957: Update PKCS11Test.java to not use hardcoded path
    + JDK-8328988: [macos14] Problem list LightweightEventTest.java
      which fails due to macOS bug described in JDK-8322653
    + JDK-8328997: Remove unnecessary template parameter lists in
      GrowableArray
    + JDK-8329013: StackOverflowError when starting Apache Tomcat
      with signed jar
    + JDK-8329109: Threads::print_on() tries to print CPU time for
      terminated GC threads
    + JDK-8329163: C2: possible overflow in
      PhaseIdealLoop::extract_long_range_checks()
    + JDK-8329213: Better validation for
      com.sun.security.ocsp.useget option
    + JDK-8329223: Parallel: Parallel GC resizes heap even if -Xms
      = -Xmx
    + JDK-8329545: [s390x] Fix garbage value being passed in
      Argument Register
    + JDK-8329570: G1: Excessive is_obj_dead_cond calls in
      verification
    + JDK-8329605: hs errfile generic events - move memory
      protections and nmethod flushes to separate sections
    + JDK-8329663: hs_err file event log entry for thread
      adding/removing should print current thread
    + JDK-8329823: RISC-V: Need to sync CPU features with related
      JVM flags
    + JDK-8329840: Fix ZPhysicalMemorySegment::_end type
    + JDK-8329850: [AIX] Allow loading of different members of same
      shared library archive
    + JDK-8329862: libjli GetApplicationHome cleanups and enhance
      jli tracing
    + JDK-8329961: Buffer overflow in os::Linux::kernel_version
    + JDK-8330011: [s390x] update block-comments to make code
      consistent
    + JDK-8330094: RISC-V: Save and restore FRM in the call stub
    + JDK-8330156: RISC-V: Range check auipc + signed 12 imm
      instruction
    + JDK-8330242: RISC-V: Simplify and remove
      CORRECT_COMPILER_ATOMIC_SUPPORT in atomic_linux_riscv.hpp
    + JDK-8330275: Crash in XMark::follow_array
    + JDK-8330464: hserr generic events - add entry for the
      before_exit calls
    + JDK-8330523: Reduce runtime and improve efficiency of
      KeepAliveTest
    + JDK-8330524: Linux ppc64le compile warning with clang  in
      os_linux_ppc.cpp
    + JDK-8330615: avoid signed integer overflows in zip_util.c
      readCen / hashN
    + JDK-8330815: Use pattern matching for instanceof in
      KeepAliveCache
    + JDK-8331031: unify os::dont_yield and os::naked_yield across
      Posix platforms
    + JDK-8331113: createJMHBundle.sh support configurable maven
      repo mirror
    + JDK-8331167: UBSan enabled build fails in adlc on macOS
    + JDK-8331298: avoid alignment checks in UBSAN enabled build
    + JDK-8331331: :tier1 target explanation in doc/testing.md is
      incorrect
    + JDK-8331352: error: template-id not allowed for
      constructor/destructor in C++20
    + JDK-8331466: Problemlist serviceability/dcmd/gc/
      /RunFinalizationTest.java on generic-all
    + JDK-8331639: [21u]: Bump GHA bootstrap JDK to 21.0.3
    + JDK-8331942: On Linux aarch64, CDS archives should be using
      64K alignment by default
    + JDK-8332253: Linux arm32 build fails after 8292591
    + JDK-8334441: Mark tests in jdk_security_infra group as manual
    + JDK-8335960: [21u] Remove designator
      DEFAULT_PROMOTED_VERSION_PRE=ea for release 21.0.4
- Added patch:
  * reproducible-javadoc-timestamp.patch
    + set javadoc timestamps to the time from SOURCE_DATE_EPOCH
      environmental variable if it is set

-------------------------------------------------------------------
Tue Jul  2 14:54:49 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Require file for posttrans phase of the headless subpackage
  (bsc#1227298)

-------------------------------------------------------------------
Thu Apr 18 13:25:02 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Update to upstream tag jdk-21.0.3+9 (April 2024 CPU)
  * Security fixes
    + JDK-8315708, CVE-2024-21012, bsc#1222987: Enhance HTTP/2
      client usage
    + JDK-8318340: Improve RSA key implementations
    + JDK-8319851, CVE-2024-21011, bsc#1222979: Improve exception
      logging
    + JDK-8322122, CVE-2024-21068, bsc#1222983: Enhance generation
      of addresses
  * Other changes
    + JDK-6928542: Chinese characters in RTF are not decoded
    + JDK-8009550: PlatformPCSC should load versioned so
    + JDK-8077371: Binary files in JAXP test should be removed
    + JDK-8169475: WheelModifier.java fails by timeout
    + JDK-8209595: MonitorVmStartTerminate.java timed out
    + JDK-8210410: Refactor java.util.Currency:i18n shell tests to
      plain java tests
    + JDK-8261837: SIGSEGV in ciVirtualCallTypeData::translate_from
    + JDK-8263256: Test java/net/Inet6Address/serialize/
      /Inet6AddressSerializationTest.java fails due to dynamic
      reconfigurations of network interface during test
    + JDK-8264899: C1: -XX:AbortVMOnException does not work if all
      methods in the call stack are compiled with C1 and there are
      no exception handlers
    + JDK-8274122: java/io/File/createTempFile/SpecialTempFile.java
      fails in Windows 11
    + JDK-8295343: sun/security/pkcs11 tests fail on Linux RHEL 8.6
      and newer
    + JDK-8296631: NSS tests failing on OL9 linux-aarch64 hosts
    + JDK-8301310: The SendRawSysexMessage test may cause a JVM
      crash
    + JDK-8304020: Speed up test/jdk/java/util/zip/ZipFile/
      /TestTooManyEntries.java and clarify its purpose
    + JDK-8304292: Memory leak related to
      ClassLoader::update_class_path_entry_list
    + JDK-8305962: update jcstress to 0.16
    + JDK-8305971: NPE in JavacProcessingEnvironment for missing
      enum constructor body
    + JDK-8306922: IR verification fails because IR dump is chopped
      up
    + JDK-8307408: Some jdk/sun/tools/jhsdb tests don't pass test
      JVM args to the debuggee JVM
    + JDK-8309109: AArch64: [TESTBUG] compiler/intrinsics/sha/cli/
      /TestUseSHA3IntrinsicsOptionOnSupportedCPU.java fails on
      Neoverse N2 and V1
    + JDK-8309203: C2: remove copy-by-value of GrowableArray for
      InterfaceSet
    + JDK-8309302: java/net/Socket/Timeouts.java fails with
      AssertionError on test temporal post condition
    + JDK-8309697: [TESTBUG] Remove "@requires vm.flagless" from
      jtreg vectorization tests
    + JDK-8310031: Parallel: Implement better work distribution for
      large object arrays in old gen
    + JDK-8310238: [test bug] javax/swing/JTableHeader/6889007/
      /bug6889007.java fails
    + JDK-8310308: IR Framework: check for type and size of vector
      nodes
    + JDK-8310629: java/security/cert/CertPathValidator/OCSP/
      /OCSPTimeout.java fails with RuntimeException
      Server not ready
    + JDK-8310631: test/jdk/sun/nio/cs/TestCharsetMapping.java is
      spuriously passing
    + JDK-8310807: java/nio/channels/DatagramChannel/Connect.java
      timed out
    + JDK-8310844: [AArch64] C1 compilation fails because monitor
      offset in OSR buffer is too large for immediate
    + JDK-8310919: runtime/ErrorHandling/
      /TestAbortVmOnException.java times out due to core dumps
      taking a long time on OSX
    + JDK-8310923: Refactor Currency tests to use JUnit
    + JDK-8311081: KeytoolReaderP12Test.java fail on localized
      Windows platform
    + JDK-8311279: TestStressIGVNAndCCP.java failed with different
      IGVN traces for the same seed
    + JDK-8311581: Remove obsolete code and comments in TestLVT.java
    + JDK-8311588: C2: RepeatCompilation compiler directive does
      not choose stress seed randomly
    + JDK-8311663: Additional refactoring of Locale tests to JUnit
    + JDK-8311893: Interactive component with ARIA role 'tabpanel'
      does not have a programmatically associated name
    + JDK-8311986: Disable runtime/os/TestTracePageSizes.java for
      ShenandoahGC
    + JDK-8311992: Test java/lang/Thread/virtual/
      /JfrEvents::testVirtualThreadPinned failed
    + JDK-8312136: Modify runtime/ErrorHandling/TestDwarf.java to
      split dwarf and decoder testing
    + JDK-8312416: Tests in Locale should have more descriptive
      names
    + JDK-8312428: PKCS11 tests fail with NSS 3.91
    + JDK-8312916: Remove remaining usages of -Xdebug from
      test/hotspot/jtreg
    + JDK-8313082: Enable CreateCoredumpOnCrash for testing in
      makefiles
    + JDK-8313229: DHEKeySizing.java should be modified to use TLS
      versions TLSv1, TLSv1.1, TLSv1.2
    + JDK-8313507: Remove pkcs11/Cipher/TestKATForGCM.java from
      ProblemList
    + JDK-8313621: test/jdk/jdk/internal/math/FloatingDecimal/
      /TestFloatingDecimal should use RandomFactory
    + JDK-8313638: Add test for dump of resolved references
    + JDK-8313670: Simplify shared lib name handling code in some
      tests
    + JDK-8313720: C2 SuperWord: wrong result with
      -XX:+UseVectorCmov -XX:+UseCMoveUnconditionally
    + JDK-8313816: Accessing jmethodID might lead to spurious
      crashes
    + JDK-8313854: Some tests in serviceability area fail on
      localized Windows platform
    + JDK-8314164: java/net/HttpURLConnection/
      /HttpURLConnectionExpectContinueTest.java fails intermittently
      in timeout
    + JDK-8314220: Configurable InlineCacheBuffer size
    + JDK-8314283: Support for NSS tests on aarch64 platforms
    + JDK-8314320: Mark runtime/CommandLine/ tests as flagless
    + JDK-8314333: Update com/sun/jdi/ProcessAttachTest.java to use
      ProcessTools.createTestJvm(..)
    + JDK-8314513: [IR Framework] Some internal IR Framework tests
      are failing after JDK-8310308 on PPC and Cascade Lake
    + JDK-8314578: Non-verifiable code is emitted when two guards
      declare pattern variables in colon-switch
    + JDK-8314610: hotspot can't compile with the latest of gtest
      because of <iomanip>
    + JDK-8314612: TestUnorderedReduction.java fails with
      -XX:MaxVectorSize=32 and -XX:+AlignVector
    + JDK-8314629: Generational ZGC: Clearing All SoftReferences
      log line lacks GCId
    + JDK-8314829: serviceability/sa/jmap-hprof/
      /JMapHProfLargeHeapTest.java ignores vm flags
    + JDK-8314830: runtime/ErrorHandling/ tests ignore external VM
      flags
    + JDK-8314831: NMT tests ignore vm flags
    + JDK-8314835: gtest wrappers should be marked as flagless
    + JDK-8314837: 5 compiled/codecache tests ignore VM flags
    + JDK-8314838: 3 compiler tests ignore vm flags
    + JDK-8314990: Generational ZGC: Strong OopStorage stats
      reported as weak roots
    + JDK-8315034: File.mkdirs() occasionally fails to create
      folders on Windows shared folder
    + JDK-8315042: NPE in PKCS7.parseOldSignedData
    + JDK-8315097: Rename createJavaProcessBuilder
    + JDK-8315241: (fs) Move toRealPath tests in
      java/nio/file/Path/Misc.java to separate JUnit 5 test
    + JDK-8315406: [REDO] serviceability/jdwp/
      /AllModulesCommandTest.java ignores VM flags
    + JDK-8315594: Open source few headless Swing misc tests
    + JDK-8315600: Open source few more headless Swing misc tests
    + JDK-8315602: Open source swing security manager test
    + JDK-8315611: Open source swing text/html and tree test
    + JDK-8315680: java/lang/ref/ReachabilityFenceTest.java should
      run with -Xbatch
    + JDK-8315721: CloseRace.java#id0 fails transiently on libgraal
    + JDK-8315726: Open source several AWT applet tests
    + JDK-8315731: Open source several Swing Text related tests
    + JDK-8315761: Open source few swing JList and JMenuBar tests
    + JDK-8315891: java/foreign/TestLinker.java failed with "error
      occurred while instantiating class TestLinker: null"
    + JDK-8315986: [macos14] javax/swing/JMenuItem/4654927/
      /bug4654927.java: component must be showing on the screen to
      determine its location
    + JDK-8315988: Parallel: Make TestAggressiveHeap use
      createTestJvm
    + JDK-8316001: GC: Make TestArrayAllocatorMallocLimit use
      createTestJvm
    + JDK-8316028: Update FreeType to 2.13.2
    + JDK-8316106: Open source few swing JInternalFrame and
      JMenuBar tests
    + JDK-8316132: CDSProtectionDomain::get_shared_protection_domain
      should check for exception
    + JDK-8316229: Enhance class initialization logging
    + JDK-8316309: AArch64: VMError::print_native_stack() crashes
      on Java native method frame
    + JDK-8316319: Generational ZGC: The SoftMaxHeapSize might be
      wrong when CDS decreases the MaxHeapSize
    + JDK-8316392: compiler/interpreter/
      /TestVerifyStackAfterDeopt.java failed with SIGBUS in
      PcDescContainer::find_pc_desc_internal
    + JDK-8316410: GC: Make TestCompressedClassFlags use
      createTestJvm
    + JDK-8316445: Mark com/sun/management/HotSpotDiagnosticMXBean/
      /CheckOrigin.java as vm.flagless
    + JDK-8316446: 4 sun/management/jdp tests ignore VM flags
    + JDK-8316447: 8 sun/management/jmxremote tests ignore VM flags
    + JDK-8316462: sun/jvmstat/monitor/MonitoredVm/
      /MonitorVmStartTerminate.java ignores VM flags
    + JDK-8316464: 3 sun/tools tests ignore VM flags
    + JDK-8316562: serviceability/sa/jmap-hprof/
      /JMapHProfLargeHeapTest.java times out after JDK-8314829
    + JDK-8316594: C2 SuperWord: wrong result with hand unrolled
      loops
    + JDK-8316661: CompilerThread leaks CodeBlob memory when
      dynamically stopping compiler thread in non-product
    + JDK-8316693: Simplify at-requires checkDockerSupport()
    + JDK-8316947: Write a test to check textArea triggers
      MouseEntered/MouseExited events properly
    + JDK-8316961: Fallback implementations for 64-bit
      Atomic::{add,xchg} on 32-bit platforms
    + JDK-8316973: GC: Make TestDisableDefaultGC use createTestJvm
    + JDK-8317042: G1: Make TestG1ConcMarkStepDurationMillis use
      createTestJvm
    + JDK-8317144: Exclude sun/security/pkcs11/sslecc/
      /ClientJSSEServerJSSE.java on Linux ppc64le
    + JDK-8317188: G1: Make  TestG1ConcRefinementThreads use
      createTestJvm
    + JDK-8317218: G1: Make TestG1HeapRegionSize use createTestJvm
    + JDK-8317228: GC: Make TestXXXHeapSizeFlags use createTestJvm
    + JDK-8317300: javac erroneously allows "final" in front of a
      record pattern
    + JDK-8317307: test/jdk/com/sun/jndi/ldap/
      /LdapPoolTimeoutTest.java fails with ConnectException:
      Connection timed out: no further information
    + JDK-8317316: G1: Make TestG1PercentageOptions use
      createTestJvm
    + JDK-8317317: G1: Make TestG1RemSetFlags use createTestJvm
    + JDK-8317343: GC: Make TestHeapFreeRatio use createTestJvm
    + JDK-8317347: Parallel: Make TestInitialTenuringThreshold use
      createTestJvm
    + JDK-8317358: G1: Make TestMaxNewSize use createTestJvm
    + JDK-8317522: Test logic for BODY_CF in
      AbstractThrowingSubscribers.java is wrong
    + JDK-8317535: Shenandoah: Remove unused code
    + JDK-8317771: [macos14] Expand/collapse a JTree using keyboard
      freezes the application in macOS 14 Sonoma
    + JDK-8317804: com/sun/jdi/JdwpAllowTest.java fails on Alpine
      3.17 / 3.18
    + JDK-8318039: GHA: Bump macOS and Xcode versions
    + JDK-8318082: ConcurrentModificationException from IndexWriter
    + JDK-8318154: Improve stability of WheelModifier.java test
    + JDK-8318157: RISC-V: implement ensureMaterializedForStackWalk
      intrinsic
    + JDK-8318158: RISC-V: implement roundD/roundF intrinsics
    + JDK-8318410: jdk/java/lang/instrument/BootClassPath/
      /BootClassPathTest.sh fails on Japanese Windows
    + JDK-8318468: compiler/tiered/LevelTransitionTest.java fails
      with -XX:CompileThreshold=100 -XX:TieredStopAtLevel=1
    + JDK-8318490: Increase timeout for JDK tests that are close to
      the limit when run with libgraal
    + JDK-8318590: JButton ignores margin when painting HTML text
    + JDK-8318603: Parallelize sun/java2d/marlin/ClipShapeTest.java
    + JDK-8318607: Enable parallelism in vmTestbase/nsk/stress/jni
      tests
    + JDK-8318608: Enable parallelism in
      vmTestbase/nsk/stress/threads tests
    + JDK-8318613: ChoiceFormat patterns are not well tested
    + JDK-8318689: jtreg is confused when folder name is the same
      as the test name
    + JDK-8318696: Do not use LFS64 symbols on Linux
    + JDK-8318737: Fallback linker passes bad JNI handle
    + JDK-8318809: java/util/concurrent/ConcurrentLinkedQueue/
      /WhiteBox.java shows intermittent failures on linux ppc64le
      and aarch64
    + JDK-8318964: Fix build failures caused by 8315097
    + JDK-8318971: Better Error Handling for Jar Tool When
      Processing Non-existent Files
    + JDK-8318983: Fix comment typo in PKCS12Passwd.java
    + JDK-8319103: Popups that request focus are not shown on Linux
      with Wayland
    + JDK-8319124: Update XML Security for Java to 3.0.3
    + JDK-8319128: sun/security/pkcs11 tests fail on OL 7.9 aarch64
    + JDK-8319136: Skip pkcs11 tests on linux-aarch64
    + JDK-8319137: release _object in ObjectMonitor dtor to avoid
      races
    + JDK-8319213: Compatibility.java reads both stdout and stderr
      of JdkUtils
    + JDK-8319314: NMT detail report slow or hangs for large number
      of mappings
    + JDK-8319372: C2 compilation fails with "Bad immediate
      dominator info"
    + JDK-8319382: com/sun/jdi/JdwpAllowTest.java shows failures on
      AIX if prefixLen of mask is larger than 32 in IPv6 case
    + JDK-8319456: jdk/jfr/event/gc/collection/
      /TestGCCauseWith[Serial|Parallel].java : GC cause 'GCLocker
      Initiated GC' not in the valid causes
    + JDK-8319548: Unexpected internal name for Filler array klass
      causes error in VisualVM
    + JDK-8319569: Several java/util tests should be updated to
      accept VM flags
    + JDK-8319633: runtime/posixSig/TestPosixSig.java intermittent
      timeouts on UNIX
    + JDK-8319668: Fixup of jar filename typo in BadFactoryTest.sh
    + JDK-8319777: Zero: Support 8-byte cmpxchg
    + JDK-8319879: Stress mode to randomize incremental inlining
      decision
    + JDK-8319883: Zero: Use atomic built-ins for 64-bit accesses
    + JDK-8319897: Move StackWatermark handling out of
      LockStack::contains
    + JDK-8319938: TestFileChooserSingleDirectorySelection.java
      fails with "getSelectedFiles returned empty array"
    + JDK-8320052: Zero: Use __atomic built-ins for atomic RMW
      operations
    + JDK-8320145: Compiler should accept final variable in Record
      Pattern
    + JDK-8320168: handle setsocktopt return values
    + JDK-8320206: Some intrinsics/stubs missing vzeroupper on
      x86_64
    + JDK-8320208: Update Public Suffix List to b5bf572
    + JDK-8320300: Adjust hs_err output in malloc/mmap error cases
    + JDK-8320303: Allow PassFailJFrame to accept single window
      creator
    + JDK-8320309: AIX: pthreads created by foreign test library
      don't work as expected
    + JDK-8320383: refresh libraries cache on AIX in VMError::report
    + JDK-8320582: Zero: Misplaced CX8 enablement flag
    + JDK-8320798: Console read line with zero out should zero out
      underlying buffer
    + JDK-8320807: [PPC64][ZGC] C1 generates wrong code for atomics
    + JDK-8320830: [AIX] Dont mix os::dll_load() with direct
      dlclose() calls
    + JDK-8320877: Shenandoah: Remove
      ShenandoahUnloadClassesFrequency support
    + JDK-8320888: Shenandoah: Enable ShenandoahVerifyOptoBarriers
      in debug builds
    + JDK-8320890: [AIX] Find a better way to mimic dl handle
      equality
    + JDK-8320898: exclude compiler/vectorapi/reshape/
      /TestVectorReinterpret.java on ppc64(le) platforms
    + JDK-8320907: Shenandoah: Remove ShenandoahSelfFixing flag
    + JDK-8320921: GHA: Parallelize hotspot_compiler test jobs
    + JDK-8320937: support latest VS2022 MSC_VER in
      abstract_vm_version.cpp
    + JDK-8320943: Files/probeContentType/Basic.java fails on
      latest Windows 11 - content type mismatch
    + JDK-8321120: Shenandoah: Remove ShenandoahElasticTLAB flag
    + JDK-8321122: Shenandoah: Remove
      ShenandoahLoopOptsAfterExpansion flag
    + JDK-8321131: Console read line with zero out should zero out
      underlying buffer in JLine
    + JDK-8321151: JDK-8294427 breaks Windows L&F on all older
      Windows versions
    + JDK-8321164: javac with annotation processor throws
      AssertionError: Filling jrt:/... during JarFileObject[/...]
    + JDK-8321215: Incorrect x86 instruction encoding for VSIB
      addressing mode
    + JDK-8321269: Require platforms to define
      DEFAULT_CACHE_LINE_SIZE
    + JDK-8321374: Add a configure option to explicitly set
      CompanyName property in VersionInfo resource for Windows
      exe/dll
    + JDK-8321408: Add Certainly roots R1 and E1
    + JDK-8321409: Console read line with zero out should zero out
      underlying buffer in JLine (redux)
    + JDK-8321410: Shenandoah: Remove ShenandoahSuspendibleWorkers
      flag
    + JDK-8321480: ISO 4217 Amendment 176 Update
    + JDK-8321542: C2: Missing ChaCha20 stub for x86_32 leads to
      crashes
    + JDK-8321582: yield <primitive-type>.class not parsed
      correctly.
    + JDK-8321599: Data loss in AVX3 Base64 decoding
    + JDK-8321619: Generational ZGC: ZColorStoreGoodOopClosure is
      only valid for young objects
    + JDK-8321894: Bump update version for OpenJDK: 21.0.3
    + JDK-8321972: test runtime/Unsafe/InternalErrorTest.java
      timeout on linux-riscv64 platform
    + JDK-8321974: Crash in ciKlass::is_subtype_of because
      TypeAryPtr::_klass is not initialized
    + JDK-8322040: Missing array bounds check in
      ClassReader.parameter
    + JDK-8322098: os::Linux::print_system_memory_info enhance the
      THP output with
      /sys/kernel/mm/transparent_hugepage/hpage_pmd_size
    + JDK-8322142: JFR: Periodic tasks aren't orphaned between
      recordings
    + JDK-8322159: ThisEscapeAnalyzer crashes for erroneous code
    + JDK-8322255: Generational ZGC: ZPageSizeMedium should be set
      before MaxTenuringThreshold
    + JDK-8322279: Generational ZGC: Use ZFragmentationLimit and
      ZYoungCompactionLimit as percentage instead of multiples
    + JDK-8322282: Incorrect LoaderConstraintTable::add_entry after
      JDK-8298468
    + JDK-8322321: Add man page doc for -XX:+VerifySharedSpaces
    + JDK-8322417: Console read line with zero out should zero out
      when throwing exception
    + JDK-8322418: Problem list gc/TestAllocHumongousFragment.java
      subtests for 8298781
    + JDK-8322512: StringBuffer.repeat does not work correctly
      after toString() was called
    + JDK-8322583: RISC-V: Enable fast class initialization checks
    + JDK-8322725: (tz) Update Timezone Data to 2023d
    + JDK-8322750: Test "api/java_awt/interactive/
      /SystemTrayTests.html" failed because A blue ball icon is
      added outside of the system tray
    + JDK-8322772: Clean up code after JDK-8322417
    + JDK-8322783: prioritize /etc/os-release over
      /etc/SuSE-release in hs_err/info output
    + JDK-8322790: RISC-V: Tune costs for shuffles with no
      conversion
    + JDK-8322957: Generational ZGC: Relocation selection must join
      the STS
    + JDK-8323008: filter out harmful -std* flags added by autoconf
      from CXX
    + JDK-8323021: Shenandoah: Encountered reference count always
      attributed to first worker thread
    + JDK-8323065: Unneccesary CodeBlob lookup in
      CompiledIC::internal_set_ic_destination
    + JDK-8323086: Shenandoah: Heap could be corrupted by oom
      during evacuation
    + JDK-8323101: C2: assert(n->in(0) == nullptr) failed:
      divisions with zero check should already have bailed out
      earlier in split-if
    + JDK-8323154: C2: assert(cmp != nullptr && cmp->Opcode() ==
      Op_Cmp(bt)) failed: no exit test
    + JDK-8323243: JNI invocation of an abstract instance method
      corrupts the stack
    + JDK-8323331: fix typo hpage_pdm_size
    + JDK-8323428: Shenandoah: Unused memory in regions compacted
      during a full GC should be mangled
    + JDK-8323515: Create test alias "all" for all test roots
    + JDK-8323637: Capture hotspot replay files in GHA
    + JDK-8323640: [TESTBUG]testMemoryFailCount in
      jdk/internal/platform/docker/TestDockerMemoryMetrics.java
      always fail because OOM killed
    + JDK-8323659: LinkedTransferQueue add and put methods call
      overridable offer
    + JDK-8323664: java/awt/font/JNICheck/FreeTypeScalerJNICheck.java
      still fails with JNI warning on some Windows configurations
    + JDK-8323667: Library debug files contain non-reproducible
      full gcc include paths
    + JDK-8323671: DevKit build gcc libraries contain full paths to
      source location
    + JDK-8323717: Introduce test keyword for tests that need
      external dependencies
    + JDK-8323964: runtime/Thread/ThreadCountLimit.java fails
      intermittently on AIX
    + JDK-8324050: Issue store-store barrier after re-materializing
      objects during deoptimization
    + JDK-8324280: RISC-V: Incorrect implementation in
      VM_Version::parse_satp_mode
    + JDK-8324347: Enable "maybe-uninitialized" warning for
      FreeType 2.13.1
    + JDK-8324514: ClassLoaderData::print_on should print address
      of class loader
    + JDK-8324598: use mem_unit when working with sysinfo memory
      and swap related information
    + JDK-8324637: [aix] Implement support for reporting swap space
      in jdk.management
    + JDK-8324647: Invalid test group of lib-test after JDK-8323515
    + JDK-8324659: GHA: Generic jtreg errors are not reported
    + JDK-8324753: [AIX] adjust os_posix after JDK-8318696
    + JDK-8324858: [vectorapi] Bounds checking issues when
      accessing memory segments
    + JDK-8324874: AArch64: crypto pmull based CRC32/CRC32C
      intrinsics clobber V8-V15 registers
    + JDK-8324937: GHA: Avoid multiple test suites per job
    + JDK-8325074: ZGC fails assert(index == 0 ||
      is_power_of_2(index)) failed: Incorrect load shift: 11
    + JDK-8325096: Test java/security/cert/CertPathBuilder/akiExt/
      /AKISerialNumber.java is failing
    + JDK-8325150: (tz) Update Timezone Data to 2024a
    + JDK-8325194: GHA: Add macOS M1 testing
    + JDK-8325254: CKA_TOKEN private and secret keys are not
      necessarily sensitive
    + JDK-8325444: GHA: JDK-8325194 causes a regression
    + JDK-8325470: [AIX] use fclose after fopen in read_psinfo
    + JDK-8325496: Make TrimNativeHeapInterval a product switch
    + JDK-8325672: C2: allocate PhaseIdealLoop::_loop_or_ctrl from
      C->comp_arena()
    + JDK-8325876: crashes in docker container tests on
      Linuxppc64le Power8 machines
    + JDK-8326000: Remove obsolete comments for class
      sun.security.ssl.SunJSSE
    + JDK-8327391: Add SipHash attribution file
    + JDK-8329838: [21u] Remove designator
      DEFAULT_PROMOTED_VERSION_PRE=ea for release 21.0.3
- Modified patches:
  * disable-doclint-by-default.patch
  * fips.patch
  * java-21-openjdk.spec
  * java-atk-wrapper-security.patch
  * loadAssistiveTechnologies.patch
  * memory-limits.patch
  * multiple-pkcs11-library-init.patch
  * system-pcsclite.patch
  * zero-ranges.patch
    + rediff to apply without fuzz

-------------------------------------------------------------------
Mon Apr  1 07:12:05 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Added patch:
  * reproducible-jlink.patch
    + make the timestamp in jmods reproducible

-------------------------------------------------------------------
Thu Mar  7 12:44:28 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Removed patch:
  * alternative-tzdb_dat.patch
    + Remove the possibility to use the system timezone-java. It
      creates more problems then it solves (bsc#1213470)

-------------------------------------------------------------------
Tue Feb 20 15:37:20 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Use %patch -P N instead of deprecated %patchN.

-------------------------------------------------------------------
Wed Feb  7 13:59:23 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Recommend mozilla-nss-sysinit in order to have available the
  /etc/pki/nssdb directory and its content, required in fips mode
  (bsc#1219662)
- Do not install our crafted nss.fips.cfg file, but use the one that
  the build produces with our fips.patch applied
- Removed patch:
  * nss-security-provider.patch
    + this DISABLED nss security provider was not used for years and
      is largely rendered obsolete by the NSS-FIPS provider
- Modified patch:
  * fips.patch
    + adapt to the removal of the nss security provider

-------------------------------------------------------------------
Wed Jan 24 08:16:42 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Add JPackage base provides for SLE15 too (bsc#1219115)

-------------------------------------------------------------------
Wed Jan 17 13:18:39 UTC 2024 - Fridrich Strba <fstrba@suse.com>

- Update to upstream tag jdk-21.0.2+13 (January 2024 CPU)
  * CVEs
    + CVE-2024-20918, bsc#1218907
    + CVE-2024-20919, bsc#1218903
    + CVE-2024-20921, bsc#1218905
    + CVE-2024-20945, bsc#1218909
    + CVE-2024-20952, bsc#1218911
  * Security fixes
    + JDK-8308204: Enhanced certificate processing
    + JDK-8314295: Enhance verification of verifier
    + JDK-8314307: Improve loop handling
    + JDK-8314468: Improve Compiler loops
    + JDK-8316976: Improve signature handling
    + JDK-8317547: Enhance TLS connection support
  * Other changes
    + JDK-8038244: (fs) Check return value of malloc in
      Java_sun_nio_fs_AixNativeDispatcher_getmntctl()
    + JDK-8161536: sun/security/pkcs11/sslecc/
      /ClientJSSEServerJSSE.java fails with ProviderException
    + JDK-8219652: [aix] Tests failing with JNI attach problems.
    + JDK-8225377: type annotations are not visible to javac
      plugins across compilation boundaries
    + JDK-8232839: JDI AfterThreadDeathTest.java failed due to
      "FAILED: Did not get expected IllegalThreadStateException on
      a StepRequest.enable()"
    + JDK-8267502: JDK-8246677 caused 16x performance regression in
      SynchronousQueue
    + JDK-8267509: Improve IllegalAccessException message to
     include the cause of the exception
    + JDK-8268916: Tests for AffirmTrust roots
    + JDK-8286757: adlc tries to build with /pathmap but without
      /experimental:deterministic
    + JDK-8294156: Allow PassFailJFrame.Builder to create test UI
    + JDK-8294158: HTML formatting for PassFailJFrame instructions
    + JDK-8294427: Check boxes and radio buttons have rendering
      issues on Windows in High DPI env
    + JDK-8294535: Add screen capture functionality to
      PassFailJFrame
    + JDK-8295068: SSLEngine throws NPE parsing CertificateRequests
    + JDK-8295555: Primitive wrapper caches could be `@Stable`
    + JDK-8299614: Shenandoah: STW mark should keep nmethod/oops
      referenced from stack chunk alive
    + JDK-8300663: java/util/concurrent/SynchronousQueue/
      /Fairness.java failed with "Error: fair=true i=0 j=1"
    + JDK-8301247: JPackage app-image exe launches multiple exe's
      in JDK 17+
    + JDK-8301341: LinkedTransferQueue does not respect timeout for
      poll()
    + JDK-8301457: Code in SendPortZero.java is uncommented even
      after JDK-8236852 was fixed
    + JDK-8301489: C1: ShortLoopOptimizer might lift instructions
      before their inputs
    + JDK-8301846: Invalid TargetDataLine after screen lock when
      using JFileChooser or COM library
    + JDK-8303737: C2: Load can bypass subtype check that enforces
      it's from the right object type
    + JDK-8306561: Possible out of bounds access in
      print_pointer_information
    + JDK-8308103: Massive (up to ~30x) increase in C2 compilation
      time since JDK 17
    + JDK-8308452: Extend internal Architecture enum with byte
      order and address size
    + JDK-8308479: [s390x] Implement alternative fast-locking scheme
    + JDK-8308592: Framework for CA interoperability testing
    + JDK-8308593: Add KEEPALIVE Extended Socket Options Support
      for Windows
    + JDK-8309209: C2 failed "assert(_stack_guard_state ==
      stack_guard_reserved_disabled) failed: inconsistent state"
    + JDK-8309305: sun/security/ssl/SSLSocketImpl/
      /BlockedAsyncClose.java fails with jtreg test timeout
    + JDK-8309545: Thread.interrupted from virtual thread
      needlessly resets interrupt status
    + JDK-8309663: test fails "assert(check_alignment(result))
      failed: address not aligned: 0x00000008baadbabe"
    + JDK-8309778: java/nio/file/Files/CopyAndMove.java fails when
      using second test directory
    + JDK-8309974: some JVMCI tests fail when VM options include
      -XX:+EnableJVMCI
    + JDK-8310239: Add missing cross modifying fence in nmethod
      entry barriers
    + JDK-8310512: Cleanup indentation in jfc files
    + JDK-8310596: Utilize existing method
      frame::interpreter_frame_monitor_size_in_bytes()
    + JDK-8310982: jdk/internal/util/ArchTest.java fails after
      JDK-8308452 failed with Method isARM()
    + JDK-8311261: [AIX] TestAlwaysPreTouchStacks.java fails due to
      java.lang.RuntimeException: Did not find expected NMT output
    + JDK-8311514: Incorrect regex in TestMetaSpaceLog.java
    + JDK-8311585: Add JRadioButtonMenuItem to bug8031573.java
    + JDK-8311591: Add SystemModulesPlugin test case that splits
      module descriptors with new local variables defined by
      DedupSetBuilder
    + JDK-8311630: [s390] Implementation of Foreign Function &
      Memory API (Preview)
    + JDK-8311631: When multiple users run tools/jpackage/share/
      /LicenseTest.java, Permission denied for writing
      /var/tmp/*.files
    + JDK-8311680: Update the release version after forking Oct
      CPU23_10
    + JDK-8311681: Update the Jan CPU24_01 release date in master
      branch after forking Oct CPU23_10
    + JDK-8311813: C1: Uninitialized PhiResolver::_loop field
    + JDK-8311938: Add default cups include location for configure
      on AIX
    + JDK-8312078: [PPC] JcmdScale.java Failing on AIX
    + JDK-8312126: NullPointerException in CertStore.getCRLs after
      8297955
    + JDK-8312166: (dc) DatagramChannel's socket adaptor does not
      release carrier thread when blocking in receive
    + JDK-8312174: missing JVMTI events from vthreads parked during
      JVMTI attach
    + JDK-8312191: ColorConvertOp.filter for the default
      destination is too slow
    + JDK-8312433: HttpClient request fails due to connection being
      considered idle and closed
    + JDK-8312434: SPECjvm2008/xml.transform with CDS fails with
      "can't seal package nu.xom"
    + JDK-8312440: assert(cast != nullptr) failed: must have added
      a cast to pin the node
    + JDK-8312466: /bin/nm  usage in AIX makes needs -X64 flag
    + JDK-8312467: relax the builddir check in
      make/autoconf/basic.m4
    + JDK-8312592: New parentheses warnings after HarfBuzz 7.2.0
      update
    + JDK-8312612: handle WideCharToMultiByte return values
    + JDK-8313164: src/java.desktop/windows/native/libawt/windows/
      /awt_Robot.cpp GetRGBPixels adjust releasing of resources
    + JDK-8313167: Update to use jtreg 7.3
    + JDK-8313206: PKCS11 tests silently skip execution
    + JDK-8313244: NM flags handling in configure process
    + JDK-8313252: Java_sun_awt_windows_ThemeReader_paintBackground
      release resources in early returns
    + JDK-8313322: RISC-V: implement MD5 intrinsic
    + JDK-8313368: (fc) FileChannel.size returns 0 on block special
      files
    + JDK-8313575: Refactor PKCS11Test tests
    + JDK-8313616: support loading library members on AIX in
      os::dll_load
    + JDK-8313643: Update HarfBuzz to 8.2.2
    + JDK-8313656: assert(!JvmtiExport::can_support_virtual_threads())
      with -XX:-DoJVMTIVirtualThreadTransitions
    + JDK-8313756: [BACKOUT] 8308682: Enhance AES performance
    + JDK-8313760: [REDO] Enhance AES performance
    + JDK-8313779: RISC-V: use andn / orn in the MD5 instrinsic
    + JDK-8313781: Add regression tests for large page logging and
      user-facing error messages
    + JDK-8313782: Add user-facing warning if THPs are enabled but
      cannot be used
    + JDK-8313792: Verify 4th party information in
      src/jdk.internal.le/share/legal/jline.md
    + JDK-8313873: java/nio/channels/DatagramChannel/
      /SendReceiveMaxSize.java fails on AIX due to small default
      RCVBUF size and different IPv6 Header interpretation
    + JDK-8314045: ArithmeticException in GaloisCounterMode
    + JDK-8314094: java/lang/ProcessHandle/InfoTest.java fails on
      Windows when run as user with Administrator privileges
    + JDK-8314120: Add tests for FileDescriptor.sync
    + JDK-8314121: test tools/jpackage/share/
      /RuntimePackageTest.java#id0 fails on RHEL8
    + JDK-8314191: C2 compilation fails with "bad AD file"
    + JDK-8314226: Series of colon-style fallthrough switch cases
      with guards compiled incorrectly
    + JDK-8314242: Update applications/scimark/Scimark.java to
      accept VM flags
    + JDK-8314246: javax/swing/JToolBar/4529206/bug4529206.java
      fails intermittently on Linux
    + JDK-8314263: Signed jars triggering Logger finder recursion
      and StackOverflowError
    + JDK-8314330: java/foreign tests should respect vm flags when
      start new processes
    + JDK-8314476: TestJstatdPortAndServer.java failed with
      "java.rmi.NoSuchObjectException: no such object in table"
    + JDK-8314495: Update to use jtreg 7.3.1
    + JDK-8314551: More generic way to handshake GC threads with
      monitor deflation
    + JDK-8314580: PhaseIdealLoop::transform_long_range_checks
      fails with assert "was tested before"
    + JDK-8314632: Intra-case dominance check fails in the presence
      of a guard
    + JDK-8314759: VirtualThread.parkNanos timeout adjustment when
      pinned should be replaced
    + JDK-8314883: Java_java_util_prefs_FileSystemPreferences_lockFile0
      write result errno in missing case
    + JDK-8314935: Shenandoah: Unable to throw OOME on back-to-back
      Full GCs
    + JDK-8315026: ProcessHandle implementation listing processes
      on AIX should use getprocs64
    + JDK-8315062: [GHA] get-bootjdk action should return the
      abolute path
    + JDK-8315082: [REDO] Generational ZGC: Tests crash with
      assert(index == 0 || is_power_of_2(index))
    + JDK-8315088: C2: assert(wq.size() - before ==
      EMPTY_LOOP_SIZE) failed: expect the EMPTY_LOOP_SIZE nodes of
      this body if empty
    + JDK-8315195: RISC-V: Update hwprobe query for new extensions
    + JDK-8315206: RISC-V: hwprobe query is_set return wrong value
    + JDK-8315213: java/lang/ProcessHandle/TreeTest.java test
      enhance output of children
    + JDK-8315214: Do not run sun/tools/jhsdb tests concurrently
    + JDK-8315362: NMT: summary diff reports threads count
      incorrectly
    + JDK-8315377: C2: assert(u->find_out_with(Op_AddP) == nullptr)
      failed: more than 2 chained AddP nodes?
    + JDK-8315383: jlink SystemModulesPlugin incorrectly parses the
      options
    + JDK-8315415: OutputAnalyzer.shouldMatchByLine() fails in some
      cases
    + JDK-8315437: Enable parallelism in
      vmTestbase/nsk/monitoring/stress/classload tests
    + JDK-8315442: Enable parallelism in
      vmTestbase/nsk/monitoring/stress/thread tests
    + JDK-8315452: Erroneous AST missing modifiers for partial input
    + JDK-8315499: build using devkit on Linux ppc64le RHEL puts
      path to devkit into libsplashscreen
    + JDK-8315545: C1: x86 cmove can use short branches
    + JDK-8315549: CITime misreports code/total nmethod sizes
    + JDK-8315554: C1: Replace "cmp reg, 0" with "test reg, reg" on
      x86
    + JDK-8315578: PPC builds are broken after JDK-8304913
    + JDK-8315579: SPARC64 builds are broken after JDK-8304913
    + JDK-8315606: Open source few swing text/html tests
    + JDK-8315612: RISC-V: intrinsic for unsignedMultiplyHigh
    + JDK-8315644: increase timeout of
      sun/security/tools/jarsigner/Warning.java
    + JDK-8315651: Stop hiding AIX specific multicast socket errors
      via NetworkConfiguration (aix)
    + JDK-8315683: Parallelize
      java/util/concurrent/tck/JSR166TestCase.java
    + JDK-8315684: Parallelize
      sun/security/util/math/TestIntegerModuloP.java
    + JDK-8315688: Update jdk21u fix version to 21.0.2
    + JDK-8315692: Parallelize
      gc/stress/TestStressRSetCoarsening.java test
    + JDK-8315696: SignedLoggerFinderTest.java test failed
    + JDK-8315702: jcmd Thread.dump_to_file slow with millions of
      virtual threads
    + JDK-8315706: com/sun/tools/attach/warnings/
      /DynamicLoadWarningTest.java real fix for failure on AIX
    + JDK-8315735: VerifyError when switch statement used with
      synchronized block
    + JDK-8315751: RandomTestBsi1999 fails often with timeouts on
      Linux ppc64le
    + JDK-8315766: Parallelize
      gc/stress/TestStressIHOPMultiThread.java test
    + JDK-8315770: serviceability/sa/TestJmapCoreMetaspace.java
      should run with -XX:-VerifyDependencies
    + JDK-8315774: Enable parallelism in vmTestbase/gc/g1/unloading
      tests
    + JDK-8315863: [GHA] Update checkout action to use v4
    + JDK-8315869: UseHeavyMonitors not used
    + JDK-8315920: C2: "control input must dominate current
      control" assert failure
    + JDK-8315931: RISC-V: xxxMaxVectorTestsSmokeTest fails when
      using RVV
    + JDK-8315936: Parallelize gc/stress/TestStressG1Humongous.java
      test
    + JDK-8315937: Enable parallelism in
      vmTestbase/nsk/stress/numeric tests
    + JDK-8315942: Sort platform enums and definitions after
      JDK-8304913 follow-ups
    + JDK-8315960: test/jdk/java/io/File/TempDirDoesNotExist.java
      leaves test files behind
    + JDK-8315971: ProblemList containers/docker/
      /TestMemoryAwareness.java on linux-all
    + JDK-8316003: Update FileChooserSymLinkTest.java to HTML
      instructions
    + JDK-8316017: Refactor timeout handler in PassFailJFrame
    + JDK-8316025: Use testUI() method of PassFailJFrame.Builder in
      FileChooserSymLinkTest.java
    + JDK-8316030: Update Libpng to 1.6.40
    + JDK-8316031: SSLFlowDelegate should not log from synchronized
      block
    + JDK-8316060: test/hotspot/jtreg/runtime/reflect/
      /ReflectOutOfMemoryError.java may fail if heap is huge
    + JDK-8316087: Test SignedLoggerFinderTest.java is still failing
    + JDK-8316113: Infinite permission checking loop in java/net/spi/
      /InetAddressResolverProvider/RuntimePermissionTest
    + JDK-8316123: ProblemList
      serviceability/dcmd/gc/RunFinalizationTest.java on AIX
    + JDK-8316130: Incorrect control in
      LibraryCallKit::inline_native_notify_jvmti_funcs
    + JDK-8316142: Enable parallelism in
      vmTestbase/nsk/monitoring/stress/lowmem tests
    + JDK-8316156: ByteArrayInputStream.transferTo causes
      MaxDirectMemorySize overflow
    + JDK-8316178: Better diagnostic header for CodeBlobs
    + JDK-8316179: Use consistent naming for lightweight locking in
      MacroAssembler
    + JDK-8316181: Move the fast locking implementation out of the
      .ad files
    + JDK-8316199: Remove sun/tools/jstatd/TestJstatd* tests from
      problemlist for Windows.
    + JDK-8316206: Test StretchedFontTest.java fails for Baekmuk
      font
    + JDK-8316304: (fs) Add support for
      BasicFileAttributes.creationTime() for Linux
    + JDK-8316337: (bf) Concurrency issue in
      DirectByteBuffer.Deallocator
    + JDK-8316341: sun/security/pkcs11/PKCS11Test.java needs
      adjustment on Linux ppc64le Ubuntu 22
    + JDK-8316387: Exclude more failing multicast tests on AIX
      after JDK-8315651
    + JDK-8316396: Endless loop in C2 compilation triggered by
      AddNode::IdealIL
    + JDK-8316399: Exclude
      java/net/MulticastSocket/Promiscuous.java on AIX
    + JDK-8316400: Exclude jdk/jfr/event/runtime/
      /TestResidentSetSizeEvent.java on AIX
    + JDK-8316401: sun/tools/jhsdb/JStackStressTest.java failed
      with "InternalError: We should have found a thread that owns
      the anonymous lock"
    + JDK-8316411: compiler/compilercontrol/
      /TestConflictInlineCommands.java fails intermittent with force
      inline by CompileCommand missing
    + JDK-8316414: C2: large byte array clone triggers "failed:
      malformed control flow" assertion failure on linux-x86
    + JDK-8316415: Parallelize
      sun/security/rsa/SignedObjectChain.java subtests
    + JDK-8316418: containers/docker/TestMemoryWithCgroupV1.java
      get OOM killed with Parallel GC
    + JDK-8316436: ContinuationWrapper uses unhandled nullptr oop
    + JDK-8316461: Fix: make test outputs TEST SUCCESS after
      unsuccessful exit
    + JDK-8316468: os::write incorrectly handles partial write
    + JDK-8316514: Better diagnostic header for VtableStub
    + JDK-8316540: StoreReproducibilityTest fails on some locales
    + JDK-8316566: RISC-V: Zero extended narrow oop passed to
      Atomic::cmpxchg
    + JDK-8316581: Improve performance of Symbol::print_value_on()
    + JDK-8316585: [REDO] runtime/InvocationTests spend a lot of
      time on dependency verification
    + JDK-8316645: RISC-V: Remove dependency on libatomic by adding
      cmpxchg 1b
    + JDK-8316648: jrt-fs.jar classes not reproducible between
      standard and bootcycle builds
    + JDK-8316659: assert(LockingMode != LM_LIGHTWEIGHT || flag ==
      CCR0) failed: bad condition register
    + JDK-8316671: sun/security/ssl/SSLSocketImpl/
      /SSLSocketCloseHang.java test fails intermittent with Read
      timed out
    + JDK-8316679: C2 SuperWord: wrong result, load should not be
      moved before store if not comparable
    + JDK-8316710: Exclude java/awt/font/Rotate/RotatedTextTest.java
    + JDK-8316719: C2 compilation still fails with "bad AD file"
    + JDK-8316735: Print LockStack in hs_err files
    + JDK-8316741: BasicStroke.createStrokedShape miter-limits
      failing on small shapes
    + JDK-8316743: RISC-V: Change UseVectorizedMismatchIntrinsic
      option result to warning
    + JDK-8316746: Top of lock-stack does not match the unlocked
      object
    + JDK-8316778: test hprof lib: invalid array element type from
      JavaValueArray.elementSize
    + JDK-8316859: RISC-V: Disable detection of V through HWCAP
    + JDK-8316879: RegionMatches1Tests fails if CompactStrings are
      disabled after JDK-8302163
    + JDK-8316880: AArch64: "stop: Header is not fast-locked" with
      -XX:-UseLSE since JDK-8315880
    + JDK-8316894: make test  TEST="jtreg:test/jdk/..."  fails on
      AIX
    + JDK-8316906: Clarify TLABWasteTargetPercent flag
    + JDK-8316929: Shenandoah: Shenandoah degenerated GC and full
      GC need to cleanup old OopMapCache entries
    + JDK-8316933: RISC-V: compiler/vectorapi/
      /VectorCastShape128Test.java fails when using RVV
    + JDK-8316935: [s390x] Use consistent naming for lightweight
      locking in MacroAssembler
    + JDK-8316958: Add test for unstructured locking
    + JDK-8316967: Correct the scope of vmtimer in
      UnregisteredClasses::load_class
    + JDK-8317039: Enable specifying the JDK used to run jtreg
    + JDK-8317136: [AIX] Problem List
      runtime/jni/terminatedThread/TestTerminatedThread.java
    + JDK-8317257: RISC-V: llvm build broken
    + JDK-8317262: LockStack::contains(oop) fails
      "assert(t->is_Java_thread()) failed: incorrect cast to
      JavaThread"
    + JDK-8317294: Classloading throws exceptions over already
      pending exceptions
    + JDK-8317327: Remove JT_JAVA dead code in jib-profiles.js
    + JDK-8317331: Solaris build failed with "declaration can not
      follow a statement (E_DECLARATION_IN_CODE)"
    + JDK-8317335: Build on windows fails after 8316645
    + JDK-8317336: Assertion error thrown during 'this' escape
      analysis
    + JDK-8317340: Windows builds are not reproducible if MS VS
      compiler install path differs
    + JDK-8317373: Add Telia Root CA v2
    + JDK-8317374: Add Let's Encrypt ISRG Root X2
    + JDK-8317439: Updating RE Configs for BUILD REQUEST 21.0.2+1
    + JDK-8317507: C2 compilation fails with "Exceeded _node_regs
      array"
    + JDK-8317510: Change Windows debug symbol files naming to
      avoid losing info when an executable and a library share the
      same name
    + JDK-8317581: [s390x] Multiple test failure with LockingMode=2
    + JDK-8317601: Windows build on WSL broken after JDK-8317340
    + JDK-8317603: Improve exception messages thrown by
      sun.nio.ch.Net native methods (win)
    + JDK-8317692: jcmd GC.heap_dump performance regression after
      JDK-8292818
    + JDK-8317705: ProblemList sun/tools/jstat/jstatLineCountsX.sh
      on linux-ppc64le and aix due to JDK-8248691
    + JDK-8317706: Exclude java/awt/Graphics2D/DrawString/
      /RotTransText.java on linux
    + JDK-8317711: Exclude gtest/GTestWrapper.java on AIX
    + JDK-8317736: Stream::handleReset locks twice
    + JDK-8317751: ProblemList ConsumeForModalDialogTest.java,
      MenuItemActivatedTest.java &
      MouseModifiersUnitTest_Standard.java for windows
    + JDK-8317772: NMT: Make peak values available in release builds
    + JDK-8317790: Fix Bug entry for exclusion of
      runtime/jni/terminatedThread/TestTerminatedThread.java on AIX
    + JDK-8317803: Exclude java/net/Socket/asyncClose/Race.java on
      AIX
    + JDK-8317807: JAVA_FLAGS removed from jtreg running in
      JDK-8317039
    + JDK-8317818: Combinatorial explosion during 'this' escape
      analysis
    + JDK-8317834: java/lang/Thread/IsAlive.java timed out
    + JDK-8317839: Exclude java/nio/channels/Channels/
      /SocketChannelStreams.java on AIX
    + JDK-8317920: JDWP-agent sends broken exception event with
      onthrow option
    + JDK-8317959: Check return values of malloc in native
      java.base coding
    + JDK-8317964: java/awt/Mouse/MouseModifiersUnitTest/
      /MouseModifiersUnitTest_Standard.java fails on macosx-all
      after JDK-8317751
    + JDK-8317967: Enhance test/jdk/javax/net/ssl/TLSCommon/
      /SSLEngineTestCase.java to handle default cases
    + JDK-8317987: C2 recompilations cause high memory footprint
    + JDK-8318078: ADLC: pass ASSERT and PRODUCT flags
    + JDK-8318089: Class space not marked as such with NMT when CDS
      is off
    + JDK-8318137: Change milestone to fcs for all releases
    + JDK-8318144: Match on enum constants with body compiles but
      fails with MatchException
    + JDK-8318183: C2: VM may crash after hitting node limit
    + JDK-8318240: [AIX] Cleaners.java test failure
    + JDK-8318415: Adjust describing comment of os_getChildren
      after 8315026
    + JDK-8318474: Fix memory reporter for thread_count
    + JDK-8318525: Atomic gtest should run as TEST_VM to access VM
      capabilities
    + JDK-8318528: Rename TestUnstructuredLocking test
    + JDK-8318540: make test cannot run .jasm tests directly
    + JDK-8318562: Computational test more than 2x slower when AVX
      instructions are used
    + JDK-8318587: refresh libraries cache on AIX in print_vm_info
    + JDK-8318591: avoid leaks in loadlib_aix.cpp reload_table()
    + JDK-8318669: Target OS detection in 'test-prebuilt' makefile
      target is incorrect when running on MSYS2
    + JDK-8318705: [macos] ProblemList
      java/rmi/registry/multipleRegistries/MultipleRegistries.java
    + JDK-8318736: com/sun/jdi/JdwpOnThrowTest.java failed with
      "transport error 202: bind failed: Address already in use"
    + JDK-8318759: Add four DigiCert root certificates
    + JDK-8318889: C2: add bailout after assert Bad graph detected
      in build_loop_late
    + JDK-8318895: Deoptimization results in incorrect lightweight
      locking stack
    + JDK-8318951: Additional negative value check in JPEG decoding
    + JDK-8318953: RISC-V: Small refactoring for
      MacroAssembler::test_bit
    + JDK-8318955: Add ReleaseIntArrayElements in
      Java_sun_awt_X11_XlibWrapper_SetBitmapShape XlbWrapper.c to
      early return
    + JDK-8318957: enhance agentlib:jdwp help output by info about
      allow option
    + JDK-8318961: increase javacserver connection timeout values
      and max retry attempts
    + JDK-8318981: compiler/compilercontrol/
      /TestConflictInlineCommands.java fails intermittent with
      'disallowed by CompileCommand' missing from stdout/stderr
    + JDK-8319104: GtestWrapper crashes with SIGILL in
      AsyncLogTest::test_asynclog_raw on AIX opt
    + JDK-8319120: Unbound ScopedValue.get() throws the wrong
      exception
    + JDK-8319184: RISC-V: improve MD5 intrinsic
    + JDK-8319187: Add three eMudhra emSign roots
    + JDK-8319195: Move most tier 1 vector API regression tests to
      tier 3
    + JDK-8319268: Build failure with GCC8.3.1 after 8313643
    + JDK-8319339: Internal error on spurious markup in a hybrid
      snippet
    + JDK-8319436: Proxy.newProxyInstance throws NPE if loader is
      null and interface not visible from class loader
    + JDK-8319525: RISC-V: Rename *_riscv64.ad files to *_riscv.ad
      under riscv/gc
    + JDK-8319532: jshell - Non-sealed declarations sometimes break
      a snippet evaluation
    + JDK-8319542: Fix boundaries of region to be tested with
      os::is_readable_range
    + JDK-8319700: [AArch64] C2 compilation fails with "Field too
      big for insn"
    + JDK-8319828: runtime/NMT/VirtualAllocCommitMerge.java may
      fail if mixing interpreted and compiled native invocations
    + JDK-8319922: libCreationTimeHelper.so fails to link in JDK 21
    + JDK-8319958: test/jdk/java/io/File/libGetXSpace.c does not
      compile on Windows 32-bit
    + JDK-8319961: JvmtiEnvBase doesn't zero _ext_event_callbacks
    + JDK-8320001: javac crashes while adding type annotations to
      the return type of a constructor
    + JDK-8320053: GHA: Cross-compile gtest code
    + JDK-8320209: VectorMaskGen clobbers rflags on x86_64
    + JDK-8320280: RISC-V: Avoid passing t0 as temp register to
      MacroAssembler::lightweight_lock/unlock
    + JDK-8320363: ppc64 TypeEntries::type_unknown logic looks
      wrong, missed optimization opportunity
    + JDK-8320597: RSA signature verification fails on signed data
      that does not encode params correctly
    + JDK-8320601: ProblemList java/lang/invoke/lambda/
      /LambdaFileEncodingSerialization.java on linux-all
    + JDK-8321067: Unlock experimental options in EATests.java
    + JDK-8322883: [BACKOUT] 8225377: type annotations are not
      visible to javac plugins across compilation boundaries
    + JDK-8322985: [BACKOUT] 8318562: Computational test more than
      2x slower when AVX instructions are used

-------------------------------------------------------------------
Thu Dec 14 13:24:11 UTC 2023 - Fridrich Strba <fstrba@suse.com>

- Modified patch:
  * fips.patch
    + use the system crypto-policies provided configuration file
      by default (bsc#1218061)

-------------------------------------------------------------------
Fri Oct 27 05:18:42 UTC 2023 - Fridrich Strba <fstrba@suse.com>

- Set priority and make it the preferred JDK

-------------------------------------------------------------------
Wed Oct 25 09:26:09 UTC 2023 - Fridrich Strba <fstrba@suse.com>

- Upgrade to upstream tag jdk-21.0.1+12 (October 2023 CPU)
  * Security fixes:
    + JDK-8286503: Enhance security classes
    + JDK-8308204: Enhanced certificate processing
    + JDK-8309966, CVE-2023-22081, bsc#1216374: Enhanced TLS
      connections
    + JDK-8312248: Enhanced archival support redux
    + JDK-8314649: Enhanced archival support redux
    + JDK-8317121, CVE-2023-22025, bsc#1216339: vector_masked_load
      instruction is moved too early after JDK-8286941
  * Other changes:
    + JDK-8240567: MethodTooLargeException thrown while creating a
      jlink image
    + JDK-8284772: GHA: Use GCC Major Version Dependencies Only
    + JDK-8293114: JVM should trim the native heap
    + JDK-8296581: Better system proxy support
    + JDK-8297856: Improve handling of Bidi characters
    + JDK-8299658: C1 compilation crashes in
      LinearScan::resolve_exception_edge
    + JDK-8302017: Allocate BadPaddingException only if it will be
      thrown
    + JDK-8303815: Improve Metaspace test speed
    + JDK-8304954: SegmentedCodeCache fails when using large pages
    + JDK-8307766: Linux: Provide the option to override the timer
      slack
    + JDK-8308042: [macos] Developer ID Application Certificate not
      picked up by jpackage if it contains UNICODE characters
    + JDK-8308047: java/util/concurrent/ScheduledThreadPoolExecutor/
      /BasicCancelTest.java timed out and also had jcmd pipe errors
    + JDK-8308184: Launching java with large number of jars in
      classpath with java.protocol.handler.pkgs system property set
      can lead to StackOverflowError
    + JDK-8308474: DSA does not reset SecureRandom when initSign is
      called again
    + JDK-8308609: java/lang/ScopedValue/StressStackOverflow.java
      fails with "-XX:-VMContinuations"
    + JDK-8309032: jpackage does not work for module projects
      unless --module-path is specified
    + JDK-8309088: security/infra/java/security/cert/
      /CertPathValidator/certification/AmazonCA.java fails
    + JDK-8309214: sun/security/pkcs11/KeyStore/
      /CertChainRemoval.java fails after 8301154
    + JDK-8309475: Test java/foreign/TestByteBuffer.java fails: a
      problem with msync (aix)
    + JDK-8309502: RISC-V: String.indexOf intrinsic may produce
      misaligned memory loads
    + JDK-8309591: Socket.setOption(TCP_QUICKACK) uses wrong level
    + JDK-8309746: Reconfigure check should include
      make/conf/version-numbers.conf
    + JDK-8309889: [s390] Missing return statement after calling
      jump_to_native_invoker method in
      generate_method_handle_dispatch.
    + JDK-8310106: sun.security.ssl.SSLHandshake
      .getHandshakeProducer() incorrectly checks handshakeConsumers
    + JDK-8310171: Bump version numbers for 21.0.1
    + JDK-8310211: serviceability/jvmti/thread/GetStackTrace/
      /getstacktr03/getstacktr03.java failing
    + JDK-8310233: Fix THP detection on Linux
    + JDK-8310268: RISC-V: misaligned memory access in
      String.Compare intrinsic
    + JDK-8310321: make JDKOPT_CHECK_CODESIGN_PARAMS more verbose
    + JDK-8310586: ProblemList java/lang/ScopedValue/
      /StressStackOverflow.java#default with virtual threads on
      linux-all
    + JDK-8310687: JDK-8303215 is incomplete
    + JDK-8310873: Re-enable locked_create_entry symbol check in
      runtime/NMT/CheckForProperDetailStackTrace.java for RISC-V
    + JDK-8311026: Some G1 specific tests do not set -XX:+UseG1GC
    + JDK-8311033: [macos] PrinterJob does not take into account
      Sides attribute
    + JDK-8311160: [macOS, Accessibility] VoiceOver: No
      announcements on JRadioButtonMenuItem and JCheckBoxMenuItem
    + JDK-8311249: Remove unused MemAllocator::obj_memory_range
    + JDK-8311285: report some fontconfig related environment
      variables in hs_err file
    + JDK-8311511: Improve description of NativeLibrary JFR event
    + JDK-8311592: ECKeySizeParameterSpec causes too many
      exceptions on third party providers
    + JDK-8311682: Change milestone to fcs for all releases
    + JDK-8311862: RISC-V: small improvements to shift immediate
      instructions
    + JDK-8311917: MAP_FAILED definition seems to be obsolete in
      src/java.desktop/unix/native/common/awt/fontpath.c
    + JDK-8311921: Inform about MaxExpectedDataSegmentSize in case
      of pthread_create failures on AIX
    + JDK-8311923: TestIRMatching.java fails on RISC-V
    + JDK-8311926: java/lang/ScopedValue/StressStackOverflow.java
      takes 9mins in tier1
    + JDK-8311955: c++filt is now ibm-llvm-cxxfilt when using xlc17
      / clang on AIX
    + JDK-8311981: Test gc/stringdedup/
      /TestStringDeduplicationAgeThreshold.java#ZGenerational timed
      out
    + JDK-8312127: FileDescriptor.sync should temporarily increase
      parallelism
    + JDK-8312180: (bf) MappedMemoryUtils passes incorrect
      arguments to msync (aix)
    + JDK-8312182: THPs cause huge RSS due to thread start timing
      issue
    + JDK-8312394: [linux] SIGSEGV if kernel was built without
      hugepage support
    + JDK-8312395: Improve assertions in growableArray
    + JDK-8312401: SymbolTable::do_add_if_needed hangs when called
      in InstanceKlass::add_initialization_error path with
      requesting length exceeds max_symbol_length
    + JDK-8312489: Increase jdk.jar.maxSignatureFileSize default
      which is too low for JARs such as WhiteSource/Mend unified
      agent jar
    + JDK-8312525: New test runtime/os/
      /TestTrimNative.java#trimNative is failing: did not see the
      expected RSS reduction
    + JDK-8312535: MidiSystem.getSoundbank() throws unexpected
      SecurityException
    + JDK-8312555: Ideographic characters aren't stretched by
      AffineTransform.scale(2, 1)
    + JDK-8312573: Failure during CompileOnly parsing leads to
      ShouldNotReachHere
    + JDK-8312585: Rename DisableTHPStackMitigation flag to
      THPStackMitigation
    + JDK-8312591: GCC 6 build failure after JDK-8280982
    + JDK-8312619: Strange error message when switching over long
    + JDK-8312620: WSL Linux build crashes after JDK-8310233
    + JDK-8312625: Test serviceability/dcmd/vm/TrimLibcHeapTest.java
      failed: RSS use increased
    + JDK-8312909: C1 should not inline through interface calls
      with non-subtype receiver
    + JDK-8312976: MatchResult produces
      StringIndexOutOfBoundsException for groups outside match
    + JDK-8312984: javac may crash on a record pattern with too few
      components
    + JDK-8313081: MonitoringSupport_lock should be unconditionally
      initialized after 8304074
    + JDK-8313248: C2: setScopedValueCache intrinsic exposes
      nullptr pre-values to store barriers
    + JDK-8313262: C2:  Sinking node may cause required cast to be
      dropped
    + JDK-8313307: java/util/Formatter/Padding.java fails on some
      Locales
    + JDK-8313312: Add missing classpath exception copyright header
    + JDK-8313323: javac -g on a java file which uses unnamed
      variable leads to ClassFormatError when launching that class
    + JDK-8313402: C1: Incorrect LoadIndexed value numbering
    + JDK-8313428: GHA: Bump GCC versions for July 2023 updates
    + JDK-8313576: GCC 7 reports compiler warning in bundled
      freetype 2.13.0
    + JDK-8313602: increase timeout for
      jdk/classfile/CorpusTest.java
    + JDK-8313626: C2 crash due to unexpected exception control flow
    + JDK-8313657: com.sun.jndi.ldap.Connection.cleanup does not
      close connections on SocketTimeoutErrors
    + JDK-8313676: Amend TestLoadIndexedMismatch test to target
      intrinsic directly
    + JDK-8313678: SymbolTable can leak Symbols during cleanup
    + JDK-8313691: use close after failing os::fdopen in vmError
      and ciEnv
    + JDK-8313701: GHA: RISC-V should use the official repository
      for bootstrap
    + JDK-8313707: GHA: Bootstrap sysroots with --variant=minbase
    + JDK-8313752: InstanceKlassFlags::print_on doesn't print the
      flag names
    + JDK-8313765: Invalid CEN header (invalid zip64 extra data
      field size)
    + JDK-8313796: AsyncGetCallTrace crash on unreadable
      interpreter method pointer
    + JDK-8313874: JNI NewWeakGlobalRef throws exception for null
      arg
    + JDK-8313901: [TESTBUG] test/hotspot/jtreg/compiler/codecache/
      /CodeCacheFullCountTest.java fails with
      java.lang.VirtualMachineError
    + JDK-8313904: [macos] All signing tests which verifies
    unsigned app images are failing
    + JDK-8314020: Print instruction blocks in byte units
    + JDK-8314024: SIGSEGV in
      PhaseIdealLoop::build_loop_late_post_work due to bad immediate
      dominator info
    + JDK-8314063: The socket is not closed in
      Connection::createSocket when the handshake failed for LDAP
      connection
    + JDK-8314117: RISC-V: Incorrect VMReg encoding in
      RISCV64Frame.java
    + JDK-8314118: Update JMH devkit to 1.37
    + JDK-8314139: TEST_BUG: runtime/os/
      /THPsInThreadStackPreventionTest.java could fail on machine
      with large number of cores
    + JDK-8314144: gc/g1/ihop/TestIHOPStatic.java fails due to
      extra concurrent mark with -Xcomp
    + JDK-8314216: Case enumConstant, pattern compilation fails
    + JDK-8314262: GHA: Cut down cross-compilation sysroots deeper
    + JDK-8314423: Multiple patterns without unnamed variables
    + JDK-8314426: runtime/os/TestTrimNative.java is failing on
      slow machines
    + JDK-8314501: Shenandoah: sun/tools/jhsdb/heapconfig/
      /JMapHeapConfigTest.java fails
    + JDK-8314517: some tests fail in case ipv6 is disabled on the
      machine
    + JDK-8314618: RISC-V: -XX:MaxVectorSize does not work as
      expected
    + JDK-8314656: GHA: No need for Debian ports keyring
      installation after JDK-8313701
    + JDK-8314679: SA fails to properly attach to JVM after having
      just detached from a different JVM
    + JDK-8314730: GHA: Drop libfreetype6-dev transitional package
      in favor of libfreetype-dev
    + JDK-8314850: SharedRuntime::handle_wrong_method() gets called
      too often when resolving Continuation.enter
    + JDK-8314960: Add Certigna Root CA - 2
    + JDK-8315020: The macro definition for LoongArch64 zero build
      is not accurate.
    + JDK-8315051: jdk/jfr/jvm/TestGetEventWriter.java fails with
      non-JVMCI GCs
    + JDK-8315534: Incorrect warnings about implicit annotation
      processing

-------------------------------------------------------------------
Wed Oct 18 05:05:17 UTC 2023 - Fridrich Strba <fstrba@suse.com>

- Compiler flags to realign stack on ix86 (bsc#1214790)

-------------------------------------------------------------------
Thu Sep 21 11:14:41 UTC 2023 - Fridrich Strba <fstrba@suse.com>

- Added patch:
  * reproducible-properties.patch
    + use SOURCE_DATE_EPOCH for timestamp in properties files if
      it is set

-------------------------------------------------------------------
Tue Sep 19 10:46:38 UTC 2023 - Fridrich Strba <fstrba@suse.com>

- Initial packaging of OpenJDK 21 release
- Highlight of changes to OpenJDK 17 LTS
  * Additions
    + HotSpot JVM
      JEP-422: Linux/RISC-V Port (19)
      ° Garbage Collectors
      JEP-439: Generational ZGC (21)
      ° Serviceability
      JEP-451: Prepare to Disallow the Dynamic Loading of Agents (21)
    + Language
      JEP-441: Pattern Matching for switch (21)
      JEP-440: Record Patterns (21)
    + Libraries
      JEP-444: Virtual Threads (21)
      ° Collections
      JEP-431: Sequenced Collections (21)
      ° Cryptography
      JEP-452: Key Encapsulation Mechanism API (21)
      ° I/O
      JEP-400: UTF-8 by Default (18)
      ° Networking
      JEP-418: Internet-Address Resolution SPI (18)
      JEP-408: Simple Web Server (18)
      ° Reflection & Method Handles
      JEP-416: Reimplement Core Reflection with Method Handles (18)
    + Tools
      ° JavaDoc
      JEP-413: Code Snippets in Java API Documentation (18)
  * Preview & Incubating
    + Language
      JEP-430: String Templates (Preview) (21)
      JEP-445: Unnamed Classes and Instance Main Methods (Preview) (21)
      JEP-443: Unnamed Patterns and Variables (Preview) (21)
    + Libraries
      JEP-442: Foreign Function & Memory API (Third Preview) (21)
      JEP-446: Scoped Values (Preview) (21)
      JEP-453: Structured Concurrency (Preview) (21)
      JEP-448: Vector API (Sixth Incubator) (21)
  * Deprecations
    + HotSpot JVM
      JEP-449: Deprecate the Windows 32-bit x86 Port for Removal (21)
    + Libraries
      JEP-421: Deprecate Finalization for Removal (18)
