-------------------------------------------------------------------
Mon Dec 13 12:26:10 UTC 2021 - michael@stroeder.com

- Update to version 0.11.6:
  * Fixed CVE-2021-4020 (see also boo#1193156):
    Cross-site Scripting (XSS) vulnerability in some of the demos (#2817)
  * Added strlcat helper to detect and report truncations (#2792)
  * Grow buffer as needed when generating SDPs (#2797)
  * Added DTX support to some plugins (#2789)
  * Added option to forcibly quit Janus when getting dlopen errors (#2828)
  * Fixed broken signed tokens in VideoRoom when using UUIDs (#2812)
  * Added option to choose whether signed tokens should be used in the
    VideoRoom when enabled in the core (#2825)
  * Added configurable expected loss to AudioBridge to actually send FEC (#2802)
  * Added MESSAGE authentication and out-of-dialog MESSAGE support to SIP plugin (#2786)
  * Fixed potential race conditions in SIP plugin (#2823)
  * Added basic history support to TextRoom plugin (#2814)
  * Added support for custom datachannel options in janus.js (#2806)
  * Other smaller fixes and improvements

-------------------------------------------------------------------
Mon Oct 18 16:20:34 UTC 2021 - michael@stroeder.com

- dropped obsolete 0001-include-rand-header-file.patch
- Update to version 0.11.5:
  * Add API to optionally force Janus to use TURN (#2774)
  * Fixed slow path on SDP parsing (#2776)
  * Added event handlers option to send stats for a PeerConnection
    in a single event, rather than per-media (#2785)
  * Fixed occasional deadlocks on malformed requests in VideoRoom (#2780)
  * Fixed AudioBridge plain RTP thread sometimes exiting prematurely
  * Fixed broken upsampling when using G.711 in AudioBridge
  * Add pause/resume recording functionality to Record&Play and SIP plugins (#2724)
  * Fixed broken support for Unix Sockets in WebSockets Admin API (#2787)
  * Added timing info for video rotation when post-processing recordings
  * Added linter checks to janus.js (#2272)
  * Other smaller fixes and improvements

-------------------------------------------------------------------
Thu Sep 23 05:14:47 UTC 2021 - Johannes Segitz <jsegitz@suse.com>

- Added hardening to systemd service(s) (bsc#1181400). Modified:
  * janus.service

-------------------------------------------------------------------
Mon Sep  6 12:53:58 UTC 2021 - Michael Ströder <michael@stroeder.com>

- added janus-gateway-rpmlintrc
- removed systemd-related conditionals to fix obsolete-suse-version-check
- added 0001-include-rand-header-file.patch
- use %fdupes macro
- Update to version 0.11.4:
  * Fixed ICE restart issues with recent versions of libnice (#2729)
  * Changed randon number generators to use crypto-safe functions (#2738)
  * Added support for abs-send-time RTP extension (#2721)
  * Added configurable mechanism for manually setting static event loop to use for new handles (#2684)
  * Fixed datachannel protocol not being sent to plugins for incoming messages (#2753)
  * Added ability to specify recordings folder in AudioBridge (#2707)
  * Added support for forwarding groups in AudioBridge (#2653)
  * Fixed missing Contact header in SIP plugin when using Sofia >= 1.13 (#2708)
  * Better SDES-SRTP negotiation in SIP and NoSIP plugins (#2727)
  * Fixed WebSocket transport and event handler lagging 25/30s when shutting down or reconnecting (#2734)
  * Fixed incoming_header_prefixes not working for helper sessions in SIP plugin
  * Fix partial/broken ACL support in TextRoom plugin (#2763)
  * Fixed potential race condition when reclaiming sessions in HTTP transport plugin
  * Fixed WebSocket event handler reconnect mechanism (#2736)
  * Other smaller fixes and improvements

-------------------------------------------------------------------
Tue Jun 15 13:44:32 UTC 2021 - michael@stroeder.com

- Update to version 0.11.3:
  * Fixed rare crash when detaching handles (#2464)
  * Added option to offer IPv6 link-local candidates as well (#2689)
  * Added spatial audio support to AudioBridge via stereo mixing (#2446)
  * Added support for plain RTP participants to AudioBridge (#2464)
  * Added API to start/stop AudioBridge recordings dynamically
    (thanks @rajneeshksoni!) (#2674)
  * Fixed broken mountpoint switching when using different payload types
    in Streaming plugin (#2692)
  * Fixed occasional deadlock on Streaming plugin mountpoint destroy
    during RTSP reconnects (thanks @lionelnicolas!) (#2700)
  * Added "Expires" support to SUBSCRIBE in SIP plugin
    (thanks @nicolasduteil!) (#2661)
  * Added option to specify Call-ID for SUBSCRIBE dialogs in SIP plugin
    (thanks @nicolasduteil!) (#2664)
  * Fixed broken simulcast support in VideoCall plugin
    (thanks @lucily-star!) (#2671)
  * Implemented RabbitMQ reconnection logic, in both transport and event handler
    (thanks @chriswiggins!) (#2651)
  * Added support for renegotiation of external streams in janus.js
    (thanks @kmeyerhofer!) (#2604)
  * Added support for HEVC/H.265 aggregation packets (AP) to janus-pp-rec
    (thanks @nu774!) (#2662)
  * Refactored janus-pp-rec to cleanup the code, and use libavformat for Opus as well
    (thanks @lu-zero!) (#2665)
  * Added additional target formats for some recorded codecs (#2680)
  * Other smaller fixes and improvements

-------------------------------------------------------------------
Mon May 03 10:24:07 UTC 2021 - michael@stroeder.com

- Update to version 0.11.2:
   - Added support for relative paths in config files, currently only in 
     MQTT event handler (thanks @RSATom!) (#2623)
   - Removed support for now deprecated frame-marking RTP extension 
     (#2640)
   - Fixex rare race condition between VideoRoom publisher leaving and 
     subscriber hanging up (#2637)
   - Fixed occasional crash when using announcements in AudioBridge
   - Fixed rare crash in Streaming plugin when reconnecting RTSP streams 
     (thanks @lucylu-star!) (#2542)
   - Fixed broken switch in Streaming plugin when using helper threads
   - Fixed rare race conditions on socket close in SIP and NoSIP plugins 
     (#2599)
   - Added support for out-of-dialog SIP MESSAGE requests (thanks 
     @ihusejnovic!) (#2616)
   - Fixed memory leak when using helper threads in Streaming plugin
   - Added support for datachannel label/protocol to Lua and Duktape 
     plugins (#2641)
   - Added ability to use WebSockets transport over Unix sockets (thanks 
     @mdevaev!) (#2620)
   - Added janus-pp-rec mechanism to correct wrong RTP timestamps in MJR 
     recordings (thanks @tbence94!) (#2573)
   - Other smaller fixes and improvements

-------------------------------------------------------------------
Tue Apr 06 10:49:55 UTC 2021 - michael@stroeder.com

- Update to version 0.11.1:
  * Add new option to configure ICE nomination mode, if libnice is recent enough (#2541)
  * Added support for per-session timeout values (thanks @alg!) (#2577)
  * Added support for compilation on FreeBSD (thanks @jsm222!) (#2508)
  * Fixed occasional auth errors when using both API secret and stored tokens (#2581)
  * Added support for stdout logging to daemon-mode as well (#2591)
  * Fixed odr-violation issue between Lua and Duktape plugins (#2540)
  * Fixed missing simulcast stats in Admin API and Event Handlers when using rid (#2610)
  * Fixed VideoRoom recording not stopped for participants entering after global recording was started (#2550)
  * Fixed 'audiocodec'/'videocodec' being ignored when joining a VideoRoom via 'joinandconfigure'
  * Added content type support to MESSAGE in SIP plugin (#2567)
  * Made RTSP timeouts configurable in Streaming plugin (#2598)
  * Fixed incorrect parsing of backend URL in WebSockets event handler (#2603)
  * Added support for secure connections and lws debugging to WebSockets event handler
  * Fixed occasionally broken AV1 recordings post-processing
  * Other smaller fixes and improvements (thanks to all who contributed pull requests and reported issues!)

-------------------------------------------------------------------
Mon Feb 08 10:27:21 UTC 2021 - michael@stroeder.com

- Update to version 0.10.10:
  * Reduced verbosity of a few LOG_WARN messages at startup
  * Close libnice agent resources asynchronously when hanging up PeerConnections (thanks @fbellet!) [PR-2492]
  * Fixed broken parsing of SDP when trying to match specific codec profiles [PR-2549]
  * Added muting/moderation API to the VideoRoom plugin [PR-2513]
  * Fixed a few race conditions in VideoRoom plugin that could lead to crashes [[PR-2539][#2539)]
  * Send 480 instead of BYE when hanging up calls in early dialog in the SIP plugin (thanks @zayim!) [PR-2521]
  * Added configurable media direction when putting calls on-hold in the SIP plugin [PR-2525]
  * Fixed rare race condition in AudioBridge when using "changeroom" (thanks @JeckLabs!) [[PR-2535][#2535)]
  * Fixed broken API secret management in HTTP long polls (thanks @remvst!) [PR-2524]
  * Report failure if binding to a socket fails in WebSockets transport plugin (thanks @Symbiatch!) [PR-2534]
  * Updated RabbitMQ logic in both transport and event handler (thanks @chriswiggins!) [PR-2430]
  * Fixed segfault in WebSocket event handler when backend was unreachable
  * Added TLS support to MQTT event handler (thanks @RSATom!) [PR-2517]
  * Other smaller fixes and improvements (thanks to all who contributed pull requests and reported issues!)

-------------------------------------------------------------------
Wed Dec 23 12:32:09 UTC 2020 - michael@stroeder.com

- Update to version 0.10.9:
  * Replaced Travis CI with GitHub Actions [[PR-2486](#2486)]
  * Fixed data channel messages potentially getting stuck in case of burst transfers (thanks @afshin2003!) [[PR-2427](#2427)]
  * Fixed simulcast issues when renegotiating PeerConnections [[Issue-2466](#2466)]
  * Added configurable TURN REST API timeout (thanks @evorw!) [[PR-2470](#2470)]
  * Added support for recording of binary data channels [[PR-2481](#2481)]
  * Fixed occasional SRTP errors when pausing and then resuming Streaming plugin handles after a long time
  * Fixed occasional SRTP errors when leaving and joining AudioBridge rooms without a new PeerConnection after a long time
  * Added support for playout of data channels in Record&Play plugin and demo (thanks @ricardo-salgado-tekever!) [[PR-2468](#2468)]
  * Added option to override connections limit in HTTP transport plugin [[PR-2489](#2489)]
  * Added options to enable libmicrohttpd debugging in HTTP transport plugin (thanks @evorw!) [[PR-2471](#2471)]
  * Fixed a few compile and runtime issues in WebSocket event handler
  * Refactored postprocessing management of timestamps to fix some key issues [[PR-2345](#2345)]
  * Fixed postprocessing of audio recordings containing RTP silence suppression packets [[PR-2467](#2467)]
  * Other smaller fixes and improvements (thanks to all who contributed pull requests and reported issues!)

-------------------------------------------------------------------
Tue Dec 22 09:25:17 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Do not hard-require systemd. Drop redundant wording from
  description. Drop %defattr.

-------------------------------------------------------------------
Mon Dec 21 19:16:41 UTC 2020 - Michael Ströder <michael@stroeder.com>

- Initial packaging of 0.10.8 for Factory
