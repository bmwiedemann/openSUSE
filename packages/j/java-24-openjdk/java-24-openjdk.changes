-------------------------------------------------------------------
Fri Aug 22 07:13:42 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- jdk-8354941.patch: JDK-8354941: Build failure with glibc 2.42 due to
  uabs() name collision

-------------------------------------------------------------------
Mon Jul 21 10:59:48 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- Do not embed rebuild counter (bsc#1246806)

-------------------------------------------------------------------
Fri Jul 18 07:28:51 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- Update to upstream tag jdk-24.0.2+12 (July 2025 CPU)
  * CVEs
    + CVE-2025-30749, bsc#1246595
    + CVE-2025-30754, bsc#1246598
    + CVE-2025-30761, bsc#1246580
    + CVE-2025-50059, bsc#1246575
    + CVE-2025-50106, bsc#1246584
  * Changes
    + JDK-8217914: java/net/httpclient/
      /ConnectTimeoutHandshakeSync.java failed on connection refused
      while doing POST
    + JDK-8276995: Bug in jdk.jfr.event.gc.collection.TestSystemGC
    + JDK-8280991: [XWayland] No displayChanged event after
      setDisplayMode call
    + JDK-8281511: java/net/ipv6tests/UdpTest.java fails with
      checkTime failed
    + JDK-8286204: [Accessibility,macOS,VoiceOver] VoiceOver reads
      the spinner value 10 as 1 when user iterates to 10 for the
      first time on macOS
    + JDK-8294155: Exception thrown before awaitAndCheck hangs
      PassFailJFrame
    + JDK-8303770: Remove Baltimore root certificate expiring in May
      2025
    + JDK-8305010: Test vmTestbase/nsk/jvmti/scenarios/sampling/
      /SP05/sp05t003/TestDescription.java timed out: thread not
      suspended
    + JDK-8314840: 3 gc/epsilon tests ignore external vm options
    + JDK-8322983: Virtual Threads: exclude 2 tests
    + JDK-8330598: java/net/httpclient/Http1ChunkedTest.java fails
      with java.util.MissingFormatArgumentException: Format
      specifier '%s'
    + JDK-8330936: [ubsan] exclude function BilinearInterp and
      ShapeSINextSpan in libawt java2d from ubsan checks
    + JDK-8334644: Automate
      javax/print/attribute/PageRangesException.java
    + JDK-8336042: Caller/callee param size mismatch in
      deoptimization causes crash
    + JDK-8338303: Linux ppc64le with toolchain clang - detection
      failure in early JVM startup
    + JDK-8339889: Several compiler tests ignore vm flags and not
      marked as flagless
    + JDK-8340784: Remove PassFailJFrame constructor with screenshots
    + JDK-8342524: Use latch in AbstractButton/bug6298940.java
      instead of delay
    + JDK-8342775: [Graal] java/util/concurrent/locks/Lock/
      /OOMEInAQS.java fails OOME  thrown from the
      UncaughtExceptionHandler
    + JDK-8343191: Cgroup v1 subsystem fails to set subsystem path
    + JDK-8343224: print/Dialog/PaperSizeError.java fails with
      MediaSizeName is not A4: A4
    + JDK-8343607: C2: Shenandoah crashes during barrier expansion
      in Continuation::enter
    + JDK-8343882: BasicAnnoTests doesn't handle multiple
      annotations at the same position
    + JDK-8343978: Update the default value of CodeEntryAlignment
      for Ampere-1A and 1B
    + JDK-8344316: security/auth/callback/TextCallbackHandler/
      /Password.java make runnable with JTReg and add the UI
    + JDK-8344453: Test
      jdk/jfr/event/oldobject/TestSanityDefault.java timed out
    + JDK-8344581: [TESTBUG]
      java/awt/Robot/ScreenCaptureRobotTest.java failing on macOS
    + JDK-8344629: SSLSocketNoServerHelloClientShutdown test timeout
    + JDK-8344892: beans/finder/MethodFinder.findMethod incorrectly
      returns null
    + JDK-8344925: translet-name ignored when package-name is also
      set
    + JDK-8345133: Test sun/security/tools/jarsigner/
      /TsacertOptionTest.java failed: Warning found in stdout
    + JDK-8345134: Test sun/security/tools/jarsigner/
      /ConciseJarsigner.java failed: unable to find valid
      certification path to requested target
    + JDK-8345185: Update jpackage to not include service bindings
      by default
    + JDK-8345276: Remove EA from the JDK 24 version string with
      first RC promotion
    + JDK-8345368: java/io/File/createTempFile/SpecialTempFile.java
      fails on Windows Server 2025
    + JDK-8345569: [ubsan] adjustments to filemap.cpp and
      virtualspace.cpp for macOS aarch64
    + JDK-8345590: AIX 'make all' fails after JDK-8339480
    + JDK-8345625: Better HTTP connections
    + JDK-8345676: [ubsan] ProcessImpl_md.c:561:40: runtime error:
      applying zero offset to null pointer on macOS aarch64
    + JDK-8345728: [Accessibility,macOS,Screen Magnifier]: JCheckbox
      unchecked state does not magnify but works for checked state
    + JDK-8346049: jdk/test/lib/security/timestamp/TsaServer.java
      warnings
    + JDK-8346264: "Total compile time" counter should include time
      spent in failing/bailout compiles
    + JDK-8346285: Update jarsigner compatibility test for change in
      default digest algorithm
    + JDK-8346581: JRadioButton/ButtonGroupFocusTest.java fails in
      CI on Linux
    + JDK-8346587: Distrust TLS server certificates anchored by
      Camerfirma Root CAs
    + JDK-8346671: java/nio/file/Files/probeContentType/Basic.java
      fails on Windows 2025
    + JDK-8346705: SNI not sent with Java 22+ using
      java.net.http.HttpClient.Builder#sslParameters
    + JDK-8346832: runtime/CompressedOops/
      /CompressedCPUSpecificClassSpaceReservation.java fails on
      RISC-V
    + JDK-8346880: [aix] java/lang/ProcessHandle/InfoTest.java still
      fails: "reported cputime less than expected"
    + JDK-8346881: [ubsan] logSelection.cpp:154:24  /
      logSelectionList.cpp:72:94 : runtime error: applying non-zero
      offset 1 to null pointer
    + JDK-8346888: [ubsan] block.cpp:1617:30: runtime error:
      9.97582e+36 is outside the range of representable values of
      type 'int'
    + JDK-8346972: Test java/nio/channels/FileChannel/
      /LoopingTruncate.java fails sometimes with IOException: There
      is not enough space on the disk
    + JDK-8347000: Bug in com/sun/net/httpserver/bugs/B6361557.java
      test
    + JDK-8347018: C2: Insertion of Assertion Predicates ignores the
      effects of PhaseIdealLoop::clone_up_backedge_goo()
    + JDK-8347038: [JMH] jdk.incubator.vector.SpiltReplicate fails
      NoClassDefFoundError
    + JDK-8347126: gc/stress/TestStressG1Uncommit.java gets
      OOM-killed
    + JDK-8347171: (dc) java/nio/channels/DatagramChannel/
      /InterruptibleOrNot.java fails with virtual thread factory
    + JDK-8347173: java/net/DatagramSocket/
      /InterruptibleDatagramSocket.java fails with virtual thread
      factory
    + JDK-8347267: [macOS]: UnixOperatingSystem.c:67:40: runtime
      error: division by zero
    + JDK-8347268: [ubsan] logOutput.cpp:357:21: runtime error:
      applying non-zero offset 1 to null pointer
    + JDK-8347286: (fs) Remove some extensions from
      java/nio/file/Files/probeContentType/Basic.java
    + JDK-8347296: WinInstallerUiTest fails in local test runs if
      the path to test work directory is longer that regular
    + JDK-8347298: Bug in JPackageCommand.ignoreFakeRuntime()
    + JDK-8347300: Don't exclude the "PATH" var from the environment
      when running app launchers in jpackage tests
    + JDK-8347302: Mark test tools/jimage/JImageToolTest.java as
      flagless
    + JDK-8347373: HTTP/2 flow control checks may count unprocessed
      data twice
    + JDK-8347377: Add validation checks for ICC_Profile header
      fields
    + JDK-8347427: JTabbedPane/8134116/Bug8134116.java has no
      license header
    + JDK-8347564: ZGC: Crash in
      DependencyContext::clean_unloading_dependents
    + JDK-8347576: Error output in libjsound has non matching format
      strings
    + JDK-8347629: Test FailOverDirectExecutionControlTest.java
      fails with -Xcomp
    + JDK-8347718: Unexpected NullPointerException in C2 compiled
      code due to ReduceAllocationMerges
    + JDK-8347740: java/io/File/createTempFile/SpecialTempFile.java
      failing
    + JDK-8347847: Enhance jar file support
    + JDK-8347995: Race condition in
      jdk/java/net/httpclient/offline/FixedResponseHttpClient.java
    + JDK-8347997: assert(false) failed: EA: missing memory path
    + JDK-8348102: java/net/httpclient/HttpClientSNITest.java fails
      intermittently
    + JDK-8348110: Update LCMS to 2.17
    + JDK-8348261: assert(n->is_Mem()) failed: memory node required
    + JDK-8348299: Update List/ItemEventTest/ItemEventTest.java
    + JDK-8348323: Corrupted timezone string in JVM crash log
    + JDK-8348356: Update the release version after forking Apr
      CPU25_04
    + JDK-8348562: ZGC: segmentation fault due to missing node type
      check in barrier elision analysis
    + JDK-8348582: Set -fstack-protector when building with clang
    + JDK-8348596: Update FreeType to 2.13.3
    + JDK-8348597: Update HarfBuzz to 10.4.0
    + JDK-8348598: Update Libpng to 1.6.47
    + JDK-8348600: Update PipeWire to 1.3.81
    + JDK-8348675: TrayIcon tests fail in Ubuntu 24.10 Wayland
    + JDK-8348936: [Accessibility,macOS,VoiceOver] VoiceOver doesn't
      announce untick on toggling the checkbox with "space" key on
      macOS
    + JDK-8348989: Better Glyph drawing
    + JDK-8349002: GenShen: Deadlock during shutdown
    + JDK-8349039: Adjust exception No type named <ThreadType> in
      database
    + JDK-8349058: 'internal proprietary API' warnings make javac
      warnings unusable
    + JDK-8349084: Update vectors used in several PQC benchmarks
    + JDK-8349111: Enhance Swing supports
    + JDK-8349150: Support precompiled headers on AIX
    + JDK-8349183: [BACKOUT] Optimization for StringBuilder append
      boolean & null
    + JDK-8349200: [JMH] time.format.ZonedDateTimeFormatterBenchmark
      fails
    + JDK-8349213: G1: Clearing bitmaps during collection set
      merging not claimed by region
    + JDK-8349214: Improve size optimization flags for MSVC builds
    + JDK-8349239: [BACKOUT] Reuse StringLatin1::putCharsAt and
      StringUTF16::putCharsAt
    + JDK-8349348: Refactor ClassLoaderDeadlock.sh and Deadlock.sh
      to run fully in java
    + JDK-8349358: [JMH] Cannot access class
      jdk.internal.vm.ContinuationScope
    + JDK-8349370: Bump version numbers for 24.0.2
    + JDK-8349375: Cleanup AIX special file build settings
    + JDK-8349378: Build splashscreen lib with SIZE optimization
    + JDK-8349492: Update sun/security/pkcs12/
      /KeytoolOpensslInteropTest.java to use a recent Openssl
      version
    + JDK-8349501: Relocate supporting classes in
      security/testlibrary to test/lib/jdk tree
    + JDK-8349551: Failures in tests after JDK-8345625
    + JDK-8349584: Improve compiler processing
    + JDK-8349594: Enhance TLS protocol support
    + JDK-8349623: [ASAN] Gtest os_linux.glibc_mallinfo_wrapper_vm
      fails
    + JDK-8349637: Integer.numberOfLeadingZeros outputs incorrectly
      in certain cases
    + JDK-8349751: AIX build failure after upgrade pipewire to 1.3.81
    + JDK-8349753: Incorrect use of CodeBlob::is_buffer_blob() in
      few places
    + JDK-8349787: java/lang/Thread/virtual/ThreadPollOnYield.java
      #default passes unexpectedly without libVThreadPinner.so
    + JDK-8349943: [JMH] Use jvmArgs consistently
    + JDK-8350103: Test containers/systemd/
      /SystemdMemoryAwarenessTest.java fails on Linux ppc64le SLES15
      SP6
    + JDK-8350137: After JDK-8348975, Linux builds contain man pages
      for windows only tools
    + JDK-8350201: Out of bounds access on Linux aarch64 in
      os::print_register_info
    + JDK-8350202: Tune for Power10 CPUs on Linux ppc64le
    + JDK-8350211: CTW: Attempt to preload all classes in constant
      pool
    + JDK-8350260: Improve HTML instruction formatting in
      PassFailJFrame
    + JDK-8350313: Include timings for leaving safepoint in
      safepoint logging
    + JDK-8350386: Test TestCodeCacheFull.java fails with option
      -XX:-UseCodeCacheFlushing
    + JDK-8350483: AArch64: turn on signum intrinsics by default on
      Ampere CPUs
    + JDK-8350498: Remove two Camerfirma root CA certificates
    + JDK-8350499: Minimal build fails with slowdebug builds
    + JDK-8350546: Several java/net/InetAddress tests fails
      UnknownHostException
    + JDK-8350682: [JMH] vector.IndexInRangeBenchmark failed with
      IndexOutOfBoundsException for size=1024
    + JDK-8350683: Non-C2 / minimal JVM crashes in the build on
      ppc64 platforms
    + JDK-8350786: Some java/lang jtreg tests miss requires vm.hasJFR
    + JDK-8350820: OperatingSystemMXBean CpuLoad() methods return
      -1.0 on Windows
    + JDK-8350924: javax/swing/JMenu/4213634/bug4213634.java fails
    + JDK-8350991: Improve HTTP client header handling
    + JDK-8351033: RISC-V: TestFloat16ScalarOperations asserts with
      offset (4210) is too large to be patched in one
      beq/bge/bgeu/blt/bltu/bne instruction!
    + JDK-8351223: Update localized resources in keytool and
      jarsigner
    + JDK-8351233: [ASAN] avx2-emu-funcs.hpp:151:20: error:
      ‘D.82188’ is used uninitialized
    + JDK-8351277: Remove pipewire from AIX build
    + JDK-8351382: New test
      containers/docker/TestMemoryWithSubgroups.java is failing
    + JDK-8351500: G1: NUMA migrations cause crashes in region
      allocation
    + JDK-8351639: Improve debuggability of test/langtools/jdk/
      /jshell/JdiHangingListenExecutionControlTest.java test
    + JDK-8351665: Remove unused UseNUMA in os_aix.cpp
    + JDK-8351933: Inaccurate masking of TC subfield decrement in
      ForkJoinPool
    + JDK-8352109: java/awt/Desktop/MailTest.java fails in platforms
      where Action.MAIL is not supported
    + JDK-8352302: Test
      sun/security/tools/jarsigner/TimestampCheck.java is failing
    + JDK-8352508: [Redo] G1: Pinned regions with pinned objects
      only reachable by native code crash VM
    + JDK-8352512: TestVectorZeroCount: counter not reset between
      iterations
    + JDK-8352706: httpclient HeadTest does not run on HTTP2
    + JDK-8352716: (tz) Update Timezone Data to 2025b
    + JDK-8352946: SEGV_BND signal code of SIGSEGV missing from our
      signal-code table
    + JDK-8353053: (fs) Add support for UserDefinedFileAttributeView
      on AIX
    + JDK-8353066: Properly detect Windows/aarch64 as build platform
    + JDK-8353185: Introduce the concept of upgradeable files in
      context of JEP 493
    + JDK-8353261: Problemlist 5 tests due to failures in the CI
      pipeline
    + JDK-8353274: [PPC64] Bug related to
      -XX:+UseCompactObjectHeaders -XX:-UseSIGTRAP in JDK-8305895
    + JDK-8353329: Small memory leak when create GrowableArray with
      initial size 0
    + JDK-8353709: Debug symbols bundle should contain full debug
      files when building --with-external-symbols-in-bundles=public
    + JDK-8353740: Problemlist 2 tests due to failures in the CI
      pipeline
    + JDK-8353787: Increased number of SHA-384-Digest
      java.util.jar.Attributes$Name instances leading to higher
      memory footprint
    + JDK-8353861: Problemlist 1 test due to failures in the CI
      pipeline
    + JDK-8353946: Incorrect WINDOWS ifdef in
      os::build_agent_function_name
    + JDK-8354657: Problemlist 2 tests due to failures in the CI
      pipeline
    + JDK-8354831: Problemlist 2 tests due to failures in the CI
      pipeline
    + JDK-8354861: Change milestone to fcs for all releases
    + JDK-8354904: [Backout] JDK-8345625: Better HTTP connections
    + JDK-8355524: Only every second line in upgradeable files is
      being used
    + JDK-8355884: [macos] java/awt/Frame/I18NTitle.java fails on
      MacOS
    + JDK-8356096: ISO 4217 Amendment 179 Update
    + JDK-8359170: Add 2 TLS and 2 CS Sectigo roots
    + JDK-8360147: Better Glyph drawing redux

-------------------------------------------------------------------
Tue Apr 29 10:21:00 UTC 2025 - Fridrich Strba <fstrba@suse.com>

- Initial packaging of OpenJDK 24 including April 2025 CPU
