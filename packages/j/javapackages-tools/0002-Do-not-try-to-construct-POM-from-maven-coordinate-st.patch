From c0a4b557eb9a3b20c36fabe67ffac953ba78d2a5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Fridrich=20=C5=A0trba?= <fridrich.strba@bluewin.ch>
Date: Fri, 29 Apr 2022 13:27:10 +0200
Subject: [PATCH 2/3] Do not try to construct POM from maven coordinate string

---
 java-utils/maven_depmap.py | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/java-utils/maven_depmap.py b/java-utils/maven_depmap.py
index f684a728..367632e6 100644
--- a/java-utils/maven_depmap.py
+++ b/java-utils/maven_depmap.py
@@ -312,8 +312,10 @@ def _main():
     if namespace:
         artifact.namespace = namespace
 
-    pom = POM(pom_path)
-    if pom.parent or pom.packaging == "pom":
+    pom = None
+    if have_pom:
+        pom = POM(pom_path)
+    if not pom or pom.parent or pom.packaging == "pom":
         artifact.properties["xmvn.resolver.disableEffectivePom"] = "true"
     else:
         deps = []
-- 
2.36.0

