Index: libcap-1.97/doc/cap_get_proc.3
===================================================================
--- libcap-1.97.orig/doc/cap_get_proc.3
+++ libcap-1.97/doc/cap_get_proc.3
@@ -15,8 +15,6 @@ arbitrary processes
 .br
 .BI "int cap_set_proc(cap_t " cap_p );
 .sp
-.B #undef _POSIX_SOURCE
-.br
 .B #include <sys/capability.h>
 .sp
 .BI "cap_t capgetp(pid_t " pid ", cap_t " cap_d );
Index: libcap-1.97/doc/capget.2
===================================================================
--- libcap-1.97.orig/doc/capget.2
+++ libcap-1.97/doc/capget.2
@@ -5,8 +5,6 @@
 .SH NAME
 capget, capset \- set/get process capabilities
 .SH SYNOPSIS
-.B #undef _POSIX_SOURCE
-.br
 .B #include <sys/capability.h>
 .sp
 .BI "int capget(cap_user_header_t " header ", cap_user_data_t " data );
Index: libcap-1.97/libcap/include/sys/capability.h
===================================================================
--- libcap-1.97.orig/libcap/include/sys/capability.h
+++ libcap-1.97/libcap/include/sys/capability.h
@@ -103,20 +103,15 @@ cap_t   cap_from_text(const char *);
 char *  cap_to_text(cap_t, ssize_t *);
 
 /*
- * Linux capability system calls: defined in libcap but only available
- * if the following _POSIX_SOURCE is _undefined_
+ * Linux capability system calls: defined in libcap
  */
 
-#if !defined(_POSIX_SOURCE)
-
 extern int capset(cap_user_header_t header, cap_user_data_t data);
 extern int capget(cap_user_header_t header, const cap_user_data_t data);
 extern int capgetp(pid_t pid, cap_t cap_d);
 extern int capsetp(pid_t pid, cap_t cap_d);
 extern char const *_cap_names[];
 
-#endif /* !defined(_POSIX_SOURCE) */
-
 #ifdef __cplusplus
 }
 #endif
Index: libcap-1.97/progs/getpcaps.c
===================================================================
--- libcap-1.97.orig/progs/getpcaps.c
+++ libcap-1.97/progs/getpcaps.c
@@ -11,7 +11,6 @@
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
-#undef _POSIX_SOURCE
 #include <sys/capability.h>
 
 static void usage(void)
Index: libcap-1.97/progs/setpcaps.c
===================================================================
--- libcap-1.97.orig/progs/setpcaps.c
+++ libcap-1.97/progs/setpcaps.c
@@ -9,7 +9,6 @@
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
-#undef _POSIX_SOURCE
 #include <sys/capability.h>
 #include <unistd.h>
 
Index: libcap-1.97/progs/sucap.c
===================================================================
--- libcap-1.97.orig/progs/sucap.c
+++ libcap-1.97/progs/sucap.c
@@ -8,13 +8,12 @@
  * privileges. All environment variables are inherited.
  */
 
+#define _BSD_SOURCE 1
 #include <sys/types.h>
 #include <errno.h>
 #include <stdio.h>
-#undef _POSIX_SOURCE
 #include <sys/capability.h>
 #include <pwd.h>
-#define __USE_BSD
 #include <grp.h>
 #include <unistd.h>
 #include <sys/wait.h>
