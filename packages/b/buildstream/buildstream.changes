-------------------------------------------------------------------
Fri Sep 25 16:32:09 UTC 2020 - bjorn.lie@gmail.com

- Update to version 1.6.0:
  + Fixed edge case issue when dealing with git remotes.
- Changes from version 1.5.1:
  + Support `buildstream1.conf` as well as `buildstream.conf` for
    parallel installations.
  + Lazy resolution of variables, this allows junctions to use
    variables without requiring the project to have fully resolved
    variables, while still reporting the right error messages if a
    junction uses unresolved variables.
  + Fix an issue where conditional statements were being lost
    instead of processed at include time, only when the include
    happens in project.conf.
  + Backport some artifact cache related structural changes, and
    allow BuildStream 1 clients to interface with BuildStream 2
    remote asset caches, while still allowing BuildStream 1 to
    interface with its own bst-artifact-server implementation.
  + Added sandbox configuration for `os` and `architecture` to
    mirror the added options in BuildStream 2.
- Changes from version 1.5.0:
  + Process options in included files in the context of the project
    they were included from.
    This is technically a breaking change, however it is highly
    unlikely that this will break projects. In some cases projects
    were working around the broken behavior by ensuring matching
    project option names in junctioned projects, and in other cases
    simply avoiding including files which have project option
    conditional statements.
  + Added errors when trying to load BuildStream 2 projects,
    recommending to install the appropriate BuildStream version for
    the project.
  + Added errors when loading BuildStream 2 plugins in a
    BuildStream 1 project, recommending to use BuildStream 1
    plugins with BuildStream 1 projects.

-------------------------------------------------------------------
Wed May 13 19:53:32 UTC 2020 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 1.4.3:
  + Fix support for conditional list append/prepend in
    project.conf.
  + Fix internal imports to import from "collections" instead of
    "collections.abc", this improves support for Python 3.8.
  + Fix some downloads from gitlab.com by setting custom user
    agent.
  + Work around python API break from ostree's
    repo.remote_gpg_import(), this was changed in ostree commit
    v2019.2-10-gaa5df899, and we now have a fallback to support
    both versions of the API.

-------------------------------------------------------------------
Wed Apr  1 15:27:11 UTC 2020 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 1.4.2:
  + Support for python 3.8.
  + Fix a stacktrace with a hang we can experience when we CTRL-C a
    job twice.
  + Workaround some servers which do not honor the 'If-None-Match'
    HTTP header and avoid downloading files redundantly in these
    cases.
  + Allow specifying absolute paths in overlap-whitelist.
  + Support systems with fuse3 (avoid passing unsupported argument
    to fusermount3).

-------------------------------------------------------------------
Tue Sep  3 11:56:38 UTC 2019 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 1.4.1:
  + Depend on a newer version of ruamel.yaml (>= 0.16).

-------------------------------------------------------------------
Mon Sep  2 16:54:23 UTC 2019 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 1.4.0:
  + Elements may now specify 'build-depends' and 'runtime-depends'
    fields to avoid having to specify the dependency type for every
    entry in 'depends'.
  + Elements may now specify cross-junction dependencies as simple
    strings using the format '{junction-name}:{element-name}'.
  + New `fatal-warnings` has been added to the project.conf format,
    allowing projects to specify which warnings they want to
    consider as fatal.
  + Support for the following warnings is included:
    - overlaps: When staged artifact files overlap (deprecates:
     'fail-on-overlap').
    - ref-not-in-track: When the source implementation finds that
      the ref is out of bounds for the tracking config.
    - git:inconsistent-submodule: A .gitmodules file is present but
      the submodule was never added to the repo.
    - git:unlisted-submodule: A submodule exists but is not
      specified in the YAML declaration.
    - git:invalid-submodule: A submodule is specified in the YAML
      declaration but does not exist at the given ref in the git
      repository.
  + BuildStream now depends on python3 ujson (for some internal
    serializations).
  + Workspaces can now be opened as relative paths. Existing open
    workspaces will not be converted to relative paths, (they need
    to be closed and opened again to get the new behavior).
  + Dependencies can now be specified as strict to force rebuild in
    non-strict mode. This is useful for statically linked
    dependencies.
  + Git source plugins can optionally track human readable refs
    using the output of `git describe`.

-------------------------------------------------------------------
Tue Jul 16 17:36:25 UTC 2019 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 1.2.8:
  + Fixed issues with workspaced junctions which need fetches.
  + Bail out with informative error if stdout/stderr are
    O_NONBLOCK.

-------------------------------------------------------------------
Sun May 26 08:52:06 UTC 2019 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 1.2.7:
  + Improved messaging around unknown artifact cache keys.
  + Fixed crash which occurs when deleting artifact cache with open
    workspaces.
  + Fixed `bst --no-strict build --track-all ...` which sometimes
    exited successfully without building anything.
  + Fixed incorrect error message with malformed YAML in
    project.conf.

-------------------------------------------------------------------
Thu May 23 09:26:16 UTC 2019 - Dominique Leuenberger <dimstar@opensuse.org>

- Require python3-click (boo#1116806).

-------------------------------------------------------------------
Tue Apr 30 11:07:14 UTC 2019 - Dominique Leuenberger <dimstar@opensuse.org>

- Update to version 1.2.6:
  + Fix 'quit' option when interrupting a build.
  + Only queue one cache size calculation job at a time.
  + Fix stack traces on forceful termination.
  + Fix scheduler processing order regression.
  + Fix race condition in bzr source plugin.
  + Better error messages for insufficient disk space.
  + UI/Logging improvements regarding cache quota usage.
  + Fix `bst push` in non-strict mode.
  + Fix crash (regression) when tracking a single element.

-------------------------------------------------------------------
Mon Mar 25 19:29:19 UTC 2019 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 1.2.5:
  + Fixed failure to process some elements when workspaces are
    open.
  + Better error reporting when files are missing, or when
    encountering errors in sub projects.
  + Do not require exact versions of dependencies for running
    tests.
  + Fail on overlap policy no longer inherited from subprojects.

-------------------------------------------------------------------
Thu Feb 14 20:34:04 UTC 2019 - bjorn.lie@gmail.com

- Update to version 1.2.4:
  + Migration of scripts to use tox.
  + Force updating tags when fetching from git repos.
  + Avoid downloading unused submodules.
  + Fixed cleanup of cache server with disk is full.
  + Fixed possible artifact cache corruption.
  + Fixed `bst checkout --deps none` behavior.

-------------------------------------------------------------------
Fri Oct  5 13:20:12 UTC 2018 - bjorn.lie@gmail.com

- Update to version 1.2.3:
  + Fixed an unhandled exception when cleaning up a build sandbox.
  + Fixed race condition when calculating cache size and commiting
    artifacts.
  + Fixed regression where terminating with `^C` results in a
    double user interrogation.
  + Fixed regression in summary when builds are terminated.
  + Fixed regression where irrelevant status messages appear from
    git sources.
  + Improve performance of artifact uploads by batching file
    transfers.
  + Fixed performance of artifact downloads by batching file
    transfers.
  + Fixed checks for paths which escape the project directory.

-------------------------------------------------------------------
Wed Sep 26 17:24:37 UTC 2018 - bjorn.lie@gmail.com

- Update to version 1.2.2:
  + Fixed incomplete removal of blessings dependency.
- Changes from version 1.2.1:
  + Fixed corruption of artifact cache at cache cleanup time.
  + Fixed accidental deletion of artifacts when tracking is
    enabled.
  + Error out when protected variables are set by project authors.
  + Fixed option resolution in project wide element & source
    configurations.
  + Error out gracefully when push remote is mal-specified.
  + Improved logging regarding skipped push / pull jobs.
  + Fixed crash in `bst fetch` when project.refs and source
    mirroring are in use.
  + Removed blessings dependency.
  + Support for batch file downloads on the artifact cache server.
- Changes from version 1.2.0:
  + Various last minute bug fixes.
  + Final update to the SourceFetcher related mirroring APIs.

-------------------------------------------------------------------
Thu Aug 23 16:28:03 UTC 2018 - bjorn.lie@gmail.com

- Update to version 1.1.7:
  + Fix CAS resource_name format. Artifact servers need to be
    updated.
  + Improved startup performance and performance of calculating
    artifact cache size.
  + Various other bug fixes.

-------------------------------------------------------------------
Thu Aug 16 12:38:42 UTC 2018 - bjorn.lie@gmail.com

- Update to version 1.1.6:
  + A lot of bug fixes.

-------------------------------------------------------------------
Mon Aug 13 08:43:24 UTC 2018 - bjorn.lie@gmail.com

- Update to version 1.1.5:
  + Add a `--tar` option to `bst checkout` which allows a tarball
    to be created from the artifact contents.
  + Fetching and tracking will consult mirrors defined in project
    config, and the preferred mirror to fetch from can be defined
    in the command line or user config.
  + Added new `remote` source plugin for downloading file blobs.
  + Add support for the new include '(@)' directive in
    project.conf and .bst files.

-------------------------------------------------------------------
Thu Jul 19 15:55:04 UTC 2018 - bjorn.lie@gmail.com

- Update to version 1.1.4:
  + `bst workspace` commands and `bst track` will substitute their
    source elements when performing those operations, e.g.
    performing `bst track` on a filter element will track the
    sources on the element that it depends on (if it has sources).
  + Added new simple `make` element.
  + Switch to Remote Execution CAS-based artifact cache on all
    platforms.
  + Artifact servers need to be migrated.
  + BuildStream now requires python version >= 3.5
  + BuildStream will now automatically clean up old artifacts when
    it runs out of space. The exact behavior is configurable in the
    user's buildstream.conf.

-------------------------------------------------------------------
Thu May  3 03:37:06 UTC 2018 - luc14n0@linuxmail.org

- Update to version 1.1.3:
  + Added new `bst init` command to initialize a new project.
  + Cross junction tracking is now disabled by default for projects
    which can support this.
  + Failed jobs are now summarised at the end of a build. Use
    `--verbose` and `--no-verbose` to adjust the amount of detail
    given.
  + BuildElements' `configure-commands` are only run once for
    workspaces now, which allows for incremental builds.
    Appropriate API for plugins is also exposed through
    `Element.prepare`.
  + The `cmake` plugin now supports building with ninja with the
    newly added `generator` configuration option.
  + `bst workspace close` and `bst workspace reset` now support
    multiple elements. All elements can be specified using `--all`.
  + The elements whose cache keys had to be determined during the
    build are summarised at the end of the build.
  + Fixed versioning introspection to be dynamic, many users use
    a developer install mode so they can update with git, now the
    version information is always up to date in logs.
    This causes a minor API break: The --version output now only
    outputs the version.
- Drop python3-setuptools_scm BuildRequires as this is not required
  anymore.

-------------------------------------------------------------------
Mon Mar 26 02:58:16 UTC 2018 - luc14n0@linuxmail.org

- Update to version 1.1.2:
  + New ref-storage option allows one to store source refs, such as
    git shas, in one central project.refs file instead of inline
    with the source declarations.
  + Deprecated `--track-save` optionality in `bst build`, this does
    not make sense to support now that there is project.refs.
  + Added the `sandbox` configuration option which can be used in
    `project.conf` and elements, to control the user ID and group
    ID used in build sandboxes.
  + Added new `deb` source implementation, for staging of
    downloaded deb package files.

-------------------------------------------------------------------
Thu Mar  8 16:07:48 UTC 2018 - dimstar@opensuse.org

- Update to version 1.1.1:
  + New project configuration controlling how the sandbox behaves
    when `bst shell` is used; allowing projects to provide a more
    functional shell environment.
  + The `bst shell` command now has a `--mount` option allowing
    users to mount files and directories into the sandbox for
    testing purposes.
  + Log lines are now configurable with the new "message-format"
    user configuration, allowing one to express optional fields
    such as microsecond precision and wallclock time.
  + Newly added filter element
  + Git source plugin now allows disabling of submodule checkouts
  + In the same way we allow overriding element configurations
    by their 'kind' in project.conf, we now support the same
    for source plugin configurations.
  + Tar and zip sources now automatically recall an `etag`
    from the http headers, optimizing tracking of tarballs
    significantly (glgo#GNOME/BuildStream#62).

-------------------------------------------------------------------
Wed Feb 28 00:54:09 UTC 2018 - luc14n0@linuxmail.org

- Update to version 1.1.0:
  + Multiple artifact caches are now supported in project and
    user configuration with a priority order
    (gl#BuildStream/buildstream#85).
  + Add junction support for subprojects.
  + Changes towards incremental builds in workspaces.
  + `bst shell --build` now creates true build sandbox.
  + Many bug fixes.

-------------------------------------------------------------------
Fri Jan  5 00:47:30 UTC 2018 - luc14n0@linuxmail.org

- Initial openSUSE package, version 1.0.1.
