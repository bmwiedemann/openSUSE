This adjusts some testcases that expect new behaviour:
* that relaxable relocations are generated
* that separate-code is default
  - this also implies that default max-page-size is 0x1000, instead of the
    old 0x200000, so some testcases need to encode that as well
Index: binutils-2.37/ld/testsuite/ld-elf/linux-x86.exp
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-elf/linux-x86.exp
+++ binutils-2.37/ld/testsuite/ld-elf/linux-x86.exp
@@ -125,7 +125,7 @@ proc check_pr25749a {testname srcfilea s
     }
 
     # Suppress warning for unsupported attribute from older GCC.
-    append cflags " -w"
+    append cflags " -w -Wa,-mrelax-relocations=yes"
 
     exec cp $srcdir/$subdir/$srcfilea $srcfilea
     exec chmod +w $srcfilea
@@ -246,7 +246,7 @@ proc check_pr25749b {testname srcfilea s
 	[list \
 	    "Build lib${testname}.so ($dsoldflags)" \
 	    "-shared $dsoldflags tmpdir/pr25749-bin.o" \
-	    "-fPIC -I../bfd" \
+	    "-fPIC -I../bfd -Wa,-mrelax-relocations=yes" \
 	    [list $srcfileb] \
 	    {{readelf {-Wr} pr25749.rd}}  \
 	    "lib${testname}.so" \
Index: binutils-2.37/ld/testsuite/ld-i386/report-reloc-1.d
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-i386/report-reloc-1.d
+++ binutils-2.37/ld/testsuite/ld-i386/report-reloc-1.d
@@ -1,6 +1,6 @@
 #source: report-reloc-1.s
 #as: --32
-#ld: -pie -melf_i386 -z report-relative-reloc
+#ld: -pie -melf_i386 -z report-relative-reloc -z separate-code
 #warning_output: report-reloc-1.l
 #readelf: -r --wide
 
Index: binutils-2.37/ld/testsuite/ld-x86-64/pe-x86-64.exp
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-x86-64/pe-x86-64.exp
+++ binutils-2.37/ld/testsuite/ld-x86-64/pe-x86-64.exp
@@ -27,7 +27,7 @@ if {![istarget "x86_64-*-linux*"] } {
 run_ld_link_tests [list \
     [list \
 	"Build pe-x86-64-1" \
-	"-m elf_x86_64 --entry=begin" \
+	"-m elf_x86_64 --entry=begin -z separate-code -z max-page-size=4096" \
 	"" \
 	"" \
 	{pe-x86-64-1a.obj.bz2 pe-x86-64-1b.obj.bz2 pe-x86-64-1c.obj.bz2} \
@@ -36,7 +36,7 @@ run_ld_link_tests [list \
     ] \
     [list \
 	"Build pe-x86-64-2" \
-	"-m elf_x86_64 --entry=begin" \
+	"-m elf_x86_64 --entry=begin -z separate-code -z max-page-size=4096" \
 	"" \
 	"" \
 	{pe-x86-64-2a.obj.bz2 pe-x86-64-2b.obj.bz2 pe-x86-64-2c.obj.bz2} \
@@ -45,7 +45,7 @@ run_ld_link_tests [list \
     ] \
     [list \
 	"Build pe-x86-64-3" \
-	"-m elf_x86_64 --entry=begin" \
+	"-m elf_x86_64 --entry=begin -z separate-code -z max-page-size=4096" \
 	"" \
 	"" \
 	{pe-x86-64-3a.obj.bz2 pe-x86-64-3b.obj.bz2 pe-x86-64-3c.obj.bz2 \
@@ -55,7 +55,7 @@ run_ld_link_tests [list \
     ] \
     [list \
 	"Build pe-x86-64-4" \
-	"-m elf_x86_64 --entry=begin" \
+	"-m elf_x86_64 --entry=begin -z separate-code -z max-page-size=4096" \
 	"" \
 	"" \
 	{pe-x86-64-4a.obj.bz2 pe-x86-64-4b.obj.bz2 pe-x86-64-4c.obj.bz2 \
@@ -65,7 +65,7 @@ run_ld_link_tests [list \
     ] \
     [list \
 	"Build pe-x86-64-5" \
-	"-m elf_x86_64 --entry=begin" \
+	"-m elf_x86_64 --entry=begin -z separate-code -z max-page-size=4096" \
 	"" \
 	"" \
 	{pe-x86-64-5.obj.bz2 } \
@@ -75,7 +75,7 @@ run_ld_link_tests [list \
     ] \
     [list \
 	"Build pe-x86-64-6" \
-	"-m elf_x86_64 --entry=main" \
+	"-m elf_x86_64 --entry=main -z separate-code -z max-page-size=4096" \
 	"" \
 	"" \
 	{pe-x86-64-6.obj.bz2 } \
Index: binutils-2.37/ld/testsuite/ld-x86-64/report-reloc-1-x32.d
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-x86-64/report-reloc-1-x32.d
+++ binutils-2.37/ld/testsuite/ld-x86-64/report-reloc-1-x32.d
@@ -1,6 +1,6 @@
 #source: report-reloc-1.s
 #as: --x32
-#ld: -pie -melf32_x86_64 -z report-relative-reloc
+#ld: -pie -melf32_x86_64 -z report-relative-reloc -z separate-code -z max-page-size=4096
 #warning_output: report-reloc-1.l
 #readelf: -r --wide
 
Index: binutils-2.37/ld/testsuite/ld-x86-64/report-reloc-1.d
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-x86-64/report-reloc-1.d
+++ binutils-2.37/ld/testsuite/ld-x86-64/report-reloc-1.d
@@ -1,6 +1,6 @@
 #source: report-reloc-1.s
 #as: --64
-#ld: -pie -melf_x86_64 -z report-relative-reloc
+#ld: -pie -melf_x86_64 -z report-relative-reloc -z separate-code -z max-page-size=4096
 #warning_output: report-reloc-1.l
 #readelf: -r --wide
 
Index: binutils-2.37/ld/testsuite/ld-x86-64/pr19609-4e.d
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-x86-64/pr19609-4e.d
+++ binutils-2.37/ld/testsuite/ld-x86-64/pr19609-4e.d
@@ -1,6 +1,6 @@
 #source: pr19609-4.s
 #as: --64 -mrelax-relocations=yes
-#ld: -melf_x86_64 -Ttext=0x70000000 -Tdata=0xa0000000 --no-relax
+#ld: -melf_x86_64 -Ttext=0x70000000 -Tdata=0xa0000000 --no-relax -z separate-code -z max-page-size=4096
 #objdump: -dw
 
 .*: +file format .*
Index: binutils-2.37/ld/testsuite/ld-x86-64/pr19609-6a.d
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-x86-64/pr19609-6a.d
+++ binutils-2.37/ld/testsuite/ld-x86-64/pr19609-6a.d
@@ -1,6 +1,6 @@
 #source: pr19609-6.s
 #as: --64 -mrelax-relocations=yes
-#ld: -melf_x86_64 --defsym foobar=0x80000000
+#ld: -melf_x86_64 --defsym foobar=0x80000000 -z separate-code -z max-page-size=4096
 #objdump: -dw
 
 .*: +file format .*
Index: binutils-2.37/ld/testsuite/ld-x86-64/pr19609-6b.d
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-x86-64/pr19609-6b.d
+++ binutils-2.37/ld/testsuite/ld-x86-64/pr19609-6b.d
@@ -1,6 +1,6 @@
 #source: pr19609-6.s
 #as: --64 -mrelax-relocations=yes
-#ld: -melf_x86_64 --defsym foobar=0x80000000 --no-relax
+#ld: -melf_x86_64 --defsym foobar=0x80000000 --no-relax -z separate-code -z max-page-size=4096
 #objdump: -dw
 
 .*: +file format .*
Index: binutils-2.37/ld/testsuite/ld-x86-64/pr19609-7b.d
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-x86-64/pr19609-7b.d
+++ binutils-2.37/ld/testsuite/ld-x86-64/pr19609-7b.d
@@ -1,6 +1,6 @@
 #source: pr19609-7.s
 #as: --64 -mrelax-relocations=yes
-#ld: -melf_x86_64 -Ttext=0x80000000 --no-relax
+#ld: -melf_x86_64 -Ttext=0x80000000 --no-relax -z separate-code -z max-page-size=4096
 #objdump: -dw
 
 .*: +file format .*
Index: binutils-2.37/ld/testsuite/ld-x86-64/pr19609-7d.d
===================================================================
--- binutils-2.37.orig/ld/testsuite/ld-x86-64/pr19609-7d.d
+++ binutils-2.37/ld/testsuite/ld-x86-64/pr19609-7d.d
@@ -1,6 +1,6 @@
 #source: pr19609-7.s
 #as: --x32 -mrelax-relocations=yes
-#ld: -melf32_x86_64 -Ttext=0x80000000 --no-relax
+#ld: -melf32_x86_64 -Ttext=0x80000000 --no-relax -z separate-code -z max-page-size=4096
 #objdump: -dw
 
 .*: +file format .*
