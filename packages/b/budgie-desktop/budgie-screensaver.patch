From 91437bf6a84b537db108a670863b604fcd6a8cc6 Mon Sep 17 00:00:00 2001
From: Callum Farmer <callumjfarmer13@gmail.com>
Date: Sun, 11 Apr 2021 18:48:27 +0100
Subject: [PATCH] Changed budgie-screensaver name

---
 src/applets/user-indicator/DBusInterfaces.vala      | 2 +-
 src/applets/user-indicator/UserIndicatorWindow.vala | 2 +-
 src/raven/powerstrip.vala                           | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/applets/user-indicator/DBusInterfaces.vala b/src/applets/user-indicator/DBusInterfaces.vala
index b4d8f7af..7c04617a 100644
--- a/src/applets/user-indicator/DBusInterfaces.vala
+++ b/src/applets/user-indicator/DBusInterfaces.vala
@@ -39,7 +39,7 @@ public interface SessionManager : Object {
 	public abstract async void Shutdown() throws Error;
 }
 
-[DBus (name="org.gnome.ScreenSaver")]
+[DBus (name="us.getsol.budgie-screensaver")]
 public interface ScreenSaver : GLib.Object {
 	public abstract void lock() throws Error;
 }
diff --git a/src/applets/user-indicator/UserIndicatorWindow.vala b/src/applets/user-indicator/UserIndicatorWindow.vala
index 1fb5ff5f..f3c913f1 100644
--- a/src/applets/user-indicator/UserIndicatorWindow.vala
+++ b/src/applets/user-indicator/UserIndicatorWindow.vala
@@ -67,7 +67,7 @@ public class UserIndicatorWindow : Budgie.Popover {
 		}
 
 		try {
-			saver = yield Bus.get_proxy(BusType.SESSION, "org.gnome.ScreenSaver", "/org/gnome/ScreenSaver");
+			saver = yield Bus.get_proxy(BusType.SESSION, "us.getsol.budgie-screensaver", "/us/getsol/budgie-screensaver");
 		} catch (Error e) {
 			warning(UNABLE_CONTACT + "gnome-screensaver: %s", e.message);
 			return;
diff --git a/src/raven/powerstrip.vala b/src/raven/powerstrip.vala
index 373a732f..9a4650d2 100644
--- a/src/raven/powerstrip.vala
+++ b/src/raven/powerstrip.vala
@@ -10,7 +10,7 @@
  */
 
 namespace Budgie {
-	[DBus (name="org.gnome.ScreenSaver")]
+	[DBus (name="us.getsol.budgie-screensaver")]
 	public interface ScreenSaver : GLib.Object {
 		public abstract void lock() throws Error;
 	}
@@ -29,7 +29,7 @@ namespace Budgie {
 
 		async void setup_dbus() {
 			try {
-				saver = yield Bus.get_proxy(BusType.SESSION, "org.gnome.ScreenSaver", "/org/gnome/ScreenSaver");
+				saver = yield Bus.get_proxy(BusType.SESSION, "us.getsol.budgie-screensaver", "/us/getsol/budgie-screensaver");
 			} catch (Error e) {
 				warning("Unable to contact login manager: %s", e.message);
 				return;
-- 
2.30.2

