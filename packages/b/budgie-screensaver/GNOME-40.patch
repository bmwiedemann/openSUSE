From 55d39a4ba9f58e019100a83b9872f63ecf92e62f Mon Sep 17 00:00:00 2001
From: Callum Farmer <callumjfarmer13@gmail.com>
Date: Sun, 11 Apr 2021 18:30:39 +0100
Subject: [PATCH 1/3] Change name to us.getsol.budgie-screensaver where
 conflicts

---
 configure.ac                          |  2 +-
 data/Makefile.am                      |  4 ++--
 data/org.gnome.ScreenSaver.service.in |  2 +-
 doc/dbus-interface.xml                | 22 +++++++++++-----------
 src/gs-bus.h                          |  6 +++---
 5 files changed, 18 insertions(+), 18 deletions(-)

diff --git a/configure.ac b/configure.ac
index c573924..66013e2 100644
--- a/configure.ac
+++ b/configure.ac
@@ -768,7 +768,7 @@ po/Makefile.in
 src/Makefile
 src/gnome-screensaver.desktop.in
 data/Makefile
-data/org.gnome.ScreenSaver.service
+data/us.getsol.budgie-screensaver.service
 doc/Makefile
 doc/gnome-screensaver.xml
 ])
diff --git a/data/Makefile.am b/data/Makefile.am
index 5c860a0..3d67025 100644
--- a/data/Makefile.am
+++ b/data/Makefile.am
@@ -8,12 +8,12 @@ man_MANS = 				\
 @INTLTOOL_XML_NOMERGE_RULE@
 
 dbussessionservicedir = $(DBUS_SESSION_SERVICE_DIR)
-dbussessionservice_DATA = org.gnome.ScreenSaver.service
+dbussessionservice_DATA = us.getsol.budgie-screensaver.service
 
 EXTRA_DIST = 				\
 	$(man_MANS)			\
 	gnome-screensaver		\
-	org.gnome.ScreenSaver.service.in\
+	us.getsol.budgie-screensaver.service.in\
 	$(NULL)
 
 DISTCLEANFILES = 			\
diff --git a/data/org.gnome.ScreenSaver.service.in b/data/org.gnome.ScreenSaver.service.in
index d46e4f4..0f458e9 100644
--- a/data/org.gnome.ScreenSaver.service.in
+++ b/data/org.gnome.ScreenSaver.service.in
@@ -1,3 +1,3 @@
 [D-BUS Service]
-Name=org.gnome.ScreenSaver
+Name=us.getsol.budgie-screensaver
 Exec=@EXPANDED_BINDIR@/gnome-screensaver --no-daemon
diff --git a/doc/dbus-interface.xml b/doc/dbus-interface.xml
index aca4e11..2469acf 100644
--- a/doc/dbus-interface.xml
+++ b/doc/dbus-interface.xml
@@ -22,15 +22,15 @@
         <tbody>
           <row>
             <entry>DBUS Service:</entry>
-            <entry><literal>org.gnome.ScreenSaver</literal></entry>
+            <entry><literal>us.getsol.budgie-screensaver</literal></entry>
           </row>
           <row>
             <entry>DBUS Object Path:</entry>
-            <entry><literal>/org/gnome/ScreenSaver</literal></entry>
+            <entry><literal>/us/getsol/budgie-screensaver</literal></entry>
           </row>
           <row>
             <entry>DBUS Interface:</entry>
-            <entry><literal>org.gnome.ScreenSaver</literal></entry>
+            <entry><literal>us.getsol.budgie-screensaver</literal></entry>
           </row>
         </tbody>
       </tgroup>
@@ -370,24 +370,24 @@
     </para>
     <screen>
 dbus-send --session \
-          --dest=org.gnome.ScreenSaver \
+          --dest=us.getsol.budgie-screensaver \
           --type=method_call \
           --print-reply \
           --reply-timeout=20000 \
-          /org/gnome/ScreenSaver \
-          org.gnome.ScreenSaver.GetSessionIdleTime
+          /us/getsol/budgie-screensaver \
+          us.getsol.budgie-screensaver.GetSessionIdleTime
     </screen>
     <para>
       You can activate the screensaver like so:
     </para>
     <screen>
 dbus-send --session \
-          --dest=org.gnome.ScreenSaver \
+          --dest=us.getsol.budgie-screensaver \
           --type=method_call \
           --print-reply \
           --reply-timeout=20000 \
-          /org/gnome/ScreenSaver \
-          org.gnome.ScreenSaver.SetActive \
+          /us/getsol/budgie-screensaver \
+          us.getsol.budgie-screensaver.SetActive \
           boolean:true
     </screen>
 
@@ -396,7 +396,7 @@ dbus-send --session \
     </para>
     <screen>
 dbus-monitor --session \
-          "type='signal',interface='org.gnome.ScreenSaver'"
+          "type='signal',interface='us.getsol.budgie-screensaver'"
     </screen>
 
     <para>
@@ -404,7 +404,7 @@ dbus-monitor --session \
     </para>
     <screen>
 dbus-monitor --session \
-          "type='signal',interface='org.gnome.ScreenSaver',member='SessionIdleChanged'"
+          "type='signal',interface='us.getsol.budgie-screensaver',member='SessionIdleChanged'"
     </screen>
   </sect1>
 
diff --git a/src/gs-bus.h b/src/gs-bus.h
index fea13d3..1814a7d 100644
--- a/src/gs-bus.h
+++ b/src/gs-bus.h
@@ -47,9 +47,9 @@
 #define DBUS_INTERFACE                  "org.freedesktop.DBus"
 
 /* Gnome Screensaver */
-#define GS_SERVICE                      "org.gnome.ScreenSaver"
-#define GS_PATH                         "/org/gnome/ScreenSaver"
-#define GS_INTERFACE                    "org.gnome.ScreenSaver"
+#define GS_SERVICE                      "us.getsol.budgie-screensaver"
+#define GS_PATH                         "/us/getsol/budgie-screensaver"
+#define GS_INTERFACE                    "us.getsol.budgie-screensaver"
 
 /* Gnome Session Manager */
 #define GSM_SERVICE                     "org.gnome.SessionManager"
-- 
2.30.2

From 13f4bd1f52f2a5c83b2839da0a5a22e45e5230a0 Mon Sep 17 00:00:00 2001
From: Callum Farmer <callumjfarmer13@gmail.com>
Date: Sun, 11 Apr 2021 18:33:35 +0100
Subject: [PATCH 2/3] part 2

---
 data/org.gnome.ScreenSaver.service.in | 3 ---
 1 file changed, 3 deletions(-)
 delete mode 100644 data/org.gnome.ScreenSaver.service.in

diff --git a/data/org.gnome.ScreenSaver.service.in b/data/org.gnome.ScreenSaver.service.in
deleted file mode 100644
index 0f458e9..0000000
--- a/data/org.gnome.ScreenSaver.service.in
+++ /dev/null
@@ -1,3 +0,0 @@
-[D-BUS Service]
-Name=us.getsol.budgie-screensaver
-Exec=@EXPANDED_BINDIR@/gnome-screensaver --no-daemon
-- 
2.30.2

From a5243d9ddd89eda09e11f98730ea990ba1e0ab07 Mon Sep 17 00:00:00 2001
From: Callum Farmer <callumjfarmer13@gmail.com>
Date: Sun, 11 Apr 2021 18:34:19 +0100
Subject: [PATCH 3/3] part 3

---
 data/us.getsol.budgie-screensaver.service.in | 3 +++
 1 file changed, 3 insertions(+)
 create mode 100644 data/us.getsol.budgie-screensaver.service.in

diff --git a/data/us.getsol.budgie-screensaver.service.in b/data/us.getsol.budgie-screensaver.service.in
new file mode 100644
index 0000000..0f458e9
--- /dev/null
+++ b/data/us.getsol.budgie-screensaver.service.in
@@ -0,0 +1,3 @@
+[D-BUS Service]
+Name=us.getsol.budgie-screensaver
+Exec=@EXPANDED_BINDIR@/gnome-screensaver --no-daemon
-- 
2.30.2

