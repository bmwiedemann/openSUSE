-------------------------------------------------------------------
Wed Jun  8 19:11:07 UTC 2022 - Olav Reinert <seroton10@gmail.com>

- Update to version 1.6.1:
  * prevent teardown, teardown_file, and teardown_suite from overriding bats'
    exit code by setting $status (e.g. via calling run) (#581, #575)
    - CRITICAL: this can return exit code 0 despite failed tests, thus
      preventing your CI from reporting test failures! The regression happened
      in version 1.6.0.
  * corrected invalid documentation of run -N (had =N instead) (#579)
    - CRITICAL: using the incorrect form can lead to silent errors. See issue
      #578 for more details and how to find out if your tests are affected.

-------------------------------------------------------------------
Mon Apr 18 14:59:49 UTC 2022 - Ferdinand Thiessen <rpm@fthiessen.de>

- Update to version 1.6.0
  * Added: New flag --code-quote-style (and $BATS_CODE_QUOTE_STYLE)
    to customize quotes around code blocks in error output
  * Added: bats_load_library for loading libraries from the search
    path $BATS_LIB_PATH
  * Improved error trace for some broken cases
  * Fixed leaking of local variables from debug trap
  * Don't mark FD3 output from teardown_file as <failure> in junit
    output
  * Fix unbound variable error with Bash pre 4.4

-------------------------------------------------------------------
Sat Dec 11 16:16:42 UTC 2021 - Olav Reinert <seroton10@gmail.com>

- boo#1193177: Fix build on Leap and SLE

-------------------------------------------------------------------
Wed Nov 24 23:53:57 UTC 2021 - Dirk Müller <dmueller@suse.com>

- update to 1.5.0:
  * new command line flags
    * `--verbose-run`: Make `run` print `$output` by default
    * `-x`, `--trace`: Print test commands as they are executed (like `set -x`)`
    * `--show-output-of-passing-tests`: Print output of passing tests
    * `--print-output-on-failure`: Automatically print the value of  `$output` on
      failed tests
    * `--gather-test-outputs-in <directory>`: Gather the output of failing **and**
      passing tests as files in directory
  * Experimental: add return code checks to `run` via `!`/`-<N>`
  * `install.sh` and `uninstall.sh` take an optional second parameter for the lib
    folder name to allow for multilib install, e.g. into lib64
  * add `run` flag `--keep-empty-lines` to retain empty lines in `${lines[@]}`
  * add `run` flag `--separate-stderr` which also fills `$stderr` and
    `$stderr_lines`
  * don't glob `run`'s `$output` when splitting into `${lines[@]}`
  * remove empty line after test with pretty formatter on some terminals
  * don't run setup_file/teardown_file on files without tests, e.g. due to
    filtering
  * print final line without newline on Bash 3.2 for midtest (ERREXIT) failures
  * abort with error on missing flock/shlock when running in parallel mode
  * improved `set -u` test and fixed some unset variable accesses
  * shorten suite/file/test temporary folder paths to leave enough space even on
    restricted systems
  * added BATS_TEST_TMPDIR, BATS_FILE_TMPDIR, BATS_SUITE_TMPDIR
  * added checks and improved documentation for `$BATS_TMPDIR`
  * the docker container now uses [tini](https://github.com/krallin/tini) as the
    container entrypoint to improve signal forwarding
  * script to uninstall bats from a given prefix
  * replace preprocessed file path (e.g. `/tmp/bats-run-22908-NP0f9h/bats.23102.src`)
    with original filename in stdout/err (but not FD3!)
  * print aborted command on SIGINT/CTRL+C
  * print error message when BATS_RUN_TMPDIR could not be created

-------------------------------------------------------------------
Sun Apr 18 17:54:00 UTC 2021 - Ferdinand Thiessen <rpm@fthiessen.de>

- Update to 1.3.0
  * Added custom test-file extension via BATS_FILE_EXTENSION when
    searching for test files in a directory
  * Added TAP13 formatter, including millisecond timing
  * Recursive suite mode will follow symlinks now
  * Split options for (file-) --report-formatter and (stdout)
    --formatter
    WARNING: This changes the meaning of --formatter junit.
      stdout will now show unified xml instead of TAP. From now on,
      please use --report-formatter junit to obtain the .xml report file!
  * Removed --parallel-preserve-environment flag, as this is the default
  * Preprocessed files are no longer removed if --no-tempdir-cleanup
    is specified
  * Fix internal failures due to unbound variables when test files
    use set -u
  * Fix internal failures due to changes to $PATH in test files
  * Fix hangs on CTRL+C
  * Make BATS_TEST_NUMBER count per file again
  * Performance improvements
  * Improved documentation
- Dropped upstream merged
  bsc1180135-0001-fix-dont-use-unbound-variables-in-setup-methods.patch

-------------------------------------------------------------------
Thu Dec 17 00:43:18 UTC 2020 - Aleksa Sarai <asarai@suse.com>

- Backport <https://github.com/bats-core/bats-core/pull/344>. bsc#1180135
  + bsc1180135-0001-fix-dont-use-unbound-variables-in-setup-methods.patch

-------------------------------------------------------------------
Wed Nov 18 22:44:45 UTC 2020 - Olav Reinert <seroton10@gmail.com>

- update to 1.2.1:
  * added:
    - JUnit output and extensible formatter rewrite (#246)
    - load function now reads from absolute and relative paths, and $PATH (#282)
    - Beginner-friendly examples in /docs/examples (#243)
    - @peshay's bats-file fork contributed to bats-core/bats-file (#276)
  * changed:
    - Duplicate test names now error (previous behaviour was to issue a warning) (#286)
    - Changed default formatter in Docker to pretty by adding ncurses to Dockerfile, override with --tap (#239)
    - Replace "readlink -f" dependency with Bash solution (#217)

-------------------------------------------------------------------
Wed Nov 18 21:32:54 UTC 2020 - Olav Reinert <seroton10@gmail.com>

- Install to /usr/libexec on Tumbleweed

-------------------------------------------------------------------
Fri Jul  3 01:08:46 UTC 2020 - Aleksa Sarai <asarai@suse.com>

- Require gnu_parallel so that 'bats --jobs' works out of the box and is tested
  as part of the integration tests of the package.

-------------------------------------------------------------------
Wed May 20 12:04:49 UTC 2020 - Olav Reinert <seroton10@gmail.com>

- update to 1.2.0:
  * Added:
    - docs/CHANGELOG.md and docs/releasing.md (#122)
    - The -f, --filter flag to run only the tests matching a regular expression (#126)
    - Optimize stack trace capture (#138)
    - --jobs n flag to support parallel execution of tests with GNU parallel (#172)
  * Changed:
    - AppVeyor builds are now semver-compliant (#123)
    - Add Bash 5 as test target (#181)
    - Always use upper case signal names to avoid locale dependent err… (#215)
    - Fix for tests reading from stdin (#227)
    - Fix wrong line numbers of errors in bash < 4.4 (#229)
    - Remove preprocessed source after test run (#232)

-------------------------------------------------------------------
Fri Oct 25 16:07:03 UTC 2019 - Olav Reinert <seroton10@gmail.com>

- Reinstate prematurely removed Group tag

-------------------------------------------------------------------
Thu Oct 17 14:23:45 UTC 2019 - Richard Brown <rbrown@suse.com>

- Remove obsolete Groups tag (fate#326485)

-------------------------------------------------------------------
Tue Jan 22 14:14:52 UTC 2019 - Ondřej Súkup <mimi.vx@gmail.com>

- update to 1.1.0
- drop build-term.patch  package-json.patch
- new upstream, see changes on https://github.com/bats-core/bats-core/releases


-------------------------------------------------------------------
Sat Feb 25 17:55:47 UTC 2017 - seroton10@gmail.com

- Added build-term.patch: work-around for bnc#1026350

-------------------------------------------------------------------
Tue Feb 24 22:29:38 UTC 2015 - seroton10@gmail.com

- Fix RPM group

-------------------------------------------------------------------
Sun Feb 22 18:17:03 UTC 2015 - seroton10@gmail.com

- Spec file improvements:
  * Run tests in %check section
  * Correct project URL

-------------------------------------------------------------------
Wed Feb 18 21:31:33 UTC 2015 - seroton10@gmail.com

- Spec file improvements:
  * /usr/bin/tput is optional at runtime
  * Reference to meaning of TAP-compliant
  * Simplify launch of tests

-------------------------------------------------------------------
Mon Feb 16 12:50:34 UTC 2015 - seroton10@gmail.com

- Initial version: bats 0.4.0

