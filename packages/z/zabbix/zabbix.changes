-------------------------------------------------------------------
Wed Oct 30 08:58:50 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.14
- New Features and Improvements
  + ZBXNEXT-5481 Added support of {trigger.id} macro in trigger tags
  + ZBXNEXT-4746 Added "template server cisco ucs snmpv2" template
  + ZBXNEXT-5422 Quoted numbers are now accepted by jsonpath aggregate functions 
- Bug Fixes
  + ZBX-16605 Fixed accessibility of localstorage identifier if cookies are
    made unaccessible for client side scripts
  + ZBX-16754 Fixed trigger not firing for first collected value if it's timestamp is in future
  + ZBX-15211 Added key 'tests' for bootstrap.sh when working with cmocka tests
  + ZBX-16542 Fixed incorrect displaying of unacknowledged and resolved
    recent problematic triggers in trigger overview and dashboard widget
  + ZBX-16749 Improved performance and memory consumption of script.getscriptsbyhosts() method
  + ZBX-16725 Fixed detection of fping minimal interval
  + ZBX-16562 Fixed configuration.export method in api improperly formatting
    "application" property within "httptests" when exporting in json format
  + ZBX-15222 Fixed housekeeper to cleanup history not only for current item
    type of information but also for other previously selected types
  + ZBX-16481 Fixed spelling issues in the code
  + ZBX-15675 Added support for more than 64 cpus in windows agent
  + ZBX-16770 Fixed value mapping in template net hp comware hh3c snmp
  + ZBX-16534 Fixed stdout and stderr redirection after external log rotation
  + ZBX-16368 Fixed fping double call
  + ZBX-16317 Fixed log.h is not self-sufficient
  + ZBX-16711 Ensuring errbuf is emptied before every curl_easy_perform request
  + ZBX-16664 Fixed ipmi poller skips processing if one of the elements is missing information
  + ZBX-16671 Fixed server crashing when linking web scenario template
  + ZBX-16750 Fixed broken validation of peer certificate issuer
    and subject strings in tls connect, fixed logging
  + ZBX-16002 Added new macro event.recovery.name to display
    recovery event name in recovery alerts
  + ZBX-16512 Fixed false item insertion into the queue after maintenance
  + ZBX-15685 Fixed zabbix_sender failing to report the error due to closed connection
  + ZBX-16702 Fixed error in the elastic search clearing history
  + ZBX-10805 Fixed log items graphs drawing with numeric values like trapper items
  + ZBX-16604 Fixed occurrence of an undefined index in discovered graph configuration
  + ZBX-16611 Fixed memory and performance leaks in gtlc.js library
  + ZBX-15135 Fixed incorrect triggers being displayed in
    availability report when filtering by template
  + ZBX-16681 Fixed displaying of "acknowledge" menu option
    for "not classified" problems in the trigger overview page
  + ZBX-16428 Fixed sigbus crash when mmap memory is not accessible
  + ZBX-16680 Fixed freeing locked resources when zabbix agent
    cannot be started and has to exit with failure
  + ZBX-16666 Fixed trailing slash being set in cookie path
  + ZBX-16612 Fixed possibility of high cpu usage on windows
  + ZBX-16683 Fixed race condition between history syncer
    and escalator that caused recovery operations being delayed by step duration
  + ZBX-16383 Adjusted timer sleeping period to process maintenances each minute at 00 seconds
  + ZBX-16575 Getting disk controller type from linked controller label value
  + ZBX-16561 Fixed jsonpath parsing for comma characters inside quoted string
  + ZBX-16677 Fixed empty sql query dbexecute_overflowed_sql call during host availability update
  + ZBX-15897 Fixed overall health check in template hp ilo snmpv2

-------------------------------------------------------------------
Thu Aug 29 08:46:12 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.11
- New Features and Improvements
  + ZBX-9522 Improved frontend messaging usage across multiple browser tabs
- Bug Fixes
  + ZBX-16501 Fixed log out form being resubmitted when user is already logged
    back in another tab
  + ZBX-16072 Added more strict validation of host, template and proxy names
    to prohibit leading and trailing spaces
  + ZBX-16128 Fixed incorrect action id in audit log
  + ZBX-16354 Fixed incorrect sorting by name with capital letters
  + ZBX-16346 Fixed compilation for oracle instant client v18.5 and higher
  + ZBX-16424 Fixed unable to create/update web scenario from internet explorer/edge
  + ZBX-16471 For consistency reason changed translation string 'resolved by user.'
    to 'resolved by inaccessible user.'
  + ZBX-16469 Fixed problem that caused impossibility to edit trigger
    description in problems screen
  + ZBX-16362 Fixed keyboard event handling in graph widget hintbox
  + ZBX-16474 Fixed 'request-uri too long' error in problems mass update page
  + ZBX-16184 Updated zabbix sender man page
  + ZBX-16462 Fixed syntax error in sql query used to calculate sla in monitoring->services
  + ZBX-16031 Reworked event update controller, making partly closed set of events closable
  + ZBX-16283 Fixed read-only shared dashboard without widgets missing placeholder label
  + ZBX-16316 Fixed dashboard widget and slideshow menu popup not
    updating current refresh rate and fixed a js error in slideshows
  + ZBX-16346 Fixed compilation for oracle instant client v18.5 and higher
  + ZBX-16424 Fixed unable to create/update web scenario from internet explorer/edge 

-------------------------------------------------------------------
Mon Aug 26 12:02:52 UTC 2019 - Marketa Calabkova <mcalabkova@suse.com>

- restructured for easier maintenance because of bsc#1144018 and FATE#324346
  * many thanks to Boris Manojlovic, Kristyna Streitova, Matthias Gerstner
    and Tomas Chvatal for their help
  * skipped renaming of binaries
  * updated Apache config file
  * added logrotate to rotate logs
  * and other changes
- added README-SSL.SUSE to tell users how to configure SSL

-------------------------------------------------------------------
Wed Aug 14 08:22:49 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.11
- New Features and Improvements
  - ZBXNEXT-4502,ZBXNEXT-5176 	Added support of full jsonpath functionality
  - ZBXNEXT-5205 Blocked zero item history/trends
    period being overridden by global configuration 
- Bug Fixes
  + ZBX-16376 Fixed preprocessing steps having incorrect order
    and duplicate step numbers
  + ZBX-16344 Fixed possibility to add graph widget overrides
  + ZBX-16388 Fixed lld to update preprocessing step number
    in case it is incorrectly generated
  + ZBX-16337 Fixed debug log message for suppressed escalations;
   thanks to kotaro miyashita for the patch
  + ZBX-16287 Fixed compiler warnings in host.c; thanks to
    glebs ivanovskis for the patch
  + ZBX-16103 Reduced pcre recursion limit
  + ZBX-16289 Fixed async dashboard widget update
  + ZBX-13266 Improved performance of the sql queries
    with lot of ids in the condition
  + ZBX-16277 Fixed compilation zabbix agent for windows with
   options available for windows vista and newer
  + ZBX-16239 Fixed compilation warining related to prototypes
    of module api functions
  + ZBX-16256 Eliminated possible infinite fetch loop with oracledb
  + ZBX-15343 Fixed js memory leak in hintboxes in graph widget
  + ZBX-16329 Fixed duplicate value checking in trigger action conditions
  + ZBX-15562 Reworked history.get api method; fixed output
    as well as other known issues in history api
  + ZBX-16135 Fixed error messages in xml export files
  + ZBX-16213 Fixed postgresql bad performance on history tables
  + ZBX-16176 Preserve trailing spaces in history values
  + ZBX-16169 Improved performance of map navigation tree widget
  + ZBX-16288 Fixed when unknown resource logged in
    audit log when working with dashboards
  + ZBX-16134 Fixed duplicate triggers can be created
   using api and xml import
  + ZBX-15969 Fixed displaying of very small values that
    are more than 2 decimal points in latest data
  + ZBX-16280 Fixed when plain text widgets do not display
    as html when option is selected
  + ZBX-16012 Fixed confusing error message "cannot read json." in http agent item
  + ZBX-16270 Fixed memory leak in ipc service when queueing multiple messages to client
  + ZBX-16204 Fixed undefined offset in ccontrollerwidgetproblemhostsview
  + ZBX-15962 Added mounted filesystems to vfs.fs.discovery of windows agent
  + ZBX-16315 Fixed zabbix server not to cause foreign key constraint failure
    on zabbix proxy when changing and sending configuration at the same time
  + ZBX-16153 Fixed 500 internal server error when trying to preview pie/exploded graph without items
  + ZBX-9867 Improved zabbix daemon termination by not using signal
    unsafe functions in signal handler; improved zabbix server and zabbix proxy
    process termination by stopping data collection and waiting for history syncers to finish

-------------------------------------------------------------------
Mon Jul  1 18:33:44 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.10
- New Features and Improvements
  + ZBXNEXT-2880 Added access to vmware datastore at vmware vcenter level
  + ZBXNEXT-5163 Added display of maintenance information in configuration
    section for hosts in maitenance
  + ZBXNEXT-5036 Added preloader for popup menus
  + ZBXNEXT-287 Added ssl support for agent http checks
  + ZBXNEXT-5179 Added option to specify absolute path in loadmodule;
    thanks to glebs ivanovskis for the patch
- Bug Fixes
  + ZBX-16315 Fixed zabbix server not to cause foreign key constraint failure
    on zabbix proxy when changing and sending configuration at the same time
  + ZBX-9867 Improved zabbix daemon termination by not using signal unsafe
    functions in signal handler; improved zabbix server and zabbix proxy process
    termination by stopping data collection and waiting for history syncers to finish
  + ZBX-16152 Fixed not data loss on saving host prototypes by user with insufficient permissions
  + ZBX-15952 Fixed errors when trying to create a graph widget for key
    system.cpu.util[,iowait] with y axis placed on the left side of the graph
  + ZBX-15899 Added output sanitization to prevent invalid utf-8 sequences
    in regexp-based text replacement
  + ZBX-16073 Fixed horizontal scrolling in map
  + ZBX-15943 Fixed discovered hosts are not removed from table "dhosts" after
    removing and adding the corresponding discovery check
  + ZBX-15875 Fixed colors for the multiselect disabled elements
  + ZBX-10948 'it services --> service time --> note' infinite stretching
  + ZBX-16142 Fixed missing sys/ioctl.h from src/libs/zbxsysinfo/openbsd/net.c;
    thanks to andrea biscuola for the patch
  + ZBX-16166 Fixed zabbix fping feature detection does not work with fping builds since 10 feb 2017
  + ZBX-16178 Fixed distributive can contain untracked backup file include/config.h.in~
  + ZBX-16170 Fixed crash in global event correlation
  + ZBX-16096 Fixed "system.cpu.util" reporting incorrect cpu utilisation due to guest time
    sometimes not being fully included in user time by "/proc/stat"
  + ZBX-15882 Fixed widgets flickering on refresh
  + ZBX-15974 Improved trigger expression list in trigger modal form
  + ZBX-14441 Fixed windows agent "eventlog" key for reading big event log files of windows 2003
  + ZBX-16109 Fixed hidden error in graphs for php 7.3.5
  + ZBX-16093 Fixed regular expression file systems for discovery does not contain apfs
  + ZBX-16080 Fixed setup page to not to use bclib
  + ZBX-15797 Fixed dashboard map widget sub-map link behaviour
  + ZBX-15049 Fixed to host group limited global scripts to be usable in sub group
  + ZBX-16138 Fixed return value type and added preprocessing steps for items in remote
    internal checks tamplates; fixed unsigned write cache value for remote internal checks
  + ZBX-15963 Fixed http agent support of non-http scheme in url field
  + ZBX-16151 Fixed theoretical possibility of large numbers in json data being truncated,
    added boolean value support to json parser
  + ZBX-15778 Fixed wrong filtering by "age less than" and "show suppressed problems" in trigger overview
  + ZBX-15585 Fixed web scenarios pair manager issue when fields are duplicating on post type toggle
  + ZBX-16150 Fixed inactive, unmounted, unaccessible vmware datastore causes
    unknown column nan insertion in field list
  + ZBX-16122 Fixed api validation of trigger dependency

-------------------------------------------------------------------
Tue Jun 11 12:17:33 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.9
- Bug Fixes
  + ZBX-15905 Reverted changes that introduced error with
    write permissions in assets directory

-------------------------------------------------------------------
Fri May 31 14:01:10 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.8
- New Features and Improvements
  + ZBX-16069 Upgraded jquery version v1.10.2 -> v3.3.1
    and jqueryui v1.10.3 -> v1.12.1  
- Bug Fixes
  + ZBX-16032 Changed application filtering to partial name search
  + ZBX-15915 Fixed linking error if round() is undefined
  + ZBX-16074 Added file revision number generation for
    compilation on ms windows
  + ZBX-15833 Fixed scrollbar in overlay popups
  + ZBX-16058 Fixed error in ipmi poller causing growing queue
  + ZBX-16047 Fixed division by zero error in svg graph widget if selected
    time period is so small that calculated step between 2 milestones is 0s
  + ZBX-15936 Removed "change password" button when cloning media types
  + ZBX-11272 Changed sorting by type, fixed information disclosure and
    formatting of recipient name in action log screen item and dashboard widget;
    added new sortfields to alert api
  + ZBX-15416 Fixed locale validation in user create and update api methods
  + ZBX-15877 Fixed tab key navigation for safari and edge browsers
  + ZBX-15891 Fixed trigger dependencies are ignored when changing only trigger state
  + ZBX-13029 Fixed api validation messages for linktrigger
  + ZBX-15967 Fixed buffer offset for reading hardware info from long dmi files
  + ZBX-16018 Fixed detection of logical functions (or / and) inside
    the context of user macros
  + ZBX-14782 Deliver human friendly uptime in dashbord
  + ZBX-11325 Fixed transparency of draggable interfaces; changed cursor
    type for all draggable and sortable elements
  + ZBX-16048 Fixed global search box loosing the search phrase after searching
  + ZBX-10729 Fixed map element link coloring when linked problem is acknowledged
  + ZBX-15101 Fixed several object ids allowing them to be 64 bit integers,
    added asterisk for map navigation tree name field and changed
    the error message to more generic one
  + ZBX-16050 Fixed http poller crashes
  + ZBX-15871 Fixed problem events to be filtered by "suppressed"
    instead of "related to maintenance"
  + ZBX-10550 Added warnings when zabbix components have different versions
  + ZBX-11284 Removed sid url argument for form cancel buttons
  + ZBX-11429 Fixed macro not being retained in trigger expression editing wizard
  + ZBX-15816 Increased header value input field max length
  + ZBX-15677 Fixed the process of compiling the dummy.c module
  + ZBX-15981 Fixed invalid xpath for vmware "eventlog" key with "skip" option
  + ZBX-15704 Fixed sending log meta information without obvious needs
  + ZBX-15905 Added versioning of browser cached files
  + ZBX-15956 Reduced configuration cache fragmentation
    when reloading time based triggers
  + ZBX-15998 Improved performance of "remove host", "remove from host group",
    "unlink from template" operations when processing network
    discovery events and using mysql database
  + ZBX-15935 Fixed infinite loop and 100% cpu usage
    when using openipmi 2.0.26 or newer
  + ZBX-16005 Fixed "{{item.value}.regsub(<pattern>,<output>}" and
   "{{item.lastvalue}.regsub(<pattern>,<output>}" being resolved to *unknown* during upgrade


-------------------------------------------------------------------
Wed Apr 24 14:07:54 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.7
- Bug Fixes;
  + ZBX-16019 Fixed host.conn, host.ip, ipaddress and host.dns
    macros expansion in global scripts
  + ZBX-16020 Fixed uncontrolled memory allocation in regex preprocessing steps
  + ZBX-15911 Fixed guest sign in visibility for disabled guest
    user group in login page
  + ZBX-15977 Fixed validation of host interface when multiple
    interfaces set as main interface
  + ZBX-15955 Fixed security vulnerability - accepting connections
    from not allowed addresses
  + ZBX-11393 Fixed when long snmp oid expands screen dimensions
  + ZBX-15464 Fixed error message for image uploads
  + ZBX-10243 Fixed not encoded ampersand for in url parameter
  + ZBX-15972 Fixed possible crash of the windows agent when
    used "net.dns" item key
  + ZBX-15674 Fixed map status to be displayed ok if there
    are no problem in submaps
  + ZBX-15970 Fixed invalid update intervals being reported
    on zabbix server when monitored through zabbix proxy
  + ZBX-15643 Fixed invalid to valid numbers conversion by del_zeros
  + ZBX-15444 Fixed trimming allowed characters from numeric values
  + ZBX-15409 Improved zabbix java gateway error logging
    usability by adding item key to error message
  + ZBX-15844 Fixed inability to start zabbix server if alert manager
    process is late after alerters; thanks to mikhail makurov for the patch
  + ZBX-11043 Implemented a better network discovery filter
  + ZBX-10937 Fixed top right global search field autocomplete not showing
    results when host name is being typed not first character and technical
    name when it differs from visible name
  + ZBX-10861 Changed user name and password fields from being mandatory to
    optional in web scenarios and http agent type items
  + ZBX-10889 Improved logging performance when high debuglevel is used
  + ZBX-15762 Fixed api returns "countoutput", "select*": "count" results and
    "suppressed" property as integer
  + ZBX-15642 Fixed bigint limit in the user group updating forms
  + ZBX-2494 Fixed sorting of items, item prototypes, lld rules and screens
    to avoid deadlocks in database between server and frontend
  + ZBX-15768 Fixed line length above widgets on global search page
  + ZBX-10404 Fixed password being passed in plain text in media type edit form
  + ZBX-15734 Fixed dashboard widgets incorrect placement while dragged
  + ZBX-15563 Fixed svg graph metric generation in situation when metric have big values
  + ZBX-15139 Fixed element removing from list in different tabs or browsers
  + ZBX-15779 Fixed loss of host name in tooltip on trigger overview page
  + ZBX-15898 Fixed compilation warning regarding too large integer constant
  + ZBX-15338 Fixed last problem name being displayed on map instead of most critical
  + ZBX-15929 Fixed escalation operation not being send multiple times
  + ZBX-15721 Fixed escaping of control characters in json encoder
  + ZBX-15507 Fixed item/trigger/graph copy form provides read-only host groups
    in target list; replaced form elements with multiselect
  + ZBX-15746 Fixed link to pie graph after selecting a time interval on classic graph
  + ZBX-15784 Fixed multiselect does not support case sensitive auto-complete
  + ZBX-10799 Changed placeholder for http proxy input fields
  + ZBX-13014 Fixed map on screen is not centered
  + ZBX-9229 Fixed sending first value of the log as separate message
  + ZBX-15479 Fixed cookie presentation in http header
  + ZBX-15516 Fixed trapper process title to not update time in case of interruption
  + ZBX-15588 Fixed function names that are written to the log file when
    using log_level_debug
  + ZBX-9150 Fixed update intervals of items in vmware templates
  + ZBX-15481 Fixed showing wrench icon for hosts that are in maintenance,
    but maintenance is inaccessible due to insufficient permissions
  + ZBX-15629 Fixed trigger wizard form re-submit
  + ZBX-15850 Fixed problems by severity filter ignoring host group filter
  + ZBX-15853 Fixed empty parent group not listed in the latest data filter
  + ZBX-11025 Added "unknown command error" to mysql recoverable error list
  + ZBX-15870 Fixed redundant jsloader loading in login page
  + ZBX-15858 Fixed item filtering by application name; added 'select' button
    for dashboard widget and screen item application fields
  + ZBX-15851 Fixed lld item displaying in queue details view
  + ZBX-15639 Fixed labels overlapping on classic graph x axis
  + ZBX-15592 Fixed database monitoring 'dns' item key expressing it as mandatory
  + ZBX-15859 Fixed map.create could attach elements only for first map
    in request when multiple maps are created with one request
  + ZBX-15769 Fixed new widget placeholder being shown outside maximum
    allowed dashboard height area
  + ZBX-15708 Fixed browser build in autofill for passwords field on media
    type form on authentication ldap form and on user edit form
  + ZBX-10392 Fixed application filter persistence when navigating from
    maps page to triggers views page or latest data page
  + ZBX-15754 Removed unnecessary request for non-existing map background
  + ZBX-15715 Added missing keys "zabbix.stats[<ip>,<port>]", "zabbix.stats[<ip>,<port>,queue,<from>,<to>]"
    and "zabbix[stats,<ip>,<port>,queue,<from>,<to>]" in item key helper
  + ZBX-15672 Fixed positioning of the overlay dialogue window in map constructor
  + ZBX-15609 Added missing optional parameter "<regex_excl_dir>" for "vfs.dir.count"
    and "vfs.dir.size" item keys in item helper
  + ZBX-15404 Fixed action condition type and operator integrity
  + ZBX-15913 Fixed possible crash when sending custom alerts
  + ZBX-15872 Fixed possible deadlock on host table when processing auto
    registration contents from zabbix proxy
  + ZBX-11203 Added blocking of sigint and sigterm signals on each step of
    automatic upgrade to avoid interruption of statements that cannot be rolled back
  + ZBX-8451 Fixed global regular expression testing not matching actual
    behavior of zabbix components due to missing multiline flag
  + ZBX-13347 Fixed possible crash in history syncer process when processing discovered item value
  + ZBX-15831 Fixed slow request of vmware configuration update
  + ZBX-15920 Fixed nodata() function triggering after maintenances with
    no data collection without waiting for the nodata period
  + ZBX-13478 Fixed item prototype update intervals to eliminate trigger status flapping
  + ZBX-10611 Fixed changing process user owner on startup
    in foreground when allowroot disabled
  + ZBX-15826 Optimized unsupported macros parsing
  + ZBX-15742 Fixed network discovery is not reacting to the changes
    in agent configuration if uniqueness criteria is value
  + ZBX-15634 Fixed database monitor item does not use stored credentials;
    thanks to jose deniz for the patch 

-------------------------------------------------------------------
Mon Apr  1 08:45:14 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.6
- New Features and Improvements
  + ZBXNEXT-5105 added context menu for trigger name in event details page
  + ZBX-15286 dropped support use of discovered items as master
  + ZBXNEXT-4898 added support IPv6 for "net.dns" and "net.dns.record"
  + ZBXNEXT-5037 added "skip" parameter for vmware.eventlog key
  + ZBXNEXT-4819 implemented date and time showing in SVG graph widget
- Bug Fixes
  + ZBX-15839 fixed broken layout of the breadcrumbs in Safari browser
  + ZBX-15867 fixed invalid DNS being accepted when receiving discovery
    contents from Zabbix proxy
  + ZBX-15821 fixed SQL statement performance used in template.unlink() method
  + ZBX-15578 fixed IPMI errors in case of infrequent reading of values
  + ZBX-15098 fixed undefined index in application selection popup window
  + ZBX-15351 fixed PHP error in "Problems by severity" if no problems
  + ZBX-15552 fixed compilation with LibreSSL as OpenSSL replacement
    and OpenSSL without PSK support
  + ZBX-10317 made info column on item list page always visible
  + ZBX-15322 fixed graph area near grid line with 0 value
  + ZBX-15798 fixed proxy configuration update failure on Oracle;
    fixed failure on empty SQL buffer on Oracle
  + ZBX-15219 fixed unwanted removing scenario post fields on scenario update
  + ZBX-11278 reworked property state indicator in mass update screens
  + ZBX-15716 fixed escalation cancel message is called if escalation
    interrupts with unfinished step or recovery
  + ZBX-15468 fixed LDAP configuration form not being able to save changes
    when user password field is empty string
  + ZBX-15669 fixed page scroll after widget being added to dashboard
  + ZBX-15548 fixed resolving of {ITEM.VALUE} macro in the trigger description
  + ZBX-15774 fixed memory leak in housekeeper when elasticsearch is used
  + ZBX-15788 fixed crash when substituting LLD macros in calculated
    item formula expression
  + ZBX-15608 fixed when Widget Graph show disabled trigger/problem
  + ZBX-10397 fixed when global messaging severities unchecked if profile
    saved earlier
  + ZBX-15596 fixed when widget in frontend can be created larger
    than API validation supports
  + ZBX-15308 fixed timeselector in screens when page is opened
    with link containing sid argument
  + ZBX-15694 fixed trimming of empty spaces for custom multiplier
    in item and item prototype preprocessing forms
  + ZBX-15196 fixed "Follow redirects" checkbox not being enabled by
    default for HTTP agent in item, item prototype and LLD rule create forms
  + ZBX-15670 fixed inefficient vmware eventlog downloading
  + ZBX-15483 fixed undefined index in Item Prototype update
  + ZBX-15270 fixed graph widget configuration form cross browser issues
  + ZBX-15300 fixed widgets extra space at the bottom
  + ZBX-8091 added alphabetic ordering of net.dns.record respond
  + ZBX-15707 fixed check box design when drag and drop an interface into SNMP
  + ZBX-15535 fixed validation of min/max value range in graph widget;
    fixed translation string in graph widget
  + ZBX-15648 removed unused WIDGET_HAT_EVENTACTIONMCMDS
    and WIDGET_HAT_EVENTACTIONMSGS constants
  + ZBX-15386 fixed Trigger overview not showing OK triggers
  + ZBX-14538 fixed error message when value of lifetime
    or history/trends storage period is out of range
  + ZBX-15614 fixed validation of y axis item on classic graph create and update
  + ZBX-15226 fixed missing visual gap under page title
  + ZBX-15560 fixed incorrect URL argument formatting when parameters
    are non-indexed arrays
  + ZBX-15719 fixed undefined index in trigger expression popup
  + ZBX-15332 fixed dashboard svg graph update on timeselector interval change
  + ZBX-15728 fixed agent startup problem in Win 2008 R2 w/o SP1,
    removed dependency on version helper API
  + ZBX-15622 fixed trigger expression test dialog not being usable
    with long trigger expressions
  + ZBX-13332 fixed Request-URI Too Long errors in PopUps;
    fixed lost focus, when closing error popup
  + ZBX-15607 fixed possibility of zombie processes occurring
    when signaling agent during metric execution
  + ZBX-10496 fixed links to installation instructions in README file
  + ZBX-15625 removed links leading to media type edit form for
    non-superadmins in Reports->Notifications page
  + ZBX-15703 fixed use of uninitialized variable when receiving 0 bytes on listening socket
  + ZBX-15537 fixed visual bug when filter tab was overlapped by sub navigation
  + ZBX-15539 fixed validation of master item in item update form
  + ZBX-15532 fixed undefined index error on problems page when trigger expression contains web items
  + ZBX-15488 fixed permission check for inherited triggers
  + ZBX-15646 fixed web-server 'Request-URI Too Long' error in trigger description dialog 

-------------------------------------------------------------------
Mon Feb 25 20:07:06 UTC 2019 - Boris Manojlovic <boris@steki.net>

- updated to latest release 4.0.5
- New Features and Improvements
  + ZBXNEXT-5046 added non-destructive resizing and reordering of dashboard widgets
  + ZBXNEXT-401, ZBXNEXT-4907, ZBXNEXT-4955 added monitoring of internal
    metrics from an external Zabbix instance 
- Bug Fixes
  + ZBXNEXT-4941 changed overflow statements to execute one
    by one for Oracle for better performance
  + ZBX-15664 fixed "Undefined index" errors on maps with enabled automatic icon mapping
  + ZBX-15667 fixed wrong default Zabbix server status for new installation
  + ZBX-15512 fixed performance issues and significant memory consumption on
    several pages which contains host popup menus
  + ZBX-15512 fixed performance issues in "Problems by severity" widget
  + ZBX-15593 fixed database upgrade patch to stop upgrade on commit failure
  + ZBX-15611 fixed crash in configuration syncer when there are groups with
    same name and when removing preprocessing steps from item
  + ZBX-15242 fixed value trimming and duplicate catching in SVG graph pattern fields
  + ZBX-15250 fixed selection box height calculation in classic graph
  + ZBX-15316 fixed problem with socket inheritance preventing Windows
    agent from restarting under certain circumstances
  + ZBX-15379 fixed -Wimplicit-fallthrough warnings when compiling with GCC 7 and -Wextra
  + ZBX-15179 fixed when message about blocking user login is displayed only on next login attempt
  + ZBX-15494 fixed handling numbers that written in scientific notation
  + ZBX-15533 fixed cutting and trimming event tags and values
  + ZBX-15442 fixed reporting idle time in datasender's process state information
  + ZBX-15424 fixed when multiselect doesn't trim values and recognizes
    untrimmed values as new ones
  + ZBX-14644 fixed maintenance time periods "start_date" field being
    reset to "1920" instead of DB default value when updating via edit form
  + ZBX-15271 added link to documentation in all man pages
  + ZBX-15422 fixed SQL errors when linked template have item prototype with equal key as host item
  + ZBX-15456 fixed incorrect style property in Monitoring->Problems; removed unused id from filter form 

-------------------------------------------------------------------
Wed Feb  6 10:24:34 UTC 2019 - boris@steki.net

- updated to latest release 4.0.4
- New Features and Improvements
  + ZBXNEXT-4872 reworked SVG graph x-axis timeline
  + ZBXNEXT-4873 implemented single dot datasets to be drawn as points
   in line vector graphs
  + ZBX-14876 added a new optional parameter <regex_excl_dir> to
    items vfs.dir.size[] and vfs.dir.count[] 
  + ZBXNEXT-4792 added column "Latest values" in Monitoring->Problems and Dashboard
  + ZBX-15202 implemented widget pausing methods in dashboard; made graph widget
    paused when using selection box or opening a tooltip

- Bug Fixes
  + ZBX-15412 fixed Name column overlaps the Application column in the Template view
  + ZBXNEXT-4872 reverted SVG graph timeline changes to previous state
  + ZBX-15577 fixed restricted user access to the host name when calling host_screen
  + ZBX-13335 fixed low performance with linkage of items and item prototypes to a lot of hosts
  + ZBX-15435 fixed "Undefined index" errors in the "Problems" widget with multiple active
    maintenances which part of these are inaccessible
  + ZBX-15417 changed vmware collector to perform datastore configuration refresh only when
    directly monitoring ESXi version lower than v6.0
  + ZBX-14896 fixed low performance of the SQL statement when link template to many hosts
  + ZBX-15220 fixed displaying of last value for values received in the same second
  + ZBX-15451 fixed event correlation when "Event tag pair" condition is used and
    tag contains special characters
  + ZBX-15460 reset agent availability when host status changes, e.g., when host gets disabled
  + ZBX-15331 updated LLD item creation/updating error messages
  + ZBX-15465 removed html non-breaking space from visiblity checkbox labels
  + ZBX-15307 fixed upper level maps positioning in Monitoring Map screen
  + ZBX-15428 improved regular expression performance by studying compiled pattern
  + ZBX-11761 added warnings in case of TLS identity mismatch
  + ZBX-15373 fixed removal of trigger when deleting discovered item; fixed removal of
    dependent child items when removing master item
  + ZBX-14613 fixed hostgroup.delete and host.delete API methods to validate maintenance constraint
  + ZBX-14863 fixed authentication settings form of LDAP anonymous binding
  + ZBX-15374 fixed SQL and PHP errors on chart3.php page
  + ZBX-15301 fixed monotonous lag behind in Windows "system.localtime"
  + ZBX-15377 fixed error messages for arrays in GET parameters
  + ZBX-15369 fixed "Undefined index: label" in map.update() method
  + ZBX-15376 fixed "Undefined index: refresh" on several pages with disabled guest user
  + ZBX-15375 fixed web scenario step name can consist only of whitespaces
  + ZBX-15375 fixed undefined index on Web scenario configuration page
  + ZBX-15372 fixed SQL and PHP errors on "Slide shows" page when enter slides.php witout GET parameters
  + ZBX-15359 fixed undefined index in maintenance.create and maintenance.update API calls
  + ZBX-15358 fixed undefined index in configuration.import API call without one or several rules
  + ZBX-15355 fixed undefined index in configuration.import API call
  + ZBX-14926 fixed empty "inventory" property being returned by API if inventory mode is disabled
  + ZBX-15354 fixed undefined index in API calls without "auth" parameter
  + ZBX-15399 fixed IPv4 connections not being accepted when IPv6 mask is used
  + ZBX-14331 fixed error allowing users to change type of a host interface that already has items attached
  + ZBX-15254 fixed incorrect matching string highlight in multiselect autocomplete box
  + ZBX-15136 fixed displaying 'Plain text' on the dashboard as html
  + ZBX-15313 fixed unit suffix support in calculated item expressions
  + ZBX-15224 fixed failed query errors when receiving non UTF-8 history values
  + ZBX-14592 fixed calculation of SLA and availability report when problem has negative duration
  + ZBX-13804 fixed generic popup form submission
  + ZBX-15156 fixed undefined offset error in host screen with web item
  + ZBX-14980 fixed problem with filter by itemids and hostids in history.get
  + ZBX-14624 fixed agent collector not releasing connection to missing/removed disk devices
  + ZBX-15279 fixed handling of LLD processing errors that should have resulted in not supported LLD rule state
  + ZBX-15241 fixed escaping regexp symbols in preprocessing output parameter when creating item by LLD
  + ZBX-14604 fixed displaying of the graph name on screens
  + ZBXNEXT-4588 renamed 'display options' tab to 'displaying options'; fixed multiple layout issues, footnote in hint-box,
    field value handling, calculation of mouse position, multiple issues related with Y axis and problem styling
  + ZBX-15159 fixed existing context menu closing when new one is opened
  + ZBX-15233 renamed fuzzytime() function description in dropdown list
  + ZBX-12801 excluded zabbix_sender.dll from MS Windows builds with TLS
  + ZBXNEXT-4883 fixed when trigger in problem state hides all dependent triggers in history view
  + ZBX-15260 improved misleading warning message when agent fails to find log file during processing logrt[] item
  + ZBX-15258 fixed update interval of "Zabbix queue" item in server's template to be consistent with proxy template,
    added missing units in proxy template
  + ZBX-15225 improved handling of timeouts in "vfs.dir.size" and "vfs.dir.count" items on Windows agent
  + ZBX-15333 fixed zoomout on doubleclick in graph widget
  + ZBX-15236 fixed display parent host groups without hosts in multiselect
  + ZBX-15206 fixed deprecated net-snmp attribute
  + ZBX-15067 fixed configuration sync of interfaces without hosts
  + ZBX-15238 fixed updating nextcheck time in discovery rules to
    avoid overlaps between discovery executions
  + ZBX-13673 fixed regexp validation when pattern contain slash character
  + ZBX-14528 fixed incorrect keycode handling in multiselect input fields
  + ZBX-15124 fixed trigger overview behavior when show "any"
  + ZBX-14648 ixed performance with deletion of item in template linked to many hosts
  + ZBX-9011 added new LLD macros for vmware HV low-level discovery
  + ZBX-15105 fixed colorpicker tooltip update
  + ZBX-14928 fixed "check now" being executed for active items and templates
  + ZBX-15153 fixed custom interval validation; fixed parsing of custom
    intervals when user macros context contains forward slash
  + ZBX-15069 fixed community default value in edit scenario
  + ZBX-9038 fixed memory of performance counters consumed during vmware update
  + ZBX-8383 updated Tomcat template for compatibility with recent Tomcat versions
  + ZBX-15078 fixed API authentication for ldap users having gui access disabled
  + ZBX-14880 fixed misleading ldap authentication error messages
  + ZBX-14877 fixed style of disabled action on high contrast theme
  + ZBX-14606 removed strict-transport-security header from frontend
  + ZBX-15020 fixed negative time selector offset when selecting time range in graph
  + ZBX-14977 fixed creation of unneeded database record if host prototype inventory
    mode is disabled; fixed validation for host and host prototype inventory mode
  + ZBX-15146 fixed SQL error occurred when too long IP address is attempted to be written in database
  + ZBX-15148 fixed web scenario item selection in SVG graph widget
  + ZBX-15107 fixed error handling in logrt[] items if regular expression for file name is not valid
  + ZBX-14800 fixed resolving of functional macros in graph widget name
  + ZBX-15200 fixed host, trigger and item count calculation; fixed required performance calculation
  + ZBX-15158 fixed graph name for cache usage in proxy and server templates
  + ZBX-15178 fixed wrong behaviour when referencing unexisting capture groups
    in item regexp preprocessing, general pcre code improvements 

-------------------------------------------------------------------
Thu Nov 29 08:59:53 UTC 2018 - boris@steki.net

- updated to latest release 4.0.2
- New Features and Improvements
  + ZBXNEXT-3848 added validation of update interval, custom interval,
    history storage period and trend storage period in low-level discovery
  + ZBXNEXT-4841 removed hardcoded locations for iconv.h and pthread.h;
    thanks to Helmut Grohne for the patch
  + ZBXNEXT-3047 fixed compilation errors on Windows platform with
    static OpenSSL libraries
  + ZBXNEXT-4836 added license information and OpenSSL linking exception
    to README file, show crypto library version when started with '-V'
  + ZBXNEXT-4725 added filter fields to select templates and hosts by directly linked templates;
    made proxy filter field visible in configuration hosts field
  + ZBXNEXT-4796 added 'fullscreen' and 'kiosk' URL arguments to allow to set layout mode via link
  + ZBXNEXT-4782 improve out of memory error message by adding statistics and backtrace;
    improve something impossible has just happened error message by adding backtrace
  + ZBXNEXT-4271 improved escalator performance by using nextcheck index instead of reading whole table 
- Bug Fixes
  + ZBX-15171 fixed crash in ODBC when creating JSON from null
    db values, fixed memory leak
  + ZBX-15045 fixed a case where a disable multiselect looks like
    a similar to enabled text field
  + ZBX-14927 fixed filter by host group without real hosts
    in triggers top 100, dashboard widgets, screens
  + ZBX-13662 fixed duplication of file system type in global regular
    expression for file systems discovery
  + ZBX-15036 added system.cpu.util[,guest], system.cpu.util[,guest_nice] to OS Linux template
  + ZBX-15106 improved error messages for item preprocessing, general pcre code improvements
  + ZBX-15095 fixed curl error handling for elasticsearch history backend
  + ZBX-15129 added optional upgrade patches to rename TRIGGER.NAME
    macros to EVENT.NAME in action operation messages and custom scripts
  + ZBX-14858 fixed processing of unlimited vmware maxQueryMetrics value
  + ZBX-14635 fixed rare LLD failures when moving host between groups
  + ZBX-13719 fixed loss of calc_fnc index in graph edit form
  + ZBX-14964 improved escalator performance during maintenance
    by checking paused escalations less frequently
  + ZBX-13793 fixed focus styles on read-only textarea fields
  + ZBX-13009 fixed percentage calculation on availability reports list page
  + ZBX-15138 fixed error message when receiving compressed data over maximum size
  + ZBX-15154 fixed time period parameters in data overview context menu links
  + ZBX-15044 fixed javascript error when zooming classic graph in edit mode
  + ZBX-15044 fixed dashboard initialization in edit mode
  + ZBX-15053 fixed timetamp position in map
  + ZBX-15033 fixed zoom-out and select box for graphs in kiosk mode
  + ZBX-8396 improved source code comments
  + ZBX-14970 fixed wrong media type status upon creation, if chosen status disabled
  + ZBX-14899 fixed wrong net.tcp.listen values on obsolete Linux systems
  + ZBX-14941 fixed issue with autoreconf/automake for source tarball
  + ZBX-15142 fixed time format for vmware performance counters query
  + ZBX-15010 fixed regexp compilation error for patterns with referenced subpatterns
  + ZBX-14724 fixed breadcrumb jumping in IE browser
  + ZBX-15083 fixed API so that macros {TRIGGER.ID} works in map element URLs
  + ZBX-15127 fixed possible crash when communication problem occurred
    in the middle of vmware update
  + ZBX-14396 fixed excessive memory usage during template full clone
  + ZBX-14848 clarified process type names for log level increase/decrease
    in help messages and man pages
  + ZBX-14833 fixed selectHosts option in dservice.get API method
    to return the list of hosts by IP and proxy
  + ZBX-15062 fixed binary heap trying to reallocate slots on every insert
  + ZBX-14805 fixed unauthorized request error when resetting
    filter after enabling/disabling elements
  + ZBX-14789 fixed translations from en_US to en_GB
  + ZBX-14758 fixed encoding for cookie names and values
  + ZBX-15122 fixed possible crash in web monitoring due
    to posts not being reset between steps
  + ZBX-14691 fixed faulty behaviour of mandatory fields in Trigger expression form
  + ZBX-13695 added support of host macros to trapper, HTTP agent item allowed hosts field
  + ZBX-15022 fixed shared memory leak during configuration cache synchronization
  + ZBX-15025 fixed email alerts being sent twice to one recipient
  + ZBX-15006 fixed possibility to link map widget to itself as filter widget
  + ZBX-14886 fixed undefined offset error in Problems by severity widget
  + ZBX-15090 fixed memory leak when validating regular expression
    preprocessing step parameters during LLD
  + ZBX-14625 changed SNMP OID default value to be displayed
    as placeholder instead of text
  + ZBX-14505 fixed compiler warning about incompatible pointer type on 32-bit platform
  + ZBX-1667 fixed error suppression during php ldap module initialization
  + ZBX-13505 fixed link coloring in map when related trigger is not monitored
  + ZBX-15032 fixed sBox position in screen's graph item when dynamic
    item is enabled
  + ZBX-14953 fixed not closed connection with vmware at the end
    of update session via a call to Logout()
  + ZBX-15007 fixed current map refresh in map widget
    right after update widget configuration
  + ZBX-14990 added missing http agent statistic row in queue screen
  + ZBX-14984 fixed missing focus from problem name when opening
    description editing popup in monitoring problems section
  + ZBX-14947 fixed configuration update in administration authentication section
  + ZBX-14974 fixed memory leak in case duplication name
    of the vmware performance counters
  + ZBX-14934 made widget specific javascript files to be loaded with jsLoader
  + ZBX-15094 fixed the potential crash during vmware update
  + ZBX-14966 removed the notes about sqlite from zabbix_server.conf
  + ZBX-14875 fixed discovery and auto registration escalations being kept
    for one hour instead of deleted immediately
  + ZBX-14422 fixed SQL queries being logged when accessing API,
    even if debug mode is disabled
  + ZBX-14905 fixed error reporting for XML import of hosts and templates
  + ZBX-14945 fixed action popup being unclosable after widget refresh,
    fixed debug element being hidden on widget refresh
  + ZBX-14806 changed focus style for radio buttons
  + ZBX-15027 fixed startup failures due to orphaned or zombie processes
    remaining when zabbix daemon is terminated during startup 
  + ZBX-14904 fixed possible PHP errors in "Problem hosts" widget
  + ZBX-15057 fixed possible crash when syncing host groups
  + ZBX-14807 fixed selection box for graphs on monitoring screens
  + ZBX-14779 extended support of system.stat[ent], system.stat[cpu,pc],
    system.stat[cpu,ec] on IBM AIX to LPAR type 'dedicated'
  + ZBX-14851 fixed the host visible name in the event details/messages
    from server when using long utf8 text
  + ZBX-14887 fixed max count of records in the single json that proxy can send to the server
  + ZBX-14972 fixed the case where data from non-monitored VMware services are not removed from vmware cache
  + ZBX-14856 added support for OpenSSL 1.1.1
  + ZBX-14971 added note on runtime control with PID numbers larger than 65535 to server,
    proxy and agentd help messages and man pages
  + ZBX-14734 fixed the verification of the assignment of two web checks with the same
    name from different templates to one host
  + ZBX-14749 fixed cloning inherited host prototype on host
  + ZBX-14663 fixed calculation of Y zero position in graph
  + ZBX-14865 fixed "Field "parent_itemid" cannot be set to NULL" error message
    while importing multiple templates
  + ZBX-14925 added support of user language specific url link in support icon,
    supported languages: english as default, japanese, russian
  + ZBX-14854 improved preprocessor worker performance
  + ZBX-14798 fixed incorrect zero rounding in date and time fields
  + ZBX-14954 fixed sql error in escalator when working with Oracle,
    PostgreSQL (less than v9.4) databases
  + ZBX-14952 fixed incorrect translation string in en_US locale
  + ZBX-14757 fixed fields becoming writable upon form refresh in host prototype form
  + ZBX-14915 fixed 'follow redirects' checkbox in web scenario step's dialog
  + ZBX-14811 fixed color of the host name in the title of the Screens
  + ZBX-14776 fixed sorting when changing status of media type
  + ZBX-14711 fixed triggers in trigger overview being filtered by trigger severity and trigger
    status change time instead of problem severity and problem creation time
  + ZBX-14689 fixed updating of the Graph list of host when selecting a group of hosts
  + ZBX-12217 removed links to templates with no permissions for templated triggers,
    trigger prototypes, graphs, graph prototypes, host prototypes and web scenarios
  + ZBX-14861 fixed trigger evaluation result not visible in test dialogue when expression is too long
  + ZBX-14723 fixed zoom button for time selector in IE browser
  + ZBX-14888 fixed table markup on overview and system info pages
  + ZBX-14652 fixed plain text Latest data when selecting more than 1 item
  + ZBX-14618 fixed host prototype status checkbox resets after adding template
  + ZBX-14632 fixed minor typos in comments and tests
  + ZBX-14834 fixed icon misplacement in problem view
  + ZBX-14803 fixed incorrect profile update causing page filter to sometimes show duplicate values
  + ZBX-10784 fixed validation of double/Numeric(float) values
  + ZBX-14727 fixed selection of data for trigger overview and graphs if first drop down entry is "none"
  + ZBX-14615 fixed Java gateway not to mark host unreachable in case of invalid username and password
  + ZBX-14585 fixed JMX endpoint not being included in error message in case of connection errors
  + ZBX-14650 fixed web.page.regexp item parameters description
  + ZBX-14764 fixed crash that could occur when OpenIPMI pollers are configured
  + ZBX-14882 fixed crash in vmware collector when receiving invalid xml
  + ZBX-14908 fixed crash when processing internal trigger events and deleting triggers at the same time
-------------------------------------------------------------------
Tue Oct 16 22:49:22 UTC 2018 - Boris Manojlovic <boris@steki.net>

- removed support for jabber protocol as iksemel was removed from
  openSUSE:Factory
- fixed configuration paths 

-------------------------------------------------------------------
Mon Oct  2 12:36:00 UTC 2018 - pieter@hollants.com

- initial packaging of zabbix 4.0.0
- inherited patch zabbix-3.0.25-new-m4-pgsql.patch

