From 3e1f720d150fe26de0b64eee797287a0e20ec636 Mon Sep 17 00:00:00 2001
From: Xiaoguang Wang <sun.wxg@gmail.com>
Date: Wed, 26 Feb 2025 09:58:51 +0800
Subject: [PATCH] Adapt to the zypper new printout format

---
 src/zypper.rs | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/src/zypper.rs b/src/zypper.rs
index ffda9ba..75093e2 100644
--- a/src/zypper.rs
+++ b/src/zypper.rs
@@ -8,7 +8,8 @@ pub enum Settings {
     Priority(i32),
 }
 
-#[derive(Clone)]
+#[derive(Clone, Debug)]
+#[allow(dead_code)]
 pub struct RepoInfo {
     pub id: String,
     pub alias: String,
@@ -43,8 +44,8 @@ impl Zypper {
         } else {
             false
         };
-        let priority = r[6].trim().to_string().parse::<i32>().unwrap();
-        let url = r[8].trim().to_string();
+        let priority = r[7].trim().to_string().parse::<i32>().unwrap();
+        let url = r[9].trim().to_string();
 
         RepoInfo {
             id: id,
-- 
2.48.1

