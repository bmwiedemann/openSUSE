Index: htmldoc-1.9.18/htmldoc/ps-pdf.cxx
===================================================================
--- htmldoc-1.9.18.orig/htmldoc/ps-pdf.cxx
+++ htmldoc-1.9.18/htmldoc/ps-pdf.cxx
@@ -5702,10 +5702,13 @@ parse_pre(tree_t *t,		/* I - Tree to par
 
 	case MARKUP_NONE :
             for (lineptr = line, dataptr = start->data;
-		 *dataptr != '\0' && lineptr < (line + sizeof(line) - 1);
+		 *dataptr != '\0' && lineptr < (line + sizeof(line) - 9);
 		 dataptr ++)
+	    {
               if (*dataptr == '\n')
+              {
 		break;
+              }
               else if (*dataptr == '\t')
               {
                /* This code changed after 15 years to work around new compiler optimization bugs (Issue #349) */
@@ -5720,6 +5723,7 @@ parse_pre(tree_t *t,		/* I - Tree to par
         	*lineptr++ = *dataptr;
         	col ++;
               }
+           }
 
             *lineptr = '\0';
 
