diff -up highlight-3.59/src/makefile.orig highlight-3.59/src/makefile
--- highlight-3.59/src/makefile.orig	2020-11-14 15:42:09.384134942 +0100
+++ highlight-3.59/src/makefile	2020-11-14 15:45:15.068143087 +0100
@@ -15,9 +15,10 @@
 #CXX ?= clang++
 CXX ?= g++
 
-QMAKE ?= qmake
+QMAKE ?= qmake-qt5
 
-CFLAGS:=-Wall -O2 ${CFLAGS} -DNDEBUG -std=c++11 -D_FILE_OFFSET_BITS=64
+OPTFLAGS=-O2
+CFLAGS:=-Wall -DNDEBUG -std=c++11 -D_FILE_OFFSET_BITS=64 $(OPTFLAGS)
 
 #CFLAGS:= -fPIC -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions -fstack-protector-strong -grecord-gcc-switches -fasynchronous-unwind-tables -fstack-clash-protection
 
@@ -116,7 +117,7 @@ gui-qt: highlight-gui
 
 highlight-gui: libhighlight.a ${GUI_OBJECTS}
 	cd gui-qt && \
-	${QMAKE} 'DEFINES+=DATA_DIR=\\\"${HL_DATA_DIR}\\\" CONFIG_DIR=\\\"${HL_CONFIG_DIR}\\\" DOC_DIR=\\\"${HL_DOC_DIR}\\\" ' && \
+	${QMAKE} QMAKE_CXXFLAGS="$(OPTFLAGS)" 'DEFINES+=DATA_DIR=\\\"${HL_DATA_DIR}\\\" CONFIG_DIR=\\\"${HL_CONFIG_DIR}\\\" DOC_DIR=\\\"${HL_DOC_DIR}\\\" ' && \
 	$(MAKE)
 
 $(OBJECTFILES) : makefile
