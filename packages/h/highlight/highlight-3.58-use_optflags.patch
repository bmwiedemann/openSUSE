diff -up highlight-3.58/src/makefile.orig highlight-3.58/src/makefile
--- highlight-3.58/src/makefile.orig
+++ highlight-3.58/src/makefile
@@ -16,9 +16,10 @@
 CXX ?= g++
 
-QMAKE ?= qmake
+QMAKE ?= qmake-qt5
 
 # Added -std=c++11 because of auto_ptr to unique_ptr transition
-CFLAGS:=-Wall -O2 ${CFLAGS} -DNDEBUG -std=c++11 -D_FILE_OFFSET_BITS=64
+OPTFLAGS=-O2
+CFLAGS:=-Wall -DNDEBUG -std=c++11 -D_FILE_OFFSET_BITS=64 $(OPTFLAGS)
 
 #CFLAGS:= -fPIC -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions -fstack-protector-strong -grecord-gcc-switches -fasynchronous-unwind-tables -fstack-clash-protection
 
@@ -117,7 +118,7 @@ gui-qt: highlight-gui
 
 highlight-gui: libhighlight.a ${GUI_OBJECTS}
 	cd gui-qt && \
-	${QMAKE} 'DEFINES+=DATA_DIR=\\\"${HL_DATA_DIR}\\\" CONFIG_DIR=\\\"${HL_CONFIG_DIR}\\\" DOC_DIR=\\\"${HL_DOC_DIR}\\\" ' && \
+	${QMAKE} QMAKE_CXXFLAGS="$(OPTFLAGS)" 'DEFINES+=DATA_DIR=\\\"${HL_DATA_DIR}\\\" CONFIG_DIR=\\\"${HL_CONFIG_DIR}\\\" DOC_DIR=\\\"${HL_DOC_DIR}\\\" ' && \
 	$(MAKE)
 
 $(OBJECTFILES) : makefile
