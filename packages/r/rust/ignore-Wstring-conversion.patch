Index: rustc-1.46.0-src/src/librustc_llvm/build.rs
===================================================================
--- rustc-1.46.0-src.orig/src/librustc_llvm/build.rs
+++ rustc-1.46.0-src/src/librustc_llvm/build.rs
@@ -146,6 +146,12 @@ fn main() {
             continue;
         }
 
+        // hack to avoid flag on openSUSE which is incompatible with GCC
+        if flag.starts_with("-W") && flag.contains("string-conversion") {
+            continue;
+        }
+
+
         cfg.flag(flag);
     }
 
