-------------------------------------------------------------------
Thu Dec 17 11:31:22 UTC 2020 - pgajdos@suse.com

- %check: use rabbitmqctl await_startup to wait for RabbitMQ
  server start and rabbitmqctl stop for stopping the server
  [bsc#1180096]

-------------------------------------------------------------------
Fri Oct 30 09:12:17 UTC 2020 - pgajdos@suse.com

- fix tests for SLE15

-------------------------------------------------------------------
Thu Sep  3 12:02:08 UTC 2020 - pgajdos@suse.com

- do not skip test_basic, try to run rabbitmq-server instead
- deleted patches
  - rabbitmq-c-remove_failing_test-0.9.0.patch (not needed)

-------------------------------------------------------------------
Wed Sep  2 13:26:08 UTC 2020 - pgajdos@suse.com

- rework the package [jsc#SLE-12262]:
  * run spec-cleaner
  * use cmake macros
  * source package name after github project, library package
    as subpackage
  * update to 0.10.0
    - amqp_ssl_socket_get_context can be used to get the current OpenSSL CTX*
        associated with a connection.
    - openssl: missing OpenSSL config is ignored as an OpenSSL init error (#523)
    - AMQP_DEFAULT_MAX_CHANNELS is now set to 2047 to follow current default channel
        limit in the RabbitMQ broker. (#513)
    - add additional input validation to prevent integer overflow when parsing a
        frame header. This addresses CVE-2019-18609.

-------------------------------------------------------------------
Mon May 28 07:27:40 UTC 2018 - tuukka.pasanen@ilmi.fi

- Update to version 0.9.0
  * amqp-publish: added support for specifying headers via the -H flag
  * Add support for specifying timeout for amqp_login calls via
  * amqp_set_handshake_timeout
  * Add support for specifying timeouts in RPC-style AMQP methods via
  * amqp_set_rpc_timeout
  * Add define for AMQP_DEFAULT_VHOST
  * Support for SSL SNI
  * Support for OpenSSL v1.1.0

- Changed:
  * rabbitmq-c now requires Windows Vista or better
  * rabbitmq-c enables TCP keep-alive by default on platforms that support it
  * dropped support for compiling rabbitmq-c without threading support
  * OpenSSL is no longer un-intialized automatically by default. OpenSSL can be
    explicitly initialized by calling amqp_initialize_ssl_library and
    uninitialized by calling amqp_uninitialize_ssl_library.

- Fixed:
  * Correct bugs in processing of --url flag in tools (#364).
  * Improve documentation on AMQP_SASL_METHOD_EXTERNAL (#349)
  * Improve support for compiling under mingw-w64
  * Better support for handing SIGPIPE on Linux over SSL (#401)
  * Improve publish performance on Linux by not specifying MSG_MORE on last part
    of message.
  * Fix connection logic where multiple hostnames won't be tried if 
    connection to doesn't fail immediately (#430)

- Removed:
  * autotools build system has been removed
  * many duplicate amqps_* examples, they did not add a lot of value

