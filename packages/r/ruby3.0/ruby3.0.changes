-------------------------------------------------------------------
Tue Apr 13 11:30:03 UTC 2021 - Marcus Rueckert <mrueckert@suse.de>

- update to ruby 3.0.1 (boo#1184644)
  https://www.ruby-lang.org/en/news/2021/04/05/ruby-3-0-1-released/ 
  - CVE-2021-28965: XML round-trip vulnerability in REXML

  Complete list of changes at
  https://github.com/ruby/ruby/compare/v3_0_0...v3_0_1
- drop https://github.com/rubygems/rubygems/pull/4317.patch 
  included in update

-------------------------------------------------------------------
Mon Jan 25 18:09:45 UTC 2021 - Marcus Rueckert <mrueckert@suse.de>

- add https://github.com/rubygems/rubygems/pull/4317.patch 
  make sure the gem plugins path does not contain the buildroot

-------------------------------------------------------------------
Fri Dec 25 06:28:46 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- update to ruby 3.0.0
  https://www.ruby-lang.org/en/news/2020/12/25/ruby-3-0-0-released/

-------------------------------------------------------------------
Fri Dec 25 00:18:54 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- Update to ruby 3.0.0~rc1
  https://www.ruby-lang.org/en/news/2020/12/20/ruby-3-0-0-rc1-released/

-------------------------------------------------------------------
Wed Dec  9 14:29:31 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- Update to ruby 3.0.0~preview2 
  https://www.ruby-lang.org/en/news/2020/12/08/ruby-3-0-0-preview2-released/
- 3972.patch

-------------------------------------------------------------------
Tue Oct 27 11:30:47 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- fix typo in the ruby macros file

-------------------------------------------------------------------
Tue Oct 27 11:22:03 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- no longer luse the url for the 3972.patch, as the code in the PR
  was rebased and no longer applies to the code in preview 1.

-------------------------------------------------------------------
Sun Oct 25 18:07:26 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- fix the macros to actually use 3.0.0

-------------------------------------------------------------------
Mon Sep 28 11:34:08 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- added https://patch-diff.githubusercontent.com/raw/rubygems/rubygems/pull/3972.patch
  to fix regression in rubygems buildroot support
  https://github.com/rubygems/rubygems/issues/3971

-------------------------------------------------------------------
Mon Sep 28 00:51:49 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- Update to 3.0.0~preview1
  https://www.ruby-lang.org/en/news/2020/09/25/ruby-3-0-0-preview1-released/

-------------------------------------------------------------------
Tue Apr 28 17:59:59 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- make sure that update-alternative weight for the default
  distribution is always greater than our normal weight

-------------------------------------------------------------------
Tue Apr 28 17:18:35 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- make the update-alternative weight based on the ruby version

-------------------------------------------------------------------
Tue Apr 14 07:47:25 UTC 2020 - Bernhard Wiedemann <bwiedemann@suse.com>

- Add ruby2.7-drop-build-date.patch (boo#1047218)

-------------------------------------------------------------------
Tue Apr  7 22:53:35 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- Update to 2.7.1 (boo#1167244 boo#1168938)
  - CVE-2020-10663: Unsafe Object Creation Vulnerability in JSON
    (Additional fix)
  - CVE-2020-10933: Heap exposure vulnerability in the socket
    library

  https://github.com/ruby/ruby/compare/v2_7_0...v2_7_1

-------------------------------------------------------------------
Tue Feb 18 13:54:37 UTC 2020 - Stefan Br√ºns <stefan.bruens@rwth-aachen.de>

- Apply fixes/changes from ruby2.6 package lost in ruby2.7 switch:
  * Fix mangling of shebangs, do not replace shell invocations with
    ruby, correcly replace "/usr/bin/env ruby". (bnc#1156797)
  * Cleanup spec file:
    + Drop support for obsolete distro versions
    + use license macro, remove defattr
  * Use valgrind-client-headers instead of full valgrind-devel
    package where available, reducing build package footprint.
  * Remove unused libX11-devel BuildRequires.

-------------------------------------------------------------------
Sat Dec 28 08:03:54 UTC 2019 - Marcus Rueckert <mrueckert@suse.de>

- update to final release of 2.7.0
  http://www.ruby-lang.org/en/news/2019/12/25/ruby-2-7-0-released/
- update the use-pie.patch to apply cleanly again

-------------------------------------------------------------------
Tue Jul  9 14:16:36 UTC 2019 - Marcus Rueckert <mrueckert@suse.de>

- fix running tests (boo#1140844)
  just passing the DISABLED_TESTS variable is wrong. probably a
  relict from calling the test scripts directly. use TESTOPTS now.

-------------------------------------------------------------------
Sun Jun 23 02:59:03 UTC 2019 - Marcus Rueckert <mrueckert@suse.de>

- add gmp to the buildrequires

-------------------------------------------------------------------
Sat Jun 22 21:07:33 UTC 2019 - Marcus Rueckert <mrueckert@suse.de>

- starting package with 2.7.0-preview1

