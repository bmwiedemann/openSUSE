From 5745751b23e3eee1906b4aca883560bc916e640a Mon Sep 17 00:00:00 2001
From: William Brown <william@blackhats.net.au>
Date: Tue, 28 Oct 2025 12:32:38 +1000
Subject: [PATCH] Disable broken linker tests

---
 compiler/rustc_target/src/spec/mod.rs | 11 -----------
 1 file changed, 11 deletions(-)

diff --git a/compiler/rustc_target/src/spec/mod.rs b/compiler/rustc_target/src/spec/mod.rs
index 1638c87c9ca..42b1c414f38 100644
--- a/compiler/rustc_target/src/spec/mod.rs
+++ b/compiler/rustc_target/src/spec/mod.rs
@@ -1414,17 +1414,6 @@ fn load_all_builtins() -> impl Iterator<Item = Target> {
             .into_iter()
             .map(|f| f())
         }
-
-        #[cfg(test)]
-        mod tests {
-            // Cannot put this into a separate file without duplication, make an exception.
-            $(
-                #[test] // `#[test]`
-                fn $module() {
-                    crate::spec::targets::$module::target().test_target()
-                }
-            )+
-        }
     };
 }
 
-- 
2.50.1 (Apple Git-155)

