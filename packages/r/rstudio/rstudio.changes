-------------------------------------------------------------------
Wed Apr 29 12:27:11 UTC 2020 - Dan Čermák <dcermak@suse.com>

- New upstream release 1.2.5042

  Rebase patches:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch
  * 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch
  * 0008-Don-t-install-pandoc-and-mathjax.patch
  * 0009-Fix-rstudio-exec-path.patch
  * 0010-fix-STL-access-undefined-behaviour.patch

  Add patch:
  * 0011-R_Slave-R_NoEcho-for-non-Windows.patch
    (fixes FTBFS with newest version of R)

-------------------------------------------------------------------
Tue Mar 10 11:51:03 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add 0010-fix-STL-access-undefined-behaviour.patch & fix double rebuild

  Rebase patches:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch
  * 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch
  * 0008-Don-t-install-pandoc-and-mathjax.patch
  * 0009-Fix-rstudio-exec-path.patch

  Add patch: 0010-fix-STL-access-undefined-behaviour.patch

  Add fix into spec from Fedora to not rebuild gwt twice by removing it from the
  ALL target.

-------------------------------------------------------------------
Thu Feb 13 15:51:35 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Drop 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch

  Rebase patches:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch

  Drop patches:
  * 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
    (dropped)
  * 0006-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
    (rebased as 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch)
  * 0007-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
    (rebased as 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch)
  * 0008-Remove-PauseChanged-related-handler-from-DownloadHel.patch
    (rebased as 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch)
  * 0009-Don-t-install-pandoc-and-mathjax.patch
    (rebased as 0008-Don-t-install-pandoc-and-mathjax.patch)
  * 0010-Fix-rstudio-exec-path.patch
    (rebased as 0009-Fix-rstudio-exec-path.patch)

  Added patches:
  * 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch
  * 0008-Don-t-install-pandoc-and-mathjax.patch
  * 0009-Fix-rstudio-exec-path.patch

-------------------------------------------------------------------
Fri Jan 31 10:52:34 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Fix suse-missing-rclink warning

-------------------------------------------------------------------
Wed Jan 29 14:09:24 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add systemd & pam & user for rstudio-server

-------------------------------------------------------------------
Tue Jan 28 08:44:50 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Fix Requires to actually require the rstudio base package

-------------------------------------------------------------------
Mon Jan 27 13:27:43 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add rstudio-server and rstudio-desktop subpackages

- Rebase patches:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch
  * 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
  * 0006-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0007-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0008-Remove-PauseChanged-related-handler-from-DownloadHel.patch
  * 0009-Don-t-install-pandoc-and-mathjax.patch
  * 0010-Fix-rstudio-exec-path.patch

-------------------------------------------------------------------
Tue Jan 21 08:48:05 UTC 2020 - Marco Varlese <marco.varlese@suse.com>

- Added 0010-Fix-rstudio-exec-path.patch:
  Fix an issue with R-Studio when being executed in an AppImage
  scope due to the use of absolute path.

-------------------------------------------------------------------
Tue Jan 14 15:57:38 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Set RStudio versions properly via ENV variables

-------------------------------------------------------------------
Tue Jan 14 13:48:39 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Fix shebangs on Leap 15 properly

- Add patch to skip the installation of the bundled mathjax and pandoc as we'd
  rm -rf them again:
  * 0009-Don-t-install-pandoc-and-mathjax.patch

- Rebase:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch
  * 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
  * 0006-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0007-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0008-Remove-PauseChanged-related-handler-from-DownloadHel.patch

-------------------------------------------------------------------
Tue Jan 14 12:14:49 UTC 2020 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Lower ram and disk in _constraints to match requirements
  and get more workers

-------------------------------------------------------------------
Mon Jan 13 15:10:57 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add patches to build on Leap 15.1:
  * 0006-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0007-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0008-Remove-PauseChanged-related-handler-from-DownloadHel.patch

- Rebase:
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch

-------------------------------------------------------------------
Mon Jan 13 14:33:17 UTC 2020 - Marco Varlese <marco.varlese@suse.com>

- Removed unrequired boost-devel and build requires
- Bumped the Java requires to a higher revision
- Cleaned up the spec via format_spec_cleaner ahead of Factory SR

-------------------------------------------------------------------
Mon Jan 13 10:44:48 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Unbundle mathjax and pandoc:
  Add 0004-Unbundle-mathjax-and-pandoc.patch
  and symlink to our installed packages of mathjax & pandoc instead of keeping
  the duplicates in /usr/lib/rstudio/*

- Rebase patches:
  * disable_boost_signals.patch -> 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * fix_qmake_path.patch -> 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
  * fix_java.patch -> 0002-Bump-bundled-gwt-version.patch
  * rstudio-fix_build_with_boost_1.71.patch -> 0001-First-pass-at-Boost-1.70-support.patch

- Add workaround to prevent building gwtc twice and potentially OOM-ing the
  worker

-------------------------------------------------------------------
Fri Jan 10 22:39:49 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Fix build failures
  * cleanup BuildRequires
  * cleanup %prep, %build & %install
  * cleanup duplicates and fix shebangs
  * add rpmlintrc filter for a cpp template file
  * add %files section
  * Bump bundled pandoc version from 2.3.1 to 2.7.3
  * add _constraints to allow for enough disk space

-------------------------------------------------------------------
Thu Jan  9 13:31:31 UTC 2020 - Vítězslav Čížek <vcizek@suse.com>

- Fix build with boost 1.71
  * https://github.com/rstudio/rstudio/issues/4636
  * https://github.com/rstudio/rstudio/pull/5353
  * add rstudio-fix_build_with_boost_1.71.patch

-------------------------------------------------------------------
Fri Jan  3 15:30:56 UTC 2020 - Marco Varlese <mvarlese@suse.com>

- Initial packaging (version 1.2.5033)
- Patches:
  * disable_boost_signals.patch to fix some BoostSignals related 
    issues with latest Boost 1.70
  * fix_java.patch to address issues connected to Java9
  * fix_qmake_path.patch to address qmake path used by discovery
    mechanism in R-Studio

