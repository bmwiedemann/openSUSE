-------------------------------------------------------------------
Thu Sep 10 13:09:02 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Allow to build on Leap 15.2

  Upstream allows to override the required boost version, which we utilize on
  Leap 15.2.

  Added patch:
  * 0008-Add-support-for-RapidJSON-1.1.0-in-Leap-15.2.patch

  Rebase patches:
  * 0001-Unbundle-mathjax-and-pandoc.patch
  * 0002-Don-t-install-pandoc-and-mathjax.patch
  * 0003-Fix-rstudio-exec-path.patch
  * 0004-add-support-for-boost-1.73.patch
  * 0005-Add-additional-includes-for-aarch64.patch
  * 0006-Use-system-hunspell.patch
  * 0007-Fix-libclang-usage.patch

-------------------------------------------------------------------
Mon Sep  7 09:33:10 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Remove bundled provides and integrate patches into git

  Rebase patches:
  * 0001-Unbundle-mathjax-and-pandoc.patch
  * 0002-Don-t-install-pandoc-and-mathjax.patch
  * 0003-Fix-rstudio-exec-path.patch
  * 0004-add-support-for-boost-1.73.patch
  * 0005-Add-additional-includes-for-aarch64.patch

  Remove patches: (integrated into git)
  * use-system-hunspell.patch
  * fix-libclang-usage.patch

  Add patches:
  * 0006-Use-system-hunspell.patch
  * 0007-Fix-libclang-usage.patch

  * Remove the no longer applicable Provides: bundled(hunspell)
  * Fix lib -> libexec in rstudio-rpmlintrc

-------------------------------------------------------------------
Thu Sep  3 22:41:58 UTC 2020 - Aaron Puchert <aaronpuchert@alice-dsl.net>

- Add use-system-hunspell.patch to make compatible with newer
  versions of hunspell, replace bundled version by system library.
- Add fix-libclang-usage.patch to make compatible with newer
  versions, unbundle clang-c headers and use system headers
  instead. Also make sure we find the library and the required
  builtin headers.
- Most users won't need pandoc and mathjax, and since they have
  quite some dependencies of their own, we only recommend them.
- Remove bundled zlib files that we don't need.
- Put executables specific to -desktop and -server into the
  subpackages to reduce the number of dependencies if only one of
  them is needed. (Most notably users installing the server variant
  won't need Qt libraries.)

-------------------------------------------------------------------
Wed Sep  2 10:36:02 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add patches to support boost >= 1.73

  Add patches:
  * 0004-add-support-for-boost-1.73.patch
  * 0005-Add-additional-includes-for-aarch64.patch

  Rebase patches:
  * 0001-Unbundle-mathjax-and-pandoc.patch
  * 0002-Don-t-install-pandoc-and-mathjax.patch
  * 0003-Fix-rstudio-exec-path.patch

-------------------------------------------------------------------
Thu Aug 20 09:05:25 UTC 2020 - Martin Liška <mliska@suse.cz>

- Use memoryperjob constraint instead of %limit_build macro.

-------------------------------------------------------------------
Wed Aug 19 08:56:16 UTC 2020 - Dan Čermák <dcermak@suse.com>

- New upstream release 1.3.1073

  Rebase patches:
  * 0001-Unbundle-mathjax-and-pandoc.patch
  * 0002-Don-t-install-pandoc-and-mathjax.patch
  * 0003-Fix-rstudio-exec-path.patch

-------------------------------------------------------------------
Fri Jul 31 17:27:38 UTC 2020 - Dan Čermák <dcermak@suse.com>

- New upstream release 1.3.1056

  Drop patch (merged upstream):
  * 0004-R_Slave-R_NoEcho-for-non-Windows.patch

  Rebase patches:
  * 0001-Unbundle-mathjax-and-pandoc.patch
  * 0002-Don-t-install-pandoc-and-mathjax.patch
  * 0003-Fix-rstudio-exec-path.patch

-------------------------------------------------------------------
Fri Jul 31 16:32:03 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Recommend gcc & g++ so that R modules can be installed

-------------------------------------------------------------------
Mon Jun 15 20:06:34 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Correct license of bundled font

-------------------------------------------------------------------
Tue Jun  9 17:22:53 UTC 2020 - Dan Čermák <dcermak@suse.com>

- New upstream release 1.3.959

  * Fix wrong unbundling of pandoc (boo#1172426)
  * No longer bundle gwt and gin, these are now included in rstudio's source
    code. Also, rename gwt to gwt-rstudio, as they now maintain their own fork.
  * change NOTICE to %license as it is a legal document as well
  * unbundle rapidjson and websocketpp
  * find a lot more bundled dependencies and declare them in the spec file
    including their licenses

  Drop patches (merged upstream):
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0010-fix-STL-access-undefined-behaviour.patch

  Drop patches (compatibility with Leap 15.1 dropped as boost is too old):
  * 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch

  Rebase patches:
  * 0004-Unbundle-mathjax-and-pandoc.patch as
    0001-Unbundle-mathjax-and-pandoc.patch
  * 0008-Don-t-install-pandoc-and-mathjax.patch as
    0002-Don-t-install-pandoc-and-mathjax.patch
  * 0009-Fix-rstudio-exec-path.patch as 0003-Fix-rstudio-exec-path.patch
  * 0011-R_Slave-R_NoEcho-for-non-Windows.patch as
    0004-R_Slave-R_NoEcho-for-non-Windows.patch

-------------------------------------------------------------------
Wed Apr 29 12:27:11 UTC 2020 - Dan Čermák <dcermak@suse.com>

- New upstream release 1.2.5042

  Rebase patches:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch
  * 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch
  * 0008-Don-t-install-pandoc-and-mathjax.patch
  * 0009-Fix-rstudio-exec-path.patch
  * 0010-fix-STL-access-undefined-behaviour.patch

  Add patch:
  * 0011-R_Slave-R_NoEcho-for-non-Windows.patch
    (fixes FTBFS with newest version of R)

-------------------------------------------------------------------
Tue Mar 10 11:51:03 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add 0010-fix-STL-access-undefined-behaviour.patch & fix double rebuild

  Rebase patches:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch
  * 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch
  * 0008-Don-t-install-pandoc-and-mathjax.patch
  * 0009-Fix-rstudio-exec-path.patch

  Add patch: 0010-fix-STL-access-undefined-behaviour.patch

  Add fix into spec from Fedora to not rebuild gwt twice by removing it from the
  ALL target.

-------------------------------------------------------------------
Thu Feb 13 15:51:35 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Drop 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch

  Rebase patches:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch

  Drop patches:
  * 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
    (dropped)
  * 0006-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
    (rebased as 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch)
  * 0007-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
    (rebased as 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch)
  * 0008-Remove-PauseChanged-related-handler-from-DownloadHel.patch
    (rebased as 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch)
  * 0009-Don-t-install-pandoc-and-mathjax.patch
    (rebased as 0008-Don-t-install-pandoc-and-mathjax.patch)
  * 0010-Fix-rstudio-exec-path.patch
    (rebased as 0009-Fix-rstudio-exec-path.patch)

  Added patches:
  * 0005-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0006-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0007-Remove-PauseChanged-related-handler-from-DownloadHel.patch
  * 0008-Don-t-install-pandoc-and-mathjax.patch
  * 0009-Fix-rstudio-exec-path.patch

-------------------------------------------------------------------
Fri Jan 31 10:52:34 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Fix suse-missing-rclink warning

-------------------------------------------------------------------
Wed Jan 29 14:09:24 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add systemd & pam & user for rstudio-server

-------------------------------------------------------------------
Tue Jan 28 08:44:50 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Fix Requires to actually require the rstudio base package

-------------------------------------------------------------------
Mon Jan 27 13:27:43 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add rstudio-server and rstudio-desktop subpackages

- Rebase patches:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch
  * 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
  * 0006-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0007-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0008-Remove-PauseChanged-related-handler-from-DownloadHel.patch
  * 0009-Don-t-install-pandoc-and-mathjax.patch
  * 0010-Fix-rstudio-exec-path.patch

-------------------------------------------------------------------
Tue Jan 21 08:48:05 UTC 2020 - Marco Varlese <marco.varlese@suse.com>

- Added 0010-Fix-rstudio-exec-path.patch:
  Fix an issue with R-Studio when being executed in an AppImage
  scope due to the use of absolute path.

-------------------------------------------------------------------
Tue Jan 14 15:57:38 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Set RStudio versions properly via ENV variables

-------------------------------------------------------------------
Tue Jan 14 13:48:39 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Fix shebangs on Leap 15 properly

- Add patch to skip the installation of the bundled mathjax and pandoc as we'd
  rm -rf them again:
  * 0009-Don-t-install-pandoc-and-mathjax.patch

- Rebase:
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch
  * 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
  * 0006-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0007-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0008-Remove-PauseChanged-related-handler-from-DownloadHel.patch

-------------------------------------------------------------------
Tue Jan 14 12:14:49 UTC 2020 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Lower ram and disk in _constraints to match requirements
  and get more workers

-------------------------------------------------------------------
Mon Jan 13 15:10:57 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Add patches to build on Leap 15.1:
  * 0006-Use-std-thread-instead-of-QThread-for-Qt-5.10-suppor.patch
  * 0007-Add-explicit-include-mutex-for-gcc-7-to-DesktopWebpa.patch
  * 0008-Remove-PauseChanged-related-handler-from-DownloadHel.patch

- Rebase:
  * 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
  * 0002-Bump-bundled-gwt-version.patch
  * 0001-First-pass-at-Boost-1.70-support.patch
  * 0004-Unbundle-mathjax-and-pandoc.patch

-------------------------------------------------------------------
Mon Jan 13 14:33:17 UTC 2020 - Marco Varlese <marco.varlese@suse.com>

- Removed unrequired boost-devel and build requires
- Bumped the Java requires to a higher revision
- Cleaned up the spec via format_spec_cleaner ahead of Factory SR

-------------------------------------------------------------------
Mon Jan 13 10:44:48 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Unbundle mathjax and pandoc:
  Add 0004-Unbundle-mathjax-and-pandoc.patch
  and symlink to our installed packages of mathjax & pandoc instead of keeping
  the duplicates in /usr/lib/rstudio/*

- Rebase patches:
  * disable_boost_signals.patch -> 0003-Remove-boost-signals-from-the-required-Boost-librari.patch
  * fix_qmake_path.patch -> 0005-Use-find_program-to-find-qmake-if-it-is-not-in-the-p.patch
  * fix_java.patch -> 0002-Bump-bundled-gwt-version.patch
  * rstudio-fix_build_with_boost_1.71.patch -> 0001-First-pass-at-Boost-1.70-support.patch

- Add workaround to prevent building gwtc twice and potentially OOM-ing the
  worker

-------------------------------------------------------------------
Fri Jan 10 22:39:49 UTC 2020 - Dan Čermák <dcermak@suse.com>

- Fix build failures
  * cleanup BuildRequires
  * cleanup %prep, %build & %install
  * cleanup duplicates and fix shebangs
  * add rpmlintrc filter for a cpp template file
  * add %files section
  * Bump bundled pandoc version from 2.3.1 to 2.7.3
  * add _constraints to allow for enough disk space

-------------------------------------------------------------------
Thu Jan  9 13:31:31 UTC 2020 - Vítězslav Čížek <vcizek@suse.com>

- Fix build with boost 1.71
  * https://github.com/rstudio/rstudio/issues/4636
  * https://github.com/rstudio/rstudio/pull/5353
  * add rstudio-fix_build_with_boost_1.71.patch

-------------------------------------------------------------------
Fri Jan  3 15:30:56 UTC 2020 - Marco Varlese <mvarlese@suse.com>

- Initial packaging (version 1.2.5033)
- Patches:
  * disable_boost_signals.patch to fix some BoostSignals related 
    issues with latest Boost 1.70
  * fix_java.patch to address issues connected to Java9
  * fix_qmake_path.patch to address qmake path used by discovery
    mechanism in R-Studio

