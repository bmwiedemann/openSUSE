From dfaa947fc5e3969f2bce910281e5fc25f096b344 Mon Sep 17 00:00:00 2001
From: Adam Majer <adam.majer@suse.de>
Date: Thu, 10 Sep 2020 14:56:17 +0200
Subject: [PATCH 8/8] Add support for RapidJSON 1.1.0 in Leap 15.2

---
 src/cpp/shared_core/json/Json.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/cpp/shared_core/json/Json.cpp b/src/cpp/shared_core/json/Json.cpp
index aaac8a3f66..d4149c5c51 100644
--- a/src/cpp/shared_core/json/Json.cpp
+++ b/src/cpp/shared_core/json/Json.cpp
@@ -746,7 +746,7 @@ std::string Value::write() const
    rapidjson::Writer<rapidjson::StringBuffer> writer(buffer);
 
    m_impl->Document->Accept(writer);
-   return std::string(buffer.GetString(), buffer.GetLength());
+   return std::string(buffer.GetString(), buffer.GetSize() / sizeof(rapidjson::StringBuffer::Ch));
 }
 
 void Value::write(std::ostream& os) const
@@ -760,7 +760,7 @@ std::string Value::writeFormatted() const
    rapidjson::PrettyWriter<rapidjson::StringBuffer> writer(buffer);
 
    m_impl->Document->Accept(writer);
-   return std::string(buffer.GetString(), buffer.GetLength());
+   return std::string(buffer.GetString(), buffer.GetSize() / sizeof(rapidjson::StringBuffer::Ch));
 }
 
 void Value::writeFormatted(std::ostream& os) const
-- 
2.28.0

