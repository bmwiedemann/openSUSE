From 9a025e6aaa577dfefa02cc8b25272d454db6dcba Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Dan=20=C4=8Cerm=C3=A1k?= <dcermak@suse.com>
Date: Tue, 14 Jan 2020 14:20:40 +0100
Subject: [PATCH 2/8] Don't install pandoc and mathjax

Because we use the system wide version, there's no need to waste time installing
the files.
---
 src/cpp/session/CMakeLists.txt | 41 -----------------------------------------
 1 file changed, 41 deletions(-)

diff --git a/src/cpp/session/CMakeLists.txt b/src/cpp/session/CMakeLists.txt
index 0202e84..ec525d4 100644
--- a/src/cpp/session/CMakeLists.txt
+++ b/src/cpp/session/CMakeLists.txt
@@ -692,53 +692,12 @@ if(NOT RSTUDIO_SESSION_WIN32 AND NOT RSESSION_ALTERNATE_BUILD)
    install(DIRECTORY "${RSTUDIO_DEPENDENCIES_DICTIONARIES_DIR}"
            DESTINATION "${RSTUDIO_INSTALL_SUPPORTING}/resources")
 
-   # install mathjax for local html preview
-   install(DIRECTORY "${RSTUDIO_DEPENDENCIES_MATHJAX_DIR}"
-           DESTINATION "${RSTUDIO_INSTALL_SUPPORTING}/resources")
-
    # install node
    install(
       DIRECTORY "${RSTUDIO_DEPENDENCIES_DIR}/common/node/${RSTUDIO_INSTALLED_NODE_VERSION}/"
       DESTINATION "${RSTUDIO_INSTALL_BIN}/node"
       USE_SOURCE_PERMISSIONS)
 
-   # install quarto (or pandoc if quarto disabled)
-   if(QUARTO_ENABLED)
-      # install some quarto folders into Resources, as needed
-      if(APPLE)
-         if (RSTUDIO_ELECTRON)
-            install(DIRECTORY "${RSTUDIO_DEPENDENCIES_QUARTO_DIR}" 
-                  DESTINATION "${RSTUDIO_INSTALL_RESOURCES}/app"
-                  USE_SOURCE_PERMISSIONS
-                  PATTERN ".gitignore"
-                  EXCLUDE)
-         else()
-            install(DIRECTORY "${RSTUDIO_DEPENDENCIES_QUARTO_DIR}"
-                  DESTINATION "${RSTUDIO_INSTALL_BIN}"
-                  USE_SOURCE_PERMISSIONS
-                  PATTERN "*/share"
-                  EXCLUDE
-                  PATTERN ".gitignore"
-                  EXCLUDE)
-            install(DIRECTORY "${RSTUDIO_DEPENDENCIES_QUARTO_DIR}/share" 
-                  DESTINATION "${RSTUDIO_INSTALL_SUPPORTING}/quarto"
-                  USE_SOURCE_PERMISSIONS
-                  PATTERN ".gitignore"
-                  EXCLUDE)
-         endif()
-      else()
-         install(DIRECTORY "${RSTUDIO_DEPENDENCIES_QUARTO_DIR}"
-               DESTINATION "${RSTUDIO_INSTALL_BIN}"
-               USE_SOURCE_PERMISSIONS
-               PATTERN ".gitignore"
-               EXCLUDE)
-      endif()
-   else()
-      install(DIRECTORY "${RSTUDIO_DEPENDENCIES_PANDOC_DIR}/"
-              DESTINATION "${RSTUDIO_INSTALL_BIN}/pandoc"
-              USE_SOURCE_PERMISSIONS)
-   endif()
-
    # install embedded packages
    foreach(PKG ${RSTUDIO_EMBEDDED_PACKAGES})
       file(GLOB PKG_FILES "${RSTUDIO_DEPENDENCIES_DIR}/common/${PKG}*.tar.gz")
