-------------------------------------------------------------------
Thu Apr 21 08:11:56 UTC 2022 - Dirk Müller <dmueller@suse.com>

- update to 0.13.1:
  * #3685: Fix the diff command
  * #3681: Fix rclone (shimmed by Scoop) and sftp stopped working on Windows

-------------------------------------------------------------------
Sun Mar 27 20:01:48 UTC 2022 - Dirk Müller <dmueller@suse.com>

- update to 0.13.0:
  * #1106: Never lock repository for list locks
  * #2345: Make cache crash-resistant and usable by multiple concurrent processes
  * #2452: Improve error handling of repository locking
  * #2738: Don't print progress for backup --json --quiet
  * #3382: Make check command honor RESTIC_CACHE_DIR environment variable
  * #3518: Make copy command honor --no-lock for source repository
  * #3556: Fix hang with Backblaze B2 on SSL certificate authority error
  * #3601: Fix rclone backend prematurely exiting when receiving SIGINT on Windows
  * #3667: The mount command now reports symlinks sizes
  * #3488: rebuild-index failed if an index file was damaged
  * #3591: Fix handling of prune --max-repack-size=0
  * #3619: Avoid choosing parent snapshots newer than time of new snapshot
  * #3641: Ignore parent snapshot for backup --stdin
  * #3519: Require Go 1.14 or newer
  * #1542: Add --dry-run/-n option to backup command
  * #2202: Add upload checksum for Azure, GS, S3 and Swift backends
  * #233: Support negative include/exclude patterns
  * #2388: Add warning for S3 if partial credentials are provided
  * #2508: Support JSON output and quiet mode for the diff command
  * #2656: Add flag to disable TLS verification for self-signed certificates
  * #3003: Atomic uploads for the SFTP backend
  * #3127: Add xattr (extended attributes) support for Solaris
  * #3464: Skip lock creation on forget if --no-lock and --dry-run
  * #3490: Support random subset by size in check --read-data-subset
  * #3541: Improve handling of temporary B2 delete errors
  * #3542: Add file mode in symbolic notation to ls --json
  * #2594: Speed up the restore --verify command
  * #2816: The backup command no longer updates file access times on Linux
  * #2880: Make recover collect only unreferenced trees
  * #3429: Verify that new or modified keys are stored correctly
  * #3436: Improve local backend's resilience to (system) crashes
  * #3508: Cache blobs read by the dump command
  * #3511: Support configurable timeout for the rclone backend
  * #3593: Improve copy performance by parallelizing IO

-------------------------------------------------------------------
Fri Aug  6 21:52:10 UTC 2021 - Herbert Graeber <herbert@graeber-clan.de>

- Update to 0.12.1

  Fixes:
  * #2742: Improve error handling for rclone and REST backend over HTTP2
  * #3111: Fix terminal output redirection for PowerShell
  * #3214: Treat an empty password as a fatal error for repository init
  * #3267: copy failed to copy snapshots in rare cases
  * #3184: backup --quiet no longer prints status information
  * #3296: Fix crash of check --read-data-subset=x% run for an empty repository
  * #3302: Fix fdopendir: not a directory error for local backend
  * #3334: Print created new cache message only on a terminal
  * #3380: Fix crash of backup --exclude='**'
  * #3305: Fix possibly missing backup summary of JSON output in case of error
  * #3439: Correctly handle download errors during restore

  Changes:
  * #3247: Empty files now have size of 0 in ls --json output

  Enhancements:
  * #2780: Add release binaries for s390x architecture on Linux
  * #3293: Add --repository-file2 option to init and copy command
  * #3312: Add auto-completion support for fish
  * #3336: SFTP backend now checks for disk space
  * #3377: Add release binaries for Apple Silicon
  * #3414: Add --keep-within-hourly option to restic forget
  * #3456: Support filtering and specifying untagged snapshots
  * #3167: Allow specifying limit of snapshots list
  * #3426: Optimize read performance of mount command
  * #3427: find --pack fallback to index if data file is missing

-------------------------------------------------------------------
Tue Feb 16 20:17:22 UTC 2021 - Herbert Graeber <herbert@graeber-clan.de>

- Update to 0.12.0
  https://github.com/restic/restic/releases/tag/v0.12.0
  See installed /usr/share/doc/packages/restic/CHANGELOG.md.

  Fixes:
  * #1681: Make mount not create missing mount point directory
  * #1800: Ignore no data available filesystem error during backup
  * #2563: Report the correct owner of directories in FUSE mounts
  * #2688: Make backup and tag commands separate tags by comma
  * #2739: Make the cat command respect the --no-lock option
  * #3087: The --use-fs-snapshot option now works on windows/386
  * #3100: Do not require gs bucket permissions when running init
  * #3111: Correctly detect output redirection for backup command on Windows
  * #3151: Don't create invalid snapshots when backup is interrupted
  * #3166: Improve error handling in the restore command
  * #3232: Correct statistics for overlapping targets
  * #3014: Fix sporadic stream reset between rclone and restic
  * #3152: Do not hang until foregrounded when completed in background
  * #3249: Improve error handling in gs backend

  Changes:
  * #3095: Deleting files on Google Drive now moves them to the trash

  Enhancements:
  * #2186: Allow specifying percentage in check --read-data-subset
  * #2453: Report permanent/fatal backend errors earlier
  * #2528: Add Alibaba/Aliyun OSS support in the s3 backend
  * #2706: Configurable progress reports for non-interactive terminals
  * #2944: Add backup options --files-from-{verbatim,raw}
  * #3083: Allow usage of deprecated S3 ListObjects API
  * #3147: Support additional environment variables for Swift authentication
  * #3191: Add release binaries for MIPS architectures
  * #909:  Back up mountpoints as empty directories
  * #3250: Add several more error checks
  * #2718: Improve prune performance and make it more customizable
  * #2495: Add option to let backup trust mtime without checking ctime
  * #2941: Speed up the repacking step of the prune command
  * #3006: Speed up the rebuild-index command
  * #3048: Add more checks for index and pack files in the check command
  * #2433: Make the dump command support zip format
  * #3099: Reduce memory usage of check command
  * #3106: Parallelize scan of snapshot content in copy and prune
  * #3130: Parallelize reading of locks and snapshots
  * #3254: Enable HTTP/2 for backend connections

-------------------------------------------------------------------
Mon Dec 21 10:48:03 UTC 2020 - Gordon Schulz <gordon@gordonschulz.de>

- Update to 0.11.0
  https://github.com/restic/restic/releases/tag/v0.11.0
  See installed /usr/share/doc/packages/restic/CHANGELOG.md.

  Fixes:
  * #1212: Restore timestamps and permissions on intermediate directories
  * #1756: Mark repository files as read-only when using the local backend
  * #2241: Hide password in REST backend repository URLs
  * #2319: Correctly dump directories into tar files
  * #2491: Don't require self-update --output placeholder file
  * #2834: Fix rare cases of backup command hanging forever
  * #2938: Fix manpage formatting
  * #2942: Make --exclude-larger-than handle disappearing files
  * #2951: Restic generate, help and self-update no longer check passwords
  * #2979: Make snapshots --json output [] instead of null when no snapshots

  Enhancements:
  * #2969: Optimize check for unchanged files during backup
  * #340: Add support for Volume Shadow Copy Service (VSS) on Windows
  * #2849: Authenticate to Google Cloud Storage with access token
  * #1458: New option --repository-file
  * #2978: Warn if parent snapshot cannot be loaded during backup

-------------------------------------------------------------------
Tue Sep 22 21:22:18 UTC 2020 - Marcus Rueckert <mrueckert@suse.de>

- Update to 0.10.0.
  https://github.com/restic/restic/releases/tag/v0.10.0
  See installed /usr/share/doc/packages/restic/CHANGELOG.md.
- we need to manually vendor the libraries now 
- bump minimum go version to >= 1.13

-------------------------------------------------------------------
Sat Nov 23 13:23:28 UTC 2019 - Aleksa Sarai <asarai@suse.com>

- Update to 0.9.6.
  https://github.com/restic/restic/releases/tag/v0.9.6
  See installed /usr/share/doc/packages/restic/CHANGELOG.md.

  Fixes:
  * Allow absolute path for filename when backing up from stdin
  * Save files with invalid timestamps
  * Read fresh metadata for unmodified files
  * Add upper bound for t in --read-data-subset=n/t
  * Check errors when loading index files

  Enhancements:
  + Allow multiple retries for interactive password input
  + Make --group-by accept both singular and plural
  + Add option to configure S3 region

-------------------------------------------------------------------
Tue Apr 23 14:54:52 UTC 2019 - Aleksa Sarai <asarai@suse.com>

- Update to 0.9.5.
  https://github.com/restic/restic/releases/tag/v0.9.5
  See installed /usr/share/doc/packages/restic/CHANGELOG.md. Short-log:
  Fixes:
  * Return error when no bytes could be read from stdin
  * Don't cancel timeout after 30 seconds for self-update
  * Fix reading passwords from stdin
  * Don't abort the find command when a tree can't be loaded
  Enhancements:
  + Add case insensitive include & exclude options
  + Support streaming JSON output for backup
  + Add Openstack application credential auth for Swift
  + Add --json support to forget command
  + Add group-by option to snapshots command
  + Ability to dump folders to tar via stdout
  + Return error if no bytes could be read for backup --stdin
  + Add --ignore-inode option to backup cmd
  + Add config option to set S3 storage class

-------------------------------------------------------------------
Mon Jan  7 14:01:58 UTC 2019 - Aleksa Sarai <asarai@suse.com>

- Update to 0.9.4.
  https://github.com/restic/restic/releases/tag/v0.9.4
  See installed /usr/share/doc/packages/restic/CHANGELOG.md

-------------------------------------------------------------------
Mon Nov  5 08:44:53 UTC 2018 - Aleksa Sarai <asarai@suse.com>

- Update to 0.9.3. boo#1115498
  https://github.com/restic/restic/releases/tag/v0.9.3
  See installed /usr/share/doc/packages/restic/CHANGELOG.md
- Update to Go 1.9, and disable Go 1.11 modules since they require internet
  access (restic still provides vendor/).

-------------------------------------------------------------------
Wed Aug  8 03:59:46 UTC 2018 - asarai@suse.com

- Update to 0.9.2.
  https://github.com/restic/restic/releases/tag/v0.9.2
  See installed /usr/share/doc/packages/restic/CHANGELOG.md
- Remove Go 1.8 compatibility patch, now that we have newer Go versions in
  older Leap releases.
  - restic-switch-to-pre-1.8-sort.Stable-API.patch

-------------------------------------------------------------------
Sat Jul 28 18:27:51 UTC 2018 - jengelh@inai.de

- Substantiate program attribute claims in descriptions.

-------------------------------------------------------------------
Fri Jun 22 13:33:00 UTC 2018 - asarai@suse.com

- Update to 0.9.1.
  https://github.com/restic/restic/releases/tag/v0.9.1
  See installed /usr/share/doc/packages/restic/CHANGELOG.md
- Switch to building with the new "go" metapkg.
- Switch to new %license macro.

-------------------------------------------------------------------
Fri Jun 22 13:29:22 UTC 2018 - asarai@suse.com

- Fix up restic-*-completion subpackages to use Supplements (to avoid
  installing shells on people's machines when they don't expect it).

-------------------------------------------------------------------
Thu Jun 21 21:00:07 UTC 2018 - mardnh@gmx.de

- Add subpackages for command line completions for bash and
  zsh shells

-------------------------------------------------------------------
Thu Mar  1 01:11:07 UTC 2018 - asarai@suse.com

- Update to 0.8.3.
  https://github.com/restic/restic/releases/tag/v0.8.3
  See installed /usr/share/doc/packages/restic/CHANGELOG.md

-------------------------------------------------------------------
Sat Jan 13 16:20:36 UTC 2018 - asarai@suse.com

- Switch away from using build.go, and instead manually build with "go". This
  allows us to build with the older Go compilers present in Leap, as well as to
  build the binary as PIC and dynamic.
- Add generated man pages.
- In order to build with older Go compilers, add a patch.
  + restic-switch-to-pre-1.8-sort.Stable-API.patch

-------------------------------------------------------------------
Wed Jan 10 12:05:43 UTC 2018 - asarai@suse.com

- Update to 0.8.1.
  https://github.com/restic/restic/releases/tag/v0.8.1
  See installed /usr/share/doc/packages/restic/CHANGELOG.md

-------------------------------------------------------------------
Wed Jan 10 12:01:29 UTC 2018 - asarai@suse.com

- Add GPG verification of source as well as links to the source.

-------------------------------------------------------------------
Sun Dec 24 23:51:26 UTC 2017 - mrueckert@suse.de

- Update to 0.8.0. This is a security release.
  https://github.com/restic/restic/releases/tag/v0.8.0
  See installed /usr/share/doc/packages/restic/CHANGELOG.md

-------------------------------------------------------------------
Thu Oct  5 09:46:23 UTC 2017 - mrueckert@suse.de

- Update to 0.7.3.
  https://github.com/restic/restic/releases/tag/v0.7.3
  See installed /usr/share/doc/packages/restic/CHANGELOG.md

-------------------------------------------------------------------
Wed Aug 23 16:40:17 UTC 2017 - mrueckert@suse.de

- should really be in _bindir of course

-------------------------------------------------------------------
Wed Aug 23 14:35:53 UTC 2017 - mrueckert@suse.de

- update to package
