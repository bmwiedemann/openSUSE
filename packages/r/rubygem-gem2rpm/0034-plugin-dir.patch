Index: gem2rpm-0.10.1/templates/gem_packages.spec.erb
===================================================================
--- gem2rpm-0.10.1.orig/templates/gem_packages.spec.erb
+++ gem2rpm-0.10.1/templates/gem_packages.spec.erb
@@ -7,7 +7,7 @@
   def self.patch_mod_full_name(path, mod_full_name)
     path.gsub(/\/-/, "/#{mod_full_name}")
   end
-  
+
   def self.patch_libdir(path)
     # path ? path.gsub(/\/usr\/lib(64)?/, '%{_libdir}') : path
     path
@@ -17,7 +17,7 @@
     return nil unless Gem.ruby_engine == 'ruby' && Gem::Requirement.new("~> 2.1.0").satisfied_by?(Gem.ruby_version)
     if gem_spec.respond_to?(:extensions_dir)
       rp = gem_spec.extensions_dir.rpartition(gem_spec.base_dir)
-      return File.join(rp[1], 'doc', rp[2]) 
+      return File.join(rp[1], 'doc', rp[2])
     end
     return nil
   end
@@ -26,7 +26,7 @@
     versions=spec.version.to_s.split('.')
     begin v1=Integer(versions[0]) rescue v1=1 end
     begin v2=Integer(versions[1]) rescue v2=0 end
-    begin v3=Integer(versions[2]) rescue v3=0 end 
+    begin v3=Integer(versions[2]) rescue v3=0 end
     weight=v1*10000+v2*100+v3
   end
 
@@ -60,7 +60,7 @@
     end
     custom_pkgs
   end
-  
+
   rb_suffix          = RbConfig::CONFIG['ruby_install_name'].gsub(/^ruby/, '')
   # TODO: "ruby" hardcoded here is wrong. it should support jruby/rubinius or so
   rb_abi             = "ruby:#{RbConfig::CONFIG['ruby_version']}"
@@ -71,7 +71,7 @@
   pkg_basename       = rb_pkgname + '-rubygem-' + spec.name
 
   mod_full_name      = "#{spec.name}-#{spec.version}"
-  mod_weight         = get_mod_weight(spec) 
+  mod_weight         = get_mod_weight(spec)
 
   gem_platform       = Gem::Platform.new(RbConfig::CONFIG["arch"]).to_s
   rb_bindir          = RbConfig::CONFIG['bindir']
@@ -92,6 +92,7 @@
   gem_extension_dir  = gem_spec.respond_to?(:extension_dir)  ? patch_libdir(patch_mod_full_name(gem_spec.extension_dir, mod_full_name)) : nil
   gem_extension_doc  = patch_libdir(get_extension_doc_dir(gem_spec))
   #/ruby2.1
+  gem_plugins_dir  = Gem::Version.new(Gem::VERSION) >= Gem::Version.new("3.2.0") ? File.join(gem_spec.base_dir, 'plugins') : nil
 %>
 %package -n <%= pkg_basename %><%= config[:version_suffix] %>
 # MANUAL
@@ -207,6 +208,7 @@ fi
 # cache file
 <%= gem_cache_dir %>/<%= mod_full_name %>.gem
 <%= gem_gem_dir %>
+<%= gem_plugins_dir %>
 <%= gem_build_info_dir %>
 <% unless spec.extensions.empty? or gem_extension_dir.nil? -%>
 <%= gem_extension_dir %>
@@ -235,7 +237,7 @@ fi
 <%
   if config[:custom_pkgs_ruby_versioned]
     config[:custom_pkgs_ruby_versioned].each do |custom_pkg_name, data|
--%> 
+-%>
 %package -n <%= pkg_basename %>-<%= custom_pkg_name %><%= config[:version_suffix] %>
 <% if data[:preamble] and data[:preamble] != '' -%>
 <%= data[:preamble] %>
