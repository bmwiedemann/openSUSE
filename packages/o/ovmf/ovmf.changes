-------------------------------------------------------------------
Mon Sep  7 03:55:46 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Update to edk2-stable202008
  + MdeModulePkg/Library: add PEIM and SEC module type to
    TpmMeasurementLibNull
  + SecurityPkg/DxeImageVerificationLib: catch alignment overflow
    (CVE-2019-14562) (bsc#1175476)
  + OvmfPkg/CpuHotplugSmm: fix CPU hotplug race before and after
    SMI broadcast
  + SecurityPkg/Tcg2: handle PRE HASH and LOG ONLY
  + MdePkg/Include: Add missing definition of SMBIOS type 42h in
    SmBios.h
  + MdePkg: UefiFileHandleLib: fix buffer overrun in
    FileHandleReadLine()
  + OvmfPkg: Add SEV-ES support
  + MdeModulePkg/PartitionDxe: Fix the incorrect LBA size in child
    hander
  + MdeModulePkg/PartitionDxe: Revert changes for the special MBR
  + MdeModulePkg/PartitionDxe: Put the UDF check ahead of MBR
  + ShellPkg: smbiosview - Change some type 17 field values format
  + CryptoPkg/OpensslLib: Upgrade OpenSSL to 1.1.1g
  + MdeModulePkg: Upon BootOption failure, Destroy RamDisk memory
    before RSC.
  + OvmfPkg/LsiScsiDxe: Add support for LSI 53C895A
  + MdeModulePkg/DisplayEngine: Add Debug message to show mismatch
    menu info
  + Add New Memory Attributes
  + MdeModulePkg/PartitionDxe: Add already start check for child
    hanldes
  + MdeModulePkg/PartitionDxe: Skip the MBR that add for CD-ROM
  + MdeModulePkg/PartitionDxe: Correct the MBR last block value
  + MdeModulePkg/Variable/RuntimeDxe: Fix return status from
    Reclaim()
  + SecurityPkg/Tcg2Pei: Add missing PCRIndex in FvBlob event.
  + SecurityPkg/Tcg2Dxe: Add PcdTcgPfpMeasurementRevision in
    SpecId event.
  + CryptoPkg/BaseCryptLib: Add MARCO to disable the deprecated
    SHA1 and MD5
  + ArmVirtPkg/NorFlashQemuLib: disable NOR flash DT nodes upon
    discovery
  + UefiCpuPkg/SecCore: Add pre-memory AP vector
  + OvmfPkg: End timer interrupt later to avoid stack overflow
    under load
  + ArmPkg/PlatformBootManagerLib: regenerate boot options on
    boot failure
  + MdeModulePkg/StatusCodeHandler: do not output \n\r for string
    data
  + Revert "OvmfPkg: use generic QEMU image loader for secure boot
    enabled ..."
  + ArmVirtPkg/PrePi: use standard PeCoff routines for
    self-relocation
  + ArmVirtPkg: add FDF rule for self-relocating PrePi
  + ArmPkg/ArmExceptionLib: use static buffer for sp_el0
  + MdeModulePkg/SetupBrowserDxe: Do not reconnect driver with
    form-update
  + OvmfPkg/X86QemuLoadImageLib: handle EFI_ACCESS_DENIED from
    LoadImage()
  + OvmfPkg/Tcg2ConfigPei: generalize TPM2-only file-top comments
  + ArmPkg: only attempt buildin MmCommunicationDxe for AArch64
  + ArmPkg/PlatformBootManagerLib: don't connect all devices on
    each boot
  + ArmPkg/PlatformBootManagerLib: hide UEFI Shell as a regular
    boot option
  + MdeModulePkg/BootManagerUiLib: show inactive boot options
  + ArmPkg/PlatformBootManagerLib: fall back to the UiApp on
    boot failure
  + ArmPkg/PlatformBootManagerLib: register 's' as UEFI Shell
    hotkey
  + ArmPkg/PlatformBootManagerLib: connect non-discoverable USB
    hosts
  + ArmPkg/ArmSvcLib: prevent speculative execution beyond svc
  + ArmPkg/PlatformBootManagerLib: reject 'default' parity and
    stop bit count
  + ArmPkg/PlatformBootManagerLib: use static assertion for
    console type
- Update openssl to 1.1.1g
- Drop openssl-fix-syntax-error.patch
  + The new openssl already includes the fix.
- Refresh ovmf-pie.patch and ovmf-disable-ia32-firmware-piepic.patch

-------------------------------------------------------------------
Wed Jul 22 16:01:04 UTC 2020 - Kai Liu <kai.liu@suse.com>

- Fixed TPM support. TPM2_ENABLE & TPM2_CONFIG_ENABLE build flags
  were changed to TPM_* since upstream commit 07952a962a40.

-------------------------------------------------------------------
Tue Jun  9 08:06:06 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Use the reduced source tarballs since ovmf only needs a portion
  of the code.
  + brotli-v1.0.7-17-g666c328.tar.xz ->
    brotli-v1.0.7-17-g666c328-c.tar.xz
    - We only need the "c" directory, not the whole tarball.
  + oniguruma-v6.9.4_mark1.tar.xz ->
    oniguruma-v6.9.4_mark1-src.tar.xz
    - We only need the "src" directory, not the whole tarball.

-------------------------------------------------------------------
Fri Jun  5 06:33:21 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Update to edk2-stable202005
  + RegularExpressionDxe: Use submodule way to access third party
    Oniguruma
  + BrotliCustomDecompressLib: Use submodule way to access third
    party brotli
  + BaseTools: Use submodule way to access third party brotli
  + RISC-V architecture on EDK2
  + Disabling safe string constraint assertions
  + ArmVirtPkg Implement support for TPM2 measured boot
  + OVMF Implement support for Linux v5.7+ initrd and mixed mode
    loading
  + OVMF Use loadimage/startimage for loading the kernel passed
    via the QEMU command line
  + OVMF Support booting from Fusion-MPT SCSI controllers
  + OVMF Support booting from VMware PVSCSI controllers
  + OVMF RFE: VCPU hotplug with SMM
  + OVMF PEI phase variable driver / MemoryTypeInfo tracking
  + ArmVirtPkg, OvmfPkg: Pass parameter from QEMU to control PXE
    IPv4/v6 boot
  + Remove deprecate APIs in BaseCryptLib
  + Add UEFI 2.8/2.8a definition in MdePkg
  + Add PI1.7/PI1.7a definition into MdePkg
  + BaseCryptoLib MD4, ARC4, TDES, AES ECB MODE, HMAC MD5, HMAC
    SHA1 API have been deprecated.
  + SecurityPkg Tcg2PhysicalPresenceLib library class removes two
    macros TCG2_BIOS_TPM_MANAGEMENT_FLAG_DEFAULT and
    TCG2_BIOS_STORAGE_MANAGEMENT_FLAG_DEFAULT.
- Add 2 tarballs from the submodules of edk2:
  + brotli-v1.0.7-17-g666c328.tar.xz
  + oniguruma-v6.9.4_mark1.tar.xz
- Refresh patches:
  + ovmf-add-exclude-shell-flag.patch
  + ovmf-gdb-symbols.patch
- Drop upstream patch: ovmf-bsc1163927-fix-ping-and-ip6dxe.patch
- Drop ovmf-bsc1171643-workaround-outline-atomics.patch since
  upstream fixed it in another way.

-------------------------------------------------------------------
Thu May 21 03:36:17 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Add ovmf-bsc1171643-workaround-outline-atomics.patch to disable
  gcc10 outline-atomics in AArch64 (bsc#1171643)

-------------------------------------------------------------------
Mon Apr 20 06:11:25 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Build all non-native firmware files on x86_64 and aarch64 with
  cross-compilers (bsc#1159134)
  + Exclude i586 and armv7hl due to the availability of
    cross-compilers
  + Move some bash functions to ovmf-build-funcs.sh
- Clean up PKG_TO_REMOVE
  + Only EmulatorPkg still exists.

-------------------------------------------------------------------
Mon Apr  6 03:37:22 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Add ovmf-bsc1163927-fix-ping-and-ip6dxe.patch to fix crash and
  hang in ShellPkg and Ip6Dxe (bsc#1163927, CVE-2019-14559)

-------------------------------------------------------------------
Fri Mar  6 03:11:48 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Update to edk2-stable202002
  + UefiCpuPkg/MpInitLib: Skip reading PlatformId on AMD processors.
  + BaseTools: Remove invalid leading space before !INCLUDE in Makefile
  + OvmfPkg/QemuVideoDxe: unbreak "secondary-vga" and "bochs-display" support
  + NetworkPkg/ArpDxe: Recycle invalid ARP packets (CVE-2019-14559)
  + ShellPkg: acpiview: Prevent infinite loop if structure length is 0
  + CryptoPkg/BaseHashApiLib: Change PcdHashApiLibPolicy type to FixedAtBuild
  + CryptoPkg/BaseHashApiLib: Align BaseHashApiLib with TPM 2.0 Implementation
  + MdeModulePkg: Make retval in UninstallMultipleProtocol follow Spec
  + SecurityPkg/DxeImageVerificationLib: change IsCertHashFoundInDatabase
    name (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: Differentiate error/search
    result (2) (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: plug Data leak in
    IsForbiddenByDbx() (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: tighten default result
    (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: Differentiate error/search
    result (1) (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: refactor db/dbx fetching
    code (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: avoid bypass in fetching
    dbx (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: fix wrong fetch dbx in
    IsAllowedByDb (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: reject
    CertStack.CertNumber==0 per DBX (CVE-2019-14575)
  + SecurityPkg/DxeImageVerificationLib: Fix memory leaks
    (CVE-2019-14575)
  + NetworkPkg/Ip4Dxe: Check the received package length
    (CVE-2019-14559).
  + ShellPkg: acpiview: Validate ACPI table 'Length' field
  + ShellPkg: acpiview: Remove duplicate ACPI structure size definitions
  + UefiCpuPkg RegisterCpuFeaturesLib: Match data type and format specifier
  + MdeModulePkg/SdMmcPciHcDxe: Fix double PciIo Unmap in TRB creation
    (CVE-2019-14587)
  + MdeModulePkg/DisplayEngine: Zero memory before free (CVE-2019-14558)
  + MdeModulePkg/String.c: Zero memory before free (CVE-2019-14558)
  + MdeModulePkg/HiiDB: Remove configuration table when it's freed
    (CVE-2019-14586)
  + MdePkg: Remove FIT table industry standard header file.
  + UefiCpuPkg: Remove FIT based microcode shadow logic from MpInitLib.
  + UefiCpuPkg/CpuFeature: Introduce First to indicate 1st unit.
  + UefiCpuPkg/RegisterCpuFeaturesLib: Rename [Before|After]FeatureBitMask
  + UefiCpuPkg/RegisterCpuFeaturesLib: Delete CPU_FEATURE_[BEFORE|AFTER]
  + MdePkg: Add PCCT table signature definition
  + BaseTools: Fixed build failure when using python38
  + BaseTools:fix Ecc tool issue for check StructPcd
  + BaseTools: Remove caret in NASM_INC macro
  + BaseTools: Rationalise makefile generation
  + MdePkg: Add PCI Express 5.0 Header File
  + MdePkg: Disable EBC for unit tests in MdePkg.dsc
  + MdePkg/SmBios.h: Add two additional DWORD for smbios 3.3.0 type17
  + UefiCpuPkg/MpInitLib: Not pass microcode info between archs in CPU_MP_DATA
  + Revert UefiCpuPkg/MpInitLib: Relocate microcode patch fields in CPU_MP_DATA
  + ShellPkg: acpiview: Validate global pointers before use
  + ShellPkg: acpiview: Validate System Locality count
  + ShellPkg: acpiview: Set ItemPtr to NULL for unprocessed table fields
  + ShellPkg: Document UpdateArgcArgv returns EFI_INVALID_PARAMETER
  + ShellPkg: Document ParseCommandLineToArgs returns EFI_INVALID_PARAMETER
  + ShellPkg/UefiShellAcpiViewCommandLib: Fix FADT Parser
  + SecurityPkg: Fix incorrect return value when File is NULL
  + BaseTools: Fixed a Incremental build issue
  + CryptoPkg/CryptoPkg.dsc: Add build of Crypto libraries/modules
  + CryptoPkg/Library: Add BaseCryptLibOnProtocolPpi instances
  + CryptoPkg/Driver: Add Crypto PEIM, DXE, and SMM modules
  + CryptoPkg: Add EDK II Crypto Protocols/PPIs/PCDs
  + CryptoPkg/BaseCryptLib: Add X509ConstructCertificateStackV().
  + MdeModulePkg/PiDxeS3BootScriptLib: Fix potential numeric truncation
    (CVE-2019-14563)
  + MdeModulePkg/Capsule: Remove RT restriction in UpdateCapsule service.
  + SecurityPkg/TcgPhysicalPresenceLib: Replace the ASSERT with error code
  + BaseTools/PcdValueCommon: Fix 64-bit host compiler error
  + BaseTools/Build: Do not use Common.lib in Structured PCD app
  + MdeModulePkg/BaseSerialPortLib16550: Fix Serial Port Ready
  + BaseTools: Script for converting .aml to .hex
  + MdeModulePkg: Perform test only if not ignore memory test
  + UefiCpuPkg/MpInitLib: Always get CPUID & PlatformID in MicrocodeDetect()
  + OvmfPkg/PlatformPei: detect SMRAM at default SMBASE (for real)
  + OvmfPkg: introduce PcdCsmEnable feature flag
  + OvmfPkg/SmmAccess: close and lock SMRAM at default SMBASE
  + OvmfPkg/SEV: don't manage the lifecycle of the SMRAM at the default SMBASE
  + OvmfPkg/PlatformPei: reserve the SMRAM at the default SMBASE, if it exists
  + OvmfPkg/PlatformPei: assert there's no permanent PEI RAM at default SMBASE
  + OvmfPkg/PlatformPei: detect SMRAM at default SMBASE (skeleton)
  + OvmfPkg/PlatformPei: factor out Q35BoardVerification()
  + OvmfPkg/IndustryStandard: add MCH_DEFAULT_SMBASE* register macros
  + OvmfPkg/IndustryStandard: increase vertical whitespace in Q35 macro defs
  + OvmfPkg: introduce PcdQ35SmramAtDefaultSmbase
  + CryptoPkg/BaseCryptLibNull: Add missing HkdfSha256ExtractAndExpand()
  + BaseTools/DscBuildData: Fix PCD autogen include file conflict
  + CryptoPkg/BaseHashApiLib: Implement Unified Hash Calculation API
  + CryptoPkg: Add CryptoPkg Token Space GUID
  + BaseTools/Conf/gitattributes: fix "--function-context" for C source code
  + SecurityPkg/DxeImageVerificationHandler: fix "defer" vs. "deny" policies
  + SecurityPkg/DxeImageVerificationHandler: fix imgexec info on memalloc fail
  + SecurityPkg/DxeImageVerificationHandler: fix retval for (FileBuffer==NULL)
  + SecurityPkg/DxeImageVerificationHandler: eliminate "Status" variable
  + SecurityPkg/DxeImageVerificationHandler: unnest AddImageExeInfo() call
  + SecurityPkg/DxeImageVerificationHandler: remove superfluous Status setting
  + SecurityPkg/DxeImageVerificationHandler: fix retval on memalloc failure
  + SecurityPkg/DxeImageVerificationHandler: narrow down PE/COFF hash status
  + SecurityPkg/DxeImageVerificationHandler: keep PE/COFF info status internal
  + SecurityPkg/DxeImageVerificationHandler: remove "else" after return/break
  + SecurityPkg/DxeImageVerificationHandler: simplify "VerifyStatus"
  + OvmfPkg/PlatformPei: rewrite MaxCpuCountInitialization() for CPU hotplug
  + OvmfPkg/IndustryStandard: define macros for QEMU's CPU hotplug registers
  + OvmfPkg/OvmfXen.dsc: remove PcdCpu* dynamic defaults
  + CryptoPkg/BaseCryptLib: remove HmacXxxGetContextSize interface
  + CryptoPkg/BaseCryptLib: replace HmacXxxInit API with HmacXxxSetKey
  + BaseTools: Fixed a incremental build bug
  + UefiCpuPkg/MpInitLib: Fix possible uninitialized 'InitFlag' field
  + FmdDevicePkg/FmpDxe: Support Fmp Capsule Dependency.
  + MdeModulePkg/CapsuleApp: Enhance CapsuleApp for Fmp Capsule Dependency
  + MdePkg: Add definition for Fmp Capsule Dependency.
  + MdeModulePkg/SdMmcPciHcDxe: Add retries for async commands
  + MdeModulePkg/SdMmcPciHcDxe: Add retries for sync commands
  + MdeModulePkg/SdMmcPciHcDxe: Refactor command error detection
  + MdeModulePkg/SdMmcPciHcDxe: Fix DAT lane SW reset
  + UefiCpuPkg/PiSmmCpuDxeSmm: fix 2M->4K page splitting regression for PDEs
  + MdeModulePkg/Variable: Fix VarErrorFlag RT cache offset calculation
  + MdePkg Base.h: Use correct style to check the defined macro
  + ShellPkg: acpiview: Update SRAT parser to ACPI 6.3
  + BaseTools/Capsule: Add capsule dependency support
  + MdeModulePkg/Setup: Update opcode number variable type to UINTN
  + ArmPlatformPkg/PrePeiCore: enable VFP at startup
  + ArmPkg/ArmSmcPsciResetSystemLib: remove EnterS3WithImmediateWake ()
  + NetworkPkg/HttpDxe: fix 32-bit truncation in HTTPS download
  + MdeModulePkg/UefiBootManagerLib: log reserved mem allocation failure
  + BaseTools/Scripts/PatchCheck: Address false error conditions
  + BaseTools:Fix GenFds issue for BuildOption replace GenFdsOption
  + BaseTools:Change the case rules for ECC check pointer names
  + MdeModulePkg/SdMmcPciHcDxe: Fix unknown doxygen tag error
  + ArmVirtPkg: remove EnterS3WithImmediateWake () from ResetSystemLib
  + OvmfPkg: remove EnterS3WithImmediateWake () from ResetSystemLib
  + UefiPayloadPkg: remove EnterS3WithImmediateWake () from ResetSystemLib
  + PcAtChipsetPkg: remove EnterS3WithImmediateWake () from ResetSystemLib
  + MdeModulePkg: remove EnterS3WithImmediateWake () from ResetSystemLib
  + UefiCpuPkg: Shadow microcode patch according to FIT microcode entry.
  + MdePkg: Add header file for Firmware Interface Table specification.
  + UefiCpuPkg/CpuCommonFeaturesLib: SMXE bit of CR4 should set
  + MdePkg BaseLib.h: Update IA32_CR4 strut to include all public fields
  + MdePkg: Do not use CreateEventEx unless required
  + UefiCpuPkg/PiSmmCpuDxeSmm: Add missed comments for parameter.
  + OvmfPkg: use HII type PCDs for TPM2 config related variables
  + OvmfPkg: reorganize TPM2 support in DSC/FDF files
  + BaseTools/PatchCheck.py: Ignore CR and LF characters in subject length
  + MdeModulePkg: Add EDK2 Platform Boot Manager Protocol
  + CryptoPkg: Support for SHA384 & SHA512 RSA signing schemes
  + UefiCpuPkg: Always load microcode patch on AP processor.
  + UefiCpuPkg: Remove alignment check when calculate microcode size.
  + Revert "UefiCpuPkg/PiSmmCpuDxeSmm: Fix buffer overflow issue."
  + MdeModulePkg/UsbMouseAbsolutePointer: Fix endpoint selection
  + MdeModulePkg/Usb/UsbMouse: Fix endpoint selection
  + MdeModulePkg/Usb/EfiKey: Fix endpoint selection
  + SecurityPkg/Tcg2Pei: Add TCG PFP 105 support.
  + MdeModulePkg/Smbios: Add TCG PFP rev 105 support.
  + MdeModulePkg/dec: add PcdTcgPfpMeasurementRevision PCD
  + MdeModulePkg/Smbios: Done measure Smbios multiple times.
  + SecurityPkg/Tcg2Dxe: Add Tcg2Dxe to support 800-155 event.
  + SecurityPkg/Guid: Add TCG 800-155 event GUID definition.
  + MdeModulePkg/SdMmcPciHcDxe: Add function to start SD clock
  + MdeModulePkg/SdMmcPciHcDxe: Hook SwitchClockFreq after SD clock start
  + UefiCpuPkg/PiSmmCpuDxeSmm: Pre-allocate PROCEDURE_TOKEN buffer
  + UefiPayloadPkg/BootManager: Add PS2 keyboard support
  + UefiCpuPkg/MpInitLib: Remove redundant microcode fields in CPU_MP_DATA
  + UefiCpuPkg/MpInitLib: Relocate microcode patch fields in CPU_MP_DATA
  + UefiCpuPkg/MpInitLib: Produce EDKII microcode patch HOB
  + UefiCpuPkg: Add definitions for EDKII microcode patch HOB
  + UefiCpuPkg/MpInitLib: Reduce the size when loading microcode patches
  + UefiCpuPkg/MpInitLib: Collect processors' CPUID & Platform ID info
  + BaseTools/Scripts: Add sendemail.transferEncoding to SetupGit.py
  + UefiCpuPkg/PiSmmCpuDxeSmm: Fix buffer overflow issue.
  + UefiCpuPkg/PiSmmCpuDxeSmm: Remove dependence between APs
  + edksetup.bat stuck on unicode locale Windows
  + MdePkg/Tcg: Add new definition in TCG PFP spec.
  + MdePkg: Use __builtin_offset with CLANGPDB toolchain
  + MdePkg PciExpress21: PCI_REG_PCIE_DEVICE_CONTROL2 struct has 17 bits
  + ShellPkg/ShellProtocol: Return error code while fail parsing cmd-line
  + MdePkg/Spdm: fix Nonce structure error.
  + BaseTools: Resolve a issue of Incremental build
  + Maintainers.txt: Update email address and role
  + BaseTools:replaces the two offending quotes by ascii quotes
  + BaseTools: Fix build failure when multiple build targets given
  + MdePkg/Include: Add DCC and BCM2835 SPCR UART types
  + ArmPkg/MmCommunicationDxe: relay architected PI events to MM context
  + SecurityPkg/Tcg2Smm: Measure the table before patch.
  + BaseTools: Remove redundant binary cache file
  + BaseTools: Leverage compiler output to optimize binary cache
  + BaseTools: enhance the CacheCopyFile method arg names
  + BaseTools: store more complete output files in binary cache
  + BaseTools: Enhance Basetool for incremental build
  + BaseTools: Update build_rule.txt to generate dependent files.
  + BaseTools: Generate dependent files for ASL and ASM files
  + BaseTools: Add build option for dependency file generation
  + UefiCpuPkg/PiSmmCpuDxeSmm: Avoid allocate Token every time
  + BaseTools: Avoid "is" with a literal Python 3.8 warnings
  + ArmPkg: Dispatch deferred images after EndOfDxe
  + ShellPkg/UefiHandleParsingLib: Fix error allocate pool
  + ShellPkg/edit: typo "%d Lines Wrote"
  + ShellPkg: acpiview: IORT Spec Rev D updates
  + ShellPkg: acpiview: Add support for parsing FACS
  + MdeModulePkg: Add ARM/Aarch64 support which were missing
  + MdeModulePkg: LzmaCustomDecompressLib.inf don't support EBC anymore
  + BaseTools:Enhance the way to handling included dsc file
  + UefiCpuPkg/UefiCpuPkg.uni: Add missing strings for PCD
  + NetworkPkg/NetworkPkg.uni: Add missing strings for PCD
  + MdeModulePkg/MdeModulePkg.uni: Add missing strings for PCD
  + NetworkPkg: Fixes to static code analysis hits
  + CryptoPkg/OpensslLib.inf: list OpenSSL local header "ms/uplink.h"
  + CryptoPkg/OpensslLib: improve INF file consistency
  + MdeModulePkg/VariableSmmRuntimeDxe.inf: list local header "Variable.h"
- Drop upstreamed fixes
  + ovmf-bsc1163927-fix-ip4dxe-and-arpdxe.patch
  + ovmf-bsc1163959-PiDxeS3BootScriptLib-fix-numeric-truncation.patch
  + ovmf-bsc1163969-fix-DxeImageVerificationHandler.patch
- Refresh ovmf-gdb-symbols.patch

-------------------------------------------------------------------
Mon Feb 24 04:00:24 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Add ovmf-bsc1163969-fix-DxeImageVerificationHandler.patch to fix
  dbx signature check (bsc#1163969, CVE-2019-14575)
  + Also change the order of several patches to distinguish the
    openssl patch
- Add ovmf-bsc1163927-fix-ip4dxe-and-arpdxe.patch to fix memory
  leakage in Ip4Dxe and ArpDxe (bsc#1163927, CVE-2019-14559)

-------------------------------------------------------------------
Tue Feb 18 09:24:30 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Add ovmf-bsc1163959-PiDxeS3BootScriptLib-fix-numeric-truncation.patch
  to fix the numeric truncation to avoid the potential memory
  corruption (bsc#1163959, CVE-2019-14563)

-------------------------------------------------------------------
Mon Feb  3 02:14:23 UTC 2020 - Gary Ching-Pang Lin <glin@suse.com>

- Build the unified firmware with preloaded keys for backward
  compatibility (bsc#1159793)

-------------------------------------------------------------------
Fri Dec 20 09:11:37 UTC 2019 - Dirk Mueller <dmueller@suse.com>

- only build -aarch32 Cortex-A15 EFI on armv7hl

-------------------------------------------------------------------
Tue Dec  3 02:35:19 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Update to edk2-stable201911
  + SecurityPkg: Fix TPM2 ACPI measurement
  + MdeModulePkg: Enable variable runtime cache by default
  + OvmfPkg: Disable variable runtime cache
  + MdeModulePkg/Variable: Add RT GetVariable() cache support
  + CryptoPkg: Upgrade OpenSSL to 1.1.1d
  + MdePkg-UefiSpec.h: Add UEFI 2.8 new memory attributes
  + MdePkg/UefiFileHandleLib: Fix potential NULL dereference
  + NetworkPkg/HttpDxe: Set the HostName for the verification
    (CVE-2019-14553)
  + NetworkPkg/TlsDxe: Add the support of host validation to TlsDxe
    driver (CVE-2019-14553)
  + CryptoPkg/TlsLib: TlsSetVerifyHost: parse IP address literals
    as such (CVE-2019-14553)
  + CryptoPkg/TlsLib: Add the new API "TlsSetVerifyHost"
    (CVE-2019-14553)
  + MdePkg/Include/Protocol/Tls.h: Add the data type of
    EfiTlsVerifyHost (CVE-2019-14553)
  + MdeModulePkg/BdsDxe: Fix PlatformRecovery issue
  + NetworkPkg/SnpDxe: Add PCD to remove ExitBootServices event
    from SNP driver
  + MdeModulePkg: Update to support SmBios 3.3.0
  + UefiCpuPkg/MpInitLib: honor the platform's boot CPU count in AP
    detection
  + SecurityPkg/Tcg2: Add Support Laml, Lasa for TPM2 ACPI
  + OvmfPkg/PlatformDxe: fix EFI_HII_HANDLE parameters of internal
    functions
  + OvmfPkg/VirtioNetDxe: fix SignalEvent() call
  + OvmfPkg/XenBusDxe: fix UninstallMultipleProtocolInterfaces()
    call
  + NetworkPkg/Ip4Dxe: fix NetLibDestroyServiceChild() call
  + MdeModulePkg/ScsiDiskDxe: Support Storage Security Command
    Protocol
  + MdePkg: Implement SCSI commands for Security Protocol In/Out
  + MdeModulePkg/TerminalDxe: Enhance the arrow keys support
  + MdeModulePkg/UefiBootManager: Unload image on
    EFI_SECURITY_VIOLATION
  + MdeModulePkg/DxeCapsuleLibFmp: Unload image on
    EFI_SECURITY_VIOLATION
  + MdeModulePkg: Extend the support keyboard type of Terminal
    console
  + UefiCpuPkg/CpuExceptionHandlerLib: Fix split lock
  + UefiCpuPkg: Fix potential spinLock issue in SmmStartupThisAp
  + UefiCpuPkg/PiSmmCpu: Enable 5L paging only when phy addr line
    > 48
  + OvmfPkg/EnrollDefaultKeys: clean up Base64Decode() retval
    handling
  + ArmVirtPkg/PlatformBootManagerLib: unload image on
    EFI_SECURITY_VIOLATION
  + ShellPkg/ShellPkg.dsc AARCH64: enable stack protector
  + ArmVirtPkg/ArmVirtPrePiUniCoreRelocatable: revert to PIE
    linking
  + BaseTools/GenFw AARCH64: fix up GOT based relative relocations
  + ShellPkg/Pci.c: Update supported link speed to PCI5.0
  + PcAtChipsetPkg: add PcdRealTimeClockUpdateTimeout
  + UefiCpuPkg: Add PcdCpuSmmRestrictedMemoryAccess
  + ShellPkg/CommandLib: avoid NULL derefence and memory leak
  + MdePkg/DxeHstiLib: Added checks to improve error handling
  + BaseTools: Support more file types in build cache
  + UefiCpuPkg/SecCore: get AllSecPpiList after SecPlatformMain
- Update openssl to 1.1.1d
  + Add openssl-fix-syntax-error.patch to fix a syntax error
- Drop ovmf-bsc1153072-fix-invalid-https-cert.patch
  + Already upstreamed

-------------------------------------------------------------------
Fri Nov  8 04:09:48 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Use the same x86 4MB firmware names as the ones in the previous
  version (< stable201905) for backward compatibility

-------------------------------------------------------------------
Wed Nov  6 06:28:25 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Disable TLS for IA32(i586) to avoid exceeding the size limitation
  while using the tool chain from SLE15-SP2/openSUSE Leap 15.2

-------------------------------------------------------------------
Mon Nov  4 06:44:03 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Add ovmf-bsc1153072-fix-invalid-https-cert.patch to reject the
  invalid server certificates for HTTPS Boot
  (bsc#1153072, CVE-2019-14553)

-------------------------------------------------------------------
Thu Oct 17 06:25:01 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Add the firmware descriptors for QEMU
- Tweak the install commands

-------------------------------------------------------------------
Tue Sep  3 02:08:57 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Update to edk2-stable201908
  + OvmfPkg: Introduce platform OvmfXen
  + OvmfPkg/ResetSystemLib: Add missing dependency on PciLib
  + MdeModulePkg DxeCore: Fix for missing Memory Attributes Table
    (MAT) update
  + BaseTools: Fixed issue of incorrect Module Unique Name
  + CryptoPkg/OpensslLib: Add missing header files in INF file
  + SecurityPkg/SecurityPkg.uni: Add missing strings for new PCDs
  + MdeModulePkg/DxeIplPeim: Initialize pointer PageMapLevel5Entry
  + MdeModulePkg/MdeModulePkg.dec: Remove gEfiDpcProtocolGuid
  + Readme.md: add submodule policy and clone commands
  + MdeModulePkg/DxeIplPeim: Relocate operation of
    PageMapLevel5Entry++
  + MdeModulePkg: Add missing header files in INF files
  + MdePkg: Add MmAccess and MmControl definition.
  + CryptoPkg/BaseCryptLib: Wrap OpenSSL HKDF algorithm
  + MdeModulePkg/DxeIpl: Create 5-level page table for long mode
  + MdeModulePkg/DxeIpl: Introduce PCD PcdUse5LevelPageTable
  + UefiCpuPkg/CpuDxe: Support parsing 5-level page table
  + UefiCpuPkg/MpInitLib: Enable 5-level paging for AP when BSP's
    enabled
  + OvmfPkg/PlatformPei: Change referenced MSR name.
  + UefiCpuPkg/PiSmmCpuDxeSmm: Add check for pointer Pml5Entry
  + SecurityPkg/SecurityPkg.dec: Remove trailing white space
  + MdeModulePkg/PiSmmCore: Use unique structure signatures
  + UefiCpuPkg/MpInitLib: don't shadow the microcode patch twice.
  + ShellPkg: improve acpiview
  + MdePkg: Add PI 1.5 SmramMemoryReserve HOB file
  + MdePkg/PciExpress21.h: Fix the PCI industry standard register
    defines
  + CryptoPkg/BaseCryptLib: Use cmp-operator for non-Boolean
    comparisons
  + ArmPkg: DebugPeCoffExtraActionLib: fix trivial comment typos
  + ArmPkg: DebugPeCoffExtraActionLib: debugger commands are not
    errors
  + UefiCpuPkg/RegisterCpuFeaturesLib: Start all processors
    simultaneously.
  + UefiCpuPkg: Add new EDKII_PEI_MP_SERVICES2_PPI
  + list module-internal header files in INF [Sources]
  + SecurityPkg: introduce the SM3 digest algorithm
  + BaseTools: Fix python3.8 SyntaxWarning
  + BaseTools: Add HOST_APPLICATION module type.
  + UefiCpuPkg/PiSmmCpu: Enable 5 level paging when CPU supports
  + MdePkg/BaseLib.h: Update IA32_CR4 structure for 5-level paging
  + UefiCpuPkg RegisterCpuFeaturesLib: Fix an ASSERTION issue
  + ArmPlatformPkg: Actually disable PL031 interrupts
  + UefiCpuPkg/PiSmmCpu: Change variable names and comments to follow
    SDM
  + OvmfPkg: use DxeTpmMeasurementLib if and only if TPM2_ENABLE
  + ArmPlatformPkg: Fix various typos
  + ArmPkg: Fix various typos
  + Remove IntelFrameworkPkg
  + Remove IntelFrameworkModulePkg
  + MdeModulePkg/BdsDxe: Use a pcd to control PlatformRecovery
  + MdeModulePkg: Add a pcd to set the OS indications bit
  + SecurityPkg: Remove DxeDeferImageLoadLib in DSC
  + BaseTools:Linux changes the way the latest version is judged
  + Fix indentation in edksetup.sh SetupPython3
  + MdeModulePkg/SdMmcHcDxe: Implement revision 3 of
    SdMmcOverrideProtocol
  + MdeModulePkg/SdMmcOverride: Add GetOperatingParam notify phase
  + MdeModulePkg/UfsPassThruDxe: Fix unaligned data transfer
    handling
  + ArmVirtPkg: handle NETWORK_TLS_ENABLE in ArmVirtQemu*
  + UefiCpuPkg/MpInitLib: MicrocodeDetect: Ensure checked range is
    valid
  + MdeModulePkg/UfsPassThruDxe: Refactor UFS device presence
    detection
  + PcAtChipsetPkg: Remove framework modules
  + SecurityPkg: add FvReportPei.inf in dsc for build validation
  + SecurityPkg/FvReportPei: implement a common FV verifier and
    reporter
  + SecurityPkg: add definitions for OBB verification
  + OvmfPkg: don't assign PCI BARs above 4GiB when CSM enabled
  + OvmfPkg: Don't build in QemuVideoDxe when we have CSM
  + OvmfPkg/LegacyBbs: Add boot entries for VirtIO and NVME
    devices
  + OvmfPkg/LegacyBios: set NumberBbsEntries to the size of
    BbsTable
  + SecurityPkg: Add missing instances for build only
  + BaseTools: Move Build Cache related function out of
    CreateAsBuiltInf
  + BaseTools: refine CreateAsBuiltInf function
  + BaseTools:Add DetectNotUsedItem.py to Edk2\BaseTools\Scripts
  + BaseTools:Add import in FvImageSection
  + MdeModulePkg/PeiMain: PeiAllocatePool: output NULL if HOB
    creation fails
  + MdePkg: Add Generic Initiator Affinity Structure definitions
    to SRAT
  + BaseTools:Introduce CopyFileOnChange() function to copy cache
    files
  + MdeModulePkg: Add missing instances for build only
  + SourceLevelDebugPkg: Add missing instances for build only
  + CryptoPkg: Add missing instance for build only
  + MdeModulePkg: Introduce EDKII_SERIAL_PORT_LIB_VENDOR_GUID
  + MdeModulePkg/GraphicsConsoleDxe: Initialize the output mode
  + MdeModulePkg/ConSplitterDxe: Optimize the
    ConSplitterTextOutSetMode
  + BaseTools: add script to configure local git options
  + BaseTools: add centralized location for git config files
  + OvmfPkg/QemuVideoDxe: Shouldn't assume system in VGA alias
    mode.
- Refresh ovmf-gdb-symbols.patch
- Enable NETWORK_TLS_ENABLE for AArch64

-------------------------------------------------------------------
Fri Jul  5 07:15:55 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Reset BootOrder after enrolling the default keys (boo#1140195)

-------------------------------------------------------------------
Mon Jun 17 03:32:51 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Update to edk2-stable201905
  + Update OpenSSL version to upcoming 1.1.1
  + Delete EdkCompatibilityPkg from edk2/master
  + Remove .S assembly code for IA32 and X64 arch
  + Replace BSD 2-Clause License with BSD + Patent Licence
  + Recovery PEI BlockIO support for ATA device
  + Add PCD to Enabled/Disabled IPv4/IPv6 PXE Support in NetworkPkg
  + Remove NetworkPkg/IpSecDxe
  + Add api to DebubLib to expose a print routine with VaList
    parameter
  + Introduce DebugPpi to save the image size with the debug
    message
  + ResetSystemLib Adds a new API ResetSystem
  + ResetUtilityLib Add a new API ResetSystemWithSubtype
  + Add support for get organization name to x509 in BaseCryptLib
  + Add support for checking x509 EKUs in BaseCryptLib
  + Add support for PKCS 1v2 RSAES-OAEP PKI encryption in
    BaseCryptLib
  + Remove ShellBinPkg from edk2/master
  + Enable multiple thread /MP option for MSVC compiler
  + Upstream the EnrollDefaultKeys application to OvmfPkg
  + Share code for BaseUefiDecompressLib in MdePkg and MdeModulePkg
  + Move network related components from MdeModulePkg to NetworkPkg
  + Move BeagleBoardPkg and Omap35xxPkg from edk2 to edk2-platforms
    repo
  + Move MinnowMax and Quark platform to edk2-platforms repo
  + Move OptionRomPkg into new Drivers directory edk2-platforms
    repo
  + Add ACPI6.3 definition
  + Remove Nt32Pkg from edk2/master
  + update ArmSoftFloatLib to latest upstream version (= 3e)
- Update openssl to 1.1.1b
  + Add berkeley-softfloat-3-b64af41c3276f.tar.xz since arm7 needs
    the softfloat implementation for openssl 1.1.1b
- Build the varstore templates with EnrollDefaultKeys.efi
  + Create the iso files for key enrollment
    - Add gen-key-enrollment-iso.sh to generate the iso file
  + Drop the non-upstream ovmf-embed-default-keys.patch 
    - Also drop owner-guid-zero.h
  + Drop the MS keys and dbx since they are already in
    EnrollDefaultKeys.efi: MicCorKEKCA2011_2011-06-24.crt,
    MicCorUEFCA2011_2011-06-27.crt, MicWinProPCA2011_2011-10-19.crt,
    and dbxupdate.zip
    - Also drop the related script strip_authinfo.pl
  + Add ovmf-set-fixed-enroll-time.patch to set the fixed enrolling
    time to make the varstore template reproducible
  + Require qemu 3.0.0 for fw_cfg
- Update the build flags for network functions
  + For x86_64, only enable TLS for the 4MB image since the code
    size exceeds the boundary of 2MB image
- Refresh patches:
  + ovmf-add-exclude-shell-flag.patch
  + ovmf-disable-ia32-firmware-piepic.patch
  + ovmf-pie.patch
- Drop the requirement of xxd
- Update README
- Update the License tag to BSD-2-Clause-Patent 

-------------------------------------------------------------------
Mon May  6 09:46:22 UTC 2019 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Build SecureBoot firmwares for aarch64

-------------------------------------------------------------------
Wed Mar 20 08:31:11 UTC 2019 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Enable debug for aarch32
- Add aavmf-aarch32-code.bin and aavmf-aarch32-vars.bin files

-------------------------------------------------------------------
Tue Mar 12 03:18:33 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Update to 2019+git1552059899.89910a39dcfd (edk2-stable201903)
  + MdeModulePkg/HiiImage: Fix stack overflow when corrupted BMP
    is parsed (bsc#1128503, CVE-2018-12181)
  + MdeModulePkg/HiiDatabase: Fix potential integer overflow
    (bsc#1128503, CVE-2018-12181)
  + UefiCpuPkg/Microcode.c: Add verification before calculate
    CheckSum32
  + UefiCpuPkg/Microcode: Fix InComplete CheckSum32 issue
  + UefiCpuPkg: restore strict page attributes via #DB in nonstop
    mode only
  + IntelFrameworkModulePkg/FwVolDxe: Ensure FfsFileHeader 8 bytes
    aligned (bsc#1127822, CVE-2018-3630)
  + MdeModulePkg/DxeCore: Ensure FfsFileHeader 8 bytes aligned
    (bsc#1127822, CVE-2018-3630)
  + MdeModulePkg/PeiCore: Ensure FfsFileHeader 8 bytes aligned
    (bsc#1127822, CVE-2018-3630)
  + NetworkPkg: Add WiFi Connection Manager to NetworkPkg
  + UefiCpuPkg/PiSmmCpu: Add Shadow Stack Support for X86 SMM
  + MdePkg/BaseLib: Add Shadow Stack Support for X86
  + NetworkPkg/DnsDxe: Check the received packet size before
    parsing the message (bsc#1127821, CVE-2018-12178)
  + MdeModulePkg/RamDiskDxe: Restrict on RAM disk size
    (bsc#1127820, CVE-2018-12180)
  + MdeModulePkg/PartitionDxe: Ensure blocksize holds MBR
    (bsc#1127820, CVE-2018-12180)
  + ArmVirtPkg/PlatformBootManagerLib: display boot option
    loading/starting
  + ArmVirtPkg/ArmVirtQemu*: enable minimal Status Code Routing 
    in DXE
  + OvmfPkg/PlatformBootManagerLib: display boot option
    loading/starting
  + OvmfPkg: add library to track boot option loading/starting on
    the console
  + MdeModulePkg/UefiBootManagerLib: fix LoadImage/StartImage
    status code rep
  + MdeModulePkg/AhciPei: Add AHCI mode ATA device support in PEI
  + MdeModulePkg: Add definitions for EDKII PEI ATA PassThru PPI
  + MdeModulePkg: Add definitions for ATA AHCI host controller PPI
  + MdePkg/UefiDevicePathLib: Add sanity check for FilePath device
    path 
  + UefiCpuPkg/Microcode: Fix incorrect checksum issue for
    extended table
  + SecurityPkg/TcgConfigDxe: Allow enabling TPM 1.2 device from
    disabled state
  + UefiCpuPkg/SecCore: Wrong Debug Information for SecCore
  + Various bug fixes in BaseTools
  + DynamicTablesPkg: Dynamic Tables Framework
  + MdeModulePkg: Remove EmuVariableRuntimeDxe
  + UefiCpuPkg/MtrrLib: Fix a bug that may wrongly set memory <1MB
    to UC
  + MdeModulePkg/BmBoot: Report status when fail to load/start
    boot option
  + MdeModulePkg/ReportStatusCodeLib: Avoid using AllocatePool if
    possible
  + NetworkPkg/Ip6Dxe: Clean the invalid IPv6 configuration during
    driver start

-------------------------------------------------------------------
Thu Feb 21 09:55:47 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Add TPM2_CONFIG_ENABLE build flag to enable TPM2 config menu

-------------------------------------------------------------------
Mon Feb 18 09:00:09 UTC 2019 - Gary Ching-Pang Lin <glin@suse.com>

- Update to 2019+git1550452308.c417c1b33d06
  + BaseTools: Fixed an issue about StructurePcd
  + UefiCpuPkg/SecCore: Support EFI_PEI_CORE_FV_LOCATION_PPI
  + OvmfPkg: Add TCG2 Configuration menu to the Device Manager menu
  + FatPkg/FatPei/Gpt.c: Fix uninitialized variable issue
  + Make BaseTools compatible with python3
  + CryptoPkg/BaseCryptLib: split CryptPkcs7Verify.c on behalf
    of runtime
  + MdeModulePkg/UefiBootManagerLib: Match the nested partitions
  + ArmPkg/ArmMmuLib AARCH64: get rid of needless TLB invalidation
  + Upgrade UEFI supporting TCG spec info
  + MdeModulePkg Variable: Add emulated variable NV mode support
  + Code clean-up in the network packages
  + OvmfPkg: add MmServicesTableLib resolution
  + ArmPkg/ArmMmuLib AARCH64: fix out of bounds access
  + BaseTools/VfrCompile: report error for Integer overflow
  + OvmfPkg: require GCC48 or later
  + MdePkg/BaseLib: Introduce new SpeculationBarrier API
  + Remove the obsolete network packages in MdeModulePkg
  + Upgrade OpenSSL to 1.1.0j
  + MdePkg/Base: introduce MAX_ALLOC_ADDRESS
  + MdeModulePkg/PciBus: Fix system hang when no PCI Option ROM exists
  + BaseTools/tools_def AARCH64 RELEASE: move GCC49/GGC5 to 4 KB
    alignment
  + SecurityPkg: Remove dead code and inf redundant definitions
  + UefiCpuPkg/Cpuid.h: Sync CPUID definition to latest SDM
  + MdeModulePkg/PciBus: Shadow option ROM after BARs are programmed
  + ArmVirtPkg/QemuVirtMemInfoLib: trim the MMIO region mapping
  + ArmVirtPkg/XenVirtMemInfoLib: refactor reading of the PA space
    size
  + ArmVirtPkg/QemuVirtMemInfoLib: remove 1:1 mapping of top of
    PA range
  + ArmVirtPkg/NorFlashQemuLib: discover NOR flash banks dynamically
  + ArmPkg/ArmSmcPsciResetSystemLib: add missing call to
    ExitBootServices()
  + SecurityPkg: Update TCG PFP spec revision.
  + OvmfPkg: simply use the Bochs interface for vmsvga 
  + ArmPlatformPkg & ArmVirtPkg: clear frame pointer in startup
    code
  + Remove unused DuetPkg, EdkShellBinPkg, and UnixPkg
  + ArmPkg/ArmGicDxe ARM: fix encoding for GICv3 interrupt
    acknowledge
  + MdePkg/BaseIoLibIntrinsicArmVirt ARM: avoid double word loads
    and stores
- Refresh patches
  + ovmf-add-exclude-shell-flag.patch
  + ovmf-disable-ia32-firmware-piepic.patch
- Enable Python3 support in BaseTools (bsc#1075770)

-------------------------------------------------------------------
Thu Dec 27 07:43:41 UTC 2018 - Gary Ching-Pang Lin <glin@suse.com>

- Add a new "smm" flavor to enable System Management Mode
  + Also add ovmf-add-exclude-shell-flag.patch to exclude shell
    from the resultant SMM firmware files
- Retire the old openSUSE 4096 bit certificates since all those
  programs are unmaintained.
- Amend the numbering of patches and sources
- Update README to reflect the current status

-------------------------------------------------------------------
Mon Dec  3 08:05:38 UTC 2018 - Gary Ching-Pang Lin <glin@suse.com>

- Update ovmf-embed-default-keys.patch and add owner-guid-zero.h to
  set the default owner of PK/KEK/db/dbx and make the
  auto-enrollment only happen at the very first boot. (bsc#1117998)
- Change the group of qemu-ovmf-x86_64-debug to Development/Sources
  since there is no Development/Debug anymore

-------------------------------------------------------------------
Thu Nov 15 07:25:30 UTC 2018 - Gary Ching-Pang Lin <glin@suse.com>

- Update to 2018+git1542164568.85588389222a (edk2-stable201811)
  + UefiCpuPkg/CommonFeature: Always set FEATURE_CONTROL.Lock
  + MdeModulePkg/NvmExpressPei: Refine data buffer & len check in
    PassThru
  + OvmfPkg/QemuVideoDxe: list "UnalignedIoInternal.h" in the INF
    file
  + OvmfPkg/QemuVideoDxe: VMWare SVGA device support
  + OvmfPkg/QemuVideoDxe: Helper functions for unaligned port I/O
  + OvmfPkg: VMWare SVGA display device register definitions
  + Fix UEFI and Tiano Decompression logic issue
  + MdePkg: Fix incorrect check for DisplayOnly text format in
    AcpiEx
  + UefiCpuPkg/PiSmmCpuDxeSmm: Separate semaphore container
  + UefiCpuPkg/RegisterCpuFeaturesLib: Separate semaphore container
  + UefiCpuPkg/RegisterCpuFeaturesLib: Adjust Order
  + MdePkg/BaseSynchronizationLib: Fix InternalSync[De|In]crement
  + UefiCpuPkg/SmmCpu: Block access-out only when static paging is
    used
  + MdeModulePkg/Core: fix ineffective guard page issue
  + MdeModulePkg/Core: fill logic hole in
    MemoryProtectionCpuArchProtocolNotify 
  + MdeModulePkg/Mtftp4Dxe: Fix invalid configuration of MTFTP
    local port
  + OvmfPkg: Replace obsoleted network drivers from platform DSC/FDF
  + MdePkg/Base.h: Implement BASE_CR() via OFFSET_OF()
  + MdeModulePkg/PiSmmIpl: Do not reset SMRAM to UC when CPU driver
    runs
  + NetworkPkg/TlsDxe: Fix failure to process multiple TLS records
  + BaseTools ConvertFceToStructurePcd: Fix the array value with
    empty string
  + CryptoPkg/BaseCryptLib: Fix potential integer overflow issue
  + ArmPkg/OpteeLib: Add APIs to communicate with OP-TEE
  + UefiCpuPkg/PiSmmCpuDxeSmm: Fix ASSERT for success
  + UefiCpuPkg/MpInitLib: Fix ASSERT for success
  + MdeModulePkg/Core: fix an issue of potential NULL pointer access
  + NetworkPkg/Mtftp6Dxe: Correct the total received and saved
    block number
  + MdeModulePke/Mtftp4Dxe: Correct the total received and saved
    block number
  + MdeModulePkg EhciDxe: Extract new EhciInsertAsyncIntTransfer
    function
  + MdeModulePkg XhciDxe: Extract new XhciInsertAsyncIntTransfer
    function
  + BaseTools: Sync the DevicePath Function update from MdePkg
  + MdeModulePkg/HiiDB: Make sure database update behaviors are
    atomic
  + MdeModulePkg/HiiDB: Reorganize codes of exporting HII settings
  + UefiCpuPkg/RegisterCpuFeaturesLib: Support combo CPU feature
    style
  + UefiCpuPkg/RegisterCpuFeaturesLib: Fix ECC issues
  + MdeModulePkg/Core: add freed-memory guard feature
  + MdeModulePkg/Core: prevent re-acquire GCD memory lock
  + UefiCpuPkg/CpuDxe: prevent recursive calling of
    InitializePageTablePool
  + UefiCpuPkg/CpuDxe: consider freed-memory guard in non-stop mode
  + MdeModulePkg: introduce UEFI freed-memory guard bit in HeapGuard
    PCD
  + MdeModulePkg/NvmExpressDxe: Refine PassThru IO queue creation
    behavior
  + MdeModulePkg/NvmExpressDxe: Always copy CQ entry to PassThru
    packet
  + MdeModulePkg/NvmExpressDxe: Refine data buffer & len check in
    PassThru
  + MdePkg: Handle various device path when optional para is not
    specified
  + FatPkg: Correct the line ending to CRLF
  + MdePkg-BaseLib: Fix PathCleanUpDirectories() issue with
    "\\..\\.."
  + FatPkg/EnhancedFatDxe Fix Double Cluster Allocation
  + FatBinPkg: Remove FatBinPkg and refresh document
  + ShellPkg/dmem: Only dump sizeof (EFI_SYSTEM_TABLE) bytes for gST
  + MdeModulePkg/UsbMass: Fix USB key write failure
  + IntelFrameworkModulePkg: Add more checker in
    UefiTianoDecompressLib (CVE FIX)
  + MdePkg: Add more checker in UefiDecompressLib to access the
    valid buffer only (CVE FIX)
  + MdeModulePkg/PartitionDxe: Add check for underlying device
    block size
  + MdeModulePkg Xhci: Handle value 5 in Port Speed field of PORTSC
  + MdeModulePkg XhciDxe: Assign Usb2Hc.XXXRevision based on SBRN
  + MdePkg/BaseLib: AsciiStrToUnicodeStr(S) not handle EASCII
    properly
  + UefiCpuPkg/CpuCommonFeaturesLib: Register MSR base on scope Info
  + UefiCpuPkg/CpuS3DataDxe: Keep old data if value already existed
  + UefiCpuPkg/PiSmmCpuDxeSmm: Add logic to support semaphore type
  + UefiCpuPkg/RegisterCpuFeaturesLib: Add logic to support 
    semaphore type
  + UefiCpuPkg/RegisterCpuFeaturesLib.h: Add new dependence types
  + UefiCpuPkg/Include/AcpiCpuData.h: Add Semaphore related
    Information
  + NetworkPkg/IpSecDxe: Fix issue to parse SA Payload
  + NetworkPkg: Correct the time stamp and fix the integer overflow
    issue
  + NetworkPkg/TlsDxe: Remove the redundant library class
  + MdePkg UefiLib: Check Table against NULL in ScanTableInSDT
  + MdeModulePkg BrotliDecompressLib: Add the checker to avoid array
    out of bound
  + UefiCpuPkg/CpuExceptionHandlerLib: always clear descriptor data
    in advance
  + fix InternalSyncCompareExchange*()
  + MdeModulePkg Variable: Fix Timestamp zeroing issue on
    APPEND_WRITE
  + MdeModulePkg/Bus/Ufs: Ensure device not return more data than
    expected
  + MdeModulePkg/AbsPointer: Don't access key codes when length is
    wrong
  + MdeModulePkg BrotliCustomDecompressLib: Don't build it for EBC
    arch
  + MdeModulePkg RegularExpressionDxe: Enable STDARG for variable
    arguments
  + MdeModulePkg/RegularExpressionDxe: Miss null pointer check
  + MdeModulePkg PcdDxe: ASSERT PcdSetNvStoreDefaultId set
  + UefiCpuPkg/S3Resume2Pei: disable paging before creating new
    page table
  + MdeModulePkg/SdMmcPciHcDxe: Allow additional SDHCI versions
  + MdeModulePkg/SdMmcPciHcDxe: Add controller version defines
  + MdePkg: Use VENDOR_DEVICE_PATH structure for Debug Port device
    path
  + ShellPkg-Cd: Ensure all valid cd targets are handled properly
  + MdePkg-BaseLib: Fix PathCleanUpDirectories() error involving
    "\..\.."
  + MdeModulePkg/NonDiscoverablePciDeviceDxe: expose unique B/D/F
    identifiers
  + MdeModulePkg: Update Brotli DecompressLib to the latest v1.0.6
  + BaseTools: Update Brotli Compress to the latest one 1.0.6
  + MdePkg: Add PciRoot/PcieRoot text for ACPI Expanded Device Path
  + MdePkg: Correct condition check for AcpiExp text format
  + MdePkg: Correct the string order of ACPI Expanded Device Path
  + MdePkg: Correct the string expression of UTF8 vendor device path
  + MdeModulePkg/HiiDB: Fix incorrect structure convention for
    checkbox
  + Lzma: Update LZMA SDK version to 18.05
  + OvmfPkg/PlatformPei: clear CPU caches
  + Various BaseTools clean up and fixes
  + Various UDF fixes
  + Various USB fixes
- Drop upstreamed patches
  + ovmf-bsc1115916-fix-timestamp-zeroing.patch
  + ovmf-bsc1115917-bounds-checking-for-ueficompress.patch

-------------------------------------------------------------------
Wed Nov 14 04:17:53 UTC 2018 - Gary Ching-Pang Lin <glin@suse.com>

- Add ovmf-bsc1115916-fix-timestamp-zeroing.patch to fix Timestamp
  zeroing issue on APPEND_WRITE (bsc#1115916, CVE-2018-3613)
- Add ovmf-bsc1115917-bounds-checking-for-ueficompress.patch for
  the bound checking of ueficompress (bsc#1115917, CVE-2017-5731,
  CVE-2017-5732, CVE-2017-5733, CVE-2017-5734, CVE-2017-5735)

-------------------------------------------------------------------
Fri Oct  5 04:04:38 UTC 2018 - Gary Ching-Pang Lin <glin@suse.com>

- Update to 2018+git1538590187.c0b1f749ef13
  + ShellPkg: Create a homefilesystem environment variable
  + NetworkPkg/HttpUtilitiesDxe: fix read memory access overflow
  + NetworkPkg/HttpDxe: fix read memory access overflow in HTTPBoot
  + PcAtChipsetPkg PcRtc: Use new EfiLocateFirstAcpiTable()
  + MdeModulePkg S3SaveStateDxe: Use new EfiLocateFirstAcpiTable()
  + MdePkg UefiLib: Add new EfiLocateXXXAcpiTable() APIs
  + NetworkPkg/UefiPxeBcDxe: Add the clarification compared to
    UefiPxeBcDxe in MdeModulePkg
  + NetworkPkg/IScsiDxe: Add the clarification compared to
    IScsiDxe in MdeModulePkg
  + NetworkPkg/TcpDxe: Add the clarification compared to Tcp4Dxe
    in MdeModulePkg
  + MdeModulePkg/UefiPxeBcDxe: Add the clarification compared
    to UefiPxeBcDxe in NetworkPkg
  + MdeModulePkg/IScsiDxe: Add the clarification compared to
    IScsiDxe in NetworkPkg
  + MdeModulePkg/Tcp4Dxe: Add the clarification compared to TcpDxe
    in NetworkPkg
  + NetworkPkg/UefiPxeBcDxe: Use the specified MTFTP windowsize
  + NetworkPkg: Define one PCD for PXE to specify MTFTP windowsize
  + NetworkPkg/Mtftp6Dxe: Support windowsize in read request
    operation
  + MdeModulePke/Mtftp4Dxe: Support windowsize in read request
    operation
  + MdePkg/BaseSynchronizationLib: fix XADD operands in GCC
    IA32/X64 assembly
  + MdeModulePkg/PciHostBridge: Fix a bug that prevents PMEM
    access
  + MdeModulePkg/PciHostBridge: Enhance boundary check in
    Io/Mem.Read/Write
  + MdeModulePkg/DxeIpl: support more NX related PCDs
  + MdeModulePkg: XhciDxe: Prevent illegal memory access in
    XhcSetHsee
  + SecurityPkg/TcgStorageOpalLib: Fixed correct user password
    not works issue
  + MdeModulePkg/SdMmcPciHcDxe: Execute card detect only for
    RemovableSlot
  + MdeModulePkg/SdMmcPciHcDxe: Fix SdMmcHcReset to set only
    necesery bits
  + NetworkPkg: UefiPxeBcDxe: Add EXCLUSIVE attribute when opening
    SNP protocol installed by PXE
  + BaseTools: Check GUID C structure format
  + MdeModulePkg: Avoid key notification called more than once
  + IntelFrameworkModulePkg: Avoid key notification called more
    than once
  + MdeModulePkg/Library/DxeHttpLib: Handle the blank value in
    HTTP header
  + MdeModulePkg/Ip4Dxe: Sync the direct route entry setting
  + MdeModulePkg XhciDxe: Set HSEE Bit if SERR# Enable Bit is set
  + BaseTools: Correct DXE_PCD_DATABASE_INIT
  + BaseTools: Check PcdNvStoreDefaultValueBuffer
  + BaseTools: Involve Dec default value to calculate Maxsize
  + BaseTools: Structure Pcd value override incorrect
  + BaseTools: Report error for incorrect hex value format
  + MdeModulePkg/ConPlatform: Support short-form USB device path
  + UefiCpuPkg/CpuDxe: fix an incorrect bit-wise operation
  + UefiCpuPkg/CpuDxe: fix ECC reported issues
  + UefiCpuPkg/CpuMpPei: support stack guard feature
  + UefiCpuPkg/MpInitLib: fix register restore issue in AP wakeup
  + UefiCpuPkg/CpuExceptionHandlerLib: support stack switch for
    PEI exceptions
  + MdeModulePkg/DxeIpl: disable paging before creating new page
    table
  + MdeModulePkg PeiCore: Always use PeiImageRead() function to
    load PEI image
  + MdeModulePkg/EhciDxe: factor out EhcIsDebugPortInUse()
  + BaseTools/PatchCheck.py: Fix error when run with Python3
  + BaseTools: Report more clear error message for PCD used in
    expression
  + BaseTools: Fix a bug about list the PCD in "not used" section
  + UefiCpuPkg/MpInitLib: Fix ECC issues
  + MdeModulePkg/EhciDxe: fix host controller reset condition in
    BindingStart
  + BaseTools: Extend the keyword "!include"/"!if" to
    case-insensitive
  + MdeModulePkg/Setup: Fix incorrect size used in AllocateCopyPool
  + MdeModulePkg DxeCore: Handle multiple FV images in one FV file
  + MdeModulePkg PeiCore: Handle multiple FV images in one FV file
  + UefiCpuPkg/CpuExceptionHandlerLib: Avoid calling PEI services
    from AP
  + CpuExceptionHandlerLib: Add comments to make code more readable
  + BaseTools: Fixed the PcdValue trailing zero issue
  + BaseTools: Dynamic Pcd value override from command line
  + BaseTools: Check pcd DefaultValue and SkuId EBNF
  + ShellPkg: Update Ifconfig command to accept 32bit subnet mask
  + MdeModulePkg/Network: Add 32bit subnet mask support for IP4
    PXE boot
  + BaseTools: Clarify a DSC parsing error about PCDs
  + BaseTools: minimize assignment processing
  + BaseTools: Refactor to remove functionally equivalent
    functions
  + BaseTools: include variable namespace GUIDs of HII PCDs in
    Guid.xref
  + ShellPkg/SmbiosView: Update SmbiosView for SMBIOS3.2.0
  + UefiCpuPkg/CpuDxe: change level of DEBUG message
  + UefiCpuPkg/CpuDxe: implement non-stop mode for uefi
  + UefiCpuPkg/CpuExceptionHandlerLib: Setup single step in #PF
    handler
  + MdeModulePkg/MdeModulePkg.dec: add new settings for PCDs
  + MdePkg: Add the missing spec version information for header
    files
  + BaseTools: Fix one expression bug to support ~ operate
  + BaseTools: Add check only VOID* type Pcd need the maxsize info
  + MdeModulePkg: Update SMBIOS PCDs to 3.2.0
  + MdePkg SmBios.h: Add SMBIOS 3.2.0 definitions
  + MdeModulePkg/PciBus: Restrict one VGA per HostBridge not
    Segment
  + MdeModulePkg/PciBus: Refine ActiveVGADeviceOnTheRootBridge
  + ArmPkg/PlatformBootManagerLib: fix hotkey of boot option
  + BaseTools: Use hashlib instead of md5
  + BaseTools: remove cmp due to deprecated in python3
  + BaseTools: Modify class OrderedListDic
  + BaseTools: Update Makefile for ECC tool
  + BaseTools/VfrCompile: honor EXTRA_LDFLAGS
  + NetworkPkg/TlsAuthConfigDxe: fix TlsCaCertificate attributes
    retrieval
  + IntelFrameworkPkg/FrameworkUefiLib: don't special-case
    EFI_FILE_MODE_CREATE
  + MdePkg/UefiLib: don't special-case EFI_FILE_MODE_CREATE in
    OpenMode 
  + Remove redundant variables, functions, library clesses, and
    GUIDs

-------------------------------------------------------------------
Mon Aug 20 06:59:05 UTC 2018 - glin@suse.com

- Update to 2018+git1534736099.43fe4c405292
  + BaseTools: AutoGen refactor ModuleAutoGen caching
  + OvmfPkg: link Sha384 and Sha512 support into Tcg2Pei and Tcg2Dxe
  + MdePkg/UefiLib: introduce EfiOpenFileByDevicePath()
  + BaseTools: Update the rule to remove .lib before link it for GCC
  + BaseTools: Add Dns and BluetoothLE DevicePath
  + MdeModulePkg SmmLockBox: Return actual data length in
    SmmLockBoxRestore
  + UefiCpuPkg/RegisterCpuFeaturesLib: Combine implementation
  + UefiCpuPkg/CpuS3DataDxe: Remove below 4G limitation
  + UefiCpuPkg/CpuS3DataDxe: Change Memory Type and address
    limitation
  + UefiCpuPkg/AcpiCpuData.h: Remove AcpiNVS and Below 4G limitation
  + UefiCpuPkg/PiSmmCpuDxeSmm: Use GDT/IDT saved in Smram
  + SecurityPkg/TcgStorageCoreLib.h: Use ascii instead of unicode
  + BaseTool: Fixed the bug of Boolean Hii Pcd packing
  + SecurityPkg: HashLib: Update HashLib file GUID
  + SecurityPkg/Library/Tpm2DeviceLibDTpm: fix s/Constructor/CONSTRUCTOR
  + OvmfPkg/PlatformDebugLibIoPort: fix port detection for use in
    the DXE Core
  + NetworkPkg/HttpDxe: Strip square brackets in IPv6 expressed
    HostName
  + MdeModulePkg/BdsDxe: Move display of test key usage into BDS
    module
  + ArmPkg: Add initial OpteeLib implementation
  + SecurityPkg: HashLib: Add SHA384, SHA512 HashLib
  + MdeModulePkg/BdsDxe: Call PlatformBootManagerUnableToBoot()
  + MdeModulePkg/BdsDxe: Revert "fall back to UI loop before hanging"
  + ArmVirtPkg/PlatformBDS: Implement PlatformBootManagerUnableToBoot
  + OvmfPkg/PlatformBds: Implement PlatformBootManagerUnableToBoot
  + MdeModulePkg/PciBusDxe: Fix small memory leak in FreePciDevice
  + MdeModulePkg/DxeCore: Not update RtCode in MemAttrTable after
    EndOfDxe
  + UefiCpuPkg/MpInitLib: Not use disabled AP when call StartAllAPs
  + UefiCpuPkg/MpInitLib: Remove redundant CpuStateFinished State
  + MdeModulePkg/DxeLoadFunc: Add use case for new Perf macro
  + SecurityPkg/Tcg: Add use case for new Perf macro
  + ArmVirtPkg: remove wrong and superfluous ResourcePublicationLib
    resolution
  + OvmfPkg: Correct ResourcePublicationLib class name in DSC/INF
    file
  + MdeModulePkg CapsuleApp: Do not parse bits in CapsuleFlags of
    ESRT
  + MdeModulePkg, TpmMeasureLib: Variable: Re-prioritize TCG/TCG2
    protocol
  + SecurityPkg: TcgSmm: Handle invalid parameter in MOR SMI handler
  + OvmfPkg/XenPvBlkDxe: remove gEfiDevicePathProtocolGuid from
    [Protocols]
  + StandaloneMmPkg/Core: Implementation of Standalone MM Core Module
  + UefiCpuPkg/CpuDxe: fix incorrect check of SMM mode
  + UefiCpuPkg/MpInitLib: Optimize get processor number performance
  + OvmfPkg/AcpiPlatformDxe: clean up libs and protos in
    "AcpiPlatformDxe.inf"
  + UefiCpuPkg/MpInitLib: Fix S3 resume hang issue
  + UefiCpuPkg/MpInitLib: Use BSP uCode for APs if possible
  + UefiCpuPkg/MpInitLib: Relocate uCode to memory to save time
  + Update BaseTools for the preparation of python3 adoption
- Refresh ovmf-pie.patch and ovmf-gdb-symbols.patch

-------------------------------------------------------------------
Fri Jul 13 08:32:57 UTC 2018 - glin@suse.com

- Update to 2018+git1531464032.ae08ea246fe9
  + ArmVirtPkg/ArmVirtQemu: enable the IPv6 stack
  + SecurityPkg: Fix assert when setting key from eMMC/SD/USB
  + UefiCpuPkg/MpInitLib: Avoid calling PEI services from AP
  + NetworkPkg/HttpDxe: Fix the bug when parsing HTTP(S) message
    body
  + SecurityPkg/OpalPassword: Fixed input correct password not
    works issue
  + SecurityPkg/TcgStorageOpalLib: Return AUTHORITY_LOCKED_OUT error
  + OvmfPkg/QemuFlashFvbServicesRuntimeDxe: Restore C-bit when SEV
    is active
  + OvmfPkg/QemuFlashFvbServicesRuntimeDxe: Do not expose MMIO in
    SMM build
  + OvmfPkg/QemuFlashFvbServicesRuntimeDxe: mark Flash memory
    range as MMIO
  + MdeModulePkg/Variable: Check EFI_MEMORY_RUNTIME attribute
    before setting it
  + MdeModulePkg SataControllerDxe: Calculate ChannelCount based
     on PI value
  + SecurityPkg Tpm2DeviceLibDTpm: Update enum type name to match
    the one in lib
  + MdeModulePkg UsbBusDxe: Fix wrong buffer length used to read
    hub desc
  + SecurityPkg: Tpm2DeviceLib: Enable CapCRBIdleBypass support
  + SecurityPkg: Cache TPM interface type info
  + FatPkg/FatPei: Add the recognition of recovery capsule on NVME
    device
  + MdeModulePkg/NvmExpressPei: Add the NVME device PEI BlockIo
    support
  + MdeModulePkg: Add definitions for EDKII PEI NVME host
    controller PPI
  + ArmPkg/ArmMmuLib ARM: fix Mva to use idx instead of table base
  + ArmPkg/ArmMmuLib ARM: assume page tables are in writeback
    cacheable memory
  + ArmPkg/ArmMmuLib ARM: remove cache maintenance of block mapping
    contents
  + MdeModulePkg: Enable SATA Controller PCI mem space
  + MdeModulePkg/NetworkPkg: Checking for NULL pointer before use
  + MdeModulePkg/Core: remove SMM check for Heap Guard feature
    detection
  + UefiCpuPkg/CpuDxe: allow accessing (DXE) page table in SMM mode
  + BaseTools/tools_def IA32: drop -no-pie linker option for GCC49
  + SecurityPkg/SecureBootConfigDxe: Fix invalid NV data issue
  + ArmVirtPkg: add QemuRamfbDxe
  + OvmfPkg: add QemuRamfbDxe
  + BaseTools/tools_def IA32: disable PIE code generation explicitly
  + MdePkg UefiLib: Use comparison logic to check UINTN parameter
  + ArmVirtPkg: switch to KVM safe IoLib implementation
  + MdePkg/BaseIoLibIntrinsic: make BaseIoLibIntrinsic safe for
    ArmVirt/KVM
  + ArmPkg/CompilerIntrinsicsLib: fix GCC8 warning for
    __aeabi_memcpy aliases
- The IP6 stack of AAVMF is enabled

-------------------------------------------------------------------
Mon Jun 11 08:38:33 UTC 2018 - glin@suse.com

- Update to 2018+git1528497654.eb5943134630
  + CryptoPkg PeiCryptLib: Enable SHA384/512 support
  + MdePkg/UefiRuntimeLib: Do not allow to be linked by DXE driver
  + CryptoPkg: Remove deprecated function usage in
    X509GetCommonName()
  + PlatformBootManagerLib: add missing report status code call
  + OvmfPkg: raise DXEFV size to 11 MB
  + SignedCapsulePkg/PlatformFlashAccessLib: Add progress API
  + MdeModulePkg: Add DisplayUpdateProgressLib class
  + PcAtChipsetPkg/PcRtc: Add two new PCD for RTC Index/Target
    registers
  + OvmfPkg/Virtio10Dxe: convert to PciCapLib
  + OvmfPkg/PciHotPlugInitDxe: convert to PciCapLib
  + ArmVirtPkg: resolve PciCapLib, PciCapPciSegmentLib,
    PciCapPciIoLib
  + OvmfPkg: resolve PciCapLib, PciCapPciSegmentLib, PciCapPciIoLib
  + OvmfPkg: introduce PciCapPciIoLib
  + OvmfPkg: introduce PciCapPciSegmentLib
  + OvmfPkg: introduce PciCapLib
  + BaseTools/tools_def: add "-fno-unwind-tables" to
    GCC_AARCH64_CC_FLAGS
  + OvmfPkg/PlatformBootManagerLib: process TPM PPI request
  + OvmfPkg: add Tcg2PhysicalPresenceLibQemu
  + OvmfPkg/IndustryStandard: add QemuTpm.h header
  + OvmfPkg: add Tcg2PhysicalPresenceLibNull when !TPM2_ENABLE
  + MdePkg/SmmPeriodicSmiLib: Get Periodic SMI Context More Robustly
  + OvmfPkg/PlatformBootManagerLib: connect Virtio RNG devices again
  + ArmVirtPkg/PlatformBootManagerLib: connect Virtio RNG devices
    again
  + OvmfPkg/QemuVideoDxe: Enable DISPLAY_OTHER pci class for qemu
    stdvga
  + OvmfPkg/QemuVideoDxe: Add SubClass field to QEMU_VIDEO_CARD
  + OvmfPkg/PlatformBootManagerLib: connect consoles unconditionally
  + BaseTools: Fix generating array's size is incorrect in AutoGen.c
  + BaseTools: incorrect calculation for 16M

-------------------------------------------------------------------
Fri May 18 01:49:10 UTC 2018 - glin@suse.com

- Enable TLS support correctly

-------------------------------------------------------------------
Thu May 17 06:54:38 UTC 2018 - glin@suse.com

- Enable TPM 2.0 support

-------------------------------------------------------------------
Thu May 10 08:05:16 UTC 2018 - glin@suse.com

- Update to 2018+git1525854636.13e3f8c03339
  + BaseTools/VfrCompile: Avoid using uninitialized pointer
  + MdeModulePkg/PciHostBridge: Count the (mm)io overhead when polling
  + UefiCpuPkg/SecMain: Add NORETURN decorator to SecStartup()
  + CryptoPkg/CrtLibSupport: add secure_getenv() stub function
  + MdeModulePkg/AcpiPlatformDxe: Unload after execution
  + SecurityPkg/OpalPassword: Add support for pyrite 2.0 devices
  + NetworkPkg/NetworkPkg.dsc: Add the instance of library class
    [SafeIntLib]
  + ArmVirtPkg: use protocol-based DevicePathLib instance for most
    DXE modules
  + OvmfPkg/QemuVideoDxe: round up FrameBufferSize to full page
  + ArmVirtPkg: reinstate timer unmask quirk for Xen
  + ArmPkg/TimerDxe: remove workaround for KVM timer handling
  + FatPkg/EnhancedFatDxe: Ensure traverse of subtasks is
    delete-safe
  + OvmfPkg/PlatformBootManagerLib: add USB keyboard to ConIn
  + CryptoPkg/OpensslLib: Update OpenSSL version to 1.1.0h
  + OvmfPkg/TlsAuthConfigLib: configure trusted cipher suites for
    HTTPS boot
  + ArmVirtPkg/ArmVirtQemu: hook NvVarStoreFormattedLib into
    VariableRuntimeDxe
  + ArmPlatformPkg/NorFlashDxe: cue the variable driver with
    NvVarStoreFormatted
  + ArmPlatformPkg/NorFlashDxe: initialize varstore headers eagerly
  + OvmfPkg: remove BLOCK_MMIO_PROTOCOL and BlockMmioToBlockIoDxe
  + OvmfPkg/TlsAuthConfigLib: configure trusted CA certs for
    HTTPS boot
  + MdeModulePkg/Variable/RuntimeDxe: introduce
    PcdMaxVolatileVariableSize
  + NetworkPkg/TlsAuthConfigDxe: preserve TlsCaCertificate variable
    attributes
  + NetworkPkg/HttpDxe: drop misleading comment / status code in
    cert config
  + NetworkPkg/HttpDxe: use error handler epilogue in
    TlsConfigCertificate()
  + NetworkPkg/HttpBootDxe: fix typo in DHCPv4 packet parsing
  + OvmfPkg/QemuVideoDxe: handle invalid BltOperation gracefully
  + NetworkPkg/UefiPxeBcDxe: Configure the ARP Instance/RouteTable
    with new address
  + NetworkPkg/HttpDxe: Handle the large data request via HTTPS
    channel
  + NetworkPkg/TlsDxe: Handle the multiple TLS record messages
    encryption/decryption
  + SecurityPkg Tpm12CommandLib: Fix TPM12 GetCapability response
    error
  + SecurityPkg Tpm2CommandLib: Fix TPM2.0 response memory overflow
  + MdeModulePkg/DxeMain: Fix BSP interrupts reenabled in
    ExitBootServices
  + UefiCpuPkg/MpInitLib: Disable interrupt at ExitBootServices AP
    Mwait
  + OvmfPkg/PlatformBootManagerLib: process "-kernel" before boot
    devices
  + OvmfPkg/PlatformBootManagerLib: hoist PciAcpiInitialization()
  + ArmVirtPkg/PlatformBootManagerLib: return to "-kernel before
    boot devices"
  + MdeModulePkg/Core: allow HeapGuard even before CpuArchProtocol
    installed
  + UefiCpuPkg CpuExceptionHandlerLib: use FixedPcdGetSize() as the
    macro value
  + remove TrEE
  + MdeModulePkg/PciBus: return CPU address for GetBarAttributes
  + MdeModulePkg/PciBus: convert host address to device address
  + MdeModulePkg/PciHostBridgeDxe: Add support for address translation
  + OvmfPkg/PciHostBridgeLib: clear PCI aperture vars for (re)init
  + ArmPkg/TimerDxe: Add ISB for timer compare value reload
  + BaseTools code refactoring

-------------------------------------------------------------------
Thu Mar 15 08:40:01 UTC 2018 - glin@suse.com

- Update to 2018+git1521096615.b3fa393f477a
  + OvmfPkg/QemuBootOrderLib: add ConnectDevicesFromQemu()
  + NetworkPkg/IScsiDxe: Fix the ISCSI connection failure in
    certain case
  + OvmfPkg/QemuFlashFvbServicesRuntimeDxe: Clear C-bit when SEV is
    active
  + OvmfPkg: include Tcg2Dxe module
  + OvmfPkg: simplify SecurityStubDxe.inf inclusion
  + OvmfPkg/AmdSevDxe: decrypt the pages of the initial SMRAM save
    state map
  + OvmfPkg/SmmCpuFeaturesLib: SEV: encrypt+free pages of init.
    save state map
  + OvmfPkg/PlatformPei: SEV: allocate pages of initial SMRAM save
    state map
  + OvmfPkg/MemEncryptSevLib: find pages of initial SMRAM save
    state map
  + MdeModulePkg/UsbMass: Retry CMD for MediaChanged sense key 
  + NetworkPkg/HttpDxe: Support HTTP Delete Method
  + NetworkPkg/HttpBootDxe: Fix the incorrect error message output
  + MdeModulePkg: Add Boot Logo 2 Protocol
  + MdeModulePkg/UsbMass: Fix hot-plug USB CDROM can't be recognized
  + NetworkPkg: Read HttpTlsCipherList variable and configure it
    for HTTPS session
  + NetworkPkg: Define one private variable for HTTPS to set Tls
    CipherList
  + ArmVirtPkg: Add SafeIntLib and BmpSupportLib to DSC files
  + OvmfPkg: Add SafeIntLib and BmpSupportLib to DSC files
  + UefiCpuPkg/PiSmmCpuDxeSmm: fix infinite loop issue in SMM profile
  + MdeModulePkg Ppi/IoMmu.h: Add EFI_NOT_AVAILABLE_YET return
    status code
  + MdeModulePkg/Core: fix feature conflict between NX and heap guard
  + ReadKeyStrokeEx always return key state
  + SecurityPkg: Tcg2Smm: Enable TPM2.0 interrupt support
  + MdeModulePkg/Partition: Fix media probe
  + NetworkPkg/HttpBootDxe: Avoid to corrupt HttpBootDxe setup screen
  + MdeModulePkg/UefiBootManagerLib: Skip the DNS device path node check
  + MdeModulePkg/Core: fix a logic hole in page free
  + OvmfPkg/BaseMemEncryptSevLib: Enable protection for newly
    added page table
  + MdeModulePkg/Ip4Dxe: Add an independent timer for reconfig checking
  + NetworkPkg: Fix a memory leak issue in UDP6 driver
  + UefiCpuPkg/MtrrLib: Fix bug that may calculate wrong MTRR result
  + MdeModulePkg/DxeNetLib: Fix an error in packet length counting
  + NetworkPkg: Fix memory leak problem in PXE driver
  + MdeModulePkg/DxeHttpLib: Add boundary condition check
  + CryptoPkg/OpensslLib: Update OpenSSL version to 1.1.0g
  + MdeModulePkg/Core: Fix heap guard issues
  + NetworkPkg/HttpBootDxe: Break the HttpBoot Callback function
    when meet redirect status
  + NetworkPkg/HttpBootDxe: Avoid the potential memory leak when
    eror happen
  + MdeModulePkg/DxeIplPeim: fix incorrect page table split during
    protecting
  + NetworkPkg/UefiPxeBcDxe: Allow the NULL configuration for
    NewStationIP/NewSubnetMask
  + NetworkPkg/UefiPxeBcDxe: Fix Pxe.Dhcp() return status code
  + MdeModulePkg/Dhcp*: Check Media status before starting DHCP process
  + MdeModulePkg/Ip4Dxe: fix ICMP echo reply memory leak
  + NetworkPkg/DnsDxe: Update RetryCount/RetryInterval to comply
    with UEFI spec
  + MdeModulePkg/TcpIoLib: Cancel TCP token if connect/accept is
    timeout
  + MdeModulePkg/TcpIoLib: Check input Timeout before calling
    CheckEvent() service
  + MdeModulePkg/DxeIpl: Mark page table as read-only
  + SecurityPkg:Tcg2Smm:Enabling TPM SIRQ interrupt support
  + MdeModulePkg/ScsiDisk: Return EFI_NO_MEDIA when no media presents
  + BaseTool/tools_def GCC5: enable optimization for ARM/AARCH64
    DEBUG builds
  + UefiCpuPkg/CpuDxe: Initialize stack switch for MP
  + UefiCpuPkg/CpuExceptionHandlerLib: Add stack switch support
  + UefiCpuPkg PiSmmCpuDxeSmm: SMM profile and static paging mutual
    exclusion
  + MdeModulePkg/NetLib: Fix an error when AIP doesn't support
    network media state detection
  + MdeModulePkg/NetLib: Add NetLibDetectMediaWaitTimeout() API to
    support EFI_NOT_READY media state detection
  + MdeModulePkg/Core/Dxe: log informative memprotect msgs at
    DEBUG_INFO level
  + ArmVirtPkg/ArmVirtXen: move from Intel to generic BDS 
  + MdeModulePkg/SerialDxe: Do not fail reset when SetAttributes is
    not supported
  + MdeModulePkg/DxeCorePerformanceLib: add lock protection
  + OvmfPkg/QemuBootOrderLib: let an OFW devpath match multiple
    UEFI boot opts
  + OvmfPkg/QemuBootOrderLib: skip already matched / appended UEFI
    boot opts
  + MdeModulePkg/Core: Merge memory map after filtering paging
    capability
  + ArmVirtPkg/PrePi: don't export PE/COFF and LZMA libraries via HOBs
  + MdeModulePkg/BdsDxe: fall back to a Boot Manager Menu loop
    before hanging
  + SecurityPkg/SecureBootConfigDxe: Fix deleting signature data issue
  + CryptoPkg/IntrinsicLib: Fix the warning on memset
  + MdeModulePkg/DxeCore: Filter out all paging capabilities
  + CryptoPkg/TlsLib: Change the return type of TlsInitialize()
  + NetworkPkg/HttpDxe: Fix the incorrect SizeofHeaders in
    HttpTcpReceiveHeader()
  + ArmVirtPkg: introduce ArmVirtMemInfoLib library class
  + ArmVirtPkg/PrePi: remove bogus primary core check
  + BaseTools/tools_def AARCH64 ARM: suppres PIE sections via
    linker script
  + PcAtChipsetPkg: Define FixePCD's for RTC register values
  + MdeModulePkg EhciPei: Minor refinement about IOMMU
  + MdeModulePkg/UefiBootManagerLib: Remove assertion
  + MdeModulePkg EhciPei: Also check Buf against NULL to return error
  + MdeModulePkg/UsbMassStorageDxe: Check Get Max LUN status/value
  + MdeModulePkg/UsbBusDxe: Add UsbControlTransfer() error check
  + BaseTools: Fix a bug for single module build with GenC/GenMake option
  + MdeModulePkg/PiSmmCore: Fix an assert issue in pool free
  + BaseTools: Fix the bug to collect source files per build rule family
  + MdeModulePkg/UdfDxe: Avoid possible loss track of allocated buffer
  + MdeModulePkg/PartitionDxe: Merge the discovery of ElTorito into UDF
- Refresh ovmf-gdb-symbols.patch and ovmf-pie.patch
- Modify openssl tarball unpacking to fit the change in ovmf

-------------------------------------------------------------------
Wed Jan 24 06:31:21 UTC 2018 - glin@suse.com

- Only use SLES-UEFI-CA-Certificate-2048.crt for the suse flavor to
  provide the better compatibility (bsc#1077330)

-------------------------------------------------------------------
Mon Nov 20 04:23:04 UTC 2017 - glin@suse.com

- Update to 2017+git1510945757.b2662641d5
  + ArmPlatformPkg/ArmPlatformLibNull: remove bogus PCD dependencies
  + MdeModulePkg/UsbMassStorageDxe: Enhance Request Sense Handling
  + OvmfPkg: save on I/O port accesses when the debug port is not
    in use
  + OvmfPkg: create a separate PlatformDebugLibIoPort instance for
    SEC
  + OvmfPkg: make PlatformDebugLibIoPort a proper BASE library
  + OvmfPkg: restore temporary SEC/PEI RAM size to 64KB
  + OvmfPkg/Sec/X64: seed the temporary RAM with PcdInitValueInTempStack
  + ArmVirtPkg: switch to new PL011UartLib implementation
  + OvmfPkg/XenHypercallLib: enable virt extensions for ARM
  + MdeModulePkg/PiSmmCore: Implement heap guard feature for SMM mode
  + MdeModulePkg/DxeCore: Implement heap guard feature for UEFI
  + ArmVirtPkg/ArmVirtQemu: use non-accelerated CopyMem for
    VariableRuntimeDxe
  + NetworkPkg: Fix incorrect SizeofHeaders returned from
    HttpTcpReceiveHeader()
  + NetworkPkg: Print error message to screen if error occurs
    during HTTP boot
  + MdeModulePkg/PartitionDxe: Fix UDF fs access on certain CD/DVD
    medias
  + MdeModulePkg/UsbMassStorageDxe: Fix USB Mass Storage detection
  + MdeModulePkg SerialDxe: Handle Timeout change more robustly
  + CryptoPkg/BaseCryptLib: Fix mismatched memory allocation/free
  + CryptoPkg/BaseCryptLib: Fix buffer overflow issue in realloc
    wrapper
  + ArmPlatformPkg/PlatformPeim: allow PlatformPeiLib to set the
    boot mode
  + Deprecate EFI_VARIABLE_AUTHENTICATED_WRITE_ACCESS
  + SecurityPkg: Remove Counter Based AuthVariable support
  + BaseTools/tools_def AARCH64 ARM: disable PIE linking
  + NetworkPkg/TlsAuthConfigDxe: Remove the extra FreePool
  + NetworkPkg/HttpBootDxe: Add IPv6 support condition check
  + NetworkPkg/IScsiDxe: Fix the incorrect/needless DHCP process
  + MdeModulePkg/PciBus: Fix bug that PCI BUS claims too much resource
  + UefiCpuPkg/MtrrLib: Use SetMem instead of SetMem64 to fix hang
  + NetworkPkg: Remove ping6 and ifconfig shell application
  + OvmfPkg: fix dynamic default for oprom verification policy PCD
    without SB
  + OvmfPkg/PlatformPei: DENY_EXECUTE_ON_SECURITY_VIOLATION when
    SEV is active
  + SecurityPkg\Tcg2Pei: FV measure performance enhancement
  + SecurityPkg:AuthVariableLib:Implement ECR1707 for Private Auth
    Variable
  + ArmPlatformPkg: Store initial timer value
  + ArmVirtPkg ArmVirtDxeHobLib: Implement BuildFv3Hob
  +  MdeModulePkg/Variable/RuntimeDxe: delete and lock OS-created
     MOR variable
  + ArmPkg/PlatformBootManagerLib: fix bug in ESRT invocation
  + OvmfPkg/PciHotPlugInitDxe: translate QEMU's resource 
    reservation hints
  + OvmfPkg/PciHotPlugInitDxe: generalize RESOURCE_PADDING
    composition
  + OvmfPkg/IndustryStandard: define PCI Capabilities for QEMU's
    PCI Bridges
  + MdeModulePkg/BdsDxe: Don't delete "BootNext" until booting it
  + Clarify the usage of HttpConfigData in HTTP protocol
  + SecurityPkg/SecureBootConfigImpl.c: Secure Boot DBX UI
    Enhancement
  + MdeModulePkg/UDF: Fix creation of UDF logical partition
  + CryptoPkg: Add new API to retrieve commonName of X.509 certificate
  + OvmfPkg/VirtioNetDxe: log debug message in VirtioNetExitBoot()
  + OvmfPkg/QemuBootOrderLib: recognize "usb-storage" devices in
    XHCI ports
  + MdeModulePkg/Core: Fix out-of-sync issue in GCD
  + UefiCpuPkg/CpuDxe: Fix out-of-sync issue in page attributes
  + OvmfPkg/QemuVideoDxe/VbeShim: handle PAM1 register on Q35
    correctly
  + OvmfPkg/QemuVideoDxe/VbeShim: rename Status to
    Segment0AllocationStatus
  + OvmfPkg/CsmSupportLib: move PAM register addresses to
    IndustryStandard
  + NetworkPkg/IScsiDxe: Remove redundant call to StrLen
  + BaseTools/tools_def AARCH64: enable frame pointers for RELEASE
    builds
  + ArmPkg/PlatformBootManagerLib: process pending capsules
  + MdeModulePkg/Udf: Avoid declaring and initializing local GUID
    variable
  + MdeModulePkg/UdfDxe: Avoid short (single character) variable name
  + MdeModulePkg/UdfDxe: Use compare operator for non-boolean
    comparisons
  + MdeModulePkg/UdfDxe: Fix operands of different size in bitwise
    OP
  + MdeModulePkg/UdfDxe: Add checks to ensure no possible NULL ptr
    deref
  + MdeModulePkg/SerialDxe: Fix not able to change serial attributes
  + NetworkPkg: Remove the redundant '/' in the end of returned
    ISCSIMacAddr keyword
  + MdeModulePkg/UdfDxe: Fix NULL pointer dereference
  + OvmfPkg/VirtioNetDxe: negotiate VIRTIO_F_IOMMU_PLATFORM
  + OvmfPkg/VirtioNetDxe: map caller-supplied Tx packet to
    device-address
  + OvmfPkg/VirtioNetDxe: add Tx packet map/unmap helper functions
  + OvmfPkg/VirtioNetDxe: update TechNotes
  + OvmfPkg/VirtioNetDxe: dynamically alloc transmit header
  + OvmfPkg/VirtioNetDxe: alloc RxBuf using AllocateSharedPages()
  + OvmfPkg/VirtioNetDxe: map VRINGs using VirtioRingMap()
  + OvmfPkg/VirtioNetDxe: add helper VirtioNetUninitRing()
- Update openssl to 1.1.0g

-------------------------------------------------------------------
Mon Oct 16 09:02:28 UTC 2017 - glin@suse.com

- Update ovmf-gdb-symbols.patch to avoid some symbols from being
  removed (bsc#1063463)
- Add needssslcertforbuild back. It's useful for the devel projects.

-------------------------------------------------------------------
Thu Sep 14 02:20:26 UTC 2017 - glin@suse.com

- Update to 2017+git1505340320.5afa5b8159
  + MdeModulePkg/UdfDxe: suppress incorrect compiler warning in
    ReadFile()
  + MdeModulePkg/UdfDxe: reject reserved values in ICB.Flags[2:0]
  + MdeModulePkg: Add UdfDxe to the dsc file
  + MdeModulePkg: Update PiDxeS3BootScriptLib Internal function name
  + MdeModulePkg/UdfDxe: Remove negative comparison of unsigned
    number
  + ArmVirtPkg/ArmVirtQemu: port HTTP_BOOT_ENABLE from OvmfPkg
  + ArmVirtPkg: don't build the network stack uselessly for Xen
  + MdeModulePkg/PartitionDxe: remove always false comparison
  + MdeModulePkg/PartitionDxe: don't divide 64-bit values with C
    operators
  + MdeModulePkg/UdfDxe: replace zero-init of local variables with
    ZeroMem()
  + MdeModulePkg/UdfDxe: don't return unset Status if INLINE_DATA
    req succeeds
  + MdeModulePkg/UdfDxe: ASSERT() valid ReadFileInfo Flags for
    INLINE_DATA req
  + MdeModulePkg/UdfDxe: Initialize the array after declaration
  + ShellPkg/Ifconfig6: Update error message and add a new line
  + NetworkPkg/IScsiDxe: Fix the incorrect max length of IP_ADDRESS
  + OvmfPkg/SataControllerDxe: log informative message at
    DEBUG_INFO level
  + OvmfPkg/PlatformBootManagerLib: log informative message at
    DEBUG_INFO lvl
  + OvmfPkg/PlatformPei: log informative message at DEBUG_INFO level
  + UefiCpuPkg/CpuDxe: log informative message at DEBUG_INFO level
  + MdeModulePkg/UsbBusDxe: log warning message at DEBUG_WARN level
  + OvmfPkg/PlatformDebugLibIoPort: write messages with IoWriteFifo8()
  + MdePkg/BaseIoLibIntrinsic: fix SEV (=unrolled) variants of IoWriteFifoXX()
  + MdeModulePkg Xhci: Correct description of Timeout param in XhciReg.h
  + BaseTools/GCC: set -Wno-unused-const-variable on RELEASE builds
  + ArmVirtPkg: Enable UDF file system support
  + OvmfPkg: Enable UDF file system support
  + MdeModulePkg/PartitionDxe: Add UDF file system support
  + OvmfPkg/IoMmuDxe: unmap all IOMMU mappings at ExitBootServices()
  + OvmfPkg/IoMmuDxe: generalize IoMmuUnmap() to IoMmuUnmapWorker()
  + OvmfPkg/IoMmuDxe: track all mappings
  + OvmfPkg/VirtioScsiDxe: don't unmap VRING at ExitBootServices()
  + OvmfPkg/VirtioRngDxe: don't unmap VRING at ExitBootServices()
  + OvmfPkg/VirtioGpuDxe: don't unmap VRING & BackingStore at ExitBootServices
  + OvmfPkg/VirtioBlkDxe: don't unmap VRING at ExitBootServices()
  + MdeModulePkg/AtaAtapiPassThru: disable the device at ExitBootServices()
  + MdeModulePkg/AtaAtapiPassThru: unmap DMA buffers after disabling
    BM DMA
  + MdeModulePkg/AtaAtapiPassThru: cache EnabledPciAttributes
  + OvmfPkg/SecMain: Fix stack switching to permanent memory
  + ArmPkg: add ArmCrashDumpDxe driver
  + MdeModulePkg, NetworkPkg: Fix GCC build error
  + NetworkPkg/Ip6Dxe: fix a bug in IP6 driver for IpSec protocol
    notify
  + MdeModulePkg/Ip4Dxe: fix a bug in IP4 driver for IpSec protocol
    notify
  + MdePkg: Add UEFI 2.7 defined GUID and structure for AIP network
    media type
  + MdeModulePkg/UefiBootManagerLib: Generate boot description for
    SD/eMMC
  + Pkcs7VerifyDxe: Don't allow Pkcs7Verify to install protocols twice
  + SecurityPkg/Pkcs7Verify: Complete the Pkcs7VerifyDxe protocol
  + MdePkg PeiMemoryAllocationLib: Update InternalAllocateAlignedPages
  + MdePkg PeiMemoryAllocationLib: Update Free(Aligned)Pages
  + MdeModule PeiCore: Support pre memory page allocation
  + OvmfPkg/VirtioGpuDxe: negotiate VIRTIO_F_IOMMU_PLATFORM
  + OvmfPkg/VirtioGpuDxe: map backing store to bus master device address
  + OvmfPkg/VirtioGpuDxe: helpers for backing store (de)allocation+(un)mapping
  + OvmfPkg/VirtioGpuDxe: take EFI_PHYSICAL_ADDRESS in ResourceAttachBacking()
  + OvmfPkg/VirtioGpuDxe: map virtio GPU command objects to device
    addresses
  + OvmfPkg/VirtioGpuDxe: map VRING for bus master common buffer
    operation
  + OvmfPkg/IoMmuDxe: IoMmuFreeBuffer(): clean up DEBUG message
  + OvmfPkg/IoMmuDxe: IoMmuAllocateBuffer(): nicer and more
    informative DEBUGs
  + OvmfPkg/IoMmuDxe: IoMmuUnmap(): clean up DEBUG message
  + OvmfPkg/IoMmuDxe: IoMmuMap(): log nicer and more informative
    DEBUG msgs
  + OvmfPkg/BaseMemEncryptSevLib: clean up upper-case / lower-case
    in DEBUGs
  + OvmfPkg/BaseMemEncryptSevLib: promote DEBUG_WARN levels to
    DEBUG_ERROR
  + OvmfPkg/BaseMemEncryptSevLib: clean up debug logging of
    PhysicalAddress
  + OvmfPkg/BaseMemEncryptSevLib: clean up DEBUG prefixes
  + OvmfPkg/BaseMemEncryptSevLib: break DEBUG calls to multiple lines
  + OvmfPkg/BaseMemEncryptSevLib: unify encrypt/decrypt DEBUG messages
  + ArmPkg: remove ArmDmaLib
  + OvmfPkg/VirtioScsiDxe: negotiate VIRTIO_F_IOMMU_PLATFORM
  + OvmfPkg/VirtioScsiDxe: map virtio-scsi request and response buffers
  + OvmfPkg/VirtioScsiDxe: add helper to create a fake host adapter error
  + OvmfPkg/VirtioScsiDxe: map VRING using VirtioRingMap()
  + ArmPkg: remove UncachedMemoryAllocationLib
  + BaseTools/Gcc ARM AARCH64: add support for building device tree
    binaries
  + BaseTools: Enable --whole-archive in GCC tool chain as the
    default option
  + UefiCpuPkg/Mplib.c: Perform complete initialization when enable AP
  + OvmfPkg/VirtioBlkDxe: Check the return status of unmap data buffer
  + ArmVirtPkg: remove DmaLib library class resolution
  + ShellPkg: Update CWD and current mapping when commands return
  + ShellPkg: Fix bug that fails to change CWD after "map -r"
  + SecurityPkg: Add ARM/AARCH64 arch to enable RngTest module build
  + OvmfPkg/QemuFwCfgDxeLib: SEV: zero FW_CFG_DMA_ACCESS before
    decrypting it
  + ArmPkg/ArmDmaLib: implement DmaAllocateAlignedBuffer()
  + MdeModulePkg/UefiHiiLib: Fix incorrect check for string length
  + OvmfPkg/VirtioBlkDxe: negotiate VIRTIO_F_IOMMU_PLATFORM
  + Ovmfpkg/VirtioBlkDxe: map virtio-blk request and response buffers
  + OvmfPkg/VirtioBlkDxe: map VRING using VirtioRingMap()
  + MdePkg/S3PciSegmentLib: Add S3PciSegmentLib class and instance
  + MdePkg/PciSegmentLib: Add instances that consumes PciSegmentInfoLib
  + MdePkg/PciSegmentInfoLib: Add PciSegmentInfoLib class and instance
  + UefiCpuPkg/CpuCommonFeaturesLib: Add CPUID MCA support check
  + UefiCpuPkg: Update default for PcdCpuProcTraceMemSize/PcdCpuProcTraceOutputScheme
  + UefiCpuPkg/CpuCommonFeaturesLib: Use MSR data structure when
    change MSR value
  + UefiCpuPkg/ArchitecturalMsr.h: Add RTIT TOPA table entry
    definition
  + UefiCpuPkg/MpLib: fix potential overflow issue
  + UefiCpuPkg/PiSmmCpuDxeSmm: Fix memory protection crash
  + BaseTools/EfiRom: Add multiple device id support
  + OvmfPkg/VirtioRngDxe: negotiate VIRTIO_F_IOMMU_PLATFORM
  + OvmfPkg/Virtio10: define VIRTIO_F_IOMMU_PLATFORM feature bit
  + MdeModulePkg XhciDxe: Fix Map and Unmap inconsistency
  + SecurityPkg/Tcg2Dxe: Properly shutdown TPM before reset
  + OvmfPkg/VirtioRngDxe: map host address to device address
  + OvmfPkg/VirtioLib: change the parameter of VirtioAppendDesc()
    to UINT64
  + OvmfPkg/VirtioLib: alloc VRING buffer with AllocateSharedPages()
  + OvmfPkg/VirtioLib: add function to map VRING
  + OvmfPkg/Virtio10Dxe: add the RingBaseShift offset
  + OvmfPkg/Virtio: take RingBaseShift in SetQueueAddress()
  + OvmfPkg/VirtioLib: take VirtIo instance in VirtioRingInit/VirtioRingUninit
  + OvmfPkg/VirtioLib: add VirtioMapAllBytesInSharedBuffer() helper
    function
  + OvmfPkg/VirtioMmioDeviceLib: implement IOMMU-like member functions
  + OvmfPkg/VirtioPciDeviceDxe: implement IOMMU-like member functions
  + OvmfPkg/Virtio10Dxe: implement IOMMU-like member functions
  + OvmfPkg: introduce IOMMU-like member functions to VIRTIO_DEVICE_PROTOCOL
  + BaseTools: Add the missing -pie link option in GCC tool chain
  + ArmPkg/ArmDmaLib: remove dependency on UncachedMemoryAllocationLib
  + OvmfPkg/QemuVideoDxe: remove AARCH64/ARM support
  + ArmVirtPkg: remove QemuVideoDxe from ArmVirtQemu and ArmVirtQemuKernel
  + BaseTools: Roll back GenFw Change to keep unknown field in RSDS
    debug entry
  + MdeModulePkg/DisplayEngine: Add implementation of HiiPopup protocol
  + MdeModulePkg/Library: Remove the self-reference in
    UdpIoLib/TcpIoLib/IpIoLib
  + ShellPkg/mkdir: support creating nested directories
  + MdeModulePkg/ScsiBusDxe: don't produce ScsiIo for nonexistent LUNs
  + UefiCpuPkg/PiSmmCpuDxeSmm: Add CPUID MCA support check
  + ArmPkg/ArmDmaLib: use double buffering only for bus master write
  + ArmVirtPkg/FdtPL011SerialPortLib: call PL011UartLib in all
    SerialPortLib APIs
  + UefiCpuPkg RegisterCpuFeaturesLib: Fix buffer pointer error usage
  + NetworkPkg/Ip6Dxe: Fix the bug when checking the DataSize
  + MdePkg/BaseLib: Update internal LinkedList verifications
  + MdePkg/BaseLib: Add IsNodeInList() function
  + MdeModulePkg: Delete useless case code
  + MdeModulePkg: Delete never touched code
  + UefiCpuPkg/BaseUefiCpuLib.inf: Remove unnecessary library class
  + UefiCpuPkg RegisterCpuFeaturesLib: Enhance debug messages.

-------------------------------------------------------------------
Mon Aug 28 08:54:14 UTC 2017 - glin@suse.com

- Update ovmf-embed-default-keys.patch to handle the empty
  certificate files correctly

-------------------------------------------------------------------
Thu Aug 17 04:10:00 UTC 2017 - glin@suse.com

- Update to 2017+git1502826981.a136bc3ccf
  + OvmfPkg/Protocol/VirtioDevice: fix comment style
  + OvmfPkg/VirtioMmioDeviceLib: add missing IN and OUT decoration
  + OvmfPkg/VirtioPciDeviceDxe: add missing IN and OUT decoration
  + OvmfPkg/Virtio10Dxe: supply missing BUS_MASTER attribute
  + OvmfPkg/VirtioPciDeviceDxe: supply missing BUS_MASTER attribute
  + UefiCpuPkg MpInitLib: Save/restore original WakeupBuffer for
    DxeMpLib
  + ShellPkg UefiDpLib: Init CustomCumulativeData.MinDur
  + MdeModulePkg DxeCore: Enhance "ConvertPages: Incompatible
    memory types"
  + MdeModulePkg DxeCore: Fix double free pages on LoadImage
    failure path
  + NetworkPkg/HttpBootDxe: Update device path node to include DNS
    information
  + MdeModulePkg/UefiBootManagerLib: Support DNS device path
    description
  + MdePkg/UefiDevicePathLib: Add DevPathFromTextDns and
    DevPathToTextDns libraries
  + MdePkg/DevicePath.h: Add DNS Device Path definition
  + NetworkPkg/HttpDxe: Handle the HttpVersionUnsupported in the
    HttpConfigData
  + BaseTools: Support TabSpace between section tag in DEC file
  + BaseTools: Don't need to add extra quotes when UI string from
    file
  + BaseTools/UPT: Support Multiple Installation
  + BaseTools/Scripts: Add sample makefile for use with
    RunMakefile.py
  + BaseTools/Scripts: Add python script to run a makefile
  + BaseTools/build: Expand PREBUILD/POSTBUILD DSC actions
  + NetworkPkg/Ip6Dxe: Support SetData interface to clear specific
    configuration
  + MdeModulePkg/Ip4Dxe: Support SetData interface to clear
    specific configuration
  + ShellPkg/drivers: Fix GCC build failure
  + BaseTools/edksetup.sh: fix invalid test for current working
    directory
  + ShellPkg/driver: Show "-" in non-SFO mode
  + ShellPkg/drivers: Show Image Name in non-SFO mode
  + MdeModulePkg: Variable: Fix typo in variable measure
  + MdeModulePkg/NvmExpressDxe: Notify NVME HW when system reset
    happens
  + MdePkg/Nvme: Add NVME shutdown notification related macros
  + NetworkPkg/HttpBootDxe: Refine the coding style.
  + OvmfPkg/AcpiPlatformDxe: short-circuit the transfer of an empty
    S3_CONTEXT
  + MdeModulePkg SerialDxe: Process timeout consistently in
    SerialRead
  + UefiCpuPkg MtrrLib: Remove deprecated micro.
  + UefiCpuPkg CpuDxe: Remove reference deprecated macro.
  + UefiCpuPkg CpuDxe: Enhance get mtrr mask logic.
  + BaseTools/Conf: apply nasmb, asm16 build rule order
  + NetworkPkg/HttpDxe: Support HTTP Patch method
  + OvmfPkg/PlatformPei: support >=1TB high RAM, and discontiguous
    high RAM
  + OvmfPkg/QemuFwCfgLib: Use BusMasterCommonBuffer to map
    FW_CFG_DMA_ACCESS
  + OvmfPkg/IoMmuDxe: Unmap(): recycle MAP_INFO after
    BusMasterCommonBuffer[64]
  + OvmfPkg/IoMmuDxe: abort harder on memory encryption mask
    failures
  + OvmfPkg/IoMmuDxe: implement in-place decryption/encryption for
    Map/Unmap
  + OvmfPkg/IoMmuDxe: rework setup of "MapInfo->PlainTextAddress"
    in Map()
  + OvmfPkg/IoMmuDxe: zero out pages before releasing them
  + OvmfPkg/IoMmuDxe: clean up used library classes
  + OvmfPkg/IoMmuDxe: propagate errors from AmdSevInstallIoMmuProtocol()
  + OvmfPkg/IoMmuDxe: don't initialize local variables
  + OvmfPkg/IoMmuDxe: convert UINTN arguments to UINT64 for the
    %Lx fmt spec
  + OvmfPkg/IoMmuDxe: rename HostAddress to CryptedAddress in
    MAP_INFO
  + OvmfPkg/IoMmuDxe: rename DeviceAddress to PlainTextAddress in
    MAP_INFO
  + OvmfPkg/IoMmuDxe: rewrap source code to 79 characters
  + OvmfPkg/IoMmuDxe: Fix header guard macro
  + MdeModulePkg/DisplayEngine: Fix incorrect display issue
  + BaseTools/VfrCompile: Remove the MAX_PATH limitation
  + BaseTools/VfrCompile: Fix segmentation fault issues
  + NetworkPkg: iSCSI should allow to set 6 or 12 length of ISID
    keyword.
  + UefiCpuPkg: Enable Processor Trace feature.
  + UefiCpuPkg: Add Processor Trace feature definition.
  + UefiCpuPkg: Add Pcds used by processor trace feature.
  + UefiCpuPkg/Msr: Add a missing IvyBridge processor signature
  + MdeModulePkg PeiCore: Install SEC HOB data
  + MdePkg: Add definition for SecHobData PPI
  + UefiCpuPkg PiSmmCpuDxeSmm: Check LMCE capability when wait for
    AP.
  + UefiCpuPkg CpuCommonFeaturesLib: Enable LMCE feature.
  + UefiCpuPkg: Add definition for LMCE feature.
  + NetworkPkg: Display HTTP redirection info to the screen if need.
  + ShellPkg/dblk: Honor the BlockIo alignment requirement.
  + MdeModulePkg/Ufs: Set 'Data Segment Length' field for Write
    Descriptor
  + MdeModulePkg/UfsPassThruDxe: Add impl of UFS Device Config
    Protocol
  + UefiCpuPkg SecCore: Fix operands of different size in bitwise
    operation
  + MdePkg/Ftp4: Fix wrong function pointer declaration
  + NetworkPkg/HttpDxe: Destroy the TLS instance when cleaning up
    the HTTP child
  + CryptoPkg/TlsLib: Remove the redundant free of BIO objects
  + NetworkPkg/Ip6Dxe: Fix the IPv6 PXE boot option goes missing
    issue
  + Fix spelling typo in EFI_HTTP_STATUS_CODE
  + NetworkPkg/HttpDxe: Refine the coding style.
  + MdePkg/Http.h: Refine the coding style.
  + ArmPkg: Move IS_DEVICE_PATH_NODE for sharing
  + MdeModulePkg FirmwarePerfPei: Remove SEC performance data
    getting code
  + UefiCpuPkg SecCore: Add SecPerformancePpiCallBack
  + UefiCpuPkg SecCore: Adjust PeiTemporaryRamBase&Size to be
    8byte aligned
  + MdeModulePkg PeiCore: Handle notification PPI from SEC
  + MdePkg PiPeiCis.h: Add description for notification PPI from
    SEC
  + MdeModulePkg PiSmmCoreMemoryAllocLib: Fix a FreePool()
    assertion issue
  + BaseTools/GenCrc32: Fix a bug to hand empty file for decode
  + BaseTools/EfiLdrImage: Fix a segmentation fault from
    vfprintf()
  + BaseTools/EfiRom: Fix a segmentation fault from
    vsprintf()/vfprintf()
  + BaseTools/GenFfs: Fix a segmentation fault from
    vsprintf()/vfprintf()
  + BaseTools/GenSec: Fix a segmentation fault in main()
  + BaseTools/Split: Fix the segmentation fault in GetSplitValue()
  + BaseTools: Fix the bug to correctly check Pcd type that in FDF
    file
  + MdeModulePkg/PciBus: Avoid hang when BUS pad resource is not
    in top
  + ShellPkg: Avoid buffer out-of-bound access
  + ShellPkg/setvar: Check the duplicate flag
  + ShellPkg/ShellLib: Remove unused macros
  + MdePkg: Follow UEFI 2.7 spec to deprecate SMM Communication
    ACPI Table
  + UefiCpuPkg PiSmmCommunicationSmm: Deprecate SMM Communication
    ACPI Table
  + MdeModulePkg/BMMUiLib: Check reset requirement before exiting
    UiApp
  + MdeModulePkg/BMUiLib: Check reset requirement before exiting
    UiApp
  + MdeModulePkg/SetupBrowser: Record the reset status in all
    SendForm
  + ShellPkg/map: Recognize CDROM change
  + MdeModulePkg Xhci: Also RecoverHaltedEndpoint for BABBLE_ERROR
  + MdeModulePkg SmmLockBoxDxeLib: Get SmmCommRegion for COMM
    buffer
  + MdePkg/ResetNotification: Rename to UnregisterResetNotify
  + MdePkg: Add UEFI 2.7 defined GUID and structure for KMS
    protocol.
  + ShellPkg/ls: Display the file time in local time.
  + BaseTools: Fix the bug that warn() function with only 1
    argument
  + BaseTools: add some comment for .PrebuildEnv file's usage
  + UefiCpuPkg: Update RegisterCpuFeaturesLib to consume
    PcdGetSize with UINTN
  + UefiCpuPkg: Update RegisterCpuFeaturesLib module UNI to match
    it
  + MdeModulePkg: Update NonDiscoverableDeviceRegistrationLib file
    header format
  + MdePkg UsbFunctionIo.h: Update comments for GetDeviceInfo
    return status
  + UefiCpuPkg: Remove deprecated CPU feature.
  + MdeModulePkg SmmAccess: Update comments to follow PI spec.
  + MdePkg SmmAccess2: Update comments to follow PI spec.
  + UefiCpuPkg RegisterCpuFeaturesLib: Add error handling.
  + MdeModulePkg/DxeCore: Avoid accessing non-owned memory
  + MdePkg DxeHstiLib: Fix memory leak issue
  + MdePkg Hsti.h: Update version info to 1.1a
  + ArmPlatformPkg: Support different PL011 reg offset
  + CryptoPkg/OpensslLib AARCH64: clear XIP CC flags
  + BaseTools/tools_def AARCH64: avoid SIMD registers in XIP code
  + BaseTools/tools_def AARCH64: mark register x18 as reserved
  + BaseTools/Build: Support python scripts in PREBUILD/POSTBUILD
  + UefiCpuPkg CpuCommonFeaturesLib: Fix smx/vmx enable logic
    error.
  + UefiCpuPkg RegisterCpuFeaturesLib: Add error handling code.
  + OvmfPkg/QemuFwCfgLib: Suppress GCC49 IA32 build failure
  + MdePkg: Declare _ReturnAddress() in Base.h for MSFT tool chain
  + OvmfPkg: update PciHostBridgeDxe to use PlatformHasIoMmuLib
  + OvmfPkg/QemuFwCfgLib: Add SEV support
  + OvmfPkg: Add IoMmuDxe driver
  + OvmfPkg: Add PlatformHasIoMmuLib
  + OvmfPkg: Add AmdSevDxe driver
  + OvmfPkg/PlatformPei: Set memory encryption PCD when SEV is
    enabled
  + OvmfPkg/BaseMemcryptSevLib: Add SEV helper library
  + OvmfPkg: Update dsc to use IoLib from BaseIoLibIntrinsicSev.inf
  + OvmfPkg/ResetVector: Set C-bit when building initial page table
  + MdeModulePkg/XhciDxe: Make comments align with function
  + MdeModulePkg/PartitionDxe: Add impl of Partition Information
    Protocol
  + MdePkg: Add EFI Partition Information Protocol definitions
  + BaseTools: Report Fd File Path in build log
  + BaseTools: Fix FDF file parse !include file issue
  + BaseTools: Add PCDs conditional operator function
  + BaseTools/Eot: register MM Module types with FFS class.
  + BaseTools/Workspace: check MM module type compatibility with
    PI version.
  + BaseTools/build: register MM module types with build tools.
  + BaseTools/GenFds: register MM Modules and MM FV file types.
  + BaseTools/CommonDataClass: register MM Modules.
  + BaseTools/Common: add support in FDF Parser to parse MM
    Modules.
  + BaseTools/Common: add MM Module data types.
  + BaseTools/AutoGen: auto generate MM template APIs and
    dependencies.
  + BaseTools/GenFw: recognize MM file types as EFI Boot Service
    Drivers.
  + BaseTools/GenFfs: add FFS file types for MM modules.
  + UefiCpuPkg MpInitLib: Update return status to follow spec.
  + UefiCpuPkg CpuMpPei: Update return status to follow spec.
  + UefiCpuPkg CpuDxe: Update return status to follow spec.
  + MdePkg MpServices: Update return status to follow spec.
  + BaseTools/GenFw: disregard payload in PE debug directory entry
    size
  + MdeModulePkg/NvmExpressDxe: Handle timeout for blocking
    PassThru req
  + OvmfPkg: mention the extended TSEG near the PcdQ35TsegMbytes
    declaration
  + OvmfPkg/PlatformPei: honor extended TSEG in PcdQ35TsegMbytes
    if available
  + OvmfPkg/SmmAccess: support extended TSEG size
  + OvmfPkg/IndustryStandard/Q35MchIch9.h: add extended TSEG size
    macros
  + OvmfPkg: make PcdQ35TsegMbytes dynamic
  + OvmfPkg/SmmAccess: prepare for PcdQ35TsegMbytes becoming dynamic
  + OvmfPkg/PlatformPei: prepare for PcdQ35TsegMbytes becoming dynamic
  + OvmfPkg: widen PcdQ35TsegMbytes to UINT16
  + OvmfPkg: update -D E1000_ENABLE from Intel PROEFI v.07 to
    BootUtil v.22
  + OvmfPkg: disable build-time relocation for DXEFV modules
  + ArmVirtPkg: remove status code support
  + ArmPlatformPkg: convert VExpress ResetSystemLib to
    ResetSystemLib
  + MdeModulePkg/XhciDxe: Check timeout URB again after stopping
    endpoint
  + MdeModulePkg/XhciDxe: Separate common logic to XhcTransfer
  + MdeModulePkg/XhciDxe: Dump the CMD/EVENT/INT/BULK ring
    information
  + MdeModulePkg/XhciDxe: Refine IsTransferRingTrb and
    IsAsyncIntTrb
  + BaseTools: suppress usage instructions with rebuild options
  + ArmVirtPkg: switch to generic ResetSystemRuntimeDxe
  + ArmPkg: implement ResetSystemLib using PSCI 0.2 calls
  + MdeModulePkg CapsuleApp: Fix print info in BuildGatherList()
  + MdeModulePkg ResetSystem: Update the comments of ResetSystem()
  + MdeModulePkg/ResetSystem: Implement ResetNotification protocol
  + MdeModulePkg/ResetSystem: Remove unnecessary global variable
  + MdePkg: Add ResetNotification protocol definition
  + MdeModulePkg PeiCore: Correct the comments of PeiResetSystem2
  + MdePkg: Correct the comments of EFI_PEI_RESET2_SYSTEM
  + ShellPkg: Update dh command to reflect correct driver field
    information
  + MdeModulePkg/AtaAtapiPassThru: relax PHY detect timeout
  + MdePkg/IndustryStandard: update ACPI/IORT definitions to
    revision C
  + ShellPkg DmpStore: Make NameSize to be consistent with name
    buffer
  + MdeModulePkg/BdsDxe: Report Status Code when booting from
    BootOrder list
  + MdePkg/PiStatusCode: Add new Status Code for BDS when
    attempting BootOrder
  + Revert "MdeModulePkg/DxeCore: Fixed Interface returned by
    CoreOpenProtocol"
  + UefiCpuPkg: Modify GetProcessorLocationByApicId() to support
    AMD.
  + UefiCpuPkg: Add CPUID definitions for AMD.
  + UefiCpuPkg: Define AMD Memory Encryption specific CPUID and MSR
  + MdeModulePkg DxeCore: Only free ScratchBuffer when it is not
    NULL
  + MdeModulePkg/DxeCore: Fixed Interface returned by
    CoreOpenProtocol
  + BaseTools/PatchCheck.py: Add warning info for new binary files
  + BaseTools/PatchCheck.py: Fix misreport for binary changes in
    patch
  + BaseTools: support building the same INF more than once with
    -m option
  + BaseTools: report error HiiString in HII format PCD must not
    be empty
  + BaseTools: Fix the bug that use '|' or '||' in DSC file's Pcd
    value
  + BaseTools: Enhance the report to not show the empty section
  + BaseTools: Enhance DEC Defines section format check
  + BaseTools: Copy "TianoCore" userextensions into As Built Inf
  + BaseTools: Copy "MODULE_UNI_FILE" file into OUTPUT directory
  + MdePkg/Cper.h: Update Firmware Error Record per UEFI 2.7
  + MdeModulePkg: Enhance the debug message for
    InstallProtocolInterface
  + MdePkg: update Base.h in MdePkg to check the _MSC_VER
  + BaseTools: add /Gw to CC_FLAGS for VS2013 and higher tool
    chain tags
  + NetworkPkg: Fix GCC build issue.
  + BaseTools/tools_def: AARCH64: disable LTO type mismatch
    warnings
  + BaseTools/tools_def GCC: ARM/AARCH64: drop -save-temps from
    command line
  + MdeModulePkg Variable: Add missing change in dd59d95e1994
  + MdeModulePkg: Minor update to the Data parameter for PEI
    GetVariable()
  + MdePkg: Minor update to the Data parameter for PEI
    GetVariable()
  + NetworkPkg/HttpBootDxe: Add HTTP Boot Callback protocol
    support.
  + MdePkg: Add header file for HTTP Boot Callback protocol
    in UEFI 2.7.
  + MdeModulePkg: Return invalid param in LocateProtocol for
    Protocol==NULL
  + MdePkg: Add EFI UFS Device Config Protocol definitions
  + MdeModulePkg: Fix use-after-free error in
    InstallConfigurationTable()
  + MdeModulePkg: Clean ACPI 2.0 characters in UEFI spec
  + MdePkg: Clean ACPI 2.0 characters in UEFI spec
  + UefiCpuPkg/SmmCpuFeatureLib: Add more CPU ID for
    SmmFeatureControl.
  + ShellBinPkg: Ia32/X64 Shell binary update.
  + MdeModulePkg/BMMUiLib: Fix incorrect variable name
  + SecurityPkg TcgDxe: Simplify debug msg when "TPM not working
    properly"
  + ShellPkg: Fix typo errors in ifconfig help output
  + Shell/alias: Print detailed error when deleting alias
  + OvmfPkg/AcpiPlatformDxe: fix spurious uninitialized var warning
  + NetworkPkg/HttpBootDxe: Handle new #define in HttpBootDxe
  + MdeModulePkg/DxeHttpLib: Handle new #define in
    HttpMappingToStatusCode
  + MdePkg/Http.h: Add #define for 308 redirect
  + ShellPkg/ifconfig: Update help message
  + MdeModulePkg/PciHostBridgeDxe: Make bitwise operands of the
    same size
  + OvmfPkg/AcpiPlatformDxe: alloc blobs from 64-bit space unless
    restricted
  + BaseTools: Fix the bug use same FMP_PAYLOAD in different
    capsule file
  + BaseTools: Fix incremental build failure that override file be
    removed
  + ShellBinPkg: Ia32/X64 Shell binary update.
  + ShellPkg/parse: Handle Unicode stream from pipe correctly
  + ShellPkg/alias: Return status for alias deletion
  + MdePkg SmmIoLib: Use NULL pointer check instead of useless
    Status check
  + MdePkg SmmMemLib: Remove ASSERT in SmmIsBufferOutsideSmmValid
  + MdeModulePkg/UefiPxeBcDxe: Refine the PXE boot displayed
    information
  + MdeModulePkg/UefiPxeBcDxe: Fix the PXE BootMenu selection issue
- Build x86_64 4MB images since upstream switched to 4MB by for a
  larger space for variables. Also update README to reflect the
  change.
- Remove License-fat-driver.txt since FatPkg uses the same license
  as the root license.
- Add the OVMF license file
- Disable the PIE/PIC warning for the debug files since all object
  files will be converted to PE/COFF, so it's pointless to enable
  PIE/PIC.
- Remove Default_DB_EX and Default_DBX correctly

-------------------------------------------------------------------
Mon Jun  5 09:34:28 UTC 2017 - glin@suse.com

- Update to 2017+git1496630893.7ec69844b8
  + ShellPkg/alias: Fix bug to support upper-case alias
  + BaseTools/GCC ARM/AARCH64: Force disable PIE
  + BaseTools/Scripts: discard .gnu.hash section in GCC builds
  + OvmfPkg: make the 4MB flash size the default
  + MdeModulePkg/BDS: Fix a buffer overflow bug
  + CryptoPkg/BaseCryptLib: Add NULL pointer checks in DH and P7Verify
  + UefiCpuPkg/BaseUefiCpuLib: Use NASM read-only data section name
  + OvmfPkg/PlatformPei: align EmuVariableNvStore at any page boundary
  + OvmfPkg/EmuVariableFvbRuntimeDxe: change block size to 4KB
  + OvmfPkg/EmuVariableFvbRuntimeDxe: correct NumOfLba vararg type
    in EraseBlocks()
  + ArmPlatformPkg/NorFlashDxe: correct NumOfLba vararg type in
    EraseBlocks()
  + OvmfPkg/EmuVariableFvbRuntimeDxe: always format an auth
    varstore header
  + MdeModulePkg/PciBus: Add IOMMU support
  + MdeModulePkg/PciHostBridge: Add IOMMU support
  + MdeModulePkg/Include: Add IOMMU protocol definition
  + ShellPkg/HandleParsingLib: Show LoadedImageProtocol file path
    as text
  + NetworkPkg: Fix issue in dns driver when building DHCP packet
  + Addressing TCP Window Retraction when window scale factor is used
  + Add wnd scale check before shrinking window
  + UefiCpuPkg/MtrrLib: Don't report OutOfResource when MTRR is enough
  + MdePkg DxeServicesLib: Handle potential NULL FvHandle
  + OvmfPkg/PlatformPei: handle non-power-of-two spare size for
    emu variables
  + SecurityPkg/Pkcs7VerifyDxe: Add format check in DB list contents
  + OvmfPkg: raise max variable size (auth & non-auth) to 33KB for
    FD_SIZE_4MB
  + OvmfPkg: introduce 4MB flash image (mainly) for Windows HCK
  + OvmfPkg/OvmfPkg.fdf.inc: extract VARS_LIVE_SIZE and
    VARS_SPARE_SIZE macros
  + OvmfPkg: introduce the FD_SIZE_IN_KB macro / build flag
  + ArmVirtPkg: install EdkiiPlatformHasDeviceTree proto in the
    32-bit builds
  + NetworkPkg: Fix PXEv6 boot failure when DhcpBinl offer received
  + NetworkPkg: Fix bug in iSCSI mode ipv6 when enabling target DHCP
  + Fix issue the iSCSI client can not send reset packet
  + CryptoPkg/SmmCryptLib: Enable HMAC-SHA256 support for SMM
  + ShellPkg/Shell: eliminate double-free in RunSplitCommand()
  + ShellPkg/Shell: clean up bogus member types in SPLIT_LIST
  + MdeModulePKg/BDS: Build meaningful description for Wi-Fi boot
    option
  + MdeModulePkg/DeviceManagerUiLib: Fix the network device MAC
    display issue
  + MdeModulePkg/Mtftp4Dxe: Add invalid ServerIp check during MTFTP
    configuration
  + NetworkPkg/TlsAuthConfigDxe: Close and free the file related
    resource
  + NetworkPkg: Correct the proxy DHCP offer handing
  + NetworkPkg/HttpDxe: Fix HTTP download OS image over 4G size
    failure
  + MdeModulePkg/UefiBootManagerLib: Avoid buggy USB short-form
    expanding
  + NetworkPkg: Fix bug related DAD issue in IP6 driver
  + NetworkPkg: Add check logic for iSCSI driver
  + MdeModulePkg PiSmmCore: Enhance SMM FreePool to catch buffer
    overflow
  + UefiCpuPkg/PiSmmCpuDxeSmm: Lock should be acquired
  + MdeModulePkg/BootManagerMenu: Add assertion to indicate no DIV
    by 0
  + CryptoPkg: Correct some minor issues in function comments
  + MdePkg/UefiLib: Avoid mis-calculate of graphic console size
  + MdeModulePkg/PiSmmCore: Fix potentially uninitialized local
    variable
  + MdeModulePkg DxeCore: Fix issue to print GUID value %g without
    pointer
  + ArmVirtPkg/ArmVirtXen: remove ARM BdsLib library class resolution
- Add ovmf-disable-ia32-firmware-piepic.patch to disable pic/pie
  explicitly since gcc7 in Factory enables pic/pie by default but
  GenFw cannot handle the GOT sections and failed the build.

-------------------------------------------------------------------
Sat May  6 20:34:20 UTC 2017 - meissner@suse.com

- ovmf-pie.patch: add -fPIE to the Common build Makefile to 
  allow a global PIE build.

-------------------------------------------------------------------
Thu Apr 13 07:13:09 UTC 2017 - glin@suse.com

- Update to 2017+git1492060560.b6d11d7c46 (fate#322331, bsc#1032659)
  + MdePkg: BaseIoLibIntrinsic (IoLib class) library
  + MdeModulePkg/IdeBusPei: Fix undefined behavior in signed left
    shift
  + MdeModulePkg/ScsiDiskDxe: Fix undefined behavior in signed left
    shift
  + OvmfPkg/QemuVideoDxe: VMWare SVGA device support
  + MdeModulePkg/UefiBootManagerLib: Enhance short-form expanding
    logic
  + CryptoPkg/BaseCryptLib: Adding NULL checking in time() wrapper
  + CryptoPkg: Fix possible unresolved external symbol issue.
  + CryptoPkg/OpensslLib: Suppress extra build warnings in openssl
    source
  + CryptoPkg: Move openssl and CRT headers to private include
    section
  + BaseTools: Update tools_def.template to add -fno-builtin in GCC
    tool chain
  + SecurityPkg: SecureBootConfigDxe: Support AUTH_2 enrollment to
    DBX
  + MdeModulePkg/UefiHiiLib:Fix incorrect comparison expression
  + ArmVirtPkg/ArmVirtQemuKernel: increase slack space for DTB
  + ArmVirtPkg/FdtClientDxe: honor memory DT node 'status' property
  + NetworkPkg: Fix some bugs related to iSCSI keyword configuration
  + MdeModulePkg/DxeHttpLib: Avoid the pointless comparison of
    UINTN with zero
  + BaseTools: Enhance expression to support some more operation
  + MdePkg/Shell.h: Update Shell version from 2.1 to 2.2
  + UefiCpuPkg/PiSmmCpuDxeSmm: Update saved SMM ranges check in
    SmmProfile
  + ArmVirtPkg/PlatformHasAcpiDtDxe: allow guest level ACPI disable
    override
  + BaseTools/GCC AARCH64: force disable PIC code generation
  + UefiCpuPkg/MtrrLib: Use a better algorithm to calculate MTRR
  + MdeModulePkg/SmmCore: Fix memory leak on Profile unregistered
  + OvmfPkg: Allow multiple add-pointer linker commands to same
    ACPI table
- Drop upstream patch: ovmf-bsc1031336-fix-hii-gcc7-build.patch

-------------------------------------------------------------------
Wed Apr  5 04:43:20 UTC 2017 - glin@suse.com

- Add ovmf-bsc1031336-fix-hii-gcc7-build.patch to fix gcc7 build
  (bsc#1031336)

-------------------------------------------------------------------
Thu Mar 30 08:31:38 UTC 2017 - glin@suse.com

- Update to 2017+git1490844769.d3017dd96b
  + MdeModulePkg/DxeHttpLib: Fix the incorrect return status if URI
    port is invalid
  + NetworkPkg/DnsDxe: Fix zero StationIp configuration failure of
    DNSv6
  + CryptoPkg: Clean-up CRT Library Wrapper
  + CryptoPkg: Fix handling of &strcmp function pointers
  + CryptoPkg/OpensslLib: Update INF files to support OpenSSL-1.1.0x
    build
  + ArmVirtPkg/PlatformHasAcpiDtDxe: don't expose DT if QEMU
    provides ACPI
  + ArmVirtPkg: enable AcpiTableDxe and EFI_ACPI_TABLE_PROTOCOL
    dynamically
  + ArmVirtPkg: add XenPlatformHasAcpiDtDxe
  + ArmVirtPkg: add PlatformHasAcpiDtDxe
  + UefiCpuPkg/AcpiCpuData.h: Support >4GB MMIO address
  + NetworkPkg/IScsiDxe: Fix the incorrect error handling in
    DriverEntryPoint
  + Fix potential ASSERT if NetIp4IsUnicast is called
  + ArmPkg/PlatformBootManagerLib: move to BootLogoLib for boot
    splash support
  + UefiCpuPkg: Add CPU Features PEI/DXE drivers
  + ArmVirtPkg/HighMemDxe: use CPU arch protocol to apply memprotect
    policy
  + MdeModulePkg/BootGraphicsResourceTableDxe: don't allocate below
    4 GB
  + MdeModulePkg/DxeCore: deal with allocations spanning several
    memmap entries
  + MdeModulePkg/AcpiTableDxe: Not make FADT.{DSDT,X_DSDT} mutual
    exclusion
  + NetworkPkg: Fix service binding issue in TCP dxe
  + MdeModulePkg: Fix service binding issue in TCP4 and Ip4 dxe
  + MdeModulePkg: Fix bug in DxeHttplib when converting port number
  + MdeModulePkg/Ip4Dxe: Add Ip/Netmask pair check for Ip4Config2
  + ArmPkg/UncachedMemoryAllocationLib: set XP bit via CPU arch
    protocol
  + MdeModulePkg DxeCore: Remove unreferenced symbol for memory
    profile
  + MdeModulePkg PiSmmCore: Remove unreferenced symbol for SMRAM
    profile
  + NetworkPkg: Fix potential bug if the iSCSI use dns protocol
  + MdePkg/UefiDevicePathLib: Fix the wrong MAC address length
  + OvmfPkg/AcpiPlatformDxe: save fw_cfg boot script with QemuFwCfgS3Lib
  + ArmVirtPkg, OvmfPkg: retire QemuFwCfgS3Enabled() from QemuFwCfgLib
  + OvmfPkg: resolve QemuFwCfgS3Lib
  + ArmVirtPkg: resolve QemuFwCfgS3Lib
  + OvmfPkg/QemuFwCfgS3Lib: add initial PEI and DXE fw_cfg library
    instances
  + OvmfPkg: introduce QemuFwCfgS3Lib class
  + MdeModulePkg/SmmCore: Add Context in SmiHandlerProfileUnregister
  + MdeModulePkg/UefiBootManagerLib: Generate boot description for
    NVME 
  + ArmVirtPkg/ArmVirtPL031FdtClientLib: unconditionally disable DT
    node
  + ArmVirtPkg/FdtClientDxe: supplement missing EFIAPI calling conv
    specifiers
  + MdeModulePkg/AcpiTableDxe: improve FADT.{DSDT,X_DSDT} mutual
    exclusion
  + ArmPkg/CpuDxe: handle implied attributes in EfiAttributeToArmAttribute
  + ArmVirtPkg: apply PE/COFF memory protection to DxeCore as well
  + ArmPkg/UncachedMemoryAllocationLib: map uncached allocations
    non-executable
  + ArmPkg/UncachedMemoryAllocationLib: use CWG value to align pool
    allocations 
  + ArmPkg/UncachedMemoryAllocationLib: restore mapping attributes
    after free
- Update openssl to 1.1.0e

-------------------------------------------------------------------
Wed Mar  8 06:53:17 UTC 2017 - glin@suse.com

- Update to 2017+git1488934948.29e9bf10dc
  + ArmVirtPkg: enable non-executable DXE stack for all platforms
  + ArmVirtPkg: enable PE/COFF image and memory protection for ARM
    platforms
  + ArmPkg/CpuDxe ARM: honour RO/XP attributes in SetMemoryAttributes()
  + ArmPkg/CpuDxe ARM: avoid unnecessary cache/TLB maintenance
  + ArmPkg/CpuDxe ARM: avoid splitting page table sections
    unnecessarily
  + Refine casting expression result to bigger size
  + NetworkPkg/Dhcp6Dxe: Handle the Nil UUID case
  + ArmVirtPkg AARCH64: enable NX memory protection for all platforms
  + ArmVirtPkg/HighMemDxe: preserve non-exec permissions on newly
    added regions
  + SecurityPkg: Fix potential bug in Security Boot dxe
  + MdeModulePkg/EbcDxe: use EfiBootServicesCode memory for thunks
  + CryptoPkg/OpensslLib: Upgrade OpenSSL version to 1.0.2k
    (bsc#1030565)
  + ArmVirtPkg: clear PcdPerformanceLibraryPropertyMask PCD
  + Ignore duplicated DNS address check
  + MdeModulePkg/DxeCore: base code protection on permission
    attributes
  + OvmfPkg: exclude libssl functionality from OpensslLib if
    TLS_ENABLE=FALSE
  + CryptoPkg/OpensslLib: introduce OpensslLibCrypto instance
  + ArmVirtPkg/ArmVirt.dsc.inc: AARCH64: enable DXE image
    protection feature
  + OvmfPkg/XenBusDxe: Use EFIAPI for XenStoreVSPrint
  + Update the Ethernet interface name
  + NetworkPkg:Add scriptable configuration to iSCSI driver by
    leveraging x-UEFI
  + ArmPkg/ArmMmuLib: AARCH64: enable stack alignment checking
  + ArmPlatformPkg/ArmPlatformStackLib: use callee preserved
    registers
  + MdeModulePkg/DxeCore: Add UEFI image protection
  + UefiCpuPkg/CpuDxe: Add memory attribute setting
  + OvmfPkg/QemuFwCfg: introduce FW_CFG_IO_SELECTOR, FW_CFG_IO_DATA,
    and FW_CFG_IO_DMA_ADDRESS
  + UefiCpuPkg/ExceptionHandlerAsm.S: Fix code length issue with
    GCC 5.4
  + ArmPkg/ArmMmuLib: AARCH64: add support for modifying only
    permissions
  + ArmPkg/CpuDxe: ARM: ignore page table updates that only change
    permissions
  + ArmPkg/CpuDxe: translate invalid memory types in
    EfiAttributeToArmAttribute
  + ArmPkg/CpuDxe: Correct EFI_MEMORY_RO usage
  + OvmfPkg/AcpiPlatformDxe: implement the QEMU_LOADER_WRITE_POINTER
    command
  + MdeMoudlePkg/DisplayEngine: Fix incorrect index used in array
    "InputText"
  + MdeModulePkg: Add the EFI_PRINT2S_PROTOCOL
  + MdePkg/BasePrintLib: Add safe print functions [A|U]ValueToStringS
  + Refine the SPrint functions
  + SecurityPkg: enhance secure boot Config Dxe & Time Based
    AuthVariable
  + Generate the correct operational state of the interface
  + NetworkPkg/HttpBootDxe: Update to check specified media type
  + NetworkPkg/HttpBootDxe: Request HTTP token notify as a DPC at
    TPL_CALLBACK
  + NetworkPkg/iSCSIDxe: Update the condition for IScsiStart Abort
  + MdePkg ACPI: Incorrect definition name for ACPI IORT Table
    signature
  + MdeModulePkg/PciBus: Accept Spec values as BarIndex and
    Alignment
  + NetworkPkg/NetworkPkg.uni: Define the prompt and help
    information for PcdAllowHttpConnections
  + MdeModulePkg/DxeHttpLib: Correct the return status for the
    HTTP Port/ContentLength
  + MdeModulePkg/UefiBootManagerLib: Initialize Handle before
    using it
  + OvmfPkg/SmmControl2Dxe: select broadcast SMI if available
  + OvmfPkg: dynamic defaults for PcdCpuSmmApSyncTimeout,
    PcdCpuSmmSyncMode
  + ArmVirtPkg/QemuFwCfgLib: implement QemuFwCfgSkipBytes() API
  + ArmVirtPkg/QemuFwCfgLib: use DMA for QemuFwCfgWriteBytes() if
    available
  + ArmVirtPkg/QemuFwCfgLib: extract generic DmaTransferBytes()
    function
  + OvmfPkg/QemuFwCfgLib: add QemuFwCfgSkipBytes()
  + OvmfPkg/QemuFwCfgLib: generalize InternalQemuFwCfgDmaBytes()
    to SKIP op
  + SecurityPkg: Tcg2Dxe: Update PCR[4] measure logic
  + MdePkg: Add definitions for SMBIOS spec 3.1.1
  + OvmfPkg/QemuVideoDxe: Frame buffer config size may change in
    new mode
- Update openssl to 1.0.2k

-------------------------------------------------------------------
Tue Jan 24 04:04:31 UTC 2017 - glin@suse.com

- update to 2017+git1485224553.6671cd7444
  + NetworkPkg: Fix protocol handler service in HttpDxe
  + OvmfPkg: Allow HTTP connections if HTTP Boot enabled
  + NetworkPkg: Add PCD to enable the HTTP connections switch
  + MdePkg: Add definitions for SMBIOS spec 3.1.0 
  + ArmPlatformPkg/NorFlashDxe: Change Flash memory attributes
    before writes
  + MdePkg DxeHobLib: Make GetHobList working before Constructor
    is called
  + NetworkPkg: Add dns support for target URL configuration in
    ISCSI
  + MdeModulePkg/FileExplorer: Enable functionality of creating
    new file/folder
  + OvmfPkg: pull in TLS modules with -D TLS_ENABLE (also enabling
    HTTPS)
  + OvmfPkg: correct the IScsiDxe module included for the IPv6 stack
  + OvmfPkg: always resolve OpenSslLib, IntrinsicLib and
    BaseCryptLib
  + OvmfPkg: Modify QemuFwCfgLib to use new IoLib class library
  + OvmgPkg/PlatformBootManagerLib: Add Debug Agent console
  + OvmfPkg/SmmControl2Dxe: correct PCI_CONFIG_READ_WRITE in S3
    boot script
  + OvmfPkg: Install BGRT ACPI table
  + MdeModulePkg/Bds: Fix a bug that may causes S4 fails to resume
  + MdePkg, MdeModulePkg: S3BootScriptSaveMemPoll(): accept 64-bit
    LoopTimes
  + NetworkPkg/HttpDxe: Fix the potential NULL dereference
  + NetworkPkg/HttpDxe: HTTPS support over IPv4 and IPv6
  + NetworkPkg/TlsAuthConfigDxe: Provide the UI to support TLS
    auth configuration
  + NetworkPkg/TlsDxe: TlsDxe driver implementation over OpenSSL
  + MdePkg: Add TLS related protocol definition
  + MdePkg/MemoryLib: Refine InternalMemSetMem16|32|64 functions
    logic
  + NetworkPkg: Replace ASSERT with error return code in PXE and
    HTTP boot driver
  + MdeModulePkg: Replace ASSERT with error return code in PXE
    driver
  + UefiCpuPkg/Cpuid.h: Update CPUID definitions with SDM (Sep.2016)
  + UefiCpuPkg/Include: Update MSR header files with SDM (Sep.2016)
  + UefiCpuPkg/PiSmmCpuDxeSmm: Always initialze PSD
  + MdeModulePkg/PiSmmCore: MemoryAttributeTable need keep non-PE
    record
  + MdeModulePkg/PiSmmCore: AllocatePool should use MemoryType
  + OvmfPkg/XenHypercallLib: Add EFIAPI
  + OvmfPkg/QemuFwCfgLib: support QEMU's DMA-like fw_cfg access
    method
  + ArmVirtPkg/QemuFwCfgLib: rebase lib instance to updated lib
    class header
  + OvmfPkg/QemuFwCfgLib: extend lib class header with more
    definitions
  + ArmVirtPkg, OvmfPkg: QemuFwCfgLib: move DMA-related defs to lib
    class
  + OvmfPkg/QemuFwCfgLib: move InternalQemuFwCfgIsAvailable() to
    lib instances
  + ArmVirtPkg/QemuFwCfgLib: remove superfluous InternalQemuFwCfgIsAvailable()
  + OvmfPkg: Remove use of IntelFrameworkModulePkg legacy libs
  + UefiCpuPkg/PiSmmCpuDxeSmm: Remove MTRRs from PSD structure
  + UefiCpuPkg/PiSmmCpuDxeSmm: Clear some semaphores on S3 boot
    path
  + ArmPkg/ArmDmaLib: add support for fixed host-to-device DMA
    offset
  + ArmPkg/ArmDmaLib: clean up abuse of device address
  + ArmPkg/ArmDmaLib: fix incorrect device address of double buffer
  + ArmPkg/ArmDmaLib: use DMA buffer alignment from CPU arch
    protocol
  + ArmPkg/ArmMmuLib: support page tables in cacheable memory only
  + UefiCpuPkg/PiSmmCpu: relax superpage protection on page split
  + OvmfPkg/PlatformPei: take VCPU count from QEMU and configure
    MpInitLib
  + UefiCpuPkg/MpInitLib: wait no longer than necessary for initial
    AP startup
- Enable TLS support by default (for HTTPS)

-------------------------------------------------------------------
Tue Nov 29 07:07:40 UTC 2016 - glin@suse.com

- update to 2017+git1480394913.2b2efe3:
  + UefiCpuPkg/PiSmmCpuDxeSmm: handle dynamic
    PcdCpuMaxLogicalProcessorNumber
  + SecurityPkg Tcg2ConfigDxe: Align Attempt TPM Device help with
    options
  + SecurityPkg Tcg2ConfigDxe: Remove BlockSID actions and related
    strings
  + SecurityPkg OpalPasswordDxe: Use PP actions to enable BlockSID
  + SecurityPkg Tcg2PPLib: Support BlockSID related actions
  + MdeModulePkg/NetLib: Handle an invalid IPv6 address case
  + UefiCpuPkg/DxeMpLib: Fix bug when getting target C-State from
    eax
  + UefiCpuPkg/DxeMpLib: Make sure APs in safe loop code
  + UefiCpuPkg/DxeMpLib: Allocate new safe stack < 4GB
  + UefiCpuPkg/DxeMpLib: Get safe AP loop handler from global
    variable
  + ArmPlatformPkg: Fix VE RTSM mem map descriptor count
  + ArmPlatformPkg: Reformat VE Memory Map code
  + ArmPkg: remove the LinuxLoader application
  + MdeModulePkg/SetupBrowser:Don't support password without
    interactive flag
  + MdeModulePkg/DisplayEngine: Popup dialogue when password is
    not supported
  + MdeModulePkg/AtaAtapiPassThru: Ensure GHC.AE bit is always set
    in Ahci
  + MdeModulePkg/Xhci: Add 10ms delay before sending SendAddr cmd
    to dev
  + UefiCpuPkg/PiSmmCpu: Correct exception message
  + UefiCpuPkg: fix feature test for Extended Topology CPUID leaf
  + SecurityPkg DxeTcg2PPLib: Lock Tcg2PhysicalPresenceFlags
    variable on S4
  + MdeModulePkg/DxeNetLib: Allow the IPv4/prefix case when
    AsciiStrToIp4
  + ShellPkg: update ping6 to use timer service instead of timer
    arch protocol
  + MdeModulePkg/DisplayEngine: Return the selectable menu
    correctly
  + SecurityPkg Tcg2Dxe: ASSERT to ensure 'VarData' is not NULL
  + SecurityPkg TcgStorageCoreLib: ASSERT to ensure 'ByteSeq' is
    not NULL
  + UefiCpuPkg/PiSmmCpuDxeSmm: dynamic PcdCpuSmmApSyncTimeout,
    PcdCpuSmmSyncMode
  + MdeModulePkg/PiSmmCore: Cache CommunicationBuffer info before
    using it
  + Check for the max DHCP packet length before use it
  + OvmfPkg: Add 4K PE alignment to enable SMM page level
    protection
  + UefiCpuPkg/PiSmmCpu: Check XdSupport before set NX
  + MdeModulePkg/BdsDxe: Avoid overwriting PlatformRecovery####
  + MdeModulePkg/BdsDxe: Fix bug to run non-first
    PlatformRecovery####
  + PcAtChipsetPkg/PcRtc: Handle NULL table entry in RSDT/XSDT
  + UefiCpuPkg/SecCore: Correct print format for stack information
  + MdeModulePkg/PiSmmCpuDxeSmm: Check RegisterCpuInterruptHandler
    status
  + MdeModulePkg/CpuExceptionHanderLibNull:
    RegisterCpuInterruptHandler()
  + UefiCpuPkg/PiSmmCpuDxeSmm: Add volatile to mNumberToFinish
  + UefiCpuPkg/PiSmmCpuDxeSmm: TransferApToSafeState() use UINTN
    params
  + MdePkg/BaseSynchronizationLib: Fix function names in function
    headers
  + MdePkg/BaseSynchronizationLib: Add volatile Interlocked*() APIs
  + MdePkg/Include: Add volatile to SynchronizationLib parameters
  + UefiCpuPkg/MpInitLib: support 64-bit AP stack addresses
  + UefiCpuPkg/MpInitLib/X64/MpFuncs.nasm: fix fatal typo
  + UefiCpuPkg/MpInitLib/X64/MpFuncs.nasm: remove superfluous
    instruction
  + UefiCpuPkg/DxeMpInitLib: remove duplicate HobLib class
    dependency
  + MdeModulePkg/Include: Add PiSmmMemoryAttributesTable.h
  + MdeModulePkg HiiDatabase: Remove extra memory initialization
  + UefiCpuPkg/PiSmmCpuDxeSmm: Add paging protection
  + UefiCpuPkg/dec: Add PcdCpuSmmStaticPageTable
  + MdeModulePkg/PiSmmCore: Add MemoryAttributes support
  + ArmVirtPkg DxeHobLib: Update func header description of
    BuildFv(2)Hob()
  + IntelFrameworkPkg PeiHobLib: Check FV alignment when building
    FV HOB
  + MdePkg HobLib: Check FV alignment when building FV HOB
  + MdeModulePkg DxeCore: Show error message on unaligned FvImage
    issue
  + MdeModulePkg/Ip4Dxe: Correct the return status
  + MdeModulePkg/Ip4Dxe: Add wrong/invalid subnet check
  + OvmfPkg AcpiTables: Use PcdDebugIoPort to describe QEMU debug
    console
  + MdePkg/BaseLib: Add one wrapper on RdRand access for parameter
    check
  + UefiCpuPkg/MpInitLib: Update AP information when BSP switched
  + UefiCpuPkg/MpInitLib: Program AP stack in fixed address
  + UefiCpuPkg/MpInitLib: Add InitFlag and CpuInfo in
    MP_CPU_EXCHANGE_INFO
  + UefiCpuPkg/MpInitLib: Remove CPU information from CPU_AP_DATA
  + UefiCpuPkg/MpInitLib: Force sending INIT-SIPI-SIPI to reset APs
  + UefiCpuPkg/MpInitLib: Fixed offset error on Cr3Location
  + UefiCpuPkg/PiSmmCpuDxeSmm: Free SmramRanges to save SMM space
  + ShellPkg/dmpstore: Support "-sfo"
  + ArmPkg/Library/ArmDmaLib: Deallocate Map buffer in case of
    error
  + UefiCpuPkg/PiSmmCpuDxeSmm: Decrease mNumberToFinish in AP safe
    code
  + UefiCpuPkg/PiSmmCpuDxeSmm: Place AP to 32bit protected mode on
    S3 path
  + UefiCpuPkg/PiSmmCpuDxeSmm: Put AP into safe hlt-loop code on S3
    path
  + UefiCpuPkg/DxeMpLib: Place APs to suitable state on Legacy OS
    boot
  + UefiCpuPkg/DxeMpLib: Allocate below 4GB mem for
    AsmRelocateApLoopFunc
  + CryptoPkg/BaseCryptLib: Make comments consistent with the
    function
  + OvmfPkg/PlatformBds: Dispatch deferred images after EndOfDxe
  + ArmVirPkg/PlatformBds: Dispatch deferred images after EndOfDxe
  + MdeModulePkg/BdsDxe: Check deferred images before booting to OS
  + UefiCpuPkg/MpInitLib: Do not wakeup AP if only one processor
    supported
  + BaseTools/EfiRom: Fix potential memory leak
  + OvmfPkg/ResetVector: Depend on PCD values of the page tables
  + CryptoPkg: Add HMAC-SHA256 cipher support
  + CryptoPkg: Add xxxxHashAll APIs to facilitate the digest 
    computation
  + NetworkPkg: Fix the wrong Timer event check
  + NetworkPkg: Update IP4 stack drivers for classless address
    unicast check
  + PcAtChipsetPkg/HpetTimerDxe: Fix race condition in
    SetTimerPeriod()
  + OvmfPkg: Make more use of ARRAY_SIZE()
  + rebase to ARRAY_SIZE()
  + ArmPlatformPkg: remove ARM BDS
  + OvmfPkg/XenConsoleSerialPortLib: don't include
    <Uefi/UefiBaseType.h>
  + NetworkPkg: Support bracketed IPv6 address during a redirection
    in iSCSI
  + NetworkPkg: Enhance the code in DNS driver
  + NetworkPkg: Add dns support for pxe boot based on IPv6
  + disable deprecated interfaces
  + OvmfPkg/QemuVideoDxe: drop useless variables
    QEMU_VIDEO_MODE_DATA.RefreshRate
    QEMU_VIDEO_CIRRUS_MODES.RefreshRate
    QEMU_VIDEO_PRIVATE_DATA.CurrentMode
    QEMU_VIDEO_PRIVATE_DATA.LineBuffer
  + ArmVirtPkg: undo bogus component name and driver diagnostics
    disablement
  + NetworkPkg: Record user configured TargetIP/Port in iBFT
- Use GCC5 in Tumbleweed

-------------------------------------------------------------------
Thu Oct 13 07:07:04 UTC 2016 - glin@suse.com

- update to 2017+git1476331065.08354c3:
  + OvmfPkg: add NOOPT build target for source level debugging
  + OvmfPkg: QemuVideoDxe uses MdeModulePkg/FrameBufferLib
  + BaseTools: support the NOOPT target with the GCC tool chains
  + BaseTools Makefile: Enable O2 option for GCC tool chain
  + CryptoPkg/OpensslLib: Upgrade OpenSSL version to 1.0.2j
    (bsc#1013603)
  + MdeModulePkg/Logo: Add LogoDxe module
  + MdeModulePkg/HiiDatabase: Add HiiImageEx implementation
  + MdeModulePkg/PciBusDxe: make OPROM BAR degradation configurable
  + NetworkPkg: Correct the DNS token return status by RCODE
  + BaseTools/EfiRom: supply missing machine type lookup strings
  + ArmVirtPkg: restrict mapping attributes of normal memory to
    EFI_MEMORY_WB
  + OvmfPkg/QemuBootOrderLib: drop too strict "/HD(" suffix from
    vblk prefix (bsc#1009707)
  + NetworkPkg/DnsDxe: Handle CNAME type responded from the name
    server
  + ArmVirtPkg/FdtPciHostBridgeLib: enable 64-bit PCI DMA
  + MdeModulePkg: Support classless IP for DHCPv4 TransmitReceive()
  + ArmVirtPkg: implement FdtPciHostBridgeLib
  + OvmfPkg: Use MdeModulePkg/ResetSystemRuntimeDxe
  + OvmfPkg/VirtioGpuDxe: implement EFI_GRAPHICS_OUTPUT_PROTOCOL
  + include VirtioGpuDxe in the platform DSC/FDF files
  + OvmfPkg/Virtio10Dxe: don't bind virtio-vga
  + OvmfPkg/QemuVideoDxe: don't incorrectly bind virtio-gpu-pci
  + BaseTools/GenFw: ignore dynamic RELA sections 
  + Add implementations of API IsZeroBuffer()
  + ArmVirtPkg: Add Ramdisk support to ArmVirtPkg platforms
  + ArmVirtPkg: Move inclusion of AcpiTableDxe.inf to ArmVirt.dsc.inc 
- Drop upstreamed ArmVirtPkg-Enable-PCI-bus-probing-again.patch

-------------------------------------------------------------------
Wed Sep 14 10:13:49 UTC 2016 - dmueller@suse.com

- update to 2017+git1472049752.ea2f21e:
  + switches git branch from an (outdated) master tree
  to the UDK2017 branch, which provides an insane amount of
  changes. for details please look at https://github.com/tianocore/edk2/commits/UDK2017
- unify build flags with aarch64 build for increased compatibility with
  openSUSE installation medias

-------------------------------------------------------------------
Fri Aug 19 06:30:05 UTC 2016 - glin@suse.com

- Update to 2015+git1471575292.00bcb5c
  + NetworkPkg/IpSecDxe: Fix UEFI IKE Initial Exchange failure
  + MdeModulePkg: Fix potential failure if UseDefaultAddress
    configured
  + OvmfPkg: Add MpInitLib reference in DSC files
  + SecurityPkg: AuthVariableLib: Fix inconsistent CertDB case
  + OvmfPkg: use StatusCode Router and Handler from MdeModulePkg
  + ArmVirtPkg/ArmVirtPrePiUniCoreRelocatable: deal with relaxed
    XIP alignment
  + BaseTools GCC: introduce GCC5 toolchain to support GCC v5.x in
    LTO mode
  + BaseTools GCC: use 'gcc' as the linker command for GCC44 and
    later
  + ArmVirtPkg/ArmVirtPrePiUniCoreRelocatable: ignore .hash and
    .note sections
  + OvmfPkg/Sec: Support SECTION2 DXEFV types
  + Preserve hii section in GCC binaries
  + Fix IPv6 HTTPClient vendor class data
  + CryptoPkg/OpensslLib: Upgrade OpenSSL version to 1.0.2h
  + NetworkPkg: Fix bug in TCP which not sending out ACK in
    certain circumstance
  + OvmfPkg: include UefiCpuPkg/CpuMpPei
  + OvmfPkg/PlatformPei: rebase and resize the permanent PEI memory
    for S3
  + SecurityPkg SecureBootConfigDxe: Add check for the external
    PE/COFF image
  + ArmVirtPkg/PlatformBootManagerLib: remove stale FvFile boot
    options
  + OvmfPkg/PlatformPei: add missing auto variable initialization
  + OvmfPkg: add PciHotPlugInitDxe
  + MdeModulePkg/PciBusDxe: recognize hotplug-capable PCIe ports
  + OvmfPkg/PlatformBootManagerLib: remove stale FvFile boot
    options
  + OvmfPkg: add a Name GUID to each Firmware Volume
  + CryptoPkg BaseCryptLib: Init the content of struct 'CertCtx'
    before use
  + CryptoPkg BaseCryptLib: Avoid passing NULL ptr to function
    BN_bn2bin()
  + MdeModulePkg/Bds: MemoryTypeInformation excludes boot option
    mem use
  + MdeModulePkg: Fix IPv4 stack potential disappeared issue
  + NetworkPkg: Stop the HTTP Boot service after the boot image
    download complete
  + ArmVirtPkg: Re-add the Driver Health Manager
  + OvmfPkg: Re-add the Driver Health Manager
  + ArmVirtPkg/ArmVirtXen: Add ACPI support for Virt Xen ARM
  + Massive conversion of assembly code to NASM
  + MdeModulePkg/UefiBootManagerLib: Fix data in
    MemoryTypeInformation
  + ArmVirtPkg: add FDF definition for empty varstore
  + ArmVirtPkg/ArmVirtQemu: switch secure boot build to NorFlashDxe
  + NetworkPkg: Handling timeout case in httpboot driver
  + NetworkPkg: HttpDxe response/cancel issue fix
  + NetworkPkg: Support TCP Cancel function
  + MdeModulePkg/RamDiskDxe: Add Memory Type selection support in
    Ramdisk HII
  + MdeModulePkg RamDiskDxe: Do not save 'Size' numeric value by
    varstore
  + MdeModulePkg: Fix IPv4 UseDefaultAddress failure case
  + MdeModulePkg/AtaBusDxe: Fix some ATA hard drives cannot be
    discovered
  + ArmVirtPkg/PlatformBootManagerLib: rebase boot logo display to
    BootLogoLib
  + OvmfPkg: set SMM stack size to 16KB
  + OvmfPkg/PlatformBootManagerLib: Connect the Xen drivers before
    loading NvVars
  + MdeModulePkg: Fix SNP.Initialize() spec conformance issue
  + OvmfPkg: raise DXEFV size to 10 MB
  + MdeModulePkg: Stop the timer before clean IP service
  + OvmfPkg/PlatformBootManagerLib: rebase boot logo display to
    BootLogoLib
  + OvmfPkg/SerializeVariablesLib: Relax check for the read-only
    variable
  + OvmfPkg: prevent 64-bit MMIO BAR degradation if there is no CSM
  + OvmfPkg, ArmVirtPkg: rename QemuNewBootOrderLib to
    QemuBootOrderLib
  + MdeModulePkg/PciBus: do not improperly degrade resource
  + NetworkPkg/HttpDxe: Don't free Wrap in HttpTcpReceiveNotifyDpc
  + NetworkPkg/TcpDxe: Remove the status check of
    SockProcessRcvToken
  + UefiCpuPkg/SmmCpuFeaturesLib: Add SMRR PhysBase/PhysMask
    fields check
  + MdeModulePkg: Skip invalid bus number scanning in PciBusDxe
    driver
  + OvmfPkg/PlatformPei: provide 10 * 4KB of PCI IO Port space on
    Q35
  + OvmfPkg: introduce ICH9_PMBASE_VALUE
  + OvmfPkg: replace PcdAcpiPmBaseAddress with PIIX4_PMBA_VALUE
  + OvmfPkg/AcpiTimerLib: don't use possibly unset PMBA register
    (PEI phase)
  + MdeModulePkg: Refine the code for DxeHttpLib
  + OvmfPkg/XenBusDxe: duplicate twice-iterated VA_LIST in
    XenStoreVSPrint()
  + SecurityPkg: Use PcdGet32() to access PcdPeiCoreMaxFvSupported
  + UefiCpuPkg/PiSmmCpuDxeSmm/SmmProfile: Fix BTS support check bug
  + NetworkPkg:HttpDxe: Code changes to support HTTP PUT/POST
    operations
  + CryptoPkg/SmmCryptLib: Enable AES support for SMM
  + MdePkg: Add NFIT definition from ACPI 6.1
  + BaseTools/GenFw: enhance to use Magic Field to identify the
    image
  + MdeModulePkg-DxeCore: rename CoreGetMemoryMapPropertiesTable
  + MdeModulePkg Variable: return error for empty str VariableName
    to GetVariable
  + PcAtChipsetPkg AcpiTimerLib: Fix a logic error
  + MdeModulePkg UiApp: change code for easy customization
  + MdePkg: Add HII definitions from UEFI 2.6
  + NetworkPkg: Make HttpBootGetBootFile return
    EFI_BUFFER_TOO_SMALL
  + MdeModulePkg:DxeHttpLib: Add checks in HttpGenRequestMessage
    API
  + ArmPkg/ArmLib: don't invalidate entire I-cache on range
    operation
  + OvmfPkg/PlatformBootManagerLib: Postpone the shell registration
  + OvmfPkg/QemuNewBootOrderLib: adapt Q35 SATA PMPN to UEFI spec
    Mantis 1353
  + MdeModulePkg Ata: Use the new (incompatible) PortMultiplierPort
    semantics
  + NetworkPkg: Bug fix of iSCSI to support MPIO
- Drop upstreamed patches
  + ovmf-dxe-10mb.patch
  + ovmf-bsc976253-postpone-shell.patch
  + ovmf-bsc980635-fix-http-crash.patch
  + ovmf-bsc982193-dont-restore-readonly-var.patch
  + ovmf-bsc982193-connect-xen-drivers.patch
  + ovmf-bsc990612-update-openssl-1.0.2h.patch
  + ovmf-bsc990773-remove-stale-boot-options.patch
- Update dbxupdate.zip since there are new hashes added into dbx

-------------------------------------------------------------------
Wed Jul 27 04:13:18 UTC 2016 - glin@suse.com

- Update openssl to 1.0.2h (bsc#990612)
  + Add the patch: ovmf-bsc990612-update-openssl-1.0.2h.patch
  + Update the openssl tarball
- Add ovmf-bsc990773-remove-stale-boot-options.patch to remove the
  stale boot options (bsc#990773)

-------------------------------------------------------------------
Tue Jun 14 03:16:27 UTC 2016 - glin@suse.com

- Generate the varstore template for AArch64 (bsc#983747,
  bsc#981836)

-------------------------------------------------------------------
Mon Jun  6 13:20:59 UTC 2016 - jengelh@inai.de

- Keep %prep minimal to shorten quilt setup run.
  Adjust RPM group. Drop redundant 4th defattr argument.

-------------------------------------------------------------------
Fri Jun  3 03:08:39 UTC 2016 - glin@suse.com

- Add ovmf-bsc982193-dont-restore-readonly-var.patch and
  ovmf-bsc982193-connect-xen-drivers.patch to fix the file-based
  NvVars restoring. (bsc#982193) 

-------------------------------------------------------------------
Tue May 24 04:08:49 UTC 2016 - glin@suse.com

- Add the commands to remove irrelevant packages in %prep to make
  sure those source code will never build. (bsc#973038)

-------------------------------------------------------------------
Fri May 20 09:16:49 UTC 2016 - glin@suse.com

- Add ovmf-bsc980635-fix-http-crash.patch to fix the crash when
  downloading files from the http server (bsc#980635)

-------------------------------------------------------------------
Wed May 11 07:39:16 UTC 2016 - glin@suse.com

- Update to 2015+git1462940744.321151f
  + BaseTools: Fix bug in GenFds to handle FV image alignment
  + SecurityPkg: SecureBootConfigDxe: Add NULL pointer check
  + OvmfPkg/PciHostBridgeLib: Scan for root bridges when running
    over Xen
  + OvmfPkg/PciHostBridgeLib: Change InitRootBridge prototype
  + MdeModulePkg/PciHostBridgeDxe: Honor ResourceAssigned
  + OvmfPkg/PciHostBridgeLib: Set correct Base/Limit for absent
    resource 
  + MdeModulePkg/PciHostBridgeDxe: Fix a Base/Limit comparing bug
  + MdeModulePkg/PciHostBridgeDxe: Don't miss prefetchable MMIO
    aperture
  + ArmVirtPkg: set PcdMaxVariableSize and PcdMaxAuthVariableSize
  + ArmPkg/AArch64Mmu: don't let table entries inherit XN
    permission bits
  + ArmPkg/ArmDmaLib: do not remap arbitrary memory regions as
    uncached 
  + ArmPkg/ArmDmaLib: reject consistent DMA mappings of cached
    memory
  + MdeModulePkg/PciSioSerialDxe: Do not flush the UART
  + MdeModulePkg RamDiskDxe: Fix wrong HII behavior for more than 8
    RAM disks
  + OvmfPkg: Modify FDF/DSC files for RamDiskDxe's adding NFIT
    report feature
  + MdeModulePkg RamDiskDxe: Report ACPI NFIT for reserved memory
    RAM disks
  + ArmVirtPkg/ArmVirtQemu: use MdeModulePkg/BDS
  + Ignore BootFileName if it is overloaded (HTTP Boot/PXE)
  + NetworkPkg: Fix a memory leak in HTTP boot driver
  + NetworkPkg/HttpBootDxe: Fix for the issue that the HTTP boot
    option can't be booted more than once
  + deModulePkg NvmExpressDxe: Initialize IoAlign info for an NVMe
    device
  + MdeModulePkg: Refine SNP driver's media status check logic
  + MdeModulePkg: ScsiDiskDxe: cope with broken "Supported VPD Pages"
    VPD page
  + MdeModulePkg FileExplorerLib: Add UefiHiiServicesLib dependency
  + SecurityPkg: SecureBootConfigDxe: Disable SecureBoot
    Enable/Disable in some case
  + Do not use hard coded TTL/ToS in PXE driver
  + NetworkPkg: Use UefiBootManagerLib API to create load option
  + Remove DeployedMode/AuditMode
  + OvmfPkg: Use MdeModulePkg/BDS
  + ArmPlatformPkg/PrePi: allow unicore version to be used on MP
    hardware
  + ArmPkg: implement CpuIo2 protocol driver specific for PCI
  + ArmPlatformPkg: move PCI related PCD definitions to ArmPkg
  + MdeModulePkg/DxeCore: set ImageContext Handle and ImageRead()
    fields
  + MdeModulePkg/PciBusDxe: don't create bogus descriptor if no
    resources needed
  + MdeModulePkg: Add new driver to publish EDKII_PI_SMM_COMMUNICATION_REGION_TABLE
  + SecuritPkg: DxeImageVerificationLib: Fix wrong verification
    logic in DBX & DBT
  + UefiCpuPkg/MtrrLib: Reduce the loop time to get fixed-MTRR MSR
    index
  + MdeModulePkg: PiDxeS3BootScriptLib: honor PcdAcpiS3Enable
  + NetworkPkg: Fix incorrect buffer free in HttpDxe
  + NetworkPkg: Avoid the indefinite wait case in HttpDxe
  + MdeModulePkg: DxeCore MemoryPool Algorithm Update
  + MdeModulePkg: Export ConfigResp only for form Package after
    ReadyToBoot
  + NetworkPkg:HttpDxe:Consume DxeHttpLib API changes
  + MdeModulePkg:DxeHttpLib: Update to DxeHttpLib API
  + NetworkPkg: Allow user to create a HTTP corporate boot option
    in setup page
  + MdePkg:Http11.h: Add defines for "Expect" header
  + BaseTools: Update FMP Capsule support to follow FDF spec
  + OvmfPkg: SataControllerDxe: SataControllerStop: fix use after
    free
  + OvmfPkg: SataControllerDxe: SataControllerStop: remove useless
    null check
  + MdeModulePkg DxeCore: Check free memory type by CoreUpdateProfile()
  + MdeModulePkg/NvmExpress: Fix bug of handling not
    null-terminated strings
  + ShellPkg: Enahance 'dh' command to add more protocols decoding
    support
  + MdeModulePkg/DxeCore: Avoid assertion in CoreLocateProtocol
  + MdeModulePkg: Correct PlatformHookLibSerialPortPpi module type
  + FatPkg: Update License.txt to have the full license text
  + refine codes of iSCSI driver
  + MdeModulePkg DxeCore: Enhance MemoryAttributesTable installation
  + MdeModulePkg DxeCore: Return memory type from internal free
    pool/pages
  + MdeModulePkg DxeCore: Fix a memory leak in
    InstallMemoryAttributesTable()
  + MdeModulePkg DxeCore: Call PeCoffExtraActionLib member after
    Constructor
  + MdeModulePkg/Usb: Fix wrong condition judgment to support
    usb3.1 dev
  + MdeModulePkg/UsbKbDxe: don't assert when the key read is
    invalid
  + BaseTools: Add mixed PCD support feature
  + OvmfPkg: AcpiPlatformDxe: Don't enable unsupported PCI
    attributes
  + MdeModulePkg/HiiDatabaseDxe: Support EfiVarStore to get AltCfg
    from Driver
  + MdeModulePkg/HiiDatabaseDxe: Correct the ReallocatePool size
  + MdeModulePkg/SetupBrowserDxe: Get default from callback for
    orderedList
  + SecurityPkg: AuthVariableLib & SecureBootConfigDxe:
    Fix SecureBootEnable & PK inconsistency issue
  + ShellPkg: Update ping command options to sync with Spec
  + MdeModulePkg NvmExpressDxe: Ensure write-through for NVMe write
    command
  + ShellPkg: Cache the environment variable into memory to enhance
    the performance.
  + BaseTools: Update to handle PE image with .code section only
  + ArmPkg/AArch64Mmu: disable MMU during page table manipulations
  + ArmPkg/AArch64Mmu: Fix XN attribute for device memory
  + NetworkPkg: Fix issue in Ip6Dxe SetData
- The updated tarball includes the PCI host bridge fix for Xen
  (bsc#976253)
- Add ovmf-dxe-10mb.patch to raise DXEFV to 10MB to avoid build
  error.
- Add ovmf-bsc976253-postpone-shell.patch to postpone the creation
  of the shell boot option so that the firmware will try the block
  devices first. (bsc#976253)
- Update README for Xen debugging.

-------------------------------------------------------------------
Thu Apr 21 11:21:59 UTC 2016 - agraf@suse.com

- Add patch to enable PCI BAR probing on ARM again:
  * ArmVirtPkg-Enable-PCI-bus-probing-again.patch

-------------------------------------------------------------------
Fri Apr 15 01:58:59 UTC 2016 - glin@suse.com

- Change the fat driver license to the BSD license in FatPkg
  instead of the proprietary license in FatBinPkg since OvmfPkg and
  ArmVirtPkg now use FatPkg (bsc#973038)

-------------------------------------------------------------------
Thu Apr 14 03:39:34 UTC 2016 - glin@suse.com

- Update to 2015+git1460599637.f70cfe7
  + MdeModulePkg S3SaveStateDxe: Add protocol usage for gEfiLockBoxProtocolGuid
  + ArmVirtPkg/VirtFdtDxe: remove Xenio handling and rename to VirtioFdtDxe
  + ArmVirtPkg/ArmVirtXen: move from VirtFdtDxe to new XenioFdtDxe driver
  + OvmfPkg/XenIoMmioLib: add missing MemoryAllocationLib dependency to INF
  + ArmVirtPkg/VirtFdtDxe: move FDT config table installation to FdtClientDxe
  + ArmVirtPkg/VirtFdtDxe: remove unused PL011 DT node type
  + ArmVirtPkg: get rid of A PRIORI DXE declarations for VirtFdtDxe
  + ArmVirtPkg/VirtFdtDxe: drop RTC handling
  + ArmVirtPkg: move QEMU based platforms to ArmVirtPL031FdtClientLib
  + ArmVirtPkg: implement ArmVirtPL031FdtClientLib
  + ArmVirtPkg/RelocatableVirtHelper: use correct FindMemNode argument order
  + IntelFrameworkModulePkg: Remove unused PCD/Protocol
  + IntelFrameworkModulePkg/KeyboardDxe: Use PCD defined in MdeModulePkg
  + IntelFrameworkModulePkg/Ps2Mouse: Use PCD defined in MdeModulePkg
  + IntelFrameworkModulePkg/Ps2AbsPointer: Use PCD defined in MdeModulePkg
  + IntelFrameworkModulePkg/Ps2Kbd: use PCD/Protocol in MdeModulePkg
  + MdeModulePkg/MdeModulePkg.uni: Add PS2 related PCD description
  + MdeModulePkg/Ps2MouseDxe: Use a different FILE_GUID
  + MdeModulePkg/Ps2KeyboardDxe: Use a different FILE_GUID
  + MdeModulePkg/Ps2Mouse: Fix potential buffer overflow issue.
  + MdeModulePkg: Update Guid/Protocol usages in INF files.
  + ShellPkg: Update Guid/Protocol usages in INF files.
  + SecurityPkg: Update protocol usage in module INF files.
  + MdePkg: Add EFI Erase Block Protocol definitions
  + MdeModulePkg/Ps2MouseDxe: Fix build failure of GCC tool chain
  + ArmVirtPkg/VirtFdtDxe: drop PCI host bridge handling
  + ArmVirtPkg/PciHostBridgeDxe: move to FDT client protocol
  + ArmVirtPkg/BaseCachingPciExpressLib: depend on PciPcdProducerLib
  + ArmVirtPkg: implement FdtPciPcdProducerLib
  + ArmVirtPkg/VirtFdtDxe: remove handling of fw_cfg DT node
  + ArmVirtPkg/QemuFwCfgLib: move to FDT client protocol
  + BaseTools: use unsigned chars on ARM architectures
  + BaseTools: generate hash value in build report for each output EFI image
  + BaseTools/VolInfo: generate HASH value for each PE image
  + ArmVirtPkg/VirtFdtDxe: remove timer DT node handling
  + ArmVirtPkg: move TimerDxe to FDT client library
  + ArmVirtPkg: implement ArmVirtTimerFdtClientLib
  + ArmVirtPkg/VirtFdtDxe: drop detection of PSCI method
  + ArmVirtPkg/ArmVirtPsciResetSystemLib: move to FDT client protocol
  + ArmVirtPkg/VirtFdtDxe: remove GIC discovery
  + ArmVirtPkg/ArmGicArchLib: move to FdtClient protocol
  + ArmVirtPkg: add FdtClientDxe to the ArmVirtPkg platforms
  + ArmVirtPkg/FdtClientDxe: implement new driver
  + ArmVirtPkg: introduce FdtClientProtocol
  + UefiCpuPkg: CpuIo2Dxe: optimize FIFO reads and writes of IO ports
  + MdeModulePkg: Update PerformanceLib instances not to check Identifier.
  + MdePkg: Update PerformanceLib comments not to check Identifier.
  + Update edksetup.bat to check EDK_TOOLS_PATH before set it.
  + MdeModulePkg/Ps2Keyboard: Add missing PCD and protocol to DEC file
  + UefiCpuPkg/CpuMpPei: Fix potential AP mwait wakeup issue
  + NetworkPkg: Add RAM disk boot support to HTTP Boot driver.
  + ShellPkg: Fix Shell ASSERT when mv file with cwd is NULL.
  + MdeModulePkg BootScriptExecutorDxe: Consume PcdAcpiS3Enable to control the code
  + MdeModulePkg SmmS3SaveStateDxe: Consume PcdAcpiS3Enable to control the code
  + MdeModulePkg: Add new macros and refine codes
  + NetworkPkg: Add new macros and refine codes
  + MdeModulePkg: Add Ps2MouseDxe driver
  + MdeModulePkg: Add Ps2KeyboardDxe driver.
  + MdeModulePkg/UefiBootManagerLib: API BmIsValidLoadOptionVariableName
  + SecurityPkg OpalPasswordDxe: Clean up debug message in OpalHii.c
  + SecurityPkg TcgStorageOpalLib: Fix wrong condition judgment.
  + SecurityPkg OpalPasswordDxe: Suppress option for special device.
  + OvmfPkg: remove PciHostBridgeDxe fork
  + OvmfPkg: remove USE_OLD_PCI_HOST build option
  + OvmfPkg: Convert to using FatPkg in the EDK II tree
  + ArmVirtPkg: Convert to build FatPkg from source
  + ArmVirtPkg: drop dependency on PeiPcdLib for PEI Pcd.inf
  + ArmVirtPkg: drop dependency on DxePcdLib for DXE Pcd.inf
  + IntelFrameworkModulePkg AcpiS3SaveDxe: Remove S3Ready() functional code
  + IntelFrameworkModulePkg AcpiS3SaveDxe: Consume PcdAcpiS3Enable to control the code
  + OvmfPkg: Retire AcpiS3SaveDxe
  + MdeModulePkg S3SaveStateDxe: Move S3Ready() functional code from AcpiS3SaveDxe
  + MdeModulePkg S3SaveStateDxe: Consume PcdAcpiS3Enable to control the code
  + OvmfPkg: Install LockBox protocol in constructor of LockBoxDxeLib
  + OvmfPkg: Set PcdAcpiS3Enable according to QemuFwCfgS3Enabled()
  + MdeModulePkg: Introduce new PCD PcdAcpiS3Enable
  + ArmVirtPkg: drop bogus ArmPlatformSecExtraActionLib resolution
  + ArmVirtPkg: remove linux loader from ARM builds
  + Merge 2-clause BSD licensed FatPkg
  + BaseTools: Add support to merge Prebuild and Postbuild into build Process
  + BaseTools: Enhance --Pcd which override by build option
  + MdeModulePkg/Bds: Fix build failures of VS tool chain
  + OvmfPkg: disable PcdHiiOsRuntimeSupport
  + OvmfPkg: remove PcdMaxHardwareErrorVariableSize from the DSC files
  + ArmVirtPkg: include Virtio10Dxe from OvmfPkg
  + OvmfPkg: include Virtio10Dxe
  + OvmfPkg: Virtio10Dxe: non-transitional driver for virtio-1.0 PCI devices
  + OvmfPkg: VirtioNetDxe: adapt virtio-net packet header size to virtio-1.0
  + OvmfPkg: VirtioScsiDxe: adapt feature negotiation to virtio-1.0
  + OvmfPkg: VirtioRngDxe: adapt feature negotiation to virtio-1.0
  + OvmfPkg: VirtioNetDxe: adapt feature negotiation to virtio-1.0
  + OvmfPkg: VirtioBlkDxe: adapt feature negotiation to virtio-1.0
  + OvmfPkg: VirtioLib: add Virtio10WriteFeatures() function
  + OvmfPkg: IndustryStandard: add definitions from the VirtIo 1.0 spec
  + OvmfPkg: IndustryStandard: factor out Virtio095Net.h
  + OvmfPkg: IndustryStandard: factor out Virtio095.h
  + OvmfPkg: VirtioRngDxe: clear all feature bits more explicitly
  + OvmfPkg: VirtioBlkDxe: don't clear non-negotiable feature bits
  + OvmfPkg: VIRTIO_DEVICE_PROTOCOL: pass VRING object to SetQueueAddress()
  + OvmfPkg: VIRTIO_DEVICE_PROTOCOL: remove GetQueueAddress() member
  + OvmfPkg: VIRTIO_DEVICE_PROTOCOL: widen the Features bitmap to 64 bits
  + MdeModulePkg/Bds: Fix a boot hang due to Ram Disk boot support
  + BaseTools: cache the defined Guid tool to improve the performance
  + MdeModulePkg/Bds: Memory Bins don't count the memory used by RAM Disk
  + MdeModulePkg/Bds: Free resources after ram disk boot finishes
  + MdeModulePkg/Bds: Allocate reserved memory for RAM Disk boot media
  + SecurityPkg OpalPasswordSupportLib: Add comments for the used protocol in inf file.
  + SecurityPkg OpalPasswordSupportLib: Remove the hard code debug build option.
  + SecurityPkg OpalPasswordSupportLib: Fixed gcc build failure.
  + SecurityPkg TcgStorageOpalLib: Fixed gcc build failure.
  + SecurityPkg OpalPasswordDxe: Check the pointer before use it.
  + SecurityPkg TcgStorageOpalLib: Remove the hard code debug build option.
  + SecurityPkg OpalPasswordDxe: Remove the hard code debug build option.
  + SecurityPkg OpalPasswordSmm: Remove the hard code build option.
  + MdePkg Cper.h: Add missing structure for 'Processor Error Record'
  + SourceLevelDebugPkg/SmmDebugAgent: mMailboxPointer is used before set
  + MdePkg/MdePkg.uni: Add description for PcdUartDefaultReceiveFifoDepth
  + MdePkg/BaseSynchronizationLib: Add spin lock alignment for IA32/x64
  + MdePkg/BaseSynchronizationLib: Do not check timeout if lock released
  + BaseTools/GenFds: Fix the bug for wrong alignment generate for RAW file
  + MdeModulePkg/UiApp: Correct the total RAM calculation
  + IntelFrameworkModulePkg/Bds: Correct the total RAM calculation
  + MdeModulePkg: DxeUdpIoLib: fix non-empty payload path in UDP reception
  + OvmfPkg: Add RAM disk support
  + ArmPkg/ArmArchTimerLib: correct typos
  + ArmPkg/ArmArchTimerLib: fix unused variable in RELEASE builds
  + EmbeddedPkg/AcpiLib: fix SBSA Generic Watchdog helper definition
  + ArmPlatformPkg: Add PCD for Pl011 UART Interrupt
  + MdePkg: Add ARM Serial Port Subtypes to DBG2
  + MdePkg: Add ARM Serial Port Subtype definitions
  + ArmVirtPkg: disable PcdHiiOsRuntimeSupport
  + ArmPkg/ArmArchTimerLib: add GetTimeInNanoSecond() to ArmArchTimerLib
  + ArmPkg/ArchArmTimerLib: refactor MultU64xN and TimerFreq definitions
  + NetworkPkg: Check received packet size before use it.
  + MdeModulePkg: Check received packet size before use it.
  + NetworkPkg: Check pointer for NULL before use.
  + Revert "TerminalDxe: select the UART's default receive FIFO depth"
  + ArmVirtPkg/ArmVirtQemu: gate FDT config table install with build option
  + ArmVirtPkg/VirtFdtDxe: make installation of FDT as config table optional
  + MdeModulePkg RamDiskDxe: Fix incorrect RAM disk memory address calculation
  + MdeModulePkg EmmcDxe: Fix GCC build failure with set but unused variables
  + SecurityPkg: Tcg2Dxe: Fix undersized TempBuf
  + MdeModulePkg/UefiBootManagerLib: BmGetActiveConsoleIn code cleanup
  + MdeModulePkg/SdMmc: Add EDKII SD/MMC stack
  + MdePkg/IndustryStandard: Add SD/EMMC common definitions
  + MdePkg/DevicePath: Add EMMC device path definition
  + MdePkg: Add EFI_SD_MMC_PASS_THRU_PROTOCOL definition
  + UefiCpuPkg/Cpuid.h: Display Intel SGX Resource Enumeration Leaves
  + UefiCpuPkg/Cpuid.h: Add CPUID defines and structures for Intel SGX
  + ShellPkg: Refine the comparisons code in ShellPkg.
  + MdeModulePkg PartitionDxe: Add Re-entry handling logic for BindingStop
  + SecurityPkg: Enable Opal password solution build.
  + SecurityPkg: OpalPasswordSmm: Add Opal password Smm driver.
  + SecurityPkg: OpalPasswordDxe: Add Opal password dxe driver.
  + SecurityPkg: OpalPasswordSupportLib: Add Opal password support library.
  + SecurityPkg: TcgStorageOpalLib: Add TCG storage opal library.
  + SecurityPkg: TcgStorageCoreLib: Add TCG storage core library.
  + MdePkg: Add definition for TCG Storage Core and Opal specs.
  + BaseTools: Add two new sections for PCD in the build report
  + MdeModulePkg/SerialDxe: Set FIFO depth with PCD
  + MdePkg: Add PCD for UART default receive FIFO depth
  + MdeModulePkg DiskIoDxe: Media status check not be done at DiskIo level
  + MdeModulePkg PartitionDxe: Some ISO images cannot be recognized properly
  + MdeModulePkg ScsiDiskDxe: Fix hang issue when reconnecting an ISCSI device
  + PcAtChipsetPkg/PciHostBridge: Remove PciHostBridge driver
  + ShellPkg/UefiDpLib: Fix a memory leak issue in Dp.
  + PerformancePkg/Dp_App: Fix a memory leak issue in Dp.
  + BaseTools: Remove the unnecessary check for RAW File
  + BaseTools: generate alignment when the FV content come from the filesystem
  + BaseTools: Extend the RAW format to support multiple binary files
  + ShellPkg AARCH64: remove DEBUG BuildOptions override
  + BaseTools AARCH64: move DEBUG GCC49 to the small code model
  + OvmfPkg: Increase the maximum size for Authenticated variables
  + BaseTools/GCC: set -Wno-unused-but-set-variables only on RELEASE builds
  + UefiCpuPkg: CpuMpPei: remove set but unused variables
  + UefiCpuPkg: PiSmmCpuDxeSmm: remove set but unused variables
  + UefiCpuPkg/MtrrLib: remove unused but set variable
  + NetworkPkg: IpSecDxe: remove set but unused variables
  + MdeModulePkg: DeviceManagerUiLib: remove set but unused variables
  + MdeModulePkg: BootMaintenanceManagerUiLib: remove set but unused variables
  + MdeModulePkg: UfsPassThruDxe: remove set but unused variables
  + MdeModulePkg: BootManagerMenuApp: remove set but unused variables
  + MdeModulePkg/PciHostBridgeDxe: remove unused but set variables
  + IntelFspWrapperPkg: PeiFspHobProcessLibSample: remove set but unused variables
  + IntelFrameworkModulePkg: LegacyBootMaintUiLib: remove set but unused variables
  + IntelFrameworkModulePkg: DxeCapsuleLib: remove set but unused variables
  + IntelFrameworkModulePkg: BiosVideo: remove set but unused variable
  + EmulatorPkg: CpuRuntimeDxe: remove set but unused variables
  + EdkCompatibilityPkg: SmmBaseHelper: remove set but unused variables
  + EdkCompatibilityPkg: EdkIIGlueLib: remove set but unused variables
  + EdkCompatibilityPkg: BsSerialStatusCode: remove set but unused variable
  + EdkCompatibilityPkg: UefiEfiIfrSupportLib: remove set but not used variables
  + ArmPkg|EmbeddedPkg: make PcdCpuVectorBaseAddress 64 bits wide
  + ArmPlatformPkg: fixups for 64-bit pointers
  + ArmPkg: apply Cortex-A57 errata
  + NetworkPkg:Fix bug when parsing the dhcp6 option 16
  + NetworkPkg:Fix Http boot download issue.
  + ShellPkg/UefiHandleParsingLib: Fix GUID reference
  + BaseTools: Updated BuildNotes URLs
  + MdeModulePkg/RamDiskDxe: Fix typo in HII message
  + SecurityPkg/SecureBootConfigDxe: Remove type casting from the ChooseFile handlers
  + SecurityPkg/SecureBootConfigDxe: Declare EFIAPI for the ChooseFile handlers
  + ShellPkg/UefiShellDebug1CommandsLib: remove unused but set variable
  + MdeModulePkg/PciBus: Should reserve enough bus number for HPC
  + MdeModulePkg/Bds: Fix VS2012 build failure.
  + ShellPkg: Modify the 'dh' Shell command to dump the Firmware Management Protocol Image Descriptor Information.
  + MdePkg: Move SMBIOS data into the IndustryStandard header.
  + ShellPkg: Make the USB mouse behavior in 'edit' consistent with 'hexedit'.
  + NetworkPkg: Fix HII related problem in HTTP boot driver.
  + MdeModulePkg/FileExplorerLib.h: Remove the redefinition of typedefs
  + OvmfPkg: PciHostBridgeLib: install 64-bit PCI host aperture
  + OvmfPkg: PlatformPei: determine the 64-bit PCI host aperture for X64 DXE
  + OvmfPkg: PlatformPei: factor out GetFirstNonAddress()
  + OvmfPkg: AcpiPlatformDxe: enable PCI IO and MMIO while fetching QEMU tables
  + OvmfPkg: AcpiPlatformDxe: when PCI is enabled, wait for Platform BDS's cue
  + ArmVirtPkg: PlatformIntelBdsLib: signal gRootBridgesConnectedEventGroupGuid
  + OvmfPkg: PlatformBdsLib: signal gRootBridgesConnectedEventGroupGuid
  + OvmfPkg: introduce gRootBridgesConnectedEventGroupGuid
  + OvmfPkg: OvmfPkg.dec: add horizontal whitespace under Guids and Protocols
  + OvmfPkg/PlatformBdsLib: rebase to EfiEventGroupSignal
  + ArmVirtPkg/PlatformIntelBdsLib: rebase to EfiEventGroupSignal
  + IntelFrameworkPkg/FrameworkUefiLib: implement EfiEventGroupSignal
  + IntelFrameworkPkg/FrameworkUefiLib: move InternalEmptyFunction to UefiLib.c
  + MdePkg/UefiLib: introduce EfiEventGroupSignal
  + MdePkg/UefiLib: move InternalEmptyFunction to UefiLib.c
  + BaseTools: not include the undefined macro in response file
  + MdeModulePkg/BootMaintenanceManagerUiLib: Remove type casting in ChooseFile
  + MdeModulePkg/BootMaintManagerUiLib: Declare EFIAPI for ChooseFile handler
  + MdeModulePkg RamDiskDxe: Remove unnecessary TPL raise operations
  + MdeModulePkg RamDiskDxe: Uninstall DEVICE_PATH_PROTOCOL with correct param
  + MdeModulePkg RamDiskDxe: Remove unnecessary 'DisconnectController' calls
  + MdeModulePkg/Bds: BDS hotkey shouldn't work on inactive consoles
  + ArmPkg/AArch64Mmu: use correct AP[] bits in ArmClearMemoryRegionReadOnly
  + ArmPkg/ArmExceptionLib: reimplement register stack/unstack routines
  + ArmPkg/ArmExceptionLib: avoid indirect call if using vector table in place
  + ArmPkg/ArmExceptionLib: make build time define visible to the compiler
  + ArmPkg/ArmExceptionLib: don't restore ESR and FAR upon exception return
  + ArmPkg/ArmExceptionLib: stack FPSR on common path
  + ArmPkg/ArmExceptionLib: fold exception handler prologue into vector table
  + ArmPkg/AsmMacroIoLibV8: remove undocumented assumption from ELx macros
  + BaseTools: Fix nmake failure due to command-line length limitation
  + MdePkg/Pci22.h: Fix a coding style issue
  + MdeModulePkg DxeCore: Address boundary check for Type AllocateAddress
  + MdeModulePkg DxeCore: Check Start consistently in CoreConvertPagesEx
  + OvmfPkg/PlatformPei: suppress wrong VS2008 warning (use of uninited local)
  + MdeModulePkg PlatformVarCleanupLib: Locate VarCheck protocol when using
  + ArmPkg: update CpuDxe to use CpuExceptionHandlerLib
  + ArmVirtPkg/ArmVirtQemu: move to ARM version of CpuExceptionHandlerLib
  + ShellPkg: Remove the unused local variable.
  + MdeModulePkg: Fixed incorrect return value of MatchString
  + MdeModulePkg: ConSplitterDxe: use U64 mult/div wrappers in AbsPtr scaling
  + ArmPkg: ARM/AArch64 implementation of CpuExceptionHandlerLib
  + ArmPkg/ArmLib: add ArmReadHcr to enable read-modify-write of HCR
  + MdeModulePkg: Rescale ConSplitter Absolute Pointer.
  + ShellPkg: Per UEFI Shell 2.2 SPEC to make Shell supports 'NoNesting'.
  + NetworkPkg: Fix the driver model issue in HTTP Boot driver.
  + MdeModulePkg: Coding style update for DxeHttpLib.inf
  + IntelFrameworkModulePkg/LegacyBootMaintUiLib: Refine the code
  + MdeModulePkg: Refine the UI code
  + MdeModulePkg/DriverSampleDxe: Uninstall the ConfigAccess protocol
  + BaseTools: add new command line option to support override PCD value
- The fix for bsc#973625 is also included in the update tarball
- Remove upstreamed patches:
  ovmf-fix-choose-handlers-crash.patch
  ovmf-fix-httpboot-driver-option-16.patch
  ovmf-fix-httpboot-driver-model.patch

-------------------------------------------------------------------
Fri Apr  1 08:31:57 UTC 2016 - glin@suse.com

- Add ovmf-fix-httpboot-driver-option-16.patch to fix the parsing
  of DHCPv6 option 16

-------------------------------------------------------------------
Wed Mar 23 09:22:25 UTC 2016 - glin@suse.com

- Add ovmf-fix-choose-handlers-crash.patch to fix the crash while
  selecting files from BootMaintenanceManager and SecureBootConfig

-------------------------------------------------------------------
Wed Mar 16 02:52:06 UTC 2016 - glin@suse.com

- Update to 2015+git1458029440.db27e9f
  + OvmfPkg/LegacyRegion: Support legacy region manipulation of Q35
  + CryptoPkg: Fix the potential system hang issue
  + CryptoPkg/OpensslLib: Upgrade OpenSSL version to 1.0.2g
  + ArmVirtPkg/VirtFdtDxe: set /chosen/linux,pci-probe-only to 1
    in DTB
  + OvmfPkg: match PCI config access to machine type
    (if not USE_OLD_PCI_HOST)
  + OvmfPkg: add DxePciLibI440FxQ35
  + OvmfPkg: Enable Network2 Shell Commands for IPv6
  + MdeModulePkg AcpiTableDxe: Use Rsdt to check against NULL
  + MdePkg: Fix ACPI NFIT GUID definitions
  + NetworkPkg: Add URI configuration form to HTTP boot driver 
  + CryptoPkg/OpensslLib: Switch to upstream fix for OpenSSL
    RT#3628, RT#3674, RT#3951, RT#3955, RT#3964, RT#3969, RT#3992,
    RT#4175, RT#4310
  + CryptoPkg/OpensslLib: Include complete copy of opensslconf.h
  + SecurityPkg/SecureBootConfigDxe: Handle allocation failure
    gracefully
  + MdeModulePkg/Bds: Support booting from remote file system
  + MdeModulePkg/Bds: Wide match HTTP boot option
  + MdeModulePkg: Fix IPv4 double free
  + UefiCpuPkg: Add dynamic type for PcdCpuMaxLogicalProcessorNumber
  + ArmPkg: Configure TTBCR register
  + OvmfPkg: switch to MdeModulePkg/Bus/Pci/PciHostBridgeDxe
  + MdeModulePkg: PciHostBridgeDxe: don't assume extended config
    space
  + ShellPkg: Update 'ifconfig -r' implementation
  + NetworkPkg: Change the default IPv6 config policy
  + MdeModulePkg: Change the default IPv4 config policy
  + OvmfPkg: copy log level comments from DebugLib.h
  + ArmVirtPkg: sync log level comments to DebugLib.h
  + MdeModulePkg: DxeCore: fully initialize image context before
    passing it on
  + MdeModulePkg/NvmExpress: Fix uninitialized field used in NVMe
    DiskInfo
  + MdeModulePkg: Add new API HttpUrlGetPath() to HttpLib.h
  + MdeModulePkg: Add RamDiskDxe driver implementation
  + SecurityPkg: Tcg2Smm: Change TPM2.0 MMIO range attribute
  + MdeModulePkg:Fix a robustness issue of Mnp Driver
  + MdeModulePkg: RegularExpressionDxe: support free(NULL)
  + MdeModulePkg/PciHostBridge: Don't assume resources are fully
    NonExistent
  + SecurityPkg: Use FileExplorerLib in SecureBootConfigDxe
  + MdeModulePkg: Add ASSERT to make sure pointer 'OptionalData'
    not be NULL
  + MdeModulePkg: Add ASSERT to make sure pointer 'MemoryMap' is
    not NULL
- Update openssl to 1.0.2g
- Add ovmf-fix-httpboot-driver-model.patch to fix the crash caused
  by the httpboot driver.

-------------------------------------------------------------------
Wed Mar  2 04:47:55 UTC 2016 - glin@suse.com

- Add ovmf-tools to package EfiRom (FATE#319531)

-------------------------------------------------------------------
Fri Feb 26 03:19:11 UTC 2016 - glin@suse.com

- Update to 2015+git1456452471.ba33c80
  + CryptoPkg: RuntimeCryptLib: support realloc(NULL, size)
  + CryptoPkg: support free(NULL)
  + MdePkg: Add EFI RAM Disk Protocol definitions
  + MdePkg: Update Http11 with additional useful definitions
  + NetworkPkg: Use Http11 definitions in HttpDxe and HttpBootDxe
  + Add new HII action type EFI_BROWSER_ACTION_SUBMITTED
  + UefiCpuPkg/Cpuid: Add UEFI CPUID application
  + BaseTools/tools_def.txt: Add -march=i586 for IA32 GCC targets
  + MdeModulePkg: Fix Memory Attributes table type issue
  + MdePkg: Add definition for new warning code
    EFI_WARN_FILE_SYSTEM
  + OvmfPkg: add driver for Virtio-RNG device
  + ArmVirtPkg: ArmVirtQemu: add driver for Virtio-RNG device
  + OvmfPkg: implement UEFI driver for Virtio RNG devices
  + OvmfPkg: VirtioFlush(): return the number of bytes written by
    the host
  + ArmPlatformPkg/IntelBds: call BdsLibConnectAll()
  + ArmVirtPkg/ArmVirtQemu: limit ACPI support to v5.0 and higher
  + MdeModulePkg: AcpiTableDxe: make 4 GB table allocation limit
    optional
  + ShellPkg: Support finding help message embedded in resource
    section
  + MdeModulePkg/UsbBusDxe: Fix memory leak
  + MdePkg: BaseLib: fix AArch64 DAIF interrupt mask definitions
  + ArmPkg: CpuDxe: don't track interrupt state in a global
    variable
  + ArmPkg: CpuDxe: fix AArch64 interrupt read masks
  + MdeModulePkg: Refine the code in BootMaintenanceManagerUiLib
  + MdeModulePkg: HiiDatabaseDxe: HiiStringToImage() should not
    overwrite BltX
  + CryptoPkg/OpensslLib: Upgrade OpenSSL version to 1.0.2f
  + UefiCpuPkg/PiSmmCpuDxeSmm: Enable/Restore XD in SMM
  + UefiCpuPkg/PiSmmCpuDxeSmm: Add EFIAPI to CheckFeatureSupported()
  + ArmVirtPkg: ArmVirtQemu: make ACPI support AARCH64 only
  + SecurityPkg: TcgConfigDxe: Move TPM state string update to
    CallBack function
  + MdePkg: Fix incorrect PCIe Extended Capabilities definition
  + MdeModulePkg/Partition: Use proper partition number for MBR
  + MdePkg: Change PcdPropertiesTableEnable default value to FALSE
  + ArmVirtPkg: ArmVirtQemu: expose only 64-bit entry point for
    v3.0+ SMBIOS
  + NetworkPkg: Replace the internal function with exposed one
  + MdeModulePkg: Define a general function to create DNS QName
  + MdePkg: Add invocation register support in SMM Communication
    ACPI Table
  + MdeModulePkg: SNP should check Cdb.StatCode with
    PXE_STATCODE_SUCCESS
  + MdeModulePkg: Make the DEBUG info consistent in SNP driver
  + Add UEFI2.6 MemoryAttributes Table
  + OvmfPkg: simplify VARIABLE_STORE_HEADER generation
  + Minor comments update to AllocatePages() and AllocatePool()
  + MdeModulePkg DxeCore: Missing change for OEM reserved memory
    type at R17460
  + ArmPkg: DefaultExceptionHandler fixes for use with DxeCore
  + BaseTools/GenFw AARCH64: add support for relative data
    relocations
- Update openssl to 1.0.2f

-------------------------------------------------------------------
 Feb 15 09:17:12 UTC 2016 - glin@suse.com

- edk2 upstream switched the repo from svn to git, so the naming
  has to change to use the git hash. The most recent stable release
  of edk2 is UDK 2015, so the base version changes to 2015.
- update to ovmf-2015+git1454310736.ed5e386
  + MdePkg: Update the UEFI version to reflect new revision
  + MdePkg: Add EFI Supplicant Protocol definitions
  + MdePkg: Add EFI Wireless MAC Connection II Protocol definitions
  + MdePkg: Add ACPI6.1 definition
  + NetworkPkg: better sanity check on Ipv6 prefix length
  + NetworkPkg: Reword PXE download message
  + ShellPkg: ShellFileHandleReadLine must return UCS2 lines
  + ArmPlatformPkg/Bds: Early Console Initialization
  + ShellBinPkg: Arm/AArch64 Shell binary update
  + ShellPkg: Fix ASCII and UNICODE file pipes
  + ArmVirtPkg: implement ArmVirtQemuKernel
  + ArmVirtPkg: introduce new ArmQemuRelocatablePlatformLib
  + MdeModulePkg: Update DxeCore dispatcher to ignore PEI and SMM
    depex for FV
  + ArmPkg: Add isb when setting SCR
  + MdeModulePkg/PcRtc: Still create timezone variable when
    Daylight != 0
  + MdeModulePkg/UsbAbsPointer:Fix GetState() to return absolute
    value
  + MdeModulePkg: Correct one return status code in SNP Transmit
    function
  + MdeModulePkg: Update the default size of MNP TX buffer pool
  + MdeModulePkg: Update DBsize in SNP GetStatus command
  + NetworkPkg:Add a new error status code EFI_HTTP_ERROR
  + MdePkg:Add a new error status code EFI_HTTP_ERROR
  + NetworkPkg: Fix suspicious dereference of pointer 'Mode.Ia'
  + OvmfPkg: QemuBootOrderLib: recognize NVMe devices
  + OvmfPkg: include NvmExpressDxe driver
  + SecurityPkg: AuthVariableLib: Add new cert database for
    volatile time based Auth variable
  + MdeModulePkg: Add BS+RT+AT variable attribute definition
  + MdePkg: Add new enum EfiPlatformConfigurationActionUnsupportedGuid
  + PcAtChipsetPkg/Rtc: Don't unnecessarily create timezone
    variable
  + Correct inconsistent function descriptions in DNS
  + OvmfPkg: Increase default RELEASE build image size to 2MB
  + Minor update to the Data parameter for GetVariable()
  + MdeModulePkg: NvmExpressDxe: clean up NvmeRead() / NvmeWrite()
    debug msgs
  + MdePkg:Add new traffic statistics definition for Wireless NIC
  + NetworkPkg:Fix Network memory leak when calling GetModeData
    interface
  + SecurityPkg: Correct data copy in Tpm2NvReadPublic
  + SecurityPkg: Add TPM PTP detection in Tpm12SubmitCommand
  + MdeModulePkg DxeCore: Avoid the closed event to be signaled
    wrongly
  + SecurityPkg: SecureBootConfigDxe: Fix potential NULL pointer
    dereference
  + CryptoPkg: Fix function qsort for non 32-bit machines
- update _service to fetch git repo

-------------------------------------------------------------------
Tue Jan 26 04:24:29 UTC 2016 - glin@suse.com

- update to R19743
  + NetworkPkg: Removing or adding some ASSERT statement
  + MdeModulePkg:Fix the potential memory leak issue in Display
    Engine
  + MdeModulePkg: Add error DEBUG statements in ATA passthru driver
  + NetworkPkg: DnsDxe: fix return type of DnsFillinQNameForQueryIp()
  + MdeModulePkg/Ide: return correct status when DRQ is not ready
    for ATAPI
  + MdeModulePkg/ScsiDisk: Increase the value of SCSI_DISK_TIMEOUT
    to 30s
  + OvmfPkg: inherit Image Verification Policy defaults from
    SecurityPkg
  + OvmfPkg: execute option ROM images regardless of Secure Boot
  + Rename TisTpmCommand to avoid name collision
  + MdeModulePkg: update SNP.GetStatus to handle multiple recycled
    TX buffer.
  + MdeModulePkg: Update MNP driver to recycle TX buffer
    asynchronously.
  + Refine error handle code, avoid assert when load this module
    twice.
  + MdeModulePkg: DeleteLoadOptionVariable() removes Boot####
  + MdeModulePkg: Fix GraphicsConsole driver resolution out of
    sync issue
  + SecurityPkg: MOR drivers use Tcg2Protocol instead of TrEE.
  + SecurityPkg: Add Tpm2Startup return code check.
  + SecurityPkg: Clear AuthSession content after use.
  + BaseTools/VfrCompile: honor CC if it is set
  + BaseTools AARCH64: add separate GCC build rule for XIP objects
  + BaseTools AARCH64: build XIP modules with strict alignment
  + SecurityPkg: TcgDxe,Tcg2Dxe,TrEEDxe: New PCD for TCG event log
    and TCG2 final event log area
  + NetworkPkg: Fix some typos in Http boot driver.
  + MdeModulePkg: Add DNS QType and QClass values definition
  + NetworkPkg: Remove DNS QType and QClass definition
  + SecurityPkg: SecureBootConfigDxe: Change
    KEY_TRANS_SECURE_BOOT_MODE value
  + SecurityPkg: SecureBootConfigDxe: Enhance secure boot string
    update logic
  + MdeModulePkg:Fix the potential memory leak issue in Display
    Engine
  + ShellPkg: Update 'dh' command to reflect correct driver handle
    information
  + NetworkPkg: Fix IpSec SPD and SAD mapping issue when SPD is
    updated
  + NetworkPkg: Fix SPD entry edit policy issue in IPSecConfig.
  + MdeModulePkg: Add new library class PciHostBridgeLib
  + MdeModulePkg: Add PciHostBridgeLibNull
  + MdePkg: Add PciSegmentLib instance based on PciLib
  + MdeModulePkg: Add generic PciHostBridgeDxe driver.
  + Add NOOPT target
  + ShellPkg UefiDpLib: Use Image->FilePath to get name for SMM
    drivers
  + MdeModulePkg/.../IdeMode: actualize DRQReady*() comment blocks
  + MdeModulePkg/.../IdeMode: report early finish of packet read
    as success
  + MdeModulePkg: SerialDxe: lay out mSerialIoMode initializer more
    nicely
  + MdeModulePkg: SerialDxe: sync EFI_SERIAL_IO_MODE.Timeout with
    the spec
  + MdeModulePkg: TerminalDxe: select the UART's default receive
    FIFO depth
  + BaseTools: make build report tolerant of FVs specified by name
  + Replace TpmCommLib with Tpm12DeviceLib
  + Add TPM 1.2 commands used by TCG modules
  + SecurityPkg: Update TCG PPI "1.3" for TCG2.
  + Add TPM PTP support
- Remove upstreamed ovmf-fix-signedness.patch

-------------------------------------------------------------------
Wed Jan  6 08:04:47 UTC 2016 - glin@suse.com

- update to R19584
  + NetworkPkg: Support DNS4/6 GeneralLookUp feature
  + SecurityPkg AuthVariableLib: Correct comment/error log about
    CleanCertsFromDb
  + NetworkPkg: Fix suspicious dereference of pointer before NULL
    check
  + NetworkPkg: Update module inf to include the missing uni file
  + NetworkPkg: Remove a CopyMem to speed up the HTTP boot download
  + NetworkPkg: Remove unused EFI_HTTP_PROTOCOL definition
  + MdePkg : Update SPCR to use ACPI5 definition
  + MdeModulePkg ScsiDiskDxe: Raise the Tpl of async IO callback
    to TPL_NOTIFY
  + ScsiDiskDxe: Close event when SCSI command fails
  + MdeModulePkg ScsiBusDxe: Only signal caller event when
    PassThru() succeeds
  + MdeModulePkg DiskIoDxe: Check for MediaPresent in
    DiskIo2ReadWriteDisk()
  + MdeModulePkg ScsiDiskDxe: Modify WriteBlocks(Ex)() to follow
    UEFI spec
  + MdeModulePkg ScsiDiskDxe: Modify FlushBlocksEx() to follow UEFI
    spec
  + MdeModulePkg ScsiDiskDxe: Set block I/O media of SCSI CDROM to
    read-only
  + PcAtChipsetPkg/Rtc: Fix a UEFI Win7 boot hang issue
  + MdeModulePkg:Clear the screen before booting the boot option
  + NetworkPkg : Remove unused local variables to fix gcc build
    errors
  + MdePkg: Add HTTP 1.1 industry standard definitions
  + SecurityPkg: SecureBootConfigDxe: Remove useless code in VFR
  + NetworkPkg:Fix a bug the 2nd httpboot fail issue
  + NetworkPkg: Update iSCSI driver to check existing AIP instances
  + UefiCpuPkg/CpuMpPei: Fix pack(1) issue on x64 arch
  + MdeModulePkg:Fix bug that get the password width info
    incorrectly
  + NetworkPkg:Fix the issue Http boot hang when network failed
  + DxeTpmMeasureBootLib: Change global variable name to avoid
    name conflict
  + ArmVirtPkg/ArmVirtXen: add ARM support
  + ArmVirtPkg/XenRelocatablePlatformLib: rewrite DTB memory node
    retrieval in C
  + OvfmPkg/XenHypercallLib: add missing GCC_ASM_EXPORT to
    XenHypercall2
  + Shell update
  + MdeModulePkg:Fix a bug HttpLib can't parse last chunked data
    well
  + MdeModulePkg/PciSioSerialDxe:add non-null pointer dereference
    assertion
  + ArmPkg: rewrite vector table population macros
  + BootManagerLib: Check the pointer to avoid use NULL pointer
  + MdeModulePkg: Fix RegularExpressionDxe memcpy intrinsic
- Add ovmf-fix-signedness.patch to fix the build error

-------------------------------------------------------------------
Wed Dec 16 03:01:28 UTC 2015 - glin@suse.com

- Update R19289
  + MdePkg: Add missing SMBIOS definitions for SATA and SAS Ports
  + MdePkg: Add GIC version to ACPI 5.1/6 definitions
  + MdePkg: Add Ipmi2.0 definitions head file
  + MdeModulePkg: Add NULL pointer check for RegularExpressionDxe
  + Convert all .uni files to utf-8
  + BaseTools/Scripts: Add ConvertUni.py script
  + Fix >4G issue on IDT not restored correctly
  + MdeModulePkg: Improved SetupBrowser handling to failed GOTO
    callback
  + ArmPlatformPkg/Sec: fix return_from_exception code and comment
  + ArmPlatformPkg/ArmPlatformLibNull: use declared PPI rather than
    module local var
  + ArmVirtPkg RVCT: build DXE_RUNTIME_DRIVER modules with 4 KB
    alignment
  + BaseTools/GenFw RVCT: fix relocation processing of PT_DYNAMIC
    sections
  + BaseTools RVCT: use scatter file to enforce minimum section
    alignment
  + MdePkg/BaseIoLibIntrinsic: Add EBC support
  + MdePkg: Add 3 macro defined in latest TPM2 specification
  + ShellPkg: Initialize the local pointer to avoid potential
    suspicious dereference
  + CryptoPkg/OpensslLib: upgrade OpenSSL version to 1.0.2e
  + MdeModulePkg ScsiDiskDxe: Add BlockIO2 Support
  + MdePkg UefiScsiLib: Add non-blocking support for SCSI
    Read/Write command
  + NetworkPkg: Fix the potential NULL pointer dereferenced issue
  + ShellPkg: Make 'dh' support showing all spec defined protocols
  + BaseTools GCC: avoid the use of COMMON symbols
  + ArmPkg/PrePeiCore: adhere to architectural stack alignment
    requirement
  + UefiCpuPkg/MtrrLib: Add PCD PcdCpuNumberOfReservedVariableMtrrs
  + ArmPkg/BdsLib: Send RemainingDevicePath to PXE Load File
    protocol
  + CryptoPkg/BaseCryptLib: make mVirtualAddressChangeEvent STATIC
  + CryptoPkg ARM: add ArmSoftFloatLib resolution to CryptoPkg.dsc
  + SecurityPkg: AuthVariableLib: Customized SecureBoot Mode
    transition
  + MdePkg: DebugAssert enhancement
  + ArmVirtPkg: HighMemDxe: add memory space for the high memory
    nodes
  + ArmVirtPkg: ArmVirtPlatformLib: find the lowest memory node
- Update openssl to 1.0.2e
- Update ovmf-embed-default-keys.patch to include one more db key
- Add MicWinProPCA2011_2011-10-19.crt, the Windows Product key

-------------------------------------------------------------------
Fri Dec  4 06:13:41 UTC 2015 - glin@suse.com

- Update to R19110
  + ShellPkg: Fix wrong return status for Ifconfig.c
  + OvmfPkg: pull in SMM-based variable driver stack
  + OvmfPkg: any AP in SMM should not wait for the BSP for more
    than 100 ms
  + OvmfPkg: use relaxed AP SMM synchronization mode
  + OvmfPkg: SmmCpuFeaturesLib: implement SMRAM state save map
    access
  + OvmfPkg: import SmmCpuFeaturesLib from UefiCpuPkg
  + OvmfPkg: set gUefiCpuPkgTokenSpaceGuid.PcdCpuSmmEnableBspElection
    to FALSE
  + OvmfPkg: LockBox: use SMM stack with -D SMM_REQUIRE
  + OvmfPkg: introduce -D SMM_REQUIRE and PcdSmmSmramRequire
  + ArmVirtPkg: add secure boot support to 32-bit ARM targets
  + MdeModulePkg/BDS: Do not pass unnecessary option to boot option
  + NetworkPkg: Fix a bug in HttpBootDriverBindingStop() when
    destroying child
  + ArmPlatformPkg/PrePiHobListPointerLib: use thread ID register
  + ArmPlatformPkg/PrePeiCore: add missing entries to AArch64
    vector table
- Refresh ovmf-gdb-symbols.patch
- Run fdupes on /usr/share/qemu

-------------------------------------------------------------------
Fri Nov 27 04:16:46 UTC 2015 - glin@suse.com

- Update to R18975
  + ArmVirtPkg: Use SerialDxe in MdeModulePkg instead of
    EmbeddedPkg
  + OvmfPkg XenConsoleSerialPortLib: Implement
    Get(Set)Control/SetAttributes
  + NetworkPkg:Fix NULL pointer dereference issues
  + Always set WP in CR0
  + ArmPkg/UncachedMemoryAllocationLib: fix warning about 
    uninitialized local var
  + UefiCpuPkg/CpuS3DataDxe: Add module to initialize ACPI_CPU_DATA
    for S3
  + Move CommunicationBuffer from stack to global variable
  + Move SmmDebug feature from ASM to C
  + Install LoadedImage protocol for PiSmmCore
  + Uninstall LoadedImage protocol if SMM driver returns error and
    is unloaded
  + ArmLib/ArmV7Mmu: use 64-bit type for mapping region size
  + ArmVirtPkg/ArmVirtPlatformLib: reduce ID map size to GCD region
    size
  + ArmVirtPkg/ArmVirtQemu: limit the (I)PA space to 40 bits
  + MdeModulePkg/UefiBootManagerLib: Always create MemoryTypeInfo
    variable
  + ShellBinPkg: Arm/AArch64 Shell binary update
  + MdeModulePkg:Create Boot Maintenance Manager Library
  + MdeModulePkg:Create Device Manager Library
  + MdeModulePkg:Create Boot Manager Library
  + ArmPkg: Invalidate cache after allocating UC memory
  + MdeModulePkg FileExplorerDxe: Create file explorer Protocol
  + ArmPkg: ArmLib: purge incorrect ArmDrainWriteBuffer () alias
  + UefiCpuPkg/CpuDxe: Don't use gBS->Stall
  + UefiCpuPkg/SmmFeatureLib: Check SmmFeatureControl by
    Code_Access_Chk
  + UefiCpuPkg: Not touch SmmFeatureControl if Code_Access_Chk not
    Set
  + ArmPkg/ArmPlatformPkg: position vectors relative to base
  + ArmPkg: correct TTBR1_EL1 settings in TCR_EL1
  + ShellPkg: Corrected CatSPrint usage to prevent memory leaks
  + ArmPkg/ArmV7Mmu: handle memory regions over 4 GB correctly
  + ArmPkg/ArmV7Lib: take MP extensions into account when
    programming TTBR
  + ArmPkg/ArmV7Lib: fix definition of TTBR_NON_INNER_CACHEABLE
  + ArmPkg/ArmV7Mmu: introduce feature PCD to map normal memory
    non-shareable
  + ArmPkg/ArmV7Mmu: make cached translation table accesses
    shareable
  + ArmPkg/ArmV7Lib: add function to test for presence of MP
    extensions
  + ArmPkg/ArmV7Lib: add support for reading the ID_MMFR0 system
    register
  + ArmPkg/ArmV7Mmu: fix write-through translation table accesses
  + ArmPkg/Mmu: set required XN attributes for device mappings
  + ArmVirtPkg/ArmVirtPlatformLib: map executable NOR region as
    normal memory
  + ArmPkg/AArch64Mmu: remove unused GcdAttributeToArmAttribute()

-------------------------------------------------------------------
Wed Nov 18 09:35:19 UTC 2015 - glin@suse.com

- Update to R18868
  + ArmPkg: ensure DebugAgentVectorTable is 2K-aligned
  + MdeModulePkg: Add Platform recovery support
  + MdePkg: Add Platform Recovery definitions
  + MdeModulePkg: SmmLockBoxPeiLib: work without
    EFI_PEI_SMM_COMMUNICATION_PPI
  + NetworkPkg: Httpboot will fail the 2nd time result by wrong
    TCP state
  + MdeModulePkg PeiCore: PEI dispatcher need retry to process
    NOT_DISPATCHED FV
  + ArmPkg/ArmLib: mark all cached mappings as (inner) shareable
  + ArmPlatformPkg: bring DS-5 scripts in line with linker script
    changes
  + MdeModulePkg: Add BootLogoLib to provide interfaces about logo
    display
  + MdeModulePkg: Add ImageDecoderLib to provide image decoding
    service
  + MdeModulePkg: Add PlatformLogo protocol definition 

-------------------------------------------------------------------
Thu Nov 12 06:51:09 UTC 2015 - glin@suse.com

- Update to R18768
  + MdePkg: Add more DataBits support to Port80 output
  + MdeModulePkg PeiCore: Fix issue AuthenticationStatus is not
    propagated correctly
  + NetworkPkg: Report Http Errors to screen when http layer
    occurs an error
  + Add error handling for TPM in S3 resume failure
  + ArmPkg/ArmDmaLib: use the cache writeback granularity for
    alignment
  + ArmPkg/ArmLib: fix barriers in AArch64 ArmEnableMmu
  + NetworkPkg:Enable Http Boot over Ipv6 stack
  + NetworkPkg:Missing CloseEvent() in HttpResponseWorker
  + CryptoPkg: Add one new API (Pkcs7GetCertificatesList) for certs
    retrieving
  + SourceLevelDebugPkg: DebugAgent: Set Local APIC SoftwareEnable
  + UefiCpuPkg: LocalApicLib: Add API to set SoftwareEnable bit
  + UefiCpuPkg: CpuDxe: Update GDT to be consistent with DxeIplPeim
  + NetworkPkg: HttpDxe sometimes free a pointer twice
  + CryptoPkg/OpensslLib: Move OPENSSL_NO_xxx defines into
    opensslconf.h
  + CryptoPkg/OpensslLib: Eliminate GETPID_IS_MEANINGLESS
    definition
  + CryptoPkg: Fix OpenSSL BN wordsize and OPENSSL_SYS_UEFI
    handling
  + CryptoPkg/OpensslLib: Undefine NO_BUILTIN_VA_FUNCS to fix
    varargs breakage
  + CryptoPkg/BaseCryptLib: Use X509_V_FLAG_NO_CHECK_TIME
  + CryptoPkg/BaseCryptLib: Use X509_V_FLAG_PARTIAL_CHAIN
  + CryptoPkg/BaseCryptLib: Clean up checking of PKCS#7 contents
    type
  + CryptoPkg/BaseCryptLib: Use accessor functions for ASN1_OBJECT
  + CryptoPkg/BaseCryptLib: Use accessor functions for
    X509_ATTRIBUTE
  + CryptoPkg/BaseCryptLib: Use i2d_X509_NAME() instead of abusing
    X509_NAME
  + CryptoPkg/BaseCryptLib: Add missing OpenSSL includes
  + UefiCpuPkg: PiSmmCpuDxeSmm: Replace PcdSet## with PcdSet##S
  + MdePkg/BaseSynchronizationLib: fix AArch64 return values
  + Fix issue that calling GetS3MemoryInfo() with wrong order
  + Do not deadloop if Microcode not found in FspTempRamInit
  + Move Smbios measurement from TCG driver to Smbios driver
  + Add suppressif around TCG hash seleciton checkbox in TCG2
  + UefiCpuPkg: PiSmmCpuDxeSmm: Remove unused references to SmmLib
  + OvmfPkg: QemuFlashFvbServicesRuntimeDxe: split out runtime DXE
    specifics
  + OvmfPkg: QemuFlashFvbServicesRuntimeDxe: no dual addressing
    needed
  + MdeModulePkg Variable: Enhance variable performance by reading
    from existed memory cache

-------------------------------------------------------------------
Thu Oct 22 03:07:19 UTC 2015 - glin@suse.com

- Update to R18651
  + OvmfPkg: XenPvBlkDxe: handle empty cdrom drives
  + MdeModulePkg SetupBrowserDxe: Save global variable values
    before nest function called
  + UefiCpuPkg: Add CPU Hot Plug Data include file
  + UefiCpuPkg: Add ACPI CPU Data include file
  + UefiCpuPkg: Add SMM CPU Service Protocol
  + UefiCpuPkg: CpuDxe: broadcast MTRR changes to APs
  + UefiCpuPkg: CpuDxe: Wait for APs to enter idle loop
  + UefiCpuPkg: CpuDxe: Use PCD for AP detection timeout
  + UefiCpuPkg: Update CPU MP drivers to support single CPU
    configuration
  + MdeModulePkg VarCheckLib: R18611 was thoughtless for property
    set
  + SecurityPkg : Fix Rsa2048Sha256GuidedSectionExtractLib issue
  + OvmfPkg: VirtioBlkDxe: reset device at ExitBootServices()
  + OvmfPkg: VirtioScsiDxe: reset device at ExitBootServices()
  + OvmfPkg: Sec: Fix SOURCE_DEBUG_ENABLE ASSERT()
  + MdeModulePkg: SmbiosDxe: soften DEBUG messages about table
    reallocation
  + MdeModulePkg: FaultTolerantWriteDxe: clean up some "success"
    messages
  + MdeModulePkg: FaultTolerantWriteDxe: mellow DEBUGs about
    workspace reinit
  + ArmPlatformPkg: NorFlashDxe: mellow DEBUG messages about flash
    reinit
  + ArmVirtPkg: include BaseStackCheckLib also for AARCH64
  + NetworkPkg: reset DHCP child when leaving PXE LoadFile
  + MdeModulePkg: reset DHCP child when leaving PXE LoadFile
  + SecurityPkg AuthVariableLib: Add the missing
    gEfiAuthenticatedVariableGuid
  + MdeModulePkg VariableRuntimeDxe: Add the missing
    gEfiImageSecurityDatabaseGuid
  + MdeModulepkg VarCheckLib: Return NULL when no property set to
    variable with wildcard name
  + NetworkPkg: remove unnecessary timeout event when setting IPv6
    address
  + ShellPkg: Print error message when Shell set environment
    variable fail
  + BaseTools/PeCoffLoader: fix handling of ARM MOVW/MOVT
    instruction relocs
  + UefiCpuPkg: Add ASSERT to handle local APIC not config properly
  + SecurityPkg: Integrate new RngLib into RngDxe
  + MdePkg: Create GetRandomNumber128 in RngLib
  + ArmVirtPkg/ArmVirtQemu: enable non-exec DXE stack for AARCH64
  + MdeModulePkg/DxeIplPeim: implement non-exec stack for
    ARM/AARCH64
  + ArmPkg/ArmLib MMU: add functions to set/clear RO and XN bits on
    regions
  + ArmPkg/AArch64Mmu: move page table traversal code to separate
    function
  + ArmPkg/AArch64Mmu: use architecturally correct definitions for
    XN/UXN

-------------------------------------------------------------------
Thu Oct  8 02:33:33 UTC 2015 - glin@suse.com

- Update to R18577
  + OvmfPkg: raise DXEFV size to 9 MB
  + MdeModulePkg: exit pci function loops early if device is not
    multi-function
  + NetworkPkg: HttpDxe: Remove unused local variables
  + ArmPkg/AArch64Mmu: remove cache maintenance for page tables
  + BaseTools/AARCH64: use large code model for GCC <= 4.8
  + ArmPkg/Mmu: do not configure block translations at level 0
  + ArmVirtPkg: use 4 KB section alignment for
    ARM DXE_RUNTIME_DRIVER modules
  + BaseTools/ARM: move to unified GCC linker script 
- Enable HttpBoot for i586 and x86_64
- Drop patches since upstream fixes the issues
  + ovmf-use-non-default-gcc48.patch
  + 0001-Revert-BaseTools-AARCH64-use-tiny-code-model-by-defa.patch
  + 0010-avoid-potentially-uninitialized-variable.diff

-------------------------------------------------------------------
Thu Oct  1 08:54:34 UTC 2015 - glin@suse.com

- Update to R18564
  + OvmfPkg: set 4 KB section alignment for DXE_RUNTIME_DRIVER
    modules
  + MdeModulePkg Ip4Dxe: Ip4Config2 to request DHCP Option6 DNS
    server IP
  + MdeModulePkg: Add SMBIOS 3.0 support in NetLibGetSystemGuid
  + ArmVirtPkg: build the TFTP command into the UEFI shell
  + OvmfPkg: build the TFTP command into the UEFI shell
  + ArmVirtPkg: reduce preallocation of boot services data pages
  + OvmfPkg: enable SATA controller
  + OvmfPkg: QemuBootOrderLib: recognize Q35 SATA disks / CD-ROMs
  + MdePkg: Add RngLib into MdePkg
  + MdeModulePkg: Remove event from protocol database only if
    registered
  + ArmVirtPkg: PlatformIntelBdsLib: signal ReadyToBoot on direct
    kernel boot
  + ShellPkg: Added SMBIOS 2.8 Type 17 changes to smbiosview
  + ShellPkg: Added SMBIOS 3.0 support in dmem
  + MdeModulePkg: Enhance PCI capability looking up logic to avoid
    hang
  + OvmfPkg: disable no-exec DXE stack by default
  + OvmfPkg: make PcdPropertiesTableEnable dynamic
  + OvmfPkg: make PcdSetNxForStack dynamic
  + MdeModulePkg: Change the algorithm in SNP to use the first
    found BAR index
  + NetworkPkg: Update Http driver to use DPC mechanism
  + NetworkPkg: RxToken event not closed in Http.Response()
  + NetworkPkg: Avoid memory allocation for each HTTP message
    exchange
  + NetworkPkg: Update cache management in HTTP boot driver
  + NetworkPkg: Enlarge receive block size of HTTP boot driver
  + PXE Driver's LoadFile protocol should check FilePath
  + ArmVirtPkg: set max physical address width to 40 bits
  + ArmVirtPkg/ArmVirtMemoryInitPeiLib: handle memory above 4 GB
    on 32-bit ARM
  + ArmPkg/Mmu: Fix potential page table memory leak
  + ArmPkg/Mmu: Increase PageLevel when table found at the targeted
    level
  + ArmPkg/Mmu: Fix literal number left shift bug
  + ArmPkg/Mmu: Fix page level calculation bug
  + ArmPkg/Mmu: Fix bug of aligning new allocated page table
  + MdeModulePkg: Fix a performance data buffer overrun issue
  + ShellPkg: Fix 'for' command fail with multiple fields
  + MdeModulePkg: Regular expression protocol
  + NetworkPkg: Fix suspicious dereference of pointer 'FieldCount'
  + Handle extra module patchable PCD variable in Linux map
  + NetworkPkg: Fix the HttpCloseConnection fail issue
  + UefiCpuPkg/MtrrLib: MtrrValidBitsMask and MtrrValidAddressMask
    wrong
- Add ovmf-use-non-default-gcc48.patch: gcc5 generates the larger
  code size and causes the x86_64 final image exceeds the size
  limit if we enable Secure Boot and IPv6 at the same time. As a
  workaround, we use the non-default gcc48.
- Drop ovmf-gcc5-conf.patch and use GCC49 as TOOL_CHAIN_TAG for
  the distro with gcc5
- Limit 0001-Revert-BaseTools-AARCH64-use-tiny-code-model-by-defa.patch
  to the distro with gcc lower than 5
- Refresh ovmf-embed-default-keys.patch and ovmf-gdb-symbols.patch

-------------------------------------------------------------------
Thu Sep  3 06:36:37 UTC 2015 - glin@suse.com

- Update to R18393
  + OvmfPkg: PlatformPei: force 32-bit MMIO aperture above 3 GB
   on Q35
  + OvmfPkg: AcpiTables: serialize control methods that create
    named objects
  + OvmfPkg: PlatformPei: clear CMOS 0xF after setting mBootMode
  + CryptoPkg: Fix one wrong parameter for weak key checking
  + CryptoPkg: Replace string wrapper functions with safe string
    functions
  + ArmPlatformPkg/PlatformIntelBdsLib: add splash screen support
  + ArmPlatformPkg/PlatformIntelBdsLib: fix and clean up error
    handling
  + ArmPlatformPkg/PlatformIntelBdsLib: remove ARM BDS dependency
  + Locate IpSec on IP packet processing only if it's installed
  + ShellPkg: Get media status in ifconfig command
  + OvmfPkg: prevent code execution from DXE stack
  + MdePkg: Modify string expression of Wi-Fi device path to
    follow UEFI spec
  + NetworkPkg: Fix IpSec run into infinite loop issue in some case
  + FatBinPkg: Update EBC/IA32/X64/IPF binaries
  + SecurityPkg: Fix one returned code issue in P7Verify Protocol
  + Add VarCheckLib library
  + BaseTools: Add NULL pointer check in AutoGen code
  + Follow PI spec to update ExtendedSize in EFI_FFS_FILE_HEADER2
  + NetworkPkg: Add HTTP utilities driver
  + OvmfPkg: Add HttpBoot support
  + NetworkPkg: Remove the hostname from the http request URL
  + MdeModulePkg:Full support F10 hot key in UiApp
  + NetworkPkg: Fix DHCP TransmitReceive EFI_NO_MAPPING return in
    DnsDxe
  + MdeModulePkg: Fix default router table and interface missing
    error
  + ShellPkg: Fix 'ifconfig' can't get the address from dhcp in
    some case
  + ArmPkg: remove ARMv6 support code
  + MdeModulePkg: Update UiApp to handle terminal type TtyTerm
  + MdeModulePkg/Xhci: make all timeout values be consistent with
    comments
  + SecurityPkg: Fixed build error due to FixedAtBuild
    PcdTcg2HashAlgorithmBitmap
  + MdeModulePkg: IP4 should re-initiate a DHCP if it detects
    network reconnection
  + NetworkPkg: Stop and release DHCP4 child after boot info is
    ready
  + Add restriction that HashFinal() must be after at least one
    HashUpdate()
  + SecurityPkg: Update SignatureSize to comply UEFI spec
  + NetworkPkg: Fix hang issue after system reconnected when IPSec
    has set up
  + Add TPM2 definition in trusted computing group
  + BaseTools IA32/X64: prevent .eh_frame sections from being
    generated
  + MdeModulePkg:Use safe string functions in UiApp
  + MdeModulePkg: Add codes to support trailer parse in HttpLib
  + OvmfPkg/Xen: use lower case x in hex immediate value
  + ArmVirtPkg: use global section alignment in custom linker
    script
  + ArmVirtPkg: avoid relocated immediates in AARCH64 asm
  + MdeModulePkg: Fix issue about current Ip4Dxe implementation
    for DHCP DORA process 
  + BaseTools/GenFw: allow AArch64 tiny and small code model
    relocations
- Add 0001-Revert-BaseTools-AARCH64-use-tiny-code-model-by-defa.patch
  to use the large model for aarch64 since ld/binutils couldn't
  calculate the sections properly and GenFw would fail due to the
  section offset.
- Drop arm patches
  + 0001-ArmPlatformPkg-ArmVirtualizationPkg-enable-DEBUG_VER.patch
  + 0002-ArmPlatformPkg-Bds-generate-ESP-Image-boot-option-if.patch
  + 0003-ArmPlatformPkg-Bds-check-for-other-defaults-too-if-u.patch
  + 0005-ArmPlatformPkg-Bds-initialize-ConIn-ConOut-ErrOut-be.patch
  + 0006-ArmPlatformPkg-Bds-let-FindCandidate-search-all-file.patch
  + 0007-ArmPlatformPkg-Bds-FindCandidateOnHandle-log-full-de.patch
  + 0008-ArmPlatformPkg-Bds-fall-back-to-Boot-Menu-when-no-de.patch
  + 0009-ArmPlatformPkg-Bds-always-connect-drivers-before-loo.patch

-------------------------------------------------------------------
Mon Aug 10 06:45:04 UTC 2015 - glin@suse.com

- Update to R18191
  + UefiCpuPkg CpuDxe: Sync up the settings of Execute Disable to APs
  + MdeModulePkg DxeIpl: Fix IA32 build failure with GCC 5.1.1
  + ArmPlatformPkg/PlatformPeim: constify EFI_PEI_PPI_DESCRIPTOR
    globals
  + ArmPlatformPkg/PrePeiCore: constify PPI globals
  + MdeModulePkg: Use monotonic count to initialize the NetLib
    random seed
  + OvmfPkg: SmbiosVersionLib: recognize SMBIOS 3.x entry point
  + OvmfPkg: SmbiosPlatformDxe: eliminate duplicate entry point
    validation
  + ArmVirtPkg/ArmVirtQemu.dsc: set default for
    PcdQemuSmbiosValidated
  + OvmfPkg: introduce PcdQemuSmbiosValidated
  + ArmVirtPkg: set SMBIOS version in DetectSmbiosVersionLib
    instead of QemuFwCfgToPcdDxe
  + OvmfPkg: set SMBIOS version in DetectSmbiosVersionLib instead
    of PlatformPei
  + OvmfPkg: SmbiosVersionLib: add "plugin" for detecting SMBIOS
    version
  + OvmfPkg: PlatformDebugLibIoPort: fix AsciiSPrint() format
    string
  + ShellPkg: Fix issue about ping fail with IPv4
  + MdeModulePkg DxeIpl: Add stack NX support
  + NetworkPkg: Fix assert caused by wrong parameter in
    AsciiStrCpyS()
  + ArmVirtPkg/ArmVirtQemu: add LinuxLoader UEFI app to ARM build
  + ArmVirtPkg/ArmVirtXen: remove unused PcdFirmwareVendor PCD
  + ArmVirtPkg/ArmVirtQemu: drop ARM BDS and make Intel BDS the
    default
  + BaseTools GCC: move AutoGen.obj contents to .text section
  + BaseTools GCC: align start of .data to .text alignment
  + BaseTools GCC: add unified GCC linker script for all archs and
    versions
  + BaseTools IA32/X64: get header size and alignment from ld
    commandline
  + BaseTools IA32/X64: move .got contents to the PE/COFF .text
    section
  + BaseTools IA32/X64: drop redundant alignment from linker script
  + BaseTools IA32/X64: move .rodata to PE/COFF .text section
  + BaseTools IA32/X64: remove NOP padding from X86/IA32 GCC linker
    scripts
  + MdeModulePkg PeiCore: Add PCD to specify PEIM Shadow
  + ArmVirtPkg: use 'auto' alignment and FIXED placement for XIP
    modules
  + MdeModulePkg: Enhance PciBusDxe to handle high 32bit of MEM64
    BAR returns 0
- Refresh ovmf-gcc5-conf.patch
- Refresh 0001-ArmPlatformPkg-ArmVirtualizationPkg-enable-DEBUG_VER.patch
- Drop upstreamed patch: ovmf-netlib-random-seed.patch
- Drop 0004-ArmPlatformPkg-ArmVirtualizationPkg-auto-detect-boot.patch
  since the ARM BDS was dropped

-------------------------------------------------------------------
Wed Jul 29 09:40:38 UTC 2015 - glin@suse.com

- Update to R18107
  + NetworkPkg: Fix the issue cannot boot to UEFI Network after
    reset
  + ArmVirtPkg: implement DT-based ArmGicArchLib
  + OvmfPkg: fix conversion specifiers in DEBUG format strings
  + Reduce reserved memory consumption
  + MdeModulePkg: Make boot option description unique
  + NetworkPkg: Fix the issue EfiPxeBcDhcp() may return wrong
    status.
  + ArmVirtPkg/ArmVirtQemu: support SMBIOS
  + ArmVirtPkg: QemuFwCfgToPcdDxe: set SMBIOS entry point version
    dynamically
  + ArmVirtPkg: add QemuFwCfgToPcdDxe
  + OvmfPkg: SmbiosPlatformDxe: restrict current Xen code to
    IA32/X64
  + OvmfPkg: SmbiosPlatformDxe: move IsEntryPointStructureValid()
    to Xen.c
  + OvmfPkg: AcpiS3SaveDxe: drop EFI_ACPI_S3_SAVE_PROTOCOL
  + OvmfPkg: install DxeSmmReadyToLock in PlatformBdsLib
  + IntelFrameworkModulePkg/GenericBdsLib: remove AcpiS3->S3Save()
    call
  + OvmfPkg: PlatformBdsLib: signal End-of-Dxe event group
  + OvmfPkg: AcpiS3SaveDxe: call S3Ready() at End-of-Dxe
  + OvmfPkg: AcpiS3SaveDxe: prepare for End-of-Dxe callback
- Add ovmf-netlib-random-seed.patch to avoid the DHCPv6 IAID
  collision

-------------------------------------------------------------------
Fri Jul 24 03:40:08 UTC 2015 - glin@suse.com

- Update to R18030
  + ArmVirtPkg: Make terminal type consistent
  + NetworkPkg: Add the unspecified address check for DNS6
    StationIp
  + ShellPkg: Add optional 'tftp' EFI Shell command
  + NetworkPkg: Fix bios bootup hang issue when enable network
  + SecurityPkg: Fix DBX Variable Read Error in
    ImageVerificationLib
  + SecurityPkg: Correct BootOrder/Boot#### measurement behavior
  + ArmVirtPkg/ArmVirtQemu.dsc: Remove Linux specific boot path
  + ArmPkg/BdsLib: Remove Linux loader from BdsLib
  + ArmPlatformPkg: Add the LinuxLoader.efi EFI application
  + ArmPkg/BdsLib: Replaced BdsLoadApplication() by
    LocateEfiApplicationInFv()
  + OvmfPkg: QemuBootOrderLib: recognize extra PCI root buses
  + OvmfPkg: QemuBootOrderLib: introduce ExtraRootBusMap
  + OvmfPkg: PciHostBridgeDxe: shorten search for extra root buses
  + OvmfPkg: PciHostBridgeDxe: look for all root buses
  + OvmfPkg: PciHostBridgeDxe: eliminate
    PCI_HOST_BRIDGE_INSTANCE.RootBridgeNumber
  + OvmfPkg: PciHostBridgeDxe: use private buffer in
    RootBridgeIoConfiguration()
  + OvmfPkg: PciHostBridgeDxe: release resources on driver entry
    failure
  + OvmfPkg: PciHostBridgeDxe: factor out InitRootBridge() function
  + OvmfPkg: PciHostBridgeDxe: embed device path in private root
    bridge struct
  + OvmfPkg: PciHostBridgeDxe: kill RootBridgeNumber and
    RootBridgeAttribute
  + OvmfPkg: PciHostBridgeDxe: eliminate nominal support for
    multiple host bridges
  + OvmfPkg: PlatformBdsLib: connect all PCI root buses 
- Refresh patches
  + 0001-ArmPlatformPkg-ArmVirtualizationPkg-enable-DEBUG_VER.patch
  + 0002-ArmPlatformPkg-Bds-generate-ESP-Image-boot-option-if.patch
  + 0003-ArmPlatformPkg-Bds-check-for-other-defaults-too-if-u.patch
  + 0004-ArmPlatformPkg-ArmVirtualizationPkg-auto-detect-boot.patch
  + 0005-ArmPlatformPkg-Bds-initialize-ConIn-ConOut-ErrOut-be.patch
  + 0006-ArmPlatformPkg-Bds-let-FindCandidate-search-all-file.patch
  + 0007-ArmPlatformPkg-Bds-FindCandidateOnHandle-log-full-de.patch
  + 0008-ArmPlatformPkg-Bds-fall-back-to-Boot-Menu-when-no-de.patch
  + 0009-ArmPlatformPkg-Bds-always-connect-drivers-before-loo.patch
  + 0010-avoid-potentially-uninitialized-variable.diff

-------------------------------------------------------------------
Mon Jul 13 04:34:30 UTC 2015 - glin@suse.com

- Update to R17935
  + CryptoPkg: update OpenSSL dependency to version 1.0.2d
  + OvmfPkg: QemuFwCfgLib: avoid "variable set but not used"
    warning from GCC
  + Remove Ip4ConfigDxe module
  + IntelFrameworkPkg FrameworkUefiLib: Fix ASSERT in CatVSPrint
  + BaseTools: aarch64: add -fno-asynchronous-unwind-tables to gcc
    cflags
  + MdePkg/AArch64: use GCC_ASM_EXPORT to export functions
  + MdeModulePkg/FvSimpleFileSystemDxe: Support file opening with
    no '.efi'
  + OvmfPkg: Fix GCC49 build hang in PeiCore
  + Add "TtyTerm" terminal type to TerminalDxe
  + MdeModulePkg AcpiTableDxe: Install config table at ACPI data
    change
- Remove upstreamed ovmf-remove-old-ip4config.patch

-------------------------------------------------------------------
Wed Jul  8 07:30:18 UTC 2015 - glin@suse.com

- Update to R17883
  + MdePkg: Add UEFI2.5 Ramdisk device path definition
  + ArmVirtPkg: use correct ASM decoration for non-function global
    symbols
  + NetworkPkg: Add UEFI HTTP boot driver
  + NetworkPkg: Add HTTP Driver
  + NetworkPkg: Add DNS feature support over IPv4 and IPv6
  + MdeModulePkg: Update Ip4Dxe driver to support Ip4Config2
    protocol
  + ArmVirtPkg: adapt ArmVirtXen build to system memory end global
    variable
  + ArmPkg/CpuDxe: Fixed AArch64 MMU
  + ArmPkg/Application: Add new EFI application to boot Linux
  + ArmVirtPkg: build runtime drivers with 64 KB section alignment
  + Restructure AuthVariableLib
  + Conversion of the safe string functions
  + CryptoPkg: Fix the dereferenced pointer issue
  + SecurityPkg: Add MD5 support to Hash2DxeCrypto 
  + OvmfPkg: Increase the maximum size of RAM
  + ArmVirtPkg: signal EndOxDxe event in PlatformBsdInit
  + MdeModulePkg: Add Memory Capabilities for MMIO and Reserved
    Range
- Add ovmf-remove-old-ip4config.patch to remove the old Ip4Config 
- Refresh patches
  + ovmf-embed-default-keys.patch
  + ovmf-gcc5-conf.patch
  + 0001-ArmPlatformPkg-ArmVirtualizationPkg-enable-DEBUG_VER.patch
  + 0002-ArmPlatformPkg-Bds-generate-ESP-Image-boot-option-if.patch
  + 0003-ArmPlatformPkg-Bds-check-for-other-defaults-too-if-u.patch
  + 0004-ArmPlatformPkg-ArmVirtualizationPkg-auto-detect-boot.patch
  + 0005-ArmPlatformPkg-Bds-initialize-ConIn-ConOut-ErrOut-be.patch
  + 0006-ArmPlatformPkg-Bds-let-FindCandidate-search-all-file.patch
  + 0007-ArmPlatformPkg-Bds-FindCandidateOnHandle-log-full-de.patch
  + 0008-ArmPlatformPkg-Bds-fall-back-to-Boot-Menu-when-no-de.patch
  + 0009-ArmPlatformPkg-Bds-always-connect-drivers-before-loo.patch
- Add the source-level debugging to README

-------------------------------------------------------------------
Wed Jun 24 03:21:11 UTC 2015 - glin@suse.com

- Update to R17700
  + OvmfPkg/PlatformDxe: Convert Platform.uni to UTF-8
  + OvmfPkg: QemuVideoDxe: add virtio-vga support
  + CryptoPkg: OpensslLib: reintroduce EFIAPI for
    ERR_add_error_data()
  + SecurityPkg: Provide correct file GUID for Pkcs7VerifyDxe
  + SecurityPkg: Fix wrong calculation of ImageExeInfoEntrySize
  + OvmfPkg: PlatformPei: set SMBIOS entry point version
    dynamically
  + SecurityPkg: Add UEFI-2.5 PKCS7 Verification Protocol Support
  + CryptoPkg: Add one new API for PKCS7 Verification Protocol
    Support
  + MdeModulePkg PiSmmCore: Introduce SMM Exit Boot Services and
    Legacy Boot
  + MdePkg/DxeServicesLib: Return NULL GetFileBufferByFilePath
    reads directory
  + MdeModulePkg: Fix DHCP4 driver hang issue in some case
  + MdeModulePkg: Remove DHCP4.TransmitReceive()and DORA process
    dependency
  + MdeModulePkg:System hangs in setup menu
  + ArmVirtPkg: increase memory preallocations for secure build
  + Update openssl to 1.0.2c
  + Add code to protect the whole BIOS region on SPI flash, except
    UEFI Variable region
  + SecurityPkg/MdeModulePkg: Add PcdMaxAuthVariableSize
    declaration
  + MdePkg: Add EFI REST Protocol definitions
  + OvmfPkg/PlatformPei: Initialise RCBA (B0:D31:F0 0xf0) register
  + OvmfPkg/PlatformPei: Query Host Bridge DID only once
  + ArmPkg: reduce sysreg access count in GIC revision probe
  + SecurityPkg: Fix wrong cert data measurement in DBX path
  + MdeModulePkg/UhciDxe: Update async polling interval to 1ms
  + MdeModulePkg/EhciDxe: Update async polling interval to 1ms
  + MdeModulePkg/XhciDxe: Update async polling interval to 1ms
  + ShellPkg\Application\Shell: Clean start row information after
    the console has been Reset or SetMode
  + Add SysPrepOrder and SysPrep#### to global list
  + MdePkg: Add EFI Capsule Report data structure and GUID
  + Add UEFI 2.5 Properties table definition
  + MdePkg:Add UEFI 2.5 PKCS7 Verification Protocol Definition
  + ShellPkg: Handle escape characters properly for parse command
  + ShellPkg: Add pipe support for parse command
  + ArmVirtPkg: increase memory preallocations to reduce region
    count
- Add ovmf-gcc5-conf.patch for GCC5 and adjust the spec file for
  gcc5

-------------------------------------------------------------------
Wed Jun  3 09:51:38 UTC 2015 - glin@suse.com

- Update to R17553
  + MdeModulePkg/AtaAtapiPassThru: ensure PRDT of IDE is in 64K
    boundary
  + ArmPkg/BdsLib: Fixed TFTP when there are directories in the
    name
  + Renamed ArmPlatformPkg/ArmVirtualizationPkg into ArmVirtPkg
  + ArmPkg: Expand AArch64 address width to 48 bits
  + MdeModulePkg:Support delete key
  + MdeModulePkg/AtaAtapiPassThruDxe: Support 4K bytes block size
    HDDs
  + MdeModulePkg: Fix potential buffer overflow issues
  + Update for OEM reserved memory type
- Update ArmPlatformPkg patches
  + 0001-ArmPlatformPkg-ArmVirtualizationPkg-enable-DEBUG_VER.patch
  + 0002-ArmPlatformPkg-Bds-generate-ESP-Image-boot-option-if.patch
  + 0003-ArmPlatformPkg-Bds-check-for-other-defaults-too-if-u.patch
  + 0004-ArmPlatformPkg-ArmVirtualizationPkg-auto-detect-boot.patch
  + 0005-ArmPlatformPkg-Bds-initialize-ConIn-ConOut-ErrOut-be.patch
  + 0006-ArmPlatformPkg-Bds-let-FindCandidate-search-all-file.patch
  + 0007-ArmPlatformPkg-Bds-FindCandidateOnHandle-log-full-de.patch
  + 0008-ArmPlatformPkg-Bds-fall-back-to-Boot-Menu-when-no-de.patch
  + 0009-ArmPlatformPkg-Bds-always-connect-drivers-before-loo.patch
  + 0010-avoid-potentially-uninitialized-variable.diff
- Remove the prefix of the arm patches
  + ovmf-0001-ArmPlatformPkg-ArmVirtualizationPkg-enable-DEBUG_VER.patch
  + ovmf-0002-ArmPlatformPkg-Bds-generate-ESP-Image-boot-option-if.patch
  + ovmf-0003-ArmPlatformPkg-Bds-check-for-other-defaults-too-if-u.patch
  + ovmf-0004-ArmPlatformPkg-ArmVirtualizationPkg-auto-detect-boot.patch
  + ovmf-0005-ArmPlatformPkg-Bds-initialize-ConIn-ConOut-ErrOut-be.patch
  + ovmf-0006-ArmPlatformPkg-Bds-let-FindCandidate-search-all-file.patch
  + ovmf-0007-ArmPlatformPkg-Bds-FindCandidateOnHandle-log-full-de.patch
  + ovmf-0008-ArmPlatformPkg-Bds-fall-back-to-Boot-Menu-when-no-de.patch
  + ovmf-0009-ArmPlatformPkg-Bds-always-connect-drivers-before-loo.patch
  + ovmf-0010-avoid-potentially-uninitialized-variable.diff

-------------------------------------------------------------------
Thu May 14 06:59:14 UTC 2015 - glin@suse.com

- Update to R17446
  + OvmfPkg: AcpiS3SaveDxe: fix protocol usage hint in the INF file
  + OvmfPkg: extract some bits and port offsets common to Q35 and
    I440FX
  + MdeModulePkg: Add ESRT management module.
  + MdeModulePkg: Add ESRT management protocol definition
  + MdePkg: Add Microsoft UX capsule GUID & layout
  + SecurityPkg: Update SecureBootConfigDxe to support ARM image
  + SecurityPkg Variable: Make PK & SecureBootMode consistent
  + MdeModulePkg DxeCore: Add read only memory support
  + OvmfPkg: QemuBootOrderLib: parse OFW device path nodes of PCI
    bridges
  + MdePkg: Add UEFI 2.5 SD (Secure Digital) Device Path Definitions
  + Hash2 driver to [Components.IA32, Components.X64, Components.IPF]
    section
  + ArmVirtualizationPkg: Enable secure boot for ArmVirtualizationQemu
  + ArmPlatformPkg: enable use of authenticated variables in
    NorFlashDxe
- Refresh patch
  + ovmf-0002-ArmPlatformPkg-Bds-generate-ESP-Image-boot-option-if.patch
- Enable Secure Boot for AArch64
- Remove the workaround for SLE11

-------------------------------------------------------------------
Thu May  7 10:13:13 UTC 2015 - glin@suse.com

- Although ovmf-gdb-symbols.patch has been included for a while,
  it's not mentioned in changelog and legal-auto script is not
  happy with it.

-------------------------------------------------------------------
Thu May  7 06:58:50 UTC 2015 - glin@suse.com

- Update to R17351
  + BaseTools: Fix build fail issue
  + MdeModluePkg: Enable refresh opcode to refresh the entire form
  + BaseTool: Add refresh form opcode in vfrcompiler
  + MdeModulePkg: Add BootManagerMenuApp
  + MdeModulePkg: Add BdsDxe driver and PlatformBootManagerNull
    library
  + MdeModulePkg: Add UefiBootManagerLib
  + MdePkg: Update the UEFI version to reflect new revision
  + OvmfPkg: Use the new PCDs defined in MdePkg and MdeModulePkg
  + MdePkg: Add UEFI2.5 bluetooth protocol/devicepath definition
  + Add UEFI2.5 HASH protocol implementation 
  + MdeModulePkg: Add UEFI2.5 and PI1.4 PersistentMemory feature
  + MdePkg: Add ESRT Interface Definitions
  + Various fixes for Shell
- Drop ovmf-sle-11-gcc47.patch
  + The NASM version in SLE11 is too old to build the newer ovmf
- Rename the ARM patches to make the legal-auto script happy
  + ovmf-0001-ArmPlatformPkg-ArmVirtualizationPkg-enable-DEBUG_VER.patch
  + ovmf-0002-ArmPlatformPkg-Bds-generate-ESP-Image-boot-option-if.patch
  + ovmf-0003-ArmPlatformPkg-Bds-check-for-other-defaults-too-if-u.patch
  + ovmf-0004-ArmPlatformPkg-ArmVirtualizationPkg-auto-detect-boot.patch
  + ovmf-0005-ArmPlatformPkg-Bds-initialize-ConIn-ConOut-ErrOut-be.patch
  + ovmf-0006-ArmPlatformPkg-Bds-let-FindCandidate-search-all-file.patch
  + ovmf-0007-ArmPlatformPkg-Bds-FindCandidateOnHandle-log-full-de.patch
  + ovmf-0008-ArmPlatformPkg-Bds-fall-back-to-Boot-Menu-when-no-de.patch
  + ovmf-0009-ArmPlatformPkg-Bds-always-connect-drivers-before-loo.patch
  + ovmf-0010-avoid-potentially-uninitialized-variable.diff

-------------------------------------------------------------------
Thu Apr 23 03:33:36 UTC 2015 - glin@suse.com

- Update ovmf-embed-default-keys.patch to embed the default dbx.
  Also add the dbx list from the UEFI website and enable it in the
  MS flavor. A script, strip_authinfo.pl, was added to strip the
  AuthInfo headers from dbxupdate.bin since those are not necessary
  in dbx.

-------------------------------------------------------------------
Mon Apr 20 03:43:56 UTC 2015 - glin@suse.com

- Update to R17187
  + Save initial TSVal from TCP connection initiation packets
  + BaseTools/Ecc: Add ECC (EFI Code Checker) Binary into BaseTools
    bin directory
  + MdePkg: Add ESRT Interface Definitions
  + OvmfPkg: XenConsoleSerialPortLib: deal with output overflow
  + OvmfPkg: Q35: Use correct ACPI PM control register:bit
  + PXE driver bug fix
  + A failed PXEv6 after a success PXEv4 will cause ASSERT
  + MdePkg: BaseSynchronizationLib: fix Increment/Decrement retvals
    for ARM
  + Updated Memory Error Record Per UEFI Specification 2.4a
  + MdeModulePkg BootScriptExecutorDxe: Use ImageContext.ImageSize
    to allocate memory for PE image to handle the case PE file
    alignment is not same as PE section alignment.
  + Fix GCC hang issue: Point should use directly assignment
    instead of IP4_COPY_ADDRESS.
  + SecurityPkg Variable: Update code in ProcessVariable ()
- Update openssl to 0.9.8zf

-------------------------------------------------------------------
Tue Mar 17 03:10:34 UTC 2015 - glin@suse.com

- Update to R17055
  + OvmfPkg: include XHCI driver
  + ArmVirtualizationPkg/ArmVirtualizationQemu: include XHCI driver
  + ArmVirtualizationPkg: build UEFI shell from source
  + SecurityPkg Variable: Allow the delete operation of common auth
    variable at user physical presence
  + Set network boot option to the default last priority
  + MdeModulePkg: improve scalability of memory pools
  + MdeModulePkg: use correct granularity when allocating pool
    pages 

-------------------------------------------------------------------
Fri Mar  6 03:22:51 UTC 2015 - glin@suse.com

- Update to R17007
  + ArmVirtualizationPkg: PlatformIntelBdsLib: lack of QEMU kernel
    is no error
  + Improve Xen support in Ovmf
  + ArmVirtualizationPkg: PlatformIntelBdsLib: display TianoCore
    logo
  + ArmVirtualizationPkg/ArmVirtualizationQemu: add USB keyboard
    input
  + ArmVirtualizationPkg/ArmVirtualizationQemu: add VGA console
    output
  + ArmVirtualizationPkg/ArmVirtualizationQemu: enable PCI support
  + OvmfPkg/QemuVideoDxe: enable ARM builds
  + Improve ACPI support in Ovmf
  + OvmfPkg/PlatformBdsLib: Signal ReadyToBoot before booting QEMU
    kernel
  + ArmPkg/ArmLib.h: Add CPU Affinity definitions
  + OvmfPkg/SMBIOS: Provide default Type 0 (BIOS Information)
    structure
  + NetworkPkg: Code refine to avoid NULL pointer dereferenced
  + DHCP6 bug fix
  + BaseTools/GenFw: Set the PE/COFF attribute BaseOfData with the
    address of the first '.data' section
  + OvmfPkg: Update PlatformBaseDebugLibIoPort library
  + Various fixes for shell
- Update ARM patches

-------------------------------------------------------------------
Fri Feb  6 10:47:54 UTC 2015 - lnussel@suse.de

- update to R16775
- add RH patches for ARM

-------------------------------------------------------------------
Tue Jan  6 07:51:52 UTC 2015 - glin@suse.com

- Update to R16580
  + MdeModulePkg Variable: Implement VarCheck PROTOCOL and follow
    UEFI spec to check UEFI defined variables
  + ArmVirtualizationPkg: Intel BDS: load EFI-stubbed Linux kernel
    from fw_cfg
  + ArmVirtualizationPkg: identify "new shell" as builtin shell
    for Intel BDS
  + ArmVirtualizationPkg: PlatformIntelBdsLib: adhere to QEMU's
    boot order
  + OvmfPkg: QemuBootOrderLib: OFW-to-UEFI translation for
    virtio-mmio
  + OvmfPkg: QemuBootOrderLib: widen ParseUnitAddressHexList() to
    UINT64
  + ArmVirtualizationPkg: VirtFdtDxe: use dedicated
    VIRTIO_MMIO_TRANSPORT_GUID
  + OvmfPkg: introduce VIRTIO_MMIO_TRANSPORT_GUID
  + OvmfPkg: QemuBootOrderLib: featurize PCI-like device path
    translation
  + OvmfPkg: extract QemuBootOrderLib
  + ArmVirtualizationPkg: PlatformIntelBdsLib: add basic policy
  + ArmVirtualizationPkg: clone PlatformIntelBdsLib from
    ArmPlatformPkg
  + ArmVirtualizationPkg: introduce QemuFwCfgLib instance for DXE
    drivers
  + ArmVirtualizationPkg: VirtFdtDxe: forward FwCfg addresses from
    DTB to PCDs
  + MdeModulePkg/FvSimpleFileSystem:Fix a potential NULL
    dereference issue
  + Correct the Hash Calculation for Revoked X.509 Certificate to
    align with RFC3280 and UEFI 2.4 Spec
  + MdeModulePkg/FvSimpleFileSystem: Add a new module to provide
    access to executable files in FVs
  + OvmfPkg: enable IPv6 support
  + Fix a bug that the gateway is not necessary in a simple PXE
    network
  + ArmPkg/BdsLib: Update the size of the Device Tree before
    booting Linux
  + ArmPkg/BdsLib: Rework TFTP boot
  + MdePkg: UefiScsiLib: do not encode LUN in CDB for SCSI commands
  + Correct the alignment calculation of PE/COFF attribute
    certificate entry 
  + OvmfPkg: CsmSupportLib: depend on OvmfPkg.dec explicitly
  + OvmfPkg: AcpiPlatformDxe: make dependency on PCI enumeration
    explicit
  + MdePkg/MdeModulePkg: Implement the missing
    SetMemorySpaceCapabilities function
  + Various fixes for shell
- Set the flag to enable IPv6 support
- Refresh ovmf-embed-default-keys.patch

-------------------------------------------------------------------
Tue Nov 18 07:01:54 UTC 2014 - glin@suse.com

- Update to R16398
  + OvmfPkg: PlatformBdsLib: Dynamic PCI Interrupt Line register
    setup
  + SecurityPkg: VariableServiceSetVariable(): fix dbt <-> GUID
    association
  + CryptoPkg: OpenSslSupport.h: edk2-ize offsetof() macro for
    gcc-4.8 / X64
  + CryptoPkg: TimestampTokenVerify(): fix gcc-4.8 / Ia32 build
    failure
  + UEFI 2.4 X509 Certificate Hash and RFC3161 Timestamp
    Verification support for Secure Boot
  + OvmfPkg: PlatformBdsLib: Platform dependent
    PCI/IRQ initialization
  + OvmfPkg: AcpiTimerLib: Split into multiple phase-specific
    instances
  + OvmfPkg: PlatformPei: Platform specific ACPI power management
    setup
  + OvmfPkg: Factor out platform detection (q35 vs. piix4)
  + UefiCpuPkg/CpuDxe: install Mp Service protocol
  + UefiCpuPkg/CpuDxe: introduce EFI_MP_SERVICES_PROTOCOL
  + ArmPkg/ArmGicLib: select GICv2 mode if SRE is present but
    unavailable
  + OvmfPkg/XenPvBlkDxe: Don't include system inttypes.h
  + ArmPlatformPkg: fix undefined reference to memcpy
  + CryptoPkg Updates to support RFC3161 timestamp signature
    verification
  + MdeModulePkg DxeCore/PiSmmCore: Add UEFI memory and SMRAM
    profile support

-------------------------------------------------------------------
Tue Nov 11 08:15:31 UTC 2014 - glin@suse.com

- Update to R16329
  + ArmPkg/ArmArchTimerLib: Promotes 32bit value to prevent
    overflow
  + ArmPkg/CompilerIntrinsicesLib: Fixed memmove() and memset()
  + ArmPkg: Ensured the stack is always quad-word aligned
  + ArmPlatformPkg: Increase more ARM address Pcd entries to 64-bit
  + Fix execution status & DEBUG message level mismatch
  + OvmfPkg: set video resolution of text setup to 640x480
  + OvmfPkg: BDS: drop custom boot timeout, revert to
    IntelFrameworkModulePkg's
  + OvmfPkg: BDS: drop superfluous "connect first boot option"
    logic
  + OvmfPkg: BDS: optimize second argument in
    PlatformBdsEnterFrontPage() call
  + OvmfPkg: BDS: don't overwrite the BDS Front Page timeout
  + OvmfPkg: BDS: drop useless return statement
  + OvmfPkg: BDS: remove dead call to PlatformBdsEnterFrontPage()
  + BaseTools/GenFw: Fixed R_AARCH64_CALL26/R_AARCH64_JUMP26 when
    referring to start of a section 
  + Various fixes for ShellPkg
  + Convert the assembly code in OVMF to NASM
  + MdeModulePkg/SecurityPkg Variable: Add boundary check for
    while (IsValidVariableHeader (Variable))
  + Add Xen support for OVMF
  + OvmfPkg: Add the MIT license to License.txt
  + ArmPkg/ArmLib: Removed duplicated invalidate TLB function
  + ArmPlatformPkg/ArmShellCmdRunAxf: Added 'runaxf' cmd to shell
- Amend the spec file to use the system gcc version as the tool
  chain tag

-------------------------------------------------------------------
Wed Oct 22 10:13:08 UTC 2014 - glin@suse.com

- Update to R16226
  + ArmVirtualizationPkg: FdtPL011SerialPortLib: support
    UEFI_APPLICATION
  + ArmPlatformPkg/ArmVirtualizationPkg: Added support for Intel
    BDS
  + ArmPkg/ArmLib/AArch64: Initialize the new N+1-level page table
    before registering it
  + ArmPkg/UncachedMemoryAllocationLib: Track uncached memory
    allocations
  + ArmPkg/ArmPsciResetSystemLib: Made the library only using SMC
  + ArmPlatformPkg/Bds: Reduce boot device entries
  + Various fixes for ShellPkg
  + OvmfPkg: disable stale fork of SecureBootConfigDxe
- Drop upstreamed ovmf-use-generic-sb-config.patch

-------------------------------------------------------------------
Wed Oct  1 02:37:34 UTC 2014 - glin@suse.com

- Update to R16190
  + OvmfPkg: AcpiPlatformDxe: implement QEMU's full ACPI table
    loader interface
  + OvmfPkg: AcpiPlatformDxe: actualize QemuLoader.h comments
  + OvmfPkg: resolve OrderedCollectionLib with base red-black tree
    instance
  + Fix X64 native function call prolog
  + Add ArmVirtualizationQemu platform
  + Various fixes for ShellPkg
- Enable AArch32 and AArch64 QEMU rom images
- Drop the rom images for Foundation Model
- Drop upstreamed ovmf-correct-debug-path.patch
- Drop upstreamed edk2-basetools-aarch64.patch

-------------------------------------------------------------------
Tue Sep 16 07:33:48 UTC 2014 - glin@suse.com

- Update to R16106
  + OvmfPkg: resolve BcfgCommandLib class for
    ShellPkg/.../Shell.inf
  + OvmfPkg: AcpiTimerLib: Access power mgmt regs based on host
    bridge type
  + OvmfPkg: QemuVideoDxe: work around misreported QXL framebuffer
    size
  + OvmfPkg: Build OVMF ResetVector during EDK II build process
  + Update openssl to 0.9.8zb
  + Replace GAS Thunk16 with NASM version
  + Various fixes for ShellPkg
- Add ovmf-*-code.bin and ovmf-*-vars.bin for the better flash
  mode support
- Refresh edk2-basetools-aarch64.patch

-------------------------------------------------------------------
Thu Aug 21 11:23:11 UTC 2014 - lnussel@suse.de

- also build a firmware with the openSUSE 4096 bit CA embedded

-------------------------------------------------------------------
Thu Aug 14 09:06:28 UTC 2014 - glin@suse.com

- Amend the spec file to package the debug files and update README
  for the source level debugging
- Add gdb_uefi.py.in: the helper script to load the debug symbols
- Update to R15801
  + OvmfPkg/build.sh: Support IA32+X64 build
  + OvmfPkg/build.sh: Add support for GCC49 toolchain
  + Add ACPI5.1 header file
  + BaseTools: various fixes and add support for GCC49
  + OvmfPkg: build OVMF_VARS.fd, OVMF_CODE.fd, OVMF.fd
  + OvmfPkg: extract varstore-related FD Layout Regions to an
    include file
  + StdLib: various fixes and code cleanup
  + Fix segfault while the pointers passed to WaitForEvent() are
    NULL
  + Update openssl to 0.9.8za
  + Correct the default value for date opcode
  + XhciPei/UsbBusPei: Add XHCI recovery support
  + Fix a bug in IP4 driver when computing the network broadcast
    adress
  + Fix the potential address overflow issue when checking PE
    signature
  + OvmfPkg: add missing braces to aggregate and/or union
    initializers
  + OvmfPkg: AcpiPlatformDxe: don't rely on unstable QEMU interface
  + OvmfPkg: AcpiPlatformDxe: exclude RSD PTR from QEMU's fw_cfg
    payload
  + OvmfPkg: AcpiPlatformDxe: pass FwCfgFile to
    InstallQemuLinkedTables()
  + OvmgPkg: QemuFwCfgLib: export QEMU_FW_CFG_FNAME_SIZE
  + Initialize the PCI device path earlier to avoid the possible
    crash
  + Create boot option for all block IO devices
  + ShellPkg: various fixes
- Refresh OVMF-correct-debug-path.patch

-------------------------------------------------------------------
Wed Aug 13 09:32:33 UTC 2014 - glin@suse.com

- Rename filenames to match the package name 

-------------------------------------------------------------------
Wed May 28 09:13:09 UTC 2014 - glin@suse.com

- Update to R15547
  + Fix memory corruption after S3
  + QemuVideoDxe: Int10h stub for Windows 7 & 2008 (stdvga, QXL)
  + Add QEMU support to OVMF SMBIOS driver

-------------------------------------------------------------------
Thu Apr  3 07:18:06 UTC 2014 - glin@suse.com

- Update to R15426
  + AcpiPlatformDxe: download ACPI tables from QEMU
  + PlatformDxe: set preferred video resolution from platform
    config
  + QemuBootOrder: don't leak unreferenced boot options
  + Support S3 suspend
  + Bug fixes for QemuVideoDxe
    prefered resolution
  + Various fixes for ShellPkg
- Refresh OVMF-use-generic-sb-config.patch

-------------------------------------------------------------------
Tue Feb 18 09:57:47 UTC 2014 - glin@suse.com

- Update to R15245
  + OvmfPkg: Reorganize the memory layout
  + OvmfPkg: unify PcdMaxVariableSize at 0x2000 bytes
  + Fix bug that PXEv4 boot fail if PXEv6 is performed firstly
  + Update PXE driver to support PXE forced mode
  + OvmfPkg: QemuFwCfgLib: implement for SEC
  + OvmfPkg: VirtioBlkInit(): expose virtio-blk topology in BlockIo
  + OvmfPkg: QemuFlashFvbServicesRuntimeDxe: fix out-of-LBA write
    access
  + OvmfPkg/QemuVideoDxe: child handles should have open parent
    protocol BY_CHILD_CONTROLLER
  + UefiCpuPkg: S3Resume2Pei: align return stacks explicitly
  + Virtio drivers: fix incorrect casts in init functions
  + Use the new VIRTIO_DEVICE_PROTOCOL protocol
  + Various fixes for ShellPkg
  + Support Xen better
  + Fixed the system hang on VM with >2GB RAM
  + Fix a bug in Fat driver that it asserts when
    OpenEx/ReadEx/WriteEx is about to return failure
  + Updated OvmfPkg to use suitable CPU Exception Handler Library
    instances
  + Updated CPU Exception Handler Library
  + Add Reserve Interrupt and Exception Vectors definition defined
    in PI 1.2.1.
  + QemuVideoDxe: don't leak descriptors returned by
    GetBarAttributes
- Add OVMF-correct-debug-path.patch to correct the path to the
  debug symbols
- Enable AArch64 UEFI image build against Foundation Model
- Drop OVMF-more-gcc-def.patch: just use the flags for gcc 4.7

-------------------------------------------------------------------
Mon Nov 18 06:48:11 UTC 2013 - glin@suse.com

- Update to R14854
  + Support --enable-flash switch
  + Use rsp instead of esp to save 64-bit stack pointer
  + Fix the bug that SetTimer () cannot work when Type is
    TimerPeriodic and TriggerTime is 0
  + Several Virtio fixes
  + emulated NV storage must be EfiRuntimeServicesData
  + Fix a bug about the iSCSI DHCP dependency issue
  + correctly align emulated NV storage
  + Update ATA drivers to follow UEFI2.4 new request
  + Restore the correct cursor status after finish creating the
    dialog
  + Fix display engine driver paint some menu error
  + Fix a bug about the VendorKey variable update logic
  + Several fixes for shell commands
  + Fix spelling typo in the NIC_IP4_CONFIG_INFO.Permanent variable
    name
  + Added VirtIo Subsystem IDs
  + Add the definition for Timestamp Protocol and a new  driver
    base on TimerLib to produce Timestamp protocol
  + Fix modal form display error
  + Fix form flash issue
  + Fix the BdsExpandPartitionPartialDevicePathToFull() hang issue
- Update README about the flash mode support

-------------------------------------------------------------------
Wed Sep 25 06:06:50 UTC 2013 - glin@suse.com

- Update to R14721
  + Fix EFI handover flag
  + Build early pagetable for the machines without EPT
  + Enable caching in initial page tables
  + Fix pool allocation in shell
  + Improve QemuBootOrder
- Drop upstreamed OVMF-build-early-pagetable.patch 

-------------------------------------------------------------------
Fri Sep  6 08:58:31 UTC 2013 - glin@suse.com

- Strip CR from the license files
- Update README

-------------------------------------------------------------------
Thu Sep  5 02:59:08 UTC 2013 - glin@suse.com

- Rename the package name from OVMF to ovmf
- Update to R14609
  + Fixes for virtio disk
  + Build the new shell by default
  + Fix EFI memory mapping in Linux loader
  + Add gcc47 definition
- Refresh OVMF-more-gcc-def.patch and OVMF-sle-11-gcc47.patch
- Add OVMF-build-early-pagetable.patch to fix the black screen
  issue on the CPU without EPT support 
- Drop upstreamed OVMF-fix-shell-warning.patch
- Drop patches and use the build parameters instead:
  OVMF-enable-secure-boot.patch and OVMF-add-ovmf-targets.patch
- Install license files
- Add _service to checkout the source code from svn

-------------------------------------------------------------------
Thu Aug 29 09:10:56 UTC 2013 - lnussel@suse.de

- when built in devel project also create a firmware variant that
  includes the devel project key
- include new 2048 bit openSUSE keys

-------------------------------------------------------------------
Tue Aug 27 10:26:51 UTC 2013 - glin@suse.com

- Add OVMF-sle-11-gcc47.patch for SLE-11-SP3
- Clean up the spec file
- Only embed keys in the x86_64 roms since openSUSE/SUSE and
  Microsoft only support secure boot on x86_64 machines

-------------------------------------------------------------------
Mon Aug 26 08:11:18 UTC 2013 - glin@suse.com

- Package OVMF roms in qemu-ovmf-*
- Rename patches
  + 0001-OVMF-Enable-secure-boot-and-expand-X64-rom-size.patch to
    OVMF-enable-secure-boot.patch
  + 0002-edk-targets-for-x86_64.patch to
    OVMF-add-ovmf-targets.patch (also enable IA32)
- Merge 0004-add-GCC47-definition-one-removal-of-melf_x86_64.patch
  and OVMF-gcc48-definition.patch into OVMF-more-gcc-def.patch
- Drop 0003-edk2-add-readme.patch and maintain README outside the
  tarball
- Drop 0005-edk-image-size.patch
- Drop 0006-edk-add-shell.efi-target.patch since we don't build
  shell.efi anymore 

-------------------------------------------------------------------
Thu Aug 22 10:13:47 UTC 2013 - glin@suse.com

- Update to R14547
- Drop upstreamed OVMF-fix-shell-warning.patch

-------------------------------------------------------------------
Mon Jul 15 09:09:22 UTC 2013 - glin@suse.com

- Update to R14466
- Add OVMF-fix-shell-warning.patch to fix a compilation warning in
  shell
- Drop upstreamed OVMF-adjust-variable-size.patch and
  OVMF-convert-virtual-address.patch

-------------------------------------------------------------------
Mon Jul  8 09:54:40 UTC 2013 - glin@suse.com

- Add OVMF-gcc48-definition.patch for gcc 4.8

-------------------------------------------------------------------
Mon Jun 10 08:35:18 UTC 2013 - glin@suse.com

- Add OVMF-convert-virtual-address.patch to convert
  mLockedVariableList to virtual address to fix crash when updating
  variables in Runtime

-------------------------------------------------------------------
Wed Jun  5 09:56:49 UTC 2013 - glin@suse.com

- Update to R14395
- Add OVMF-use-generic-sb-config.patch to use the generic secure
  boot config menu
- Drop OVMF-multi-signatures.patch

-------------------------------------------------------------------
Wed May 29 03:39:56 UTC 2013 - glin@suse.com

- Update to R14387
- Add OVMF-adjust-variable-size.patch to adjust the default maximum
  variable size to avoid crash
- Remove upstreamed OVMF-new-shell-error-string.patch
- Disable OVMF-multi-signatures.patch
- Build the image with openSUSE keys

-------------------------------------------------------------------
Tue May 14 07:59:13 UTC 2013 - glin@suse.com

- Refresh OVMF-embed-default-keys.patch to fix a bug that causd the
  enrolled keys overwritten by the default keys after system reset.
- Add OVMF-new-shell-error-string.patch to add newer error status
  strings
- Enable the new shell

-------------------------------------------------------------------
Fri May 10 04:09:19 UTC 2013 - glin@suse.com

- Add OVMF-embed-default-keys.patch to embed keys at build time
- Build images with SUSE and MS keys

-------------------------------------------------------------------
Fri Mar 22 02:58:23 UTC 2013 - glin@suse.com

- Add OVMF-multi-signatures.patch (R14141)
- New package OVMF based on James Bottomley's OVMF package (R14071)
