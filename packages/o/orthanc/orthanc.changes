-------------------------------------------------------------------
Wed Dec 30 13:15:11 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- Workaround for boo#1180359 

-------------------------------------------------------------------
Sat Dec 19 12:53:48 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- Version 1.8.2
* ZIP archives containing DICOM files can be uploaded using WebDAV
* New config option "MallocArenaMax" to control memory usage on GNU/Linux
* Explicit error log if trying to load a 32bit (resp. 64bit) plugin into
  a 64bit (resp. 32bit) version of Orthanc
* New configuration options contributed by Varian Medical Systems:
  - "DeidentifyLogs" to remove patient identification from the logs (C-GET, C-MOVE, C-FIND)
  - "DeidentifyLogsDicomVersion" to specify the deidentification rules for the logs
  - "OrthancExplorerEnabled" to enable/disable the Orthanc Explorer Web user interface
  - "SslMinimumProtocolVersion" to set the minimal SSL protocol version (now defaults to SSL 1.2)
  - "SslCiphersAccepted" to set the accepted ciphers over SSL (now defaults to FIPS 140-2)
* New configuration options related to ingest transcoding:
  - "IngestTranscodingOfUncompressed" to control whether uncompressed transfer syntaxes are transcoded
  - "IngestTranscodingOfCompressed" to control whether compressed transfer syntaxes are transcoded
* "/instances" can be used to import ZIP archives provided in the POST body
* Allow concurrency on the OrthancPluginRegisterIncomingHttpRequestFilter() callbacks
* Allow empty request body in "/modalities/{id}/echo"
* If meta-header is missing, best-effort to extract "TransferSyntax" in "/instances/{id}/metadata"

-------------------------------------------------------------------
Tue Dec  8 06:35:51 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- Version 1.8.1
* adaption to new systemd-macros (OBS)
* New sample tool "OrthancImport.py" to easily import compressed archives (ZIP) into Orthanc
* Logging categories (cf. command-line options starting with "--verbose-" and "--trace=")
* New command-line option "--trace-dicom" to access full debug information from DCMTK
* New config option "DicomEchoChecksFind" to automatically complement C-GET SCU with C-FIND SCU
* API version upgraded to 9
* "/tools/dicom-echo": Execute C-Echo SCU to a modality that is not registered in "/modalities"
* "/tools/log-level-*": Dynamically access and/or change the verbosity of logging categories
* "/peers/{id}/configuration": Get the configuration of one peer (cf. "/peers?expand")
* "/modalities/{id}/configuration": Get the configuration of one modality (cf. "/modalities?expand")
* "/tools/dicom-echo" and "/modalities/{id}/echo" now accept the field "CheckFind" in their JSON
  body to complement C-GET SCU with C-FIND SCU ("DicomEchoChecksFind" on a per-connection basis)
* Archive/media jobs report the size of the created ZIP file in content field "ArchiveSizeMB"
* New function in the SDK: OrthancPluginGenerateRestApiAuthorizationToken()
* C-GET SCP: Fix responses and handling of cancel
* Fix decoding sequence if "BuiltinDecoderTranscoderOrder" is "Before"
* Fix keep-alive in the embedded HTTP server by setting the "Keep-Alive" HTTP header
* Fix access to videos as a single raw frame (feature broken since Orthanc 1.6.0)
* REST API now returns 404 error if deleting an inexistent peer or modality
* Improved forward ABI compatibility of Orthanc Framework (notably, no inline methods anymore)
* Upgraded dependencies for static builds (notably on Windows and LSB):
  - civetweb 1.13

-------------------------------------------------------------------
Fri Oct 16 10:46:46 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- version 1.8.0
* Serving the content of Orthanc as a WebDAV network share
* New config options: "WebDavEnabled", "WebDavDeleteAllowed" and "WebDavUploadAllowed"

-------------------------------------------------------------------
Fri Sep 18 14:50:14 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- Version 1.7.4
* New configuration options to enable HTTP peers identification through certificates:
  "SslVerifyPeers" and "SslTrustedClientCertificates"
* New configuration option "SyncStorageArea" to immediately commit the files onto the disk
  (through fsync()), so as to avoid discrepencies between DB and filesystem in case of hard
  shutdown of the machine running Orthanc. This slows down adding new files into Orthanc.
* Underscores are now allowed in peers/modalities symbolic names
* Fix compatibility with C-MOVE SCU requests issued by Ambra
* Fix transcoding in C-MOVE SCP, in the case where "SynchronousCMove" is "true"
* When checking DICOM allowed methods, if there are multiple modalities with the same AET, 
  differentiate them from the calling IP
* Enable the access to raw frames in Philips ELSCINT1 proprietary compression
* Support empty key passwords when using HTTP client certificates
* Fix handling of "ModalitiesInStudy" (0008,0061) in C-FIND and "/tools/find"

-------------------------------------------------------------------
Tue Aug 25 09:02:07 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- Version 1.7.3

* API version upgraded to 8
* "/peers/{id}/store": New option "Compress" to compress DICOM data using gzip
* "OrthancPeerStore" jobs now report the transmitted size in their public content
*  New config option "Worklist.LimitAnswers" for the sample modality worklist plugin
* Add missing tag "Retrieve AE Title (0008,0054)" in C-FIND SCP responses
* Fix DICOM SCP filters if some query tag has > 256 characters (list of UIDs matching)
* "/series/.../ordered-slices" supports spaces in Image Position/Orientation Patient tags
* Fix possible crash in HttpClient if sending multipart body (can occur in STOW-RS)
* Support receiving multipart messages larger than 2GB in the embedded HTTP server 

-------------------------------------------------------------------
Sun Aug  2 15:19:18 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- Version 1.7.2 
  * C-FIND SCP now returns private tags (cf. option "DefaultPrivateCreator")
  * Packaging of the Orthanc framework as a shared library
  * New change types in the SDK: JobSubmitted, JobSuccess, JobFailure
  * Issue #182: Better reporting of errors in plugins reading chunked HTTP body
  * Fix issue #183 (C-ECHO always fails in Orthanc Explorer, regression from 1.6.1 to 1.7.0)

-------------------------------------------------------------------
Wed May 27 14:24:06 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- version 1.7.1
* Fix decoding of DICOM images for plugins (for compatibility with
  Orthanc Web Viewer 2.6) 

-------------------------------------------------------------------
Fri May 22 17:22:11 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- new version 1.7.0
  * Support of DICOM C-GET SCP (contribution by Varian)
  * DICOM transcoding over the REST API
  * Transcoding from compressed to uncompressed transfer syntaxes over DICOM
  C-STORE SCU (if the remote modality doesn't support compressed syntaxes)
  * New configuration options related to transcoding:
  "TranscodeDicomProtocol", "BuiltinDecoderTranscoderOrder",
  "IngestTranscoding" and "DicomLossyTranscodingQuality"
  * See NEWS for details

-------------------------------------------------------------------
Wed Apr 22 17:59:05 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- version 1.6.1
  sqlitewrapper.patch removed (included in 1.6.1)

-------------------------------------------------------------------
Sun Apr  5 07:33:34 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- sqlitewrapper.patch (boo#1167431) 

-------------------------------------------------------------------
Wed Mar 25 19:08:48 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- various security hardenings (boo#1167431)

-------------------------------------------------------------------
Tue Mar 24 19:34:05 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- ConnectivityCheck Plugin enabled in build

-------------------------------------------------------------------
Fri Mar 20 13:16:54 UTC 2020 - Axel Braun <axel.braun@gmx.de>

- version 1.6.0
  bugfixes and improvements (see /usr/share/doc/packages/orthanc/NEWS
  rpmlintrc for some rpmlint warnings
  
-------------------------------------------------------------------
Tue Dec 17 09:02:21 UTC 2019 - Axel Braun <axel.braun@gmx.de>

- for i586, one test disabled (fail due to rounding issues)

-------------------------------------------------------------------
Thu Oct 17 00:02:56 UTC 2019 - Axel Braun <axel.braun@gmx.de>

- version 1.5.8
  * various bugfixes, see NEWS for details

-------------------------------------------------------------------
Tue Aug 13 08:06:42 UTC 2019 - Axel Braun <axel.braun@gmx.de>

- version 1.5.7
  * Documentation added 

-------------------------------------------------------------------
Mon Feb 25 17:30:32 UTC 2019 - Axel Braun <axel.braun@gmx.de>

- version 1.5.5

-------------------------------------------------------------------
Fri Feb  8 16:17:54 UTC 2019 - Axel Braun <axel.braun@gmx.de>

- version 1.5.4
  civetweb.patch removed
  various bugfixes

-------------------------------------------------------------------
Wed Jan 30 15:55:39 UTC 2019 - axel.braun@gmx.de

- civetweb.patch added 

-------------------------------------------------------------------
Tue Jan 29 19:35:06 UTC 2019 - Axel Braun <axel.braun@gmx.de>

- version 1.5.3
  * New configuration option: "SaveJobs" to specify whether jobs are stored in the database
  * Don't return tags whose group is below 0x0008 in C-FIND SCP answers
  * Fix compatibility with DICOMweb plugin (allow multipart answers over HTTP Keep-Alive)
  * Fix issue #73 (/modalities/{modalityId}/store raises 500 errors instead of 404)
  * Fix issue #90 (C-Find shall match missing tags to null/empty string)
  * Fix issue #119 (/patients/.../archive returns a 500 when JobsHistorySize is 0)
  * Fix issue #128 (Asynchronous C-MOVE: invalid number of remaining sub-operations)

-------------------------------------------------------------------
Tue Jan 22 12:36:58 UTC 2019 - Axel Braun <axel.braun@gmx.de>

- version 1.5.2
  temporary fixes for civetweb 1.11 removed

-------------------------------------------------------------------
Sat Dec 22 16:41:25 UTC 2018 - Axel Braun <axel.braun@gmx.de>

- Version 1.5.1
  Initial OBS build
  spec file adapted from Fedora project <s.jodogne@gmail.com>
