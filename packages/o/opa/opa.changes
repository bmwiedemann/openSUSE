-------------------------------------------------------------------
Fri Feb 27 06:35:18 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.14.0:
  * This release contains a mix of new features, performance
    improvements, and bugfixes. Notably:
    - Improved rule indexing of variable assignments and x in {...}
      expressions
    - Support for --h2c with unix domain socket for opa run
    - A new glossary tooltip for technical terms in the docs
    - Fixes published in the v1.13.1 and v1.13.2 releases
  * Improved rule indexing of variable assignments and x in {...}
    expressions (#1841)
    With this change, the rule indexer will index expressions like:

      allow if input.role in {"admin", "user"}

    On lookup, the rule body will only be returned if input.role is
    either one of "admin" or "user".
    The reverse case is also indexed:

      allow if "admin" in input.roles

    in which the searched collection is unknown.
  * Runtime, SDK, Tooling
    - cmd,run: Support --h2c with unix domain socket (UDS) (#8282)
      authored by @srenatus reported by @theJC
    - cmd,tester: Add line number next to test file in pretty
      format (#8328) authored by @sspaink reported by @anderseknert
    - plugins: Fix race accessing registeredTriggers (#8363)
      reported and authored by @szuecs
    - rego: Add ResultValue[T]() helper method (#8320) authored by
      @srenatus
    - runtime: Add custom storage backend registration API (#8277)
      authored and reported by @alex60217101990
    - topdown: Add config option to disable named inter-query
      built-in cache (#7519) authored by @sspaink reported by
      @johanfylling
  * Compiler, Topdown and Rego
    - ast: Add index else == nil test, fix it (#8348) authored by
      @srenatus
    - ast: Add scaffolding to introspect and skip compiler stages
      (#8304) (authored by @srenatus)
    - ast: Ensure term values implement ast.StringLengther (#8374)
      authored by @charlieegan3
    - ast: Fix double-fix for refs["with-a"].dash as package
      (#8286) authored by @srenatus
    - ast: Optimized template-expression handling of values known
      to be defined (#8310) authored by @anderseknert
    - ast: Put rule indices into rule tree, change Values to
      []*Rule (#8298) authored by @srenatus
    - ast: Replace true expr when appending to empty body (#8299)
      authored by @anderseknert
    - ast: Return correct location of unsafe var in object (#7935)
      authored by @sspaink reported by @anderseknert
    - ast: Use StageID in WithStageAfterID, also for QueryCompiler
      (follow-up) (#8306) authored by @srenatus
    - compile: Add StringLength to lazy object (#8369) authored by
      @charlieegan3 reported by @robmyersrobmyers
    - parser: Add test to verify filename interning in Location
      (#8322) authored by @anderseknert
    - perf: Allocate less in array unification (#8351) authored by
      @anderseknert
    - perf: Various minor eval performance tweaks (#8290) authored
      by @anderseknert
    - perf: json.patch + interning improvements (#8289) authored by
      @anderseknert
    - topdown: Optimize bindings allocation with dynamic pre-sizing
      (#7266) authored by @alex60217101990
    - topdown: Preserve original package name with special
      characters in optimized builds (#8284) authored by @sspaink
      reported by @at50989
    - wasm: Updates (LLVM+tools) (#8295) authored by @srenatus
  * Docs, Website, Ecosystem
    - docs: Add examples to glob.match built-in documentation
      (#8252) authored by @sibasispadhi reported by @anderseknert
    - docs: Add workflow to auto update Regal docs (#8318) authored
      by @charlieegan3
    - docs: Document metrics for http.send, regex, and glob
      built-ins (#6730) authored by @anivar reported by @rudrakhp
    - docs: Fix json.patch target description (#8271) authored by
      @anderseknert
    - docs: Update broken links (#8285) authored by @charlieegan3
    - docs: Update bundle signing docs to clarify key config
      (#8307) authored by @charlieegan3
    - docs: Update faulty example using bundle optimize (#5379)
      authored by @sspaink reported by @bluebrown
    - docs: Update interface{} -> any in golang snippets (#8373)
      authored by @srenatus
    - docs/website: Add a new KubeCon event page (#8311) authored
      by @charlieegan3
    - docs/website: Add formatting and linting checks (#8288)
      authored by @charlieegan3
    - docs/website: Allow Regal import to use local dir (#8312)
      authored by @charlieegan3
    - docs/website: Implement new GlossaryTooltip component (#8367)
      authored by @charlieegan3
    - docs/website: Markdown linting and spell checking for
      documentation (#8292) authored by @charlieegan3
    - docs/website: Redirect /docs/latest/ecosystem (#8315)
      authored by @charlieegan3 reported by @tweekSun1
  * Miscellaneous
    - maintainers: Moving nilekhc to emeritus, and renew maintainer
      terms (#8276) authored by @JaydipGabani
    - ast: Add public method to extend the compliance test cases
      with IR plans (#7556) authored by @sspaink reported by
      @shomron
    - ast: Tiny nitpicky cleanup (#8309) authored by @srenatus
    - chore: Clean up bundle storage tests (#8267) authored by
      @anderseknert
    - chore: Remove unnecessary comment from bundle JWT
      verification impl (#8354) authored by @johanfylling
    - ci: Bump golangci-lint (v2.9.0), fix issues (#8314) authored
      by @srenatus
    - ci: Harden and update all GH Actions workflows (#8356, #8377,
      #8368 authored by @philipaconrad and @srenatus
    - go: Cleanup old build flags (#8314) authored by @srenatus
    - rego: Remove superfluous package import of plugins (#6754)
      authored by @srenatus reported by @oxisto
    - tests: Extract runtime Info to new package (#8362) authored
      by @charlieegan3
    - tests: Fix BenchmarkFunctionArgumentCounts query (#8327)
      authored by @alex60217101990
    - tests: Disable rule indexing for benchmark (#8375) authored
      by @srenatus
    - workflows: Add nightly vuln checks for released
      versions/images (#8336 #8339) authored by @srenatus
    - Dependency updates; notably:
      - build: bump golang from 1.25.6 to 1.26.0
      - build(deps): build(deps): bump go.opentelemetry.io deps
        from 1.39.0/0.64.0 to 1.40.0/0.65.0
      - Applying fix for GHSA-9h8m-3fm2-qjrq
      - build(deps): bump github.com/dgraph-io/badger/v4 from 4.9.0
        to 4.9.1
      - build(deps): bump github.com/huandu/go-sqlbuilder from
        1.39.0 to 1.39.1
      - build(deps): bump golang.org/x/net from 0.49.0 to 0.50.0
      - build(deps): bump golang.org/x/text from 0.33.0 to 0.34.0
      - build(deps): bump google.golang.org/grpc from 1.78.0 to
        1.79.1
      - build(deps): bump go.opentelemetry.io deps from
        1.39.0/0.64.0 to 1.40.0/0.65.0

-------------------------------------------------------------------
Wed Feb 18 09:24:56 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.13.2:
  This release updates the version of Go used to build the OPA
  binaries and images to 1.25.7.
  That version of the Go standard library contains a fix for
  GO-2026-4337.

-------------------------------------------------------------------
Fri Jan 30 07:19:11 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.13.1:
  This bug fix release addresses an issue found in the new
  array.flatten built-in function
  - Fix issue in array.flatten handling of single item arrays
    (#8273) (#8272) authored by @anderseknert
- Update to version 1.13.0:
  This release contains a mix of new features, performance
  improvements, and bugfixes. Notably:
  - A new immediate upload trigger mode in the Decision Logger
  - A new array.flatten built-in function
  - Numerous performance improvements
  * Immediate Upload Trigger Mode in Decision Logger (#8110)
    - An immediate trigger mode has been added to the Decision
      Logger; enabled by setting the
      decision_logs.reporting.trigger configuration option to
      immediate.
      When enabled, log events are pushed to the log service as
      soon as the configured upload chunk size criteria is met; or,
      at latest, when the configured upload delay is reached.
  * Runtime, SDK, Tooling
    - cmd/fmt: Do not overwrite file on fmt without changes (#8222)
      authored by @Loic-R
    - cmd/test: Enable sorting JSON test results by duration
      (#7444) authored by @sspaink
    - profiler: nil *Profiler should not report Enabled() (#8256)
      authored by @anderseknert
    - rego: Add Data function to simplify adding data from map
      (#5961) authored by @majiayu000 reported by @anderseknert
    - runtime: Correct naming & docs for version checking (#8191)
      authored by @charlieegan3
  * Compiler, Topdown and Rego
    - ast: Body.String() doesn't panic on empty body (#8244)
      authored by @srenatus
    - ast: Improve type error message when referencing functions
      (#6840) authored by @sspaink
    - ast: Type Checker recognizes when a variable has multiple
      assignments but is an undefined function (#7463) authored by
      @sspaink reported by @anderseknert
    - ast/parser: Avoid duplicate loc copies (#8142) authored by
      @srenatus
    - topdown: Add array.flatten built-in function (#8226) authored
      by @anderseknert
    - topdown: Fix issue where numbers.range_step built-in could
      erroneously return undefined value (#8194) authored by
      @thevilledev
    - topdown: Remove hard-coded missing key error in
      strings.render_template built-in (#7931) authored by
      @colinjlacy reported by @anderseknert
    - topdown: Re-introduce cancellation-awareness for
      regex.replace built-in (#8179) authored by @srenatus
    - from having been reverted in v1.12.1
    - topdown: Support arrays as input for json.match_schema
      (#6615) authored by @sspaink reported by @mscudlik
  * Performance
    - ast: Improved annotations parsing (#8210) authored by
      @anderseknert
    - ast: Reinstate zero-alloc paths in Ref.String() (#8202)
      authored by @anderseknert
    - ast: Replace regex implementation in IsVarCompatibleString
      (#8164) authored by @anderseknert
    - ast: Optimize Set.Intersect and Set.Diff (#8167) authored by
      @thevilledev
    - ast: Optimize Set.Union (#8172) authored by @thevilledev
    - ast: Reduce allocations in Expr.MarshalJSON (#8204) authored
      by @thevilledev
    - ast: Reduce allocations in Rule.MarshalJSON (#8205) authored
      by @thevilledev
    - ast: Reduce allocations in Term.MarshalJSON (#8200) authored
      by @thevilledev
    - ast: Reduce allocations in With.MarshalJSON (#8206) authored
      by @thevilledev
    - perf: String() implementations using appenders (#8192)
      authored by @anderseknert
    - topdown: Avoid redundancy in builtinTrim (#8237) authored by
      @thevilledev
    - topdown: Eliminate closure allocations in Set and virtual doc
      enumeration (#8242) authored by @alex60217101990
    - topdown: Fast paths for array.reverse (#8177) authored by
      @thevilledev
    - topdown: Optimize json.remove and json.filter (#8193)
      authored by @thevilledev
    - topdown: Optimize object built-ins (#8175) authored by
      @thevilledev
    - topdown: Optimize union built-in (#8173) authored by
      @thevilledev
    - topdown: Pre-alloc in various built-ins (#8198) authored by
      @thevilledev
    - topdown: Reduce allocs in float sum/product (#8235) authored
      by @thevilledev
    - topdown: Skip set copy in getObjectKeysParam (#8176) authored
      by @thevilledev
  * Docs, Website, Ecosystem
    - docs: Add authz-spring-boot-starter to Spring Security API
      ecosystem entry (#8234) authored by @francois-eckert
    - docs: Add header for crypto example to make (#8259) authored
      by @charlieegan3
    - docs: Add notes for automated agents (#8147, #8203) authored
      by @charlieegan3
    - docs: Add opa-wasm-zig to the ecosystem (#8163) authored by
      @burdzwastaken
    - docs: Add scripts to import docs from source (#8148) authored
      by @charlieegan3
    - docs: Explain how to use the SDK without a initialising a
      server (#8248) authored by @andrewcameronsims
    - docs: Fix a number of redirecting links (#8165 authored by
      @charlieegan3
    - docs: Fix template-expression examples (#8199) authored by
      @johanfylling
    - docs/ocp: Mention source prefix/path options (#8238) authored
      by @srenatus
    - website: Add redirect section for immutable referrers (#8262)
      authored by @charlieegan3 reported by @KraLeoD
    - website: Display 2025 survey results on the website (#8258)
      authored by @charlieegan3
    - website: Show breadcrumbs in search results (#8207) authored
      by @charlieegan3
  * Miscellaneous
    - Decoupled the Rego job check from the Go job checks in the
      Github PR workflow (#8203) authored by @SeanLedford
    - build: Format pr_check.rego with opa fmt (#8201) authored by
      @thevilledev
    - build: Migrate PR check to OPA policy (#8183) authored by
      @SeanLedford
    - build: Run go get against main to spot redacted (#8146)
      authored by @charlieegan3
    - deps: Switch to maintained go.yaml.in/yaml/v3 yaml library
      (#8182) authored by @mrueg
    - test/cases: Increase yaml test coverage for some regex and
      string builtins (#8152) authored by @srenatus
    - Dependency updates; notably:
      - build: bump golang from 1.25.5 to 1.25.6 (#8224) authored
        by @srenatus
      - build(deps): bump go.opentelemetry.io deps from
        1.38.0/0.63.0 to 1.39.0/0.64.0
      - build(deps): bump klauspost/compress from v1.18.1 to
        v1.18.2 (#8184) authored by @srenatus
      - because of redaction warning
      - build(deps): bump github.com/go-ini/ini from v1.67.0 to
        gopkg.in/ini.v1 v1.67.1 (#8208) authored by @gabrpt

-------------------------------------------------------------------
Thu Jan 15 06:07:25 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.12.3:
  This is a bug fix release addressing two issues:
  * Bundle polling is being misconfigured when discovery bundle is
    updated (#8215)
    This is an issue where the polling interval for discovery
    (discovery.polling.min_delay_seconds and
    discovery.polling.max_delay_seconds) were misinterpreted on
    reconfiguration, causing extremely long update intervals.
  * Decision log size buffer buffer_size_limit_bytes misconfigured
    during reconfiguration (#8213)
    This is a regression in the decision log, where the
    decision_logs.reporting.buffer_size_limit_bytes was mistakenly
    assigned the value of
    decision_logs.reporting.upload_size_limit_bytes during
    reconfiguration.
    This issue is only present when
    decision_logs.reporting.buffer_type is set to size, which is
    the default value.

-------------------------------------------------------------------
Sun Jan 11 08:16:38 UTC 2026 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.12.2:
  This bug fix release address issues found in the new string
  interpolation feature
  * Add (*TemplateString).Copy() method (#8159) authored by
    @anderseknert
  * Fix template string not serialized with escaped { (#8161)
    authored by @anderseknert
  * fix(ast): skip template string vars in ref safety (#8174)
    authored by @thevilledev
  * fix(ast): use original var names in template error (#8180)
    authored by @thevilledev

-------------------------------------------------------------------
Fri Dec 19 08:45:16 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.12.1:
  This bug fix release reverts a change to regex.replace that
  unintentionally changed its behaviour for anchored regular
  expressions.
  * Revert "topdown: make regex.replace respect cancellation"
    (authored by @srenatus)

-------------------------------------------------------------------
Fri Dec 19 08:23:00 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.12.0:
  * This release contains a mix of new features, performance
    improvements, and bugfixes. Notably:
    - Support for String Interpolation in the Rego language
    - Faster compilation and runtime
    - Fixes published in the v1.11.1 release
  * String Interpolation (#4733)
    - The Rego language has been extended to support String
      Interpolation, which provides a readable means to compose
      strings containing dynamic values determined at evaluation
      time.
      An interpolated string is composed of a template-string
      containing zero or more template-expressions that evaluates
      to a value at evaluation time.
      The $ character prefix identifies a template-string, and
      template-expressions are declared by being enclosed in
      curly-braces ({, }).
      Additionally, undefined template-expression values don't halt
      evaluation; instead, <undefined> will be injected into the
      generated string.

        package interpolation

        allowed_roles := ["admin", "employee"]

        default role := "guest"
        role := input.role

        deny contains $"User {input.username}'s role was '{role}', but must be one of {allowed_roles}" if {
          not role in allowed_roles
        }

        {
          "deny": [
            "User <undefined>'s role was 'guest', but must be one of [\"admin\", \"employee\"]"
          ],
        }

      String interpolation is a more readable and less error-prone
      substitute for the sprintf built-in function.
      Authored by @johanfylling reported by @anderseknert

      Tip
      Help us out!
      New Rego language features are exciting, and we want to
      maximize their usefulness. If you come across tools and
      integrations in the community where string interpolation
      isn't properly handled, such as syntax highlighting, please
      reach out and let us know.
  * Runtime, SDK, Tooling
    - oracle: Refactor Oracle better support some and every (#8105,
      #8131, #8138) authored by @charlieegan3
    - plugins/bundle: Prevent ns-level polling by validating
      intervals (#8082) authored by @jjhwan-h
    - plugins/discovery: Initialize plugins before downloading
      (#8071) authored by @jt28828
    - topdown: Introduce sink for context cancellation
      - topdown: Make regex.replace respect cancellation (#8089)
        authored by @srenatus
      - topdown: Make replace and strings.replace_n respect
        cancellation (#8089) authored by @srenatus
      - topdown: Use sink for concat (#8090) authored by @srenatus
      - perf: Avoid extra allocation in sink if no cancel (#8104)
        authored by @anderseknert
  * Compiler, Topdown and Rego
    - ast/compile: Deal with error limit without panic/defer
      (#8087) authored by @srenatus
    - ast/parser: Check if we need to unescape at all (#8135)
      authored by @srenatus
    - perf: Improved visitor implementation (10% faster
      compilation) (#8078) authored by @anderseknert
    - perf: Reduce allocations handling terms (#8116) authored by
      @anderseknert
    - perf: Type-checker performance improvements (#8143) authored
      by @anderseknert
  * Docs, Website, Ecosystem
    - website: Add support for rego string interpolation syntax
      highlighting (#8092) authored by @charlieegan3
    - docs/ocp: Update "concepts" for v0.3.0 (#8117) authored by
      @srenatus
    - website: Show playground errors (#8141) authored by
      @charlieegan3
    - website: Update a number of links to their new location
      (#8100) authored by @charlieegan3
    - docs: Remove link to feedback form (#8101) authored by
      @charlieegan3
    - website: Remove survey bar (#8136) authored by @charlieegan3
    - docs: Update community contacts (#8108) authored by
      @charlieegan3
  * Miscellaneous
    - ast/checks_test: Fix flaky tests (#8111) authored by
      @srenatus
    - benchmarks: Install node v24 (#8122) authored by @srenatus
    - download: Fix when compiling with tag opa_no_oci (#8070)
      authored by @srenatus reported by @mg0083
    - tests: Race in TestStatusUpdateBuffer (#8133) authored by
      @thevilledev
    - workflow: Integrate benchmarks notebook (#8121) authored by
      @srenatus
    - workflows: Skip all tests in benchmarks run (#8086) authored
      by @srenatus
    - Dependency updates; notably:
      - build: Bump golang from 1.25.4 to 1.25.5 (#8107) authored
        by @srenatus
      - build(deps): Bump google.golang.org/grpc from 1.76.0 to
        1.77.0

-------------------------------------------------------------------
Wed Dec 17 07:01:10 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.11.1:
  This is a bugfix release:
  * Memory exhaustion via forged gzip header
    A crafted HTTP request any of OPA's HTTP endpoints would lead
    OPA to use a large amount of memory, triggering an
    out-of-memory process exit.
    This weakness in OPA's HTTP API gzip handling is as old as the
    gzip handling itself. A configurable limit was introduced in
    v0.67.0, but it has been shown that this security measure
    wasn't sufficient to avoid running out of memory in
    memory-constrained setups.
    Thanks to @thevilledev for reporting and fixing this issue.
    It only applies to OPA running as server (as a binary or in a
    container, as "sidecar"). To trigger an OOM process exit using
    this weakness, an adversary must be able to send an HTTP
    request directly to OPA. This would be the case if they are in
    the same network, there is no proxy in front of OPA, or if OPA
    was exposed to the internet, which is advised against.
    By the nature of HTTP encodings, this would be effective before
    token-based authentication and authorization policies, so these
    measures do not protect against the attack vector.
    If all OPA endpoints are using TLS-based authentication (mutual
    TLS, "mTLS"), then an adversary cannot do harm with this
    method.
    Please note that while we're taking all of these issues
    seriously, OPA isn't designed for adversary environments. It's
    strongly advised not to expose any of its endpoints to the
    public internet. Furthermore, available security measures
    should be applied regardless, for a defense in depth approach.
    See the documentation for the available means of authentication
    and authorization in OPA.
    Please also check out our Security Policy for reporting
    critical issues and bugs.
    https://www.openpolicyagent.org/security
  * Decision Logs dropped (introduced in OPA v1.9.0)
    When the decision logs buffer was uploaded, the buffer limit
    inadvertently got reset to the default upload limit (32kb).
    This causes logs to be dropped that shouldn't have been dropped.
    This default is overridden by the configuration value
    decision_logs.reporting.upload_size_limit_bytes, see the docs
    on decision logs.
    There's a Prometheus metric for dropped events,
    counter_decision_logs_dropped_buffer_size_limit_bytes_exceeded,
    and you can check that for unexpectedly high counts.
    Reported by @johanneslarsson #8123, fixed by @sspaink.
    The release is otherwise identical to v1.11.0.

-------------------------------------------------------------------
Thu Nov 27 06:04:52 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.11.0:
  * This release contains a mix of new features, performance
    improvements, and bugfixes. Notably:
    - More efficient connection management in the http.send
      built-in function
    - More performant loading of large bundles containing multiple
      Rego files
  * Immutable Releases
    - Starting with this release, OPA releases are immutable for
      increased security.
  * Runtime, SDK, Tooling
    - v1/ast: Fix Call parsing Text attribute including an extra
      character (#7989) authored by @schmitd
    - ast: Export built-in deprecated field (#7912) authored by
      @colinjlacy
    - ast: Intern common var values + some parser improvements
      (#8028) authored by @anderseknert
    - ast: Support custom builtins in CompileModulesWithOpt (#8061)
      authored by @sspaink
    - bundle: Concurrent Rego parsing in bundle loader (#8067)
      authored by @anderseknert
    - cmd: Support --ignore in eval cmd when using bundle flag
      (--bundle) (#8062) authored by @sspaink
    - storage/inmem: Allow passing triggers (AST) data without
      conversion (#7958) authored by @anderseknert
  * Compiler, Topdown and Rego
    - topdown: Avoid unnecessary use of custom http.Transport in
      http.send built-in (#7927) authored by @sykesm
    - topdown: New custom SemVer implementation (#8010) authored by
      @anderseknert
    - topdown: Use sync.Pool for eval func objects (#8054) authored
      by @anderseknert
  * Docs, Website, Ecosystem
    - docs: Add example for Compile API's table mapping (#8017)
      authored by @srenatus
    - docs: Address pages with similar titles (#8046) authored by
      @charlieegan3
    - docs: Address some broken links (#8022) authored by
      @charlieegan3
    - docs: Bump glob dep (CVE-2025-64756) (#8056) authored by
      @srenatus
    - docs: Improve ground value and assignment docs (#8047)
      authored by @charlieegan3
    - docs: Make iteration content flow better (#8064) authored by
      @charlieegan3
    - docs: Note package repos are community maintained (#8053)
      authored by @charlieegan3
    - docs: Update terraform guide with notes about plan (#8043)
      authored by @charlieegan3
    - docs: Update the archive to have an edge link (#8011)
      authored by @charlieegan3
    - docs: Update the policy language intro (#8050) authored by
      @charlieegan3
    - docs/ocp: Datasource example uses wrong AWS S3 URL (#8039)
      authored by @SuchSkill
    - docs/regal: Replicate sidebar fixes (#8036) authored by
      @charlieegan3
    - website: Various fixes and improvements by @charlieegan3
  * Miscellaneous
    - Bump golangci-lint, more gocritic linters (#8052) authored by
      @anderseknert
    - Tidy up and unify sync pool handling (#8068) authored by
      @anderseknert
    - builtins: Add StringOperandByteSlice helper (#8048) authored
      by @anderseknert
    - test: Add test cases for consistent cache behavior (#8015)
      authored by @DFrenkel
    - util/performance: Remove math.Log10, remove unused KeysCount
      (#8041) authored by @srenatus
    - workflow: Add Benchmarks workflow (#8072) authored by
      @srenatus
    - workflows/pull-request: Update macos versions (#8030)
      authored by @srenatus
    - Dependency updates; notably:
      - build: golang 1.25.3 -> 1.25.4 (#8051) authored by
        @srenatus
      - build(deps): Bump github.com/bytecodealliance/wasmtime-go
        from v37.0.0 to v39.0.1 (#8075) authored by @srenatus
      - build(deps): Bump github.com/containerd/containerd/v2 from
        2.1.4 to 2.2.0
      - build(deps): Bump github.com/huandu/go-sqlbuilder from
        1.37.0 to 1.38.1
      - build(deps): Bump github.com/lestrrat-go/jwx/v3 from 3.0.11
        to 3.0.12
      - build(deps): Bump github.com/vektah/gqlparser/v2 from
        2.5.30 to 2.5.31 (#8027) authored by @johanfylling
      - build(deps): Bump golang.org/x/crypto from 0.43.0 to 0.45.0
      - build(deps): Bump golang.org/x/net from 0.44.0 to 0.45.0
      - build(deps): Bump golang.org/x/time from 0.13.0 to 0.14.0
      - build(deps): Bump google.golang.org/grpc from 1.75.1 to
        1.76.0
      - build(deps): Bump google.golang.org/protobuf from 1.36.9 to
        1.36.10

-------------------------------------------------------------------
Wed Nov 05 10:19:20 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.10.1:
  This is a bugfix release for the split builtin: In v1.10.0, it
  was looping infinitely when used with an empty-string delimiter.
  The release is otherwise identical to v1.10.0.
  * topdown: fix split(..., "")

-------------------------------------------------------------------
Sun Nov 02 07:00:42 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.10.0:
  * This release contains a mix of new features, performance
    improvements, and bugfixes. Notably:
    - Non-static arm64 executables for linux and darwin, supporting
      Wasm evaluation
    - Performance improvements to the formatter, compiler, and
      runtime
    - A new --fail-on-empty flag for opa test
    - Support for IS NOT NULL query statements in the Compile API
  * Non-static OPA binaries for linux/arm64 and darwin/arm64
    Starting with this release, OPA will ship non-static arm64
    executables for linux and darwin.
    These binaries have support for Wasm evaluation.
    Furthermore, the openpolicyagent/opa:latest docker image is a
    multi-platform image with arm64 support.
  * Runtime, Tooling
    - cmd: Add opa test --fail-on-empty to allow making bad -r or
      empty folders fail (#7943) reported and authored by @grosser
    - format: Performance improvements in formatter (#7967)
      authored by @anderseknert
    - repl: Check usage of with keyword (#7942) authored by
      @sspaink
    - server/failtracer: don't assume only being fed two-elem calls
      (#7995) authored by @srenatus
    - storage: Improve performance of storage operations (#7957)
      authored by @anderseknert
    - storage: Some small improvements to inmem storage (#7944)
      authored by @anderseknert
    - util: Fix race condition in ReadMaybeCompressedBody (#7966)
      authored by @anderseknert
  * Compiler, Topdown and Rego
    - ast: Fix undeclared error when printing nested comprehension
      (#7647) authored by @schmitd reported by @charlesdaniels
    - ast: Raise parse error on infix operator in rule name (#7433)
      authored by @mmzzuu
    - ast: Refactor hash key equality function (#7969) authored by
      @anderseknert
    - ast,topdown: Ref String() and greatly improved builtin lookup
      cost (#7961) authored by @anderseknert
    - compile: Add support for "any value at all", as IS NOT NULL
      (#7998) authored by @srenatus
    - eval: Lazy init of eval.Time term (#7968) authored by
      @anderseknert
    - perf: Zero alloc AST store lookups of interned path terms
      (#7979) authored by @anderseknert
    - perf: Cheaper split built-in calls (#7962) authored by
      @anderseknert
  * Docs, Website, Ecosystem
    - docs: Add Compile API data filtering docs (#7939) authored by
      @srenatus
    - docs: Add ecosystem project Moat (#7963) authored by
      @jcoenraadts
    - docs: Address broken anchors (#8000) authored by
      @charlieegan3
    - docs: Correction in OCP docs information regarding supported
      datasources (#7964) authored by @irodzik
    - docs: Moving CLI Reference to Operations in TOC (#8001)
      authored by @johanfylling
    - docs: OCP HTTP API updates (#7951) authored by @srenatus
    - docs: Remove k8s primer line numbers comments (#7946)
      authored by @charlieegan3
    - docs: Update based on Slack feedback (#7990) authored by
      @charlieegan3
    - docs: Update link checker config (#7949) authored by
      @charlieegan3
    - docs: Updated AI guidelines (#7945) authored by @charlieegan3
    - docs/ocp/deployment: Add segment on database migrations
      (#7952) authored by @srenatus
    - website: Fix build issues (#7999) authored by @charlieegan3
    - website: FOUC squashing on the homepage (#7948) authored by
      @charlieegan3
    - website: Show latest release rather than edge (#7988)
      authored by @charlieegan3
    - website: Update docusaurus (#7947) authored by @charlieegan3
  * Miscellaneous
    - ast/capabilities: Remove stale comment (#7994) authored by
      @srenatus
    - build: Non-static images for linux/arm64 (#7977) authored by
      @srenatus
    - ci: Add zig to post-merge github action (#7983) authored by
      @sspaink
    - e2e/authz,topdown: Fix benchmarks (#7980) authored by
      @srenatus
    - runtime: Fixing tests by closing watcher & set default
      GracefulShutdownPeriod (#7991) authored by @rMaxiQp
    - test/e2e: move http.DefaultTransport fix to init() (#7955)
      authored by @srenatus
    - Remove vendor/ (#7975) authored by @srenatus
    - Modernize analyzer fixes (#7965) authored by @anderseknert
    - Dependency updates; notably:
      - build: bump golang 1.25.1 -> 1.25.3 authored by @srenatus
      - build(deps): Bump github.com/olekukonko/tablewriter from
        0.0.5 to 1.1.0 (#7937) authored by @jh125486
      - This is a major version update containing breaking API
        changes. If you're affected by this, please consult the
        tablewriter migration guide.
      - deps(build): Bump github.com/bytecodealliance/wasmtime-go
        from v3.0.2 to v37.0.0 authored by @srenatus

-------------------------------------------------------------------
Fri Sep 26 10:43:14 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.9.0:
  Examples for the new features can be found in the release notes:
  https://github.com/open-policy-agent/opa/releases/tag/v1.9.0
  * Compile Rego Queries Into SQL Filters (#7887)
    Compile API extensions with support for SQL filter generation
    previously exclusive to EOPA has been ported into OPA.
  * Improved Rule Indexing For "Naked" Refs (#7897)
    OPA's rule indexer is a means by which OPA can optimize
    evaluation performance.
    Briefly, the indexer can in some cases determine that a rule
    won't successfully evaluate before it's evaluated based on the
    query input.
    The indexer previously only considered terms in certain
    compound expressions, ignoring single terms; e.g. an expression
    containing a sole "naked" ref. This has now changed!
  * Runtime, Tooling
    - cmd: Print eval errors to stderr (#6749) authored by @sspaink
      reported by @janorn
    - plugin/decision: Encoder immediately returns when event same
      size as limit (#7928) authored by @sspaink
    - plugin/decision: Refactor size buffer into its own type
      (#7884) authored by @sspaink
    - plugins/bundle: Return callback error for manually triggered
      bundle downloads through the SDK (#7869) authored by @sspaink
      reported by @victoraugustolls
    - runtime: Fix possible panic in opa run when loading bundles
      in watch-mode (--watch) (#7870) authored by @sspaink reported
      by @johanfylling
  * Compiler, Topdown and Rego
    - perf: Don't invoke future parser for Rego v1 (#7909) authored
      by @anderseknert
    - topdown: Add counter metric for http.send network requests
      (#7851) authored by @anivar
    - topdown: Update numbers.range_step built-in error message
      (#7882) authored by @charlieegan3
  * Docs, Website
    - docs: Add every and not examples (#7901) authored by
      @charlieegan3
    - docs: Add examples for io.jwt and time built-ins (#7892)
      authored by @charlieegan3
    - docs: Add examples for regex and string built-ins (#7890)
      authored by @charlieegan3
    - docs: Add guide for common Rego errors (#7896) authored by
      @charlieegan3
    - docs: Add missing anchors and example data (#6205) authored
      by @mmzzuu reported by @johanfylling
    - docs: Add Rego keyword examples (#7889) authored by
      @charlieegan3
    - docs: Add Rego language comparison pages (#7893) authored by
      @charlieegan3
    - docs: Add Style Guide to policy authoring docs (#7932)
      authored by @charlieegan3
    - docs: Generative AI policy example fix (#7885) authored by
      @msorens
    - docs: Remove integration from build-security (#7899) authored
      by @ieugen
    - docs: Update Envoy tutorial for new versions and images
      (#7911) authored by @CharlieTLe
    - docs: Update references to cheat sheet and awesome-opa
      (#7930) authored by @charlieegan3
    - docs: Add OCP docs (#7875) authored by @charlieegan3
      - docs/ocp: Update docs on Azure object storage (#7921)
        authored by @minajevs
      - docs/ocp: Fix inline-transform example (#7913) authored by
        @srenatus
      - docs/ocp: Fix wrong example on concepts page (#7907)
        authored by @srenatus
      - docs/ocp: Update API reference (#7906) authored by
        @srenatus
      - docs/ocp: Update OCP api-key (#7904) authored by
        @charlieegan3
      - docs/ocp: Update OCP install instructions (#7910) authored
        by @ashutosh-narkar
    - docs: Add Regal docs to OPA site (#7874) authored by
      @charlieegan3
      - docs/regal: Update docs following 0.36.0 (#7891) authored
        by @charlieegan3
    - docs/deploy: Add OPA deployment docs (#7898) authored by
      @charlieegan3
    - docs/website: Update references to Styra (#7877) authored by
      @charlieegan3
  * Miscellaneous
    - Bump golangci-lint to v2.4.0 (#7878) authored by @sspaink
    - Community Guidelines: update email list (#7900) authored by
      @srenatus
    - ci: port binary tests to testscript (#7865) authored by
      @srenatus
    - dependabot: Updating e2e go deps together with core OPA deps
      (#7923) authored by @johanfylling
    - github_actions: Add working directory in arguments for Link
      Checker (#7883) authored by @sspaink
    - rego: Add comprehensive WASM performance benchmarks (#7841)
      authored by @anivar
    - Dependency updates; notably:
      - build: Bump go to 1.25.1
      - build(deps): Add github.com/huandu/go-sqlbuilder 1.37.0
      - build(deps): Bump github.com/lestrrat-go/jwx/v3 from 3.0.10
        to 3.0.11
      - build(deps): Bump github.com/prometheus/client_golang from
        1.23.0 to 1.23.2
      - build(deps): Bump golang.org/x/net from 0.43.0 to 0.44.0
      - build(deps): Bump golang.org/x/time from 0.12.0 to 0.13.0
      - build(deps): Bump google.golang.org/grpc from 1.75.0 to
        1.75.1
      - build(deps): Bump google.golang.org/protobuf from 1.36.8 to
        1.36.9
      - build(deps): bump go.opentelemetry.io deps from
        1.37.0/0.62.0 to 1.38.0/0.63.0

-------------------------------------------------------------------
Fri Aug 29 04:16:08 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.8.0:
  * This release contains a mix of new features, performance
    improvements, and bugfixes. Notably:
    Support for EdDSA signatures in io.jwt built-ins, including a
    new io.jwt.verify_eddsa built-in.
  * EdDSA Support in built-ins (#7824)
    Support for the EdDSA signing algorithm has been added to
    built-in functions in the io.jwt namespace.
    This introduces the new io.jwt.verify_eddsa built-in function,
    and adds EdDSA support for the following built-ins:
    - io.jwt.decode_verify
    - io.jwt.encode_sign
    - io.jwt.encode_sign_raw
    This feature benefited greatly from the groundwork laid by
    @lestrrat in (#7638).
  * Runtime
    - cmd: Add back default cmd.RootCommand definition. (#7811)
      authored by @philipaconrad
    - Fixing a breaking change to the go API introduced in OPA
      v1.7.0.
    - cmd: Fix opa exec parameters (#7850, #7840) authored by
      @srenatus
    - Fixing regressions introduced in OPA v1.7.0, where the
      --fail-non-empty and --stdin-input flags were dropped.
    - config: accept env vars set to "", discern from unset (#7831)
      authored by @srenatus reported by @ManuelNowackConfinale
    - handlers: Add thread-safe initialization for gzipPool (#7828)
      authored by @charlieegan3
    - plugins: Address race in config access (#7825) authored by
      @charlieegan3
    - plugin/bundle: Correct bundle delay behavior (#7812) authored
      by @charlieegan3
    - runtime: Update server init check (#7818) authored by
      @charlieegan3
  * Topdown
    - perf: Performance greatly improved for Object.Insert on
      existing key (#7820) authored by @anderseknert
    - topdown,bundle,plugins: Upgrade interned jwx (0.9.x) with
      github.com/lestrrat-go/jwx/v3 (#7638) authored by @lestrrat
  * Miscellaneous
    - Update organization affiliations (#7842) authored by
      @tsandall
    - test/e2e: Avoid port exhaustion in concurrent tests (#7862)
      authored by @anderseknert
    - server: Make TestCertReloading less verbose (#7823) authored
      by @charlieegan3
    - cmd: Exec test wait for bundle server to start (#7821)
      authored by @charlieegan3
    - cmd: Update tests to run sync when ready (#7835) authored by
      @charlieegan3
    - cmd: Move accidental pkg var to local var (#7813) authored by
      @philipaconrad
    - internal/report: Allow overriding GitHub repo (#7867)
      authored by @srenatus
    - release: Adding Dockerfile for image used in *-patch build
      targets (#7864) authored by @johanfylling
    - Dependency updates; notably:
      - build: Bump go to 1.24.6 (#7834, #7839) authored by
        @johanfylling and @thevilledev
      - build(deps): Bump go-viper/mapstructure/v2 from v2.3.0 to
        v2.4.0 (#7857) authored by @deeglaze
      - build(deps): Bump github.com/containerd/containerd/v2 from
        2.1.3 to 2.1.4
      - build(deps): Bump github.com/prometheus/client_golang from
        1.22.0 to 1.23.0

-------------------------------------------------------------------
Mon Aug 04 05:39:32 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.7.1:
  * cmd/parse: Move accidental pkg var to local var. (#7813)
  * bugfix: Add back default cmd.RootCommand definition. (#7811)

-------------------------------------------------------------------
Mon Aug 04 05:01:06 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.7.0:
  This release contains a mix of new features, performance
  improvements, and bugfixes. Notably:
  - Improved OPA SDK/API for better extensibility
  * SDK Improvements
    The OPA SDK/API has been improved to provide better
    extensibility an more points of integration for developers.
    - ast: Add DefaultModuleLoader (#7794) authored by @srenatus
    - ast: Add feature registration from the outside (#7782)
      authored by @srenatus
    - bundle: Add support for bundle store and activation plugins
      (#7771) authored by @philipaconrad
    - cmd: Allow branding (#7797) authored by @srenatus
    - decisionlogs: Add custom fields grab bag (#7793) authored by
      @srenatus
    - plugins: allow registering handlerfuncs with name+path
      (#7769) authored by @srenatus
    - rego: Expose QueryTracers, tracing.Options and Cancel from
      QueryContext (#7767) authored by @philipaconrad
    - rego: Pass along TracingOpts into EvalContext (#7778)
      authored by @srenatus
    - runtime: add ExtraDiscoveryOpts to runtime.Params (#7766)
      authored by @srenatus
    - sdk: Allow for setting default options for all instances
      (#7760) authored by @srenatus
    - server: Add hooks wiring + new hooks for inter-query caches
      (#7775) authored by @srenatus
    - server: Ensure that wrapped middlewares all support
      http.Flusher (#7772) authored by @srenatus
    - server/authorizer: Allow adding paths to validator (#7792)
      authored by @philipaconrad
    - server+plugins: Allow plugins to inject http handler
      middlewares (#7789) authored by @srenatus reported by
      @deeglaze
    - store+runtime: Extension points for custom stores (#7779)
      authored by @srenatus
    - test+eval: Add helper to smuggle compiler through context
      (#7790) authored by @srenatus
    - tester: Support uint64 and float64 metrics in runBenchmark
      (#7761) authored by @srenatus
  * Runtime, Tooling
    - build: Show a warning when .manifest is ignored (#7807)
      authored by @charlieegan3
    - cli: Avoid os.Exit() in Run() funcs (#7788) authored by
      @srenatus
    - config: Keep unknown env replacements (#7786) authored by
      @srenatus
    - format: Not bracketing keywords in imports (#7742) authored
      by @johanfylling
    - loader: Add bundle lazy loading mode across the runtime.
      (#7768) authored by @philipaconrad
    - loader: Pass bundle name in AsBundle() (#7798) authored by
      @srenatus
    - opa exec: stop plugins before exit (#7760) authored by
      @srenatus
    - plugins/discovery: Make Factories() merge the factories
      (#7777) authored by @srenatus
    - plugins/discovery: Replace environment variables after
      evaluation (#7787) authored by @philipaconrad
    - plugins/logs: Add experimental intermediate results field
      (#7796) authored by @philipaconrad
    - report: Fetching latest OPA release version from GitHub
      (#7756) authored by @johanfylling
    - OPA will no longer send telemetry data when fetching the
      latest release version.
    - runtime: Allow enabling NDBCache by default (#7780) authored
      by @srenatus
    - server+logging: Add BatchDecisionID field to Decision Logs
      (#7791) authored by @philipaconrad
    - store: Improve conflicting root error message (#7806)
      authored by @charlieegan3
  * Compiler, Topdown and Rego
    - perf: AST compiler optimizations (#7740) authored by
      @anderseknert
  * Docs, Website
    Note: While we have been working on the new website we have
    been showing the edge documentation contents (as contents and
    framework changes often must go hand in hand). Now that the
    website development pace has slowed and the functionality is
    more stable, we will be returning to showing the documentation
    content from the latest release instead. Please use the edge
    documentation site to review new changes. PR previews are also
    based on the latest branch commit.  This change will be made to
    show the v1.7.0 release shortly after publishing.
    - docs: Add examples for crypto.sha256 and base64.encode
      built-in functions (#7762) authored by @ToluGIT
    - docs: Break out the built-in categories in policy ref (#7722)
      authored by @sky3n3t
    - docs: Correctly spell NetBSD (#7738) authored by @iamleot
    - docs: Fix a number of minor docs typos (#7799) authored by
      @charlieegan3
    - docs: Fix /docs/envoy-authorization/ 404 (#7755 authored by
      @charlieegan3
    - docs: Remove link to OPA playground share (#7750) authored by
      @charlieegan3
    - docs: Revise docs index page wording (#7805) authored by
      @charlieegan3
    - docs: Update warning note in GraphQL API docs (#7737)
      authored by @charlieegan3
    - website: Add wildcard CORS for data/versions.json (#7784)
      authored by @charlieegan3
    - website: Ensure no hscroll on built-in tables (#7773)
      authored by @charlieegan3
    - website: Render versions under /data/versions.json (#7783)
      authored by @charlieegan3
    - website: Set mobile and desktop tab sizes (#7774) authored by
      @charlieegan3
    - website: Show link to the edge release of the docs (#7776)
      authored by @charlieegan3
  * Miscellaneous
    - Benchmark fixes (#7765) authored by @anderseknert
    - Use Regal for linting Rego (#7752) authored by @anderseknert
    - Use shorthand form for types (#7757) authored by
      @anderseknert
    - .github: Use types for issues (#7751) authored by
      @charlieegan3
    - build: Add top-level token permissions for workflows (#7795)
      authored by @timothyklee
    - docs/build: Link checker fixes (#7743) authored by
      @charlieegan3
    - Dependency updates; notably:
      - build(deps): bump github.com/containerd/containerd/v2 from
        2.1.1 to 2.1.3
      - build(deps): bump google.golang.org/grpc from 1.73.0 to
        1.74.2
      - build(deps): bump go.opentelemetry.io deps from
        1.36.0/0.61.0 to 1.37.0/0.62.0

-------------------------------------------------------------------
Mon Jun 30 16:15:08 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.6.0:
  * This release contains a mix of new features, performance
    improvements, and bugfixes. Notably:
    - Improvements to the OPA website and documentation
    - Allowing keywords in Rego references
    - Parallel test execution
    - Faster built-in function execution
  * Allowing keywords in Rego references (#7709)
    Previously, Rego references could not contain terms that
    conflict with Rego keywords such as package, if, else, not,
    etc.  in certain constructs:

      package example

      allow if {
          input.package.source         # not allowed (before v1.6.0)
          input["package"].destination # allowed
      }

    The constraints for valid Rego references have been relaxed to
    allow keywords.
    The above example is now valid and will no longer cause a
    compilation error.
  * Parallel Test Execution (#7442)
    By default, OPA will now run tests in parallel (defaulting to
    one parallel execution thread per available CPU core),
    significantly speeding up test execution time for large test
    suites.
    The performance boost is closely tied to the number of tests in
    your project and your selected parallelism level. For larger
    projects and default settings, 2-3x performance gains have been
    measured on a MacBook Pro.
    Parallelism can be disabled to run tests sequentially by
    setting the --parallel flag to 1. E.g. opa test . --parallel=1.
  * Faster Builtin Function Evaluation
    The builtin context, an internal construct of OPA's evaluation
    engine, was previously provided to every builtin function.
    As it turns out, only very few of them actually need it, for
    caching, cancellation, or lookups.
    Those builtins are still provided with a builtin context, but
    for calls to all other builtins, we save the memory required by
    it.
    The impact is tremendous: Even though the size of a single
    builtin context is only about 270 bytes, in an example
    application (Regal), this change brings about 360 MB of reduced
    memory usage!
  * Runtime, Tooling, SDK
    - cmd/check: opa check --bundle report virtual/base doc
      conflicts (#7701) authored by @anderseknert
    - When opa check is used with the --bundle flag, an error will
      be reported if the provided json/yaml data has a conflicting
      overlap with the virtual documents generated by Rego rules.
      Such conflicts are ambiguous and can lead to unexpected
      evaluation results, and should be resolved.
    - cmd/inspect: Fixing missing annotations location in opa
      inspect with JSON format (#7459) authored by @johanfylling
      reported by @mostealth
    - cmd/parse: Expose --v0-compatible flag (#7668) authored by
      @tsandall
    - cmd/refactor: Fix src:dst parsing to deal with colons (#7648)
      authored by @tsandall
    - metrics: Fix restartable timer bug. (#7669) authored by
      @philipaconrad
    - metrics: Prealloc maps + add benchmark (#7664) authored by
      @philipaconrad
    - oracle: Add support for some and every (#7716) authored by
      @charlieegan3
    - oracle: Support object refs in FindDefinition (#7711)
      authored by @charlieegan3
    - plugin/decision: Check if event is too large after
      compression (#7526) authored by @sspaink
    - runtime,server: Replace gorilla/mux dependency with
      http.ServeMux (#7676) authored by @anderseknert
    - Note: This is a potentially breaking change for go API users
      directly interfacing with the OPA server's routing.
    - server: Fix deferred metrics timers. (#7671) authored by
      @philipaconrad
    - server: Fix query url when opa is served not from root path
      (#7644) authored by @olegKoshmeliuk
    - Note: This is only applicable for the web UI hosted by OPA on
      its root path (/) and OPA is served at some other path than
      root.
  * Compiler, Topdown and Rego
    - ast: Ensure surplus leading zeros always error (#7726)
      authored by @charlieegan3
    - Note: Primitive Rego number values with leading zeros (e.g.
      0123) are now considered invalid at time of parsing and will
      generate an error. If you're impacted by this change, please
      update your policies to not have numbers with leading zeros.
      E.g. 0123 should be changed to 123.
    - ast: Fixing type-checker schema cache race condition for
      inlined schemas (#7679, 7571) authored by @johanfylling
      reported by @daniel-petrov-gig
    - perf: Improve performance when referencing "global" in loop
      (#7654) authored by @anderseknert
    - topdown: Fix issue where path in walk would get mutated
      (#7656) authored by @anderseknert reported by
      @robmyersrobmyers
    - topdown/http: Lenient application/json Content-Type header
      (#6684) authored by @sspaink reported by @mrvanes
  * Docs, Website, Ecosystem
    - api: Expand docs for RegisterBuiltin  no thread-safety
      (#7667) authored by @anderseknert reported by
      @parth-mehta-989
    - docs: Added a search function for the builtins section of
      policy-reference (#7704) authored by @sky3n3t
    - docs: Add another OR note in AND section (#7706) authored by
      @charlieegan3
    - docs: Add basic docs covering CI/CD use case (#7703) authored
      by @charlieegan3
    - docs: Add current ecosystem contribution docs (#7678)
      authored by @charlieegan3
    - docs: Add EvergreenCodeBlock for code with version (#7706)
      authored by @charlieegan3
    - docs: Add feedback form for user reported issues (#7662)
      authored by @charlieegan3
    - docs: Address broken links (#7661) authored by @charlieegan3
    - docs: Archive explain that only latest patch is shown (#7682)
      authored by @charlieegan3
    - docs: Fix bug where the search match respects case (#7713)
      authored by @sky3n3t
    - docs: Hide feedback pop-up forever if dismissed (#7674)
      authored by @charlieegan3
    - docs: Improve bundle structure documentation (#7683) authored
      by @charlieegan3
    - docs: Improve explanations for initial examples (#7677)
      authored by @charlieegan3
    - docs: Install/Download Instruction Update (#7687) authored by
      @charlieegan3
    - docs: Move code example data inside the PlaygroundComponent
      (#7724) authored by @sky3n3t
    - docs: policy-reference, update sig algs formatting (#7685)
      authored by @charlieegan3
    - docs: Redirect old admission control link (#7730) authored by
      @charlieegan3
    - docs: Refactored Networking Reference docs (#7686) authored
      by @sky3n3t
    - docs: Revise sidebar order and layout (#7731) authored by
      @charlieegan3
    - docs: Reworked existing policy examples to use
      PlaygroundExample (#7690) authored by @sky3n3t
    - docs: Show a feedback popup on the docs site (#7663) authored
      by @charlieegan3
    - docs: Show edge rather than latest release (#7717) authored
      by @charlieegan3
    - docs: Show TOC on CLI page (#7712) authored by @charlieegan3
    - docs: Update colors for feedback form in dark mode (#7691)
      authored by @charlieegan3
    - docs: Update policy-ref allowing anchor linking (#7675)
      authored by @charlieegan3
    - docs: Update rego in deployment examples (#7707) authored by
      @charlieegan3
    - docs: Update sidebar (#7723) authored by @charlieegan3
  * Miscellaneous
    - build: Better detection of go changes (#7696) authored by
      @charlieegan3
    - build: Bump golang 1.24.3 -> 1.24.4 (#7672) authored by
      @srenatus
    - Adding Clarification to merge instructions when cutting a
      patch release (#7660) authored by @johanfylling
    - build: Make summary failure source clearer (#7697) authored
      by @charlieegan3
    - build: Skip jobs for non docs changes (#7688) authored by
      @charlieegan3
    - deps: Use google.golang.org/protobuf (#7655) authored by
      @sspaink
    - perf: Simplify interning (#7714) authored by @anderseknert
    - perf: Only pass built-in context to calls depending on it
      (#7728) authored by @anderseknert
    - perf: Improve built-in concat performance (#7702) authored by
      @anderseknert
    - perf: More efficient data/v1 POST handler (#7673) authored by
      @anderseknert
    - test: Fix flaky TestRaisingHTTPClientQueryError (#7698)
      authored by @sspaink
    - test: Fix flaky topdown query cache tests (#7590) authored by
      @sspaink
    - Dependency updates; notably:
      - build(deps): Bump gqlparser from v2.5.27 to v2.5.28 (#7699)
        authored by @robmyersrobmyers
      - build(deps): bump github.com/go-logr/logr from 1.4.2 to
        1.4.3
      - build(deps): bump github.com/vektah/gqlparser/v2 from
        2.5.26 to 2.5.27
      - build(deps): bump golang.org/x/net from 0.39.0 to 0.40.0
      - build(deps): bump google.golang.org/grpc from 1.72.0 to
        1.72.2
      - build(deps): bump oras.land/oras-go/v2 from 2.5.0 to 2.6.0
      - build(deps): bump go.opentelemetry.io deps to 1.36.0/0.61.0

-------------------------------------------------------------------
Mon Jun 30 16:07:29 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.5.1:
  * Fix issue where path in `walk` would get mutated (#7657)

-------------------------------------------------------------------
Mon Jun 30 15:54:35 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.5.0:
  * This release contains a mix of new features, performance
    improvements, and bugfixes. Among others:
    - Support for AWS SSO credentials provider
    - Support for signing client assertions with Azure Keyvault
    - Faster object.get, walk and builtin-function evaluation
    - Improved guardrails in the parser
    - Improvements to decision logging
  * Runtime, Tooling, SDK
    - ast: Only use JSON-escaped literal when needed in ref to
      string convertion (#7550) reported and authored by
      @xubinzheng
    - ast: Parser recursion depth guard (#7568) authored by
      @thevilledev
    - ast: Retaining SomeDecl Location field when compiler resolves
      refs (#7543) authored by @johanfylling
    - bundle: Setting default rego-version in bundle API (#7588)
      authored by @johanfylling reported by @xubinzheng
    - perf: Improved "baseline" metrics of opa bench for trivial
      queries (#7580) authored by @anderseknert
    - plugins/decision: Don't drop adaptive uncompressed size limit
      on upload (#7562) authored by @sspaink
    - plugins/decision: Set config boundaries to
      upload_size_limit_bytes (#7563) (authored by @sspaink)
    - plugins/rest: Add support for AWS SSO credentials provider
      (#7527) authored by @efiShtain
    - plugins/rest: Support signing of client assertions with Azure
      Keyvault (#7462) reported and authored by @Od1nB
    - plugins/status: Support graceful shutdown timeout (#7576)
      authored by @sspaink
    - rego: Don't generate JSON values for wildcard/generated keys
      in result set (#7567) authored by @anderseknert
    - runtime: Don't override user set version commit and timestamp
      (#7471) reported by @kastl-ars authored by @sspaink
  * Planner, Topdown and Rego
    - planner: Deal with var-for-function replacement in indirect
      calls (#5311) authored by @srenatus
    - topdown: Faster object.get built-in function (#7593) authored
      by @anderseknert
    - topdown: Faster walk built-in function (#7612) authored by
      @anderseknert
    - topdown: Improved default rule value inlining ( (#1418)
      authored by @johanfylling
    - topdown: Improved GraphQL error handling (#7622) reported and
      authored by @robmyersrobmyers
  * Docs, Website, Ecosystem
    - docs: Fix helm-kubernetes-quickstart bundle (#7606) reported
      and authored by @nejec
    - docs: Add Swift-OPA to the Ecosystem Page (#7610) authored by
      @charlieegan3
    - docs: Add Tutorial Redirects ([#7603]#7603) reported by
      @nataraj24 authored by @charlieegan3
    - Fix links in README (#7633) authored by @ffjlabo
  * Miscellaneous
    - github_actions: Adding monthly check for broken hyperlinks
      (#7537) authored by @sspaink
    - perf: Extended interning (#7636) authored by @anderseknert
    - perf: Ref.String() shortcut on single var term ref (#7595)
      authored by @anderseknert
    - refactor: Don't return error from opaTest (#7560) authored by
      @sspaink
    - refactor: Remove internal/gqlparser and use upstream
      dependency instead. (#7520) authored by @robmyersrobmyers
    - test: Fix flaky TestContextErrorHandling (#7587) authored by
      @sspaink
    - Apply modernize linter fixes (#7599) authored by
      @anderseknert
    - Use any in place of interface{} (#7566) authored by
      @anderseknert
    - Dependency updates; notably:
      - build: bump go from 1.24.0 to 1.24.3
      - build(deps): bump containerd to v2.1.1 (#7627) authored by
        @johanfylling reported by @robmyersrobmyers
      - build(deps): bump github.com/fsnotify/fsnotify from 1.8.0
        to 1.9.0
      - build(deps): bump github.com/prometheus/client_golang from
        1.21.1 to 1.22.0
      - build(deps): bump github.com/prometheus/client_model from
        0.6.1 to 0.6.2
      - build(deps): bump golang.org/x/net from 0.38.0 to 0.39.0
      - build(deps): bump google.golang.org/grpc from 1.71.1 to
        1.72.0

-------------------------------------------------------------------
Mon Jun 30 15:46:07 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- update to 1.4.2 (1.4.1 was yanked):
  This is a security fix release for the fixes published in Go
  1.24.1 and 1.24.2
  * build: bump go to 1.24.2 (#7544) (authored by @sspaink)
    Addressing CVE-2025-22870 and CVE-2025-22871 vulnerabilities in
    the Go runtime.

-------------------------------------------------------------------
Mon Jun 30 14:34:10 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- Update to version 1.4.0:
  This release contains a security fix addressing CVE-2025-46569.
  It also includes a mix of new features, bugfixes, and dependency
  updates.
  * Security Fix: CVE-2025-46569 - OPA server Data API HTTP path
    injection of Rego (GHSA-6m8w-jc87-6cr7)
    A vulnerability in the OPA server's Data API allows an attacker
    to craft the HTTP path in a way that injects Rego code into the
    query that is evaluated.
    The evaluation result cannot be made to return any other data
    than what is generated by the requested path, but this path can
    be misdirected, and the injected Rego code can be crafted to
    make the query succeed or fail; opening up for oracle attacks
    or, given the right circumstances, erroneous policy decision
    results.
    Furthermore, the injected code can be crafted to be
    computationally expensive, resulting in a Denial Of Service
    (DoS) attack.
    Users are only impacted if all of the following apply:
    - OPA is deployed as a standalone server (rather than being
      used as a Go library)
    - The OPA server is exposed outside of the local host in an
      untrusted environment.
    - The configured authorization policy does not do exact
      matching of the input.path attribute when deciding if the
      request should be allowed.
    or, if all of the following apply:
    - OPA is deployed as a standalone server.
    - The service connecting to OPA allows 3rd parties to insert
      unsanitised text into the path of the HTTP request to OPAs
      Data API.
  Note: With no Authorization Policy configured for restricting API
  access (the default configuration), the RESTful Data API provides
  access for managing Rego policies; and the RESTful Query API
  facilitates advanced queries.
  Full access to these APIs provides both simpler, and broader
  access than what the security issue describes here can
  facilitate.
  As such, OPA servers exposed to a network are not considered
  affected by the attack described here if they are knowingly not
  restricting access through an Authorization Policy.

  This issue affects all versions of OPA prior to 1.4.0.
  See the Security Advisory for more details.
  https://github.com/open-policy-agent/opa/security/advisories/GHSA-6m8w-jc87-6cr7
  * Runtime, Tooling, SDK
    - ast: Adding rego_v1 feature to --v0-compatible capabilities
      (#7474) authored by @johanfylling
    - executable: Add version and icon to OPA windows executable
      (#3171) authored by @sspaink reported by @christophwille
    - format: Don't panic on format due to unexpected comments
      (#6330) authored by @sspaink reported by @sirpi
    - format: Avoid modifying strings when formatting (#6220)
      authored by @sspaink reported by @zregvart
    - plugins/status: FIFO buffer channel for status events to
      prevent slow status API blocking (#7522) authored by @sspaink
  * Topdown and Rego
    - gqlparser: Add JSON annotation in internal/gqlparser/ast to
      Position fields (#7509) authored by @robmyersrobmyers
    - graphql: Cache GraphQL schema parse results (#7457) authored
      by @robmyersrobmyers
    - topdown: Handling default functions in Partial Eval (#7220)
      authored by @johanfylling
    - topdown: Fix wall clock time init for PartialRun() (#7490)
      authored by @srenatus
    - topdown: Zero alloc lower/upper unless changed (#7472)
      authored by @anderseknert
  * Docs, Website, Ecosystem
    - adopters: Cloudsmith adds support for OPA (#7498) authored by
      @ndouglas-cloudsmith
    - docs: Fixed broken docs link (#7452) reported and authored by
      @fvarg00
    - docs: Update built-in function examples for OPA v1 (#7514)
      reported and authored by @robmyersrobmyers
    - docs: Add link to inline schema annotations (#7496) authored
      by @kmadan
    - docs: Add manual trigger to integration docs (#7473) authored
      by @charlieegan3
    - docs: Point path versioned requests to new sites (#7531)
      authored by @charlieegan3
    - docs: Update community slack inviter link (#7488, #7493)
      authored by @charlieegan3
    - docs: Set versioned docs links to point to archive (#7528)
      authored by @charlieegan3
    - docs: Update helm-kubernetes-quickstart bundle (#7469)
      authored by @johanfylling
    - docs: Update opa-docker-authz example to use ghcr and v0.10
      release tag (#7513) authored by @larhauga
    - docs: Fix post merge badge (#7532) authored by @sspaink
    - docs: Improve request headers documentation in REST APIs
      (#7524) authored by @ali-jalaal
    - docs: Update edge links to use /docs/edge/ path (#7529)
      authored by @charlieegan3
    - ecosystem: Add NACP integration (#7503) authored by
      @charlieegan3
    - ecosystem: Update traefik integration docs (#7506) authored
      by @charlieegan3
    - ecosystem: Add Principled Evolution integration (#7495)
      authored by @kmadan
    - ecosystem: Add tavo to ecosystem integration (#7511) authored
      by @percyding-tavo
  * Miscellaneous
    - Dependency updates; notably:
      - build(deps): bump github.com/hypermodeinc/badger from
        v4.6.0 to v4.7.0
      - build(deps): bump github.com/spf13/viper from 1.18.2 to
        1.20.1
      - build(deps): bump golang.org/x/net from 0.37.0 to 0.38.0
      - build(deps): bump google.golang.org/grpc from 1.71.0 to
        1.71.1
      - build(deps): bump oras.land/oras-go/v2 from 2.3.1 to 2.5.0

-------------------------------------------------------------------
Fri Mar 28 08:33:14 UTC 2025 - Johannes Kastl <opensuse_buildservice@ojkastl.de>

- new package opa: Open Policy Agent (OPA) is an open source,
  general-purpose policy engine
