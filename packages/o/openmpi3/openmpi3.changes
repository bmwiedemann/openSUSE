-------------------------------------------------------------------
Tue Apr 23 07:42:08 UTC 2019 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- Fix bad INCLUDE path in module (bsc#1132949)

-------------------------------------------------------------------
Fri Apr 19 05:56:35 UTC 2019 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- Update to openmpi 3.1.4
  - See changelog in NEWS

-------------------------------------------------------------------
Mon Apr  1 05:20:04 UTC 2019 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- Add add-gen-p5-chip-pci-id-to-ini-file.patch:
  - Adds support for Broadcom 57500 adapters (bsc#1125651)
- Update to openmpi 3.1.3
  - See changelog in NEWS

-------------------------------------------------------------------
Sun Nov 18 14:27:03 UTC 2018 - eich@suse.com

- Add macro _hpc_openmpi_modules for modules support (bsc#1116458).

-------------------------------------------------------------------
Mon Sep 10 12:15:48 UTC 2018 - nmoreychaisemartin@suse.com

- Remove bashism in preun scriptlet

-------------------------------------------------------------------
Wed Sep  5 06:53:37 UTC 2018 - nmoreychaisemartin@suse.com

- Fix handling of mpi-selector during updates (bsc#1098653)

-------------------------------------------------------------------
Mon Sep  3 08:47:46 UTC 2018 - bwiedemann@suse.com

- Add reproducible.patch to drop build time and hostname to make 
  package build reproducible (boo#1047218, boo#1084909)

-------------------------------------------------------------------
Sun Aug 19 09:25:46 UTC 2018 - eich@suse.com

- macros.hpc-openmpi3:
  replace %%compiler_family by %%hpc_compiler_family

-------------------------------------------------------------------
Thu Jul  5 12:29:43 UTC 2018 - nmoreychaisemartin@suse.com

- Update to openmpi 3.1.1
  3.1.1 -- June, 2018
  -------------------
  - Fix potential hang in UCX PML during MPI_FINALIZE
  - Update internal PMIx to v2.1.2rc2 to fix forward version compatibility.
  - Add new MCA parameter osc_sm_backing_store to allow users to specify
    where in the filesystem the backing file for the shared memory
    one-sided component should live.  Defaults to /dev/shm on Linux.
  - Fix potential hang on non-x86 platforms when using builds with
    optimization flags turned off.
  - Disable osc/pt2pt when using MPI_THREAD_MULTIPLE due to numerous
    race conditions in the component.
  - Fix dummy variable names for the mpi and mpi_f08 Fortran bindings to
    match the MPI standard.  This may break applications which use
    name-based parameters in Fortran which used our internal names
    rather than those documented in the MPI standard.
  - Revamp Java detection to properly handle new Java versions which do
    not provide a javah wrapper.
  - Fix RMA function signatures for use-mpi-f08 bindings to have the
    asynchonous property on all buffers.
  - Improved configure logic for finding the UCX library.

  3.1.0 -- May, 2018
  ------------------
  - Various OpenSHMEM bug fixes.
  - Properly handle array_of_commands argument to Fortran version of
    MPI_COMM_SPAWN_MULTIPLE.
  - Fix bug with MODE_SEQUENTIAL and the sharedfp MPI-IO component.
  - Use "javac -h" instead of "javah" when building the Java bindings
    with a recent version of Java.
  - Fix mis-handling of jostepid under SLURM that could cause problems
    with PathScale/OmniPath NICs.
  - Disable the POWER 7/BE block in configure.  Note that POWER 7/BE is
    still not a supported platform, but it is no longer automatically
    disabled.  See
    https://github.com/open-mpi/ompi/issues/4349#issuecomment-374970982
    for more information.
  - The output-filename option for mpirun is now converted to an
    absolute path before being passed to other nodes.
  - Add monitoring component for PML, OSC, and COLL to track data
    movement of MPI applications.  See
    ompi/mca/commmon/monitoring/HowTo_pml_monitoring.tex for more
    information about the monitoring framework.
  - Add support for communicator assertions: mpi_assert_no_any_tag,
    mpi_assert_no_any_source, mpi_assert_exact_length, and
    mpi_assert_allow_overtaking.
  - Update PMIx to version 2.1.1.
  - Update hwloc to 1.11.7.
  - Many one-sided behavior fixes.
  - Improved performance for Reduce and Allreduce using Rabenseifner's algorithm.
  - Revamped mpirun --help output to make it a bit more manageable.
  - Portals4 MTL improvements: Fix race condition in rendezvous protocol and
    retry logic.
  - UCX OSC: initial implementation.
  - UCX PML improvements: add multi-threading support.
  - Yalla PML improvements: Fix error with irregular contiguous datatypes.
  - Openib BTL: disable XRC support by default.
  - TCP BTL: Add check to detect and ignore connections from processes
    that aren't MPI (such as IDS probes) and verify that source and
    destination are using the same version of Open MPI, fix issue with very
    large message transfer.
  - ompi_info parsable output now escapes double quotes in values, and
    also quotes values can contains colons.  Thanks to Lev Givon for the
    suggestion.
  - CUDA-aware support can now handle GPUs within a node that do not
    support CUDA IPC.  Earlier versions would get error and abort.
  - Add a mca parameter ras_base_launch_orted_on_hn to allow for launching
    MPI processes on the same node where mpirun is executing using a separate
    orte daemon, rather than the mpirun process.   This may be useful to set to
    true when using SLURM, as it improves interoperability with SLURM's signal
    propagation tools.  By default it is set to false, except for Cray XC systems.
  - Remove LoadLeveler RAS support.
  - Remove IB XRC support from the OpenIB BTL due to lack of support.
  - Add functionality for IBM s390 platforms.  Note that regular
    regression testing does not occur on the s390 and it is not
    considered a supported platform.
  - Remove support for big endian PowerPC.
  - Remove support for XL compilers older than v13.1.
  - Remove support for atomic operations using MacOS atomics library.
- Drop btl-vader-change-the-way-fast-boxes-are-used.patch which was merged upstream
- Add Build-warning-stringop-overflow-in.patch to fix a potential buffer overflow warning.
-------------------------------------------------------------------
Wed May  2 18:24:56 UTC 2018 - eich@suse.com

- Create missing docs master package (bsc#1091714)

-------------------------------------------------------------------
Mon Mar 26 11:31:06 UTC 2018 - nmoreychaisemartin@suse.com

- Enable --enable-mpirun-prefix-by-default (bsc#1086821)

-------------------------------------------------------------------
Fri Feb  9 12:05:35 UTC 2018 - cgoll@suse.com

- Fix summary in module files (bnc#1080259)

-------------------------------------------------------------------
Tue Jan 30 20:03:24 UTC 2018 - eich@suse.com

- Use macro in mpivars.(c)sh to be independent of changes to the module
  setup for the compiler (boo#1078364).

-------------------------------------------------------------------
Wed Jan 17 09:54:18 UTC 2018 - nmoreychaisemartin@suse.com

- Only build openmpi3-config for the standard flavor

-------------------------------------------------------------------
Fri Jan  5 19:02:20 UTC 2018 - eich@suse.com

- Switch from gcc6 to gcc7 as additional compiler flavor for HPC on SLES.
- Fix library package requires - use HPC macro (boo#1074890).
- Fix rpm macro file.

-------------------------------------------------------------------
Thu Dec  7 10:58:31 UTC 2017 - nmoreychaisemartin@suse.com

- Add btl-vader-change-the-way-fast-boxes-are-used.patch to
  fix a SEGV on i386 systems

-------------------------------------------------------------------
Tue Oct 10 13:16:11 UTC 2017 - nmoreychaisemartin@suse.com

- Add a ringdisabled flag to allow building only the standard flavor
  so not all flavors are pulled into staging rings
- Fix baselibs.conf generation (wrong directory and name)
- Fix pre/post install call to ldconfig

-------------------------------------------------------------------
Fri Oct  6 13:58:00 UTC 2017 - nmoreychaisemartin@suse.com

- Add conflicts between the macros-devel packages

-------------------------------------------------------------------
Wed Sep 27 11:59:34 UTC 2017 - nmoreychaisemartin@suse.com

- Converted to multibuild.
- Add HPC build using environment modules (FATE#321711).
- Resync spec file with openmpi and openmpi2

-------------------------------------------------------------------
Mon Sep 25 15:45:23 UTC 2017 - nmoreychaisemartin@suse.com

- Fix VERSION file during build so that ompi_info reports good infos

-------------------------------------------------------------------
Tue Sep 19 15:04:51 UTC 2017 - nmoreychaisemartin@suse.com

- Remove --disable-mca-dso
  Related bug was due to openmpi/*.so wrongly packaged as devel

-------------------------------------------------------------------
Wed Sep 13 07:27:16 UTC 2017 - nmoreychaisemartin@suse.com

- Update to OpenMPI 3.0.0
- Enable fortan08 bindings
- Disable devel headers

-------------------------------------------------------------------
Mon Aug 21 11:52:26 UTC 2017 - nmoreychaisemartin@suse.com

- Update to openMPI 3.0.0rc3

-------------------------------------------------------------------
Mon Jul  3 13:05:34 UTC 2017 - nmoreychaisemartin@suse.com

- Build with openucx support

-------------------------------------------------------------------
Mon Jul  3 13:52:53 CEST 2017 - pth@suse.de

- Initial packaging of openMPI 3.0.0rc1.
  * Use UCX allocator for OSHMEM symmetric heap allocations to optimize intra-node
    data transfers.  UCX SPML only.
  * Use UCX multi-threaded API in the UCX PML.  Requires UCX 1.0 or later.
  * Fix file list and call fdupes.

-------------------------------------------------------------------
Wed Jun 28 06:31:04 UTC 2017 - jengelh@inai.de

- Trim filler wording from description
- Replace uses of old $RPM_ variables, remove redundant %clean
  section, abolish %__-type macro indirection,
  remove excess piping to xargs
- Add missing %_smp_mflags.

-------------------------------------------------------------------
Thu Jun 15 12:06:33 UTC 2017 - nmoreychaisemartin@suse.com

- Add support for openmpi2 over PSM2 and libfabric
- Reference baselibs.conf and openmpi2-rpmlintrc in spec
- Add _service to fetch from upstream github repo

-------------------------------------------------------------------
Thu Jun  8 11:39:44 UTC 2017 - nmoreychaisemartin@suse.com

- Remove version dependencies to libibumad and libibverbs

-------------------------------------------------------------------
Wed May 31 12:30:39 UTC 2017 - nmoreychaisemartin@suse.com

- Fix module file paths

-------------------------------------------------------------------
Tue May 30 14:21:28 UTC 2017 - nmoreychaisemartin@suse.com

- Add openmpi2-config package which contains runtime configuration
  files for OpenMPI 1 and/or 2

-------------------------------------------------------------------
Wed May 17 09:17:16 UTC 2017 - nmoreychaisemartin@suse.com

- Update to OpenMPI 2.1.1
  * Fix a problem with one of Open MPI's fifo data structures which led to
    hangs in a make check test.
  * Add missing MPI_AINT_ADD/MPI_AINT_DIFF function definitions to mpif.h.
  * Fix the error return from MPI_WIN_LOCK when rank argument is invalid.
  * Fix a problem with mpirun/orterun when started under a debugger.
  * Add configury option to disable use of CMA by the vader BTL.
  * Add configury check for MPI_DOUBLE_COMPLEX datatype support.
  * Fix memory allocated by MPI_WIN_ALLOCATE_SHARED to
    be 64 byte aligned.
  * Update MPI_WTICK man page to reflect possibly higher
    resolution than 10e-6.
  * Add missing MPI_T_PVAR_SESSION_NULL definition to mpi.h
    include file.
  * Enhance the Open MPI spec file to install modulefile in /opt
    if installed in a non-default location.
  * Fix a problem with conflicting PMI symbols when linking statically.
  * S390/S390x support
- Drop openmpi2-ia32-fix-atomic.patch openmpi2-s390.patch as they are now
  fixed/supported upstream.

-------------------------------------------------------------------
Tue May  2 15:45:26 UTC 2017 - nmoreychaisemartin@suse.com

- Add testsuite package

-------------------------------------------------------------------
Mon Apr 24 18:22:22 UTC 2017 - nmoreychaisemartin@suse.com

- Initial packaging of OpenMPI 2.1.0

