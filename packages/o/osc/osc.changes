-------------------------------------------------------------------
Mon Jul  1 08:14:17 UTC 2024 - Daniel Mach <daniel.mach@suse.com>

- 1.8.1
  - Command-line:
    - Fix 'linkpac' command crash when used with '--disable-build' or '--disable-publish' option

-------------------------------------------------------------------
Fri Jun 28 12:09:23 UTC 2024 - Daniel Mach <daniel.mach@suse.com>

- 1.8.0
  - Command-line:
    - Improve 'submitrequest' command to inherit description from superseded request
    - Fix 'mv' command when renaming a file multiple times
    - Improve 'info' command to support projects
    - Improve 'getbinaries' command by accepting '-M' / '--multibuild-package' option outside checkouts
    - Add architecture filtering to 'release' command
    - Change 'results' command so the normal and multibuild packages have the same output
    - Change 'results' command to use csv writer instead of formatting csv as string
    - Add couple mutually exclusive options errors to 'results' command
    - Set a default value for 'results --format' only for the csv output
    - Add support for 'results --format' for the default text mode
    - Update help text for '--format' option in 'results' command
    - Add 'results --fail-on-error/-F' flag
    - Redirect venv warnings from stderr to debug output
  - Configuration:
    - Fix config parser to throw an exception on duplicate sections or options
    - Modify conf.get_config() to print permissions warning to stderr rather than stdout
  - Library:
    - Run check_store_version() in obs_scm.Store and fix related code in Project and Package
    - Forbid extracting files with absolute path from 'cpio' archives (boo#1122683)
    - Forbid extracting files with absolute path from 'ar' archives (boo#1122683)
    - Remove no longer valid warning from core.unpack_srcrpm()
    - Make obs_api.KeyinfoSslcert keyid and fingerprint fields optional
    - Fix return value in build build.create_build_descr_data()
    - Fix core.get_package_results() to obey 'multibuild_packages' argument
  - Tests:
    - Fix tests so they don't modify fixtures

-------------------------------------------------------------------
Wed May 22 12:55:37 UTC 2024 - Daniel Mach <daniel.mach@suse.com>

- 1.7.0
  - Command-line:
    - Add 'person search' command
    - Add 'person register' command
    - Add '-M/--multibuild-package' option to '[what]dependson' commands
    - Update '-U/--user' option in 'maintainer' command to accept also an email address
    - Fix 'branch' command to allow using '--new-package' option on packages that do not exist
    - Fix 'buildinfo' command to include obs:cli_debug_packages by default
    - Fix 'buildinfo' command to send complete local build environment as the 'build' command does
    - Fix 'maintainer --devel-project' to raise an error if running outside a working copy without any arguments
    - Fix handling arguments in 'service remoterun prj/pac'
    - Fix 'rebuild' command so the '--all' option conflicts with the 'package' argument
    - Fix crash when removing 'scmsync' element from dst package meta in 'linkpac' command
    - Fix crash when reading dst package meta in 'linkpac' command
    - Allow `osc rpmlint` to infer prj/pkg from CWD
    - Propagate exit code from the run() and do_() commandline methods
    - Give a hint where a scmsync git is hosted
    - Fix crash in 'updatepacmetafromspec' command when working with an incomplete spec
    - Improve 'updatepacmetafromspec' command to expand rpm spec macros by calling rpmspec to query the data
    - Improve 'build' and 'buildinfo' commands by uploading *.inc files to OBS for parsing BuildRequires (boo#1221340)
    - Improve 'service' command by printing names of running services
    - Improve 'getbinaries' command by ignoring source and debuginfo filters when a binary name is specified
    - Change 'build' command to pass '--jobs' option to 'build' tool only if 'build_jobs' > 0
    - Clarify 'list' command's help that that listing binaries doesn't contain md5 checksums
    - Improve 'log' command: produce proper CSV and XML outputs, add -p/--patch option for the text output
    - Allow setlinkrev to set a specific vrev
    - Document '--buildtool-opt=--noclean' example in 'build' command's help
    - Fix handling the default package argument on the command-line
  - Configuration:
    - Document loading configuration from env variables
  - Connection:
    - Don't retry on error 400
    - Remove now unused 'retry_on_400' http_request() option from XmlModel
    - Revert "Don't retry on 400 HTTP status code in core.server_diff()"
    - Revert "connection: Allow disabling retry on 400 HTTP status code"
  - Authentication:
    - Update SignatureAuthHandler to support specifying ssh key by its fingerprint
    - Use ssh key from ssh agent that contains comment 'obs=<apiurl-hostname>'
    - Use strings instead of bytes in SignatureAuthHandler
    - Cache password from SecretService to avoid spamming user with an accept dialog
    - Never ask for credentials when displaying help
    - Remove unused SignatureAuthHandler.get_fingerprint()
  - Library:
    - Add rootless build support for 'qemu' VM type
    - Support package linking of packages from scmsync projects
    - Fix do_createrequest() function to return None instead of request id
    - Replace invalid 'if' with 'elif' in BaseModel.dict()
    - Fix crash when no prefered packages are defined
    - Add XmlModel class that encapsulates manipulation with XML
    - Add obs_api.Person.cmd_register() for registering new users
    - Fix conf.get_config() to ignore file type bits when comparing oscrc perms
    - Fix conf.get_config() to correctly handle overrides when env variables are set
    - Fix output.tty.IS_INTERACTIVE when os.isatty() throws OSError
    - Improve cmdln.HelpFormatter to obey newline characters
    - Update list of color codes in 'output.tty' module
    - Remove core.setDevelProject() in favor of core.set_devel_project()
    - Move removing control characters to output.sanitize_text()
    - Improve sanitize_text() to keep selected CSI escape sequences
    - Add output.pipe_to_pager() that pipes lines to a pager without creating an intermediate temporary file
    - Fix output.safe_write() in connection with NamedTemporaryFile
    - Modernize output.run_pager()
    - Extend output.print_msg() to accept 'error' and 'warning' values of 'to_print' argument
    - Add XPathQuery class for translating keyword arguments to an xpath query
    - Add obs_api.Keyinfo class
    - Add obs_api.Package class
    - Add Package.get_revision_list() for listing commit log
    - Add obs_api.PackageSources class for handling OBS SCM sources
    - Add obs_api.Person class
    - Add obs_api.Project class
    - Add obs_api.Request class
    - Add obs_api.Token class
    - Allow storing apiurl in the XmlModel instances
    - Allow retrieving default field value from top-level model
    - Fix BaseModel to convert dictionaries to objects on retrieving a model list
    - Fix BaseModel to always deepcopy mutable defaults on first use
    - Implement do_snapshot() and has_changed() methods to determine changes in BaseModel
    - Implement total ordering on BaseModel
    - Add comments with available attributes/elements to edited XML
  - Refactoring:
    - Migrate repo {list,add,remove} commands to obs_api.Project
    - Migrate core.show_package_disabled_repos() to obs_api.Package
    - Migrate core.Package.update_package_meta() to obs_api.Package
    - Migrate core.get_repos_of_project() to obs_api.Project
    - Migrate core.get_repositories_of_project() to obs_api.Project
    - Migrate core.show_scmsync() to obs_api.{Package,Project}
    - Migrate core.set_devel_project() to obs_api.Package
    - Migrate core.show_devel_project() to obs_api.Package
    - Migrate Fetcher.run() to obs_api.Keyinfo
    - Migrate core.create_submit_request() to obs_api.Request
    - Migrate 'token' command to obs_api.Token
    - Migrate 'whois/user' command to obs_api.Person
    - Migrate 'signkey' command to obs_api.Keyinfo
    - Move print_msg() to the 'osc.output' module
    - Move run_pager() and get_default_pager() from 'core' to 'output' module
    - Move core.Package to obs_scm.Package
    - Move core.Project to obs_scm.Project
    - Move functions manipulating store from core to obs_scm.store
    - Move store.Store to obs_scm.Store
    - Move core.Linkinfo to obs_scm.Linkinfo
    - Move core.Serviceinfo to obs_scm.Serviceinfo
    - Move core.File to obs_scm.File
    - Merge _private.project.ProjectMeta into obs_api.Project
  - Spec:
    - Remove dependency on /usr/bin/python3 using %python3_fix_shebang macro (bsc#1212476)

-------------------------------------------------------------------
Mon Apr 15 08:32:49 UTC 2024 - Daniel Mach <daniel.mach@suse.com>

- 1.6.2
  - Command-line:
    - Fix 'branch' command to allow using '--new-package' option on packages that do not exist
    - Fix 'buildinfo' command to include obs:cli_debug_packages by default
    - Fix 'buildinfo' command to send complete local build environment as the 'build' command does
    - Allow `osc rpmlint` to infer prj/pkg from CWD
    - Propagate exit code from the run() and do_() commandline methods
    - Give a hint where a scmsync git is hosted
    - Fix crash in 'updatepacmetafromspec' command when working with an incomplete spec
  - Authentication:
    - Cache password from SecretService to avoid spamming user with an accept dialog
    - Never ask for credentials when displaying help
  - Library:
    - Support package linking of packages from scmsync projects
    - Fix do_createrequest() function to return None instead of request id
    - Replace invalid 'if' with 'elif' in BaseModel.dict()
    - Fix crash when no prefered packages are defined

-------------------------------------------------------------------
Thu Mar 14 11:23:33 UTC 2024 - pgajdos@suse.com

- remove dependency on /usr/bin/python3 using
  %python3_fix_shebang macro, [bsc#1212476]

-------------------------------------------------------------------
Fri Feb 23 08:57:23 UTC 2024 - Daniel Mach <daniel.mach@suse.com>

- 1.6.1
  - Command-line:
    - Use busybox compatible commands for completion
    - Change 'wipe' command to use the new get_user_input() function
    - Fix error 500 in running 'meta attribute <prj>'
  - Configuration:
    - Fix resolving config symlink to the actual config file
    - Honor XDG_CONFIG_HOME and XDG_CACHE_HOME env vars
    - Warn about ignoring XDG_CONFIG_HOME and ~/.config/osc/oscrc if ~/.oscrc exists
  - Library:
    - Error out when branching a scmsync package
    - New get_user_input() function for consistent handling of user input
    - Move xml_indent, xml_quote and xml_unquote to osc.util.xml module
    - Refactor makeurl(), deprecate query taking string or list arguments, drop osc_urlencode()
    - Remove all path quoting, rely on makeurl()
    - Always use dict query in makeurl()
    - Fix core.slash_split() to strip both leading and trailing slashes

-------------------------------------------------------------------
Thu Jan 25 08:53:46 UTC 2024 - Daniel Mach <daniel.mach@suse.com>

- 1.6.0
  - Command-line:
    - The 'token --trigger' command no longer sets '--operation=runservice' by default.
    - Change 'token --create' command to require '--operation'
    - Fix 'linkdiff' command error 400: prj/pac/md5 not in repository
    - Update 'build' command to support building 'productcompose' build type with updateinfo.xml data
    - Don't show meter in terminals that are not interactive
    - Fix traceback when running osc from an arbitrary git repo that fails to map branch to a project (boo#1218170)
  - Configuration:
    - Implement reading credentials from environmental variables
    - Allow starting with an empty config if --configfile is either empty or points to /dev/null
    - Implement 'quiet' conf option
    - Password can be an empty string (commonly used with ssh auth)
  - Connection:
    - Allow -X HEAD on osc api requests as well
  - Library:
    - Fix credentials managers to consistently return Password
    - Fix Password.encode() on python < 3.8
    - Refactor 'meter' module, use config settings to pick the right class
    - Convert to using f-strings
    - Use Field.get_callback to handle quiet/verbose and http_debug/http_full_debug options
    - Implement get_callback that allows modifying returned value to the Field class
    - Add support for List[BaseModel] type to Field class
    - Report class name when reporting an error during instantiating BaseModel object
    - Fix exporting an empty model field in  BaseModel.dict()
    - Fix initializing a sub-model instance from a dictionary
    - Implement 'Enum' support in models
    - Fix Field.origin_type for Optional types
    - Drop unused 'exclude_unset' argument from BaseModel.dict() method
    - Store cached model defaults in self._defaults, avoid sharing references to mutable defaults
    - Limit model attributes to predefined fields by forbidding creating new attributes on fly
    - Store model values in self._values dict instead of private attributes
  - Spec:
    - Recommend openssh-clients for ssh-add that is required during ssh auth
    - Add 0%{?amzn} macro that wasn't usptreamed

-------------------------------------------------------------------
Mon Dec  4 14:09:11 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.5.1
  - Library:
    - Avoid using '/public/' API routes
    - Update 'osc.util.models' to avoid including lazy defaults in the rendered man pages
  - Spec:
    - Simplify distro-specific macros
    - Use %{?rhel} macros 

-------------------------------------------------------------------
Mon Dec  4 14:09:10 UTC 2023 - Magnus Lewis-Smith <m.lewis-smith@warwick.ac.uk>

- specfile change : use rhel version macros wherever 'fedora' macro is also used
  + Build manpages on RHEL distros where argparse-manpage is available
    and where python3-sphinx is available and cleanly installable without 
    requiring environment(modules) from EPEL
  + use fdupes to deduplicate python bytecode on RHEL distros which support it

-------------------------------------------------------------------
Wed Nov 22 07:57:53 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.5.0
  - Command-line:
    - Change 'rdiff' command to display diff for _project if no package is specified
    - Update 'build' command with initial support for 'productcompose' build type
    - Change 'build' command to disable preinstall images in rootless builds
  - Configuration:
    - Fix conf.write_initial_config() to use read_file() instead of deprecated readfp()
  - Other:
    - Support installing osc into virtualenv
  - Spec:
    - Recommend 'build' on openSUSE/SLE and 'obs-build' on all other distros

-------------------------------------------------------------------
Thu Nov  2 14:51:36 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.4.4
  - Command-line:
    - Fix autocompletion for new locations
  - Configuration:
    - Fix apiurl_aliases handling in OscOptions.__getitem__
    - Fix crash when there's no [general]/apiurl option in the config file

-------------------------------------------------------------------
Tue Oct 24 09:03:56 UTC 2023 - Jiri Slaby <jslaby@suse.cz>

- fix bash completion suffix (.bash instead of .sh) (bsc#1216531)

-------------------------------------------------------------------
Thu Oct 19 13:04:55 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.4.3
  - Configuration:
    - Allow undefined fields in Options and HostOptions

-------------------------------------------------------------------
Mon Oct 16 11:55:51 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.4.2
  - Command-line:
    - Change NoPBTextMeter to display no output at all
    - Fix retrieving the configured user in 'user' command
  - Configuration:
    - Restore 'passx' host option that contains an obfuscated password
    - Fix retrieving a password in case a function returns another callable
    - Fix retrieving config values in core.vc_export_env()

-------------------------------------------------------------------
Tue Oct 10 18:12:00 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.4.1
  - Configuration:
    - Always display apiurl when asking for credentials
    - Ask for new credentials when user is missing from an apiurl section in the config file
  - Library:
    - Fix testing revision for being empty
    - Fix core.change_request_state_template() to always return a string
  - Tests:
    - Replace 'git init -b' with 'git init' and 'git checkout -b'
  - Spec:
    - Run fdupes after install
    - List the python sitelib paths explicitly
    - Mark csh completion files as configs
    - Own zsh completion dirs to mute rpmlint errors
    - Move bash completion from /etc to /usr/share

-------------------------------------------------------------------
Wed Oct  4 10:01:35 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.4.0
  - Command-line:
    - Add rootless build support to 'build' command for 'kvm' and 'podman' vm types
    - Print a hint to clean the build root after a failed build
    - Avoid adding a newline to prompt in 'wipe' command
    - Fix 'build' command to pass '--vm-type' option to the underlying build tool
    - Add '--just-print-buildroot' option to print build root path and exit to 'build' command
    - Add support for keep_packages_locked on request revoke
    - Import zsh completition made by Holger Macht and improve it
    - Use XDG locations in completion
    - Fix 'search' command to resolve '-B .' to the current project
    - Add '-M/--multibuild-package' option to 'checkconstraints' command
    - Allow constraints file with remote request in 'checkconstraints' command
    - Unify how the 'commit' and 'build' commands work with '--noservice' option
    - Fix 'request show' command to print superseded_by information
    - Fix 'service' command to support already documented 'r' abbreviation for 'run'
  - Configuration:
    - Implement 'exclude_files' and 'include_files' config options that allow skipping files in the 'checkout' command
    - Fix api_host_options for custom CAs (cafile and capath options work again)
    - Switch 'osc.conf.config' from dict to Options class with type checking
    - Rename conf.Options.build_type to vm_type to be consistent with obs build and osc --vm-type option
    - Update list of supported vm_type values in conf.Options.vm_type
    - Remove any duplicated code loading configuration from ENV
  - Library:
    - Add 'osc.util.models' module implementing an alternative pydantic-like data validation
    - Add 'osc.util.xdg' module for handling XDG paths
    - Fix handling empty vm_type in Store.last_buildroot
  - Spec:
    - Install zsh completion
    - Build and install oscrc man page

-------------------------------------------------------------------
Mon Aug 28 11:38:33 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.3.1
  - Command-line:
    - Fix string + int concatenation errors in 'build' command by using f-strings instead
    - Fix '--all' option in 'rebuild' command
    - Fix 'build' command when '--alternative-project' option is specified and the git branch cannot be mapped to a project
    - Stop suggesting that the working directory is git/mercurial/svn/cvs
    - Be helpful in deprecating commands
  - Configuration:
    - Add more config options among integer options
  - Library:
    - Fix GitStore to error out properly if there is no 'origin' remote in the git repo
    - print_buildlog: Remove control characters from build log before printing (CVE-2012-1095)

-------------------------------------------------------------------
Wed Aug  9 11:36:47 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.3.0
  - Command-line:
    - Add experimental support of Git SCM to the 'build' command
    - Add experimental support of Git SCM to the 'service' command
    - Make 'meta' command capable of editing attributes
    - Change '--add' option in 'meta attribute' command to skip duplicate values
    - Add an interactive option to display build log in 'request list -i' command
    - Add '--setopt' option for setting config options from the command-line
    - Fix '--prefer-pkgs' option for noinstall="1" packages in kiwi builds
    - Change 'checkout' command to print open requests only when running in an interactive terminal
    - Enhance '--force' option description in the 'request' command
  - Connection:
    - Fix crash when HTTP_PROXY env contains no auth
  - Library:
    - Add 'git_scm' module for handling packages that live in git scm rather than usual obs scm
    - Change pop_project_package_from_args() to use get_store() to support Git SCM
    - Change osc.build module to use 'store' object instead of calling core.store_*() functions
    - Use alternative project if specified in parse_repoarchdescr()
    - Fix xml indent() on Python 3.6
    - Fix less pager by adding '-R' to LESS env
    - Improve print_msg() and migrate some arbitrary prints to it

-------------------------------------------------------------------
Fri Jul 14 09:10:36 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.2.0
  - Command-line:
    - Add 'repo' command and subcommands for managing repositories in project meta
    - Extend 'browse' command to open requests in a web browser
    - Add highlighting for 'osc diff' and similar commands
    - Fix 'api' command to stream output to avoid running out of memory
    - Fix printing utf-8 characters to stdout
  - Connection:
    - Fix ValueError: Cannot set verify_mode to CERT_NONE when check_hostname is enabled
  - Authentication:
    - Correctly handle passwords with utf-8 characters
  - Library:
    - Fix crash when submiting a SCM package which has no _link
    - Fix local service execution of scmsync packages
    - Detect target package by its full name, instead of assuming its origin is identical to the source package type
  - Other:
    - Spell openSUSE correctly

-------------------------------------------------------------------
Wed May 24 07:02:31 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.1.4
  - Command-line:
    - Change 'review list' command to display open requests (state: new, review, declined)
    - Fix running osc in an AppImage by switching to the correct working directory
    - Handle ProtocolError exception
  - Library:
    - Add 'req_states' parameter to osc.core.get_review_list()
  - Connection:
    - Fix grabber to work with old urllib3 versions that do not contain URLSchemeUnknown exception

-------------------------------------------------------------------
Wed May 10 07:12:59 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.1.3
  - Command-line:
    - Backup edited messages and notify user about them when osc errors out
    - Consider only open requests when listing requests with a given review state
    - Fix 'diff' command when no files are specified
  - Configuration:
    - Add glob support to the 'trusted_prj' config option
  - Library:
    - Fix core.xmlindent() to work with ElementTree objects

-------------------------------------------------------------------
Wed May  3 08:12:22 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.1.2
  - Command-line:
    - Add '--buildtool-opt' option passing options to underlying rpmbuild to the 'build' command
    - Fix 'diff' command to support diffing selected files only
    - Identify inherited packages in the 'dependson' command output
    - Bring the '--debug' option back to the 'buildinfo' command
    - Fix 'buildhistory' command by setting the type of the '--limit' option to int
  - Library:
    - Fix a traceback when failed to unlock a keyring
    - Don't retry on 400 HTTP status code in core.server_diff()
    - Clean-up the '.old' folder if an exception happens
    - Document 'popt' attribute in the _link template
    - Fix build.get_repo() to return only directory that contains 'repodata/repomd.xml'
  - Connection:
    - Retry on receiving the following HTTP status codes: 400, 500, 502, 503, 504
    - Allow disabling retry on 400 HTTP status code
    - Fix urlgrab to skip mirrors with invalid scheme

-------------------------------------------------------------------
Tue Apr 11 12:04:56 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.1.1
  - Command-line:
    - Fix 'creq' command that wasn't working at all
    - Fix 'ls' command when listing all projects by setting project argument to '/'
    - Fix regression: Run interactive config setup on missing config or credentials
    - Append plugin dirs to sys.path to allow loading modules installed next to the plugins
    - Do not recurse into subdirs when loading plugins
  - Configuration:
    - Display apiurl when asking for a username or a password
    - If apiurl is not set in interactive_config_setup(), use apiurl from DEFAULTS
  - Library:
    - Decode entities in HTTPError message body

-------------------------------------------------------------------
Mon Apr  3 11:58:12 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.1.0
  - Command-line:
    - New class-based commands
    - Sort commands before printing help
    - No longer read plugins from /var/lib/osc-plugins
  - Configuration:
    - Do not error out on setting oscrc permissions if the file is owned by another user
  - Library:
    - Restore 'include_request_from_project' conf option functionality
    - Simplify how babysitter works with options and config
    - Prefer f-strings over c-style string expansion

-------------------------------------------------------------------
Fri Mar 17 15:11:46 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.0.1
  - Configuration:
    - Fix a cut&paste error in setting 'disable_hdrmd5_check' config option
  - Connection:
    - Set Content-Type of POST requests without data to 'application/x-www-form-urlencoded'

-------------------------------------------------------------------
Tue Mar 14 12:26:57 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.0.0 (full changelog to the latest stable version 0.182.0)
  - Command-line:
    - Use '.' as a wildcard that resolves to a project or a package name from the current working copy, for example 'osc rdiff ./. -c <num>'
    - Add 'create-pbuild-config' (cpc) command
    - Add '--disable-build' option to the 'branch' command
    - Add '--disable-build' option to the 'linkpac' command
    - Add '-X/--extra-pkgs-from' option to the 'build' command
    - Add '--add' option to the 'meta' command that appends new values to the existing values
    - Replace '-q/--hide-legend' option in 'prjresults' command with global '-q/--quiet' option
    - Replace '--debug' option in the 'getbinaries' command with '--debuginfo' to avoid conflicts with the global '--debug'
    - Replace '--verbose' option in the 'build' command with '--verbose-mode' to avoid conflicts with the global '--verbose'
    - Replace '--version' option with 'version' command
    - Enable forwarding requests to the parent projects in 'rq list -i' and 'sr accept' commands
    - Make use of '-M/--multibuild' option consistent across the commands
    - Enhance '--force' option in the 'commit' command to allow deleting packages even if other packages depend on them
    - Print URLs and xpaths in the debug rather than the verbose mode
    - Fix 'add' command for github /archive/ URLs
    - Fix 'buildhistory' command to produce proper output using build_table() and a CSV writer
    - Fix 'linkpac' command to avoid copying a lock from a locked package to the target package
    - Fix 'setlinkrev' command to write a log message on setting a revision
    - Fix 'submitrequest' command not to error out on using an alias to apiurl
    - Fix 'update' command on project level for scm packages
    - Fix '--mine' option in the 'request' command to show only requests created by the user
    - Fix the documentation url in the 'maintenancerequest' and 'createincident' commands
    - Remove '--skip-validation' option from the 'commit' command
    - Remove '--oldpkg', '--oldprj' options from the 'rdiff' command
    - Remove 'create', 'list', 'log', 'show', 'decline', 'accept', 'delete', 'revoke' subcommands from the 'submitrequest' command
    - Remove '--seperate-requests' option from the 'submitrequest' command
    - Remove '--raw' option from the 'develproject' command
    - Remove '--maintained' option from the 'search' command
    - Remove 'deleteprj' command
    - Remove 'deletepac' command
    - Remove 'editmeta' command
    - Remove 'results_meta' command
    - Remove 'rlog' command
    - Remove 'rprjresults' command
    - Remove 'rresults' command
  - Configuration:
    - Add 'project_separator' config option
    - Add 'disable_hdrmd5_check' config option to ignore hdrmd5 mismatches
    - Remove 'plaintext_passwd' config option
  - Library:
    - Add Store class that will replace store_{read,write}* functions
    - Remove 'GnomeKeyringCredentialsManager' and related code
    - Remove Request.get_creator() method
    - Replace unmaintained cmdln.py with a custom code based on argparse
    - Replace core.findpacs() with Package.from_paths() and Package.from_paths_nofail()
    - Drop Python 2 support, Python 3.6 is the lowest supported version
    - Code cleanups, following PEP 8 and the latest best practices now
    - Improve handling of hdrmd5 mismatches
    - Handle uncompressed Debian packages
    - Replace arbitrary XML escaping code with xml_escape()
    - Fix race condition in using .old directory in Serviceinfo.execute()
    - Fix manual run of source service
  - Connection:
    - Switch http_request() to urllib3 and cryptography (drop M2Crypto dependency)
    - Warn when using HTTP connection, make HTTPS the default
    - Send HTTP header Accept: application/xml
    - Wait between retries
  - Authentication:
    - Support signature (ssh) auth including ssh-agent forwarding
    - Lock cookiejar to prevent unnecessary signature auth by waiting for a session cookie
    - Print user and apiurl when prompting for a password
    - Fix a crash when deleting a password
  - Known issues:
    - Commandline option values cannot start with '-', for example: osc build -x -vim
      Background: This is a limitation of underlying Python's argparse
      How to fix: Use '=' to join the option with its value: osc build -x=-vim
      URL: https://github.com/openSUSE/osc/issues/1227
    - Commandline positional arguments no longer recognize '/' as a universal argument separator
      Background: This is an attempt to bring some consistency into argument parsing, reducing number of separators and value combinations
      How to fix: Separate <project>/<package> from <repo>/<arch> with a space
      URL: https://github.com/openSUSE/osc/issues/1272

-------------------------------------------------------------------
Tue Mar 14 12:26:57 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.0.0
  - Revert "Remove the '-A' option from the 'maintainer' command"
  - core.get_request_list: Remove deprecation warning
  - meta attribute: Add --add option to append values to the existing list
  - Replace arbitrary XML escaping code with xml_escape()
  - build: New option 'disable_hdrmd5_check' to ignore hdrmd5 mismatches
  - commit: Pass --force down to delete_package

-------------------------------------------------------------------
Thu Feb  9 14:08:25 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.0.0b5
  - rq list: Fix a traceback when --type is not specified
  - core.checkout_package(): Use pathlib.Path
  - connection: Retry all, not just default allowed methods
  - connection: Wait between retries

-------------------------------------------------------------------
Fri Feb  3 10:11:27 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

- 1.0.0b4
  - Fix regressions to osc 0.x:
    - mv: Fix traceback due to missing target file name
    - rm: Fix creating a Package object by providing multiple files on the command line
    - copypac: Fix downgrading a package to an old revision
    - buildhist: Fix running from a package checkout
    - rebuild: Fix running from a package checkout
    - rdiff: Fix traceback when new project is not specified
    - rq list: Fix passing values of the --type option
    - build: Fix reading extra-pkgs from oscrc
    - Support withfullhistory in osc.core.get_request_list again
    - Fix osc.get_request_list ignoring the req_type parameter
  - Revert "Do not list declined requests by default"
  - connection: Mute the "Converted retries value" debug message
  - connection: Fix traceback on loading an invalid cookiejar file
  - connection: Save cookiejar only when there's a Set-Cookie header in the response
  - Add oscerr.ProjectError class needed by core.delete_project()
  - Fix all errors reported by pylint

- spec file:
  - drop upstreamed patches:
    - 1217.patch
    - 1228.patch
  - Recommend python3-distro - needed for setting the default editor by distro

-------------------------------------------------------------------
Wed Jan 25 10:48:38 UTC 2023 - Dirk Müller <dmueller@suse.com>

- add 1228.patch to fix regressions in get_request_list
- add 1217.patch to fix correct variable (prj instead of project)

-------------------------------------------------------------------
Tue Jan 17 08:46:45 UTC 2023 - Daniel Mach <daniel.mach@suse.com>

1.0.0b3
  - add create-pbuild-config (cpc) command which allows to create a working
    config for pbuild tool based on OBS server side data
  - branch: Add --disable-build option
  - linkpac: Add --disable-build option
  - linkpac: Fix linking a locked package by not copying the lock to the target package
  - sr: Do not error out on using an alias to apiurl
  - rq: Fix the -M/--mine option to show only requests created by the user
  - rq list: Avoid conflict between --all and --state options
  - rq list: Fix traceback when there's no search criteria
  - rq list -i: Enable forwarding requests to the parent projects
  - rq show: Improve output
  - sr accept: Enable forwarding requests to the parent projects
  - setlinkrev: Write a log message on setting a revision
  - buildhistory: Produce proper output using build_table() and a CSV writer
  - buildinfo: Bring the -d/--debug option back
  - build: Bring the --verbose' option back as --verbose-mode=MODE to avoid conflicts with global --verbose
  - service: Add verbose option for running local services
  - service: Fix manual run of source service
  - conf: Avoid crash when deleting a password
  - connection: Fix the '9 - review the server certificate' option in cert trust prompt
  - Handle uncompressed Debian packages
  - Fix osc add for github /archive/ URLs
  - Handle empty EDITOR=/PAGER= env variable properly
  - Mute ssl/tls deprecation warnings
  - Add "--extra-pkgs-from" ("-X") option to osc build.
  - Fix a scenario when OBS sends unexpected md5s
  - Replace core.findpacs() with Package.from_paths() and Package.from_paths_nofail()
  - Always list requests with 'new,review' states by default
  - Change get_request_collection() not to list declined requests by default
  - Add information about osc vc using the EDITOR envar to the help output
  - Improve argument handling in many commands
  - Implement Store class handling '.osc' dirs, migrate some code to it
  - Code cleanups
  - Deprecated:
    - core.get_request_list() function
    - core.store_write_apiurl() function
    - core.store_read_scmurl() function
    - core.store_read_apiurl() function

1.0.0b2
  - Support ssh-agent forwarding
  - ssh auth: Avoid password prompt when using TransientCredentialsManager
  - Properly handle missing ssh-keygen and ssh-add
  - Add ssh-keygen as a recommends for ssh MFA authentication
  - Print user and apiurl when prompting for a password
  - Pass apiurl to all auth handlers
  - Do not list declined requests by default
  - Fix 'osc up' on project level for scm packages
  - Lock cookiejar to prevent unnecessary signature auth
  - Process input with configurable project separators
  - Add project_separator to config file
  - Fix race condition in using .old directory in Serviceinfo.execute()
  - Send HTTP header Accept: application/xml
  - Print URLs and xpaths in debug rather than verbose mode
  - Inject no-op print() into http.client when http debugging is off
  - Reset "file current position" on errors in HTTP requests
  - Create ~/.config/osc/trusted-certs if not exists
  - conf: Convert defaults to their expected types
  - Document `build` repo selection logic
  - Add debug print for REPO (and desc just in case)
  - Shortened `build` help and add debug prints
  - Replace unmaintained cmdln.py with a custom code
  - Allow intermixing positional and optional args
  - Add global options to subcommands so they can be specified in any place
  - Remove the '-A' option from the 'maintainer' command
  - Replace the '-q/--hide-legend' option in 'prjresults' command with global '-q/--quiet' option
  - Remove duplicated --debug and --verbose options
  - Add version command to print the used version
  - Remove deprecated 'plaintext_passwd' config option
  - Remove deprecated 'GnomeKeyringCredentialsManager' and related code
  - Remove deprecated '--skip-validation' option from the 'commit' command
  - Remove deprecated '--oldpkg', '--oldprj' options from the 'rdiff' command
  - Remove deprecated subcommands 'create', 'list', 'log', 'show', 'decline', 'accept', 'delete', 'revoke' from the 'submitrequest' command
  - Remove deprecated '--seperate-requests' option from the 'submitrequest' command
  - Remove deprecated '--raw' option from the 'develproject' command
  - Remove deprecated '--maintained' option from the 'search' command
  - Remove deprecated 'rlog' command
  - Remove deprecated 'rprjresults' command
  - Remove deprecated 'rresults' command
  - Remove deprecated 'results_meta' command
  - Remove deprecated 'deleteprj' command
  - Remove deprecated 'deletepac' command
  - Remove deprecated 'editmeta' command
  - Remove deprecated Request.get_creator()
  - Remove PROJ_PACK.txt file, move its content to GitHub issue #1099
  - Remove TODO file, move its content to GitHub issue #1098
  - Remove fuse support
  - Remove unused run_bandit.sh
  - Remove obsolete osc_expand_link.pl
  - Remove unused icons
  - Replace imp with importlib
  - Move files from dist/ to contrib/
  - Move osc.fish under contrib/
  - Move python package metadata from setup.py to setup.cfg
  - Move __version__ from osc.core to osc
  - Fix resource warnings (unclosed files)

- 1.0.0b1
  - drop Python 2 support
  - switch http_request() to urllib3 and cryptography (drop M2Crypto dependency)
  - warn when using HTTP connection, Make HTTPS the default
  - add XDG compatible location for osc plugins
  - replace osc-wrapper.py with entry_points.
  - core: add functions for glob matching of multibuild flavors
  - fix multibuild packages in all osc commands where applicable
  - do not ask for login for -h,--help
  - move format_table() to util.helper
  - code cleanups

-------------------------------------------------------------------
Thu Sep  8 11:53:22 UTC 2022 - Daniel Mach <daniel.mach@suse.com>

- 0.182.0
  - fix build on SLE12 / python 2.7
  - SSH auth: Fix getallmatchingheaders() output to correspond with headers.get_all()
  - send HTTP header Accept: application/xml
  - git_version: return version from the source code if there's no matching tag

- spec file:
  - Revert to python2 on SLE12
  - Recommend openssh for ssh key auth

-------------------------------------------------------------------
Wed Aug 17 10:55:30 UTC 2022 - Michal Suchanek <msuchanek@suse.com>

- Fix M2Crypto package name on SLE12
- Do not build with python3.6 - it does not have libraries
    nothing provides python36-M2Crypto > 0.19
    nothing provides python36-chardet

-------------------------------------------------------------------
Thu Aug 11 11:38:19 UTC 2022 - Daniel Mach <daniel.mach@suse.com>

- fix building on distros that are not openSUSE or SLE

-------------------------------------------------------------------
Thu Aug  4 08:31:49 UTC 2022 - Dirk Müller <dmueller@suse.com>

- build against python3.6 for SLE12 and older

-------------------------------------------------------------------
Tue Jul 26 19:37:46 UTC 2022 - Daniel Mach <daniel.mach@suse.com>

- 0.181.0
  - fix crash when 'pass' is not set in the config file
  - add missing attributes to Package when scm_url is set
  - fix failure to create config in current dir
  - update list of considered file names for ssh key autodetection
  - allow users to prefer ssh key over password auth
  - ssh: recognize gpg keys (yubikey usage)
  - fix operating on _project meta
  - revert "interpretation of string literals in messages" that broke unicode handling
  - fix product build rpm caching
  - enable md5 revisions in osc log
  - parseRevisionOption(): raise an exception on invalid revisions

-------------------------------------------------------------------
Fri Jun 24 13:33:36 UTC 2022 - Daniel Mach <daniel.mach@suse.com>

- 0.180.0
  - warn when trying to commit a prj/pac managed in scm
  - fix crash on "osc up" for git based package/projects
  - don't traceback on invalid credentials manager
  - improve README, rename it to README.md
  - declare OscHTTPSignatureAuthHandler as a new-style class
  - remove illegal character in comment

-------------------------------------------------------------------
Thu Jun  2 12:31:16 UTC 2022 - Daniel Mach <daniel.mach@suse.com>

- 0.179.0
  - signature (ssh key) authetication fixes (RSA key support, skip binary files)
  - commandline: handle calls without arguments gracefully
  - use percent-quoted url for download url generation
  - osc co/up: highlight pending requests' header
  - get_results(): fix check for empty details
  - another exception for github URLs for "osc add"
  - update Sphinx configuration, documentation fixes
  - make Sphinx optional in setup.py not to break package builds
  - support flavors in aggregatepac
  - check if repos provided to aggregatepac command exist
  - several coding style fixes

-------------------------------------------------------------------
Tue May 24 12:34:52 UTC 2022 - Daniel Mach <daniel.mach@suse.com>

- 0.178.0
  - EXPERIMENTAL: git repository handling
    * init command is working inside of a git repository
    * downloadassets command fetches references assets from build description
    * checkout is cloning from git
  - EXPERIMENTAL: signature (ssh key) authetication
    * allow to configure 'sshkey' option in the config
    * try to guess ssh key from the keys added to ssh-agent
    * rename OscHTTPBasicAuthHandler to OscHTTPAuthHandler
    * simplify bad auth retry workaround needed for old python versions
  - add support for building preinstall images
  - add support for building Helm charts
  - show the md5s that are failing to validate after fetching a package
  - add missing space to copypac completion
  - never require login in the help command
  - linkdiff: raise an exception when an added file is missing
  - run tests via calling 'setup.py test'
  - several coding style fixes

- spec file:
  - run tests via calling 'setup.py test'
  - disabled tests in debian.rules

-------------------------------------------------------------------
Tue Apr 26 07:53:48 UTC 2022 - Marco Strigl <marco.strigl@suse.com>

- 0.177.0
  * switch to python3 in osc-wrapper and make python3 explicit
  * allow formatting of the sccache uri
  * show repository state and details
  * a few minor fixes and improvements in credentials handling
  * order credential managers by priority
  * kernel keyring is now supported as credential manager
  * support regex based name filtering in core.get_prj_results()
  * revision parsing parseRevisionOption(): cleanup and make logic consistent
  * use sr_ids[0] for superseding (fixes issues with superseding requests
    containing many packages
  * download logs and metadata in subdirs named by packages when osc getbinaries
    is issued on project level or in multibuild case

- spec file:
  * recommed python-keyring-keyutils for new kernel keyring backend

-------------------------------------------------------------------
Mon Feb 28 17:34:00 UTC 2022 - Daniel Mach <daniel.mach@suse.com>

- 0.176.0
  * add -F option to osc submitreq
  * add --verbose option to build command
  * fix getbinaries command to fetch also multibuild packages
  * fix getbinaries -M/--multibuild-package option usage
  * skip fetching metadata and logs in the getbinaries command
  * do not download a bdep with a hdrmd5 from the api by default
  * re-download file from API when hdrmd5 doesn't match
  * honor --download-api-only option
  * remove Windows from the supported operating systems
  * fix license in setup.py
  * add py3.10 and py3.11 to the classifiers in setup.py
  * use the latest version of COPYING file from gnu.org
  * fix crash on terminal resize during download
  * do not fail with a traceback in case of a config error
  * preserve oscrc symlink when writing conf file
  * escape % character in binary download URLs
  * fix printing paths to built debian packages

-------------------------------------------------------------------
Tue Feb 22 01:21:11 UTC 2022 - Matthew Davis <opensuse@virtual.drop.net>

- 0.175.1:
  * Modified SPEC file to be more compatible with KOJI and COPR.
  ** Modified SPEC file to use python3 for CentOS/RHEL 7
  ** Modified SPEC file use fedora/rhel version macros.
  ** Changed perl to sed in %install section of SPEC file.

-------------------------------------------------------------------
Thu Dec  2 08:18:20 UTC 2021 - Marco Strigl <marco.strigl@suse.com>

- 0.175.0:
  * do not crash when running "osc search --binary --verbose foo"
  * don't run source services when building outside of an OSC package working copy
  * fix XDG_CONFIG_HOME
  * offer a force ("f") choice in metafile.edit's error handling code path
  * fix XPath used in search requests
  * add support for creating a workflow token via "osc token"
  * handle missing os.sysconf more gracefully
  * detachbranch: remove _link when link target got removed
  * improve error message in case of an URLError
  * fix downloading from mirrors
  * avoid sending entire projects on "osc mr"
  * fix hdmrd5 check of local cached files
  * improve logic for conffile mode handling

-------------------------------------------------------------------
Wed Jul 21 08:51:23 UTC 2021 - Marcus Hüwe <suse-tux@gmx.de>

- 0.174.0:
  * fix password deletion via "osc config -d <apiurl> pass"
  * support changing the password store via "osc config <apiurl>
    --select-password-store")
  * support slash syntax in osc browse ("osc browse prj/pkg" is equivalent to
    "osc browse prj pkg")
  * fix the commit of a frozen package wc
  * fix local product builds using obsrepositories:/ directives
  * print a meaningful message when trying to a commit a non-existent package

-------------------------------------------------------------------
Fri Jun 18 21:35:50 UTC 2021 - Atilla ÖNTAŞ <tarakbumba@gmail.com>

- force Mageia >= 8 builds to python3; python2 is deprecated in Mageia 8 and up.

-------------------------------------------------------------------
Tue May 18 20:58:00 UTC 2021 - Marcus Hüwe <suse-tux@gmx.de>

- 0.173.0:
  * add showlinked command to show all references of packages linking to a given one
  * add build --shell-after-build flag. It can also be set via .oscrc.
  * add build --stage flag. Useful for example for fixing file lists and just
    running the install section to see the result of it (use --stage=i=).
    Check the help for more details.
  * allow to run build script as non-root, by setting su-wrapper empty
    => osc is not guessing anymore if user builds are wanted
  * add support for cross arch local build using a sysroot
  * support slash notation in "osc creq -a <action type> args"
  * add "--force" option to the "osc add" command (can be used to override
    the exclude_glob config option)
  * support the commit of arbitrary sized files
  * add support for sccache

-------------------------------------------------------------------
Wed May  5 13:55:44 UTC 2021 - Dominique Leuenberger <dimstar@opensuse.org>

- Install macros.osc to %{_rpmmacrodir}, not to /etc/rpm.

-------------------------------------------------------------------
Wed Jan 27 16:40:47 UTC 2021 - Marcus Hüwe <suse-tux@gmx.de>

- reformat spec with a recent version of the obs-service-format_spec_file
  service

-------------------------------------------------------------------
Wed Jan 27 13:31:51 UTC 2021 - Marcus Hüwe <suse-tux@gmx.de>

- 0.172.0:
  * support --lastsucceeded/--last-succeeded in "osc buildlog", "osc
    remotebuildlog" + friends (perform the corresponding operation on
    the build log of the last successful build)
  * fix pypi deployment via Travis CI
  * several fixes in request related code paths (no double html_escape
    of a request's description etc.)
  * support local builds in a systemd-nspawn container
  * fix potential TypeErrors+UnicodeEncodeErrors in the util.cpio and
    util.ar modules
  * support local flatpak builds (requires a recent build version)
  * "osc init <prj>" works for a non-existent (server-side) project <prj>
  * .old dir support for source services so that some services have access
    to the results of a previous service run

-------------------------------------------------------------------
Tue Nov 10 13:42:55 UTC 2020 - Marco Strigl <marco.strigl@suse.com>

- 0.171.1
  * maintainer search: lookup via package name by default and binary as fallback
  * fix crash on console resize when downloading files during build
  * add proper repourls to osc reporuls
  * new command osc releaserequest: This command is used to transfer sources and
    binaries without rebuilding them.
    It requires defined release targets set to trigger="manual".
  * some improvements on output of help and error messages

-------------------------------------------------------------------
Thu Jul  9 08:06:35 UTC 2020 - Marco Strigl <marco.strigl@suse.com>

- 0.170.0
  * fix code for python3.8 and python3.9
  * remove dead code
  * fix tests
  * don't use chardet to guess encoding. utf-8 or latin-1 is now assumed
    This will speed up decoding (bsc#1173926)
  * escape sequences are interpreted correctly on -m
    osc sr -m "1st line\n2nd line"
        results in
    1st line
    2nd line
  * add status filter to osc results
  * add --brief to osc prjresults
        Gives:
        build openSUSE_Leap_15.1 x86_64 succeeded
        build openSUSE_Leap_15.0 x86_64 succeeded
        build openSUSE_Leap_15.0 armv7l unresolvable
        build openSUSE_Factory_ARM armv7l succeeded
        build openSUSE_Factory_ARM aarch64 succeeded
  * osc prjresults -s <status>: status can now be the long text like "succeeded", "failed"
  * improve error message if osc service <servicename> is not run in working directory
  * web links are now also printed for osc mr when print_web_links=1 is set
- Spec:
  * re-enable test suite

-------------------------------------------------------------------
Thu Jul  2 12:46:33 UTC 2020 - Frederic Crozat <fcrozat@suse.com>

- Really fix path for fish completion file to
  /usr/share/fish/vendor_completions.d and fix its permissions.

-------------------------------------------------------------------
Fri May 29 18:40:18 UTC 2020 - Marco Strigl <marco.strigl@suse.com>

- 0.169.1
  * add --ccache option to osc getbinaries

-------------------------------------------------------------------
Wed May 27 12:54:14 UTC 2020 - Marco Strigl <marco.strigl@suse.com>

- 0.169.0
   * improve speed and usability of osc bash completion
   * switch packagequery.py to return only bytes
   * improved some error messages
   * osc add: support git@ (private github) or git:// URLs correctly
   * split dependson and whatdependson commands
   * support for osc build --shell-cmd
   * Fix kiwi build with --prefer-pkgs
   * add pkg-ccache support for osc build
   * fix security issue (bsc#1122675, CVE-2019-3681) do not allow '/' in filename

-------------------------------------------------------------------
Fri Mar 13 06:49:27 UTC 2020 - Marco Strigl <marco.strigl@suse.com>

- 0.168.2
  *  use helper method _html_escape to enable python3.8 and python2.*
     compatibility (boo#1166537)

-------------------------------------------------------------------
Wed Mar 11 16:00:14 UTC 2020 - Ondřej Súkup <mimi.vx@gmail.com>

- Fix support for python38, osc#763

-------------------------------------------------------------------
Mon Mar  9 08:14:46 UTC 2020 - Tomáš Chvátal <tchvatal@suse.com>

- Spec: temporary disable tests as they explode under python 3.8
  * Needs to compare xml using testtools.matchers.MatchesStructure

-------------------------------------------------------------------
Thu Mar  5 08:30:46 UTC 2020 - Marco Strigl <marco.strigl@suse.com>

- Spec:
    * fix destination of fish completion file to /usr/share/fish/vendor_completions.d

-------------------------------------------------------------------
Wed Mar  4 09:27:41 UTC 2020 - Marco Strigl <marco.strigl@suse.com>

- 0.168.0
  * MR creation honors orev now (bsc#1160446)
  * allow "osc r --vertical" for projects
  * several typo fixes
  * cleanup old functions and remove python2.6 compat code
  * support zstd arch linux files in local build
  * fix deleterequest for repositories
  * append --norootforbuild as default to build command
  * fix decoding in interactive request mode
  * use signdummy for product builds
  * print release project when creating MR
  * improve SSLError message for TLSv1 validation
  * osc maintained --version prints the version of each maintained package
  * print web url links after creating requests (New general bool option 'print_web_links' must be set in oscrc)
  * fix checkout_no_colon on project level
  * handle empty release number of rpm packages in build.py
  * handle bytes vs. str error when parsing meta
  * custom exception if importing m2crypto fails
  * fix missing oscerr import in util.helper
  * several fixes for keyring handling
  * fix arch zst magic in util.packagequery

-------------------------------------------------------------------
Fri Feb 28 12:27:27 UTC 2020 - Frederic Crozat <fcrozat@suse.com>

- Ship fish completion file.

-------------------------------------------------------------------
Tue Feb 11 16:39:17 UTC 2020 - Fabian Vogt <fvogt@suse.com>

- Spec:
    * Recommend python3-keyring when using python3

-------------------------------------------------------------------
Tue Jan  7 10:54:25 UTC 2020 - Marco Strigl <marco.strigl@suse.com>

- 0.167.2
  * fix regression in osc chroot
  * fix broken importsrcpkg

-------------------------------------------------------------------
Tue Dec 10 12:44:18 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.167.1
  - fix cpio fetch error handling
  - support local build using RedHat rpm-md modules
  - fix local build outside of the working copy of a package.
    (fixes boo#1136584)
  - Use the distro module for linux platform detection for
    python3.8 compatibility

-------------------------------------------------------------------
Thu Dec  5 09:47:54 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.167.0
  * Added --lastsucceeded option for logfile display (requires OBS 2.11)
  * osc shell/chroot/wipe is now handled via build script (working for chroot and KVM only atm)
  * osc build/shell features:
    - --vm-type=qemu support for cross architecture builds
    - additional debug packages are read from build config now
      (extra-pkgs definition is therefore by default empty now)
    - --vm-disk-size=  switch supported (has only an effect on clean builds)
    - repository, architecture and vm_type from last build is automatically
      reused if not specified otherwise.
    - support building for kiwi products using obsrepositories:/
    - support local building using RedHat rpm-md modules
  * fix decoding for osc aggregatepac
- added Conflicts: build < 20191205. The new osc shell/chroot features might
  not work with older build scripts
- removed version dpendency for Recommends: build. Does not work anyway.
- added 0%{?centos_version} >= 800 to some %if statemets to enable build of
  python3 version on CentOS 8 and higer


-------------------------------------------------------------------
Wed Nov 13 12:05:26 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.166.2
  * Don't enforce password reuse (boo#1156501)
  * Config option check_for_requests_on_action is now
    activated by default.
    Use check_for_request_on_action = 0 in oscrc to
    disable it
  * osc vc --file=foo bar.changes now writes the content
    from foo into bar.changes instead of creating a new file
    (boo#1155953)
  * fix output for missing pubkey when using http_debug=1 on
    osc build
  * fix crash of osc linkpac when there is already a _link

-------------------------------------------------------------------
Tue Oct 29 10:18:24 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.166.1
  * emergency fix for credentials handling:
      - in case of an old passx entry in oscrc
        osc did not work at all. Now we check in
        the compat code if we have an passx entry.

-------------------------------------------------------------------
Thu Oct 24 10:05:06 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.166.0 (boo#1154972)
  * New password handling backend. Supported password stores:
      - Plaintext password
      - Obfuscated password
      - python-keyring (kwallet, secret store)
      - gnome-keyring
      - no store at all (ask for the password every time
  * Refactor initial setup of osc (to select password store)
  * fix decoding on osc lbl (boo#1137477)
  * fix breakage of submitting complete branches back as an
    submit request that contain packages without a change.
  * fix error with plugins and osc -h
  * various decoding improvements
  * Transfer the name of the input file to vc instead of the content
    (obs-build/vc will do the rest and open the file).
  * support appimage builds
  * new command browse. (opens a browser opening the project or package)
  * new option --incoming for osc rq and osc review to only show only
    incoming reqeusts for a project.
- new Recommends for xdg-utils. osc-browse uses xdg-open to open
  the url to the project/package in an internet browser

-------------------------------------------------------------------
Mon Aug  5 06:51:32 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.165.4 (boo#1144211)
   * allow optional fork when creating a maintenance request
   * fix RPMError fallback
   * fix local caching for all package formats
   * fix appname for trusted cert store
   * osc -h does not break anymore when using plugins

-------------------------------------------------------------------
Wed Jul 24 13:18:01 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.165.3 (boo#1142662)
    * switch to difflib.diff_bytes and sys.stdout.buffer.write for diffing.
      This will fix all decoding issues with osc diff, osc ci and osc rq -d
    * fix osc ls -lb handling empty size and mtime
    * removed decoding on osc api command.
    * fixed broken TLS certificate handling (boo#1142518, CVE-2019-3685)

-------------------------------------------------------------------
Mon Jul  8 11:11:58 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.165.2 (boo#1140697)
    * support different token operations (runservice, release and rebuild) (requires OBS 2.10)
    * fix osc token decode error
    * offline build mode is now really offline and does not try to download the buildconfig
    * osc build -define now works with python3
    * some spelling fixes
    * properly parse the error message on osc meta -e
    * osc maintainer -s now works with python3
    * simplified and fixed osc meta -e (boo#1138977)
    * osc lbl now works with non utf8 encoding (boo#1129889)
    * add simpleimage as local build type

-------------------------------------------------------------------
Tue May 21 09:10:33 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- Spec:
    * add Provides: %{use_python}-osc so that other packages
      can require the correct version (either python2-osc or
      python3-osc)

-------------------------------------------------------------------
Mon May 20 06:39:33 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.165.1 (boo#1138165)
    * fix oscssl "urldefrag is not defined error"
    * osc release command now python3 compatible
    * add more decode logic in get_commitlog
    * osc add <dir> in compressed mode now works with python3
    * osc getbinaries now prints the output instead of
      using the quiet mode as a default

-------------------------------------------------------------------
Wed Apr 24 11:20:12 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- osc-0.165.0.tar.gz now contains the correct version (tag 0.165.0)

-------------------------------------------------------------------
Wed Apr 24 09:55:14 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- simplify "BuildArch:" decission if statements. (Avoid double
  BuildArch lines)
- Fedora29: m2crypto for python3 is named python3-m2crypto now

-------------------------------------------------------------------
Thu Apr 18 12:45:04 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- 0.165.0
    * full python3 compatibility (bsc#1125243)
        fixes bsc#1131512, bsc#1129889, bsc#1129757
    * removed following patches (now upstream):
        001_helper.patch
        002_man_page_building.patch
        003_setup.patch
        004_babysitter.patch
        005_oscssl.patch
        006_build.patch
        007_core.patch
        008_commandline.patch
        009_fetch.patch
        010_fix-decoding_in_canonname.patch
        011_repodata.patch
        012_packagequery.patch
- spec file modifications:
    * noarch only on non-SUSE distros and newer SUSE Versions > 11
    * disable testsuite on older SUSE Versions (unittest module too old)

-------------------------------------------------------------------
Tue Apr  9 15:04:19 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- moved Recommends for diffstat to suse specific section.

-------------------------------------------------------------------
Tue Apr  9 13:32:17 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- added Buildrequires and Requires for python-chardet
    * needed for determining the encoding of objects (Requires)
    * needed also for testing in %check section (BuildRequires)

-------------------------------------------------------------------
Sun Apr  7 19:49:25 UTC 2019 - Marco Strigl <marco.strigl@suse.com>

- activate tests for osc
- add Buildrequires and Recommends for diffstat
    osc prdiff --diffstat needs it
    The testsuite needs it (Therefore the BuildRequires

-------------------------------------------------------------------
Tue Mar  5 13:22:08 UTC 2019 - marco.strigl@suse.com

- modified patch 008_commandline.patch
  * fix broken sorted call on osc my sr when sorting
    the submit requests by reqid. (gh#519)
- modified patch 007_core.patch
  * fix slowdown of rbl with readline(bufsize) function.
    (bsc#1127932)

-------------------------------------------------------------------
Wed Feb 20 09:32:01 UTC 2019 - marco.strigl@suse.com

- fix for bsc#1126055 (osc build -p <dir> fails with TypeError):
  * add 011_repodata.patch
  * add 012_packagequery.patch
  * modified 006_build.patch, 010_fix-decoding_in_canonname.patch
- fix for bsc#1126058 (osc buildinfo -p <dir> fails with TypeError):
  * modified 008_commandline.patch

-------------------------------------------------------------------
Thu Feb 14 12:42:29 UTC 2019 - marco.strigl@suse.com

- add 010_fix-decoding_in_canonname.patch
  RpmQuery.canonname returns broken filename due to missing
  decoding.

-------------------------------------------------------------------
Wed Feb 13 10:34:59 UTC 2019 - marco.strigl@suse.com

- osc is now noarch for all
- fixed %license

-------------------------------------------------------------------
Tue Feb 12 15:46:00 UTC 2019 - marco.strigl@suse.com

- use %bcond_with(out) python3 to simplify spec file
- add and apply patches only in python3 case
- replace shebang in osc-wrapper.py depending on python version

-------------------------------------------------------------------
Tue Feb 12 14:21:39 UTC 2019 - marco.strigl@suse.com

- rewrite 009_fetch.patch
    some versions of python do not support rb'some_text'
- overwrite python_sitelib on Tumbleweed and SLE >= 15
- swich to python3-rpm on Tumbleweed and SLE >= 15. Otherwise
  python2 will be installed

-------------------------------------------------------------------
Tue Feb 12 13:49:32 UTC 2019 - marco.strigl@suse.com

- use python3 on Tumbleweed and SLE >= 15

-------------------------------------------------------------------
Tue Feb 12 13:12:17 UTC 2019 - marco.strigl@suse.com

- cpio download of needed packages during build is not
  possible, because cpio.py has now a bytes only api and
  the decoding needs to be done in the fetch module instead.
    added: 009_fetch.patch

-------------------------------------------------------------------
Tue Feb 12 10:46:11 UTC 2019 - marco.strigl@suse.com

- added patches to support python3 until the PR are merged
  upstream (bsc#1125243):
    - 001_helper.patch
    - 002_man_page_building.patch
    - 003_setup.patch
    - 004_babysitter.patch
    - 005_oscssl.patch
    - 006_build.patch
    - 007_core.patch
    - 008_commandline.patch

-------------------------------------------------------------------
Tue Feb 12 08:14:30 UTC 2019 - marco.strigl@suse.com

- 0.164.2
  - deleterequest for entire projects needs the --all option as additional protection
  - rewrite packagequery to support python3
  - rewrite oscerr module to support python3
  - rewrite archqeury and debquery to support python3
  - Export vc env vars when running a source service

-------------------------------------------------------------------
Wed Jan 16 13:11:41 UTC 2019 - marco.strigl@suse.com

- 0.164.1
  - rewrite cpio handling to support python3
  - rewrite ar module to support python3
  - enable fetch module to support python3
  - rework progressbar hanlding (if module is not present)
  - improve os_path_samefile in core.py

-------------------------------------------------------------------
Wed Jan  9 12:44:29 UTC 2019 - marco.strigl@suse.com

- 0.164.0
  - add support for approved requests (requires OBS 2.10)
  - fix various multibuild problems
  - improved and fixed various help texts
  - check constraints without local checkout
  - check out deleted sources (osc co -D)
  - replace urlgrabber module with own module
  - use progressbar module instead of urlgrabber to draw
    progress bars
  - show buildinfo for alternative projects (--alternative-project)
  - run release job immediately (osc release --no-delay)
  - build results on project level can now be watched (osc prjresults --watch)
- removed python-urlgrabber requieres. (Not used with 0.164.0)
- added recommends for python[2]-progressbar

-------------------------------------------------------------------
Mon Aug 20 11:24:25 UTC 2018 - Adrian Schröter <adrian@suse.de>

- 0.163.0
  * add sendsysrq command (requires OBS 2.10)
  * add addcontainers command (requires OBS 2.10)
  * enable statistics for local builds
  * add new options to diff command:
    --unexpand for local diffs only (bsc#1089025)
    --meta for diffing meta files
  * add support for podman/buildag engine (docker variation)
  * support realname in .changes files
  * fix DISTURL checkout for package containers using a multibuild flavor
  * Disable ssl session resumption

-------------------------------------------------------------------
Fri Jun 29 07:23:57 UTC 2018 - marco.strigl@suse.com

- add Requires: python2 for Tumbleweed.
  Otherwise just python-base is installed which does not contain ssl.py
  [bnc#1097996]
- removed duplicate entry in appimage.yml to prevent double builds

-------------------------------------------------------------------
Tue Dec  5 13:41:04 UTC 2017 - marco.strigl@suse.com

- 0.162.1
  - Send sha256 hashes for tracked files if the wc is pulled/linkrepair

-------------------------------------------------------------------
Tue Nov 28 14:14:22 UTC 2017 - adrian@suse.de

- 0.162.0
  - Additional file content check with SHA256 when using OBS 2.9
  - support deb format with control.tar.xz

-------------------------------------------------------------------
Thu Oct 26 12:41:25 UTC 2017 - marco.strigl@suse.com

- 0.161.1
  - Fix python 2.6 SyntaxError (multiple context expressions)

-------------------------------------------------------------------
Thu Oct 26 11:39:49 UTC 2017 - marco.strigl@suse.com

- 0.161
  - show lintlogs in interactive request review mode
  - fix potential shell injections
  - allow multiple --repo and --arch options in prjresults
  - cleanup babysitter.by
  - supersede existing requests if --yes is passed to osc sr
  - prepend request summary to diff in interactive mode
  - show issues(bugs) in interactive diff mode

-------------------------------------------------------------------
Wed Oct  4 08:56:38 UTC 2017 - marco.strigl@suse.com

- add Recommends: ca-certificates to enable TLS verification
  without manually installing them. [bnc#1061500]

-------------------------------------------------------------------
Fri Sep 22 07:07:33 UTC 2017 - adrian@suse.de

- 0.160
  - support fissile build type
  - Container support for the package cache
  - Remove all untracked files during "osc clean"
  - Support the commit of a deleted, but non-existent package
  - triggerreason --multibuild-package option
  - improved status display
  - improved request listing filters

-------------------------------------------------------------------
Thu Jul 27 22:06:25 UTC 2017 - jberry@suse.com

- Provide non-deprecated plugin directory and macro for plugins.

-------------------------------------------------------------------
Thu Jul 20 21:18:21 UTC 2017 - adrian@suse.de

- add Recommends: obs-service-obs_scm

-------------------------------------------------------------------
Tue Jul 18 22:49:23 UTC 2017 - adrian@suse.de

- 0.159.0
  - "osc buildhistory": show build duration
  - Support builds using native Docker build descriptions
  - Support usage of pre-build containers for Docker and KIWI builds
  - "osc build -M ..": fixed behaviour of falvoured builds
  - added switch to show only issues in rdiff
  - show build duration in build history
  - allow to cat/less files from deleted packages (using -D option)
  - Allow to override man-page date

-------------------------------------------------------------------
Tue May  9 07:51:06 UTC 2017 - marco.strigl@suse.com

- 0.158.0
  - cat/less/blame command: default to expand to stay in sync with checkout
  - add support for highly experimental native appimage.yml support
  - show package status when repository configuration is broken
  - add '--blame' option to osc meta command
  - try to autodetect local package when running 'osc build'
  - comment requests in interactive mode
  - fix github issue #236 (--no-cleanup not working)
  - fix wipebinaries to prevent wiping of complete repository
  - add '--build-opt' to osc build command
  - fix requests codebase to fit old obs versions

-------------------------------------------------------------------
Tue Mar 21 12:51:00 UTC 2017 - marco.strigl@suse.com

- 0.157.2
  - add compat code for older apis that do not support multibuild
  - fix ssl.connection instantiation in case of old M2Crypto
  - highly experimental support for appimage
  - fix local service run for non-existent (server-side) package

-------------------------------------------------------------------
Wed Mar  8 12:14:32 UTC 2017 - marco.strigl@suse.com

- 0.157.1
  - fix local build of kiwi images using obsrepositories://

-------------------------------------------------------------------
Wed Mar  8 08:57:31 UTC 2017 - marco.strigl@suse.com

- 0.157
  - add unpublish command (requires OBS 2.8)
  - add blame command (requires OBS 2.9)
  - results: show multibuild results by default
  - getbinaries: make .AppImage files executable
  - support operation in checked out package for cat/less/blame
  - add comment command
  - improved build recipe selection
  - added multibuild (-M) to commands:
          buildlog, remotebuildlog, buildinfo, build, buildhistory, jobhistory,
          rebuild, restartbuild/abortbuild, wipebinaries, getbinaries
  - add checkconstraints command
  - add workerinfo command

-------------------------------------------------------------------
Mon Dec 19 13:50:56 UTC 2016 - marco.strigl@suse.com

- 0.156.0
  - highlight scheduled jobs with dispatch problems (due to constraints)
  - allow to specify a log message in lock command
  - Add '--wipe' option to osc chroot for deleting buildroots
  - Add '--vm-memory' option to osc build
  - add --multibuild to results command for showing all packages
    of a multibuild config
  - add --multibuild-package option to results command for showing
    only one package of the multibuild config

-------------------------------------------------------------------
Wed Oct 26 15:47:51 UTC 2016 - brownn@brocade.com

- Install bash completion in the debian package

-------------------------------------------------------------------
Thu Sep 15 11:28:57 UTC 2016 - adrian@suse.de

- 0.155.1
  - fixed "osc add" of new package container

-------------------------------------------------------------------
Fri Jul 29 14:05:52 UTC 2016 - adrian@suse.de

- 0.155.0
  - osc service runall: runs all service local, independend of the mode
                        This allows to create local files even when disabled or
                        just created at buildtime
  - support snapcraft.yaml build descriptions
  - "osc add" of a directory offers to create an archive for uploading it
  - support usage or preinstall images in local builds
  - revision control options for "meta prj"
  - bugfixes and documentation updates

-------------------------------------------------------------------
Fri Jun 10 12:09:42 UTC 2016 - suse-tux@gmx.de

- make a noarch package if suse_version >= 1120 (since 1120 python
  noarch packages are supported)

-------------------------------------------------------------------
Mon Apr 11 08:50:29 UTC 2016 - adrian@suse.de

- 0.154.0
  - support for new obs_scm services (OBS 2.7 needed)
  - show errors on branch failures again

-------------------------------------------------------------------
Fri Apr  1 08:35:19 UTC 2016 - olaf@aepfle.de

- Recommend powerpc32 to avoid 'osc build' failures

-------------------------------------------------------------------
Fri Mar  4 07:27:49 UTC 2016 - adrian@suse.de

- 0.153.0
  - "my sr" is using the server side request collection to get right results
  - maintenance request offers to supersede old, but still open requests
  - add build --vm-telnet option for getting debug shell in KVM builds
  - add buildhistory --limit option
  OBS 2.7 only:
  - add "addchannels" and "enablechannel" commands
  - support new package instances on branching when using -N parameter
  - add --linkrev option to branch command
  - add --add-repository-block option to branch command
  - add --add-repository-rebuild option to branch command
  - add service merge command
  - add service wait command

-------------------------------------------------------------------
Tue Jun 30 13:35:47 UTC 2015 - adrian@suse.de

- 0.152.0
  - add support searching for groups via "group:" prefix
  - show possible used incident projects on "maintained" command
  OBS 2.7 only:
  - support buildtime source services
  - support maintenance_incident requests with acceptinfo data
  - support maintenance_release requests with acceptinfo data

-------------------------------------------------------------------
Thu May  7 20:58:22 UTC 2015 - list0570@paradise.net.nz

- Fix rpm URL. gitorious is shut down end of May 2015.

-------------------------------------------------------------------
Mon Apr 20 07:18:40 UTC 2015 - bwiedemann@suse.com

- Recommend sudo (needed for osc build)

-------------------------------------------------------------------
Thu Mar 26 13:52:34 UTC 2015 - adrian@suse.de

- 0.151.2
  - improved error loging

-------------------------------------------------------------------
Mon Mar 16 07:15:14 UTC 2015 - adrian@suse.de

- 0.151.1
  - fixing regression running "osc service run"

-------------------------------------------------------------------
Thu Mar 12 09:36:27 UTC 2015 - adrian@suse.de

- 0.151.0
  - fixed shell command injection via crafted _service files CVE-2015-0778 boo#901643
  - fix times when data comes from OBS backend
  - support updateing the link in target package for submit requests
  - various minor bugfixes

-------------------------------------------------------------------
Tue Jan 13 15:53:11 UTC 2015 - adrian@suse.de

- 0.150.1
  - minor syntax fix

-------------------------------------------------------------------
Fri Jan  9 14:44:45 UTC 2015 - adrian@suse.de

- 0.150.0
  - support local builds using builenv (for same build environment as a former build)
  - add "osc api --edit" option to be able to edit some meta files directly
  - follow the request order of the api (sorting according to priorization)
  - add mr --release-project option for kgraft updates
  - add support for makeoriginolder in request

-------------------------------------------------------------------
Fri Dec  5 13:17:15 UTC 2014 - seife+obs@b1-systems.com

- fix bash completion (complete is not propagated into subshells,
  but PROFILEREAD is, so the setup script is never executed)

-------------------------------------------------------------------
Fri Nov 14 12:46:34 UTC 2014 - suse-tux@gmx.de

- fixed #123 (wrong requires for Fedora 20)

-------------------------------------------------------------------
Tue Oct 21 09:57:27 UTC 2014 - suse-tux@gmx.de

- 0.149
  - removed "--diff" option from the "createrequest" command
  - introduced new "vc-cmd" config option, which is used to specify the path
    to the vc script
  - various bugfixes

-------------------------------------------------------------------
Tue Oct  7 14:45:27 UTC 2014 - adrian@suse.de

- 0.148.2
  - support multiple parallel maintenance projects
    => fixing submit request call

-------------------------------------------------------------------
Fri Sep 12 07:03:37 UTC 2014 - adrian@suse.de

- 0.148.1
  - fixes crash regression

-------------------------------------------------------------------
Thu Sep 11 10:35:57 UTC 2014 - adrian@suse.de

- 0.148.0
  - support new history including review history of OBS 2.6
  - display request priorities, if important or critical
  - add "osc rq priorize" command to re-priorize existing requests
  - allow also "osc rq ls" shortcut
  - fish shell completion support

-------------------------------------------------------------------
Tue Aug 26 07:51:58 UTC 2014 - adrian@suse.de

- 0.147.0
  - support groups in maintainership requests
  - fixing listing of review requests
  - support expanded package listing (when using project links)
  - fixing "osc add git://" behaviour
  - using xz as default compression
  - support local debian live (image) build format
  - handle ppc64le for debian as well
  - fix buildlog --strip-time
  - some more minor bugfixes

-------------------------------------------------------------------
Mon May 19 13:59:53 UTC 2014 - adrian@suse.de

- 0.146.0
  - support maintenance release request with acceptinfo data (OBS 2.6)
  - setlinkrev can be used to update frozen links to current revisions again
  - report errors in case request accept fails
  - support epoch number handling for local builds
  - support bugowner request handling for groups
  - support usage of fedoras mock to build packages
  - support build --prefer-pkgs for Arch linux
  - support bash-completion for .kiwi files

-------------------------------------------------------------------
Thu Apr  3 07:52:46 UTC 2014 - suse-tux@gmx.de

- 0.145.0
  - allow to use the set-release option when running a manual release
  - added support for "osc requestmaintainership PROJECT"
  - various bugfixes:
    - print_buildlog: do not strip tabs
    - fixed "osc -H ..." in combination with a proxy
    - fixed creation of ~/.osc_cookiejar
    - Package.commit: create _meta for newly added packages
    - fixed behavior of set_link_rev #72
- fixed typos in PKGBUILD file: no comma in depends tag (as
  pointed out by roflik)

-------------------------------------------------------------------
Fri Feb 28 14:42:30 UTC 2014 - adrian@suse.de

- 0.144.1
  - fixed "osc meta pkg -e" regression for special package names

-------------------------------------------------------------------
Thu Feb 27 09:42:55 UTC 2014 - adrian@suse.de

- 0.144.0
  - allow commiting to package sources from linked projects. osc will ask to branch it first.
  - group support in bugowner and maintainer command

-------------------------------------------------------------------
Fri Jan 24 09:38:32 UTC 2014 - adrian@suse.de

- 0.143.0
  - add option to add a auto-accept in future for delete requests (handy for admins)
  - many bugfixes:
    - plugin loading
    - bugowner handling
    - download of server side generated source "up -S"
    - wipebinaries command

-------------------------------------------------------------------
Tue Dec 31 19:24:43 UTC 2013 - andreas.stieger@gmx.de

- package COPYING [bnc#699224]

-------------------------------------------------------------------
Wed Dec  4 08:25:41 UTC 2013 - adrian@suse.de

- 0.142.2
  - support for ppc64le architecture

-------------------------------------------------------------------
Tue Dec  3 10:24:14 UTC 2013 - adrian@suse.de

- 0.142.1
  - fixes regression for wipebinaries call
  - fixes "osc api" call when uploading binaries via POST

-------------------------------------------------------------------
Thu Nov 21 09:30:40 UTC 2013 - adrian@suse.de

- 0.142.0
  - support for OBS 2.5 authentification token support
  - ppc64p7 build support
  - request --no-devel to disable request forwarding
  - crash bug fix for copypac

-------------------------------------------------------------------
Tue Sep 17 11:52:07 UTC 2013 - adrian@suse.de

- 0.141.0
  - crash fixes
  - support for kiwi appliance builds using obsrepositories:/ directive
  - support for manual release of sources and binaries
  - add --last parameter for build logs to show last finished log file, if currently building
  - add signkey --sslcert option to fetch the optional create ssl certificate instead of gpg key

-------------------------------------------------------------------
Wed Jun 26 18:34:53 UTC 2013 - adrian@suse.de

- 0.140.1
  - improved compatibility with old plugins

-------------------------------------------------------------------
Thu Jun 20 08:48:40 UTC 2013 - adrian@suse.de

- 0.140.0
  - support python 2.7 and python 3 in parallel now
  - reworked plugin loading mechanism in order to avoid the (mass) breakage of existing
    plugins due to the python 3 support. Nonetheless if a plugin uses the "@cmdln.option(...)"
    decorator it has to import the cmdln module first via "from osc import cmdln".
  - allow specifying directories as mv targets
  - drop the support for deprecated cbinstall and cbpreinstall directives
  - allow to set maintainer or bugowner ship for a binary package initially, but ask back if
    this is the right place.
  - support listing of deleted source files "ls -D $PROJECT $PACKAGE"
  - build results do show that a succeeded is not yet published
  - improved bash completions
  - default build root includes repository and architecture name now
  - --request-accept-or-revoke option, useful to handle mass approval of requests
  - multiple minor bugfixes

-------------------------------------------------------------------
Tue Apr 16 07:15:57 UTC 2013 - adrian@suse.de

- 0.139.2
  - fix build on ppc/s390/ia64 (bnc#815296)
  - when forwarding a request, previous request is
    not superseded automatically (bnc#807621)
  - fix with/without definitions, --with should not define
    %_without and vice versa
  - Abort when the server is not answering with 200 or 404 when
    downloading _pubkey files - really use the internal rpm signature check
  - some spelling corrections

-------------------------------------------------------------------
Tue Feb 26 16:23:26 UTC 2013 - adrian@suse.de

- 0.139.1:
  - do not crash on invalid authentification setup

-------------------------------------------------------------------
Mon Feb 25 14:41:27 UTC 2013 - adrian@suse.de

- update to 0.139.0:
  - bugfixes for owner search
  - support generic emulator virtualization
  - added "--host" argument to "osc build" (used to perform the build on a remote host)
  - "search --maintained" is obsolete. Abort on usage.
  - "maintainer --user" support to search for all official maintained instance for given user or group
  - added support to abort a commit after displaying a default commit message in $EDITOR. As a result
    other commands like "submitrequest" will also ask if the user wants to proceed if the default
    comment/message wasn't changed.

-------------------------------------------------------------------
Thu Jan 31 15:45:58 UTC 2013 - adrian@suse.de

- update to 0.138.0:
  - add support to remove repositories recursively (mostly only usefull for admins)
  - submitrequest: old not anymore used maintenance code got removed. It is possible now
                   to create one request to submit all changed packages of an project in
                   one request. Just run "osc sr" in the checked out project directory.
  - disable keyring usage by default. print warning about misconfigured keyrings.
  - prdiff: new command to diff entire projects

-------------------------------------------------------------------
Tue Dec  4 15:46:11 UTC 2012 - adrian@suse.de

- update to 0.137.0:
    - support single binary download via getbinaries command
    - support to set the bugowner
  #
  # Features which requires OBS 2.4
  #
    - offer to send set_bugowner request if target is not writeable
    - support delete requests for repositories.
    - support default maintainer/bugowner search based on binary package names
    - support to lookup --all definitions of maintainers of bugowners. Either
      for showing or setting them.
    - buildinfo --debug  option for verbose output of dependency calculation

-------------------------------------------------------------------
Thu Sep 27 19:52:24 UTC 2012 - suse-tux@gmx.de

- update to 0.136.0:
  * prefer TLS v1.1 or v1.2 if available
  * declined is considered to be an open state (that is "osc rq list" also
    shows declined requests)
  * added support to move files across packages via "osc mv" (fixes issue #10)
  * various bugfixes

-------------------------------------------------------------------
Thu Sep 20 07:54:59 UTC 2012 - kruber@zib.de

- recommend the python-keyring package
  (needed for storing credentials in kwallet/gnome-keyring)

-------------------------------------------------------------------
Fri Jun 29 08:59:05 UTC 2012 - adrian@suse.de

- update to 0.135.1
  * do not forward submit requests to targets which link to request target
  * fix creator name in forwarded message

-------------------------------------------------------------------
Thu Jun 28 09:22:41 UTC 2012 - adrian@suse.de

- update to 0.135.0
  * request accept is offering now to forward submit request if it is a devel area like webui does
  * support archlinux builds (requires OBS 2.4)
  * support maintenancerequest from local checkout
  * bugfixes for review handling, result watching, gnome-keyring

-------------------------------------------------------------------
Thu Mar 15 08:57:44 UTC 2012 - adrian@suse.de

- update to 0.134.1
  * adding unlock command
  * maintenance_incident requests get created with source revision of package

-------------------------------------------------------------------
Mon Mar  5 09:49:51 UTC 2012 - adrian@suse.de

- update to 0.134.0
  * Enables new maintenance submissions for new OBS 2.3 maintenance model
  * Fixes srcmd5 revisions in submit request, when link target != submission target
- From NEWS file:
    - patchinfo call can work without checked out copy now
    - use qemu as fallback for building not directly supported architectures
    - "results --watch" option to watch build results until they finished building
    - fixes injection of terminal control chars (bnc#749335)(CVE-2012-1095)
  #
  # Features which requires OBS 2.3
  #
    - support dryrun of branching to preview the expected result. "osc sm" is doing this now by default.
    - maintenance requests accept package lists as source and target incidents to be merged in
    - add "setincident" command to "request" to re-direct a maintenance request
    - ask user to create "maintenance incident" request when submit request is failing at release project
    - "osc my patchinfos" is showing patchinfos where any open bug is assigned to user
    - "osc my" or "osc my work" is including assigned patchinfos
    - "osc branch --maintenance" is creating setups for maintenance

-------------------------------------------------------------------
Tue Dec 20 21:58:02 UTC 2011 - adrian@suse.de

- update to 0.133.1
  - removed debug code lead to warning message (fix by Marcus_H)

-------------------------------------------------------------------
Tue Dec  6 08:58:53 UTC 2011 - adrian@suse.de

- update to 0.133
  - add --meta option also to "list", "cat" and "less" commands
  - project checkout is skipping packages linking to project local packages by default
  - add --keep-link option to copypac command
  - source validators are not called by default anymore:
    * They can get used via source services now
    * Allows different validations based on the code streams
  #
  # Features which require OBS 2.3
  #
  - support source services using OBS project or package name
  - support updateing _patchinfo file with new issues just by calling "osc patchinfo" again
  - branch --add-repositories can be used to add repos from source project to target project
  - branch --extend-package-names can be used to do mbranch like branch of a single package
  - branch --new-package can be used to do branch from a not yet existing package (to define later submit target)
  - show declined requests which created by user


-------------------------------------------------------------------
Thu Aug 25 09:37:44 UTC 2011 - adrian@suse.de

- update to 0.132.6
   * fix crash on removal of local _service file
   * handle both old OBS versions before 2.3
   * fix pgp pubkey parsing
   * show created incident project

-------------------------------------------------------------------
Tue Aug 16 13:08:11 UTC 2011 - idonmez@novell.com

- Add osc-pubkey-parsing.patch, fix PGP pubkey parsing: base64
  checksum shouldn't be in the key data, upstream commit
  f707e9a22e185098bbea923b7ff8971f19a87991

-------------------------------------------------------------------
Thu Jul  7 04:51:09 UTC 2011 - adrian@suse.de

- update to 0.132.5
  * fix detection of project wide source service only
  * crash fix on incident creation

-------------------------------------------------------------------
Thu Jun 16 09:50:55 UTC 2011 - saschpe@suse.de

- spec file cleanup:
  * run spec-cleaner
  * simplified some shell commands
- recommend obs-service-download_files,
  obs-service-format_spec_file, obs-service-source_validator
- remove recommends for osc-source_validator

-------------------------------------------------------------------
Wed Jun 15 12:20:07 UTC 2011 - adrian@suse.de

- update to 0.132.4
  - fix local package build

-------------------------------------------------------------------
Fri Jun 10 09:49:44 UTC 2011 - adrian@suse.de

- update to 0.132.3
  - fix a possible crash after commit

-------------------------------------------------------------------
Thu Jun  9 15:32:11 UTC 2011 - adrian@suse.de

- update to 0.132.2
  - fix broken update after commit with service run
  - fix up -S on unexpanded checkouts

-------------------------------------------------------------------
Wed Jun  8 11:35:25 UTC 2011 - adrian@suse.de

- update to 0.132.1
  - fix backward compatibility with OBS 2.1 and before
  - meta files and content can be listed now

-------------------------------------------------------------------
Tue Jun  7 14:43:40 UTC 2011 - adrian@suse.de

- update to 0.132.0
  - rdelete and undelete command requesting now a comment
  - add 'requestbugownership' command for setting the bugowner via request
#
# Features which requires OBS 2.3
#
  - new command "createincident" to create maintenance incidents without a request
  - support to create hidden project on "branch" and "createincident" commands
  - osc waits and updates package after checkin when a source service is used
  - support for the new service file mode for "update" and "checkout" command when
    downloading server side generated files
  - integration for local source services, they will replace the source_validator mechanism

-------------------------------------------------------------------
Fri Apr 29 08:14:52 UTC 2011 - adrian@suse.de

- update to 0.131.1
  - fixes runtime complaining about missing apiurl config.
- fix wrong links in package description (bnc #690636)

-------------------------------------------------------------------
Wed Apr 27 12:24:04 UTC 2011 - adrian@suse.de

- update to 0.131
  - new command 'develproject' to print the devel project from the package meta.
  - add blt and rblt commands, aka "buildlogtail" and "remotebuildlogtail" to show
    just the end of a build log (for getting the fail reason faster).
    CHANGE: the --start parameter is now called --offset
  - add "createrequest -a add_group" option to create a group request
  - add "createrequest -a add_me" shortcut
  - add "less" command, doing the same as "osc cat" but with pager
  - fallback to unexpanded diff mode on "osc diff" on merge error.
  - support viewing the commit history of deleted packages
  - show review states on "review list"
  - new source service commands "localrun" and "disabledrun" to generate files without _service: prefix
  - add "request supersede" and "review supersede" to supersede with existing request
  - make it possible to run single source services, even when not specified in _service file.
    (For example for doing a version update without creating a _service file: osc service lr update_source)
  - protect rebuild and abortbuild commands with required "--all" option to mass failures by accident (similar to wipebinaries)
  - "review accept/decline" is trying to change all reviews of a requests, if a specific one is not specified by user
  #
  # Features which requires OBS 2.3
  #
  - "my requests" is doing faster and complete server side lookup now if available
  - "review" command has been extended to handle reviews by project or by package maintainers
  - support for new source service modes: disabled, trylocal and localonly
  - support project wide source services
  - support for armv7hl architecuture. used to denote armv7 + hardfloat binaries
  - add force option to accept requests in review state.
  - add "maintenancerequest" command to request a maintenance incident from maintenance team
  - add "releaserequest" command run a maintenance update release process (for maintenance team only)
  - allow to force the storage of project meta data (to ignore depending repositories for example)
  - "my requests" is showing requests with open reviews also now

-------------------------------------------------------------------
Fri Mar 18 21:13:48 UTC 2011 - bwiedemann@novell.com

- add Requires: rpm-python (bnc#680986)

-------------------------------------------------------------------
Sat Dec 18 01:53:27 UTC 2010 - suse-tux@gmx.de

- update to 0.130.1 (bugfix release):
  - don't crash if a file marked as 'A' does not exist (bnc#658664)
  - fixed proxy handling (bnc#657958)
  - fixed repairwc (bnc#657838)
  - fixed build for python2.4

-------------------------------------------------------------------
Mon Dec  6 20:33:16 UTC 2010 - suse-tux@gmx.de

- update to 0.130
  - new "revert" command to restore the original working copy file (without
    downloading it)
  - rewrote "diff" logic
  - added new "--http-full-debug" option, "--http-debug" filters the
    "Authentication" and "Set-Cookie" header
  - added new "--disabled-cpio-bulk-download" option: disable downloading
    packages as cpio archive from api
  - added new "repairwc" command which tries to repair an inconsistent working
    copy
  - workaround for broken urllib2 in python 2.6.5: wrong credentials lead to an
    infinite recursion
  - support --interactive-review option when running "osc rq list <project>"
  - improved "osc rq show <id> --interactive-review"
  - do_config: added new options --stdin, --prompt, --no-echo:
    --stdin: read value from stdin
    --prompt: prompt for a value
    --no-echo: prompt for a value but don't echo entered characters (for
               instance to enter a passwd)
  - added template support for a submitrequest accept/decline message
  - lots of internal rewrites (new working copy handling etc.)
  - support added for osc search 'perl(Foo::Bar)'
  - New "service" command to run source services locally or trigger a re-run on the server.
  - setlinkrev is setting now the revision to xsrcmd5 by default to avoid later breakage on indirect links by default.
#
# Feature which requires OBS 2.1
#
  - support reliable diff for an accepted request
- osc might fail with the following error:
   Your working copy '.' is in an inconsistent state.
   Please run 'osc repairwc .' (Note this might _remove_
   files from the .osc/ dir). Please check the state
   of the working copy afterwards (via 'osc status .')
   Simply run "osc repairwc" (see README for more information)

-------------------------------------------------------------------
Wed Dec  1 09:12:26 UTC 2010 - adrian@suse.de

- Add Recommends for osc add $URL functionality

-------------------------------------------------------------------
Mon Aug 30 17:40:37 UTC 2010 - suse-tux@gmx.de

- release 0.129

-------------------------------------------------------------------
Fri Aug 27 15:23:54 UTC 2010 - suse-tux@gmx.de

- recommend build >= 2010.05.04
- update to 0.129
  - "dists" command to show the configured default base repos from the server.
  - "review list" command to list open review requests
  - "review add" command to add another reviewer for a request (either user or group)
  - add "buildinfo --prefer-pkgs <dir>" option
  - add "prjresults --hide-disabled" option to hide packages which are disabled/excluded
    in all repos and repos which have only disabled/excluded packages
  - harmonize "api"'s options with curl's options
  - use builtin signature check by default (instead of verifying the signature with "rpm -K...")
  - add "status --show-excluded"  to show all files (except the store dir)
  - new "osc reqmaintainership" command which is a shortcut for
    "osc creq -a add_role USER maintainer PROJECT PACKAGE"
#
# Feature which requires OBS 2.1
#
  - add "osc aggregate --nosources" option
  - add "request clone" command to clone all packages from a given request
  - fixed references into en.opensuse.org to honor the new Wiki structure

-------------------------------------------------------------------
Fri Jul 16 13:38:12 UTC 2010 - adrian@suse.de

- update to 0.128
  - better default commands selection for editor/pager
  - support "osc rq reopen" to set a request in new state again
  - "osc repos" and "wipebinaries" is checking for local project now
  - "osc getbinaries" works in project dir now
  - support added for SPARC builds
  - support build --oldpackages
  - introduced the "trusted projects"
  - Fixes for default editor, api check on deleterequest call, tempfile leaks, getbinaries source package handling, results command
#
# Feature which require either OBS 2.1 or 2.0.4
#
  - add osc signkey --extend for extending the expiration date of the gpg public key

-------------------------------------------------------------------
Wed Jun  9 10:55:52 UTC 2010 - adrian@suse.de

- update to 0.127
  - add size limit mode, files can be ignored on checkout or update given a certain size limit.
  - --csv/--format options for results command - using format user can explicitly specify what he wants print
  - osc branch reads project/package in package directory
  - fix creation of package link, when target project has the package via linked project
  - add "osc rq approvenew $PROJECT" command to show and accept all request in new state.
    This makes sense esp. for projects which work with default reviewers before.
  - support external source validator scripts before commiting
  - support request creation with multiple actions
#
# Features which require OBS 2.0 server
#
  - support "osc add http://...", this uses obs source service for downloading a file and verify it via sha256 verifier service
  - add support for CBpreinstall/CBinstall
  - support branch --force to override target
  - support for "unresolvable" state of OBS 2.0
  - support undelete of project or package
  - support for package meta data checkout

-------------------------------------------------------------------
Mon Apr 19 15:13:42 UTC 2010 - suse-tux@gmx.de

- update to 0.126 (final):
  - added VM autosetup to osc. This requires appropriate OBS version and build script version.
  - enhanced QEMU cross build support with 'armv4l' 'armv5el' 'armv6el' 'armv7el' 'armv8el' 'mips' 'mips64' 'ppc' 'ppc64' 'sh4' arch strings now supported on x86 host
  - suggest git, svn, ... if indicated, after oscerr.NoWorkingCopy
  - "osc cat" & "osc ls" now auto-expands through link.
  - fixed "osc add" after "osc delete".
  - fix "osc patchinfo" command (crashed before)
  - fixed SSL proxy support
  - fixed meta attribute create and set calls
  - osc remotebuildlog supports a buildlogurl
  - Allow --prefer-pkgs to parse repodata
  - new "osc build --no-service" option to skip source service update
  - fix linktobranch apiurl usage
  - "maintained package" search is telling relevant projects now
    * requires OBS 1.7.2 or 2.0
  - added "osc chroot" command
  - fixed #547005 ("osc co could show download progress")
  - added "--interactive" option to "osc request"
  - store commit message so it doesn't get lost on failure
  - added "--cpio-bulk-download" and "--download-api-only" options to "osc build"
  - added "osc localbuildlog" command
  - added "--build-uid uid:gid|caller" option to "osc build" to specify abuild id in chroot
  - verify files using rpm bindings and keys supplied by buildservice
  - added "--exclude-target-project <prj>" option to "osc rq list"
  - added "--message" option to "osc branch"
  - added "osc config" command to set/get/delete a config option
  - added "--binary" and "--baseproject" options to "osc search"
  - added "-o/--offline" and "-l/--preload" options to osc build
    * osc build -l standard i586 foo.spec (to cache all dependencies)
    * osc build -o standard i586 foo.spec (to build without contacting the api)

-------------------------------------------------------------------
Wed Apr  7 13:55:54 UTC 2010 - suse-tux@gmx.de

- use rpm macros
- mark files in %%{_sysconfdir}/profile.d/ as %%config

-------------------------------------------------------------------
Sun Mar 21 22:03:07 UTC 2010 - suse-tux@gmx.de

- fixed rpmlint warning

-------------------------------------------------------------------
Sun Mar 21 21:49:19 UTC 2010 - suse-tux@gmx.de

- -update to version 0.126 (unstable)
  - suggest git, svn, ... if indicated, after oscerr.NoWorkingCopy
  - "osc cat" & "osc ls" now auto-expands through link.
  - fixed "osc add" after "osc delete".
  - fix "osc patchinfo" command (crashed before)
  - fixed SSL proxy support
  - fixed meta attribute create and set calls
  - osc remotebuildlog supports a buildlogurl
  - Allow --prefer-pkgs to parse repodata
  - new "osc build --no-service" option to skip source service update
  - fix linktobranch apiurl usage
  - "maintained package" search is telling relevant projects now
    * requires OBS 1.7.2 or 2.0
  - added "osc chroot" command
  - fixed #547005 ("osc co could show download progress")
  - added "--interactive" option to "osc request"
  - store commit message so it doesn't get lost on failure
  - added "--cpio-bulk-download" and "--download-api-only" options to "osc build"
  - added "osc localbuildlog" command
  - added "--build-uid uid:gid|caller" option to "osc build" to specify abuild id in chroot
  - verify files using rpm bindings and keys supplied by buildservice
  - added "--exclude-target-project <prj>" option to "osc rq list"
  - added "--message" option to "osc branch"
  - added "osc config" command to set/get/delete a config option
  - added "--binary" and "--baseproject" options to "osc search"

-------------------------------------------------------------------
Mon Feb  1 09:16:17 UTC 2010 - adrian@suse.de

- update to version 0.125.5
  - rdiff happens against baserev now
  - fixed "osc build --local-package
  - detect a kiwi file on build
  - improved _service file handling

-------------------------------------------------------------------
Wed Jan 27 12:18:34 UTC 2010 - adrian@suse.de

- update to 0.125.4
  - fix patchinfo command

-------------------------------------------------------------------
Thu Jan 21 09:41:52 UTC 2010 - adrian@suse.de

- update to 0.125.3
  - fixed attribute handling for final OBS 1.7 api

-------------------------------------------------------------------
Wed Jan 20 09:09:39 UTC 2010 - adrian@suse.de

- update to osc 0.125.2
  * include ssl proxy fix from Ludwig

-------------------------------------------------------------------
Thu Jan 14 21:55:28 UTC 2010 - adrian@suse.de

- osc 0.125.1 final
 * when a broken link is encountered automatically switch to last working
   version. use 'osc pull' to repair the broken link.
 * osc my request is showing now also requests from other people target to
   myself
 * new config option 'submitrequest_on_accept_action' to specify a default action
   if a submitrequest has been accepted
 * show scheduler state for each repo with "results" and "prjresults"

-------------------------------------------------------------------
Mon Jan 11 15:44:44 UTC 2010 - adrian@suse.de

- version 0.125 beta 1
  * the new commands are "pull" and "linktobranch"
  * proxy support via SSL

-------------------------------------------------------------------
Thu Dec 10 06:34:06 UTC 2009 - adrian@suse.de

- make version 0.124 final. (commit 13d900a64838fb577527d520fa0cf31c09af4cf6)
  Full changelog is inside the NEWS file.

-------------------------------------------------------------------
Wed Dec  9 06:56:28 UTC 2009 - adrian@suse.de

- first package from git repo (osc 0.124 RC1)
  * fixing product building

-------------------------------------------------------------------
Wed Dec  2 08:31:33 UTC 2009 - adrian@suse.de

- update to current svn trunk (r9348, osc 0.124 beta 2)
  * build --release option added by Ludwig

-------------------------------------------------------------------
Fri Nov 13 09:18:19 UTC 2009 - adrian@suse.de

- update to current svn trunk (osc 0.124 beta 1)
  * osc submitrequest is working on project level
  * patchinfo support

-------------------------------------------------------------------
Mon Nov  2 10:01:45 UTC 2009 - adrian@suse.de

- update to current svn trunk (osc 0.124 alpha 1)
  * Juergens incompatible changes are back, may get removed again for release
  * For maintenance work:
    - new "osc maintained $PACKAGE" command
    - new "osc mbranch $PACKAGE" command

-------------------------------------------------------------------
Fri Oct 16 14:41:46 UTC 2009 - adrian@suse.de

- update to version 0.123
  - IMPORTANT: ssl certificate checks are actually performed now to
    prevent man-in-the-middle-attacks. python-m2crypto is needed to
    make this work. Certificate checks can be turned off per server
    via 'sslcertck = 0' in .oscrc.
  - 'osc list' option -D now only limits non-'new' requests. In state 'new' all are shown.
  - suggest 'osc list' --bugowner option. Not implemented.
  - implemented 'osc ls .' to take proj/pack name from current directory.
    * Incompatible change: 'osc ls' now defaults to 'osc ls .',
    * Use 'osc ls /' if you really want to list all projects.
    * This is meant as a proof of concept. I intend to generalize this usage of '.'
      for all osc commands. Feedback welcome.
  - 'osc in' to be done. Its usage just prints a suggested zypper command line.
  - Incompatible change: osc se now prints Project Package, instead of Package Project
    for easier copy&paste.
  - fix checkout of packages, which contain not committed files (but uploaded)
  - add signing key management command (osc signkey)
    * shows public part of project key
    * allows (re)creation of a project key
    * allows deletion of a project key
  - support 100% offline build with "osc build --noinit ...."

-------------------------------------------------------------------
Thu Oct  8 08:47:19 UTC 2009 - adrian@suse.de

- update to 0.123 svn snapshot
  * new dependency to python-m2crypto for SSL certification check

-------------------------------------------------------------------
Thu Sep 17 15:29:30 CEST 2009 - suse-tux@gmx.de

- removed "Recommends: rpm-python" which isn't needed anymore

-------------------------------------------------------------------
Tue Sep  8 13:50:20 UTC 2009 - adrian@suse.de

- update to 0.122
  * added missing code for 'osc sr -l [ID]'
  * allow osc cat with one parameter, if it is a url.
  * make osc getpac really get the package (instead of branch only)!
  * expanded several tabs to spaces.
  * added default project to new getpac and bco subcommand. .oscrc:getpac_default_project = OpenSUSE:Factory
    (not added to branch subcommand, to not interfere with its syntax.)
  * add support for generic python-keyring lib, supports KWallet, Gnome keyring, MacOS and Windows.
  * make buildhist command usable without checked out package
  * rename old "platform/s" names to "repository/ies" (internal cleanup only)
  * fixed osc diff -c N, it failed with int and string concatenation
  * made osc diff and rdiff more similar: added -p, -c to rdiff, removed -u from rdiff.
    made -u default for both, renamed --pretty to --plain as it is the opposite of -u
  #
  # Features which require OBS 1.7
  #
  * option to download server side generated _service:* files on update
  * support for running source services locally. Happens by default on source update
    and build.
  * support modification flages on creation of submit request
    (for auto update or clean up packages or to avoid it, when submit request got accepted)
  * show request ids from package source logs
  * added support to require local packages which don't exist in the obs for a local build. This
    fixes #377021, #481193

-------------------------------------------------------------------
Fri Sep  4 18:51:38 UTC 2009 - adrian@suse.de

- update to version 0.122 pre 1

-------------------------------------------------------------------
Fri Sep  4 13:38:27 UTC 2009 - lv@lekv.de

- Add switch to installation in debian/rules to correctly install on debian-based systems

-------------------------------------------------------------------
Thu Sep  3 12:33:42 UTC 2009 - adrian@suse.de

- switch to noarch package for > 11.1

-------------------------------------------------------------------
Tue Sep  1 12:18:45 UTC 2009 - adrian@suse.de

- update to version 0.121.1
  * fix creation of new .osrc (#535919)
  * fix "osc my request"

-------------------------------------------------------------------
Thu Aug 27 13:09:06 UTC 2009 - adrian@suse.de

- update to r7948 (version 0.121 candidate)

-------------------------------------------------------------------
Wed Aug 19 16:24:03 UTC 2009 - alexandre@exatati.com.br

- Fix on spec file for x64 system bash auto-complete (bnc#528088).

-------------------------------------------------------------------
Thu Jun 18 19:16:22 CEST 2009 - adrian@suse.de

- use completion script from tar ball
- update to r7560 (version 0.120)
  - support "setlinkrev" for whole projects
  - add "setlinkrev --unset" for removing revision references
  - add "osc request list -t <type>" to list only submit, delete or develchange requests
  - add shell completion scripts
  - fix support of listing requests with multiple actions
  - "osc maintainer" is following to the development project / package now
  - "osc maintainer" list maintainer and bugowner roles now

-------------------------------------------------------------------
Thu Jun 18 10:19:09 CEST 2009 - adrian@suse.de

- update to version 0.119.1
  * fixing listing of requests, when a delete request exists

-------------------------------------------------------------------
Wed Jun 10 17:57:29 CEST 2009 - werner@suse.de

- Add completion support for both tcsh and bash

-------------------------------------------------------------------
Wed Jun  3 13:45:52 CEST 2009 - adrian@suse.de

- update to r7528 (version 0.119)
  - Support new request types
    - "submitreq" command has a new syntax (incompatible !)
    - new "deleterequest" command
    - new "changedevelrequest" command
    - new "request" command for showing/modifing requests
    - Multiple actions in one request is not yet supported by osc
    - The new commands require an OBS 1.7 server, submitreq is still working with
      older servers.
  - support of added .changes in commit message template
  - make submit request listing fast by server side filtering
  - allow pulling of conflicting changes via "osc repairlink"
  - delete commands consolidated:
    * deleteprj and deletepac are obsolete.
    * delete and rdelete take over
  - enable package tracking by default
  - bugfix: templates in edit commit message causes an empty commit logs
  - osc submitrequest consumes DESTPRJ [DESTPKG] arguments only
  - osc build now also tested on native arm targets where uname -m reports a string
    like armv{4l,5el,6l,7el,7l}
  - osc rlog now works with srcmd5 also
  - plugins now should be placed in /usr/lib/osc-plugins to match FHS (the /var path
    is still supported though)
  - osc now includes automatically generated man page
  - osc can now store credentials in Gnome keyring if it is available
  - new support for osc linkpac to specify cicount attribute
  - new log/rlog output formats (CSV and XML)
  - new jobhistory/buildhistory/search output format (CSV)
  - new option to fetch buildlogs starting at given offset
  - new option for copypac
    * -r to specify source revision
    * -m to specify a comment (and send default comment if not specified)
  - new option to results(r), and rresults:
    * -r|--repo to specify a repository(repositories)
    * -a|--arch to specify a architexure(s)
    * --xml for xml output (makes results_meta obsolete)
  - request list -M shows open SRs created by the user.
  - Fixed build support for images, only refered packages from buildinfo get used. (#485047)
  - "req" command got renamed to "api" to avoid clash with "request" command
  - osc build has a smarter default platform selection - it checks the
    availibility config value, 'standard' and 'opensuse_Factory' in platforms list and in case
    of fail it uses the last entry from that list
  - new osc linkpac -f to allow to override existing _link files
  - rename "rebuildpac" to "rebuild", but keep "rebuildpac" as alias

-------------------------------------------------------------------
Wed Apr 22 13:19:28 CEST 2009 - adrian@suse.de

- update to r7162 (version 0.117)
  - new repairlink command for repairing a broken source link (requires server version 1.6)
  - new vc command for editing the changes files (requires build.rpm 2009.04.17 or newest)
  - support checkout of single package via "osc co PACKAGE" when local dir is project
  - allow to specify target project and package on osc branch (requires server version 1.6)
  - add option to automatic checkout a branched package
  - support "osc getbinaries" in checkout packages
  - '-b|--brief' option for osc submitreq show subcommand
  - use "latest" commited revision on checkout, not "upload" (#441783)

-------------------------------------------------------------------
Tue Apr 16 17:24:47 CET 2009 - adrian@suse.de

- update to r7093 (version 0.116)
  - support listings of older revisions with "osc ls -R"
  - add --current parameter for linkpac to use current revision of source package fixed.
  - add osc setlinkrev to add or update revision number in links easily
  - fix streaming of binary files via "cat" (#493325)

-------------------------------------------------------------------
Tue Mar 17 17:24:47 CET 2009 - adrian@suse.de

- update to r6820 (version 0.115)
  - optional transfer of devel project during copy_pac and link_pac is fixing
    opertation with remote build service instance
  - "osc ci" fails uploading large files to Provo BuildService
  - fixed support for accessing download repositories (worked only for download.o.o so far)

-------------------------------------------------------------------
Tue Mar  3 12:49:23 CET 2009 - poeml@suse.de

- update to r6667 (version 0.114):
  - the .oscrc config handling has been cleaned up:
     * use "apiurl" for everything now (== <protocol>://<host>)
     * added aliases support for [apiurl] sections in the ~/.oscrc.
       Example:
       [http(s)://foobar]
       ...
       aliases = foo, bar
       => "osc -A foo <cmd>" will do the same as "osc -A http(s)://foobar ls"
     * "scheme" and "apisrv" are deprecated and will produce a warning
     * when writing a new ~/.oscrc, store the apiurl in the conffile (bnc#478054)
     * fixed bug that made osc ask for credentials when -A was used (bnc#478054)
     * fixed crash upon password entry (first startup) (bnc#478052)
  - osc build:
     * make product builds work
     * speed up by using a cookie when fetching the binaries (bnc#477690)
     * support for VM (kvm or xen) builds
     * obsolete the need to configure download server, get it from the build
       service instance instead.
     * be a bit more verbose if the linked package isn't expanded (bnc#470948)
  - osc branch:
     * --develproject option fixed (the API calls it 'ignoredevel' instead of 'nodevelproject')
     * --revision option added
  - osc jobhistory: new command to see build job history of a project or a package
  - osc results/rresults: option -l, --last-build added (show last build results)
  - osc linkpac: fix failure when -A<url> is used (bnc#479156)
  - osc commit: don't scare users if they want to commit a nonexistent file (bnc#469167)
  - osc diff: bugfix to make --pretty option work
  - 11.1 added to the osc project template

-------------------------------------------------------------------
Thu Jan 22 17:35:38 CET 2009 - poeml@suse.de

- update to r6097 (version 0.113):
  - osc diff -rX:Y: the default is to return an unified diff (to get a pretty
    diff use the --pretty option)
  - osc rdiff: the default is to return a pretty diff (to get an unified diff use the --unified option)
  - osc sr show --diff: the default is to return a pretty diff (to get an unified diff use the --unified option)
  - osc getbinaries: optionally also download source rpms
  - osc importsrcpkg: set the url in the package meta (bnc#458083)
  - osc wipebinaries: added --expansion option
  - added support for format strings like "%(project)s" and "%(package)s" which
    can be used in the build-root config option.  For example one could use a new
    chroot for each package.
  - osc updatepacmetafromspec: fix failure if %description is starting with newline (bnc#462869)
  - catch OSError exceptions which might be raised by the subprocess module
  - don't use a hardcoded path for the rpm binary otherwise it fails on
    distributions like debian
  - osc meta: be more verbose in case of failure (bnc#459292)
  - osc mkpac: add info how to enable the package tracking feature (bnc#459288)

-------------------------------------------------------------------
Fri Dec 12 11:26:56 CET 2008 - poeml@suse.de

- update to r5880 (version 0.112):
  important bugfix:
  - osc deletepac: prevent recursive deletion of a whole project [bnc#458535]
  - osc build: support more options: --icecream, --ccache, --with, --without
  - osc build: --keep-pkgs also saves the src.rpm now
  - osc build: small fix in debuginfo handling
  - osc build: new armv7el arch for all binaries for up to ARMv7 EABI with VFP

-------------------------------------------------------------------
Fri Nov 28 20:29:58 CET 2008 - poeml@suse.de

- update to r5751 (version 0.111):
  - fix accidental truncation of .oscrc to 0 bytes
  - fix osc's ignorance of the revision option (-r) for expanded links
  - osc build: handle kiwi builds (local image build)
  - osc build: cross build support
  - osc build: support for ARMv5 EABI little endian arch added
  - osc build: fixed detection of the build type (rpm or deb),
    after change in the buildinfo
  - osc build: build debuginfo packages if enabled in the
    project/package meta (this partly fixes [bnc#421390])

-------------------------------------------------------------------
Fri Oct 24 17:28:27 CEST 2008 - poeml@suse.de

- update to r5425 (version 0.110):
  - osc build: no working copy needed anymore when building a local
    package [bnc#431434]
  - osc checkout: when checking out a project, and a linkerror
    occurs for one of the packages, do a checkout in unexpanded
    form and continue checking out the rest of the project
    [bnc#428303]
  - osc deletepac, osc branch: allow slash notation for the
    project/package arguments
  - fix deprecation warnings on Factory (which uses Python 2.6)
  - fix to avoid (internal) stale Package objects [bnc#436932]

-------------------------------------------------------------------
Tue Sep 30 17:19:23 CEST 2008 - poeml@suse.de

- update to r5219 (version 0.109):
  With changes from Marcus_H, myself, dmueller, tpatzig:
  - osc getbinaries: new command to download binaries directly from
    the api server
  - pass the --debug option to the build script which will take
    care of creating debuginfo packages
  - add link to plugin API to osc help output
  - Don't try to catch rpm-python errors if rpm-python isn't installed.
    Thus we can avoid a hard dependency on having rpm-python.
  - added command 'rlog', to show commit logs of remote packages
  - fixed depracation warnings with Python 2.6 [bnc#426612]
  - fix streaming of unfinished logfiles again
  - fixed regression of .oscrc template [bnc#427118]

-------------------------------------------------------------------
Tue Sep 16 14:17:26 CEST 2008 - poeml@suse.de

- update to r5032 (version 0.108):
  - osc submitreq: has two aliases now: "osc sr" and "osc submitrequest"
  - osc sr create: prompt to revoke existing requests
  - osc sr revoke: new command for to get rid of requests to projects one can't write to
  - osc sr list: allow showing requests in a state other than "new"
  - osc sr show: show the current state's comment
  - osc sr log: new command to show the history of a given id
  - osc sr: enable requests for submitting new packages
  - osc build: implement --no-checks
  - osc build: be less strict on the arguments, and guess what's needed. For instance:
    * osc build PLATFORM ARCH BUILD_DESCR
    * osc build PLATFORM (ARCH = hostarch, BUILD_DESCR guessed)
    * osc build ARCH (PLATFORM = build_platform (config option), BUILD_DESCR guessed)
    * osc build BUILD_DESCR (PLATFORM = build_platform (config option), ARCH = hostarch)
    * osc build (PLATFORM = build_platform (config option), ARCH = hostarch, BUILD_DESCR guessed)
  - osc build: download after the target architecture check
  - osc addremove: bugfixes, --recursive option
  - osc init: added support to initialize a project dir
  - osc metafromspec: new alias for 'updatepacmetafromspec' which is hard to remember
  - osc updatepacmetafromspec: also update URL
  - osc buildlog: do not download entire log to memory
  - new http_headers option to add arbitrary headers to HTTP requests
  - bugfix to make osc work on Gentoo
  - enhance/update the package and project template
  - .netrc heritage from previous commandline client has been removed
  - osc asks for password now, when used with -A

-------------------------------------------------------------------
Wed Jul 16 17:16:27 CEST 2008 - poeml@suse.de

- update to r4461 (version 0.107):
  - osc update / checkout: *important bugfix* don't check out a
    working copy, or update an existing one, when a source link
    cannot be applied [bnc#409373]
  - osc build: the --extra-pkgs option is now a configurable
    setting in .oscrc.  Default is "extra-pkgs = vim gdb strace"

-------------------------------------------------------------------
Fri Jul 11 12:43:00 CEST 2008 - poeml@suse.de

- update to r4428 (version 0.106):
  - osc rdiff / osc submitreq show: diff the _expanded_ sources [bnc#408267]
  - osc submitreq list: show author's name
  - osc submitreq: shortcut alias 'sr' added

-------------------------------------------------------------------
Wed Jul  9 17:25:25 CEST 2008 - poeml@suse.de

- update to r4401: (version 0.105):
  - osc submitreq list:
     - can now be called without parameters, applying to the working copy then.
     - calling it in a project directory is also possible now.
     - output was improved. Newest requests are listed first.
  - osc submitreq delete: a new action which has been added
  - osc submitreq list/create: use api URL from the working copy
  - osc meta: editing returns the API error description instead of a plain HTTP
    error if available
  - osc copypac: use the correct userid when copying to another api host
  - osc importsrcpkg: disable signature check when getting data from a rpm file
  - osc linkpac: --revision option added.
  - osc search: added option -i|--involved, to show in which projects/packages
    a developer is involved
  - osc build: double check the buildinfo for local builds. Refuse to build for
    architectures that are not supported by the host
  - osc buildhist: change the output into a format which better matches actual
    RPM filenames.
  - osc commit: give commit message tempfiles a ".diff" suffix, so syntax
    highlighting automatically works in capable editors
  - other bug fixes:
    - don't expand/unexpand if the working copy has local modifications - this is
      an ugly workaround for bnc#399247 but this way the working copy isn't screwed up
    - work around a bug which causes packages to be cached locally under the
      "None" architecture (and therefore causing issues when building for more
      than one architecture via osc build).
    - don't create _linkerror files in working copies
    - better error handling (mostly printing more details) in a number of cases
    - show error messages from the API also for type 500 errors

-------------------------------------------------------------------
Wed Jun 11 10:34:53 CEST 2008 - poeml@suse.de

- update to r4164 (version 0.104):
  - osc update: after update, reset the revision when updating
    multiple package. Fixes "404: Not Found" type errors when
    updating an entire project. [bnc#399177]
  - more/better error messages in some error scenarios
  - osc wipebinaries: add missing check for commandline arguments,
    which could cause a PACKAGE argument to be ignored
  - fixed make_diff in order to avoid errors when committing a new
    package (created with mkpac)

-------------------------------------------------------------------
Fri Jun  6 14:05:21 CEST 2008 - poeml@suse.de

- update to r4120 (version 0.103):
  - osc submitreq create: simplify by make osc guess needed
    parameters, if there is a working copy and it is a source link.
  - osc submitreq create: don't stop on packages that have a devel
    project defined, if the submit actually comes from that
    project.
  - osc checkout: checkout of source links is now done in expanded
    form per default. The new option --unexpand-link can be used to
    get the raw link file.
  - show the API's error message for HTTP 403 (Forbidden) replies.

-------------------------------------------------------------------
Tue Jun  3 17:15:26 CEST 2008 - poeml@suse.de

- update to r4089 (version 0.102)
  - osc branch: Show the actually created branch project name, not
    a guessed one.  Add --nodevelproject.
  - osc submitreq: look up the develproject of the target, and if
    there is one, don't create the request, unless forced with
    --nodevelproject.
  - when -d (global, for debug) was used, save the body because it can't be read twice

-------------------------------------------------------------------
Tue May 27 12:54:26 CEST 2008 - poeml@suse.de

- update to r4030:
  - version 0.101
  - add osc branch command, using the branch API call to branch a package to
    home:poeml:branches:PRJ/PKG
  - osc commit now opens $EDITOR for commit message
  - improved error handling, when API returns HTTP status code 400 (bad request)
  - osc status: implement -q/--quiet switch
  - osc info: slightly more verbose
  - osc deletepac: allow deletion of multiple packages at once
  - make "osc meta prjconf <project> -e" work again (probably caused by r3702)

-------------------------------------------------------------------
Tue May 20 14:33:52 CEST 2008 - poeml@suse.de

- update to r4002:
  - osc maintainer: new -D/--devel-project switch
  - osc rprjresults/rresults: small fixes
  - facilitate correct syntax highlighting when editing metadata

-------------------------------------------------------------------
Mon May 19 17:14:45 CEST 2008 - poeml@suse.de

- update to r3995:
  - version 0.100
  - improved error handling (babysitter.py wrapper, oscerr.py exception classes)
    Tracebacks are mostly suppressed now. To enable them, use
    |    -t, --traceback    print call trace in case of errors
    or set traceback=1 in .oscrc.
  - other new global options for debugging:
    |    --debugger         jump into the debugger before executing anything
    |    --post-mortem      jump into the debugger in case of errors
    |    -d, --debug        print info useful for debugging
  - make way for more seamless osc version updates (the .osc directory in working copies
    will have its own versioning in the future)
  - osc rprjresults and osc rresults: new commands to show remote build results
  - osc build: added --baselibs and --jobs options
  - osc copypac: added --keep-maintainers switch
  - BUILD_DIST environment variable will be ignored (bnc#359846)
    The following environment variables can still be used:
    * OSC_SU_WRAPPER overrides the setting of su-wrapper.
    * OSC_BUILD_ROOT overrides the setting of build-root.
    * OSC_PACKAGECACHEDIR overrides the setting of packagecachedir.
  - a few bug fixes.

-------------------------------------------------------------------
Mon Apr 21 18:45:29 CEST 2008 - poeml@suse.de

- remove the patch added by Adrian (bnc#378421)

-------------------------------------------------------------------
Sat Apr 12 07:36:40 CEST 2008 - adrian@suse.de

- add patch from abauer to fix cookie handling (bnc#378421)

-------------------------------------------------------------------
Wed Apr  2 16:36:40 CEST 2008 - poeml@suse.de

- update to r3614:
  - osc commit: implement committing with keeping links (to commit
    changes to expanded links)
  - osc copypac: make the server-side copy the default. But do a
    client-side copy if source and target are not on the same
    buildservice instance

-------------------------------------------------------------------
Tue Apr  1 09:43:12 CEST 2008 - poeml@suse.de

- update to r3598:
  New features:
  - new link handling:
    add support for handling linked packages in expanded form. They
    can be checked out, updated (expanding or unexpanding them),
    and built locally.
    Missing: commit support.
    Newly introduced options are:
    * osc checkout: --expand-link
    * osc update: --expand-link and --unexpand-link
  - osc build: add --debuginfo switch (Thanks, Juergen!) [bnc#368524]
  - osc req: add option -a / --add-header to inject arbitrary
    request headers
  - osc addremove (and others): ignore _all_ dot files (the
    buildservice doesn't handle them) [bnc#370476]
  - copypac: do a server-side copy (via a single api call) when
    used with -s / --server-side.
  - prjresults: csv export uses ';' as default (Pavol)
  - osc update/checkout: enable to use md5sum as revision id
  - osc info: make it show info about expanded and non-expanded links
  - osc submitreq:
    - implement an 'accept' action, resulting in the respective
      state change
    - when requesting a submit, save the source package's revision
      id (looking up what it currently is)
    - give the user a way to override it, to submit an older
      revision
    - when using show --diff, take the actual old revision into
      account. Thus, the diff is against the source revision of the
      time of request creation.
  Bug fixes:
  - osc mkpac only works when 'do_package_tracking' is enabled
  - do_repos() should work in a project dir too
  - handle mmap failure on filesystems like NTFS, which may not
    support memory mapping when mounted under Linux
  - submitreq show: if the target package doesn't exist, a diff
    cannot be produced.
  - fixed username issues when creating a new package (the problem was
    that the username for the default host was used and not the one for
    that specific apiurl)
  Internal changes:
  - enhance osc.core.makeurl(). This function accepts a query
    parameter in form of a list. The query can now also be given as a
    dictionary, and in that case it will be automatically urlencoded.
    The behaviour for a list is unchanged for the reason of backward
    compatibility.
  - add Linkinfo class to osc.core
  - Package class:
    - add linkinfo when reading in package data via update_datastructs()
    - add islink() and isexpanded() methods
  - added 3 new methods:
    * createPackageDir(): creates and initializes a new package dir in
      the given project.
    * get_apiurl_usr(): returns the username for a certain apiurl
    * get_configParser(): returns an ConfigParser() object which can be
      used for parsing the ~/.oscrc file
  - new show_upstream_xsrcmd5() method which returns the xsrcmd5 (if a
    linkinfo element exists)
  - all necessary auth-information are available in the 'auth_dict'
    (so there's no need to fool around with the ConfigParser...)
  - if there are no credentials for the apisrv in use (which may be
    specified with -A on the commandline), don't try to set up
    config['user'] with credentials.

-------------------------------------------------------------------
Mon Mar 10 19:15:11 CET 2008 - poeml@suse.de

- update to r3492:
 - new feature: package tracking. It's not enabled by default and
   needs to be switched on with do_package_tracking=1 in .oscrc.
   before using. See
   http://lists.opensuse.org/opensuse-buildservice/2008-03/msg00114.html
   for more info.
 - new command submitreq, to handle "submit requests" (next
   generation build service feature). Its functionality isn't
   complete yet. So far it can create, list and show requests.
 - define bugowner when creating new projects or packages

-------------------------------------------------------------------
Tue Mar  4 09:47:51 CET 2008 - poeml@suse.de

- update to r3403:
  - fixes from Marcus and Michal Marek:
  - fix importsrcpkg when $projectdir/.osc/_apiurl is an
    alternative apiurl
  - added optional apiurl parameter to the following methods:
    meta_exists, make_meta_url, checkRevision if no apiurl
    parameter is specified the global value (conf.config['apiurl'])
    will be used. This should fix bug #361764
  - some small apiurl fixes in the make_diff method (the
    package_tracking branch already has this fix)
  - added option --csv to 'osc prjresults' to output a CSV table
  - small fixes testsuite for the testsuite

-------------------------------------------------------------------
Thu Jan 24 19:36:59 CET 2008 - poeml@suse.de

- update to r3046:
  - build:
    - add --no-verify
    - add --local-package to build a package which doesn't exist on the server
    - add --alternative-project to specify a project, if the current one doesn't
      exist on the server
    - use api url from .osc/_apiurl [#355144]
  - new command remotebuildlog
  - diff: fix #347377 (diffing too many files)
  - checkout: check for project existance beforehand

-------------------------------------------------------------------
Fri Jan 11 09:33:50 CET 2008 - adrian@suse.de

- add Recommends: build > 2007.09.14

-------------------------------------------------------------------
Mon Dec 10 16:08:23 CET 2007 - poeml@suse.de

- update to r2778:
  - bugfix in build: in order to verify package signatures, run the
    external rpm command with en_EN locale, because the output is
    being parsed
  - cat: simplify the code a bit; don't print header and footer lines

-------------------------------------------------------------------
Fri Nov 30 13:04:26 CET 2007 - poeml@suse.de

- update to r2688:
  - fixed bug in osc cat

-------------------------------------------------------------------
Fri Nov 30 01:50:24 CET 2007 - poeml@suse.de

- update to r2685:
  - rdiff: new command for server-side diffs between arbitrary
    packages
  - cat: new command to print a file on the standard output
  - diff: reworked functionality to show newly added files, and
    behaving more like svn when doing diff against a certain
    revision
  - bugfix in {link,aggregate,copy}_pac (<person> elements). Patch
    from Michal Marek.
  - checkout an empty project instead of doing nothing
  - fix prjresults for newly added packages, where build status is
    missing
  - internal changes:
    - copied init_project_dir() method from the
      osc-package-tracking branch (just removed the
      do_package_tracking stuff)
    - changed the storedir attribut of the Package() class to an
      absolute filename - normally this shouldn't have any impact
      on existing methods, functionality etc.

-------------------------------------------------------------------
Tue Oct 30 12:47:13 CET 2007 - poeml@suse.de

- update to r2467. Most work done by Marcus Huewe.
  - version 0.99
  - aggregatepac: new command, similar to linkpac. Patch from Pavol
    Rusnak.
  - wipebinaries: added --build-failed and --broken [#335498]
  - deleteprj: enabled this command, as the backend now supports it
  - maintainer:
    - added --verbose option
    - added functionality to add/remove users from a project/package
  - print the list of URL to try, when in HTTP debug mode
  - build: allow to use lbuild, a compatible replacement for build
  - do not create dirs for non-existing packages during checkout
    [#259711]

-------------------------------------------------------------------
Mon Sep  3 12:47:31 CEST 2007 - poeml@suse.de

- update to r2075:
  - new 'maintainer' command, to list the maintainers of a project
    or package
  - make osc call build with --changelog option, by default [#298436]
  - make osc library simpler to use from external scripts, by
    simply calling conf.get_config(), with possibility to override
    conf file, http debugging, api server). It is no longer
    required to set up the api url in the config dict, and call
    conf.init_basicauth().
  - allow to specify a different config file via the environmental
    variable OSC_CONFIG, or via -c|--config on the commandline

-------------------------------------------------------------------
Fri Aug 17 08:18:34 CEST 2007 - poeml@suse.de

- update to r2001:
  - contributions from James Oakley and Marcus Huewe
  - ls: add -b option to list binaries
  - req: show error response for 404 responses
  - core: add get_binarylist(); works per project and per package
  - core: add get_binarylist_published(); works per project
  - core: add get_binary_file()
  - build: "osc build" if $BUILD_DIST is set

-------------------------------------------------------------------
Tue Aug 14 13:55:00 CEST 2007 - poeml@suse.de

- update to r1974:
  - version 0.98
  - commit: use the documented commit method by default now
  - build: add --changelog option to force update of the package
    changelog from a changes file

-------------------------------------------------------------------
Thu Aug  9 18:15:53 CEST 2007 - poeml@suse.de

- update to r1961:
  - meta: remove notion of non-implemented --create switch. give
    example for meta pkg usage
  - search: add --repos-baseurl option

-------------------------------------------------------------------
Thu Aug  9 00:54:21 CEST 2007 - poeml@suse.de

- update to r1947:
  - commit: fixed possible "UnboundLocalError" with -m. Thanks to
    judas_iscariote for spotting this issue, and Marcus for fixing
    it.

-------------------------------------------------------------------
Wed Aug  8 20:49:24 CEST 2007 - poeml@suse.de

- update to r1946:
  - avoid warning/error with unsupported HTTPS_PROXY [#214983][#298378]
  - importsrcpkg:
    * changed default behaviour - the files will not be committed by
      default. To commit them use the --commit switch.
    * added --delete-old-files option switch to delete old files from
      the server.
    * allow to import source rpms by specifying an URL
    * use rpm-python
  - fix for "osc prjconf <project> -e".
  - add Recommends: rpm-python

-------------------------------------------------------------------
Wed Jul 25 13:04:37 CEST 2007 - poeml@suse.de

- update to r1884:
  - added new importfromsrcpkg command, to import a package src.rpm
    (we owe this to Marcus)
  - added new req command, to issue arbitrary requests to the API
  - append missing newline if do_commits=False [#293672]
  - make delete_package() and delete_project() more userfriendly
    (added trivial exception handling..)
  - expand ~ to users home for packagecachedir in .oscrc [#293675]

-------------------------------------------------------------------
Thu Jul 19 14:28:51 CEST 2007 - poeml@suse.de

- update to r1871:
  - meta: allow for editing patterns
  - small fixes:
    - fix error message which osc issues if build package is too old
    - results: result code can be empty when package has just been created
    - fix name of 10.2 product in the template for new projects

-------------------------------------------------------------------
Wed Jul 18 15:21:48 CEST 2007 - poeml@suse.de

- update to r1861:
  - commit (using the currently documented way):
    - do DELETEs _before_ generating an "upload" revision with
      PUTs. The DELETEs would be invalidated by the commit.
    - switch to new commit mode also if the -F switch is used
    - flush stdout, so that the progress dots are seen directly
      when being written

-------------------------------------------------------------------
Mon Jul 16 18:30:18 CEST 2007 - poeml@suse.de

- update to r1846:
  - added initial search support (some ideas are taken from the webclient):
     * when searching a package/project it
       is also possible to search for the search term
       in the <title /> and <description /> elements of
       a package/project.
     * show only exact matches
  - new meta command, replacing editmeta, editprj, createprj,
    editpac, createpac, edituser. Can either show existing meta, or
    edit it (--edit), or upload content (--file). Fix metadata
    change detection, which no longer relies on the timestamp of
    the temporary file.
  - log:
    - renamed previous "log" command to "buildlog" (short: bl)
    - implementing a log command to review the commit log
  - commit:
    - commit: implemented -m and -F option for the commit message.
      NOTE: if -m is used, osc uses a different mode of uploading
      files and commit them, namely the way which is currently
      documented in the api. So far, osc was uploading each file
      separately through the old backward compatible way. This way
      of committing can also be forced with do_commits = 1 in
      .oscrc.
  - other changes:
    - api now sends HTTP/1.1 400 Bad Request for invalid xml. Thus,
      show the reply body because it contains helpful info.
    - if PUT on metadata fails with a 500, and http_debug is True,
      print out the body of the server reply
    - improved exception handling in some places
    - updatepacmetafromspec: read spec files in utf-8, or whatever
      the preferred encoding is in the locale

-------------------------------------------------------------------
Wed Jul 11 11:20:24 CEST 2007 - poeml@suse.de

- update to r1825:
  - version 0.97
  - added initial revision handling:
    - extended "osc co prj pac" to checkout a specific revision of pac
    - extended "osc up" to update to a specific revision
    - extended "osc diff" to diff the working copy against a
      specific revision on the server. NOTE: comparing two
      server-side revisions (osc diff -r 11:12) is currently
      not supported!
  - addremove: ignore foo.rXX, foo.mine for files which are in 'C' state
  - wipebinaries: allow to wipe all binaries of packages for which
    the build is disabled
  - updatepacmetafromspec scans for spec files automatically; also,
    added a --specfile option.
  - load subcommands from /var/lib/osc-plugins/ or ~/.osc-plugins/

-------------------------------------------------------------------
Fri Jun 29 16:05:45 CEST 2007 - poeml@suse.de

- add /var/lib/osc-plugins to the filelist

-------------------------------------------------------------------
Fri Jun 29 14:05:00 CEST 2007 - poeml@suse.de

- update to r1794:
  - rm: don't allow to mark files as deleted which are not under
    version control

-------------------------------------------------------------------
Thu Jun 28 16:19:07 CEST 2007 - poeml@suse.de

- update to r1792:
  - linkpac: make this osc subcommand work again: sync metadata if
    edit_meta() is called with change_is_required=False.
  - log: fail gracefully if logfile can't be found
  - handle empty prjresults (e.g. when no repositories are defined)

-------------------------------------------------------------------
Tue Jun 26 15:22:08 CEST 2007 - poeml@suse.de

- update to r1783:
  - build: don't stumble over an empty list of packages when trying to verify packages
  - ls: add verbose option to print extra information for packages
  - for ls, co, meta, editmeta, linkpac, copypac, rebuildpac, and wipebinaries
    (basically all the server-side commands), allow arguments "foo/bar" instead
    of "foo bar"

-------------------------------------------------------------------
Fri Jun 22 15:23:24 CEST 2007 - poeml@suse.de

- update to r1769:
  fix return values in metafile.sync() which I broke whey I applied
  Marcus Huewe's patch...

-------------------------------------------------------------------
Thu Jun 21 17:15:54 CEST 2007 - poeml@suse.de

- update to r1763:
  - set correct Content-Type header on PUT requests
    (application/octet-stream). Rails 1.2 seems to be more strict
    in this regard. Patch from Marcus Rueckert.
  - init: make usage (and usage info) info more precise

-------------------------------------------------------------------
Thu Jun 14 16:31:30 CEST 2007 - poeml@suse.de

- update to r1733:
  New features kindly implemented by Marcus Huewe:
  - added wipebinaries command
  - added abortbuild command
  - improved handling of metadata editing if the server doesn't accept it

-------------------------------------------------------------------
Thu Jun 14 10:36:07 CEST 2007 - poeml@suse.de

- update to r1731:
  - adjust for change in build.rpm, where /usr/lib/build/debsort
    was removed.  Look for debtransform program instead in order to
    determine if build.rpm is new enough.
  - update cmdln.py to planned 1.0 version. The main changes are
    related to points that were raised during employment in osc:
      # v0.8.3
      - Fix a bug where errors with passing an incorrect number of args to
        functions in do_foo() implementations would be masked.
      # v1.0.0
      - [backward incompat] `Cmdln.main()` no longer takes an `optparser`
        argument. Top-level option parsing has been changed so that top-level
        options for a `Cmdln` subclass can more naturally be defined and
        handled on the class definition. Changes:
        - `Cmdln.main()` calls `self.get_optparser` to get an option handler.
          Subclasses should overload this method for custom top-level options.
        - After option parsing, but before sub-command handling, the
          `self.postoptparse()` hook is called.
      - Add a `version` attribute on `Cmdln` subclasses. If set, the default
        top-level option parser will have a `--version` attribute.
      - [backward incompat] Simplify the StopProcessing/opts.stop handling for
        option handling in subcommands. The "opts" argument to "do_*"
        sub-command functions will no longer have a "stop" value.
        StopProcessing is now called StopOptionProcessing. This shouldn't
        affect simple usage of cmdln.py.
    - adjust osc.commandline for these changes.
  - make startdir a module global
  - add info about usage with the 'nosetests' test discovery tool
  - add tests for commandline options
  - results: remove obsolete code handling commandline arguments

-------------------------------------------------------------------
Mon May 14 12:13:00 CEST 2007 - poeml@suse.de

- update to r1657:
  - rebuildpac: fix mistyped repository parameter
  - build: add --userootforbuild option

-------------------------------------------------------------------
Sat May 12 23:25:15 CEST 2007 - poeml@suse.de

- update to r1655:
  - build: fix bug introduced with r1652: for the buildinfo, POST
    the specfile's content, not its name...

-------------------------------------------------------------------
Thu May 10 16:33:57 CEST 2007 - poeml@suse.de

- update to r1652:
- build: implement -x/--extra-pkgs option (passed to backend and
  included in buildinfo result)
- make filling out of username in templates work again

-------------------------------------------------------------------
Tue May  8 12:22:47 CEST 2007 - poeml@suse.de

- update to r1644:
  - don't allow to delete projects, as long it is not implemented in
    the backend
  - use new API route for downloading binaries also in configured URLs
  - make deletepac work again

-------------------------------------------------------------------
Sat May  5 00:02:55 CEST 2007 - poeml@suse.de

- update to r1635:
  - version 0.96
  - following suggestions by Christian Boltz and Michal Marek, osc
    now memorizes where a working copy was checked out from, saving
    the api server url to .osc/_apiurl.
  - implement 'info' subcommand
  - buildhistory works again
  - copypac: implement package copy from one buildservice instance to another
    (--to-apiurl option)
  - build:
    - rename --prefer-pacs option to --prefer-pkgs
    - implement --keep-pkgs option
    - call rpm command for preferred rpms with --nosignature --nodigest
    - improve key import instructions after suggestion by Michael Wolf
  - the results subcommand now handles multiple <working copy> arguments
  - use the new api routes in all places

-------------------------------------------------------------------
Wed May  2 20:20:12 CEST 2007 - poeml@suse.de

- update to r1626:
  - build: implement --prefer-pacs option
  - apply patch from Michael Marek, fixing all places where error
    messages were printed to stdout instead of stderr. [#239404]

-------------------------------------------------------------------
Wed Apr 25 19:32:18 CEST 2007 - poeml@suse.de

- update to r1608:
  - version 0.95
  - osc is now easier to work with when using alternative API servers. The
    configured server can be overriden with -A <url> on the commandline.
    "apisrv" in the config takes a URL now, so the variable "scheme" which was
    needed in addition before becomes obsolete. For backward compatibility, a
    hostname (and scheme variable) are accepted like before. Likewise, the auth
    sections in the config take a URL now, or a hostname:port to keep old config
    working. HTTP or HTTPS scheme is determined from the URL. Credentials must be
    configured in .oscrc.
  - build: use actual api server in urllist for downloading, instead of hardcoded
    api.opensuse.org [#265211].
  - finally, global option -H enables HTTP traffic debugging
  - implement "rebuild all failed packages", via --failed option in rebuildpac
    subcommand
  - status -v shows all files, including unmodified ones
  - suppress the legend in prjresults by default (show with -l)
  - --version shows the program version number
  - fix the commit subcommand's argument handling. The following works correctly
    now: osc ci ../test/onlyinwc `pwd` fstab ../test/f2
  - fix the download progress meter to work with small terminals [#266989]

-------------------------------------------------------------------
Fri Apr 20 02:09:11 CEST 2007 - poeml@suse.de

- update to r1594:
  - save and reuse HTTP server cookies, speeding HTTP requests up
    about 5 times (in our iChain setup anyway...)
  - rewrite the HTTP handling
    - adding http_GET/POST/PUT/DELETE() functions, which dispatch to
      http_request(), and use them everywhere
    - removing othermethods.py
    - keeping urlopen(), in case it is used from externally, but have it print out
      a "depracated" message
    - finally, implementing a global HTTP debug mode
    - if data to be sent is large, mmap it instead of reading at once
  - build: remove debug print of tempfile name
  - README: add info about dependencies of osc python module
  - further the osc buildroot configuration example

-------------------------------------------------------------------
Fri Mar 30 00:25:24 CEST 2007 - poeml@suse.de

- update to r1551:
- update: when updating multiple packages, print each package name
- build:
  - use <bdep> preinstall attribute instead of obsolete <pdep> element
  - use <bdep> runscripts attribute and hand it over to build in the buildinfo
- results: quote parameter in the new URL
- prjresults: sort package names
- run build with --norootforbuild, thereby defaulting to build as
  abuild user
- when updating, don't delete files with local modifications
- add testcase
- update osc tests for small api changes
- use new api ['build', prj, '_result'] for prjresults subcommand

-------------------------------------------------------------------
Tue Mar 13 00:31:14 CET 2007 - poeml@suse.de

- update to r1427:
- apply fix from Christoph Thiel to use cElementTree from Python 2.5
- let the diff subcommand return 1 if differences were found
- make 'results' subcommand many times faster, by making only a
  single request on _result?view=status&package=%s (new api)

-------------------------------------------------------------------
Fri Mar  9 09:32:59 CET 2007 - poeml@suse.de

- build the debian package in the new way

-------------------------------------------------------------------
Tue Jan 23 19:55:01 CET 2007 - poeml@suse.de

- update to r1093:
- fix important bug, which could lead to overwriting local
  modifications when upstream changes are merged in
- if a merge fails, the store copy must be updated neverthelesss
- sort output of 'status' (unknown files first, filenames
  alphabetically)

-------------------------------------------------------------------
Tue Jan 23 18:46:17 CET 2007 - poeml@suse.de

- remove unused (and possibly disturbing, because unfunctional) rpm
  define of py_sitedir

-------------------------------------------------------------------
Fri Jan 12 17:13:00 CET 2007 - poeml@suse.de

- update to r1047:
- core: added class "metadata" (merge from Susannes
  /branches/froh/reponator/)
  - added command alias 'stat' for 'status', like in svn
  - improved documentation/examples (Lars + Susanne)
  - print usage info if 'co' is called without arguments

-------------------------------------------------------------------
Fri Oct 13 08:37:38 CEST 2006 - poeml@suse.de

- set scheme=https in the default configuration, to work around
  issue with new server

-------------------------------------------------------------------
Thu Oct 12 15:35:53 CEST 2006 - poeml@suse.de

- update to 0.9 (r761):
- "iChain-ready" (works with API server now using iChain
  authentication)
- add runtime check for build.rpm version, so the rpm package
  dependency is no longer required
- add 'edituser' command for editing the metadata of a user
  account. It tries to create a user if it doesn't exist yet. A new
  command 'usermeta' replaces 'id' respectively 'userid'.
- rewrite configuration handling. Now the API server can be set in
  .oscrc
- ignore '.gitignore', '.pc', '*~' (now using filename matching
  [#208969]
- fix 'status' to work with project directories as arguments
- fix 'status <filename>'

-------------------------------------------------------------------
Fri Sep 29 12:05:59 CEST 2006 - poeml@suse.de

- update to r753:
- 'rebuildpac' now accepts additional repo and arch argument. Note:
  the syntax has changed.
- add 'prjresults' command to display aggregated build status over
  an entire project
- add 'deleteprj' command (the API server doesn't seem to support
  it yet, though)
- change 'buildhistory' to display human-readable text
- 'log': print usage info if called with missing arguments
- 'ci': handle upload errors
- fix filelist for python >= 2.5

-------------------------------------------------------------------
Thu Sep 21 16:46:04 CEST 2006 - poeml@suse.de

- update to r744:
- add 'copypac' subcommand, to copy a complete package to a new package,
  possibly cross-project
- don't die if user tries to 'add' a file which is already versioned
- don't die if 'addremove' encounters directories
- urlopen(): for server return code 500, print out the reply body
- be fair, and also mention dsc files in some help texts

-------------------------------------------------------------------
Fri Sep 15 18:54:56 CEST 2006 - poeml@suse.de

- update to r735:
- build: use configuration from *local* specfile (e.g. BuildRequires)
- build: let envvars OSC_SU_WRAPPER and OSC_BUILD_ROOT override config
- build: allow 'dynamical' build-root setting by using %(repo)s and %(arch)s
- add 'createpac/editpac' and 'createprj/editprj' subcommands which
  are similar to 'editmeta' but should be more logical to find
- added 'deletepac' subcommand
- added 'buildhistory' subcommand (formerly 'history'). This only
  gives out raw xml at this time
- added ".git" to the excluded files

-------------------------------------------------------------------
Mon Aug  7 12:49:30 CEST 2006 - poeml@suse.de

- update to svn r635:
- added 'linkpac' subcommand
- adapt to API changes

-------------------------------------------------------------------
Thu Jul 20 16:24:19 CEST 2006 - poeml@suse.de

- fixed issue with uploading files when an intercepting web proxy
  was in between osc and the api server
- fixed creation of new packages/projects

-------------------------------------------------------------------
Mon Jul 17 15:55:57 CEST 2006 - poeml@suse.de

- update to 0.7 (r599)
- initial support for local builds (subcommand 'build')
- new subcommands buildconfig, buildinfo, repos
- better error handling

-------------------------------------------------------------------
Mon Jun 26 00:00:00 CEST 2006 - poeml@suse.de

- update to svn r534
- fix 'rebuildpac' command to not show raw xml
- editmeta:
  - add examples for <disable> tags to the package template
  - add examples for build targets to the project template
- fix updatepacmetafromspec to cope with subpackages during parsing
- code cleanup
- remove requirement on pyxml package

-------------------------------------------------------------------
Thu Jun 22 00:00:00 CEST 2006 - poeml@suse.de

- update to svn r528:
- add support for streaming build log (thanks to Christoph Thiel)
- don't try to merge binary files
- set mtime on files that have been fetched during merge

-------------------------------------------------------------------
Thu Jun 08 00:00:00 CEST 2006 - poeml@suse.de

- update to svn r481:
- fix handling of filenames with '+' signs [#153725, #181593]
- before committing, make sure that the working copy is up to date
- don't diff binary files
- add 'rebuildpac' command, which triggers a rebuild for all
  repositories/architectures of the package
- fix merge on 'update', if osc is called from another directory
- don't fail on 'resolve' when the working copy is in a newer rev already
- add 'commit' as command alias for 'ci/checkin'

-------------------------------------------------------------------
Tue Jun 06 00:00:00 CEST 2006 - poeml@suse.de

- update to svn r469:
- work around ruby on rails issue, which swallows '+' signs in filenames in PUT
  requests [#153725, 181593]
- before committing, make sure that the working copy is up to date (added
  show_rev() function)
- add 'commit' as subcommand alias for 'ci/checkin'

-------------------------------------------------------------------
Sat Jun 03 00:00:00 CEST 2006 - poeml@suse.de

- update to svn r466:
- add 'repourls' subcommand
- display reason for new build status is 'broken'
- add a tentative 'updatepacmetafromspec' subcommand, which takes package
  metadata from a specfile
- handle some error conditions
- fix the profiling wrapper script
- make 'resolved' more robust
- set a User-agent

-------------------------------------------------------------------
Tue May 30 00:00:00 CEST 2006 - poeml@suse.de

- update to 0.6:
- diff bugfix: sometimes displayed diff against obsolete files
- update bugfixes: fix update of working copy when adding a file from upstream
  which is missing locally; fix update in directory with unmodified files:
  don't try to merge if upstream file wasn't changed at all
- add: make it faster

-------------------------------------------------------------------
Tue May 23 00:00:00 CEST 2006 - poeml@suse.de

- update to 0.5:
- help :-)
- fix status letter for files merged on update (in analogy to svn , it is
  either G or U)
- if an old _files listing without any metadata is found, don't bother the user
  with it
- make all subcommands properly importable functions
- bug in 'resolved' command fixed, which wouldn't clear the conflict state of a file
- fix update in directory with unmodified files: don't try to merge if upstream
  file wasn't changed at all

-------------------------------------------------------------------
Mon May 22 00:00:00 CEST 2006 - poeml@suse.de

- don't fail on undeleting non-existing _to_be_deleted file

-------------------------------------------------------------------
Mon May 22 00:00:00 CEST 2006 - poeml@suse.de

- update to 0.4:
- allow 'up' inside a project directory (will automatically pull in all new
  packages). (For past checkouts, you may need to put the project name into
  $prjdir/.osc/_project yourself).
- checkout: preserve mtimes
- add diff3 merge support. Locally modified files are merged with upstream changes
  if possible, and go into Conflict state if that fails.
- add 'resolved' command to be used after manual merging.

-------------------------------------------------------------------
Fri May 19 00:00:00 CEST 2006 - poeml@suse.de

- update to 0.3:
- use the new file metadata, which provides checksum, size and mtime
- faster 'status', 'update', 'diff'
- improve argument handling, now e.g. 'osc up *' is possible
- on first usage, ask for username and password and store them in .oscrc
  (.netrc can still be used)

-------------------------------------------------------------------
Mon May 15 00:00:00 CEST 2006 - poeml@suse.de

- this package is not noarch

-------------------------------------------------------------------
Fri May 12 00:00:00 CEST 2006 - poeml@suse.de

- don't use --record-rpm option on setup.py, only SUSE has it
- define py_sitelib macro

-------------------------------------------------------------------
Wed May 10 00:00:00 CEST 2006 - poeml@suse.de

- created package (version 0.2)
