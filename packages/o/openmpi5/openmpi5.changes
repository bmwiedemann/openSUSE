-------------------------------------------------------------------
Mon Aug 12 09:52:54 UTC 2024 - Nicolas Morey <nicolas.morey@suse.com>

- Update to 5.0.5
  - btl/ofi: retry posting receive buffer
  - btl/uct: check return status from some uct funcs
  - fortran: use -Wl,-ld_classic if supported
  - fortran: parameterize the install location of Fortran MPI bindings modulefiles
    via the configure --with-mpi-moduledir CLI option
  - fortran: various configury improvements
  - use-mpi-f08: add missing subroutines in the mpi_f08 module
  - pml/base: remove redundant copy of ompi_mpi_thread_multiple
  - pml/cm: release datatype object in send completion callback
  - pml/ucx: propagate MPI serialized thread mode for all worker creations
  - pml/ob1: make no. of events an mca parameter
  - oshmem/shmem: fix warnings regarding types and unused variables in shmem
  - Add an AARCH64 OP component for for NEON and SVE ISA
  - Fix MPI function names in error output
  - Fix MPI_Neighbor_alltoall{v,w}_init to handle NULL parameters
  - Fix a bug in intercomm creation
  - Fix a bug in ompi_comm_lookup function to handle partially ready communicators
  - Fix error message in ompi_comm_get_rproc
  - Fix opal_basename for single character filenames
  - Fix rpm build test
  - Fix the info subscriber mechanism and hidden info keys
  - Fix ulfm bugs in ishrink/agree/iagree
  - Improve libcuda.so find command to follow symlinks
  - Improve pkgconfig installation logic in script wrapper
  - Change default tar format to tar-pax
  - Various document updates

-------------------------------------------------------------------
Wed Jun 26 08:18:40 UTC 2024 - Nicolas Morey <nicolas.morey@suse.com>

- Update to 5.0.3
  - Fix HAN MPI_Scatter intra-node data count and type 
  - Add missing write memory barrier in btl/smcuda 
  - Fix MPI_Alltoallv and MPI_Ialltoallv data count and type check
  - Enhance cuda-aware build by detecting default --with-cuda-lib value
  - Enhance ofi NIC selection logic
  - Fix an illegal memory access bug in mtl/ofi
  - Multiple bugfixes in rocm accelerator 
  - Fix a double free bug in oshmem
  - Add missing oshmem headers
  - Fix uninitialized lock in btl/usnic
  - Fix uninitialized mutex in file_open
  - Fix compiler warnings about unused cid_base variable
  - Enhance autogen submodule checks
  - Various document updates

-------------------------------------------------------------------
Mon Mar 25 07:40:50 UTC 2024 - Nicolas Morey <nicolas.morey@suse.com>

- Update to v5.0.2
  - Fix the fs/lustre component build
  - Fix a mtl/ofi multi-threaded race condition bug
  - Add missing fortran profiling interfaces according to MPI 4.0 standard
  - Allow 0-size data copy in opal/accelerator
  - Fix a btl/ofi and mtl/ofi provider selection bug
  - Properly initialize mca_rcache_base_module_t members
  - Fix a singleton launch segfault
  - Various documentation related updates and changes
  - Fix a bunch of compiler warnings
  - Sessions: fix a problem with fortran MPI_Session_get_nth_pset interface
  - Correctly access the communicator name is MSGQ
  - accelerator/cuda: fix bug in makefile.am preventing correct linkage
    in non-standard location
  - Correctly handle attributes on MPI_COMM_WORLD.
  - Minor memory leak fixes in:
    btl/tcp, mca_base_framework, ob1
  - Fix static initialization of recursive mutexes
  - Spack: fix for dlopen missing symbol problem
  - opal/mca/accelerator: ROCm 6.0 incompatibility fix
  - opal_var_dump_color_keys: fix an array overflow
  - SHMEM_LOCKS: MCS implementation of SHMEM LOCKS
  - configury: support flang-new
  - Update processing of "display_map" info key
  - dpm: update PMIX attribute

-------------------------------------------------------------------
Mon Feb 26 12:47:23 UTC 2024 - Dominique Leuenberger <dimstar@opensuse.org>

- Use %autosetup macro. Allows to eliminate the usage of deprecated
  PatchN.

-------------------------------------------------------------------
Fri Oct 27 07:16:37 UTC 2023 - Nicolas Morey <nicolas.morey@suse.com>

- Update to v5.0.0
  - No change since v5.0.0rc16

-------------------------------------------------------------------
Thu Oct 26 08:43:17 UTC 2023 - Nicolas Morey <nicolas.morey@suse.com>

- Update to v5.0.0rc16
  - Includes a fix to correctly forward stdin to remote processes.
  - Documentation updates
  - Fix build case with --disable-prrte
  - Update PRRTe and PMIx to pull in fixes
  - pcomm: fix fortran interface for precv/psend.
  - Fix UCX support level check.
  - Add support for MPI_ERR_VALUE_TOO_LARGE
  - ofi - add MCA parameters to not use FI_HMEM
  - oshmem: Add symmetric remote key handling
  - oshmem: Fixed DEVICE_NIC_MEM support to use RDMA memory type.
  - Fix a small issue in properly setting filename when building the empty schizo rst file.
  - Update PRRTE to release tag v3.0.2

-------------------------------------------------------------------
Tue Oct 10 09:45:03 UTC 2023 - Nicolas Morey <nicolas.morey@suse.com>

- Drop %vers macro so that the Version tag can be parsed more easily
- Update to v5.0.0rc13
  - Update PMIx to v4.2.6
  - Update PRRTE to v3.0.1
  - Lots of documentation updates.
  - Fixed parameter name in MPI_Intercomm_merge.
  - OFI: Update NIC selection to determine optimal interfaces from the current process.
  - Fix reordering of received data in MPI_Gather.
  - Disable builds with HWLOC versions >= 3.0.0.
  - Fix re-ordering of ranks in MPI_Dist_graph_create.
  - coll/HAN: Fix bug when using MPI_IN_PLACE with MPI_Reduce.
  - Fix MPI_Type_Dup to propagate errors from inner calls.
  - Fix the compilation of the monitoring infrastructure.
  - Various other bug fixes.

-------------------------------------------------------------------
Mon Aug  7 17:02:04 UTC 2023 - Nicolas Morey <nicolas.morey@suse.com>

- Drop support for TrueScale (bsc#1212146)

-------------------------------------------------------------------
Tue Jul 25 13:07:44 UTC 2023 - Nicolas Morey <nicolas.morey@suse.com>

- Update to v5.0.0rc12
  - accelerator/rocm: add SYNC_MEMOPS support
  - Updated PMIx, PRRTe, and OAC submodule pointers.
  - Fixe in mca_btl_ofi_flush() in multi threaded environment.
  - smcuda: fix an edge case when using enable mca dso
  - Fix MPI_Session_init bug if all previous sessions are finalized..
  - Fix mpi4py hang in intercomm_create_from_groups.
  - Fix finalize segfault with OSHMEM 4.1.5
  - Update FAQ content. 
  - Improve AVX* detection. Fixes op/avx link failure with nvhpc compiler.
  - Fix incorrect results with pml/ucx using Intel compiler.
  - Fix segfault when broadcasting large MPI structs.
  - Add platform files for Google Cloud HPC.
  - UCC/HCOLL: Fix waitall for non blokcing collectives.
  - check for MPI_T.3 (not MPI_T.5). Fix pre-built docs check.
- Add romio341-backport-fixes-from-mpich.patch to fix compilation issues.

-------------------------------------------------------------------
Thu Dec 15 10:05:02 UTC 2022 - Nicolas Morey <nicolas.morey@suse.com>

- Update to v5.0.0rc11
  - Many bug fixes

-------------------------------------------------------------------
Fri Oct 28 05:23:12 UTC 2022 - Steve Kowalik <steven.kowalik@suse.com>

- Move from python 2 to python 3.

-------------------------------------------------------------------
Mon Oct  3 10:48:54 UTC 2022 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- Drop baselibs.conf as there is no good reason to run a 32b MPI on a 64b system

-------------------------------------------------------------------
Mon Jul  4 18:06:38 UTC 2022 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- Initial import of openmpi v5.0.0rc7
