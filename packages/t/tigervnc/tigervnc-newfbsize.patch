Index: tigervnc-1.12.0/vncviewer/CConn.cxx
===================================================================
--- tigervnc-1.12.0.orig/vncviewer/CConn.cxx
+++ tigervnc-1.12.0/vncviewer/CConn.cxx
@@ -416,6 +416,8 @@ bool CConn::dataRect(const Rect& r, int
 
   if (encoding != encodingCopyRect)
     lastServerEncoding = encoding;
+  if (encoding == pseudoEncodingDesktopSize)
+    setDesktopSize( r.width(), r.height() );
 
   ret = CConnection::dataRect(r, encoding);
 
