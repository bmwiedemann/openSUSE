-------------------------------------------------------------------
Thu Nov  2 10:45:24 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.9.0
  * Bibliography management
    - New bibliography engine based on CSL (Citation Style Language). Ships with about 100 commonly used citation styles and can load custom .csl files
    - Added new form argument to the cite function to produce different forms of citations (e.g. for producing a citation suitable for inclusion in prose)
    - The cite function now takes only a single label/key instead of allowing multiple. Adjacent citations are merged and formatted according to the citation style's rules automatically. This works both with the reference syntax and explicit calls to the cite function. (Breaking change)
    - The cite function now takes a label instead of a string (Breaking change)
    - Added full argument to bibliography function to print the full bibliography even if not all works were cited
    - Bibliography entries can now contain Typst equations (wrapped in $..$ just like in markup), this works both for .yml and .bib bibliographies
    - The hayagriva YAML format was improved. See its changelog for more details. (Breaking change)
    - A few bugs with .bib file parsing were fixed
    - Removed brackets argument of cite function in favor of form
  * Visualization
    - Gradients and colors (thanks to @Dherse)
      + Added support for gradients on shapes and text
      + Supports linear, radial, and conic gradients
      + Added support for defining colors in more color spaces, including Oklab, Linear RGB(A), HSL, and HSV
      + Added saturate, desaturate, and rotate functions on colors
      + Added color.map module with predefined color maps that can be used with gradients
      + Rename kind function on colors to space
      + Removed to-rgba, to-cmyk, and to-luma functions in favor of a new components function
    - Improved rendering of rectangles with corner radius and varying stroke widths
    - Added support for properly clipping boxes and blocks with a border radius
    - Added background parameter to overline, underline, and strike functions
    - Fixed inaccurate color embedding in PDFs
    - Fixed ICC profile handling for images embedded in PDFs
  * Text and Layout
    - Added support for automatically adding proper pacing between CJK and Latin text (enabled by default)
    - Added support for automatic adjustment of more CJK punctuation
    - Added quote element for inserting inline and block quotes with optional attributions
    - Added raw.line element for customizing the display of individual lines of raw text, e.g. to add line numbers while keeping proper syntax highlighting
    - Added support for per-side inset customization to table function
    - Added Hungarian and Romanian translations
    - Added support for Czech hyphenation
    - Added support for setting custom smart quotes
    - The default figure separator now reacts to the currently set language and region
    - Improved line breaking of links / URLs (especially helpful for bibliographies with many URLs)
    - Improved handling of consecutive hyphens in justification algorithm
    - Fixed interaction of justification and hanging indent
    - Fixed a bug with line breaking of short lines without spaces when justification is enabled
    - Fixed font fallback for hyphen generated by hyphenation
    - Fixed handling of word joiner and other no-break characters during hyphenation
    - Fixed crash when hyphenating after an empty line
    - Fixed line breaking of composite emoji like üè≥Ô∏è‚Äçüåà
    - Fixed missing text in some SVGs
    - Fixed font fallback in SVGs
    - Fixed behaviour of to argument on pagebreak function
    - Fixed set align(..) for equations
    - Fixed spacing around placed elements
    - Fixed coalescing of above and below spacing if given in em units and the font sizes differ
    - Fixed handling of extent parameter of underline, overline, and strike functions
    - Fixed crash for floating placed elements with no specified vertical alignment
    - Partially fixed a bug with citations in footnotes
  * Math
    - Added gap argument for vec, mat, and cases function
    - Added size argument for abs, norm, floor, ceil, and round functions
    - Added reverse parameter to cases function
    - Added support for multinomial coefficients to binom function
    - Removed rotation argument on cancel function in favor of a new and more flexible angle argument (Breaking change)
    - Added wide constant, which inserts twice the spacing of quad
    - Added csch and sech operators
    - ‚Üº, ‚áÄ, ‚Üî, and ‚ü∑ can now be used as accents
    - Added integral.dash, integral.dash.double, and integral.slash symbols
    - Added support for specifying negative indices for augmentation lines to position the line from the back
    - Fixed default color of matrix augmentation] lines
    - Fixed attachment of primes to inline expressions
    - Math content now respects the text baseline setting
  * Performance
    - Fixed a bug related to show rules in templates which would effectively disable incremental compilation in affected documents
    - Micro-optimized code in several hot paths, which brings substantial performance gains, in particular in incremental compilations
    - Improved incremental parsing, which affects the whole incremental compilation pipeline
    - Added support for incremental parsing in the CLI
    - Added support for incremental SVG encoding during PDF export, which greatly improves export performance for documents with many SVG
  * Tooling and Diagnostics
    - Improved autocompletion for variables that are in-scope
    - Added autocompletion for package imports
    - Added autocompletion for labels
    - Added tooltip that show which variables a function captures (when hovering over the equals sign or arrow of the function)
    - Diagnostics are now deduplicated
    - Improved diagnostics when trying to apply unary + or - to types that only support binary + and -
    - Error messages now state which label or citation key isn't present in the document or its bibliography
    - Fixed a bug where function argument parsing errors where shadowed by function execution errors (e.g. when trying to call array.sorted and passing the key function as a positional argument instead of a named one).
  * Export
    - Added support for configuring the document's creation date. If the date is set to auto (the default), the PDF's creation date will be set to the current date and time.
    - Added support for configuring document keywords
    - Generated PDFs now contain PDF document IDs
    - The PDF creator tool metadata now includes the Typst version
  * Web app
    - Added version picker to pin a project to an older compiler version (with support for Typst 0.6.0+)
    - Fixed desyncs between editor and compiler and improved overall stability
    - The app now continues to highlight the document when typing while the document is being compiled
  * Command line interface
    - Added support for discovering fonts through fontconfig
    - Now clears the screen instead of resetting the terminal
    - Now automatically picks correct file extension for selected output format
    - Now only regenerates images for changed pages when using typst watch with PNG or SVG export
  * Miscellaneous Improvements
    - Added version type and sys.version constant specifying the current compiler version. Can be used to gracefully support multiple versions.
    - The U+2212 MINUS SIGN is now used when displaying a numeric value, in the repr of any numeric value and to replace a normal hyphen in text mode when before a digit. This improves, in particular, how negative integer values are displayed in math mode.
    - Added support for specifying a default value instead of failing for remove function in array and dictionary
    - Simplified page setup guide examples
    - Switched the documentation from using the word "hashtag" to the word "hash" where appropriate
    - Added support for array.zip without any further arguments
    - Fixed crash when a plugin tried to read out of bounds memory
    - Fixed crashes when handling infinite lengths
    - Fixed introspection (mostly bibliography) bugs due to weak page break close to the end of the document
  * Development
    - Extracted typst::ide into separate typst_ide crate
    - Removed a few remaining 'static bounds on &dyn World
    - Removed unnecessary dependency, which reduces the binary size
    - Fixed compilation of typst by itself (without typst-library)
    - Fixed warnings with Nix flake when using lib.getExe

-------------------------------------------------------------------
Fri Sep 15 08:47:55 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.8.0 
  * Scripting
     - Plugins
        + Typst can now load plugins that are compiled to WebAssembly
        + Anything that can be compiled to WebAssembly can thus be loaded as a plugin
        + These plugins are fully encapsulated (no access to file system or network)
        + Plugins can be shipped as part of packages
        + Plugins work just the same in the web app
     - Types are now first-class values (Breaking change)
        + A type is now itself a value
        + Some types can be called like functions (those that have a constructor), e.g. int and str
        + Type checks are now of the form type(10) == int instead of the old type(10) == "integer". Compatibility with the old way will remain for a while to give package authors time to upgrade, but it will be removed at some point.
        + Methods are now syntax sugar for calling a function scoped to a type, meaning that "hello".len() is equivalent to str.len("hello")
     - Added support for import renaming with as
     - Added a duration type
     - Added support for CBOR encoding and decoding
     - Added encoding and decoding functions from and to bytes for data formats: json.decode, json.encode, and similar functions for other formats
     - Added array.intersperse function
     - Added str.rev function
     - Added calc.tau constant
     - Made bytes joinable and addable
     - Made array.zip function variadic
     - Fixed bug with eval when the mode was set to "math"
     - Fixed bug with ends-with function on strings
     - Fixed bug with destructuring in combination with break, continue, and return
     - Fixed argument types of hyperbolic functions, they don't allow angles anymore (Breaking change)
  * Export
     - Added SVG export
     - Fixed bugs with PDF font embedding
     - Added support for page labels that reflect the page numbering style in the PDF
  * Text and Layout
     - Added highlight function for highlighting text with a background color
     - Added polygon.regular function for drawing a regular polygon
     - Added support for tabs in raw elements alongside tab-width parameter
     - The layout engine now tries to prevent "runts" (final lines consisting of just a single word)
     - Added Finnish translations
     - Added hyphenation support for Polish
     - Improved handling of consecutive smart quotes of different kinds
     - Fixed vertical alignments for number-align argument on page function (Breaking change)
     - Fixed weak pagebreaks after counter updates
     - Fixed missing text in SVG when the text font is set to "New Computer Modern"
     - Fixed translations for Chinese
     - Fixed crash for empty text in show rule
     - Fixed leading spaces when there's a linebreak after a number and a comma
     - Fixed placement of floating elements in columns and other containers
     - Fixed sizing of block containing just a single box
  * Math
     - Added support for augmented matrices
     - Removed support for automatic matching of fences like | and || as there were too many false positives. You can use functions like abs or norm or an explicit lr call instead. (Breaking change)
     - Fixed spacing after number with decimal point in math
     - Fixed bug with primes in subscript
     - Fixed weak spacing
     - Fixed crash when text within math contains a newline
  * Tooling and Diagnostics
     - Added hints when trying to call a function stored in a dictionary without extra parentheses
     - Fixed hint when referencing an equation without numbering
     - Added more details to some diagnostics (e.g. when SVG decoding fails)
  * Command line interface
     - Added typst update command for self-updating the CLI
     - Added download progress indicator for packages and updates
     - Added --format argument to explicitly specify the output format
     - The CLI now respects proxy configuration through environment variables and has a new --cert option for setting a custom CA certificate
     - Fixed crash when field wasn't present and --one is passed to typst query
  * Miscellaneous Improvements
     - Added page setup guide
     - Added figure.caption function that can be used for simpler figure customization (Breaking change because it.caption now renders the full caption with supplement in figure show rules and manual outlines)
     - Moved caption-pos argument to figure.caption function and renamed it to position (Breaking change)
     - Added separator argument to figure.caption function
     - Added support for combination of and/or and before/after selectors
     - Packages can now specify a minimum compiler version they require to work
     - Fixed parser bug where method calls could be moved onto their own line for #let expressions in markup (continues to work in code)
     - Fixed bugs in sentence and title case conversion for bibliographies
     - Fixed supplements for alphanumeric and author-title bibliography styles
     - Fixed off-by-one error in APA bibliography style
  * Development
     - Made Span and FileId more type-safe so that all error conditions must be handled by World implementors

-------------------------------------------------------------------
Wed Aug  9 12:44:47 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.7.0 
  * Text and Layout
     - Added support for floating figures through the placement argument on the figure function
     - Added support for arbitrary floating content through the float argument on the place function
     - Added support for loading .sublime-syntax files as highlighting syntaxes for raw blocks
     - Added support for loading .tmTheme files as highlighting themes for raw blocks
     - Added bounds option to top-edge and bottom-edge arguments of text function for tight bounding boxes
     - Removed nonsensical top- and bottom-edge options, e.g. ascender for the bottom edge (Breaking change)
     - Added script argument to text function
     - Added alternative argument to smart quote function
     - Added basic i18n for Japanese
     - Added hyphenation support for nb and nn language codes in addition to no
     - Fixed positioning of placed elements in containers
     - Fixed overflowing containers due to optimized line breaks
  * Export
     - Greatly improved export of SVG images to PDF. Many thanks to @LaurenzV for their work on this.
     - Added support for the alpha channel of RGBA colors in PDF export
     - Fixed a bug with PPI (pixels per inch) for PNG export
  * Math
     - Improved layout of primes (e.g. in $a'_1$)
     - Improved display of multi-primes (e.g. in $a''$)
     - Improved layout of roots
     - Changed relations to show attachments as limits by default (e.g. in $a ->^x b$)
     - Large operators and delimiters are now always vertically centered
     - Boxes in equations now sit on the baseline instead of being vertically centered by default. Notably, this does not affect blocks because they are not inline elements.
     - Added support for weak spacing
     - Added support for OpenType character variants
     - Added support for customizing the math class of content
     - Fixed spacing around ., \/, and ...
     - Fixed spacing between closing delimiters and large operators
     - Fixed a bug with math font weight selection
     - Symbols and Operators (Breaking changes)
       + Added id, im, and tr text operators
       + Renamed ident to equiv with alias eq.triple and removed ident.strict in favor of eq.quad
       + Renamed ast.sq to ast.square and integral.sq to integral.square
       + Renamed .eqq modifier to .equiv (and .neqq to .nequiv) for tilde, gt, lt, prec, and succ
       + Added emptyset as alias for nothing
       + Added lt.curly and gt.curly as aliases for prec and succ
       + Added aleph, beth, and gimmel as alias for alef, bet, and gimel
  * Scripting
     - Fields
       + Added abs and em field to lengths
       + Added ratio and length field to relative lengths
       + Added x and y field to 2d alignments
       + Added paint, thickness, cap, join, dash, and miter-limit field to strokes
     - Accessor and utility methods
       + Added dedup method to arrays
       + Added pt, mm, cm, and inches method to lengths
       + Added deg and rad method to angles
       + Added kind, hex, rgba, cmyk, and luma method to colors
       + Added axis, start, end, and inv method to directions
       + Added axis and inv method to alignments
       + Added inv method to 2d alignments
       + Added start argument to enumerate method on arrays
     - Added color.mix function
     - Added mode and scope arguments to eval function
     - Added bytes type for holding large byte buffers
       + Added encoding argument to read function to read a file as bytes instead of a string
       + Added image.decode function for decoding an image directly from a string or bytes
       + Added bytes function for converting a string or an array of integers to bytes
       + Added array function for converting bytes to an array of integers
       + Added support for converting bytes to a string with the str function
  * Tooling and Diagnostics
     - Added support for compiler warnings
     - Added warning when compilation does not converge within five attempts due to intense use of introspection features
     - Added warnings for empty emphasis (__ and **)
     - Improved error message for invalid field assignments
     - Improved error message after single #
     - Improved error message when a keyword is used where an identifier is expected
     - Fixed parameter autocompletion for functions that are in modules
     - Import autocompletion now only shows the latest package version until a colon is typed
     - Fixed autocompletion for dictionary key containing a space
     - Fixed autocompletion for for loops
  * Command line interface
     - Added typst query subcommand to execute a query on the command line
     - The --root and --font-paths arguments cannot appear in front of the command anymore (Breaking change)
     - Local and cached packages are now stored in directories of the form {namespace}/{name}/{version} instead of {namespace}/{name}-{version} (Breaking change)
     - Now prioritizes explicitly given fonts (via --font-paths) over system and embedded fonts when both exist
     - Fixed typst watch not working with some text editors
     - Fixed displayed compilation time (now includes export)
  * Miscellaneous Improvements
     - Added bookmarked argument to heading to control whether a heading becomes part of the PDF outline
     - Added caption-pos argument to control the position of a figure's caption
     - Added metadata function for exposing an arbitrary value to the introspection system
     - Fixed that a state was identified by the pair (key, init) instead of just its key
     - Improved indent logic of enumerations. Instead of requiring at least as much indent as the end of the marker, they now require only one more space indent than the start of the marker. As a result, even long markers like 12. work with just 2 spaces of indent.
     - Fixed bug with indent logic of raw blocks
     - Fixed a parsing bug with dictionaries
  * Development
     - Extracted parser and syntax tree into typst-syntax crate
     - The World::today implementation of Typst dependants may need fixing if they have the same bug that the CLI world had

-------------------------------------------------------------------
Wed Jul 26 08:54:07 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.6.0
  * Package Management
    - Typst now has built-in package management
    - You can import published community packages or create and use system-local ones
    - Published packages are also supported in the web app
  * Math
    - Added support for optical size variants of glyphs in math mode
    - Added argument to enable limits conditionally depending on whether the equation is set in display or inline style
    - Added gt.eq.slant and lt.eq.slant symbols
    - Increased precedence of factorials in math mode ([$1/n!$] works correctly now)
    - Improved underlines and overlines in math mode
    - Fixed usage of limits function in show rules
    - Fixed bugs with line breaks in equations
  * Text and Layout
    - Added support for alternating page margins with the inside and outside keys
    - Added support for specifying the page binding
    - Added to argument to pagebreak function to skip to the next even or odd page
    - Added basic i18n for a few more languages (TR, SQ, TL)
    - Fixed bug with missing table row at page break
    - Fixed bug with underlines
    - Fixed bug superfluous table lines
    - Fixed smart quotes after line breaks
    - Fixed a crash related to text layout
  * Command line interface
    - Breaking change: Added requirement for --root/TYPST_ROOT directory to contain the input file because it designates the project root. Existing setups that use TYPST_ROOT to emulate package management should switch to local packages
    - Breaking change: Now denies file access outside of the project root
    - Added support for local packages and on-demand package download
    - Now watches all relevant files, within the root and all packages
    - Now displays compilation time
  * Miscellaneous Improvements
    - Added outline.entry to customize outline entries with show rules
    - Added some hints for error messages
    - Added some missing syntaxes for raw highlighting
    - Improved rendering of rotated images in PNG export and web app
    - Made footnotes reusable and referenceable
    - Fixed bug with citations and bibliographies in locate
    - Fixed inconsistent tense in documentation
  * Development
    - Added contribution guide
    - Reworked World interface to accommodate for package management and make it a bit simpler to implement (Breaking change for implementors)

-------------------------------------------------------------------
Fri Jun 16 09:57:58 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.5.0
  * Text and Layout
    - Added raw syntax highlighting for many more languages
    - Added support for Korean numbering
    - Added basic i18n for a few more languages (NL, SV, DA)
    - Improved linebreaking for East Asian languages
    - Expanded functionality of outline indent property
    - Fixed footnotes in columns
    - Fixed page breaking bugs with footnotes
    - Fixed bug with handling of footnotes in lists, tables, and figures
    - Fixed a bug with CJK punctuation adjustment
    - Fixed a crash with rounded rectangles
    - Fixed alignment of line elements
  * Math
    - Breaking change: The syntax rules for mathematical attachments were improved: $f^abs(3)$ now parses as $f^(abs(3))$ instead of $(f^abs)(3)$. To disambiguate, add a space: $f^zeta (3)$.
    - Added forced size commands for math (e.g., display)
    - Added supplement parameter to equation, used by references
    - New symbols: bullet, xor, slash.big, sigma.alt, tack.r.not, tack.r.short, tack.r.double.not
    - Fixed a bug with symbols in matrices
    - Fixed a crash in the attach function
  * Scripting
    - Added new datetime type and datetime.today() to retrieve the current date
    - Added str.from-unicode and str.to-unicode functions
    - Added fields method on content
    - Added base parameter to str function
    - Added calc.exp and calc.ln
    - Improved accuracy of calc.pow and calc.log) for specific bases
    - Fixed removal order for dictionary
    - Fixed .at(default: ..) for strings and content
    - Fixed field access on styled elements
    - Removed deprecated calc.mod function
  * Command line interface
    - Added PNG export via typst compile source.typ output-{n}.png. The output path must contain [{n}] if the document has multiple pages.
    - Added --diagnostic-format=short for Unix-style short diagnostics
    - Doesn't emit color codes anymore if stderr isn't a TTY
    - Now sets the correct exit code when invoked with a non-existent file
    - Now ignores UTF-8 BOM in Typst files
  * Miscellaneous Improvements
    - Improved errors for mismatched delimiters
    - Improved error message for failed length comparisons
    - Fixed a bug with images not showing up in Apple Preview
    - Fixed multiple bugs with the PDF outline
    - Fixed citations and other searchable elements in hide
    - Fixed bugs with reference supplements
    - Fixed Nix flake

-------------------------------------------------------------------
Mon Jun  5 08:01:29 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.4.0
  * Footnotes
    - Implemented support for footnotes
    - The footnote function inserts a footnote
    - The footnote.entry function can be used to customize the footnote listing
    - The "chicago-notes" citation style is now available
  * Documentation
    - Added a Guide for LaTeX users
    - Now shows default values for optional arguments
    - Added richer outlines in "On this Page"
    - Added initial support for search keywords: "Table of Contents" will now find the outline function. Suggestions for more keywords are welcome!
    - Fixed issue with search result ranking
    - Fixed many more small issues
  * Math
    - Breaking change: Alignment points (&) in equations now alternate between left and right alignment
    - Added support for writing roots with Unicode: For example, $root(x+y)$ can now also be written as $‚àö(x+y)$
    - Fixed uneven vertical attachment alignment
    - Fixed spacing on decorated elements (e.g., spacing around a canceled operator)
    - Fixed styling for stretchable symbols
    - Added tack.r.double, tack.l.double, dotless.i and dotless.j symbols
    - Fixed show rules on symbols (e.g. {show sym.tack: set text(blue)})
    - Fixed missing rename from ast.op to ast that should have been in the previous release
  * Scripting
    - Added function scopes: A function can now hold related definitions in its own scope, similar to a module. The new assert.eq function, for instance, is part of the assert function's scope. Note that function scopes are currently only available for built-in functions.
    - Added assert.eq and assert.ne functions for simpler equality and inequality assertions with more helpful error messages
    - Exposed list, enum, and term list items in their respective functions' scope
    - The at methods on strings, arrays, dictionaries, and content now support specifying a default value
    - Added support for passing a function to replace that is called with each match.
    - Fixed replacement strings: They are now inserted completely verbatim instead of supporting the previous (unintended) magic dollar syntax for capture groups
    - Fixed bug with trailing placeholders in destructuring patterns
    - Fixed bug with underscore in parameter destructuring
    - Fixed crash with nested patterns and when hovering over an invalid pattern
    - Better error messages when casting to an integer or float fails
  * Text and Layout
    - Implemented sophisticated CJK punctuation adjustment
    - Disabled overhang for CJK punctuation
    - Added basic translations for Traditional Chinese
    - Fixed alignment of text inside raw blocks (centering a raw block, e.g. through a figure, will now keep the text itself left-aligned)
    - Added support for passing a array instead of a function to configure table cell alignment and fill per column
    - Fixed automatic figure kind detection
    - Made alignment of enum numbers configurable, defaulting to end
    - Figures can now be made breakable with a show-set rule for blocks in figure
    - Initial fix for smart quotes in RTL languages
  * Export
    - Fixed ligatures in PDF export: They are now copyable and searchable
    - Exported PDFs now embed ICC profiles for images that have them
    - Fixed export of strokes with zero thickness
  * Web app
    - Projects can now contain folders
    - Added upload by drag-and-drop into the file panel
    - Files from the file panel can now be dragged into the editor to insert them into a Typst file
    - You can now copy-paste images and other files from your computer directly into the editor
    - Added a button to resend confirmation email
    - Added an option to invert preview colors in dark mode
    - Added tips to the loading screen and the Help menu. Feel free to propose more!
    - Added syntax highlighting for YAML files
    - Allowed middle mouse button click on many buttons to navigate into a new tab
    - Allowed more project names
    - Fixed overridden Vim mode keybindings
    - Fixed many bugs regarding file upload and more
  * Miscellaneous Improvements
    - Improved performance of counters, state, and queries
    - Improved incremental parsing for more efficient recompilations
    - Added support for .yaml extension in addition to .yml for bibliographies
    - The CLI now emits escape codes only if the output is a TTY
    - For users of the typst crate: The Document is now Sync again and the World doesn't have to be 'static anymore

-------------------------------------------------------------------
Fri Apr 28 11:24:20 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.3.0
  * Breaking changes:
    - Renamed a few symbols: What was previous dot.op is now just dot and the basic dot is dot.basic. The same applies to ast and tilde.
    - Renamed mod to rem to more accurately reflect the behaviour. It will remain available as mod until the next update as a grace period.
    - A lone underscore is not a valid identifier anymore, it can now only be used in patterns
    - Removed before and after arguments from query. This is now handled through flexible selectors combinator methods
    - Added support for attachments (sub-, superscripts) that precede the base symbol. The top and bottom arguments have been renamed to t and b.
  * New features
    - Added support for more complex strokes (configurable caps, joins, and dash patterns)
    - Added cancel function for equations
    - Added support for destructuring in argument lists and assignments
    - Added alt text argument to image function
    - Added toml function for loading data from a TOML file
    - Added zip, sum, and product methods for arrays
    - Added fact, perm, binom, gcd, lcm, atan2, quo, trunc, and fract calculation
  * Improvements
    - Text in SVGs now displays properly
    - Typst now generates a PDF heading outline
    - References now provides the referenced element as a field in show rules
    - Refined linebreak algorithm for better Chinese justification
    - Locations are now a valid kind of selector
    - Added a few symbols for algebra
    - Added Spanish smart quote support
    - Added selector function to turn a selector-like value into a selector on which combinator methods can be called
    - Improved some error messages
    - The outline and bibliography headings can now be styled with show-set rules
    - Operations on numbers now produce an error instead of overflowing
  * Bug fixes
    - Fixed wrong linebreak before punctuation that follows inline equations, citations, and other elements
    - Fixed a bug with argument sinks
    - Fixed strokes with thickness zero
    - Fixed hiding and show rules in math
    - Fixed alignment in matrices
    - Fixed some alignment bugs in equations
    - Fixed grid cell alignment
    - Fixed alignment of list marker and enum markers in presence of global alignment settings
    - Fixed path closing
    - Fixed compiler crash with figure references
    - A single trailing line breaks is now ignored in math, just like in text
  * Command line interface
    - Font path and compilation root can now be set with the environment variables TYPST_FONT_PATHS and TYPST_ROOT
    - The output of typst fonts now includes the embedded fonts
  * Development
    - Added instrumentation for debugging and optimization
    - Added --update flag and UPDATE_EXPECT environment variable to update reference images for tests
    - You can now run a specific subset with --subtest
    - Tests now run on multiple threads

-------------------------------------------------------------------
Tue Apr 18 07:05:11 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.2.0
  * Breaking changes:
    - Removed support for iterating over index and value in for loops. This is now handled via unpacking and enumerating. Same goes for the map() method.
    - Dictionaries now iterate in insertion order instead of alphabetical order.
  * New features
    - Added unpacking syntax for let bindings, which allows things like let (1, 2) = array
    - Added enumerate() method
    - Added path function for drawing B√©zier paths
    - Added layout function to access the size of the surrounding page or container
    - Added key parameter to sorted() method
  * Command line interface
    - Fixed --open flag blocking the program
    - New Computer Modern font is now embedded into the binary
    - Shell completions and man pages can now be generated by setting the GEN_ARTIFACTS environment variable to a target directory and then building Typst
  * Miscellaneous improvements
    - Fixed page numbering in outline
    - Added basic i18n for a few more languages (AR, NB, CS, NN, PL, SL, ES, UA, VI)
    - Added a few numbering patterns (Ihora, Chinese)
    - Added sinc operator
    - Fixed bug where math could not be hidden with hide
    - Fixed sizing issues with box, block, and shapes
    - Fixed some translations
    - Fixed inversion of "R" in cal and frak styles
    - Fixed some styling issues in math
    - Fixed supplements of references to headings
    - Fixed syntax highlighting of identifiers in certain scenarios
    - Ratios can now be multiplied with more types and be converted to floats with the float function

-------------------------------------------------------------------
Thu Apr  6 07:59:26 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to version 0.1.0 
  * Breaking changes:
    - When using the CLI, you now have to use subcommands:
          typst compile file.typ or typst c file.typ to create a PDF
          typst watch file.typ or typst w file.typ to compile and watch
          typst fonts to list all fonts
    - Manual counters now start at zero. Read the "How to step" section in the counter documentation for more details
    - The bibliography styles "author-date" and "author-title" were renamed to "chicago-author-date" and "chicago-author-title"
  * Figure improvements
    - Figures now automatically detect their content and adapt their behaviour. Figures containing tables, for instance, are automatically prefixed with "Table X" and have a separate counter
    - The figure's supplement (e.g. "Figure" or "Table") can now be customized
    - In addition, figures can now be completely customized because the show rule gives access to the automatically resolved kind, supplement, and counter
  * Bibliography improvements
    - The bibliography function now also accepts multiple bibliography paths (as an array)
    - Parsing of BibLaTeX files is now more permissive (accepts non-numeric edition, pages, volumes, dates, and Jabref-style comments; fixed abbreviation parsing)
    - Labels and references can now include : and . except at the end
    - Fixed APA bibliography ordering
  * Drawing additions
    - Added polygon function for drawing polygons
    - Added support for clipping in boxes and blocks
  * Command line interface
    - Now returns with non-zero status code if there is an error
    - Now watches the root directory instead of the current one
    - Now puts the PDF file next to input file by default
    - Now accepts more kinds of input files (e.g. /dev/stdin)
    - Added --open flag to directly open the PDF
  * Miscellaneous improvements
    - Added yaml function to load data from YAML files
    - Added basic i18n for a few more languages (IT, RU, ZH, FR, PT)
    - Added numbering support for Hebrew
    - Added support for integers with base 2, 8, and 16
    - Added symbols for double bracket and laplace operator
    - The link function now accepts labels
    - The link syntax now allows more characters
    - Improved justification of Japanese and Chinese text
    - Calculation functions behave more consistently w.r.t to non-real results
    - Replaced deprecated angle brackets
    - Reduced maximum function call depth from 256 to 64
    - Fixed first-line-indent not being applied when a paragraph starts with styled text
    - Fixed extraneous spacing in unary operators in equations
    - Fixed block spacing, e.g. in {block(above: 1cm, below: 1cm, ..)}
    - Fixed styling of text operators in math
    - Fixed invalid parsing of language tag in raw block with a single backtick
    - Fixed bugs with displaying counters and state
    - Fixed crash related to page counter
    - Fixed crash when symbol function was called without arguments
    - Fixed crash in bibliography generation
    - Fixed access to label of certain content elements
    - Fixed line number in error message for CSV parsing
    - Fixed invalid autocompletion after certain markup elements
  * Versioning changes: Starting with this release, Typst follows semver. The language and compiler will be version together for now.
    As a result, all crates and the language share the same version and a breaking change to either the language or any library requires a version bump.
    Once the language stabilizes (unclear when), the compiler and language version might start to diverge as the compiler APIs will probably remain unstable.

-------------------------------------------------------------------
Tue Mar 28 14:57:40 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Update to v23-03-28
  * Breaking: Enumerations now require a space after their marker, that is, 1.ok must now be written as 1. ok
  * Breaking: Changed default style for term lists: Does not include a colon anymore and has a bit more indent
  * Fixed bibliography ordering in IEEE style
  * Fixed parsing of decimals in math: $1.2/3.4$
  * Fixed parsing of unbalanced delimiters in fractions: $1/(2 (x)
  * Fixed unexpected parsing of numbers as enumerations, e.g. in 1.2
  * Fixed combination of page fill and header
  * Fixed compiler crash if repeat is used in page with automatic width
  * Fixed matrices with explicit delimiter
  * Fixed build of CLI if git is not installed
  * Links in bibliographies are now affected by link styling
  * Added support for disabling matrix and vector delimiters. Generally with #set math.mat(delim: none) or one-off with $mat(delim: #none, 1, 2; 3, 4)$.
  * Added separator argument to term lists
  * Fixed indent property of term lists
  * Added round function for equations
  * Numberings now allow zeros. To reset a counter, you can write #counter(..).update(0)
  * Added --font-path argument for CLI
  * Added Nix flake
  * Numerous documentation fixes
  * Added documentation for page() and position() methods on location type
  * Added symbols for double, triple, and quadruple dot accent
  * Added smart quotes for Norwegian Bokm√•l
  * Fixed hovering over comments in web app
- Remove fix-git-dependency.patch, fixed upstream 

-------------------------------------------------------------------
Fri Mar 24 13:13:52 UTC 2023 - Martin Sirringhaus <martin.sirringhaus@suse.com>

- Initial commit
- Add fix-git-dependency.patch to avoid needing the full git-repo
