Index: apache-tomcat-9.0.12-src/build.xml
===================================================================
--- apache-tomcat-9.0.12-src.orig/build.xml
+++ apache-tomcat-9.0.12-src/build.xml
@@ -740,7 +740,7 @@
   </target>
 
   <target name="build-bnd" unless="bnd.uptodate"
-          depends="setup-bnd,build-prepare">
+          depends="setup-bnd,build-prepare" if="add.osgi.jar.metadata">
 
     <mkdir dir="${tomcat.bnd}" />
     <copy todir="${tomcat.bnd}" overwrite="yes" filtering="yes"
@@ -3178,7 +3178,7 @@ Read the Building page on the Apache Tom
 
   <!-- ======================= Macros, Taskdefs etc ======================== -->
 
-  <target name="download-bnd" >
+  <target name="download-bnd" if="add.osgi.jar.metadata">
     <!-- Download bnd -->
     <antcall target="downloadfile">
       <param name="sourcefile" value="${bnd.loc}"/>
@@ -3200,7 +3200,7 @@ Read the Building page on the Apache Tom
     </antcall>
   </target>
 
-  <target name="setup-bnd" depends="download-bnd">
+  <target name="setup-bnd" depends="download-bnd" if="add.osgi.jar.metadata">
     <!-- Add bnd tasks to project -->
     <path id="bndlib.classpath">
       <fileset file="${bnd.jar}" />
@@ -3240,7 +3240,7 @@ Read the Building page on the Apache Tom
         <zipfileset file="@{notice}" fullpath="META-INF/NOTICE" />
         <zipfileset file="@{license}" fullpath="META-INF/LICENSE" />
       </jar>
-      <antcall target="add-osgi" >
+      <antcall target="add-osgi" if:set="add.osgi.jar.metadata">
         <param name="jarfile" value="@{jarfile}" />
         <param name="addOSGi" value="@{addOSGi}" />
       </antcall>
