commit 5e0514ca98f48a4f87365452119393ffb0e49524
Author: Bernhard M. Wiedemann <bwiedemann@suse.de>
Date:   Fri Jun 22 10:59:56 2018 +0200

    thunarx-python: Allow to override build date
    
    in order to make builds reproducible.
    See https://reproducible-builds.org/ for why this is good
    and https://reproducible-builds.org/specs/source-date-epoch/
    for the definition of this variable.

Index: thunarx-python-0.5.1/docs/Makefile.in
===================================================================
--- thunarx-python-0.5.1.orig/docs/Makefile.in
+++ thunarx-python-0.5.1/docs/Makefile.in
@@ -591,7 +591,7 @@ uninstall-am: uninstall-HTMLDATA
 
 
 @ENABLE_GTK_DOC_TRUE@reference/builddate.xml: $(REFERENCE_DEPS)
-@ENABLE_GTK_DOC_TRUE@	$(PYTHON) -c 'import datetime; print(datetime.date.today())' > $@
+@ENABLE_GTK_DOC_TRUE@	$(PYTHON) -c 'import datetime; import os; import time; print datetime.datetime.utcfromtimestamp(int(os.environ.get("SOURCE_DATE_EPOCH", time.time()))).date()' > $@
 
 @ENABLE_GTK_DOC_TRUE@$(HTML_DATA): $(REFERENCE_DEPS) reference/builddate.xml
 @ENABLE_GTK_DOC_TRUE@	$(GTKDOC_MKHTML) \

diff --git a/docs/Makefile.am b/docs/Makefile.am
index 19971c2..3e01d78 100644
--- a/docs/Makefile.am
+++ b/docs/Makefile.am
@@ -63,7 +63,7 @@ REFERENCE_DEPS = 	\
 if ENABLE_GTK_DOC
 
 reference/builddate.xml: $(REFERENCE_DEPS)
-	$(PYTHON) -c 'import datetime; print(datetime.date.today())' > $@
+	$(PYTHON) -c 'import datetime; import os; import time; print datetime.datetime.utcfromtimestamp(int(os.environ.get("SOURCE_DATE_EPOCH", time.time()))).date()' > $@
 
 $(HTML_DATA): $(REFERENCE_DEPS) reference/builddate.xml
 	$(GTKDOC_MKHTML) \
