diff --color -ru a/src/layout/layout.c b/src/layout/layout.c
--- a/src/layout/layout.c	2022-03-28 00:11:30.000000000 +0600
+++ b/src/layout/layout.c	2023-03-30 16:22:07.915027532 +0600
@@ -126,8 +126,8 @@
                                TextFrame    *frame,
                                int           width)
 {
-    g_return_if_fail (TEXT_IS_LAYOUT (self));
-    g_return_if_fail (TEXT_IS_FRAME (frame));
+    g_return_val_if_fail (TEXT_IS_LAYOUT (self), NULL);
+    g_return_val_if_fail (TEXT_IS_FRAME (frame), NULL);
 
     TextLayoutBox *root = text_layout_box_new ();
     do_layout_recursive (self, root, context, TEXT_ITEM (frame), width);
