From 9d86f3761bb30e8dcc81e754b81d3ce91848477e Mon Sep 17 00:00:00 2001
From: Amaan Qureshi <amaanq12@gmail.com>
Date: Sun, 10 Mar 2024 11:50:33 -0400
Subject: [PATCH] fix: escape braces in regex

---
 grammar.js       |   4 ++--
 package.json     |   8 ++++----
2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/grammar.js b/grammar.js
index 13167db..9bd4a6b 100644
--- a/grammar.js
+++ b/grammar.js
@@ -1096,7 +1096,7 @@ module.exports = grammar({
 
     chained_string: $ => seq($.string, repeat1($.string)),
 
-    character: $ => /\?(\\\S({[0-9A-Fa-f]*}|[0-9A-Fa-f]*|-\S([MC]-\S)?)?|\S)/,
+    character: $ => /\?(\\\S(\{[0-9A-Fa-f]*\}|[0-9A-Fa-f]*|-\S([MC]-\S)?)?|\S)/,
 
     interpolation: $ => choice(
       seq('#{', optional($._statements), '}'),
@@ -1167,7 +1167,7 @@ module.exports = grammar({
         /x[0-9a-fA-F]{1,2}/, // hex code
         /[0-7]{1,3}/, // octal
         /u[0-9a-fA-F]{4}/, // single unicode
-        /u{[0-9a-fA-F ]+}/, // multiple unicode
+        /u\{[0-9a-fA-F]+\}/, // multiple unicode
       ),
     )),
 
diff --git a/package.json b/package.json
index eb77e56..356552a 100644
--- a/package.json
+++ b/package.json
@@ -10,15 +10,15 @@
   "author": "Rob Rix",
   "license": "MIT",
   "dependencies": {
-    "nan": "^2.18.0",
+    "nan": "^2.19.0",
     "node-gyp": "^10.0.1",
-    "prebuild-install": "^7.1.1"
+    "prebuild-install": "^7.1.2"
   },
   "devDependencies": {
-    "eslint": ">=8.56.0",
+    "eslint": ">=8.57.0",
     "eslint-config-google": "^0.14.0",
     "prebuild": "^13.0.0",
-    "tree-sitter-cli": "^0.20.8"
+    "tree-sitter-cli": "^0.21.0"
   },
   "scripts": {
     "build": "tree-sitter generate && node-gyp build",

-- 
2.44.0

