Index: TrustedGRUB-1.1.3/stage2/builtins.c
===================================================================
--- TrustedGRUB-1.1.3.orig/stage2/builtins.c
+++ TrustedGRUB-1.1.3/stage2/builtins.c
@@ -463,6 +463,10 @@ if (perform_sha1)
     *((unsigned long *) (BOOTSEC_LOCATION + BOOTSEC_BPB_HIDDEN_SECTORS))
       = part_start;
 
+  /* if a new device was specified, make sure DX is passed correctly */
+  if ('(' == *file)
+    set_device(file);
+
   errnum = ERR_NONE;
   
   return 0;
