From bcb1afe403f88fc51dd44b868556a72007d3334d Mon Sep 17 00:00:00 2001
From: Christian Goll <cgoll@suse.de>
Date: Tue, 18 Feb 2020 13:02:12 +0100
Subject: [PATCH] removed docker tools

---
 WORKSPACE                                     | 55 ---------------
 .../preconfig/generate/workspace.bzl          | 70 -------------------
 2 files changed, 125 deletions(-)
 delete mode 100644 third_party/toolchains/preconfig/generate/workspace.bzl

diff --git a/WORKSPACE b/WORKSPACE
index 74ea14d0fd..6c96d8e1ae 100644
--- a/WORKSPACE
+++ b/WORKSPACE
@@ -27,61 +27,6 @@ load("//third_party/toolchains/preconfig/generate:archives.bzl",
 
 bazel_toolchains_archive()
 
-load(
-    "@bazel_toolchains//repositories:repositories.bzl",
-    bazel_toolchains_repositories = "repositories",
-)
-
-bazel_toolchains_repositories()
-
-load(
-    "@io_bazel_rules_docker//repositories:repositories.bzl",
-    container_repositories = "repositories",
-)
-
-container_repositories()
-
-load("//third_party/toolchains/preconfig/generate:workspace.bzl",
-     "remote_config_workspace")
-
-remote_config_workspace()
-
-# Apple and Swift rules.
-http_archive(
-    name = "build_bazel_rules_apple",
-    sha256 = "6efdde60c91724a2be7f89b0c0a64f01138a45e63ba5add2dca2645d981d23a1",
-    urls = ["https://github.com/bazelbuild/rules_apple/releases/download/0.17.2/rules_apple.0.17.2.tar.gz"],
-)  # https://github.com/bazelbuild/rules_apple/releases
-http_archive(
-    name = "build_bazel_rules_swift",
-    sha256 = "96a86afcbdab215f8363e65a10cf023b752e90b23abf02272c4fc668fcb70311",
-    urls = ["https://github.com/bazelbuild/rules_swift/releases/download/0.11.1/rules_swift.0.11.1.tar.gz"],
-)  # https://github.com/bazelbuild/rules_swift/releases
-http_archive(
-    name = "build_bazel_apple_support",
-    sha256 = "7356dbd44dea71570a929d1d4731e870622151a5f27164d966dda97305f33471",
-    urls = ["https://github.com/bazelbuild/apple_support/releases/download/0.6.0/apple_support.0.6.0.tar.gz"],
-)  # https://github.com/bazelbuild/apple_support/releases
-http_archive(
-    name = "bazel_skylib",
-    sha256 = "2ef429f5d7ce7111263289644d233707dba35e39696377ebab8b0bc701f7818e",
-    urls = ["https://github.com/bazelbuild/bazel-skylib/releases/download/0.8.0/bazel-skylib.0.8.0.tar.gz"],
-)  # https://github.com/bazelbuild/bazel-skylib/releases
-http_archive(
-    name = "com_github_apple_swift_swift_protobuf",
-    type = "zip",
-    strip_prefix = "swift-protobuf-1.5.0/",
-    urls = ["https://github.com/apple/swift-protobuf/archive/1.5.0.zip"],
-)  # https://github.com/apple/swift-protobuf/releases
-http_file(
-    name = "xctestrunner",
-    executable = 1,
-    urls = ["https://github.com/google/xctestrunner/releases/download/0.2.7/ios_test_runner.par"],
-)  # https://github.com/google/xctestrunner/releases
-# Use `swift_rules_dependencies` to fetch the toolchains. With the
-# `git_repository` rules above, the following call will skip redefining them.
-load("@build_bazel_rules_swift//swift:repositories.bzl", "swift_rules_dependencies")
-swift_rules_dependencies()
 
 # We must check the bazel version before trying to parse any other BUILD
 # files, in case the parsing of those build files depends on the bazel
diff --git a/third_party/toolchains/preconfig/generate/workspace.bzl b/third_party/toolchains/preconfig/generate/workspace.bzl
deleted file mode 100644
index fb8a3034db..0000000000
--- a/third_party/toolchains/preconfig/generate/workspace.bzl
+++ /dev/null
@@ -1,70 +0,0 @@
-load(
-    "@io_bazel_rules_docker//repositories:repositories.bzl",
-    container_repositories = "repositories",
-)
-load(
-    "@io_bazel_rules_docker//container:container.bzl",
-    "container_pull",
-)
-load(":containers.bzl", "container_digests")
-
-def _remote_config_workspace():
-    container_repositories()
-
-    container_pull(
-        name = "centos6",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-centos6",
-        digest = container_digests["centos6"],
-    )
-
-    container_pull(
-        name = "ubuntu16.04",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-ubuntu16.04",
-        digest = container_digests["ubuntu16.04"],
-    )
-
-    container_pull(
-        name = "cuda10.0-cudnn7-ubuntu14.04",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.0-cudnn7-ubuntu14.04",
-        digest = container_digests["cuda10.0-cudnn7-ubuntu14.04"],
-    )
-
-    container_pull(
-        name = "cuda10.0-cudnn7-centos6",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.0-cudnn7-centos6",
-        digest = container_digests["cuda10.0-cudnn7-centos6"],
-    )
-
-    container_pull(
-        name = "cuda10.1-cudnn7-centos6",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.1-cudnn7-centos6",
-        digest = container_digests["cuda10.1-cudnn7-centos6"],
-    )
-
-    container_pull(
-        name = "ubuntu16.04-manylinux2010",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-ubuntu16.04-manylinux2010",
-        digest = container_digests["ubuntu16.04-manylinux2010"],
-    )
-
-    container_pull(
-        name = "cuda10.0-cudnn7-ubuntu16.04-manylinux2010",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.0-cudnn7-ubuntu16.04-manylinux2010",
-        digest = container_digests["cuda10.0-cudnn7-ubuntu16.04-manylinux2010"],
-    )
-
-    container_pull(
-        name = "rocm-ubuntu16.04",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-rocm-ubuntu16.04",
-        digest = container_digests["rocm-ubuntu16.04"],
-    )
-
-remote_config_workspace = _remote_config_workspace
-- 
2.25.0

