-------------------------------------------------------------------
Mon Feb  3 16:38:45 UTC 2020 - Dominique Leuenberger <dimstar@opensuse.org>

- BuildRequire pkgconfig(systemd) instead of systemd: allow OBS to
  shortcut through the -mini flavors.

-------------------------------------------------------------------
Mon Aug 19 15:32:55 UTC 2019 - Lee Duncan <lduncan@suse.com>

- Added the following upstream patches:
  * targetcli-fb-fix-raise-exception-error-in-save_backups
  * iscsi-discovery_auth-enable-is-a-number-not-a-string (bsc#1145685)
  * saveconfig-compress-the-backup-config-files
  * do-not-remove-the-first-digit-when-auto-completing-the-tpg-tag

-------------------------------------------------------------------
Wed Apr  3 03:14:10 UTC 2019 - ddiss@suse.com

- support emulate_pr attribute changes (bsc#1121998)
  + Add-emulate_pr-backstore-attribute.patch

-------------------------------------------------------------------
Thu Feb  7 17:26:52 UTC 2019 - lduncan@suse.com

- Ensure this package and the deprecated lio-utils package
  do not run at the same time, in a sane way (bsc#1123423),
  updating the source file targetcli-fb.service. Also, updated
  the SPEC file with new year, updated URL, and http->https.

-------------------------------------------------------------------
Fri Dec  7 09:40:19 UTC 2018 - ddiss@suse.com

- Enable RBD support for SLE/Leap 15+ (bsc#1118516)

-------------------------------------------------------------------
Thu Oct 18 19:50:11 UTC 2018 - opensuse-packaging@opensuse.org

- Update to version 2.1.49:
  * version 2.1.fb49
  * targetcli-fb: Add support for media change
  * fix the parameter of define_config_group_param
  * saveconfig: handle backups with block-level delete
  * saveconfig: way for block-level save with delete command
  * create: add a way to set control string
  * fix amount of backup files in backup dir
  * config: add saveconfig command to StorageObject level
  * Allow to customize a home directory
  * Fix default max_backup_files in ui_command_saveconfig
  * MappedLuns and Luns max number is not the same anymore
  * Use signed char instead of char
  * version 2.1.fb48
  * remove wrong exit code from targetcli --version
  * backup: global option to tune max no. of backup conf files
  * config: rename key 'kept_backups' as 'max_backup_files'
  * config: backup when current config is different from recent backup copy
  * config: defend on '/etc/target/backup' directory
  * Auto-detect readonly state for iblock devices
  * Read number of backup files to keep from file
  * skip refreshing user backed storage object when it is null
  * Replace dbus-python with GObject Introspection
 This replaces targetcli-fb-2.1.47.tar.xz with targetcli-fb-2.1.49.tar.xz,
 and removes the following patches:
 * Auto-detect-readonly-state-for-iblock-devices.patch
 * Use-signed-char-instead-of-char.patch
 * targetcli-only-save-old-config-if-present.patch
 and updates the SPEC file.

-------------------------------------------------------------------
Fri Apr 20 19:13:39 UTC 2018 - lduncan@suse.com

- Only save current config to backup if current
  config exists (bsc#1090424), adding patch:
  * targetcli-only-save-old-config-if-present.patch

-------------------------------------------------------------------
Wed Apr 11 00:00:54 UTC 2018 - ddiss@suse.com

- Merge RBD support from non-fb version (bsc#1079329)
  + Split-out-blockdev-readonly-state-detection-helper.patch
  + rbd-support.patch (SLE/Leap only, due to LIO kernel dependency)
  + Add explicit Provides for "python-rtslib-rbd"
- Detect write-protected block devices (bsc#1070815)
  + Auto-detect-readonly-state-for-iblock-devices.patch
  + Use-signed-char-instead-of-char.patch

-------------------------------------------------------------------
Tue Apr 10 13:32:56 UTC 2018 - ddiss@suse.com

- Automatically generate version string from upstream tag
  + Retain current fb-removed version format used
  + Rename targetcli-fb-2.1.fb47.tar.xz to targetcli-fb-2.1.47.tar.xzar.xz
    and cleanup hardcoded duplicate name/version values in spec

-------------------------------------------------------------------
Sun Feb 25 08:09:45 UTC 2018 - olaf@aepfle.de

- Fix upgrade path by provide/obsolete targetcli/targetcli-fb (bsc#1082693)

-------------------------------------------------------------------
Mon Feb  5 10:44:30 UTC 2018 - olaf@aepfle.de

- Fix upgrade path by provide/obsolete version-release

-------------------------------------------------------------------
Mon Jan 15 02:32:27 UTC 2018 - lduncan@suse.com

- Removed duplicate BuildRequires line, and add Conflicts for
  sub-package

-------------------------------------------------------------------
Thu Jan  4 22:14:36 UTC 2018 - lduncan@suse.com

- Added dependency on dbus package to SPEC file (bsc#1073913)

-------------------------------------------------------------------
Thu Jan  4 21:54:00 UTC 2018 - lduncan@suse.com

- Converted RPM SPEC file to singlepsec format (bsc#1045332),
  updating SPEC file only. This breaks this package into two
  packages. The new base package is called targetcli-fb-common,
  and does not depend on the python version. The other package
  is python-version dependent, and is called either
  python2-targetcli-fb or python3-targetcli-fb, dpending on
  which version of Python you wish to use.

-------------------------------------------------------------------
Fri Dec 15 22:03:58 UTC 2017 - lduncan@suse.com

- Ran "spec-cleaner" over the SPEC file, to clean it up, before
  support for Python3 is added.

-------------------------------------------------------------------
Fri Dec 15 21:43:06 UTC 2017 - lduncan@suse.com

- Moved targetcli-fb-2.1.fb47.tar.gz to targetcli-fb-2.1.fb47.tar.xz,
  after appropriate decompression/compression, to match SPEC and
  _service file. Updated _servicedata to match.

-------------------------------------------------------------------
Thu Aug 17 09:34:08 UTC 2017 - lszhu@suse.com

- Update to version 2.1.fb47
  *Improving ALUA and TCMU support, as well as moving the default
   directory for APTPL files from /var/target to /etc/target, 
   for better FHS compliance. 

-------------------------------------------------------------------
Thu Apr 13 07:40:01 UTC 2017 - hare@suse.com

- Update to version 2.1.fb46 (bsc#1032833):
  * version 2.1.fb44
  * Remove build scripts for RPM and Debian packages
  * Add Gentoo to the list of distributions that ship targetcli-fb
  * Add support to create/delete ALUA groups on a storage object
  * Add support to set/get a LUN's ALUA group
  * version 2.1.fb45
  * Create ALUA dir and def group in UI with storage object
  * Clear backstore cache on refresh
  * version 2.1.fb46

-------------------------------------------------------------------
Sun Oct 30 23:51:52 UTC 2016 - jengelh@inai.de

- Trim macro indirections and empty macros

-------------------------------------------------------------------
Mon Jul 25 22:28:04 UTC 2016 - lduncan@suse.com

-  updated spec file: removed Provides/Obsoletes of
   targetcli and python-targetcli, and added
   Conflicts with targetcli (bsc#986475)

-------------------------------------------------------------------
Tue Apr 19 22:03:07 UTC 2016 - lduncan@suse.com

- Creating from latest upstream version 2.1.fb43

-------------------------------------------------------------------
