From 3a8d6f13328bae398fe61b2f58b27ae1eb4b68dc Mon Sep 17 00:00:00 2001
From: Christian Goll <cgoll@suse.de>
Date: Wed, 15 Jan 2020 14:09:40 +0100
Subject: [PATCH 1/2] removed docker tools

---
 WORKSPACE                                     | 55 -------------
 .../preconfig/generate/workspace.bzl          | 77 -------------------
 2 files changed, 132 deletions(-)
 delete mode 100644 third_party/toolchains/preconfig/generate/workspace.bzl

diff --git a/WORKSPACE b/WORKSPACE
index babb14b509..d5a9e1ba68 100644
--- a/WORKSPACE
+++ b/WORKSPACE
@@ -29,61 +29,6 @@ load("//third_party/toolchains/preconfig/generate:archives.bzl",
 
 bazel_toolchains_archive()
 
-load(
-    "@bazel_toolchains//repositories:repositories.bzl",
-    bazel_toolchains_repositories = "repositories",
-)
-
-bazel_toolchains_repositories()
-
-load(
-    "@io_bazel_rules_docker//repositories:repositories.bzl",
-    container_repositories = "repositories",
-)
-
-container_repositories()
-
-load("//third_party/toolchains/preconfig/generate:workspace.bzl",
-     "remote_config_workspace")
-
-remote_config_workspace()
-
-# Apple and Swift rules.
-http_archive(
-    name = "build_bazel_rules_apple",
-    sha256 = "a045a436b642c70fb0c10ca84ff0fd2dcbd59cc89100d597a61e8374afafb366",
-    urls = ["https://github.com/bazelbuild/rules_apple/releases/download/0.18.0/rules_apple.0.18.0.tar.gz"],
-)  # https://github.com/bazelbuild/rules_apple/releases
-http_archive(
-    name = "build_bazel_rules_swift",
-    sha256 = "18cd4df4e410b0439a4935f9ca035bd979993d42372ba79e7f2d4fafe9596ef0",
-    urls = ["https://github.com/bazelbuild/rules_swift/releases/download/0.12.1/rules_swift.0.12.1.tar.gz"],
-)  # https://github.com/bazelbuild/rules_swift/releases
-http_archive(
-    name = "build_bazel_apple_support",
-    sha256 = "122ebf7fe7d1c8e938af6aeaee0efe788a3a2449ece5a8d6a428cb18d6f88033",
-    urls = ["https://github.com/bazelbuild/apple_support/releases/download/0.7.1/apple_support.0.7.1.tar.gz"],
-)  # https://github.com/bazelbuild/apple_support/releases
-http_archive(
-    name = "bazel_skylib",
-    sha256 = "1dde365491125a3db70731e25658dfdd3bc5dbdfd11b840b3e987ecf043c7ca0",
-    urls = ["https://github.com/bazelbuild/bazel-skylib/releases/download/0.9.0/bazel-skylib.0.9.0.tar.gz"],
-)  # https://github.com/bazelbuild/bazel-skylib/releases
-http_archive(
-    name = "com_github_apple_swift_swift_protobuf",
-    type = "zip",
-    strip_prefix = "swift-protobuf-1.6.0/",
-    urls = ["https://github.com/apple/swift-protobuf/archive/1.6.0.zip"],
-)  # https://github.com/apple/swift-protobuf/releases
-http_file(
-    name = "xctestrunner",
-    executable = 1,
-    urls = ["https://github.com/google/xctestrunner/releases/download/0.2.9/ios_test_runner.par"],
-)  # https://github.com/google/xctestrunner/releases
-# Use `swift_rules_dependencies` to fetch the toolchains. With the
-# `git_repository` rules above, the following call will skip redefining them.
-load("@build_bazel_rules_swift//swift:repositories.bzl", "swift_rules_dependencies")
-swift_rules_dependencies()
 
 # We must check the bazel version before trying to parse any other BUILD
 # files, in case the parsing of those build files depends on the bazel
diff --git a/third_party/toolchains/preconfig/generate/workspace.bzl b/third_party/toolchains/preconfig/generate/workspace.bzl
deleted file mode 100644
index 81b57dfa8a..0000000000
--- a/third_party/toolchains/preconfig/generate/workspace.bzl
+++ /dev/null
@@ -1,77 +0,0 @@
-load(
-    "@io_bazel_rules_docker//repositories:repositories.bzl",
-    container_repositories = "repositories",
-)
-load(
-    "@io_bazel_rules_docker//container:container.bzl",
-    "container_pull",
-)
-load(":containers.bzl", "container_digests")
-
-def _remote_config_workspace():
-    container_repositories()
-
-    container_pull(
-        name = "centos6",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-centos6",
-        digest = container_digests["centos6"],
-    )
-
-    container_pull(
-        name = "ubuntu16.04",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-ubuntu16.04",
-        digest = container_digests["ubuntu16.04"],
-    )
-
-    container_pull(
-        name = "cuda10.0-cudnn7-ubuntu14.04",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.0-cudnn7-ubuntu14.04",
-        digest = container_digests["cuda10.0-cudnn7-ubuntu14.04"],
-    )
-
-    container_pull(
-        name = "cuda10.0-cudnn7-centos6",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.0-cudnn7-centos6",
-        digest = container_digests["cuda10.0-cudnn7-centos6"],
-    )
-
-    container_pull(
-        name = "cuda10.1-cudnn7-centos6",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.1-cudnn7-centos6",
-        digest = container_digests["cuda10.1-cudnn7-centos6"],
-    )
-
-    container_pull(
-        name = "ubuntu16.04-manylinux2010",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-ubuntu16.04-manylinux2010",
-        digest = container_digests["ubuntu16.04-manylinux2010"],
-    )
-
-    container_pull(
-        name = "cuda10.0-cudnn7-ubuntu16.04-manylinux2010",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.0-cudnn7-ubuntu16.04-manylinux2010",
-        digest = container_digests["cuda10.0-cudnn7-ubuntu16.04-manylinux2010"],
-    )
-
-    container_pull(
-        name = "cuda10.1-cudnn7-ubuntu16.04-manylinux2010",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-cuda10.1-cudnn7-ubuntu16.04-manylinux2010",
-        digest = container_digests["cuda10.1-cudnn7-ubuntu16.04-manylinux2010"],
-    )
-
-    container_pull(
-        name = "rocm-ubuntu16.04",
-        registry = "gcr.io",
-        repository = "tensorflow-testing/nosla-rocm-ubuntu16.04",
-        digest = container_digests["rocm-ubuntu16.04"],
-    )
-
-remote_config_workspace = _remote_config_workspace
-- 
2.24.1

