commit d218a9c263190681aa8ee7f0ec5f3c298339d635
Author: Jim Fehlig <jfehlig@suse.com>
Date:   Mon May 4 14:51:32 2020 -0600

    libxl: Use the name 'Xen' in driver tables
    
    The libxl driver declares its name as 'Xen' through the public
    virConnectGetType() API. In the virHypervisorDriver table the name is
    set to 'xenlight'. To add more confusion, the name is set to 'LIBXL'
    in the virStateDriver. For consistency, use the same name in the driver
    tables as reported in the public virConnectGetType() API.
    
    Signed-off-by: Jim Fehlig <jfehlig@suse.com>
    Reviewed-by: Daniel P. Berrang√© <berrange@redhat.com>

Index: libvirt-6.3.0/src/libxl/libxl_conf.h
===================================================================
--- libvirt-6.3.0.orig/src/libxl/libxl_conf.h
+++ libvirt-6.3.0/src/libxl/libxl_conf.h
@@ -38,6 +38,7 @@
 #include "libxl_capabilities.h"
 #include "libxl_logger.h"
 
+#define LIBXL_DRIVER_EXTERNAL_NAME "Xen"
 #define LIBXL_DRIVER_NAME "xenlight"
 #define LIBXL_VNC_PORT_MIN  5900
 #define LIBXL_VNC_PORT_MAX  65535
Index: libvirt-6.3.0/src/libxl/libxl_driver.c
===================================================================
--- libvirt-6.3.0.orig/src/libxl/libxl_driver.c
+++ libvirt-6.3.0/src/libxl/libxl_driver.c
@@ -911,7 +911,7 @@ libxlConnectGetType(virConnectPtr conn)
     if (virConnectGetTypeEnsureACL(conn) < 0)
         return NULL;
 
-    return "Xen";
+    return LIBXL_DRIVER_EXTERNAL_NAME;
 }
 
 static int
@@ -6608,7 +6608,7 @@ libxlDomainGetMetadata(virDomainPtr dom,
 }
 
 static virHypervisorDriver libxlHypervisorDriver = {
-    .name = LIBXL_DRIVER_NAME,
+    .name = LIBXL_DRIVER_EXTERNAL_NAME,
     .connectURIProbe = libxlConnectURIProbe,
     .connectOpen = libxlConnectOpen, /* 0.9.0 */
     .connectClose = libxlConnectClose, /* 0.9.0 */
@@ -6732,7 +6732,7 @@ static virConnectDriver libxlConnectDriv
 };
 
 static virStateDriver libxlStateDriver = {
-    .name = "LIBXL",
+    .name = LIBXL_DRIVER_EXTERNAL_NAME,
     .stateInitialize = libxlStateInitialize,
     .stateCleanup = libxlStateCleanup,
     .stateReload = libxlStateReload,
