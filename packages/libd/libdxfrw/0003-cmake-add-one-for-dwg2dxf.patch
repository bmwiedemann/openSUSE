From 218173d4273eff2cb9ae00bfc54ded99f760fbad Mon Sep 17 00:00:00 2001
From: Jiri Slaby <jslaby@suse.cz>
Date: Mon, 20 May 2019 07:55:32 +0200
Subject: [PATCH 3/4] cmake: add one for dwg2dxf

---
 CMakeLists.txt         | 2 ++
 dwg2dxf/CMakeLists.txt | 8 ++++++++
 2 files changed, 10 insertions(+)
 create mode 100644 dwg2dxf/CMakeLists.txt

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 4ff736d..83468a5 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -81,6 +81,8 @@ endforeach()
 add_library(dxfrw SHARED ${libdxfrw_srcs} ${libdxfrw_hdrs})
 set_target_properties(dxfrw PROPERTIES VERSION "${PROJECT_VERSION}" SOVERSION "${PROJECT_VERSION_MAJOR}")
 
+add_subdirectory(dwg2dxf)
+
 # INSTALLATION
 install(TARGETS dxfrw DESTINATION "${CMAKE_INSTALL_LIBDIR}")
 set(HDRSUBDIR "/libdxfrw${PROJECT_VERSION_MAJOR}/")
diff --git a/dwg2dxf/CMakeLists.txt b/dwg2dxf/CMakeLists.txt
new file mode 100644
index 0000000..fdf025f
--- /dev/null
+++ b/dwg2dxf/CMakeLists.txt
@@ -0,0 +1,8 @@
+add_definitions(-Wall)
+include_directories(../src)
+
+add_executable(dwg2dxf dx_iface.cpp main.cpp dx_iface.h dx_data.h)
+target_link_libraries(dwg2dxf dxfrw)
+
+install(TARGETS dwg2dxf DESTINATION "${CMAKE_INSTALL_BINDIR}")
+install(FILES dwg2dxf.1 DESTINATION "${CMAKE_INSTALL_MANDIR}/man1")
-- 
2.21.0

