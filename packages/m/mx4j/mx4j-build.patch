Index: mx4j-3.0.2/build/build.xml
===================================================================
--- mx4j-3.0.2.orig/build/build.xml	2006-10-13 01:12:17.000000000 +0200
+++ mx4j-3.0.2/build/build.xml	2009-11-19 12:03:34.714057869 +0100
@@ -55,6 +55,9 @@
    <property name="rjmx.jar.file" value="${dist.lib.dir}/${name}-rjmx.jar"/>
    <property name="rimpl.jar.file" value="${dist.lib.dir}/${name}-rimpl.jar"/>
    <property name="rmx4j.jar.file" value="${dist.lib.dir}/${name}-remote.jar"/>
+   <property name="rjmx-boa.jar.file" value="${dist.lib.dir}/boa/${name}-rjmx-boa.jar"/>
+   <property name="rimpl-boa.jar.file" value="${dist.lib.dir}/boa/${name}-rimpl-boa.jar"/>
+   <property name="rmx4j-boa.jar.file" value="${dist.lib.dir}/boa/${name}-remote-boa.jar"/>
 
    <property name="tools.jar.file" value="${dist.lib.dir}/${name}-tools.jar"/>
 
@@ -224,6 +227,7 @@
    <target name="compile.jmx" description="Compiles the JMX (JSR 3) classes" depends="flags">
       <mkdir dir="${core.classes.dir}"/>
       <mkdir dir="${dist.lib.dir}"/>
+      <mkdir dir="${dist.lib.dir}/boa"/>
 
       <javac srcdir="${core.src.dir}" destdir="${core.classes.dir}" debug="on" deprecation="on" encoding="US-ASCII" target="1.3" source="1.3">
          <patternset refid="mx4j.classes"/>
@@ -261,6 +265,25 @@
       </javac>
       <rmic base="${core.classes.dir}" classname="javax.management.remote.rmi.RMIServerImpl" classpathref="classpath" debug="yes" stubversion="1.2"/>
       <rmic base="${core.classes.dir}" classname="javax.management.remote.rmi.RMIConnectionImpl" classpathref="classpath" debug="yes" stubversion="1.2"/>
+
+      <jar jarfile="${rjmx-boa.jar.file}" manifest="${etc.dir}/MANIFEST.MF">
+         <fileset dir="${core.classes.dir}">
+            <patternset refid="rjmx.classes"/>
+         </fileset>
+      </jar>
+
+      <jar jarfile="${rimpl-boa.jar.file}" manifest="${etc.dir}/MANIFEST.MF">
+         <fileset dir="${core.classes.dir}">
+            <patternset refid="rimpl.classes"/>
+         </fileset>
+      </jar>
+
+      <jar jarfile="${rmx4j-boa.jar.file}" manifest="${etc.dir}/MANIFEST.MF">
+         <fileset dir="${core.classes.dir}">
+            <patternset refid="rmx4j.classes"/>
+         </fileset>
+      </jar>
+
       <antcall target="rmic.iiop"/>
 
       <jar jarfile="${rjmx.jar.file}" manifest="${etc.dir}/MANIFEST.MF">
@@ -413,8 +436,7 @@
          author="true"
          version="true"
          use="true"
-         windowtitle="MX4J API"
-         classpathref="classpath">
+         windowtitle="MX4J API">
          <package name="mx4j.*"/>
 
          <bottom><![CDATA[<center><small>Copyright &#169; 2001-2005 The MX4J Contributors. All Rights Reserved.</small></center>]]></bottom>
@@ -427,8 +449,6 @@
    </target>
 
    <target name="docs" description="Builds the MX4J documentation">
-      <unzip src="${docbook.dtd.zip.file}" dest="${docs.src.dir}/docbook"/>
-      <unzip src="${docbook.xsl.zip.file}" dest="${docs.src.dir}/docbookx"/>
       <mkdir dir="${dist.docs.dir}"/>
 
       <style processor="trax"
@@ -440,8 +460,6 @@
          classpathref="lib.classpath"
          />
 
-      <delete dir="${docs.src.dir}/docbook" quiet="true"/>
-      <delete dir="${docs.src.dir}/docbookx" quiet="true"/>
 
       <!-- Bug in Ant forces this move, since destdir of the style task does not work -->
       <move todir="${dist.docs.dir}">
