-------------------------------------------------------------------
Thu Aug 20 08:58:05 UTC 2020 - Martin Liška <mliska@suse.cz>

- Use memoryperjob constraint instead of %limit_build macro.

-------------------------------------------------------------------
Wed Mar 25 12:12:21 UTC 2020 - Tomáš Chvátal <tchvatal@suse.com>

- Fix building with just python2 interpreter available.

-------------------------------------------------------------------
Mon Dec 30 13:44:54 UTC 2019 - Frederic Crozat <fcrozat@suse.com>

- Add skip-i586-failing-tests.patch: disable tests on i586 which
  require SSE / i686 (boo#1159775).

-------------------------------------------------------------------
Thu Dec 19 09:16:19 UTC 2019 - Frederic Crozat <fcrozat@suse.com>

- SLE 15 SP2 will ship with ICU 65, apply patches accordingly
  (jsc#SLE-11118).

-------------------------------------------------------------------
Fri Dec 13 12:56:05 UTC 2019 - Frederic Crozat <fcrozat@suse.com>

- Remove Update-to-ICU-64-Part-3-Update-tests.patch, SLE is back to
  ICU 60.x.

-------------------------------------------------------------------
Tue Dec 10 09:28:06 UTC 2019 - Frederic Crozat <fcrozat@suse.com>

- Add Don-t-run-non262-extensions-clone-errors.js-on-s390x.patch,
  based on Debian patch, to enable back tests on s390x (and ppc64).
- Add tests-Expect-a-test-to-fail-on-big-endian.patch, based on
  Debian patch, accept a test failure on big-endian like s390x.
- enable back tests on s390x and i586
- Remove build workaround on ppc64le.
- Reorder/change build flags to follow Debian and Fedora.
- Enable back tests on all platforms (except JIT on s390).
- Ensure we don't build bundled security libs.
- Don't ship a icu bundle for big-endian, recreate it instead, with
  patches icu_sources_data-Write-command-output-to-our-stderr.patch
  and icu_sources_data.py-Decouple-from-Mozilla-build-system.patch.
- Update patch enddianness.patch with more fixes from
  bmo#1590907 to fix strings usage on s390x (bsc#1158355).
- Add Skip-some-i18n-tests-because-we-are-now-using-system-ICU.patch
  Update-to-ICU-61-Part-3-Update-tests.patch,
  Update-to-ICU-64-Part-3-Update-tests.patch,
  Update-to-ICU-65-Part-3-Update-tests.patch to allow building
  with system icu
- Add flag to switch between system icu and embedded icu and
  enable system icu.

-------------------------------------------------------------------
Fri Oct  4 21:26:08 UTC 2019 - Michael Gorse <mgorse@suse.com>

- Update to version 60.9.0
- rebased riscv-support.patch
- Remove source modifications that made some private functions
  public. Probably not needed anymore, and was introducing a
  build error
- Regenerate icudt60b.dat.xz
- Added some upstream bug fixes included in Debian and Fedora:
  Always-use-the-equivalent-year-to-determine-the-time-zone.patch
  emitter.patch
  emitter_test.patch
  init_patch.patch
  enddianness.patch
  jsproperty-endian.patch
  Save-x28-before-clobbering-it-in-the-regex-compiler.patch
  Save-and-restore-non-volatile-x28-on-ARM64-for-generated-unboxed-object-constructor.patch

-------------------------------------------------------------------
Thu Jun 20 09:20:58 UTC 2019 - Dominique Leuenberger <dimstar@opensuse.org>

- Drop python-wheel BuildRequires: causes a build cycle, and is not
  needed.

-------------------------------------------------------------------
Wed May 29 08:48:14 UTC 2019 - Bjørn Lie <bjorn.lie@gmail.com>

- No longer pass --enable-debug to configure. It is not needed for
  our endusers, and will only slow down the engine. Nor have we
  built it with debug in the past.

-------------------------------------------------------------------
Mon Feb 11 13:38:20 UTC 2019 - schwab@suse.de

- riscv-support.patch: fix last change

-------------------------------------------------------------------
Sun Feb  3 13:05:49 UTC 2019 - wr@rosenauer.org

- update to ESR codebase (60.4.0)
- rebased riscv-support.patch

-------------------------------------------------------------------
Sat Feb  2 13:17:21 UTC 2019 - schwab@suse.de

- mozjs60-mozilla-s390-bigendian.patch: rediff and apply on more big
  endian archs
- mozjs60-xulrunner-24.0-s390-inlines.patch: remove
- Replace icudt58b.dat.xz by icudt60b.dat.xz
- riscv-support.patch: add basic support for riscv64

-------------------------------------------------------------------
Wed Oct 24 10:47:56 UTC 2018 - bjorn.lie@gmail.com

- Update to version 60.2.2:
  * Bug fix release.
- Drop mozjs60-fix-memory-leak-in-LCovCompartment-esr60.patch and
  mozjs60-prevent-an-internal-gcc-8_0_1-error.patch: Fixed upstream

-------------------------------------------------------------------
Thu Sep 13 07:54:40 UTC 2018 - guillaume.gardet@opensuse.org

- Use memory-constraints to avoid OOM errors

-------------------------------------------------------------------
Wed Aug  1 23:47:35 UTC 2018 - luc14n0@linuxmail.org

- Initial package (based on mozjs52), version 60.1.0:
  * New syntax:
    - `for await (... of ...)` syntax is used for async iteration;
    - The rest operator is now supported in object destructuring:
      e.g. `({a, b, ...cd} = {a: 1, b: 2, c: 3, d: 4});`;
    - The spread operator is now supported in object literals: e.g.
      `mergedObject = {...obj1, ...obj2};`;
    - Generator methods can now be async, using the `async
      function*` syntax, or `async* f() {...}` method shorthand;
    - It's now allowed to omit the variable binding from a catch
      statement, if you don't need to access the thrown exception:
      `try {...} catch {}`.
  * New APIs:
    - Promise.prototype.finally(), popular in many third-party
      Promise libraries, is now available natively;
    - String.prototype.toLocaleLowerCase() and
      String.prototype.toLocaleUpperCase() now take an optional
      locale or array of locales;
    - Intl.PluralRules is now available;
    - Intl.NumberFormat.protoype.formatToParts() is now available;
    - Intl.Collator now has a caseFirst option;
    - Intl.DateTimeFormat now has an hourCycle option.
  * New behaviour: There are a lot of minor behaviour changes as
    SpiderMonkey's JS implementation conforms ever closer to
    ECMAScript standards.
  * Backwards-incompatible changes:
    - Conditional catch clauses have been removed, as they were a
      Mozilla extension which will not be standardized;
    - The nonstandard `for each (... in ...)` loop was removed;
    - The nonstandard legacy lambda syntax (`function(x) x*x`) was
      removed;
    - The nonstandard Mozilla iteration protocol was removed, as
      well as nonstandard Mozilla generators, including the
      Iterator and StopIteration objects, and the
      Function.prototype.isGenerator() method.
    - Array comprehensions and generator comprehensions have been
      removed.
    - Several nonstandard methods were removed: ArrayBuffer.slice()
      (but not the standard version, ArrayBuffer.prototype.\
      slice()), Date.prototype.toLocaleFormat(), Function.\
      prototype.isGenerator(), Object.prototype.watch(), and
      Object.prototype.unwatch().
- Drop bmo1176787.patch inherited from mozjs52: fixed upstream.
- Add patches:
  mozjs60-fix-memory-leak-in-LCovCompartment-esr60.patch
  (bmo#1478679) and
  mozjs60-prevent-an-internal-gcc-8_0_1-error.patch
  (bmo#1458382).

