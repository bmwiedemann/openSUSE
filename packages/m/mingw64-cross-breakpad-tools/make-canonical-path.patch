--- a/src/common/module.cc	2017-07-18 07:47:53.465528820 +0000
+++ b/src/common/module.cc	2017-07-18 07:53:24.332540684 +0000
@@ -37,6 +37,8 @@
 #include <errno.h>
 #include <stdio.h>
 #include <string.h>
+#include <limits.h>
+#include <stdlib.h>
 
 #include <iostream>
 #include <utility>
@@ -218,6 +220,10 @@
          file_it != files_.end(); ++file_it) {
       File *file = file_it->second;
       if (file->source_id >= 0) {
+        char tmp[PATH_MAX+1];
+        if (realpath(file->name.c_str(), tmp) != 0)
+            stream << "FILE " << file->source_id << " " << tmp << endl;
+        else
         stream << "FILE " << file->source_id << " " <<  file->name << endl;
         if (!stream.good())
           return ReportError();
