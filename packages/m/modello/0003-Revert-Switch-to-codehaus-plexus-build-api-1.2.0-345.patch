From 5dd8c6daa70e8f22fa12b026e4474d8bf4e2c4d9 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Fridrich=20=C5=A0trba?= <fridrich.strba@bluewin.ch>
Date: Tue, 9 Apr 2024 14:37:06 +0200
Subject: [PATCH 3/3] Revert "Switch to codehaus plexus-build-api 1.2.0 (#345)"

This reverts commit c689155598257f225963b9332f57fe72dfd78753.
---
 modello-core/pom.xml                                          | 3 +--
 .../org/codehaus/modello/plugin/AbstractModelloGenerator.java | 2 +-
 modello-maven-plugin/pom.xml                                  | 2 +-
 .../codehaus/modello/maven/AbstractModelloGeneratorMojo.java  | 2 +-
 .../org/codehaus/modello/maven/ModelloConvertersMojoTest.java | 2 +-
 .../java/org/codehaus/modello/maven/ModelloJavaMojoTest.java  | 2 +-
 modello-plugins/modello-plugin-java/pom.xml                   | 2 +-
 pom.xml                                                       | 4 ++--
 8 files changed, 9 insertions(+), 10 deletions(-)

diff --git a/modello-core/pom.xml b/modello-core/pom.xml
index 1b0f2258..51970394 100644
--- a/modello-core/pom.xml
+++ b/modello-core/pom.xml
@@ -13,7 +13,7 @@
 
   <dependencies>
     <dependency>
-      <groupId>org.codehaus.plexus</groupId>
+      <groupId>org.sonatype.plexus</groupId>
       <artifactId>plexus-build-api</artifactId>
     </dependency>
     <dependency>
@@ -25,7 +25,6 @@
       <groupId>org.sonatype.sisu</groupId>
       <artifactId>sisu-guice</artifactId>
       <classifier>no_aop</classifier>
-      <scope>runtime</scope>
     </dependency>
     <dependency>
       <groupId>org.codehaus.plexus</groupId>
diff --git a/modello-core/src/main/java/org/codehaus/modello/plugin/AbstractModelloGenerator.java b/modello-core/src/main/java/org/codehaus/modello/plugin/AbstractModelloGenerator.java
index a297210d..ffa6ae27 100644
--- a/modello-core/src/main/java/org/codehaus/modello/plugin/AbstractModelloGenerator.java
+++ b/modello-core/src/main/java/org/codehaus/modello/plugin/AbstractModelloGenerator.java
@@ -43,11 +43,11 @@ import org.codehaus.modello.model.ModelClass;
 import org.codehaus.modello.model.ModelDefault;
 import org.codehaus.modello.model.ModelField;
 import org.codehaus.modello.model.Version;
-import org.codehaus.plexus.build.BuildContext;
 import org.codehaus.plexus.util.StringUtils;
 import org.codehaus.plexus.util.io.CachingWriter;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
+import org.sonatype.plexus.build.incremental.BuildContext;
 
 /**
  * @author <a href="mailto:jason@modello.org">Jason van Zyl</a>
diff --git a/modello-maven-plugin/pom.xml b/modello-maven-plugin/pom.xml
index 0a842b8f..8d0fb29a 100644
--- a/modello-maven-plugin/pom.xml
+++ b/modello-maven-plugin/pom.xml
@@ -116,7 +116,7 @@
       <artifactId>modello-plugin-velocity</artifactId>
     </dependency>
     <dependency>
-      <groupId>org.codehaus.plexus</groupId>
+      <groupId>org.sonatype.plexus</groupId>
       <artifactId>plexus-build-api</artifactId>
     </dependency>
     <dependency>
diff --git a/modello-maven-plugin/src/main/java/org/codehaus/modello/maven/AbstractModelloGeneratorMojo.java b/modello-maven-plugin/src/main/java/org/codehaus/modello/maven/AbstractModelloGeneratorMojo.java
index 762b5784..51b75a12 100644
--- a/modello-maven-plugin/src/main/java/org/codehaus/modello/maven/AbstractModelloGeneratorMojo.java
+++ b/modello-maven-plugin/src/main/java/org/codehaus/modello/maven/AbstractModelloGeneratorMojo.java
@@ -41,8 +41,8 @@ import org.codehaus.modello.ModelloParameterConstants;
 import org.codehaus.modello.core.ModelloCore;
 import org.codehaus.modello.model.Model;
 import org.codehaus.modello.model.ModelValidationException;
-import org.codehaus.plexus.build.BuildContext;
 import org.codehaus.plexus.util.StringUtils;
+import org.sonatype.plexus.build.incremental.BuildContext;
 
 /**
  * @author <a href="mailto:trygvis@inamo.no">Trygve Laugst&oslash;l</a>
diff --git a/modello-maven-plugin/src/test/java/org/codehaus/modello/maven/ModelloConvertersMojoTest.java b/modello-maven-plugin/src/test/java/org/codehaus/modello/maven/ModelloConvertersMojoTest.java
index 92adde1f..2e747a98 100644
--- a/modello-maven-plugin/src/test/java/org/codehaus/modello/maven/ModelloConvertersMojoTest.java
+++ b/modello-maven-plugin/src/test/java/org/codehaus/modello/maven/ModelloConvertersMojoTest.java
@@ -29,8 +29,8 @@ import org.apache.maven.project.MavenProject;
 import org.codehaus.modello.core.ModelloCore;
 import org.codehaus.plexus.ContainerConfiguration;
 import org.codehaus.plexus.PlexusTestCase;
-import org.codehaus.plexus.build.BuildContext;
 import org.codehaus.plexus.util.FileUtils;
+import org.sonatype.plexus.build.incremental.BuildContext;
 
 /**
  * @author <a href="mailto:brett@apache.org">Brett Porter</a>
diff --git a/modello-maven-plugin/src/test/java/org/codehaus/modello/maven/ModelloJavaMojoTest.java b/modello-maven-plugin/src/test/java/org/codehaus/modello/maven/ModelloJavaMojoTest.java
index ef234cac..64589165 100644
--- a/modello-maven-plugin/src/test/java/org/codehaus/modello/maven/ModelloJavaMojoTest.java
+++ b/modello-maven-plugin/src/test/java/org/codehaus/modello/maven/ModelloJavaMojoTest.java
@@ -29,8 +29,8 @@ import org.apache.maven.project.MavenProject;
 import org.codehaus.modello.core.ModelloCore;
 import org.codehaus.plexus.ContainerConfiguration;
 import org.codehaus.plexus.PlexusTestCase;
-import org.codehaus.plexus.build.BuildContext;
 import org.codehaus.plexus.util.FileUtils;
+import org.sonatype.plexus.build.incremental.BuildContext;
 
 /**
  * @author <a href="mailto:trygvis@inamo.no">Trygve Laugst&oslash;l</a>
diff --git a/modello-plugins/modello-plugin-java/pom.xml b/modello-plugins/modello-plugin-java/pom.xml
index 46f5f68b..d40b53cd 100644
--- a/modello-plugins/modello-plugin-java/pom.xml
+++ b/modello-plugins/modello-plugin-java/pom.xml
@@ -17,7 +17,7 @@
       <artifactId>plexus-utils</artifactId>
     </dependency>
     <dependency>
-      <groupId>org.codehaus.plexus</groupId>
+      <groupId>org.sonatype.plexus</groupId>
       <artifactId>plexus-build-api</artifactId>
     </dependency>
 
diff --git a/pom.xml b/pom.xml
index 4ae44cec..59af89cd 100644
--- a/pom.xml
+++ b/pom.xml
@@ -316,9 +316,9 @@
         <version>3.0.0</version>
       </dependency>
       <dependency>
-        <groupId>org.codehaus.plexus</groupId>
+        <groupId>org.sonatype.plexus</groupId>
         <artifactId>plexus-build-api</artifactId>
-        <version>1.2.0</version>
+        <version>0.0.7</version>
       </dependency>
       <dependency>
         <groupId>org.slf4j</groupId>
-- 
2.44.0

