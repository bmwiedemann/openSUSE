--- modello-2.0.0/modello-core/src/main/java/org/codehaus/modello/ModelloCli.java	2022-02-13 14:30:34.000000000 +0100
+++ modello-2.0.0/modello-core/src/main/java/org/codehaus/modello/ModelloCli.java	2022-05-10 09:08:57.893555360 +0200
@@ -114,6 +114,15 @@
 
             System.exit( 1 );
         }
+        if ( StringUtils.equalsIgnoreCase( javaSource, "true" ) || StringUtils.equalsIgnoreCase( javaSource, "false" ) )
+        {
+            // The old useJava5 parameter at this position
+            System.err.println( "Missing required parameter: Java Source (replacing the old \"Use Java5\" parameter)" );
+
+            usage();
+
+            System.exit( 1 );
+        }
 
         parameters.setProperty( ModelloParameterConstants.OUTPUT_JAVA_SOURCE, javaSource );
 
@@ -121,6 +130,11 @@
         {
             parameters.setProperty( ModelloParameterConstants.ENCODING, args[6] );
         }
+
+        if ( args.length > 7 )
+        {
+            parameters.setProperty( ModelloParameterConstants.DOM_AS_XPP3, args[7] );
+        }
     }
 
     // ----------------------------------------------------------------------
@@ -130,6 +144,6 @@
     private static void usage()
     {
         System.err.println( "Usage: modello <model> <outputType> <output directory> <modelVersion> <packageWithVersion>"
-                            + "<javaSource> [<encoding>]" );
+                            + " <javaSource> [<encoding> [<domAsXpp3>]]" );
     }
 }
