--- maven-javadoc-plugin-3.3.2/src/main/java/org/apache/maven/plugins/javadoc/StaleHelper.java	2022-02-07 20:52:42.000000000 +0100
+++ maven-javadoc-plugin-3.3.2/src/main/java/org/apache/maven/plugins/javadoc/StaleHelper.java	2022-03-14 07:46:55.466835949 +0100
@@ -43,6 +43,19 @@
 public class StaleHelper
 {
 
+    private static Charset getDataCharset()
+    {
+        if ( JavaVersion.JAVA_SPECIFICATION_VERSION.isAtLeast( "9" )
+            && JavaVersion.JAVA_SPECIFICATION_VERSION.isBefore( "12" ) )
+        {
+            return StandardCharsets.UTF_8;
+        }
+        else
+        {
+            return Charset.defaultCharset();
+        }
+    }
+
     /**
      * Compute the data used to detect a stale javadoc
      *
@@ -61,16 +74,7 @@
             String[] args = cmd.getArguments();
             Collections.addAll( options, args );
             
-            final Charset cs;
-            if ( JavaVersion.JAVA_SPECIFICATION_VERSION.isAtLeast( "9" )
-                && JavaVersion.JAVA_SPECIFICATION_VERSION.isBefore( "12" ) )
-            {
-                cs = StandardCharsets.UTF_8;
-            }
-            else
-            {
-                cs = Charset.defaultCharset();
-            }
+            final Charset cs = getDataCharset();
             
             for ( String arg : args )
             {
@@ -141,9 +145,11 @@
     {
         try
         {
+            final Charset cs = getDataCharset();
+            
             String curdata = getStaleData( cmd );
             Files.createDirectories( path.getParent() );
-            Files.write( path, Collections.singleton( curdata ), Charset.defaultCharset() );
+            Files.write( path, Collections.singleton( curdata ), cs);
         }
         catch ( IOException e )
         {
