Index: mutter-44.beta/src/x11/session.c
===================================================================
--- mutter-44.beta.orig/src/x11/session.c
+++ mutter-44.beta/src/x11/session.c
@@ -150,7 +150,8 @@ process_ice_messages (GIOChannel   *chan
        * being cleaned up, since it is owned by libSM.
        */
       disconnect ();
-      meta_context_terminate (ice_connection->context);
+      if (ice_connection->context != NULL)
+              meta_context_terminate (ice_connection->context);
 
       return FALSE;
     }
Index: mutter-44.beta/src/tests/meson.build
===================================================================
--- mutter-44.beta.orig/src/tests/meson.build
+++ mutter-44.beta/src/tests/meson.build
@@ -43,6 +43,7 @@ tests_deps = [
 ]
 
 libmutter_test = shared_library(libmutter_test_name,
+                                mutter_enum_types,
                                 mutter_test_sources,
                                 gnu_symbol_visibility: 'hidden',
                                 include_directories: tests_includes,
