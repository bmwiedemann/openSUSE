From 5e99f24ee7d4aa9ff5178f63a79a8a313c32e44d Mon Sep 17 00:00:00 2001
From: Mike Blumenkrantz <michael.blumenkrantz@gmail.com>
Date: Tue, 19 Mar 2024 08:37:47 -0400
Subject: [PATCH] glx: silence more implicit-load zink errors

---
 src/glx/drisw_glx.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

Index: mesa-24.0.5/src/glx/drisw_glx.c
===================================================================
--- mesa-24.0.5.orig/src/glx/drisw_glx.c
+++ mesa-24.0.5/src/glx/drisw_glx.c
@@ -980,7 +980,8 @@ driswCreateScreenDriver(int screen, stru
                                     extensions,
                                     &driver_configs, implicit, psc);
    if (psc->driScreen == NULL) {
-      ErrorMessageF("glx: failed to create drisw screen\n");
+      if (!pdpyp->zink || !implicit)
+         ErrorMessageF("glx: failed to create drisw screen\n");
       goto handle_error;
    }
 
