 src/glx/dri2_glx.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
Index: mesa-24.3.0-rc1/src/glx/dri2_glx.c
===================================================================
--- mesa-24.3.0-rc1.orig/src/glx/dri2_glx.c
+++ mesa-24.3.0-rc1/src/glx/dri2_glx.c
@@ -756,7 +756,7 @@ dri2GetGlxDrawableFromXDrawableId(Displa
    struct glx_display *d = __glXInitialize(dpy);
    __GLXDRIdrawable *pdraw;
 
-   if (__glxHashLookup(d->dri2Hash, id, (void *) &pdraw) == 0)
+   if (d && __glxHashLookup(d->dri2Hash, id, (void *) &pdraw) == 0)
       return pdraw;
 
    return NULL;
