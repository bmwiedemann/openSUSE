-------------------------------------------------------------------
Tue Apr 28 06:39:35 UTC 2020 - Dr. Werner Fink <werner@suse.de>

- Modify patch silent-common-mu_tcp_wrapper_daemon.patch
  * Also comment out the variable tls_available as not used anywhere

-------------------------------------------------------------------
Thu Feb 27 10:51:15 UTC 2020 - Dr. Werner Fink <werner@suse.de>

- Add patch silent-common-mu_tcp_wrapper_daemon.patch
  * Add extern in header file declaration of variable
    mu_tcp_wrapper_daemon (boo#1164444)

-------------------------------------------------------------------
Thu Dec  5 13:05:18 UTC 2019 - Dr. Werner Fink <werner@suse.de>

- Correct location of mime.types used by cups (boo#1158532)

-------------------------------------------------------------------
Wed Nov 27 20:36:16 CET 2019 - Matej Cepl <mcepl@suse.com>

- Add python38-compat.patch making it possible to build the
  package with Python 3.8.
  http://savannah.gnu.org/bugs/index.php?57318

-------------------------------------------------------------------
Tue Nov 12 08:34:36 UTC 2019 - Dr. Werner Fink <werner@suse.de>

- Update to mailutils 3.8
  * The maidag utility is withdrawn (CVE-2019-18862, bsc#1156495)
    The main purpose of this utility was to work as local mail delivery
    agent (MDA), a program responsible for final delivery of email messages
    to the recipient's mailbox.  As such it required suid privileges.
    In parallel with its main purpose, it also was able to work in two
    other modes: the 'url' mode, designed to deliver mails to arbitrary
    mailbox URLs, and 'lmtp' mode, in which it acted as local mail
    transport daemon.  Neither of these needed suid privileges.
    The unfortunate design decision to combine the three modes in a single
    versatile tool resulted in local privilege escalation threat in 'url'
    mode.
    To fix this, maidag has been replaced by three different utilities,
    each one with a precisely defined purpose and carefully designed
    privileges: mda, lmtpd, and putmail.
  * mda
  * lmtpd
  * putmail
  * Use of TLS in pop3d run from inetd
  * comsatd --test
  * mail
    ** fix the semantics of 'hold' and 'keepsave' variables
    ** New message type specification ":s"

-------------------------------------------------------------------
Wed Oct 30 10:27:43 UTC 2019 - Ondřej Súkup <mimi.vx@gmail.com>

- update to 3.7
- enable python3 instead of python2
 * Support for the new mailbox format - dotmail
 * Improve automatic mailbox format detection
 * Rewrite mailcap (RFC1524) support
 * imap4d: SEARCH command
 * Improved SEARCH BODY and SEARCH TEXT commands
 * Fixes in the 'mail' utility
 * New mailbox notation @
 * Sender addresses in message sets
 * Fixes in IMAP client library

-------------------------------------------------------------------
Fri Nov 30 08:41:21 UTC 2018 - Dr. Werner Fink <werner@suse.de>

- Dynamic determine and use guile version in spec file 

-------------------------------------------------------------------
Wed Nov 21 10:32:35 UTC 2018 - Dr. Werner Fink <werner@suse.de>

- Add mailutils-3.5-guile-2.0.patch and mailutils-3.5-guile-2.0.tar.xz
  to port the guile-2.0 interface of mailutils-3.4 back to mailutils-3.5
  as it seems that guile-2.2 is currently not doable 

-------------------------------------------------------------------
Mon Nov 19 10:24:58 UTC 2018 - Dr. Werner Fink <werner@suse.de>

- Move guile site files into main package here there is the guimb
  scheme script file
- Repair ghost links used by update-alternatives
- Temporary disable guile as there is currently no guile-2.2

-------------------------------------------------------------------
Tue Oct 30 10:40:54 UTC 2018 - Dr. Werner Fink <werner@suse.de>

- Update to mailutils 3.5
  * Support for Guile version 2.2.0 and later
    Support for prior versions has been withdrawn.
  * New scheme functions
   + mu-encoder-port port name . args
   + mu-decoder-port port name . args
   + mu-header-decode hdr [charset]
   + mu-header-encode hdr [encoding [charset]]
  * Introduced support for Python 3.x
  * Define sieve variables from the command line
    The sieve utility now allows you to supply initial values for
    RFC 5229 variables using the --variable command line option, e.g.
    sieve --variable mailbox=outgoing 
  * Support for Berkeley DB versions 5 and 6
  * headline variable in the mail utility
    The new %D specifier has been implemented, which allows the user to
    supply arbitrary strftime(3) format string for outputting message
    date/time. E.g.:
    set headline="%4m %20D{%Y-%m-%dT%H:%M:%S} %18f %s"
    In simplified form, %D can be followed by a single time format
    specifier. E.g. %DH can be used instead of %D{%H}.
  * Bugfixes
   + Fix alignment specifiers in the headline variable (mail utility)
   + Fix eventual segmentation violation in imap4d
     It occurred when a recently started subprocess received a termination
     signal before initializing its I/O subsystem. Most often this happens
     when the master process is being shut down.
   + Fix endianness bug in string to IP conversion
   + Force terminating null character in the output of mh_format
   + Fix bug in base64 encoder - don't return immediately upon receiving eof
   + Fix command expansion in wordsplit
- Remove patch mimeview_lexer_format-security.patch now upstream

-------------------------------------------------------------------
Fri Aug  3 09:45:20 UTC 2018 - werner@suse.de

- Add some more conflicts to other imap/pop3 services 

-------------------------------------------------------------------
Tue Jul 31 10:56:24 UTC 2018 - werner@suse.de

- Generate soem manual pages with help2man
- Move manual pages of system binaries to the appropiate package 

-------------------------------------------------------------------
Sun Jun 10 23:33:31 UTC 2018 - jengelh@inai.de

- Trim marketing wording from description, fix grammar.
- Trim idempotent %if..%endif guards.
- Opportunistically use some more macros in the spec.

-------------------------------------------------------------------
Fri Jun  8 06:20:04 UTC 2018 - werner@suse.de

- Adding conflict in mailutils-pop3d to courier-imap as using the
  same bibary path /usr/sbin/pop3d

-------------------------------------------------------------------
Thu Jun  7 10:00:15 UTC 2018 - werner@suse.de

- Add patch silent-rpmlint-with_initgroups.patch to add initgroups
  before setuid()

-------------------------------------------------------------------
Thu Jun  7 08:36:16 UTC 2018 - werner@suse.de

- Disable build of dotlock and maidag compare with buf boo#1095783

-------------------------------------------------------------------
Tue May 29 16:14:43 UTC 2018 - werner@suse.de

- Initial package mailutils as required by GNU Emacs 
  Added two patches
  * mimeview_lexer_format-security.patch
  * lisp-load-silent.patch
