--- mybatis-3-mybatis-3.5.3/src/main/java/org/apache/ibatis/scripting/xmltags/DynamicContext.java	2019-10-20 12:19:07.000000000 +0200
+++ mybatis-3-mybatis-3.5.3/src/main/java/org/apache/ibatis/scripting/xmltags/DynamicContext.java	2019-11-18 09:50:27.820354865 +0100
@@ -19,9 +19,9 @@
 import java.util.Map;
 import java.util.StringJoiner;
 
-import ognl.OgnlContext;
-import ognl.OgnlRuntime;
-import ognl.PropertyAccessor;
+import org.apache.commons.ognl.OgnlContext;
+import org.apache.commons.ognl.OgnlRuntime;
+import org.apache.commons.ognl.MapPropertyAccessor;
 
 import org.apache.ibatis.reflection.MetaObject;
 import org.apache.ibatis.session.Configuration;
@@ -104,7 +104,7 @@
     }
   }
 
-  static class ContextAccessor implements PropertyAccessor {
+  static class ContextAccessor extends MapPropertyAccessor {
 
     @Override
     public Object getProperty(Map context, Object target, Object name) {
--- mybatis-3-mybatis-3.5.3/src/main/java/org/apache/ibatis/scripting/xmltags/OgnlCache.java	2019-10-20 12:19:07.000000000 +0200
+++ mybatis-3-mybatis-3.5.3/src/main/java/org/apache/ibatis/scripting/xmltags/OgnlCache.java	2019-11-18 09:53:28.329413177 +0100
@@ -18,8 +18,8 @@
 import java.util.Map;
 import java.util.concurrent.ConcurrentHashMap;
 
-import ognl.Ognl;
-import ognl.OgnlException;
+import org.apache.commons.ognl.Ognl;
+import org.apache.commons.ognl.OgnlException;
 
 import org.apache.ibatis.builder.BuilderException;
 
@@ -42,7 +42,7 @@
 
   public static Object getValue(String expression, Object root) {
     try {
-      Map context = Ognl.createDefaultContext(root, MEMBER_ACCESS, CLASS_RESOLVER, null);
+      Map context = Ognl.createDefaultContext(root, CLASS_RESOLVER, null, MEMBER_ACCESS);
       return Ognl.getValue(parseExpression(expression), context, root);
     } catch (OgnlException e) {
       throw new BuilderException("Error evaluating expression '" + expression + "'. Cause: " + e, e);
--- mybatis-3-mybatis-3.5.3/src/main/java/org/apache/ibatis/scripting/xmltags/OgnlClassResolver.java	2019-10-20 12:19:07.000000000 +0200
+++ mybatis-3-mybatis-3.5.3/src/main/java/org/apache/ibatis/scripting/xmltags/OgnlClassResolver.java	2019-11-18 10:00:28.603874818 +0100
@@ -15,9 +15,11 @@
  */
 package org.apache.ibatis.scripting.xmltags;
 
-import ognl.DefaultClassResolver;
+import org.apache.commons.ognl.DefaultClassResolver;
 import org.apache.ibatis.io.Resources;
 
+import java.util.Map;
+
 /**
  * Custom ognl {@code ClassResolver} which behaves same like ognl's
  * {@code DefaultClassResolver}. But uses the {@code Resources}
@@ -30,7 +32,8 @@
 public class OgnlClassResolver extends DefaultClassResolver {
 
   @Override
-  protected Class toClassForName(String className) throws ClassNotFoundException {
+  public Class classForName(String className, Map<String, Object> unused )
+      throws ClassNotFoundException {
     return Resources.classForName(className);
   }
 
--- mybatis-3-mybatis-3.5.3/src/main/java/org/apache/ibatis/scripting/xmltags/OgnlMemberAccess.java	2019-10-20 12:19:07.000000000 +0200
+++ mybatis-3-mybatis-3.5.3/src/main/java/org/apache/ibatis/scripting/xmltags/OgnlMemberAccess.java	2019-11-18 09:50:27.820354865 +0100
@@ -19,7 +19,7 @@
 import java.lang.reflect.Member;
 import java.util.Map;
 
-import ognl.MemberAccess;
+import org.apache.commons.ognl.MemberAccess;
 
 import org.apache.ibatis.reflection.Reflector;
 
