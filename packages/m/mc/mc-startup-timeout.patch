diff -ru mc-4.8.10.orig/src/vfs/smbfs/helpers/lib/util.c mc-4.8.10/src/vfs/smbfs/helpers/lib/util.c
--- mc-4.8.10.orig/src/vfs/smbfs/helpers/lib/util.c	2013-06-25 23:29:14.000000000 +0200
+++ mc-4.8.10/src/vfs/smbfs/helpers/lib/util.c	2013-09-27 12:04:27.306008996 +0200
@@ -1842,11 +1842,13 @@
     /* Ensure null termination. */
     hostname[sizeof (hostname) - 1] = '\0';
 
-    /* get host info */
-    if ((hp = Get_Hostbyname (hostname)) == 0)
-    {
-        DEBUG (0, ("Get_Hostbyname: Unknown host %s\n", hostname));
-        return False;
+    if (ip) { /* query the ip only if it is requested */
+        /* get host info */
+        if ((hp = Get_Hostbyname (hostname)) == 0)
+        {
+            DEBUG (0, ("Get_Hostbyname: Unknown host %s\n", hostname));
+            return False;
+        }
     }
 
     if (my_name)
@@ -2475,6 +2477,9 @@
         return (ret);
     }
 
+#if 0 
+    /* IMHO this is useless and only increases the timeout */
+
     /* try with all lowercase */
     strlower (name2);
     ret = sys_gethostbyname (name2);
@@ -2492,6 +2497,7 @@
         free (name2);
         return (ret);
     }
+#endif
 
     /* nothing works :-( */
     free (name2);
