-------------------------------------------------------------------
Sat Jun 18 07:10:09 UTC 2022 - Martin Liška <mliska@suse.cz>

- Update to version 1.3.0
  * The --icf=safe option has been supported.
  * LTO now works reliably under a heavy load.
  mold used to abort occasionally under such condition on Linux
  due to a spurious failure of pthread_create(2). (d8a8877)
  * mold now prints out undefined symbol errors in a format similar to LLVM lld. (13816a1)
  * mold now prints out a better error message for the disk full situation. (5969260)
  * mold can now build GCC 12 with LTO. (708ad63)
  * Fixed an LTO issue on 32-bits hosts such as i686. (920266b)
  * mold is now AddressSanitizer and UndefinedSanitizer clean. (fafb75b, 3499ee6)
  * mold used to create broken debug info on 32-bits hosts (#490).
    The bug has been fixed. (0abd0a4)
  * mold used to accept not only a single dash but also double
    dashes for single-letter options. For example, --S was accidentally accepted as an alias for-S.
    This is unconventional, and such options are no longer accepted. (232dafa)
  * --color-diagnostics is now an alias for --color-diagnostics=auto
    instead of --color-diagnostics=always for compatibility with LLVM lld.
  * pkg-config is no longer needed to build mold.
  * The --package-metadata option is supported. (#505, e9f6715)

-------------------------------------------------------------------
Fri May 13 09:31:25 UTC 2022 - Martin Liška <mliska@suse.cz>

- Use better CC and TEST_CC variables.

-------------------------------------------------------------------
Fri May 13 09:21:22 UTC 2022 - Martin Liška <mliska@suse.cz>

- Add memory per job constraint.

-------------------------------------------------------------------
Tue May 10 12:30:07 UTC 2022 - Martin Liška <mliska@suse.cz>

- Do not use mimalloc, use system glibc allocator.

-------------------------------------------------------------------
Thu May  5 11:17:01 UTC 2022 - Martin Liška <mliska@suse.cz>

- Add valgrind as BuildRequire argument.

-------------------------------------------------------------------
Thu Apr 28 12:49:30 UTC 2022 - Martin Liška <mliska@suse.cz>

- Update to version 1.2.1
  * Various bugs in --gdb-index have been fixed.
  * mold now recognizes --thinlto-cache-dir and --thinlto-cache-policy
    for the sake of compatibility with LLVM lld. (7ebd071)
  * mold can now handle TLS common symbols. It looks like GCC
    sometimes creates such symbol for a thread-local variable. (cf850f8)
  * In some edge cases, mold created a non-versioned symbol and
    a versioned one for the same symbol, even though if one symbol is versioned,
    all symbols of the same name must be versioned.
    This bug has been fixed. (8298c0a)
  * mold used to write a PLT address of a symbol instead
    of its address to .symtab. This bug has been fixed. (e088db7)
  * mold can now handle an input file
    with more than 219 symbols. (f1f2d40)
  * /usr/local/libexec/mold/ld is now installed
    as a relative symlink instead of an absolute symlink. (5803c3c)
- Removed upstreamed fix-gdb-index.patch patch.

-------------------------------------------------------------------
Wed Apr 20 06:50:40 UTC 2022 - Martin Liška <mliska@suse.cz>

- Run test serially.
- Install some packages in order to increase test coverage.
- Use ExclusiveArch.

-------------------------------------------------------------------
Tue Apr 19 06:43:50 UTC 2022 - Martin Liška <mliska@suse.cz>

- Add fix-gdb-index.patch.
- Enable tests.

-------------------------------------------------------------------
Fri Apr 15 11:53:51 UTC 2022 - Martin Liška <mliska@suse.cz>

- Update to version 1.2.0
  * The ARM32 target is now supported.
  * --gdb-index is implemented.
  * mold now supports the following flags: --start-address, -Tbss,
    -Tdata, -Ttext, --oformat=binary, --disable-new-dtags

-------------------------------------------------------------------
Fri Apr  8 15:40:19 UTC 2022 - Callum Farmer <gmbr3@opensuse.org>

- Set LIBEXECDIR
- Disable default stripping

-------------------------------------------------------------------
Tue Mar  8 12:07:34 UTC 2022 - Martin Liška <mliska@suse.cz>

- Respect %{optflags}.

-------------------------------------------------------------------
Tue Mar  8 09:58:13 UTC 2022 - Martin Liška <mliska@suse.cz>

- Update to version 1.1.1
  * Native LTO (Link-Time Optimization) support
  * RISC-V CPU architecture support
  * Optimize memory usage by reducing the sizes of
    frequently-allocated objects; roughly 6% redux in the maximum
    RSS.

-------------------------------------------------------------------
Wed Feb 23 23:29:01 UTC 2022 - Christoph G <foss@grueninger.de>

- Fix building for openSUSE Leap 15.3 and 15.4.

-------------------------------------------------------------------
Mon Feb 21 07:51:37 UTC 2022 - Martin Liška <mliska@suse.cz>

- Update to version 1.1:
  https://github.com/rui314/mold/releases/tag/v1.1.

-------------------------------------------------------------------
Mon Jan 31 10:24:17 UTC 2022 - Martin Liška <mliska@suse.cz>

- Start using system library mimalloc.

-------------------------------------------------------------------
Sun Jan 30 15:53:00 UTC 2022 - Martin Liška <mliska@suse.cz>

- Update to version 1.0.3:
  https://github.com/rui314/mold/releases/tag/v1.0.3.

-------------------------------------------------------------------
Sun Jan 23 09:44:13 UTC 2022 - Martin Liška <mliska@suse.cz>

- Update to version 1.0.2: complete release notes can be found here:
  https://github.com/rui314/mold/releases/tag/v1.0.2.

-------------------------------------------------------------------
Mon Jan  3 08:33:39 UTC 2022 - Martin Liška <mliska@suse.cz>

- Start using %{_libexecdir} as an installation location.

-------------------------------------------------------------------
Sat Jan  1 22:23:26 UTC 2022 - Christoph G <foss@grueninger.de>

- Remove quotationsmarks from build_args as it prevented the use
  of system packages for TBB and xxHash.
- Drop configure-fix.patch as xxHash is used from system package,
  so we don't need to patch the wrong configuration of xxHash.
- Use telling name of source tarball, adjust GitHub url to have
  matching names.

-------------------------------------------------------------------
Sat Jan  1 21:37:43 UTC 2022 - Martin Liška <mliska@suse.cz>

- Update to version 1.0.1:
  * make install now creates /usr/local/libexec/mold/ld as
  a symlink to the mold executable. We do this for GCC.
  By passing -B/usr/local/libexec/mold, you can tell GCC to use ld
  inside that directory instead of /usr/bin/ld. (e8dcecf)
  * xxHash library is now included in the mold's source tree as a subtree for ease of building.
    If you want to link against a libxxhash in a system library directory, pass SYSTEM_XXHASH=1 to make. (665bffa)
  * The extern "C++" directive is now supported in the dynamic list. (7aa5c39)
  * --color-diagnostics is supported. mold used to ignore that flag. (6e290aa)
  * Not only * but also ? are now treated as special characters in the version script wildcard pattern. (31b0248)
  * The --threads=N option has been added as
    an alias for --thread-count=N. (f9ff048)
  * The following option has been added: --defsym (f6e8006), -z nodefaultlib (8c86c28),
    -z separate-code, -z noseparate-code and -z separate-lodable-segments (5601cf4), -z max-page-size (f3766cd)
- Add workaround patch configure-fix.patch.

-------------------------------------------------------------------
Tue Dec 21 17:04:56 UTC 2021 - Martin Liška <mliska@suse.cz>

- Ignore -Wno-sign-compare for now.

-------------------------------------------------------------------
Tue Dec 21 16:35:38 UTC 2021 - Martin Liška <mliska@suse.cz>

- Use system package for tbb and xxhash.

-------------------------------------------------------------------
Tue Dec 21 15:03:07 UTC 2021 - Mark Nefedov <mark_nefedov@runbox.com>

- Start with version 1.0.0.
