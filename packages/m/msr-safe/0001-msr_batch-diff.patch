--- msr_batch.c	2023-02-01 04:45:13.000000000 +0800
+++ new-msr_batch.c	2023-03-30 22:18:01.000000000 +0800
@@ -183,7 +183,11 @@
 #if LINUX_VERSION_CODE <= KERNEL_VERSION(2,6,39)
 static char *msrbatch_nodename(struct device *dev, mode_t *mode)
 #else
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(6,2,0)
 static char *msrbatch_nodename(struct device *dev, umode_t *mode)
+#else
+static char *msrbatch_nodename(const struct device *dev, umode_t *mode)
+#endif
 #endif
 {
     return kasprintf(GFP_KERNEL, "cpu/msr_batch");
