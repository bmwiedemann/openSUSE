---
 mh.c   |    6 +++---
 mutt.h |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

--- mh.c
+++ mh.c	2019-01-02 13:20:40.204793251 +0000
@@ -1809,9 +1809,9 @@ static int mh_rewrite_message (CONTEXT *
   BUFFER *newpath = NULL;
   BUFFER *partpath = NULL;
 
-  long old_body_offset = h->content->offset;
-  long old_body_length = h->content->length;
-  long old_hdr_lines = h->lines;
+  LOFF_T old_body_offset = h->content->offset;
+  LOFF_T old_body_length = h->content->length;
+  LOFF_T old_hdr_lines = h->lines;
 
   if ((dest = mx_open_new_message (ctx, h, 0)) == NULL)
     return -1;
--- mutt.h
+++ mutt.h	2019-01-02 13:19:38.181933079 +0000
@@ -702,7 +702,7 @@ typedef struct body
   PARAMETER *parameter;         /* parameters of the content-type */
   char *description;            /* content-description */
   char *form_name;		/* Content-Disposition form-data name param */
-  long hdr_offset;              /* offset in stream where the headers begin.
+  LOFF_T hdr_offset;            /* offset in stream where the headers begin.
 				 * this info is used when invoking metamail,
 				 * where we need to send the headers of the
 				 * attachment
