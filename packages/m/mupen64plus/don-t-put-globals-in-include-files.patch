From bd3e16223de6ff41b5b8855da5b09400ac36220b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Klaus=20K=C3=A4mpf?= <kkaempf@suse.de>
Date: Mon, 30 Nov 2020 10:55:52 +0100
Subject: [PATCH] don't put globals in include files

---
 source/mupen64plus-core/src/device/r4300/idec.h | 2 +-
 source/mupen64plus-core/src/main/workqueue.h    | 1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

diff --git a/source/mupen64plus-core/src/device/r4300/idec.h b/source/mupen64plus-core/src/device/r4300/idec.h
index 60a6b0066b9b..ddbded5e2350 100644
--- a/source/mupen64plus-core/src/device/r4300/idec.h
+++ b/source/mupen64plus-core/src/device/r4300/idec.h
@@ -82,6 +82,6 @@ size_t idec_u53(uint32_t iw, uint8_t u53, uint8_t* u5);
 
 #define IDEC_U53(r4300, iw, u53, u5) (void*)(((char*)(r4300)) + idec_u53((iw), (u53), (u5)))
 
-const char* g_r4300_opcodes[R4300_OPCODES_COUNT];
+extern const char* g_r4300_opcodes[R4300_OPCODES_COUNT];
 
 #endif
diff --git a/source/mupen64plus-core/src/main/workqueue.h b/source/mupen64plus-core/src/main/workqueue.h
index d5093a5338c3..2af257a452d6 100644
--- a/source/mupen64plus-core/src/main/workqueue.h
+++ b/source/mupen64plus-core/src/main/workqueue.h
@@ -27,7 +27,6 @@
 
 struct work_struct;
 
-struct work_struct *work;
 typedef void (*work_func_t)(struct work_struct *work);
 struct work_struct {
     work_func_t func;
-- 
2.26.0

