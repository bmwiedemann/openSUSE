-------------------------------------------------------------------
Mon Dec  2 17:52:44 CET 2024 - ro@suse.de

- add patch monitoring-plugins-2.4.0-check_dbi-type_mismatch.patch
  to fix compilation with gcc-14
  passing argument 2 of ‘dbi_driver_open_r’ from incompatible pointer type 
- change mode to "manual" in service file

-------------------------------------------------------------------
Mon Jul 29 08:06:37 UTC 2024 - Lars Vogdt <lars@linux-schulserver.de>

- update to 2.4.0
  General
  + Use C99 booleans @RincewindsHat
  + Improve negate plugin helptext @euniceremoquillo
  + Add new test function for percentage expressions @RincewindsHat
  Single Plugins
  + check_mailq: remove trailing whitespaces @sni
  + check_mailq: unify tabs/spaces @sni
  + check_oracle: Shellcheck fixes @RincewindsHat
  + check_ups: output ups.realpower if supported @sbraz
  + check_disk: add -n short option for --ignore-missing @sni
  + check_procs: Improve help text, mentioning excluded processes @shartge
  + check_procs: Generalise wording, remove mentioning of nrpe @shartge
  + check_curl: add haproxy protocol option @emriver
  + check_disk: increase alert precision @sni
  + check_ircd: IPv6 support @oxzi
  + check_nwstat: adds percentage used space
  + check_swap: Possibility to run check_swap without thresholds @Napsty
  + check_ups: additional alarm conditions @RincewindsHat
  + check_http/check_curl: added a --regex-state option to change the state of a regex check @andreasbaumann
  General Fixes
  + Fixes for -Wsign-compare @RincewindsHat
  + Fix logic in is_uint64_t to fix type-limit warning @RincewindsHat
  + Prevent -lcrypto from showing up in Makefile dependencies @EricFromCanada
  + Change irritating NULL assignment @RincewindsHat
  Single Plugin Fixes
  + check_dbi: Compiler warning for uninitialized variable @RincewindsHat
  + check_curl: Initialize pointer before usage @RincewindsHat
  + check_ntp: Initialize intermediate results in any case @RincewindsHat
  + check_tcp: Fixes an error with using the wrong type for a variable @RincewindsHat
  + check_mailq: exit on empty strings and exit early @sni
  + check_users: Change option for sanity checking arguments to avoid segfault @RincewindsHat
  + check_users: Update help to properly show that thresholds are ranges @RincewindsHat
  + check_users: fix segfault @RincewindsHat
  + check_dbi: Fix compiler warning for uninitialized variable @RincewindsHat
  + check_curl: Initialize pointer before usage @RincewindsHat
  + check_ntp: Initialize intermediate results in any case @RincewindsHat
  + check_ntp_peer: Fixes for Wmaybe-unitialized and some restructuring @RincewindsHat
  + check_dns: Remove unused variable @RincewindsHat
  + check_disk: fix ignore-missing in combination with includes @sni
  + check_procs: ignore our own children @shartge
  + check_http: Remove self assignment of a variable and add some comments @RincewindsHat
  + check_snmp: Remove unused variable @RincewindsHat
  + check_dhcp: Make implicit conversion explicit to dismiss warning @RincewindsHat
  + Ini Parser: Avoid freeing symbols from text section @RincewindsHat
  + check_icmp: keep performance data order in case of none-reachable hosts @sni
  + check_swap: Change another fake boolean to a real one @RincewindsHat
  + check_swap: Rename type since *_t is reserved for C standard types @RincewindsHat
  + check_ssh: Fix a typo in "remote-protocol parameter
  + check_ssh: Handle non-alpha software versions
  + check_ssh: properly parse a delayed version control string
  + check_disk: Fail on missing arguments for --warning and --critical and fix a test case @RincewindsHat
  + check_disk: Use new test function for percentage expressions @RincewindsHat
  + check_load: remove unused code @RincewindsHat
  + check_curl/check_http: clarified format of POST data @andreasbaumann
- introduce _service
- refresh patches:
  + monitoring-plugins-2.3.5-check_http-proxy.patch
    -> monitoring-plugins-2.4.0-check_http-proxy.patch
  + monitoring-plugins-2.3.5-check_log_-_quoting.patch
    -> monitoring-plugins-2.4.0-check_log_-_quoting.patch
  + monitoring-plugins-2.3.5-check_ntp_perf_absolute.patch
    -> monitoring-plugins-2.4.0-check_ntp_perf_absolute.patch
  + monitoring-plugins-2.3.5-check_swap_wrong_percent.patch
    -> monitoring-plugins-2.4.0-check_swap_wrong_percent.patch
  + monitoring-plugins-2.3.5-plugins-root-Makefile_-_no_chown.patch 
    -> monitoring-plugins-2.4.0-plugins-root-Makefile_-_no_chown.patch
- dropped patches:
  + monitoring-plugins-2.3.5-check_ssh.patch
  + monitoring-plugins-2.3.5-check_ssh.t_-_improve_testing.patch
- remove old distribution flags and following subpackages:
  + monitoring-plugins-apt
  + monitoring-plugins-game

-------------------------------------------------------------------
Mon Apr  8 15:31:23 CEST 2024 - ro@suse.de

- update apparmor profiles:
  - check_load: allow to read /run/systemd/sessions/1 while we
    still have to use "uptime" (upstream issue 1999)
  - check_disk: allow to read /proc/pid/mountinfo 

-------------------------------------------------------------------
Tue Feb 27 15:19:55 UTC 2024 - Lars Vogdt <lars@linux-schulserver.de>

- naming the renamed patches exactly, to make factory-auto happy:
  + monitoring-plugins-2.3.3-wrong_percent_in_check_swap.patch to
    monitoring-plugins-2.3.5-check_swap_wrong_percent.patch
  + monitoring-plugins-2.3.3-check_ssh.patch to
    monitoring-plugins-2.3.5-check_ssh.patch
  + monitoring-plugins-2.3.3-check_ssh.t_-_improve_testing.patch to
    monitoring-plugins-2.3.5-check_ssh.t_-_improve_testing.patch
  + monitoring-plugins-2.3.3-check_ntp_perf_absolute.patch to
    monitoring-plugins-2.3.5-check_ntp_perf_absolute.patch
  + monitoring-plugins-2.3.3-root-plugins-Makefile_-_no_chown.patch to
    monitoring-plugins-2.3.5-plugins-root-Makefile_-_no_chown.patch
  + monitoring-plugins-2.3.3-check_log_-_quoting.patch to
    monitoring-plugins-2.3.5-check_log_-_quoting.patch
  + monitoring-plugins-2.3.3-check_http-proxy.patch to
    monitoring-plugins-2.3.5-check_http-proxy.patch

-------------------------------------------------------------------
Fri Feb 23 08:48:34 UTC 2024 - pgajdos@suse.com

- Use %patch -P N instead of deprecated %patchN.

-------------------------------------------------------------------
Mon Feb  5 22:34:58 UTC 2024 - Andrew Daugherity <adaugherity@tamu.edu>

- enable check_curl by BuildRequiring its dependencies 
- restore patches not yet applied upstream (and rename to 2.3.5):
  + monitoring-plugins-2.3.3-check_log_-_quoting.patch
  + monitoring-plugins-2.3.3-check_http-proxy.patch
- drop upstreamed patches:
  + monitoring-plugins-2.3.3-check_by_ssh.patch (GitHub #1774)
  + monitoring-plugins-2.3.3-check_disk_on_btrfs.patch (GH #1388)
  - GitHub issues for patches upstreamed on 2023-12-05:
    + monitoring-plugins-2.3.3-check_snmp.arrayaddress.patch (GH #1870)
    + monitoring-plugins-2.3.3-mariadb_102_build_fix.patch (GH #1522)
    + monitoring-plugins-2.3.3-check_dhcp_-_detect_rogue_dhcp_servers.patch (GH #1906)
    + monitoring-plugins-2.3.3-check_icmp.patch (GH #1807)
    + systemd-not-utmp.patch (GH #1888)
- Repair the "no chown" patch to actually avoid calling chown; avoid
  automake build deps by patching Makefile.in rather than Makefile.am.
  + After upstream updated the gl subdir, it complains that the automake
    in SLE 12 SP5 is too old.
- Fix build on SLE 12 SP5 (link failure due to mixing OpenSSL 1.0 & 1.1)
  by using only OpenSSL 1.1, and excluding curl subpackage (needs uriparser).
- Rename patch files to match version number.
- sync check_mssql package description with plugin's help output
  + Note that not all distros contain perl-DBD-Sybase and/or freetds
- remove obsolete configure options
  + --with-ntp{q,dc,date}-command dropped upstream in 1.4.4 (e667553)
  + --with-proc-loadavg dropped in 1.4.6 (fe856aa)
- remove unnecessary chmod commands during build
- disable gettextize as upstream has (temporarily?) removed translations (GH #1947)

-------------------------------------------------------------------
Mon Jan 29 15:11:15 UTC 2024 - Dominique Leuenberger <dimstar@opensuse.org>

- Do not ship check_mssql unless built explicitly with mssql
  support. DBD::Sybase is not available in openSUSE distros.

-------------------------------------------------------------------
Mon Jan 15 10:44:48 UTC 2024 - Pedro Monreal <pmonreal@suse.com>

- check_ircd: Remove the perl-IO-Socket-INET6 dependency.
  * Remove the dependency on perl(IO::Socket::INET6) as it has been
    deprecated by upstream, is no longer suitable for use and its not
    being maintained. A compatible replacement for this package is
    perl(IO::Socket::IP) which is shipped by the perl-base package.

-------------------------------------------------------------------
Tue Dec  5 11:46:24 UTC 2023 - Lars Vogdt <lars@linux-schulserver.de> - 2.3.5

- update to 2.3.5
  FIXES
  * Include maxfd.h in lib Makefile

  included in 2.3.4
  ENHANCEMENTS
  * check_curl: added --cookie-jar and doing proper cleanup of libcurl
  * check_curl: Include all IPs from getaddrinfo() in curl DNS cache
  * check_dhcp: Add dhcp rogue detection
  * check_disk: add ignore-missing option to return OK for missing fs
  * check_disk_smb: allow checking 0-sized resource (ex. IPC$)
  * check_disk: The options to include or exclude specific file 
    systems now allow the usage of regex(7)
  * check_icmp: Add support to Jitter, MOS and Score
  * check_mysql: Detect running mysqldump and handle it 
    more gracefully
  * check_procs: Implement --exclude-process to exclude 
    specific processes
  * check_smtp: add new longoption --tls
  * check_smtp: Add option to prefix PROXY header
  * check_smtp: Add support for SMTP over TLS
  * check_smtp: Add support for SNI
  * check_snmp: Implement option to ignore mib file parsing errors
  * check_users: prefer systemd-logind over utmp
  FIXES
  * check_disk: Display SI units correctly
  * check_ircd: use pack_sockaddr_in rather than hand-rolled
  * check_log/check_oracle/check_sensors: fixed the outputs of the 
    help functionality
  * check_mysql: Add mysql_close to avoid spamming the server logs
  * check_smtp: add missing -r option in usage
  * check_snmp: disable multiplier when unused
  * check_wave: Use compile time determined path to snmpget
  GENERAL
  * Sync with the Gnulib code 668c0b8ffa
  * Set autoconf prerequisite version to 2.64
  * Remove sha1 and use sha256 in some parts of the plugin structure
  * A lot of compiler warnings were fixed
  * Some code was refactored a little bit
- removed the following patches:
  + monitoring-plugins-2.3.3-check_log_-_quoting.patch (upstream)
  + monitoring-plugins-2.3.3-check_snmp.arrayaddress.patch (upstream)
  + monitoring-plugins-2.3.3-mariadb_102_build_fix.patch
  + monitoring-plugins-2.3.3-check_dhcp_-_detect_rogue_dhcp_servers.patch
  + monitoring-plugins-2.3.3-check_http-proxy.patch
  + monitoring-plugins-2.3.3-check_icmp.patch
  + systemd-not-utmp.patch
- new check: check_mssql
  This plugin runs a query against a MS-SQL server or Sybase server 
  and returns the first row.
  Recommended in monitoring-plugins-all and monitoring-plugins-extra

-------------------------------------------------------------------
Thu Nov 16 14:04:40 CET 2023 - ro@suse.de

- also require coreutils-systemd in monitoring-plugins-load
  as the check uses the uptime binary at runtime
  revisiting [bsc#1216148] 

-------------------------------------------------------------------
Mon Oct 30 18:19:23 CET 2023 - ro@suse.de

- renamed patches
  monitoring-plugins-wrong_return_in_check_swap.patch
  to monitoring-plugins-2.3.3-wrong_percent_in_check_swap.patch
  monitoring-plugins.check_snmp.arrayaddress.patch
  to monitoring-plugins-2.3.3-check_snmp.arrayaddress.patch
  monitoring-plugins-2.3-check_ntp_perf_absolute.patch
  to monitoring-plugins-2.3.3-check_ntp_perf_absolute.patch

-------------------------------------------------------------------
Mon Oct 16 13:23:42 UTC 2023 - Thorsten Kukuk <kukuk@suse.com>

- Add buildrequires for coreutils-systemd, as the configure script
  checks for uptime [bsc#1216148]

-------------------------------------------------------------------
Thu Jun 15 14:44:14 UTC 2023 - Thorsten Kukuk <kukuk@suse.com>

- systemd-not-utmp.patch: let check_users prefer systemd-logind
  over utmp (jsc#PED-3144)

-------------------------------------------------------------------
Wed May 31 21:57:07 UTC 2023 - David Disseldorp <ddiss@suse.com>

- Add attach_disconnected flag for usr.lib.nagios.plugins.check_procs
  and usr.lib.nagios.plugins.check_procs.sle15 apparmor profiles to
  permit /proc/PID/exe access; (bsc#1209194)

-------------------------------------------------------------------
Thu Apr 13 15:27:12 UTC 2023 - Lars Vogdt <lars@linux-schulserver.de> - 2.3.3

- added monitoring-plugins-2.3.3-check_icmp.patch
  Simple patch to avoid compiler errors with latest gcc
- removed monitoring-plugins-2.3.1-fixing-shellcheck.patch - upstream
- renamed monitoring-plugins-2.2-mariadb_102_build_fix.patch
  to monitoring-plugins-2.3.3-mariadb_102_build_fix.patch

-------------------------------------------------------------------
Wed Apr 12 20:54:19 UTC 2023 - Archie Cobbs <archie.cobbs@gmail.com>

- added monitoring-plugins-2.3.3-check_http-proxy.patch
  Fixes a check_http bug when trying to follow a redirect
  returned from a URL retrieved via SSL proxy (issue #1764)

-------------------------------------------------------------------
Wed Apr 12 17:35:53 UTC 2023 - Lars Vogdt <lars@linux-schulserver.de> - 2.3.3

- finally remove monitoring-plugins-1.4.6-Makefile_-_no_chown.patch: 
  obsoleted by monitoring-plugins-2.3.3-root-plugins-Makefile_-_no_chown.patch
- monitoring-plugins-2.1.1-check_log_-_quoting.patch renamed to 
  monitoring-plugins-2.3.3-check_log_-_quoting.patch

-------------------------------------------------------------------
Thu Feb  2 17:11:00 UTC 2023 - Lars Vogdt <lars@linux-schulserver.de> - 2.3.3

- Update to 2.3.3
  Enhancements
  General
  + using PRId64 and PRIu64 instead of %ld directly
  Single Plugins
  + check_http: Make faster with larger files
  + check_snmp: add 'multiplier' to modify current value
  + check_http: Implement chunked encoding decoding
  + check_http/check_curl: add chunked encoding test
  + check_log: Added --exclude to exclude patterns
  + check_log: Add tests
  + check_disk: Clarify usage possibilites

  Fixes
  General
  + fixed two PRId64 to PRIu64 in perfdata_uint64
  Single Plugins
  + check_pgsql: Removing is_pg_dbname alltogether,using postgres API.
  + check_http: Remove superflous CRLF in HTTP-Requests
  + check_curl: detect ipv6
  + check_icmp: fix parsing help/version long options
  + check_http: fix test plan
  + check_disk: Find accessible mount path if multiple are available
  + check_apt: Fix unknown escape sequence error output
  + check_curl: fix checking large bodys
  + check_snmp: Improve tests for check_snmp & multiply option
  + check_snmp: always apply format when applying multiplier
  + check_http: Use real booleans instead of ints
  + check_http: Document process_arguments a little bit better
  + check_http: Remove dead code
  + check_http: Fix several bug in the implementation of unchunking
  + check_http: Reformat a part to increase readability
  + check_apt: Put upgrade options in the root sections
  + check_apt: Fix comment
  + check_apt: Use real booleans
  + check_mailq: Fixing nullmailer regex
  + check_snmp: Fix regex matches
  + check_log: Fixed a bug when using --all
  + check_log: Cleaned up duplicated code in the args
  + check_http: Fix memory reallocation error in chunk decoding logic
  + check_http: Add space for ending NULL byte in array for chunked encoding

- included changes in 2.3.2
  General
  + Use silent automake by default

  Fixes
  Single Plugins
  + check_by_ssh: added option to exit with an warning, if there is output on STDERR
  + check_by_ssh: Add "-U" flag (#1123).
  + check_by_ssh: Let ssh decide if a host is valid, enables usage of ssh .config file
  + check_curl: Add an option to check_curl to verify the peer certificate & host using the system CA's
  + check_curl: fixed -ffollow for HTTP/2.0 (Fixes #1685): added major_version parsing to PicoHTTPParser
  + check_curl: fixes check_curl: "CRITICAL - Cannot retrieve certificate subject."
  + check_curl: fix if http header contains leading spaces
  + check_curl: Update check_curl.c to display a specific human-readable error message where possible
  + check_curl: verify certificates option should not force SSL to be used
  + check_disk: Description for -M was the wrong way around
  + check_disk: Fixing the stuff that is broken on btrfs
  + check_disk: Fix perfdata for big values for check disk
  + check_disk_smb: Add configfile feature
  + check_disk_smb: Add timeout
  + check_dns: Add --expect-nxdomain
  + check_dns: split multiple IP addresses passed in one -a argument
  + check_file_age: Make size parameter a little bit more intelligible
  + check_fping: Implements 'host-alive' mode (Closes. #1027) 
  + check_game: Update Url to qstat
  + check_http: changed 'STATE_CRITICAL' to 'STATE_WARNING' for infinite loop
  + check_http: Increase regexp limit by @hydrapolic
  + check_http: Support http redirect by @waja
  + check_icmp: buffer offerflow
  + check_icmp: delay set_source_ip() until address_family is detected
  + check_icmp: Fix "Invalid Argument" from sendmsg() under FreeBSD 13.1 and "setsockopt failed" for TTL setting
  + check_icmp: Fix pkt perfdata in check_host mode
  + check_ldap: Allows check_ldap to read password from environment variable
  + check_load: add LOAD prefix to load plugin
  + check_load: Display total and scaled load values if check_load scales the values by number of CPUs
  + check_log: Missing oldlog now aborts check_log 
  + check_mailq: Add mailq -C option for config dir or config file 
  + check_mailq: Check mailq domain specific warnings
  + check_mailq: Fix regexp for nullmailer "mailq" output 
  + check_mysql: fix segfaults with mysql-connector-c #1562
  + check_pgsql: add --queryname parameter to check_pgsql 
  + check_ping: Do not show RTA if no connection was possible 
  + check_ping: understang ping6 output from iputils package 
  + check_proc: Fix check proc ps detection 
  + check_procs: exchange needle and haystack in strstr() for proper state match
  + check_smtp: add -L flag to support LMTP (LHLO instead of HELO/EHLO).
  + check_snmp: Added option for null zero length string exit codes
  + check_snmp: fix performance thresholds when using multiple oids
  + check_snmp fix segfaults 
  + check_snmp: put the "c" (to mark a counter) after the perfdata value
  + check_swap: fix parsing swap values
  + check_swap: Fix perfdata for check swap 
  + check_swap: Fix unit for total in perfdata
  + check_swap: Handle cached swap 
  + check_swap: Small fix to threshold validation and style (indentation) fixes
  + check_ups: Fix possible overflow in check_ups
  + check_uptime: Add option to report uptime in days instead of seconds
  + check_uptime: Fix/improve output message "Uptime is ..."

  Multiple Plugins
  + check_http, check_curl: added --max-redirs=N option (feature #1684)
  + check_http, check_curl: Enhancement --continue-after-certificate (backport from nagios-plugins)
  + check_http, check_curl: Remove check_http and check_curl test which are somehow always failing
  + check_log, check_oracle, check_sensors: Several fixes shellcheck complaining about
  + sslutils: use chain from client certificates

  Non functional changes
  + Trivial source code whitespace formatting fixes to standard.
  + docs: fix simple typo, conspicuosly -> conspicuously 
  + Migrate to GitHub actions 
  + Point to Icinga Exchange instead of dead Monitoring Exchange 
  + github actions: fix check_users test case 
  + Add CodeQL checks 
  + Fix some QL problems
  + Update CodeQL and update runner before installing 
  + check_disk: Check disk compiler warnings
  + check_disk: Trivial printf fix and a little bit of code style
  + check_http: Docs: make -C obvious
  + check_ifoperstatus: Re-attach a comment to where it actually belongs
  + check_ircd: Restrict the nickname length of the test user for check_ircd
  + check_load: Check load compiler warnings
  + check_log Modernize check log
  + check_mailq: remove duplicate W=i/C=i args in check_mailq.pl
  + check_ntp: Check ntp remove unused variables
  + check_pgsql: Using snprintf which honors the buffers size and guarantees null temination. (Closes: #1601)
  + check_procs: Fix double percentage sign in usage
  + check_sensors.sh: Make shellcheck happier
  + check_snmp: Fixed option description authpassword -> authpasswd + whitespaces
  + check_swap: Check swap compiler warnings

- refreshed monitoring-plugins-1.4.6-Makefile_-_no_chown.patch
  -> monitoring-plugins-2.3.3-root-plugins-Makefile_-_no_chown.patch
- refreshed monitoring-plugins-2.3.1-check_ssh.patch
  -> monitoring-plugins-2.3.3-check_ssh.patch
- refreshed monitoring-plugins-2.3.1-check_dhcp_-_detect_rogue_dhcp_servers.patch 
  -> monitoring-plugins-2.3.3-check_dhcp_-_detect_rogue_dhcp_servers.patch
- refreshed monitoring-plugins-2.3.1-check_ssh.t_-_improve_testing.patch
  -> monitoring-plugins-2.3.3-check_ssh.t_-_improve_testing.patch
- refreshed monitoring-plugins-2.3.1-check_disk_on_btrfs.patch
  -> monitoring-plugins-2.3.3-check_disk_on_btrfs.patch
- refreshed monitoring-plugins-2.3.1-check_by_ssh.patch
  -> monitoring-plugins-2.3.3-check_by_ssh.patch
- removed monitoring-plugins-too_few_arguments_for_check_disk.patch
  -> fixed upstream
- removed monitoring-plugins.check_hpjd.c-64bit-portability-issue.patch
  -> fixed upstream
- removed monitoring-plugins-2.3.1-check_snmp_segfaults.patch
  -> fixed upstream

-------------------------------------------------------------------
Thu Oct  6 12:28:59 CEST 2022 - ro@suse.de

- changed buildrequires libsmbclient-devel to pkgconfig(smbclient)
  as samba packages have been reorganized in SLE and openSUSE 

-------------------------------------------------------------------
Sat Jul  2 15:56:26 UTC 2022 - Archie Cobbs <archie.cobbs@gmail.com>

- added monitoring-plugins-2.3.1-check_by_ssh.patch
  Adds "-U" flag, which causes a 255 exit value from ssh(1), which
  indicates a connection failure, to return UNKNOWN instead of CRITICAL.
  (issue #1123)

-------------------------------------------------------------------
Tue Mar 22 09:58:05 UTC 2022 - Stefan Seifert <nine@detonation.org>

- added monitoring-plugins-2.3.1-check_disk_on_btrfs.patch
  backport fix for check_disk reporting critical on btrfs (nagios-plugins
  issue %569)

-------------------------------------------------------------------
Fri Dec  3 08:37:09 UTC 2021 - Lars Vogdt <lars@linux-schulserver.de>

- removed the following, either upstreamed or integrated in other patches:
  + monitoring-plugins-wrong_return_in_check_swap.patch
  + monitoring-plugins-check_swap-fix_comment.patch
  + monitoring-plugins-check_swap-return_unknown.patch
  + monitoring-plugins-check_swap-fix-n.patch

-------------------------------------------------------------------
Thu Dec  2 14:54:25 UTC 2021 - Lars Vogdt <lars@linux-schulserver.de>

- remove monitoring-plugins-2.3.1-check_snmp_hang_on_STDERR_workaround.patch
  the patch just reverts the problem, if you get more than 64K on 
  stdout

-------------------------------------------------------------------
Fri Nov 19 09:35:19 UTC 2021 - Lars Vogdt <lars@linux-schulserver.de>

- recommend syslog for monitoring-plugins-log, as people probably 
  want to analize logs generated by (r)syslog or journald

Renamed patches:
- renamed monitoring-plugins-1.4.6-no_chown.patch to 
  monitoring-plugins-1.4.6-Makefile_-_no_chown.patch to make it
  easier to detect the patched file
- renamed monitoring-plugins-2.1.1-check_logfile.patch to 
  monitoring-plugins-2.1.1-check_log_-_quoting.patch to make it
  easier to detect the patched file and reason for the patch

New patches:
- added monitoring-plugins-2.3.1-check_snmp_segfaults.patch 
  check_snmp will segfaults at line 489 if number of lines returned 
  by SNMPD is greater than number of defined thresholds
  -> https://github.com/monitoring-plugins/monitoring-plugins/pull/1589
- added monitoring-plugins-2.3.1-check_snmp_hang_on_STDERR_workaround.patch
  When the MIBs are not quite right, snmpget outputs lots of errors on 
  STDERR before getting down to business.
  If this is enough to fill the pipe buffer, snmpget hangs waiting for 
  it to be cleared, which it never will be because check_snmp is 
  waiting for snmpget to output something on STDOUT.
  This simple fix from s2156945 for this is to read STDERR before STDOUT.
  cmd_run_array from utils_cmd.c is also used by plugins/check_by_ssh 
  and plugins/negate but you're likely to get lots of errors or lots 
  of output, not both at the same time.
  The real fix is probably to do a select() and read from both as 
  they come in.
  https://github.com/monitoring-plugins/monitoring-plugins/issues/1706
- added monitoring-plugins-2.3.1-check_dhcp_-_detect_rogue_dhcp_servers.patch 
  feature enhancement from Patrick Cervicek for check_dhcp, which allows 
  to detect rogue DHCP servers. Use it with the "-x" flag, example:
   ./check_dhcp -s 192.168.1.1 -x
  CRITICAL: Rogue DHCP Server detected! Server 192.168.1.205 offered 192.168.1.239
- added monitoring-plugins-2.3.1-check_ssh.patch , which includes patches
  provided by op5, mainly around RFC 4253:4.2 and 4253:5
  + fixing a few typos
  + properly parse a (delayed) version control string 
  + Handle non-alpha software versions reported by the checked service
- added monitoring-plugins-2.3.1-check_ssh.t_-_improve_testing.patch 
  which improves the testing of check_ssh - including the patches mentioned in 
  monitoring-plugins-2.3.1-check_ssh.patch
- added monitoring-plugins-2.3.1-fixing-shellcheck.patch , which fixes 
  some complains from shellcheck(.net):
  + quoting and parenthesis in check_log.sh, check_oracle.sh, check_sensors.sh

-------------------------------------------------------------------
Thu Sep 23 16:41:53 UTC 2021 - Franck Bui <fbui@suse.com>

- Remove unneeded build requirement on "syslog"

-------------------------------------------------------------------
Mon Jul 26 04:05:51 UTC 2021 - Steve Kowalik <steven.kowalik@suse.com>

- Remove unneeded BuildRequires on python-devel (bsc#1191011)

-------------------------------------------------------------------
Thu Jul  1 08:34:54 UTC 2021 - Bernhard Wiedemann <bwiedemann@suse.com>

- Call gettextize with --no-changelog to make package build
  reproducible (boo#1047218)

-------------------------------------------------------------------
Wed Apr 21 07:47:25 UTC 2021 - Lars Vogdt <lars@linux-schulserver.de>

- Update to 2.3.1:
  Enhancements
  * check_curl: Add an option to verify the peer certificate & host using the system CA's
  Fixes
  * check_icmp: fix simple typo, conspicuosly -> conspicuously
  * check_curl: fixed help, usage and errors for TLS 1.3
  * check_curl: fixed a potential buffer overflow in url buffer
  * check_dns: split multiple IP addresses passed in one -a argument
  * check_curl: added string_statuscode function for printing HTTP/1.1 and HTTP/2 correctly
  * check_curl: fix crash if http header contains leading spaces
  * check_curl: display a specific human-readable error message where possible
  * check_pgsql: Using snprintf which honors the buffers size and guarantees null termination.
  * check_snmp: put the "c" (to mark a counter) after the perfdata value
  * check_http: Increase regexp limit
  * check_http: make -C obvious
  * check_curl: Increase regexp limit (to 1024 as in check_http)
  * check_curl: make -C obvious (from check_http)
- refreshed patches:
  + monitoring-plugins-1.4.6-no_chown.patch
  + monitoring-plugins-2.1.1-check_logfile.patch
  + monitoring-plugins-2.2-mariadb_102_build_fix.patch
  + monitoring-plugins-2.3-check_ntp_perf_absolute.patch
  + monitoring-plugins-too_few_arguments_for_check_disk.patch
  + monitoring-plugins-wrong_return_in_check_swap.patch
  + monitoring-plugins.check_hpjd.c-64bit-portability-issue.patch
  + monitoring-plugins.check_snmp.arrayaddress.patch
- add sha1 checksum file as source

-------------------------------------------------------------------
Thu Jan 14 20:47:42 UTC 2021 - Lars Vogdt <lars@linux-schulserver.de>

- Update to 2.3 (final):
  Enhancements
  * check_dns: allow 'expected address' (-a) to be specified in CIDR notation (IPv4 only).
  * check_dns: allow for IPv6 RDNS
  * check_dns: Accept CIDR
  * check_dns: allow unsorted addresses
  * check_dns: allow forcing complete match of all addresses
  * check_apt: add --only-critical switch
  * check_apt: add -l/--list option to print packages
  * check_file_age: add range checking
  * check_file_age: enable to test for maximum file size
  * check_apt: adding packages-warning option
  * check_load: Adding top consuming processes option
  * check_http: Adding Proxy-Authorization and extra headers
  * check_snmp: make calcualtion of timeout value in help output more clear
  * check_uptime: new plugin for checking uptime to see how long the system is running
  * check_curl: check_http replacement based on libcurl
  * check_http: Allow user to specify HTTP method after proxy CONNECT
  * check_http: Add new flag --show-body/-B to print body
  * check_cluster: Added data argument validation
  * check_icmp: Add IPv6 support
  * check_icmp: Automatically detect IP protocol
  * check_icmp: emit error if multiple protocol version
  * check_disk: add support to display inodes usage in perfdata
  * check_hpjd: Added -D option to disable warning on 'out of paper'
  * check_http: support the --show-body/-B flag when --expect is used
  * check_mysql: allow mariadbclient to be used
  * check_tcp: add --sni
  * check_dns: detect unreachable dns service in nslookup output
  Fixes
  * Fix regression where check_dhcp was rereading response in a tight loop
  * check_dns: fix error detection on sles nslookup
  * check_disk_smb: fix timeout issue
  * check_swap: repaired -n behaviour
  * check_icmp: Correctly set address_family on lookup
  * check_icmp: Do not overwrite -4,-6 on lookup
  * check_smtp: initializes n before it is used
  * check_dns: fix typo in parameter description
  * check_by_ssh: fix child process leak on timeouts
  * check_mysql: Allow sockets to be specified to -H
  * check_procs: improve command examples for 'at least' processes
  * check_disk: include -P switch in help
  * check_mailq: restore accidentially removed options

-------------------------------------------------------------------
Tue Oct 13 11:05:10 CEST 2020 - ro@suse.de

- add patch monitoring-plugins-2.3-check_ntp_perf_absolute.patch
  return ntp offset absolute (as positive value) in performance
  data since warn and crit are also positive values 

-------------------------------------------------------------------
Fri Sep 18 08:19:35 UTC 2020 - Dirk Stoecker <opensuse@dstoecker.de>

- Drop check_ping_fix_ip4.patch (obsolete, conflicts with upstream fix)

-------------------------------------------------------------------
Mon Sep 14 13:39:18 CEST 2020 - ro@suse.de

- change version to 2.3~alpha.$date.$commit
  update to current git as of 20200520T233014.cadac85e
  changes summarized
  * detect unreachable dns service in nslookup output
  * check_curl: host_name may be null
  * update test parameter according to check_http
  * check_curl: use CURLOPT_RESOLVE to fix connecting to the right ip
  * workaround for issue #1550 - better use "ping -4" instead
    of "ping" if supported
  * Use size_t instead of int when calling sysctl(3)
  * check_tcp: add --sni
  * Fix timeout_interval declarations
  * check_curl: NSS, parse more date formats from certificate (in
    -C cert check)
  * check_curl: more tolerant CN= parsing when checking
    certificates (hit on Centos 8)
  * setting no_body to TRUE when we have a HEAD request
  * some LIBCURL_VERSION checks around HTTP/2 feature
  * added --http-version option to check_curl to choose HTTP
  * improved curlhelp_parse_statusline to handle both HTTP/1.x
    and HTTP/2
  * check_curl: updates embedded picohttpparser to newest git
    version
  * setting progname of check_curl plugin to check_curl (at least
    for now)
  * Allow mariadbclient to be used for check_mysql
  * fix maxfd being zero
  * include -P switch in help
  * check_swap: repaired "-n" behaviour
  * improve command examples for 'at least' processes
  * check_mysql: Allow sockets to be specified to -H
  * Adding packages-warning option to check_apt plugin
  * Adding print top consuming processes option to check_load
  * check_snmp: make calcualtion of timeout value in help output more clear
  * [check_disk] add support to display inodes usage in perfdata
  * check_by_ssh: fix child process leak on timeouts
  * check_icmp: Add IPv6 support
  * check_dns: fix typo in parameter description
  * Also support the --show-body/-B flag when --expect is used
  * check_dns: improve support for checking multiple addresses
  * check_hpjd: Added -D option to disable warning on 'out of paper'
  * check_icmp: Do not overwrite -4,-6 on lookup
  * check_icmp: emit error if multiple protocol version
  * check_icmp: move opts string into a variable
  * check_cluster.c: Added data argument validation.
  * check_icmp: Correctly set address_family on lookup
  * check_icmp: process protocol version args first
  * check_icmp: Add IPv6 support

- monitoring-plugins-1.4.6-no_chown.patch
  drop hunk for Makefile.in (not present in git)
- monitoring-plugins.check_hpjd.c-64bit-portability-issue.patch
  update context
- deleted monitoring-plugins-check_swap-fix-n.patch
  drop patch, is upstream
- drop explicit attr in filelist for check_host and check_rta_multi
  as they are symlinks to check_icmp
- add new subpackage monitoring-plugins-uptime

-------------------------------------------------------------------
Mon Sep 14 10:57:53 CEST 2020 - ro@suse.de

- include upstream fixes for check_swap
- add patch monitoring-plugins-check_swap-fix_comment.patch
  simply fix the plugin name in the comment
- monitoring-plugins-check_swap-fix_zero_output.patch
  improve the output if the swap has zero size
- monitoring-plugins-check_swap-return_unknown.patch
  use unknown exit code for help/version in plugins
- add patch monitoring-plugins-check_swap-fix-n.patch
  check_swap fix behaviour for "-n" if 0 free swap is left
  from git commit 6995b510759cf531d70745b7d0c6e8a0d9010b06
  (bug#1175828)
- updated context in
  monitoring-plugins-wrong_return_in_check_swap.patch

-------------------------------------------------------------------
Mon Jul 15 08:05:45 UTC 2019 - lars@linux-schulserver.de - 2.2

- monitoring-plugins-mysql should also provide monitoring-plugins-mysql_query
- Provide/Obsolete nagios-plugins in old version for better 
  compatibility and to allow dist upgrade (boo#1114483)

-------------------------------------------------------------------
Tue Apr 23 14:54:49 CEST 2019 - ro@suse.de

- apply check_ping_fix_ip4.patch only for suse_version >= 1500
  sle12/leap42 ping does not know the -4 parameter (boo#1132903)

-------------------------------------------------------------------
Sun Apr 14 15:57:26 UTC 2019 - Christian Boltz <suse-beta@cboltz.de>

- update AppArmor profiles for usrMerge (related to boo#1132350)
  - grep in check_cups
  - ps in check_procs and check_procs.sle15

-------------------------------------------------------------------
Fri Apr 12 14:20:08 CEST 2019 - ro@suse.de

- update usr.lib.nagios.plugins.check_procs to bash in /usr 

-------------------------------------------------------------------
Tue Apr  9 12:19:20 UTC 2019 - Dirk Stoecker <opensuse@dstoecker.de>

- support IPv4 ping for dual stacked host again: check_ping_fix_ip4.patch

-------------------------------------------------------------------
Fri Nov 30 14:25:19 CET 2018 - ro@suse.de

- update usr.lib.nagios.plugins.check_procs again for >= sle15
  case so that ptrace is allowed (boo#1133107)

-------------------------------------------------------------------
Wed Oct  3 14:11:51 UTC 2018 - lars@linux-schulserver.de

- add /etc/nrpe.d/*.cfg snipplets for 
  + nrpe-check_load => check_load
  + nrpe-check_mailq => check_mailq
  + nrpe-check_ntp_time => check_ntp_time
  + nrpe-check_swap => check_swap
  + nrpe-check_total_procs => check_procs
  + nrpe-check_zombie_procs => check_procs
  + nrpe-check_users => check_users
  + nrpe-check_mysql => check_mysql
  + nrpe-check_proc_cron => check_procs
  + nrpe-check_partition => check_disk
  + nrpe-check_ups => check_ups
- use %%license macro on newer versions

-------------------------------------------------------------------
Fri Aug 10 00:48:01 CEST 2018 - ro@suse.de

- copy usr.lib.nagios.plugins.check_procs as
  usr.lib.nagios.plugins.check_procs.sle15 and use that for sle15
  and above. "ptrace" to enable ptrace globally is needed here.

-------------------------------------------------------------------
Wed Nov  8 14:14:00 UTC 2017 - kstreitova@suse.com

- add monitoring-plugins-2.2-mariadb_102_build_fix.patch to fix
  build with MariaDB 10.2 (in our case the build with libmariadb
  library from the mariadb-connector-c package)
  * upstream commit d6bd787123aa9ccd96edec8286ec22dd0442c620

-------------------------------------------------------------------
Tue Oct 10 19:42:26 UTC 2017 - lars@linux-schulserver.de

- replace "ptrace" with "capability sys_ptrace" in 
  usr.lib.nagios.plugins.check_procs apparmor profile to avoid 
  errors on SLE-11

-------------------------------------------------------------------
Wed Sep 20 11:44:43 CEST 2017 - ro@suse.de

- add "ptrace" to usr.lib.nagios.plugins.check_procs apparmor
  profile

-------------------------------------------------------------------
Thu Jul 13 12:00:32 UTC 2017 - olaf@aepfle.de

- Remove unused gnutls from buildrequires

-------------------------------------------------------------------
Fri Apr 28 18:18:50 UTC 2017 - jengelh@inai.de

- Replace %__-type macro indirections. Drop %clean, replace
  -exec \; by -exec +.

-------------------------------------------------------------------
Fri Apr 21 15:25:57 CEST 2017 - ro@suse.de

- disable requires for apparmor on non-suse for now 

-------------------------------------------------------------------
Fri Apr 21 12:13:06 CEST 2017 - ro@suse.de

- adapt buildrequires for centos
- enclose all permissions handling with if suse_version 
- wrap recommends with if suse_version
- disable radius check (no freeradius-client-devel rpm found)

-------------------------------------------------------------------
Fri Jan 13 10:11:02 UTC 2017 - lars@linux-schulserver.de

- update to 2.2:
  Enhancements
  + The check_http -S/--ssl option now accepts the arguments 1.1 and 
    1.2 to force TLSv1.1 and TLSv1.2 connections, respectively
  + The check_http -S/--ssl option now allows for specifying the 
    desired protocol with a + suffix to also accept newer versions
  + Let check_http check HTTPS web sites via proxies
  + check_http: add timeout to performance data as max value
  + check_http: report certificate expiry date in UTC
  + check_snmp: add IPv6 support
  + check_snmp's performance data now also includes warning/
    critical thresholds
  + New check_snmp -N option to specify SNMPv3 context name
  + Let check_smtp's -D option imply -S
  + Let check_smtp's -e option match against the full SMTP response
  + check_dig: expected response is now case-insensitive
  + New check_mailq -s option which tells the plugin to use sudo(8)
  + New check_nt -l parameters: seconds|minutes|hours|days
  + New -W/-C option for check_ldap to check number of entries
  + check_users: add support for range thresholds
  + check_fping now auto-detects IPv6 addresses
  + check_radius now supports the radcli library
  + Support OpenSSL 1.1
  Fixes
  + check_http: fix host header port handling
  + Let check_real terminate lines with CRLF when talking to the server, 
    as mandated by RFC 2326
  + Fix check_procs on HP-UX
  + check_smtp's -e/--expect option can now be combined with -S/--starttls
  + Fix incorrect performance data thresholds emitted by check_ups
  + Don't let check_procs miss some processes on busy Solaris systems
  Warnings
  + The format of the performance data emitted by check_mrtgtraf has 
    been changed to comply with the development guidelines
  + check_ssh now returns CRITICAL for protocol/version errors
  + If a plugin is invoked with -h/--help or -V/--version, the exit status
    is now UNKNOWN
  + The superseeded check_ntp.pl was removed, please use check_ntp_peer
    or check_ntp_time instead
- refreshed patches
- removed monitoring-plugins.check_snmp.snmpv3-context.patch:
  included upstream

-------------------------------------------------------------------
Wed Feb 24 13:33:09 CET 2016 - ro@suse.de

- usr.lib.nagios.plugins.check_disk:
  include abstractions/nameservice to be able to check nfs mounts

-------------------------------------------------------------------
Mon Oct 26 15:57:49 UTC 2015 - lars@linux-schulserver.de

- remove monitoring-plugins-postgresql.patch : fixed upstream
- remove monitoring-plugins.negate.validate_arguments.patch : fixed
  upstream
- add patch comments to spec file as requested by rpmlint
- rebase all patches to current code stream

-------------------------------------------------------------------
Fri Oct 16 18:09:24 UTC 2015 - mardnh@gmx.de

- update to 2.1.2:
  ENHANCEMENTS
  + check_snmp's performance data now also includes warning/critical
    thresholds
  + New check_snmp "-N" option to specify SNMPv3 context name
  + New check_nt "-l" parameters: seconds|minutes|hours|days
  + New check_mailq -s option which tells the plugin to use sudo(8)
  + New -W/-C option for check_ldap to check number of entries (Gerhard Lausser)
  + The check_http -S/--ssl option now accepts the arguments "1.1" and "1.2"
    to force TLSv1.1 and TLSv1.2 connections, respectively
  + The check_http -S/--ssl option now allows for specifying the desired
    protocol with a "+" suffix to also accept newer versions
  FIXES
  + Let check_real terminate lines with CRLF when talking to the server, as
    mandated by 2326
  + Fix check_procs on HP-UX
  + check_smtp's -e/--expect option can now be combined with -S/--starttls
  + Fix incorrect performance data thresholds emitted by check_ups
  WARNINGS
  + The format of the performance data emitted by check_mrtgtraf has been
    changed to comply with the development guidelines
  + check_ssh now returns CRITICAL for protocol/version errors
  + If a plugin is invoked with -h/--help or -V/--version, the exit status
    is now UNKNOWN
  + The superseded check_ntp.pl was removed, please use check_ntp_peer or
    check_ntp_time instead
- use source url

-------------------------------------------------------------------
Thu Aug 20 11:22:34 UTC 2015 - lars@linux-schulserver.de

- fix wrong requires for monitoring-plugins-dbi* packages
  (fixes bnc #914486) 

-------------------------------------------------------------------
Sat Aug  1 19:09:11 UTC 2015 - lars@linux-schulserver.de

- add apparmor profiles for the following checks:
  + check_disk
  + check_load
  + check_procs
  + check_swap
  + check_users

-------------------------------------------------------------------
Sun Jul 26 10:17:12 UTC 2015 - lars@linux-schulserver.de

- add a note about permissions for the extra-opts file in README

-------------------------------------------------------------------
Wed Jan 21 11:22:54 UTC 2015 - lars@linux-schulserver.de

- use the check_ircd script as submitted via GitHub

-------------------------------------------------------------------
Sat Dec 27 12:41:01 UTC 2014 - lars@linux-schulserver.de

- update to 2.1.1:
  FIXES
  + Fix check_ntp's jitter checking
  + Fix check_ntp's handling of invalid server responses
  + Fix check_apt's handling of invalid regular expressions
  + Fix check_real's server response processing
  + Fix backslash escaping in check_tcp's --help output
  + Fix check_jabber to work with Openfire servers
  + Fix check_oracle bad string matching when testing TNS server
  + Fixed check_ifstatus performance data output
  + Fixed expire time output for sslutils
  + check_dns now verifies if the answer is returning from the queried
    server
  + Fix check_by_ssh to accept --hostname as argument
  ENHANCEMENTS
  + New check_hpjd -p option for port specification (abrist)
  + New ./configure --with-qmail-qstat-command option to specify the path to
    qmail-qstat(8)
  + New check_ifstatus -n option to ignore interfaces by name
  + check_ntp_peer has now specific state output for each metric
  + New check_mysql -n option to ignore authentication failures
  + Added IP and port or socket name to error messages
  + New check_ntp_time -o option to add expected offset
  + check_disk shows now troubled partions in verbose mode
  + check_dig has now support for drill and dig
  + check_dig has now support for -6 option
  + Add performance data to check_file_age
- removed upstreamed patches:
  + monitoring-plugins-1.4.14-ntpd.patch
  + plugins.negate.validate_arguments.patch
  + monitoring-plugins.check_ntp.c-64bit-portability-issue.patch
- adapted monitoring-plugins-1.4.14-check_log.patch to new version:
  + monitoring-plugins-2.1.1-check_logfile.patch
- added the following new patch:
  + monitoring-plugins.check_hpjd.c-64bit-portability-issue.patch
- refreshed the other patches
- ran spec-cleaner
- require portmap on older distributions for building instead of 
  rpcbind
- newer openSUSE versions use rsyslog: require virtual syslog 
  package for build

-------------------------------------------------------------------
Sun Aug 10 17:11:48 UTC 2014 - lars@linux-schulserver.de

- remove nagios-devel from BuildRequires

-------------------------------------------------------------------
Tue Jul 22 13:50:10 UTC 2014 - lars@linux-schulserver.de

- allow plugins to open files in /etc/monitoring-plugins/
  (Apparmor profiles in /etc/apparmor.d/)
- add README files for check_ping and check_ntp_time
- enhance all README files with Apparmor information
- whitespace and some spelling fixes on check_cups
- added debug option to check_cups

-------------------------------------------------------------------
Tue Jul 15 13:05:27 UTC 2014 - lars@linux-schulserver.de

- package rename: nagios-plugins => monitoring-plugins
- adapted README files and package documentation
- provide /etc/monitoring-plugins/ directory (incl. README) as 
  mentioned in the latest documentation
- update to 2.0:
  Enhancements
  + check_mailq now supports auto detection of qmail, postfix, exim
    and nullmailer with fallback to sendmail
  + check_ide_smart now defaults to plugin output, original
     output appended with -v
  + Extra-Opts are now enabled by default
  + check_swap now supports a configurable state when there is no swap
  + check_radius now supports the FreeRADIUS Client library
  + New check_mysql_query -f option to specify a client options file
  + New check_mysql_query -g option to specify a client options group
  + Add performance data to check_mysql_query
  + New check_file_age -i/--ignore-missing option to return OK on
    nonexistent files
  + Make check_ping, check_users, and check_disk work on Windows
  + New check_ssh -P option to specify the expected SSH protocol version
  + check_dns now emits the warning and critical thresholds with 
    the performance data
  Fixes
  + Don't let e.g. check_http's -C option reset SSL version
    if e.g. -S 1 -C 5 is specified
  + Don't have check_http's -N option expect an argument
  + check_ide_smart could disable offline auto-tests but could not re-enable
    them. For this reason all SMART command modes have been disabled
  + check_dig: fix wrong IPv6 arguments order (Stéphane Bortzmeyer)
  + check_dig: make sure not to give up too early when a timeout is
    specified with -t
  + check_log: don't stumble over log lines that include a % character
  + check_nt: add UPTIME to perfdata
  + Handle SNMPv3 noAuthNoPriv properly with check_snmp
  + Fix compilation with GnuTLS
  Warnings
  + check_snmp now evaluates negative values properly, which means it
    might return CRITICAL in cases where it used to return OK. If this
    is undesired, the warning/critical threshold(s) must be fixed by
    specifying e.g. ~:100 instead of 100
  + check_procs now ignores its parent process to avoid unexpected results
    when invoked via certain shells
  + utils.sh no longer defines ECH
  + check_ide_smart -q/--quiet and -n/--nagios (Nagios-compatible output)
    are now deprecated but accepted for backward-compatibility
  + check_ide_smart -0/--auto-off, -1/--auto-on and -i/--immediate: 
    options have been disabled because they were broken
  + State retention: the NAGIOS_PLUGIN_STATE_DIRECTORY environment 
    variablew has been renamed MP_STATE_PATH. 
    The old variable will continue to work in v2.0.x
  + Add the UID of the invoking user to the state retention file path.
    This helps solving permission issues when different users run the same plugin
  + check_swap used to allow returning OK on a system without swap when
    only percent thresholds were used.
    This is no longer the case and one must now use -n/--no-swap=<state>
- enable check_radius 

-------------------------------------------------------------------
Sun Jan 19 01:47:43 UTC 2014 - lars@linux-schulserver.de

- adapt URL to new upstream page (bnc#859105)

-------------------------------------------------------------------
Sun Dec 22 11:14:55 UTC 2013 - jcnengel@gmail.com

- Add SNMPv3 context support to check_snmp following an idea of
  Lars Mathwig <mathwig@gmx.de>

-------------------------------------------------------------------
Wed Nov 27 19:56:08 UTC 2013 - msvec@suse.com

- Get rid of the old SUSE spelling in READMEs

-------------------------------------------------------------------
Tue Nov 19 11:37:39 UTC 2013 - schneemann@b1-systems.de

- update to 1.5
 * removed contrib directory
 * New check_dbi plugin for checking an (SQL) database using DBI
 * Let OpenSSL load its configuration file (see the 
   OPENSSL_config(3) man page)
 * Add performance data to check_apt
 * Add performance data to check_procs
 * Added -4/-6 options to check_dig
 * New check_oracle --connect option to perform real login
 * New check_nagios -t option to override the default timeout
 * New check_disk -f/--freespace-ignore-reserved option to 
   ignore space reserved for root
 * New check_disk -N/--include-type option to limit the filesystem 
   types to check
 * Allow for building the plugins in parallel
 * Add --without-{dbi,ldap,radius} options to ./configure
 * Made Verbose output of check_sensors compliant
 * New switch -E/--extended-perfdata for check_http to print 
   additional performance data
 * New check_http -d option to specify a string to expect within 
   the response headers
 * New check_http -J/-K options for client certificate 
   authentication support
 * Add support for executing queries to check_pgsql
 * Let check_pgsql accept a UNIX socket directory as hostname
 * New check_pgsql -o option to specify additional connection parameters
 * New check_fping -S option to specify the source IP address
 * New check_fping -I option to specify the interface to bind to
 * Let check_fping support IPv6
 * New check_procs -k option to ignore kernel threads (on Linux)
 * Let check_procs use /proc/<PID>/exe (if available) instead of 
   getpid(2), unless -T is specified
 * Let check_mysql support SSL
 * Let check_mysql add perfromance metrics for all checks
 * New check_mysql -f option to specify a client options file
 * New check_mysql -g option to specify a client options group
 * New check_snmp --offset option to allow for adding/substracting 
   an offset value to sensor data
 * Let check_snmp support an arbitrary number of OIDs

 * Fixes: 
   + Change the MAIL FROM command generated by check_smtp to be 
     RFC compliant
   + Fix compilation of check_http without SSL support
   + Fix check_snmp reversed threshold ranges
     (backward-compatibility)
   + Fix check_snmp memory violation when using more than 8 OIDs
   + Fix check_apt security regular expression
   + Fix check_http handling extra header (-k) containing semicolons
   + Fix check_apt handling unknown exit codes from apt-get
   + Fix deprecated imports of check_nmap.py
 

-------------------------------------------------------------------
Wed Oct 23 17:00:38 UTC 2013 - opensuse@cboltz.de

- update apparmor profiles usr.lib.nagios.plugins.check_cups and
  usr.lib.nagios.plugins.check_ping with /usr/bin/ paths (bnc#847229)

-------------------------------------------------------------------
Fri Aug 30 11:14:59 UTC 2013 - lars@linux-schulserver.de

- allow family="inet6" sock_type="raw" in apparmor profile for 
  check_ping

-------------------------------------------------------------------
Tue Aug 13 10:37:17 CEST 2013 - ro@suse.de

- update apparmor profile for ntp check (added nameservice) 

-------------------------------------------------------------------
Sun Aug 11 23:46:52 UTC 2013 - lars@linux-schulserver.de

- add capabilities sys_admin and sys_rawio to ide_smart check

-------------------------------------------------------------------
Mon Aug  5 14:10:18 CEST 2013 - ro@suse.de

- add apparmor profiles for these checks:
  icmp, ide_smart, ping, ssh 

-------------------------------------------------------------------
Wed Jul 17 13:01:40 UTC 2013 - lars@linux-schulserver.de

- enhance the documentation for checks with special privileges

-------------------------------------------------------------------
Thu May 23 13:50:14 UTC 2013 - opensuse@dstoecker.de

- add check_procs_perf plugin

-------------------------------------------------------------------
Fri Feb 22 15:08:06 UTC 2013 - lars@linux-schulserver.de

- release for 12.1 & 12.2 as update: fixes bnc #778970 & bnc #789428

-------------------------------------------------------------------
Fri Feb  1 15:04:09 UTC 2013 - lars@linux-schulserver.de

- added nagios-plugins-cups from mcaj@suse.cz
- recommend additional plugins in nagios-plugins-all
- decrease dependency in nagios-plugins and nagios-plugins-extras 
  to allow obsoleting the old packages

-------------------------------------------------------------------
Wed Jan 30 17:40:59 CET 2013 - ro@suse.de

- allow name resolving for check-ntp plugin in apparmor config 

-------------------------------------------------------------------
Tue Dec 25 18:41:36 UTC 2012 - lars@linux-schulserver.de

- added nagios-plugins-check_disk_printf.patch: fix wrong number
  of printf arguments if verbose
- refreshed patches

-------------------------------------------------------------------
Fri Dec 21 01:07:22 CET 2012 - ro@suse.de

- skip sensors package also for s390 and s390x

-------------------------------------------------------------------
Mon Nov  5 20:59:17 UTC 2012 - lars@linux-schulserver.de

- enhance apparmor profile for check_ntp_time (IPv6 support)

-------------------------------------------------------------------
Thu Oct 11 12:32:27 UTC 2012 - lars@linux-schulserver.de

- nagios-plugins-nagios can also check icinga 
  -> require 'monitoring_daemon' 

-------------------------------------------------------------------
Sat Jul 28 14:30:46 UTC 2012 - aj@suse.de

- Fix build with missing gets declaration (glibc 2.16)

-------------------------------------------------------------------
Thu Jul 12 22:08:08 UTC 2012 - lars@linux-schulserver.de

- update to 1.4.16:
  + applied patch that adds both critical and warning thresholds 
    to certificate expiration checks of check_tcp, check_http, check_smtp 
  + check_tcp: Print performance data even with -D
  + check_snmp: * use single quotes for perf data labels
                * Fix performance data label containing spaces in 
                  check_snmp
                * Add --perf-oids option for check_snmp to retain 
                  optional 1.4.14 compatibility
                * Accept multiple labels specified with "-l"
  + check_disk_smb: Add performance data 
  + check_dhcp: * Don't misinterpret the "siaddr" field
                * Fix handling of "pad" options
  + check_ping: * Improve parsing of ping6(1) output 
                * fix check_ping where output of ping6 when unreachable
                * add missing newline to die() calls
  + check_users: * Whitespace fixes, etc.
                 * improve performance
  + utils.sh: Added check_range shell function
  + check_http: * Don't ignore SSL initialization errors
                * Add support for specifying SSL protocol version 
                * check for and print the certificate cn
                * use standard threshold functions
                * improved tests for check_http
  + check_by_ssh: added -F config file to specify alternative ssh config
  + check_sensors: * Use symbolic exit codes
                   * Minor whitespace fixes
                   * Detect FAULT status. This can be suppressed 
                     with the new "--ignore-fault" option.
  + check_ldap: * now correctly handles the long option --hostname
                * Fix check_ldap overriding the port when --ssl was 
                  specified after -p
  + check_smtp: * fix where duplicate messages were displayed for 
                  certificate errors
                * New option to check_smtp to ignore failures when 
                  sending QUIT 
                * Abort on missing/unexpected greeting
  + check_ssh:  * Add perfdata to check_ssh
  + check_procs: * Fix for regex input of '|', being output causing 
                   problems with Nagios' parsing of performance data. 
                   Now replaced with ','  
- removed upstreamed patches:
  + nagios-plugins.ctypes.patch
  + nagios-plugins.check_dhcp-char.patch
  + nagios-plugins.asprintf.patch
  + nagios-plugins.check_by_ssh.warncrit.patch
  + 05_check_linux_raid_fix_striped.dpatch
  + 10_check_disk_smb_spaces.dpatch
  + 11_check_disk_smb_NT_STATUS_ACCESS_DENIED.dpatch
  + 13_check_smtp_greeting.dpatch
  + 14_check_icmp_multiple_ips.dpatch
  + 15_check_sensors_fault.dpatch
  + nagios-plugins-enhance_check_sensors.patch
- suggest instead of recommending the following sub packages in the 
  former nagios-plugins package: 
  + nagios-plugins-nagios
  + nagios-plugins-xenvm
  + nagios-plugins-game

-------------------------------------------------------------------
Sun Jun 10 18:57:35 UTC 2012 - lars@linux-schulserver.de

- fix permissions of apparmor profile files

-------------------------------------------------------------------
Mon Jun  4 12:48:57 UTC 2012 - lars@linux-schulserver.de

- add Apparmor profile for check_dhcp
- add Apparmor profile for check_ntp_time
- soften the nagios-plugins-nagios dependency to avoid an 
  installed Nagios after an upgrade
- point users to the README.SuSE files for check_dhcp, check_icmp
  and check_ide_smart

-------------------------------------------------------------------
Fri Jun  1 12:10:27 CEST 2012 - ro@suse.de

- teach check_by_ssh old options -w and -c again

-------------------------------------------------------------------
Mon May 21 11:53:36 UTC 2012 - badshah400@gmail.com

- Use BuildRequires: libgnutls-devel instead of gnutls-devel for
  Factory in keeping with gnutls package naming changes. 

-------------------------------------------------------------------
Wed May 16 07:27:24 UTC 2012 - lars@linux-schulserver.de

- rename nagios-plugins-libs to nagios-plugins-common as this 
  package contains more than just the libraries

-------------------------------------------------------------------
Fri Apr 27 16:23:47 UTC 2012 - lars@linux-schulserver.de

- fix build on ix86
- only recommend subpackages that have new (and not always available
  dependencies)
- move examples directory to the libs package: the permissions 
  file there is more useful here
- new subpackage nagios-plugins-all recommending all other 
  subpackages

-------------------------------------------------------------------
Thu Apr 26 10:23:18 UTC 2012 - lars@linux-schulserver.de

- do not package check_xenvm on ix86 as this setup is (no longer)
  supported 

-------------------------------------------------------------------
Wed Apr 25 07:24:33 UTC 2012 - lars@linux-schulserver.de

- added nagios-plugins-enhance_check_sensors.patch (thanks to 
  Craig Gardner): return unkown if the needed kernel module 
  is not loaded

-------------------------------------------------------------------
Mon Apr 23 16:30:09 UTC 2012 - lars@linux-schulserver.de

- introduce a new subpackage nagios-plugins-libs that contains 
  most of the content of the former nagios-plugins package. That 
  should make updates easier as the nagios-plugins package itself
  can now require all former included packages and the single 
  check-packages just need to require the nagios-plugins-libs 
  package on demand
- change recommends to requires in nagios-plugins and 
  nagios-plugins-extras, so users with 'solver.onlyRequires'=true
  can also upgrade to the new package layout without problems
- provide the nagios-plugins-xenvm package only for x86 hardware 
  as the required xen-tools are just built there

-------------------------------------------------------------------
Tue Apr 17 18:58:38 UTC 2012 - lars@linux-schulserver.de

- update README.SuSE as users should also allow broadcasts in their
  firewall if they use check_dhcp (thanks to Rüdiger Oertel)
- split up the checks into subpackages to follow the other 
  distributions and allow users to install a minimal setup on their
  machines with minimal dependencies (moved dependencies into 
  subpackages)
- run set_permissions on newer distributions
- added nagios-plugins-wrong_return_in_check_swap.patch:
  preventing check_swap from returning OK, if no swap activated

-------------------------------------------------------------------
Wed Feb 22 13:37:54 UTC 2012 - lars@linux-schulserver.de

- add GPL-3.0 implicitely to fix bnc #677711

-------------------------------------------------------------------
Wed Feb  8 16:58:49 UTC 2012 - lars@linux-schulserver.de

- added hint to permissions file to nagios-plugins-README.SuSE

-------------------------------------------------------------------
Tue Oct 18 13:58:38 UTC 2011 - chris@computersalat.de

- fix missing Group in subpkg
- remove Author from Description

-------------------------------------------------------------------
Fri Aug 12 20:28:29 UTC 2011 - lars@linux-schulserver.de

- use nagios-rpm-macros rpm now to define global macros
- use the following patches from Debian:
  + 05_check_linux_raid_fix_striped.dpatch
  + 10_check_disk_smb_spaces.dpatch
  + 11_check_disk_smb_NT_STATUS_ACCESS_DENIED.dpatch
  + 13_check_smtp_greeting.dpatch
  + 14_check_icmp_multiple_ips.dpatch
  + 15_check_sensors_fault.dpatch
- split up nagios-plugins-fping package, and recommend it in 
  nagios-plugins-extras for backwards compatibility
- disable rpath in configure
- sort configure arguments alphabetical
- install check_bgpstate check in nagios-plugins-check_bgpstate 
  package
- remove .pl endings from check_netapp and check_linux_raid, but 
  provide symlinks for backwards compatibility
- provide check_host and check_rta_multi for users changing from 
  Debian

-------------------------------------------------------------------
Mon Aug  1 19:51:08 UTC 2011 - lars@linux-schulserver.de

- added info about check_dhcp in README.SuSE (see bnc #640367)

-------------------------------------------------------------------
Fri Oct  8 12:28:26 UTC 2010 - coolo@novell.com

- unfuzz patch

-------------------------------------------------------------------
Wed Jul 28 13:54:03 UTC 2010 - schneemann@b1-systems.de

- removed zlib from Requires to make rpmlint happy
- update to 1.4.15
- removed 1.4.14 specific Patches

- fixes through update:
  * Fix check_ircd binding to wrong interface (#668778)
  * Add proxy-authorization option to check_http (Marcel Kuiper - 
	#1323230, Bryan Irvine - #2863925)
  * check_icmp now increment the sequence counter in each packet
  * Fix usage of repeated -o options in check_snmp
  * Try to detect arguments passed via --with-ping[6]-command and 
	set options accordingly (#2908236)
  * Fix memory leak in check_http for large pages 
	(Jimmy Bergman - #2957455)
  * Fix compilation with GCC 2.96 (Konstantin Khomoutov - #2977105)
  * Fix regression introduced in #1867716 where partially valid 
	performance strings would not be printed anymore
  * Fix regression in check_http ssl checks on some servers - 
	make SNI an option
  * Fix guest mode support in check_disk_smb
  * Fix check_disk_smb and check_ircd failures when run via ePN
  * check_ldap now allows for specifying an empty LDAP base
  * Fix compilation error of pst3 in Solaris 8
  * Fix check_radius returning OK on unexpected results 
	(Craig Leres - #2911752)
  * Fix translations when extra-opts aren't enabled 
	(Jan Wagner - #2832884)
  * Fix parsing of multi-line strings in check_snmp (broken in 1.4.14) 
	and enhance output in such case (#2832451)
  * Fix detection of pst3 64-bit compile flags with Sun CC
  * Fix cmd_run overwriting the environment, which would break 
	some commands that needed it
  * Allow check_ifstatus to accept version=2c - used to only allow 
	version=2 (Brian Landers)
  * Fix examples in check_disk, where it implied was possible to 
	suffix unit values to warn/crit parameters

-------------------------------------------------------------------
Fri Jun 18 07:49:03 UTC 2010 - lars@linux-schulserver.de

- enable ipv6 usage (looks like default configure does not detect 
  this right)
- define ping6 commandline in configure
- added Patches from Debian:
  + check_game_cmdline.patch 
  + check_smtp_help.patch 
  + check_snmp_perfdata.patch

-------------------------------------------------------------------
Sun Dec 20 18:07:17 UTC 2009 - coolo@novell.com

- add nagios-plugins-1.4.14-implicit_decl.patch to spec file

-------------------------------------------------------------------
Tue Dec 15 11:50:05 UTC 2009 - lars@linux-schulserver.de

- enhanced the documentation in the example permissions file

-------------------------------------------------------------------
Sun Dec 13 17:18:22 UTC 2009 - lars@linux-schulserver.de

- added run_permissions in post in case somebody uses the delivered
  example file

-------------------------------------------------------------------
Sun Dec  6 12:58:46 CET 2009 - lars@linux-schulserver.de

- enabled extra-opts
- fix pathnames to ntp commands
- remove check_sensors on archs with no support for it
- added the following patches:
  + nagios-plugins-1.4.14-ntpd.patch (remove wrong comment)
  + nagios-plugins-1.4.14-check_log.patch (fix pathnames)
  + nagios-plugins-1.4.14-command_cfg.patch (fix pathnames)
  + nagios-plugins-1.4.14-nmap.patch (fix tempdir)
  + nagios-plugins-1.4.14-check_inodes.patch (initialize vars)
  + nagios-plugins-1.4.14-implicit_decl.patch (fix implicit decl.)
  + nagios-plugins-1.4.14-check_ircd.patch (Make it working on 
    multihomed host - thanks to ultrotter@debian.org)

-------------------------------------------------------------------
Tue Nov 24 22:11:14 UTC 2009 - crrodriguez@opensuse.org

- refresh patches wit fuzz=0 

-------------------------------------------------------------------
Wed Sep 16 12:25:32 CEST 2009 - cschneemann@suse.de

- update to 1.4.14
  for a full list of changes have a look at 
  /usr/share/doc/packages/nagios-plugins/ChangeLog

-------------------------------------------------------------------
Sat Jul 25 10:40:23 CEST 2009 - cschneemann@suse.de

- moved example file command.cfg to doc directory, the nagios package 
  brings its own configuration files, this command.cfg confuses

-------------------------------------------------------------------
Wed Jul  8 13:42:23 CEST 2009 - cschneemann@suse.de

- added parameters to configure in spec to get more information from
  check_proc (bnc#519240)

-------------------------------------------------------------------
Fri Jun  5 09:24:33 CEST 2009 - chris@computersalat.de

- added contrib to doc
- spec mods
  * cleanup specfile
    o RPM Tags
  * fixed deps on sub-pkg extras
  * use of rpm macros
  * add S:11, S:12 in prep
  * simplify filelist for libexecdir
    o checks for extras pkg are excluded in main pkg
  * reworked files for doc

-------------------------------------------------------------------
Fri May 15 12:38:22 CEST 2009 - cschneemann@suse.de

- fixed buffer overflow in check_ntp_peer (bnc#498669)

-------------------------------------------------------------------
Wed Mar  4 15:37:17 CET 2009 - lrupp@suse.de

- added accidentally removed README and example again

-------------------------------------------------------------------
Thu Sep 25 12:11:56 CEST 2008 - cschneemann@suse.de

- update to 1.4.13:
  + Fix Debian bug #460097: check_http --max-age broken (Hilko Bengen) 
  + Fix Debian bug #479013: check_dig's -l is mandatory now 
    (sf.net #1986306) 
  + check_dig now returns CRITICAL instead of WARNING when no answer 
    section is found 
  + check_procs now captures stderr in external command and adds to 
    plugin output 
  + check_snmp now only prints perfdata for non numeric values 
    (sf.net #1867716) 
  + check_icmp now supports packet size modification 
  + check_http -e now accepts a comma-delimited list of expected 
    status codes (Sven Nierlein) 
  + libtap now included with this distribution for easier testing. 
    Run ./configure with --enable-libtap 
  + check_ntp_peer/check_ntp_time used to show port in 
    --help but ignored the argument - now implemented 
  + Fix possible segfault in check_ntp_peer with deliberately 
    invalid packets 

-------------------------------------------------------------------
Mon Sep 15 19:06:03 CEST 2008 - lrupp@suse.de

- compile explicit without included regex
- add README about suid permissions

-------------------------------------------------------------------
Fri Jul 25 19:15:35 CEST 2008 - lrupp@suse.de

- fix lib path for perl plugins
- add check_linux_raid.pl and check_netapp.pl

-------------------------------------------------------------------
Mon Jul 21 18:24:49 CEST 2008 - lrupp@suse.de

- update to 1.4.12:
  + Fixed check_http regression in 1.4.10 where following
    redirects to relative URLs on virtual hosts failed if
    both "-H" and "-I" were used
  + Merged two new checks that deprecates check_ntp:
    check_ntp_peer and check_ntp_time.
    You should read the --help output so see which one is suitable
    for you.
  ++ check_ntp_peer implement stratum thresholds support
     (feature request nagios-bt#1703823).
  ++ check_ntp now returns UNKNOWN instead of WARNING if jitter
     is unavailable (jitter=-1.000000) as long as the thresholds
     range include -1. If no offset threshold is specified and the
     offset is unavailable, will return UNKNOWN as well.
  + Fixed broken usage2 in check_snmp and check_cluster
  + check_cluster now accepts all valid characters in
    its thresholds ("-", "@", "~")
  + Fixed check_disk reporting OK if disk usage grows
    over 100% (nagios-bt#1348746).
  + Fixed check_load argument handling when not passing
    triplets (nagios-bt#1831890)
  + Fixed buffer overflow in check_snmp (CVE-2007-5623)
  + Tinderbox builds now runs tests in a verbose mode
  + Updated Nagios::Plugin to 0.22
  + VPATH problem fixed for compiling plugins-root
- disabled nagios-plugins-1.4.5-check_procs.c.patch (upstream has 
  another solution)
- BuildRequires nagios-devel now
- package check_linux_raid

-------------------------------------------------------------------
Mon May  5 15:58:36 CEST 2008 - olh@suse.de

- fix return type of validate_arguments() in negate.c

-------------------------------------------------------------------
Thu Apr 17 14:18:55 CEST 2008 - max@suse.de

- NAMEDATALEN is defined in pg_config_manual.h in PostgreSQL 8.3.

-------------------------------------------------------------------
Mon Mar 10 14:48:34 CET 2008 - olh@suse.de

- add check_xenvm
  (from http://www.novell.com/coolsolutions/feature/19490.html)

-------------------------------------------------------------------
Wed Jan 30 16:03:40 CET 2008 - lrupp@suse.de

- enabled check_apt and check_game (in extras package)
- rpcinfo-, qstat- and apt-get-command need pathnames 
  (to avoid extra BuildRequires)
- make all plugins executable
- package commands.cfg to /etc/nagios 
- package CODING file in docdir
- check_radius is currently broken
- BuildRequire nagios-devel
- build parallel
- added gnutls to BuildRequires

-------------------------------------------------------------------
Fri Jan  4 10:19:37 CET 2008 - olh@suse.de

- update to version 1.4.11
  * Fix check_http regression in 1.4.10 where following redirects to
    relative URLs on virtual hosts failed if both "-H" and "-I" were used
  * check_ntp now return UNKNOWN instead of WARNING if jitter is unavailable (jitter=-1.000000)
    as long as the thresholds range inculde -1. If no offset threshold is specified
    and the offset is unavailable, will return UNKNOWN as well.
    NOTE: If jitter thresholds are specified as integers it will return CRITICAL if jitter
    is "-1" as the default range starts at 0. See Examples in --help output.
  * Fix broken usage2 in check_snmp and check_cluster
  * check_cluster now accept all valid characters in its thresholds ("-", "@", "~")
  * Merge two new checks that deprecates check_ntp: check_ntp_peer and check_ntp_time.
  * Fix check_disk reporting OK if disk usage grows over 100% (bug #1348746).
    The problem happens to be in Gnulib but a workaround have been implemented in check_disk.c
  * Fix check_load argument handling when not passing triplets (bug #1831890)

-------------------------------------------------------------------
Fri Oct 26 13:51:51 CEST 2007 - olh@suse.de

- fix possible buffer overflow in check_snmp with snmpget replies (336002)
  fix possible buffer overflow in check_http with redirects (331728)

-------------------------------------------------------------------
Mon Oct  8 11:28:16 CEST 2007 - olh@suse.de

- fix string check in check_snmp

-------------------------------------------------------------------
Mon Oct  8 11:10:41 CEST 2007 - olh@suse.de

- update to version 1.4.10 (331728)
  * Fix check_http buffer overflow vulnerability when following HTTP redirects
  * check_http now explicitly asks HTTP/1.1 servers to close the connection
    after completion of the response
  * Check_ldaps' guessing which secure method to use (starttls vs. ssl on connect)  
    is now deprecated. See --help for further information.
  * Check_disk now calls stat() on all filesystems to check. (Old: only the ones selected using -p) 
    A meaningful error message (eg "Stale NFS Handle") is printed if stat fails.
  * New check_disk option -L: Only check local filesystems, but call stat() on remote ones, too.
    Thus accessibility of remote filesystems can be checked without any threshold comparison.
  * Check_disk's --help now prints some examples for the new features introduced in 1.4.8
  * New check_disk -i/-I option to ignore pathes/partitions based on regular expressions
  * New check_disk -A option to select all filesystems explicitly
    WARNING: check_disk's -E option must now be passed before -p or -r/-R arguments
    Passing -E after -p or -r results in UNKNOWN state, now
    This is needed due to the new ignore feature
  * Fix check_disk bug when mixing case sensitive and case insensitive regex arguments
  * New check_dhcp -u/--unicast option for emulating a DHCP relay in order
    to check DHCP servers on remote networks
  * New check_dhcp -m/--mac option which allows for specifying the MAC
    address to use in the DHCP request
  * The check_dhcp -r and -s options now accept host names, too
  * Fix possible check_icmp bus errors on some (non-x86/AMD64) platforms
  * Fix check_smtp's handling of multiple-packet server responses
    WARNING: Fix for negate which may break existing commands:
    - stop evaluating command line options through shell twice 
    - enforce a full path for the command to run
  * The "negate" utility can now remap custom states
  * Check_radius now supports radiusclient-ng
  * The (undocumented) positional parameter parsing which check_radius used
    instead of getopt(3) if 8 arguments were given is no longer available
  * Check_by_ssh now supports multiline output
  * IPv6 support can now be disabled using ./configure --without-ipv6
  * Fix check_ntp now honor ntp flags

-------------------------------------------------------------------
Wed Aug 15 21:17:17 CEST 2007 - olh@suse.de

- require freeradius-client-devel only in openSuSE > 10.2

-------------------------------------------------------------------
Wed Aug 15 20:54:55 CEST 2007 - olh@suse.de

- fix a few compile warnings
- update to version 1.4.9
  * Inclusion of contrib/check_cluster2 as check_cluster with some improvements
  * New/improved -E/--skip-stderr and -S/--skip-stdout options for check_by_ssh
  * check_snmp now supports Counter64
  * Fix compilation of check_ldap, check_radius and check_pgsql
  * check_load can optionally divide by number of cpus
  * Fix check_time returning wrong OK when time is before the epoch on some arch
  * Make check_http output more consistent
  * Fix possible check_http segfaults when following HTTP redirects
  * check_snmp don't warn anymore if something is printed on stderr
  * Fix check_tcp segfault when multiple expect strings are given
  * New option for check_tcp: -A/--all to test if all given expect strings match
  * Respects --without-world-permissions for setuid plugins
  * check_disk extra options for regex matching of filesystems and grouping of filesystems
    for collective thresholds
  * Better configure test for mysqlclient availability
  * Various check_ntp fixes
  * check_procs uses /usr/ucb/ps if available - fixes pst3 problems on Solaris
  * Fixed MKINSTALLDIRS problem in po/
  * ./configure now detects if possible to compile check_mysql
  * Fixed broken HELO in check_smtp
  * check_icmp now allows to set a minimum number of hosts required for successs (-m)
  * check_icmp fix for *BSD when running for long time
  * check_ping times out 1 second quicker if host is unreachable
  * Root plugins installed with world executable
  * check_sybase from contrib now maintained in NagiosExchange
  * --with-nagios-user/group reinstated ./configure option
  * New --without-world-permissions ./configure option

-------------------------------------------------------------------
Fri Mar 30 01:34:09 CEST 2007 - ro@suse.de

- added procps,bind-utils to buildreq 

-------------------------------------------------------------------
Thu Mar 15 01:55:30 CET 2007 - ro@suse.de

- disable radius plugin for now, needs porting to freeradius-client 

-------------------------------------------------------------------
Thu Mar 15 00:52:00 CET 2007 - ro@suse.de

- make it build as non-root
- check_dhcp and check_ are still not installed suid, but they
  were not suid before this change 

-------------------------------------------------------------------
Mon Mar 12 16:00:09 CET 2007 - tsieden@suse.de

- update to version 1.4.6
  * Reduced number of DNS lookups in check_ping and netutils.c for
    IPv6 configurations 
  * Fixed compile problems with *BSD re: alloca.h 
  * Fixed Solaris problems with check_swap (tested on Solaris 9) 
  * Fixed check_swap for HP/UX where swapinfo command was incorrect 
  * Fixed check_disk inode threshold checks, regressed at r1.4.4. 
  * Fixed crit/warn for check_disk perf data 
  * Fixed buffer overflow in check_procs 
  * Fixed error handling for UNIX sockets in netutils.c 
  * New -q and -o options for check_by_ssh which are handed over to ssh(1) as is 
  * Synced with latest GNUlib 
  * Fixed check_jabber always returns warning
- removed ntp from BuildRequires
- adapted from BuildService:
  * added more distribution-specific BuildRequires from mge@suse.de

-------------------------------------------------------------------
Wed Jan 10 21:13:26 CET 2007 - olh@suse.de

- remove outdated and unused command.cfg

-------------------------------------------------------------------
Fri Nov 17 11:47:31 CET 2006 - tsieden@suse.de

- fix build
  * typos in check_http.c, check_icmp.c and check_ldap.c
  * added missing include to check_procs.c
  * fix more gcc warnings in check_fping.c, check_mysql.c and
    check_mysql_query.c

-------------------------------------------------------------------
Thu Nov 16 10:12:55 CET 2006 - tsieden@suse.de

- update to version 1.4.5
  * check_udp2 removed. check_udp is now linked to check_tcp.c
  * new check_apt plugin
  * new C based check_ntp. the perl version is now
    deprecated.
  * major bug fixes to check_disk where values were incorrectly
    calculated and alerted on.
  * check_mailq now errors if the sub-program run returns
    non-zero return code. this would appear as if mailqs were
    okay when the nagios user could not query the mail-queues
  * compile problems with check_snmp fixed

-------------------------------------------------------------------
Wed Jun 21 19:40:50 CEST 2006 - stark@suse.de

- update to version 1.4.3
  * check_mysql_query added to run arbitrary SQL commands, 
    with threshold checking
  * new check_clamd

-------------------------------------------------------------------
Fri Jun 16 23:37:34 CEST 2006 - schwab@suse.de

- Fix syntax error in configure script.

-------------------------------------------------------------------
Wed Jan 25 21:38:33 CET 2006 - mls@suse.de

- converted neededforbuild to BuildRequires

-------------------------------------------------------------------
Mon Dec 19 15:10:04 CET 2005 - ro@suse.de

- added previously unpackaged symlinks to extras package 

-------------------------------------------------------------------
Tue Oct 25 15:48:15 CEST 2005 - rhafer@suse.de

- added LDAP_DEPRECATED to CFLAGS to build correctly with
  OpenLDAP 2.3

-------------------------------------------------------------------
Tue Sep 20 06:47:30 CEST 2005 - stark@suse.de

- update to version 1.4.2

-------------------------------------------------------------------
Tue Aug  2 06:40:05 CEST 2005 - stark@suse.de

- update to version 1.4.1

-------------------------------------------------------------------
Tue May 17 12:33:12 CEST 2005 - stark@suse.de

- fixed overwriting a buffer

-------------------------------------------------------------------
Tue May 17 08:21:37 CEST 2005 - stark@suse.de

- fixed ps syntax (bug 75699)

-------------------------------------------------------------------
Fri Feb  4 10:16:35 CET 2005 - stark@suse.de

- update to version 1.4

-------------------------------------------------------------------
Wed May 26 01:55:49 CEST 2004 - ro@suse.de

- add some return values to non-void functions

-------------------------------------------------------------------
Thu Dec 18 12:56:10 CET 2003 - stark@suse.de

- adopted to new ping output format (iputils-ss021109) (#33710)

-------------------------------------------------------------------
Mon Nov 10 15:05:16 CET 2003 - ro@suse.de

- use net-snmp instead of ucdsnmp 

-------------------------------------------------------------------
Fri Jul 18 13:07:54 CEST 2003 - stark@suse.de

- update to 1.3.1

-------------------------------------------------------------------
Thu Jun 19 13:47:58 CEST 2003 - stark@suse.de

- added missing directories to filelist 

-------------------------------------------------------------------
Tue May 27 07:30:05 CEST 2003 - stark@suse.de

- update to 1.3.0
  * added check_nt 

-------------------------------------------------------------------
Mon Dec  2 10:24:20 CET 2002 - stark@suse.de

- update to 1.3.0beta2
  * included SNMPv3 patch 

-------------------------------------------------------------------
Thu Nov 21 01:21:43 CET 2002 - ro@suse.de

- work around autoconf problem 

-------------------------------------------------------------------
Wed Oct  9 10:00:35 CEST 2002 - stark@suse.de

- added nagios to neededforbuild (Bug #20557)

-------------------------------------------------------------------
Sun Oct  6 06:01:25 CEST 2002 - stark@suse.de

- moved Requires: perl-Net-SNMP from extras to "normal" package 
  (Bug #20559)
- removed Requires: nagios because it is also possible
  to use it with nagios-nrpe 

-------------------------------------------------------------------
Thu Aug  1 00:56:50 CEST 2002 - ro@suse.de

- use openldap2 as neededforbuild 

-------------------------------------------------------------------
Tue Jul  9 11:54:30 CEST 2002 - stark@suse.de

- added patch to be able to connect via SNMPv3 (check_snmp) 

-------------------------------------------------------------------
Mon Jul  1 16:01:58 CEST 2002 - ro@suse.de

- find mysql on lib64 

-------------------------------------------------------------------
Wed Jun 19 09:09:38 CEST 2002 - stark@suse.de

- switched to nagiosplug 1.3beta1
  (is stated as beta but should be usable in almost all cases)

-------------------------------------------------------------------
Fri Jun 14 10:42:21 CEST 2002 - stepan@suse.de

- add mysql-client to neededforbuild

-------------------------------------------------------------------
Mon Apr 29 10:18:16 CEST 2002 - stark@suse.de

- changed Requires to nagios 

-------------------------------------------------------------------
Tue Jan 15 09:35:09 CET 2002 - stark@suse.de

- fixed check_ping to fit new ping output (#12769)

-------------------------------------------------------------------
Wed Nov  7 14:20:40 CET 2001 - stark@suse.de

- use AM_INIT_AUTOMAKE 

-------------------------------------------------------------------
Mon Aug 27 01:42:07 CEST 2001 - ro@suse.de

- fix for current ping output (round-trip is called rtt now)
- bzip source

-------------------------------------------------------------------
Mon Jul 30 08:40:54 CEST 2001 - stark@suse.de

- added openssl to #neededforbuild 

-------------------------------------------------------------------
Fri Jul 27 08:57:43 CEST 2001 - kukuk@suse.de

- change postgresql-lib -> postgresql-libs

-------------------------------------------------------------------
Mon Jul 16 08:55:43 CEST 2001 - stark@suse.de

- added mysql-shared to #neededforbuild 

-------------------------------------------------------------------
Tue Jul 10 08:15:00 CEST 2001 - stark@suse.de

- package splitted (netsaint-plugins-extras for dependent functions
- added check_fping 

-------------------------------------------------------------------
Mon Jul  9 14:26:39 CEST 2001 - stark@suse.de

- fixed #ifdef in check_mrtg.c, check_nwstat.c, check_by_ssh.c 

-------------------------------------------------------------------
Mon Jun 18 13:44:39 CEST 2001 - stark@suse.de

- removed openldap-client from neededforbuild 

-------------------------------------------------------------------
Mon May 14 11:13:50 CEST 2001 - stark@suse.de

- update to release 1.2.9-4 

-------------------------------------------------------------------
Thu Apr 19 12:46:52 CEST 2001 - stark@suse.de

- initial package 1.2.9-3 

