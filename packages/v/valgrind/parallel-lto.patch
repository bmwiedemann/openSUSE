diff --git a/configure b/configure
index 1c9ad2f..4fc8478 100755
--- a/configure
+++ b/configure
@@ -9310,7 +9310,7 @@ if test "x${vg_cv_lto}" != "xno" -a "x${LTO_AR}" != "x" -a "x${LTO_RANLIB}" != "
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if toolchain accepts lto" >&5
 $as_echo_n "checking if toolchain accepts lto... " >&6; }
 safe_CFLAGS=$CFLAGS
-TEST_LTO_CFLAGS="-flto -flto-partition=one -fuse-linker-plugin"
+TEST_LTO_CFLAGS="-flto=auto"
 # Note : using 'one' partition is giving a slightly smaller/faster memcheck
 # and ld/lto-trans1 still needs a reasonable memory (about 0.5GB) when linking.
 CFLAGS="$TEST_LTO_CFLAGS -Werror"
diff --git a/configure.ac b/configure.ac
index f8c798b..4a76150 100755
--- a/configure.ac
+++ b/configure.ac
@@ -2025,7 +2025,7 @@ AC_CACHE_CHECK([for using the link time optimisation], vg_cv_lto,
 if test "x${vg_cv_lto}" != "xno" -a "x${LTO_AR}" != "x" -a "x${LTO_RANLIB}" != "x"; then
 AC_MSG_CHECKING([if toolchain accepts lto])
 safe_CFLAGS=$CFLAGS
-TEST_LTO_CFLAGS="-flto -flto-partition=one -fuse-linker-plugin"
+TEST_LTO_CFLAGS="-flto=auto"
 # Note : using 'one' partition is giving a slightly smaller/faster memcheck
 # and ld/lto-trans1 still needs a reasonable memory (about 0.5GB) when linking.
 CFLAGS="$TEST_LTO_CFLAGS -Werror"
