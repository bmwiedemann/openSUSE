-------------------------------------------------------------------
Mon Oct 23 13:47:24 UTC 2023 - Dirk Müller <dmueller@suse.com>

- update filelist for 32bit disabled projects

-------------------------------------------------------------------
Mon Aug  7 08:27:39 UTC 2023 - Dirk Müller <dmueller@suse.com>

- use boolean / extended requires for glibc requires

-------------------------------------------------------------------
Thu May 18 12:19:20 UTC 2023 - Dirk Müller <dmueller@suse.com>

- update to 3.21.0:
  * When GDB is used to debug a program running under valgrind
    using the valgrind gdbserver, GDB will automatically load some
    python code provided in valgrind defining GDB front end
    commands corresponding to the valgrind monitor commands.
  * These GDB front end commands accept the same format as
    the monitor commands directly sent to the Valgrind
    gdbserver.
    These GDB front end commands provide a better integration
    in the GDB command line interface, so as to use for example
    GDB auto-completion, command specific help, searching for
    a command or command help matching a regexp, ...
    For relevant monitor commands, GDB will evaluate arguments
    to make the use of monitor commands easier.
    For example, instead of having to print the address of a
    variable to pass it to a subsequent monitor command, the
    GDB front end command will evaluate the address argument.
  * The vgdb utility now supports extended-remote protocol when
    invoked with --multi. In this mode the GDB run command is
    supported. Which means you don't need to run gdb and
    valgrind from different terminals.
  * The behaviour of realloc with a size of zero can now
    be changed for tools that intercept malloc. Those
    tools are memcheck, helgrind, drd, massif and dhat.
    Realloc implementations generally do one of two things
       - free the memory like free() and return NULL
         (GNU libc and ptmalloc).
       - either free the memory and then allocate a
         minimum sized block or just return the
         original pointer. Return NULL if the
         allocation of the minimum sized block fails
         (jemalloc, musl, snmalloc, Solaris, macOS).
  * When Valgrind is configured and built it will
    try to match the OS and libc behaviour. However
    if you are using a non-default library to replace
    malloc and family (e.g., musl on a glibc Linux or
    tcmalloc on FreeBSD) then you can use a command line
    option to change the behaviour of Valgrind:
     --realloc-zero-bytes-frees=yes|no [yes on Linux glibc, no
    otherwise]
  * ==================== FIXED BUGS ====================
  * 241072  List tools in --help output
  * 327548  false positive while destroying mutex
  * 382034  Testcases build fixes for musl
  * 351857  confusing error message about valid command line
    option
  * 374596  inconsistent RDTSCP support on x86_64
  * 392331  Spurious lock not held error from inside
    pthread_cond_timedwait
  * 397083  Likely false positive "uninitialised value(s)" for
    __wmemchr_avx2 and __wmemcmp_avx2_movbe
  * 400793  pthread_rwlock_timedwrlock false positive
  * 419054  Unhandled syscall getcpu on arm32
  * 433873  openat2 syscall unimplemented on Linux
  * 434057  Add stdio mode to valgrind's gdbserver
  * 435441  valgrind fails to interpose malloc on musl 1.2.2 due
    to weak symbol name and no libc soname
  * 436413  Warn about realloc of size zero
  * 439685  compiler warning in callgrind/main.c
  * 444110  priv/guest_ppc_toIR.c:36198:31: warning: duplicated
    'if' condition.
  * 444487  hginfo test detects an extra lock inside data symbol
    "_rtld_local"
  * 444488  Use glibc.pthread.stack_cache_size tunable
  * 444568  drd/tests/pth_barrier_thr_cr fails on Fedora 38
  * 445743  "The impossible happened: mutex is locked
    simultaneously by two threads"
  *         while using mutexes with priority inheritance and
    signals
  * 449309  Missing loopback device ioctl(s)
  * 459476  vgdb: allow address reuse to avoid "address already
    in use" errorsuse" errors
  * 460356  s390: Sqrt32Fx4 -- cannot reduce tree
  * 462830  WARNING: unhandled amd64-freebsd syscall: 474
  * 463027  broken check for MPX instruction support in assembler
  * 464103  Enhancement: add a client request to DHAT to mark
    memory to be histogrammed
  * 464476  Firefox fails to start under Valgrind
  * 464609  Valgrind memcheck should support Linux pidfd_open
  * 464680  Show issues caused by memory policies like selinux
    deny_execmem
  * 464859  Build failures with GCC-13 (drd tsan_unittest)
  * 464969  D language demangling
  * 465435  m_libcfile.c:66 (vgPlain_safe_fd): Assertion 'newfd
    >= VG_(fd_hard_limit)' failed.
  * 466104  aligned_alloc problems, part 1
  * 467036  Add time cost statistics for Regtest
  * 467482  Build failure on aarch64 Alpine
  * 467714  fdleak_* and rlimit tests fail when parent process
    has more than
  *         64 descriptors opened
  * 467839  Gdbserver: Improve compatibility of library directory
    name
  * 468401  [PATCH] Add a style file for clang-format
  * 468556  Build failure for vgdb
  * 468606  build: remove "Valgrind relies on GCC" check/output
  * 469097  ppc64(be) doesn't support SCV syscall instruction
  * n-i-bz  FreeBSD rfork syscall fail with EINVAL or ENOSYS
    rather than VG_(unimplemented)
- disable LTO on ppc64 (bsc#1205923)

-------------------------------------------------------------------
Wed Mar 29 08:17:25 UTC 2023 - Fabian Vogt <fvogt@suse.com>

- Build without -z now (bsc#1208407)

-------------------------------------------------------------------
Wed Oct 26 09:40:36 UTC 2022 - Dirk Müller <dmueller@suse.com>

- update to 3.20.0:
  * The option "--vgdb-stop-at=event1,event2,..." accepts the new value abexit.
    This indicates to invoke gdbserver when your program exits abnormally
    (i.e. with a non zero exit code).
  * Fix Rust v0 name demangling.
  * The Linux rseq syscall is now implemented as (silently) returning ENOSYS.
  * Add FreeBSD syscall wrappers for __specialfd and __realpathat.
  * Remove FreeBSD dependencies on COMPAT10, which fixes compatibility with
    HardenedBSD
  * The option --enable-debuginfod=<no|yes> [default: yes] has been added on
    Linux.
  * More DWARF5 support as generated by clang14.

-------------------------------------------------------------------
Wed Aug  3 15:20:42 UTC 2022 - Dirk Müller <dmueller@suse.com>

- exclude client-headers from building for non-supported architectures

-------------------------------------------------------------------
Wed Apr 20 09:39:21 UTC 2022 - Adam Majer <adam.majer@suse.de>

- fix build on SLE12

-------------------------------------------------------------------
Wed Apr 13 15:17:54 UTC 2022 - Dirk Müller <dmueller@suse.com>

- spec-cleaner suggested cleanups
- drop unnecessary procps buildrequires

-------------------------------------------------------------------
Tue Apr 12 19:27:44 UTC 2022 - Dirk Müller <dmueller@suse.com>

- update to 3.19.0 (bsc#1204685):
  * obsoletes backport 0001-arm64-Mismatch-detected-between-RDMA-and-atomics-fea.patch
    on older distributions
  * Fix Rust v0 name demangling.
  * The Linux rseq syscall is now implemented as (silently) returning ENOSYS.
  * Add FreeBSD syscall wrappers for __specialfd and __realpathat.
  * Remove FreeBSD dependencies on COMPAT10, which fixes compatibility with HardenedBSD
  * see https://valgrind.org/docs/manual/dist.news.html for list of bugfixes
- drop handle-rseq-syscall.patch: upstream

-------------------------------------------------------------------
Wed Mar  9 10:31:07 UTC 2022 - Dirk Müller <dmueller@suse.com>

- add upstream handle-rseq-syscall.patch to fix run with glibc 2.35

-------------------------------------------------------------------
Tue Nov  9 00:27:36 UTC 2021 - Chris Bradbury <viff3000@gmail.com>

- update to 3.18.1 (jsc#SLE-18639):
  * 3.18.1 fixes a number of bugs and adds support for glibc-2.34, and for new
    platforms x86/FreeBSD and amd64/FreeBSD. Debuginfo reading is faster, and
    Rust demangling has been improved. For PPC64, ISA 3.1 support has been
    completed, and some newer ARM64 and S390 instructions are also supported.

-------------------------------------------------------------------
Sat Mar 20 17:27:44 UTC 2021 - Dirk Müller <dmueller@suse.com>

- update to 3.17.0 (jsc#SLE-18713):
  * 3.17.0 fixes a number of bugs and adds some functional changes: support for GCC
    11, Clang 11, DWARF5 debuginfo, the 'debuginfod' debuginfo server, and
    some new instructions for Arm64, S390 and POWER.  There are also some tool
    updates.
- drop s390x-z14-vector-support.patch
    0001-lmw-lswi-and-related-PowerPC-insns-aren-t-allowed-on.patch: upstream

-------------------------------------------------------------------
Mon Jan 11 14:20:28 UTC 2021 - Dirk Müller <dmueller@suse.com>

- add 0001-lmw-lswi-and-related-PowerPC-insns-aren-t-allowed-on.patch (bsc#1180412)

-------------------------------------------------------------------
Mon Jan  4 10:55:18 UTC 2021 - Dirk Müller <dmueller@suse.com>

- add s390x-z14-vector-support.patch (bsc#1180511)

-------------------------------------------------------------------
Sun Aug 16 01:22:44 UTC 2020 - Dirk Mueller <dmueller@suse.com>

- update to 3.16.1 (jsc#SLE-13769):
  * PPC sync instruction L field should only be 2 bits in ISA 3.0
  * vex: the `impossible' happened: expr_is_guardable: unhandled expr
- remove 0001-Power-PC-Fix-extraction-of-the-L-field-for-sync-inst.patch (upstream)

-------------------------------------------------------------------
Fri Jun 19 08:14:24 UTC 2020 - Michal Suchanek <msuchanek@suse.de>

- Use autopatch
  - Change armv6-support.diff to a/b format

-------------------------------------------------------------------
Fri Jun 19 07:55:22 UTC 2020 - Dirk Mueller <dmueller@suse.com>

- update to 3.16.0:
  * Many bugfixes, too many to list here, see NEWS file
  - The implicit memcpy done by each call to realloc now counts towards the
    read and write counts of resized heap blocks, making those counts higher
    and more accurate.
  - cg_annotate's --auto and --show-percs options now default to 'yes', because
    they are usually wanted.
  - callgrind_annotate's --auto and --show-percs options now default to 'yes',
    because they are usually wanted.
  - The command option --collect-systime has been enhanced to specify
    the unit used to record the elapsed time spent during system calls.
    The command option now accepts the values no|yes|msec|usec|nsec,
    where yes is a synonym of msec.  When giving the value nsec, the
    system cpu time of system calls is also recorded.
  - Several memcheck options are now dynamically changeable.
    Use  valgrind --help-dyn-options  to list them.
  - The release 3.15 introduced a backward incompatible change for
    some suppression entries related to preadv and pwritev syscalls.
    When reading a suppression entry using the unsupported 3.14 format,
    valgrind will now produce a warning to say the suppression entry will not
    work, and suggest the needed change.
  - Significantly fewer false positive errors on optimised code generated by
    Clang and GCC.  In particular, Memcheck now deals better with the
    situation where the compiler will transform C-level "A && B" into "B && A"
    under certain circumstances (in which the transformation is valid).
    Handling of integer equality/non-equality checks on partially defined
    values is also improved on some architectures.
  - The exprimental Stack and Global Array Checking tool has been removed.
    It only ever worked on x86 and amd64, and even on those it had a
    high false positive rate and was slow.  An alternative for detecting
    stack and global array overruns is using the AddressSanitizer (ASAN)
    facility of the GCC and Clang compilers, which require you to rebuild
    your code with -fsanitize=address.
  - Option -T tells vgdb to output a timestamp in the vgdb information messages.
  - The gdbserver monitor commands that require an address and an optional
    length argument now accepts the alternate 'C like' syntax "address[length]".
    For example, the memcheck command "monitor who_points_at 0x12345678 120"
    can now also be given as "monitor who_points_at 0x12345678[120]".
  - 001-Add-newer-constants-for-prctl-syscall.patch
  0001-Fix-makefile-consistency-check.patch
  0001-s390x-Add-CPU-model-for-z15.patch
  0001-s390x-Add-models-z14-and-z14-ZR1.patch
  0001-s390x-Clean-up-s390-check-opcodes.pl.patch
  0001-Add-newer-constants-for-prctl-syscall.patch
  0002-Add-support-for-PR_CAPBSET_READ-and-_DROP-syscalls.patch:
  dropped as those patches were from upstream and are already in 3.16.0
  - add 0001-Power-PC-Fix-extraction-of-the-L-field-for-sync-inst.patch (bsc#1173135)

-------------------------------------------------------------------
Mon May 11 12:14:25 UTC 2020 - Dirk Mueller <dmueller@suse.com>

- add dhat-use-datadir.patch:
  * move the dhat* scripts to datadir

-------------------------------------------------------------------
Wed Mar 25 12:15:59 UTC 2020 - Martin Liška <mliska@suse.cz>

- Add parallel-lto.patch in order to make LTO LTRANS phase
  parallel. It will significantly improve build time.

-------------------------------------------------------------------
Thu Mar 12 08:56:24 UTC 2020 - Dirk Mueller <dmueller@suse.com>

- add 0001-Fix-makefile-consistency-check.patch
  0001-s390x-Add-models-z14-and-z14-ZR1.patch
  0001-s390x-Clean-up-s390-check-opcodes.pl.patch
  0001-s390x-Add-CPU-model-for-z15.patch (bsc#1165834)

-------------------------------------------------------------------
Tue Jan 28 14:02:04 UTC 2020 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Disable %check on %arm as it never passed - boo#1130395

-------------------------------------------------------------------
Sun Jan 19 15:43:47 UTC 2020 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Add support for PR_CAPBSET_READ/DROP syscalls. Fixes false
  error messages with latest libcap 2.30.
  * 0001-Add-newer-constants-for-prctl-syscall.patch
  * 0002-Add-support-for-PR_CAPBSET_READ-and-_DROP-syscalls.patch

-------------------------------------------------------------------
Wed Nov 27 14:17:11 UTC 2019 - Dirk Mueller <dmueller@suse.com>

- remove jit-register-unregister.diff (fails patch not applied check)

-------------------------------------------------------------------
Tue Oct 29 12:10:39 UTC 2019 - Dirk Mueller <dmueller@suse.com>

- move s390-*xml files to main package (bsc#1147071)

-------------------------------------------------------------------
Tue Oct 22 16:46:06 UTC 2019 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Use _multibuild for creating the client-headers subpackage. As
  the headers are just copied over, the package has no substantial
  build dependencies.

-------------------------------------------------------------------
Thu Oct 17 22:43:21 UTC 2019 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Move the BSD-style licensed client headers to a subpackage.
  Packages only requiring e.g. valgrind.h during build no longer
  need the full valgrind and valgrind-devel packages then.
- Clean up documentation a bit:
  + use %build_cond, drop unused docbook_4 BuildRequires
  + remove the Postscript Valgrind manual in favor of the PDF one.
- Add GFDL-1.2 to the License, relevant for man pages and Valgrind
  PDF/HTML manual.

-------------------------------------------------------------------
Wed May  8 15:36:12 UTC 2019 - Dirk Mueller <dmueller@suse.com>

- update to 3.15.0 (fate#327402) (jira SLE-5861):
  3.15.0 is a feature release with many improvements and the usual collection of
  bug fixes.

  This release supports X86/Linux, AMD64/Linux, ARM32/Linux, ARM64/Linux,
  PPC32/Linux, PPC64BE/Linux, PPC64LE/Linux, S390X/Linux, MIPS32/Linux,
  MIPS64/Linux, ARM/Android, ARM64/Android, MIPS32/Android, X86/Android,
  X86/Solaris, AMD64/Solaris and AMD64/MacOSX 10.12.  There is also preliminary
  support for X86/macOS 10.13 and AMD64/macOS 10.13.

  * ==================== CORE CHANGES ===================

  * The XTree Massif output format now makes use of the information obtained
  when specifying --read-inline-info=yes.

  * amd64 (x86_64): the RDRAND and F16C insn set extensions are now supported.

  * ==================== TOOL CHANGES ====================

  * DHAT:

  - DHAT been thoroughly overhauled, improved, and given a GUI.  As a result,
    it has been promoted from an experimental tool to a regular tool.  Run it
    with --tool=dhat instead of --tool=exp-dhat.

  - DHAT now prints only minimal data when the program ends, instead writing
    the bulk of the profiling data to a file.  As a result, the --show-top-n
    and --sort-by options have been removed.

  - Profile results can be viewed with the new viewer, dh_view.html.  When
    a run ends, a short message is printed, explaining how to view the result.

  - See the documentation for more details.

  * Cachegrind:

  - cg_annotate has a new option, --show-percs, which prints percentages next
    to all event counts.

  * Callgrind:

  - callgrind_annotate has a new option, --show-percs, which prints percentages
    next to all event counts.

  - callgrind_annotate now inserts commas in call counts, and
    sort the caller/callee lists in the call tree.

  * Massif:

  - The default value for --read-inline-info is now "yes" on
    Linux/Android/Solaris. It is still "no" on other OS.

  * Memcheck:

  - The option --xtree-leak=yes (to output leak result in xtree format)
    automatically activates the option --show-leak-kinds=all, as xtree
    visualisation tools such as kcachegrind can in any case select what kind
    of leak to visualise.

  - There has been further work to avoid false positives.  In particular,
    integer equality on partially defined inputs (C == and !=) is now handled
    better.

- remove 0001-Bug-385411-s390x-Add-z13-vector-floating-point-suppo.patch
   0001-Bug-385411-s390x-Tests-and-internals-for-z13-vector-.patch
   0001-Bug-397187-s390x-Add-vector-register-support-for-vgd.patch
   0001-Bug-399444-s390x-Drop-unnecessary-check-in-s390_irge.patch
   0001-Bug-400490-s390x-Fix-register-allocation-for-VRs-vs-.patch
   0001-Bug-400491-s390x-Sign-extend-immediate-operand-of-LO.patch
   0001-Bug-402519-POWER-3.0-addex-instruction-incorrectly-i.patch
   0001-Bug-403552-s390x-Fix-vector-facility-bit-number.patch
   0001-s390x-more-fixes.patch
   Implement-emulated-system-registers.-Fixes-392146.patch (all upstream)

-------------------------------------------------------------------
Wed Apr 24 17:43:06 UTC 2019 - Martin Liška <mliska@suse.cz>

- Disable LTO (boo#1133288).

-------------------------------------------------------------------
Tue Feb 19 21:54:58 UTC 2019 - Dirk Mueller <dmueller@suse.com>

- add 0001-Bug-385411-s390x-Add-z13-vector-floating-point-suppo.patch
  0001-Bug-385411-s390x-Tests-and-internals-for-z13-vector-.patch
  0001-Bug-399444-s390x-Drop-unnecessary-check-in-s390_irge.patch
  0001-Bug-403552-s390x-Fix-vector-facility-bit-number.patch (bsc#1124111)

-------------------------------------------------------------------
Sat Feb  9 08:41:25 UTC 2019 - schwab@suse.de

- Don't package files twice on ppc64

-------------------------------------------------------------------
Wed Jan 16 16:23:35 UTC 2019 - Michal Suchanek <msuchanek@suse.de>

- Fix POWER9 addex instruction emulation (bsc#1121025).
  0001-Bug-402519-POWER-3.0-addex-instruction-incorrectly-i.patch

-------------------------------------------------------------------
Fri Jan 11 12:30:42 UTC 2019 - Dirk Mueller <dmueller@suse.com>

- split into a -32bit subpackage, fix buildrequires for older distros

-------------------------------------------------------------------
Thu Dec  6 02:53:30 UTC 2018 - Bernhard Wiedemann <bwiedemann@suse.com>

- drop unreproducible unused .a files to make the package build
  reproducible (boo#1118163)

-------------------------------------------------------------------
Sun Nov 25 21:06:20 UTC 2018 - olaf@aepfle.de

- update valgrind.xen.patch to branch bug390553-20181125-ddfc274b2

-------------------------------------------------------------------
Thu Nov 22 09:21:45 UTC 2018 - Dirk Mueller <dmueller@suse.com>

- build against Toolchain module for SLE12
- add 0001-Bug-397187-s390x-Add-vector-register-support-for-vgd.patch
  0001-Bug-400490-s390x-Fix-register-allocation-for-VRs-vs-.patch,
  0001-Bug-400491-s390x-Sign-extend-immediate-operand-of-LO.patch,
  0001-s390x-more-fixes.patch,
  Implement-emulated-system-registers.-Fixes-392146.patch (FATE#326355)
- enable check (poo#36751)

-------------------------------------------------------------------
Wed Nov 21 11:51:45 UTC 2018 - Dirk Mueller <dmueller@suse.com>

- update to 3.14.0 (bsc#1114575, FATE#326355):
  see http://www.valgrind.org/docs/manual/dist.news.html
  * The new option --keep-debuginfo=no|yes (default no) can be used to retain
    debug info for unloaded code.  This allows saved stack traces (e.g. for
    memory leaks) to include file/line info for code that has been dlclose'd (or
    similar).  See the user manual for more information and known limitations.
  * Ability to specify suppressions based on source file name and line number.
  * Majorly overhauled register allocator.  No end-user changes, but the JIT
    generates code a bit more quickly now.
  * Preliminary support for macOS 10.13 has been added.
  * mips: support for MIPS32/MIPS64 Revision 6 has been added.
  * mips: support for MIPS SIMD architecture (MSA) has been added.
  * mips: support for MIPS N32 ABI has been added.
  * s390: partial support for vector instructions (integer and string) has been
    added.
  * Helgrind: Addition of a flag
    --delta-stacktrace=no|yes [yes on linux amd64/x86]
    which specifies how full history stack traces should be computed.
    Setting this to =yes can speed up Helgrind by 25% when using
    --history-level=full.
  * Memcheck: reduced false positive rate for optimised code created by Clang 6
    / LLVM 6 on x86, amd64 and arm64.  In particular, Memcheck analyses code
    blocks more carefully to determine where it can avoid expensive definedness
    checks without loss of precision.  This is controlled by the flag
    --expensive-definedness-checks=no|auto|yes [auto].
  * Valgrind is now buildable with link-time optimisation (LTO).  A new
    configure option --enable-lto=yes allows building Valgrind with LTO.  If the
    toolchain supports it, this produces a smaller/faster Valgrind (up to 10%).
    Note that if you are doing Valgrind development, --enable-lto=yes massively
    slows down the build process.
- remove epoll-wait-fix.patch,
  Fix-access-to-time-base-register-to-return-64-bits.patch,
  0001-Accept-read-only-PT_LOAD-segments-and-.rodata.patch (upstream),

-------------------------------------------------------------------
Tue Sep 25 16:32:22 UTC 2018 - Michal Suchanek <msuchanek@suse.com>

- valgrind truncates powerpc timebase to 32-bits (bsc#1109589).
  Fix-access-to-time-base-register-to-return-64-bits.patch

-------------------------------------------------------------------
Thu Sep 13 05:08:58 UTC 2018 - dmueller@suse.com

- valgrind.xen.patch: refresh

-------------------------------------------------------------------
Tue Aug 28 19:39:14 UTC 2018 - stefan.bruens@rwth-aachen.de

- Filter out -m64 from optflags, breaks build of 32 bit parts
- Cleanup, remove suse_version < 1100 conditionals
- Use %license for COPYING, COPYING.DOCS

-------------------------------------------------------------------
Mon Aug 27 22:22:17 UTC 2018 - stefan.bruens@rwth-aachen.de

- Fix missing debuginfo with current binutils, boo#1103239
  0001-Accept-read-only-PT_LOAD-segments-and-.rodata.patch

-------------------------------------------------------------------
Fri Jun  8 08:07:03 UTC 2018 - mbrugger@suse.com

- ad Implement-emulated-system-registers.-Fixes-392146.patch (bsc#1086543)

-------------------------------------------------------------------
Thu Feb 22 13:07:05 UTC 2018 - olaf@aepfle.de

- add valgrind.xen.patch to handle Xen 4.10 (fate#321394, fate#322686)

-------------------------------------------------------------------
Mon Oct 30 11:00:12 UTC 2017 - dmueller@suse.com

- add epoll-wait-fix.patch (bsc#1064958)

-------------------------------------------------------------------
Sun Jun 25 11:06:19 UTC 2017 - dmueller@suse.com

- update to 3.13.0 (fate#321455):
  - remove fix-ppcl64-clobber-list.patch
  3.13.0 is a feature release with many improvements and the
  usual collection of bug fixes.
  See http://valgrind.org/docs/manual/dist.news.html

-------------------------------------------------------------------
Tue Apr 25 07:57:46 UTC 2017 - mliska@suse.cz

- Add fix-ppcl64-clobber-list.patch: fix clobber list on ppcl64le,
  it's backport of upstream patch.

-------------------------------------------------------------------
Tue Dec 27 21:48:56 UTC 2016 - foss@grueninger.de

- update to 3.12.0 (bsc#1017016, FATE#321455, bsc#987635, CVE-2016-6131)
  * 3.12.0 is a feature release with many improvements and the usual
  collection of bug fixes. The full changelog can be found at
  http://valgrind.org/docs/manual/dist.news.html
  or
  /usr/share/doc/packages/valgrind/NEWS
- droped patches which are part of the release:
  gcc5.patch, r15702.diff, r15792.diff, r15802.diff, svn-r15766.patch,
  vex-r3197.diff, vex-r3210.diff, vex-r3213.diff

-------------------------------------------------------------------
Thu Oct 20 00:42:48 UTC 2016 - stefan.bruens@rwth-aachen.de

- add vex-r3213.diff (kde#356393)

-------------------------------------------------------------------
Sat May 28 11:01:13 UTC 2016 - dmueller@suse.com

- add vex-r3197.diff (bsc#981447)

-------------------------------------------------------------------
Wed Apr 20 09:13:09 UTC 2016 - jslaby@suse.com

- The previous did not help, remove -strong first.

-------------------------------------------------------------------
Tue Apr 19 09:49:36 UTC 2016 - meissner@suse.com

- also remove -fstack-protector-strong from the CFLAGS

-------------------------------------------------------------------
Fri Apr  1 10:37:37 UTC 2016 - dmueller@suse.com

- add r15702.diff, r15792.diff, vex-r3210.diff, r15802.diff (fate#319608)

-------------------------------------------------------------------
Mon Feb 22 14:21:40 UTC 2016 - schwab@suse.de

- glibc-version.patch: removed, no longer needed

-------------------------------------------------------------------
Mon Feb 15 16:04:59 UTC 2016 - dmueller@suse.com

- update to 3.11.0 (fate#319608):
  * 3.11.0 is a feature release with many improvements and the usual
  collection of bug fixes.
- replace gcc-version.patch with gcc5.patch: This is the upstream
  version
- drop valgrind-linux-4.0.patch: merged upstream
- add svn-r15766.patch: Fix valgrind with recent kernels
- jit-register-unregister.diff commented out, needs porting

-------------------------------------------------------------------
Thu Aug  6 12:09:47 UTC 2015 - schwab@suse.de

- glibc-version.patch: Add support for glibc 2.22.

-------------------------------------------------------------------
Fri Apr 24 07:08:01 UTC 2015 - dimstar@opensuse.org

- Add valgrind-linux-4.0.patch: Fix build with linux kernel 4.0+.
  Taken from svn, rev 14955.

-------------------------------------------------------------------
Thu Apr  2 18:07:55 UTC 2015 - mpluskal@suse.com

- Cleanup spec file with spec-cleaner
- Update to 3.10.1
  * bugfix release (for full list of solved issues see NEWS file)

-------------------------------------------------------------------
Thu Feb 12 11:46:20 UTC 2015 - rguenther@suse.com

- gcc-version.patch: Add support for GCC 5.

-------------------------------------------------------------------
Mon Feb  9 13:41:38 UTC 2015 - schwab@suse.de

- glibc-version.patch: Add support for glibc 2.21.

-------------------------------------------------------------------
Tue Sep 16 15:39:34 UTC 2014 - schwab@suse.de

- glibc-2.19.patch: already upstream, so remove
- Fix file list

-------------------------------------------------------------------
Tue Sep 16 15:27:20 UTC 2014 - dmueller@suse.com

- update to 3.10.0:
  * Support for the 64-bit ARM Architecture (AArch64 ARMv8).  This port
    is mostly complete, and is usable, but some SIMD instructions are as
    yet unsupported.
  * Support for little-endian variant of the 64-bit POWER architecture.
  * Support for Android on MIPS32.
  * Support for 64bit FPU on MIPS32 platforms.
  * Both 32- and 64-bit executables are supported on MacOSX 10.8 and 10.9.
  * Configuration for and running on Android targets has changed.
    See README.android in the source tree for details.
  - drop VEX-r2803.diff, VEX-r2808.diff, VEX-r2816.diff, VEX-r2858.diff,
  VEX-r2904.diff, VEX-r2910.diff, VEX-r2914.diff, VEX-r2915.diff,
  VEX-r2916.diff, aarch64-VEX-support.diff, aarch64-support.diff,
  r13767.diff, r13770.diff, r14184.diff, r14238.diff, r14239.diff,
  r14240.diff, r14246.diff, r2798.diff, valgrind-r13948.diff

-------------------------------------------------------------------
Sun Aug 17 21:46:19 UTC 2014 - dmueller@suse.com

- update for ppc64le support (bnc#880334):
  - drop: valgrind-3.9.0-merge.patches.from.Paul.McKenney.patch,
  valgrind-3.9.0-ppc64le-abiv2.patch

  - add: VEX-r2803.diff, VEX-r2808.diff, VEX-r2816.diff
  VEX-r2904.diff, VEX-r2910.diff, VEX-r2914.diff, VEX-r2915.diff,
  VEX-r2916.diff, r13767.diff, r13770.diff, r14184.diff, r14238.diff,
  r14239.diff, r14240.diff, r14246.diff

-------------------------------------------------------------------
Sat Jul 26 18:02:35 UTC 2014 - schwab@suse.de

- Fix patch conflicts.

-------------------------------------------------------------------
Wed Jun 18 15:08:53 UTC 2014 - dmueller@suse.com

- add VEX-r2858.diff, valgrind-r13948.diff for (bnc#883157)

-------------------------------------------------------------------
Sun May 18 12:34:01 UTC 2014 - schwab@suse.de

- Update aarch64-support.diff, aarch64-VEX-support.diff from svn

-------------------------------------------------------------------
Thu Apr 24 08:45:51 UTC 2014 - dmueller@suse.com

- add aarch64-support.diff, aarch64-VEX-support.diff: aarch64 support

-------------------------------------------------------------------
Tue Feb 18 14:33:22 UTC 2014 - dmueller@suse.com

- added patches:
  * r2798.diff

-------------------------------------------------------------------
Tue Feb 11 11:28:45 UTC 2014 - schwab@suse.de

- glibc-2.19.patch: add support for glibc 2.19

-------------------------------------------------------------------
Mon Jan 13 09:12:21 UTC 2014 - normand@linux.vnet.ibm.com

- add support of ppc64le architecture

- added patches:
  * valgrind-3.9.0-merge.patches.from.Paul.McKenney.patch
  * valgrind-3.9.0-ppc64le-abiv2.patch

-------------------------------------------------------------------
Fri Jan  3 19:26:23 UTC 2014 - dmueller@suse.com

- add armv6-support.diff: Add support for armv6hl

-------------------------------------------------------------------
Wed Nov  6 19:43:17 UTC 2013 - burnus@net-b.de

- update to 3.9.0:
* Support for Intel AVX2 instructions.  This is available only on 64
  bit code.
* Support for POWER8 (Power ISA 2.07) instructions.
* Initial support for Intel Transactional Synchronization Extensions,
  both RTM and HLE.
* Initial support for Hardware Transactional Memory on POWER.
* Improvements in handling of vectorised code, leading to
  significantly fewer false error reports.  You need to use the flag
  --partial-loads-ok=yes to get the benefits of these changes.
* Better control over the leak checker.  It is now possible to
  specify which leak kinds (definite/indirect/possible/reachable)
  should be displayed.
* Reduced "possible leak" reports from the leak checker by the use
  of better heuristics.
* Better control of stacktrace acquisition for heap-allocated
  blocks.
* Better reporting of leak suppression usage.
* New and modified GDB server monitor features.
* New flag --sigill-diagnostics to control whether a diagnostic
  message is printed when the JIT encounters an instruction it can't
  translate.
* The maximum amount of memory that Valgrind can use on 64 bit
  targets has been increased from 32GB to 64GB.
* Additional smaller new features and many bug fixes.
- Remove obsolete raise-segnames-limit.diff,
  valgrind-glibc-2.17.patch and valgrind-glibc-2.18.patch.

-------------------------------------------------------------------
Tue Aug 13 15:13:20 UTC 2013 - schwab@suse.de

- valgrind-glibc-2.18.patch: add support for glibc 2.18

-------------------------------------------------------------------
Fri Apr  5 09:56:57 UTC 2013 - idonmez@suse.com

- Add Source URL, see https://en.opensuse.org/SourceUrls

-------------------------------------------------------------------
Mon Dec 31 14:26:31 UTC 2012 - idonmez@suse.com

- Fix last patch

-------------------------------------------------------------------
Mon Dec 31 09:12:06 UTC 2012 - idonmez@suse.com

- Add valgrind-glibc-2.17.patch to fix compilation with glibc 2.17

-------------------------------------------------------------------
Thu Oct  4 11:36:36 UTC 2012 - dmueller@suse.com

- raise seglimit to make it more useful for some apps

-------------------------------------------------------------------
Thu Sep 20 16:34:47 UTC 2012 - burnus@net-b.de

- update to 3.8.1 (bnc#776211):
* Fixes some assertion failures.
* Support for some missing instructions on ARM.
* Support instructions MOVAPS and TZCNT.
* Bug fixes.

-------------------------------------------------------------------
Wed Sep  5 15:19:09 UTC 2012 - dmueller@suse.com

- update to 3.8.0 (FATE#314090):
* Support for MIPS32 platforms running Linux.  Valgrind has been
  tested on MIPS32 and MIPS32r2 platforms running different Debian
  Squeeze and MeeGo distributions.  Both little-endian and big-endian
  cores are supported.  The tools Memcheck, Massif and Lackey have
  been tested and are known to work. See README.mips for more details.

* Preliminary support for Android running on x86.

* Preliminary (as-yet largely unusable) support for MacOSX 10.8.

* Support for Intel AVX instructions and for AES instructions.  This
  support is available only for 64 bit code.

* Support for POWER Decimal Floating Point instructions.

* Non-libc malloc implementations are now supported.  This is useful
  for tools that replace malloc (Memcheck, Massif, DRD, Helgrind).
  Using the new option --soname-synonyms, such tools can be informed
  that the malloc implementation is either linked statically into the
  executable, or is present in some other shared library different
  from libc.so.  This makes it possible to process statically linked
  programs, and programs using other malloc libraries, for example
  TCMalloc or JEMalloc.

* For tools that provide their own replacement for malloc et al, the
  option --redzone-size=<number> allows users to specify the size of
  the padding blocks (redzones) added before and after each client
  allocated block.  Smaller redzones decrease the memory needed by
  Valgrind.  Bigger redzones increase the chance to detect blocks
  overrun or underrun.  Prior to this change, the redzone size was
  hardwired to 16 bytes in Memcheck.
* Memcheck:

  - The leak_check GDB server monitor command now can
    control the maximum nr of loss records to output.

  - Reduction of memory use for applications allocating
    many blocks and/or having many partially defined bytes.

  - Addition of GDB server monitor command 'block_list' that lists
    the addresses/sizes of the blocks of a leak search loss record.

  - Addition of GDB server monitor command 'who_points_at' that lists
    the locations pointing at a block.

  - If a redzone size > 0 is given, VALGRIND_MALLOCLIKE_BLOCK now will
    detect an invalid access of these redzones, by marking them
    noaccess.  Similarly, if a redzone size is given for a memory
    pool, VALGRIND_MEMPOOL_ALLOC will mark the redzones no access.
    This still allows to find some bugs if the user has forgotten to
    mark the pool superblock noaccess.

  - Performance of memory leak check has been improved, especially in
    cases where there are many leaked blocks and/or many suppression
    rules used to suppress leak reports.

  - Reduced noise (false positive) level on MacOSX 10.6/10.7, due to
    more precise analysis, which is important for LLVM/Clang
    generated code.  This is at the cost of somewhat reduced
    performance.  Note there is no change to analysis precision or
    costs on Linux targets.

* DRD:

  - Added even more facilities that can help finding the cause of a data
    race, namely the command-line option --ptrace-addr and the macro
    DRD_STOP_TRACING_VAR(x). More information can be found in the manual.

  - Fixed a subtle bug that could cause false positive data race reports.

* The C++ demangler has been updated so as to work well with C++
  compiled by up to at least g++ 4.6.

* Tool developers can make replacement/wrapping more flexible thanks
  to the new option --soname-synonyms.  This was reported above, but
  in fact is very general and applies to all function
  replacement/wrapping, not just to malloc-family functions.

* Round-robin scheduling of threads can be selected, using the new
  option --fair-sched= yes.  Prior to this change, the pipe-based
  thread serialisation mechanism (which is still the default) could
  give very unfair scheduling.  --fair-sched=yes improves
  responsiveness of interactive multithreaded applications, and
  improves repeatability of results from the thread checkers Helgrind
  and DRD.

* For tool developers: support to run Valgrind on Valgrind has been
  improved.  We can now routinely Valgrind on Helgrind or Memcheck.

* gdbserver now shows the float shadow registers as integer
  rather than float values, as the shadow values are mostly
  used as bit patterns.

* Increased limit for the --num-callers command line flag to 500.

* Performance improvements for error matching when there are many
  suppression records in use.

* Improved support for DWARF4 debugging information (bug 284184).

* Initial support for DWZ compressed Dwarf debug info.

* Improved control over the IR optimiser's handling of the tradeoff
  between performance and precision of exceptions.  Specifically,
  --vex-iropt-precise-memory-exns has been removed and replaced by
  --vex-iropt-register-updates, with extended functionality.  This
  allows the Valgrind gdbserver to always show up to date register
  values to GDB.

* Modest performance gains through the use of translation chaining for
  JIT-generated code.

-------------------------------------------------------------------
Fri Aug 17 09:39:39 UTC 2012 - burnus@net-b.de

- Support TZCNT/LZCNT instructions, generated by GCC 4.8,
  by falling back to BSF/BSR. (bnc#776211)

-------------------------------------------------------------------
Sun Jul 22 06:31:31 UTC 2012 - aj@suse.de

- Support glibc 2.16.

-------------------------------------------------------------------
Mon Jun  4 17:38:56 UTC 2012 - dmueller@suse.com

- arch is now armv7hl

-------------------------------------------------------------------
Tue May 15 12:46:38 UTC 2012 - sndirsch@suse.com

- add "BuildRequires: pkgconfig" so the provides for
  "pkgconfig(valgrind)" gets created again

-------------------------------------------------------------------
Thu May 10 11:26:37 UTC 2012 - vuntz@opensuse.org

- Remove xorg-x11-devel BuildRequires: I can only guess it was
  there to make sure the xfree supp files are used, but they are
  used anyway by default. This helps resolve a build loop between
  libdrm and valgrind.

-------------------------------------------------------------------
Thu Apr 26 17:41:44 UTC 2012 - joop.boonen@opensuse.org

- Added patch valgrind-3.7.0-automake-1.11.2.patch to fix automake issue
  * See https://bugs.kde.org/show_bug.cgi?id=290719

-------------------------------------------------------------------
Thu Dec 29 09:33:04 CET 2011 - dmueller@suse.de

- fix build against glibc 2.15

-------------------------------------------------------------------
Mon Dec 19 06:53:32 UTC 2011 - adrian@suse.de

- build only on armv7l, not armv5

-------------------------------------------------------------------
Wed Nov 30 10:25:38 UTC 2011 - coolo@suse.com

- add automake as buildrequire to avoid implicit dependency

-------------------------------------------------------------------
Wed Nov  9 20:01:00 CET 2011 - dmueller@suse.de

- update to 3.7.0 (bnc#724215):
  * Support for IBM z/Architecture (s390x) running Linux.  Valgrind can
  analyse 64-bit programs running on z/Architecture.  Most user space
  instructions up to and including z10 are supported.
  See README.s390 for more details.
  * Support for the IBM Power ISA 2.06 (Power7 instructions)
  * Further solidification of support for SSE 4.2 in 64-bit mode
  * Memcheck:
  * - reduction of memory use in some circumstances
  * - improved handling of freed memory for finding more errors
  * - fix of a longstanding bug that could cause false negatives
  * Helgrind:
  * - Helgrind: performance improvements and major memory use reductions
  *  GDB server: Valgrind now has an embedded GDB server.  That means it
  is possible to control a Valgrind run from GDB, doing all the usual
  things that GDB can do (single stepping, breakpoints, examining
  data, etc).  Tool-specific functionality is also available.
  * Over 160 bugs have been fixed.

-------------------------------------------------------------------
Tue Oct 25 01:14:42 CEST 2011 - ro@suse.de

- fix build on ppc (32bit)

-------------------------------------------------------------------
Sun Oct  2 17:50:41 CEST 2011 - dmueller@suse.de

- enable build on %%arm

-------------------------------------------------------------------
Fri Aug 19 19:24:37 CEST 2011 - dmueller@suse.de

- fix build against glibc 2.14
- require the right version of glibc at runtime (part of fix for bnc#700362)

-------------------------------------------------------------------
Tue Jul  5 13:09:46 UTC 2011 - aj@suse.de

- Support Linux kernel 3.x (bnc#724215)

-------------------------------------------------------------------
Wed Jun 22 18:54:13 UTC 2011 - dmueller@suse.de

- fix merge error

-------------------------------------------------------------------
Sat Jun 18 17:09:08 UTC 2011 - dmueller@suse.de

- Improve Valgrind POWER6 and POWER7/P7 support (bnc#700358)

-------------------------------------------------------------------
Tue May 17 11:46:04 UTC 2011 - stefan.bruens@rwth-aachen.de

- revert removal for gcc-32bit requirement, breaks valgrinding
  32bit code on 64bit archs (bnc#705405)

-------------------------------------------------------------------
Mon Apr 11 13:11:43 CEST 2011 - dmueller@suse.de

- fix testsuite for s390 (kde#264800, kde#265762, kde#253206)
- Add folding rules for Clz32 and Clz64 (kde#243404)
- Refresh s390x port (kde#243404)

-------------------------------------------------------------------
Wed Mar 16 11:23:54 CET 2011 - dmueller@suse.de

- update to 3.6.1 (bnc#679106):
  3.6.1 is a bug fix release.  It adds support for some SSE4
  instructions that were omitted in 3.6.0 due to lack of time.  Initial
  support for glibc-2.13 has been added.  A number of bugs causing
  crashing or assertion failures have been fixed.

-------------------------------------------------------------------
Fri Oct 22 09:59:53 CEST 2010 - dmueller@suse.de

- update to 3.6.0:
  3.6.0 is a feature release with many significant improvements and the
  usual collection of bug fixes. See the NEWS file for details.

-------------------------------------------------------------------
Thu Oct 21 13:17:43 CEST 2010 - dmueller@suse.de

- apparently gcc-32bit does not exist on old code streams, but
  it seems to work without it as well

-------------------------------------------------------------------
Wed Oct 20 19:38:57 CEST 2010 - dmueller@suse.de

- disable building docs until I find a way to build them without
  network access

-------------------------------------------------------------------
Wed Oct 13 13:42:05 CEST 2010 - dmueller@suse.de

- add s390x port (FATE#310036)

- update to 3.6.0 snapshot:
  - Valgrind runs much faster when the --smc-check=all option is given.

  - Cachegrind has a new processing script, cg_diff, which finds the
    difference between two profiles.  It's very useful for evaluating the
    performance effects of a change in a program.

    Related to this change, the meaning of cg_annotate's (rarely-used)
    --threshold option has changed; this is unlikely to affect many people, if
    you do use it please see the user manual for details.

  - Callgrind now can do branch prediction simulation, similar to Cachegrind.
    In addition, it optionally can count the number of executed global bus events.
    Both can be used for a better approximation of a "Cycle Estimation" as
    derived event (you need to update the event formula in KCachegrind yourself).

  - Cachegrind and Callgrind now refer to the LL (last-level) cache rather
    than the L2 cache.  This is to accommodate machines with three levels of
    caches -- if Cachegrind/Callgrind auto-detects the cache configuration of
    such a machine it will run the simulation as if the L2 cache isn't
    present.  This means the results are less likely to match the true result
    for the machine, but Cachegrind/Callgrind's results are already only
    approximate, and should not be considered authoritative.  The results are
    still useful for giving a general idea about a program's locality.

  - Massif has a new option, --pages-as-heap, which is disabled by default.
    When enabled, instead of tracking allocations at the level of heap blocks
    (as allocated with malloc/new/new[]), it instead tracks memory allocations
    at the level of memory pages (as mapped by mmap, brk, etc).  Each mapped
    page is treated as its own block.  Interpreting the page-level output is
    harder than the heap-level output, but this option is useful if you want
    to account for every byte of memory used by a program.

  - Added new memcheck command-line option --show-possibly-lost.

  - Support for analyzing programs running under Wine with has been improved.
    The header files <valgrind/valgrind.h>, <valgrind/memcheck.h> and
    <valgrind/drd.h> can now be used in Windows-programs compiled with MinGW
    or one of the Microsoft Visual Studio compilers.

  - DRD does now have two new command-line options: --free-is-write and
    --trace-alloc. The former allows to detect reading from already freed
    memory, and the latter allows to trace all memory allocations and
    deallocations.

  - Several new annotations have been added in DRD: custom barrier
    implementations can now be annotated and benign races on static variables
    too.

  - The happens before / happens after annotations in DRD have been made more
    powerful such that these can now also be used to annotate e.g. a smart
    pointer implementation.

-------------------------------------------------------------------
Thu Sep 23 13:16:16 CEST 2010 - dmueller@suse.de

- increase stack size (bnc#640793)

-------------------------------------------------------------------
Fri May  7 13:44:18 CEST 2010 - dmueller@suse.de

- fix build for ppc64

-------------------------------------------------------------------
Mon Apr 26 16:14:02 CEST 2010 - dmueller@suse.de

- handle pthread apps better (bnc#599585)
- prefer CFI for better stack unwinding (bnc#559061)

-------------------------------------------------------------------
Fri Mar 26 13:56:19 CET 2010 - dmueller@suse.de

- handle inotify_init1 (bnc#558964)

-------------------------------------------------------------------
Wed Jan  6 17:54:54 CET 2010 - dmueller@suse.de

- fix build against glibc 2.11

-------------------------------------------------------------------
Wed Dec  2 22:25:34 CET 2009 - dmueller@suse.de

- update and reenable jit-register-unregister.diff

-------------------------------------------------------------------
Tue Nov  3 19:09:50 UTC 2009 - coolo@novell.com

- updated patches to apply with fuzz=0

-------------------------------------------------------------------
Tue Sep  8 09:34:49 CEST 2009 - dmueller@suse.de

- update to 3.5.0:
  * Support for glibc 2.10, gcc 4.5 has been added.
  * Improvements and simplifications to Memcheck's leak checker.
  * Clarification and simplifications in various aspects of Valgrind's
    text output.
  * XML output for Helgrind and Ptrcheck.
  * Performance and stability improvements for Helgrind and DRD.
  * Genuinely atomic support for x86/amd64/ppc atomic instructions.
  * A new experimental tool, BBV, useful for computer architecture
    research.
  * Improved Wine support, including ability to read Windows PDB
    debuginfo.

-------------------------------------------------------------------
Fri Mar 13 01:52:58 CET 2009 - dmueller@suse.de

- update to 3.4.1 (bnc#479701):
  * 3.4.1 is a bug-fix release that fixes some regressions and
  assertion failures in debug info reading in 3.4.0, most notably
  incorrect stack traces on amd64-linux on older (glibc-2.3 based)
  systems. Various other debug info problems are also fixed. A
  number of bugs in the exp-ptrcheck tool introduced in 3.4.0
  have been fixed.

-------------------------------------------------------------------
Fri Jan 23 01:52:58 CET 2009 - dmueller@suse.de

- update to 3.4.0:
  * http://www.valgrind.org/docs/manual/dist.news.html

-------------------------------------------------------------------
Sun Nov 23 00:45:36 CET 2008 - dmueller@suse.de

- update suppressions

-------------------------------------------------------------------
Thu Nov 20 00:32:49 CET 2008 - dmueller@suse.de

- fix .valgrindrc reading vulnerability (CVE-2008-4865, bnc#445013)
- add support for glibc 2.9

-------------------------------------------------------------------
Wed Nov  5 13:58:49 CET 2008 - dmueller@suse.de

- add syscall wrappers for pipe2

-------------------------------------------------------------------
Tue Jun 24 20:42:50 CEST 2008 - schwab@suse.de

- Add fadvice64 wrapper.

-------------------------------------------------------------------
Sun Jun 22 21:27:30 CEST 2008 - dmueller@suse.de

- update to 3.3.1:
    n-i-bz  Massif segfaults at exit
    n-i-bz  Memcheck asserts on Altivec code
    n-i-bz  fix sizeof bug in Helgrind
    n-i-bz  check fd on sys_llseek
    n-i-bz  update syscall lists to kernel 2.6.23.1
    n-i-bz  support sys_sync_file_range
    n-i-bz  handle sys_sysinfo, sys_getresuid, sys_getresgid on ppc64-linux
    n-i-bz  intercept memcpy in 64-bit ld.so's
    n-i-bz  Fix wrappers for sys_{futimesat,utimensat}
    n-i-bz  Minor false-error avoidance fixes for Memcheck
    n-i-bz  libmpiwrap.c: add a wrapper for MPI_Waitany
    n-i-bz  helgrind support for glibc-2.8
    n-i-bz  partial fix for mc_leakcheck.c:698 assert:
            'lc_shadows[i]->data + lc_shadows[i] ...
    n-i-bz  Massif/Cachegrind output corruption when programs fork
    n-i-bz  register allocator fix: handle spill stores correctly
    n-i-bz  add support for PA6T PowerPC CPUs
    126389  vex x86->IR: 0xF 0xAE (FXRSTOR)
    158525  ==126389
    152818  vex x86->IR: 0xF3 0xAC (repz lodsb)
    153196  vex x86->IR: 0xF2 0xA6 (repnz cmpsb)
    155011  vex x86->IR: 0xCF (iret)
    155091  Warning [...] unhandled DW_OP_ opcode 0x23
    156960  ==155901
    155528  support Core2/SSSE3 insns on x86/amd64
    155929  ms_print fails on massif outputs containing long lines
    157665  valgrind fails on shmdt(0) after shmat to 0
    157748  support x86 PUSHFW/POPFW
    158212  helgrind: handle pthread_rwlock_try{rd,wr}lock.
    158425  sys_poll incorrectly emulated when RES==0
    158744  vex amd64->IR: 0xF0 0x41 0xF 0xC0 (xaddb)
    160907  Support for a couple of recent Linux syscalls
    161285  Patch -- support for eventfd() syscall
    161378  illegal opcode in debug libm (FUCOMPP)
    160136  ==161378
    161487  number of suppressions files is limited to 10
    162386  ms_print typo in milliseconds time unit for massif
    161036  exp-drd: client allocated memory was never freed
    162663  signalfd_wrapper fails on 64bit linux

-------------------------------------------------------------------
Mon Apr 28 00:33:35 CEST 2008 - dmueller@suse.de

- update glibc 2.8 support

-------------------------------------------------------------------
Sun Dec 16 15:52:17 CET 2007 - dmueller@suse.de

- readd deprecated #define's (#348337)

-------------------------------------------------------------------
Wed Dec 12 00:19:19 CET 2007 - dmueller@suse.de

- update to 3.3.0 (final):
  * last minute bugfixes

-------------------------------------------------------------------
Thu Dec  6 02:05:38 CET 2007 - dmueller@suse.de

- update jit-support patch

-------------------------------------------------------------------
Mon Dec  3 21:37:39 CET 2007 - dmueller@suse.de

- update to 3.3.0 RC1:
  - Helgrind works again
  - Massif has been majorly overhauled
  - Cachegrind now does branch-prediction profiling
  - New experimental tools Omega and DRD
  - Many small refinements to stability, scalability and performance
  - Somewhat restructured documentation
  - Many bug fixes

------------------------------------------------------------------
Mon Nov 26 16:14:00 CET 2007 - dmueller@suse.de

- fix build against glibc 2.7

-------------------------------------------------------------------
Fri Sep 14 11:09:27 CEST 2007 - dmueller@suse.de

- fix divisions by zero in massif (#310234)

-------------------------------------------------------------------
Wed Sep 12 15:26:43 CEST 2007 - dmueller@suse.de

- fix build on ppc64 again
- update suppressions

-------------------------------------------------------------------
Fri Aug 24 15:28:26 CEST 2007 - dmueller@suse.de

- fix valgrind on x86_64 (#296803)

-------------------------------------------------------------------
Tue Aug 21 22:29:36 CEST 2007 - dmueller@suse.de

- suppression update

-------------------------------------------------------------------
Tue Jul 24 01:33:09 CEST 2007 - dmueller@suse.de

- update suppression file

-------------------------------------------------------------------
Mon Jul  9 17:50:59 CEST 2007 - dmueller@suse.de

- support JIT runtimes (#289490)

-------------------------------------------------------------------
Tue Jul  3 12:38:13 CEST 2007 - dmueller@suse.de

- update suppression file (#287090)

-------------------------------------------------------------------
Wed May 23 19:34:13 CEST 2007 - dmueller@suse.de

- build against glibc 2.6

-------------------------------------------------------------------
Thu Apr  5 16:09:51 CEST 2007 - dmueller@suse.de

- split into -devel subpackage

-------------------------------------------------------------------
Fri Mar 30 11:41:19 CEST 2007 - dmueller@suse.de

- add patch to track undefinedness in environment (#249676)

-------------------------------------------------------------------
Tue Jan 30 14:22:31 CET 2007 - dmueller@suse.de

- update to 3.2.3:
  * fixes two serious regressions introduced in 3.2.2
  * intercept stpcpy_chk (#234247)
- fix openat syscall wrapper (#240225)

-------------------------------------------------------------------
Thu Jan 25 15:08:36 CET 2007 - dmueller@suse.de

- intercept stpcpy_chk and memrchr as well (#234347)

-------------------------------------------------------------------
Tue Jan 23 10:59:24 CET 2007 - dmueller@suse.de

- switch to gcc-32bit on x86_64

-------------------------------------------------------------------
Mon Jan 22 17:07:04 CET 2007 - dmueller@suse.de

- update to 3.2.2:
  * many fixes for ppc 32/64 (#fate 301640)

-------------------------------------------------------------------
Tue Oct 17 11:09:11 CEST 2006 - dmueller@suse.de

- disable omega plugin for ppc/ppc64

-------------------------------------------------------------------
Mon Oct 16 19:34:44 CEST 2006 - dmueller@suse.de

- update to 3.2 BRANCH:
  * support glibc 2.5
  * update suppressions
- add omega plugin

-------------------------------------------------------------------
Sat Sep 16 01:28:38 CEST 2006 - dmueller@suse.de

- update to 3.2.1:
  * suppresion updates

-------------------------------------------------------------------
Fri Sep 15 14:09:05 CEST 2006 - dmueller@suse.de

- update to 3.2.1rc1:
  * about 36 bugfixes

-------------------------------------------------------------------
Wed Sep 13 17:26:19 CEST 2006 - stbinner@suse.de

- fix build with < Factory

-------------------------------------------------------------------
Mon Aug 28 13:37:11 CEST 2006 - dmueller@suse.de

- fix suppressions
- update drd plugin

-------------------------------------------------------------------
Thu Aug 24 14:52:38 CEST 2006 - dmueller@suse.de

- add experimental drd plugin
- fix build on x86_64

-------------------------------------------------------------------
Wed Aug  2 14:47:08 CEST 2006 - dmueller@suse.de

- also fix multibyte NOP parsing for x86_64

-------------------------------------------------------------------
Tue Aug  1 03:18:28 CEST 2006 - dmueller@suse.de

- add patch to handle multibyte NOPs as generated by
  recent binutils

-------------------------------------------------------------------
Wed Jun  7 11:26:29 CEST 2006 - dmueller@suse.de

- update to 3.2.0 final
  * only marginal changes since rc1

-------------------------------------------------------------------
Tue May 30 16:23:03 CEST 2006 - dmueller@suse.de

- update to 3.2.0 rc1:
  * ppc64 support
  * callgrind now integrated part
  * massive performance improvements
  * lots of emulation fixlets

-------------------------------------------------------------------
Thu Mar 16 10:30:52 CET 2006 - dmueller@suse.de

- update to 3.1.1 (FATE #300493)

-------------------------------------------------------------------
Wed Mar  6 16:31:21 CET 2006 - dmueller@suse.de

- various updates from branch to fix PPC32 support

-------------------------------------------------------------------
Mon Feb  6 19:49:33 CET 2006 - dmueller@suse.de

- Fix GDB support

-------------------------------------------------------------------
Mon Feb  6 10:19:24 CET 2006 - dmueller@suse.de

- Reduce BuildRequires

-------------------------------------------------------------------
Wed Jan 25 21:42:29 CET 2006 - mls@suse.de

- converted neededforbuild to BuildRequires

-------------------------------------------------------------------
Wed Jan  4 15:43:14 CET 2006 - dmueller@suse.de

- update to 3.1 branch

-------------------------------------------------------------------
Fri Dec  9 19:08:38 CET 2005 - dmueller@suse.de

- fix strict-aliasing issue

-------------------------------------------------------------------
Mon Nov 28 11:13:31 CET 2005 - dmueller@suse.de

- 3.1.0 final update

-------------------------------------------------------------------
Mon Nov 21 10:53:55 CET 2005 - dmueller@suse.de

- 3.1.0 RC1 update

-------------------------------------------------------------------
Thu Nov 10 02:05:13 CET 2005 - dmueller@suse.de

- update to 3.1 SVN

-------------------------------------------------------------------
Tue Nov  8 18:29:27 CET 2005 - dmueller@suse.de

- add hack to make valgrind work with apps that require executable stack

-------------------------------------------------------------------
Thu Sep 15 12:26:01 CEST 2005 - dmueller@suse.de

- update 3.0.1 final

-------------------------------------------------------------------
Thu Aug 25 01:52:35 CEST 2005 - dmueller@suse.de

- make massif work again

-------------------------------------------------------------------
Sun Aug 21 03:36:37 CEST 2005 - dmueller@suse.de

- fix trace-children=yes failure
- add default suppressions for SL 10

-------------------------------------------------------------------
Mon Aug 15 02:42:20 CEST 2005 - dmueller@suse.de

- regenerate VEX offset headers, otherwise it just hangs

-------------------------------------------------------------------
Fri Aug 12 12:54:17 CEST 2005 - dmueller@suse.de

- update to 3.0 branch to make it work on non-SSE platforms (#104181)

-------------------------------------------------------------------
Fri Aug  5 15:14:00 CEST 2005 - dmueller@suse.de

- initial package of 3.0

