From 99a62bb2bc01f042987a17e414a702ad2291ab26 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Dan=20=C4=8Cerm=C3=A1k?= <dcermak@suse.com>
Date: Wed, 1 Apr 2020 22:28:22 +0200
Subject: [PATCH 1/2] Use /var/run/ -> /run symlink for tests

The symlink /var/run -> /run is more common among different Linux distributions
than /sbin/ -> /usr/sbin. This makes the testsuite a bit more portable when
swapping the vagrant box for one of a different distro.
---
 test/misc/Vagrantfile | 2 +-
 test/misc/dotests.sh  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/test/misc/Vagrantfile b/test/misc/Vagrantfile
index e15376d..b975ffa 100644
--- a/test/misc/Vagrantfile
+++ b/test/misc/Vagrantfile
@@ -8,7 +8,7 @@ Vagrant.configure(2) do |config|
 
     # Test a forward mount to a location that is a symbolic link
     # https://github.com/dustymabe/vagrant-sshfs/issues/44
-    config.vm.synced_folder "/etc/", "/sbin/forward_slave_mount_sym_link_test/", type: "sshfs"
+    config.vm.synced_folder "/etc/", "/var/run/forward_slave_mount_sym_link_test/", type: "sshfs"
 
     # Test a forward normal mount:
     #     mounting a folder from a 3rd party host into guest
diff --git a/test/misc/dotests.sh b/test/misc/dotests.sh
index e133e8e..e80b4c9 100644
--- a/test/misc/dotests.sh
+++ b/test/misc/dotests.sh
@@ -8,7 +8,7 @@ vagrant ssh -- cat /tmp/forward_slave_mount_etc/machine-id
 
 # https://github.com/dustymabe/vagrant-sshfs/issues/44
 echo -en "Testing slave forward mount with a symlink!\n\t"
-vagrant ssh -- cat /usr/sbin/forward_slave_mount_sym_link_test/machine-id
+vagrant ssh -- cat /run/forward_slave_mount_sym_link_test/machine-id
 
 echo -en "Testing normal forward mount!\n\t"
 vagrant ssh -- cat /tmp/forward_normal_mount_etc/machine-id
-- 
2.26.0

