-------------------------------------------------------------------
Thu Apr 08 02:27:02 UTC 2021 - jenting.hsiao@suse.com

- Update to version 1.5.4:
  * Add cherry-pick commits and changelog for v1.5.4 (#3651)

-------------------------------------------------------------------
Sat Jan 16 13:59:15 UTC 2021 - jenting.hsiao@suse.com

- Update to version 1.5.3:
  * Add changelog for v1.5.3
  * Increased limit for Velero pod to 512M.  Fixes #3234
  * üêõ BSLs with validation disabled should be validated at least once (#3084)
  * Don't fail backup deletion if downloading tarball fails (#2993)
  * üêõ Do not run ItemAction plugins for unresolvable types for all types (#3059)
  * üêõ Use namespace and name to match PVB to Pod restore (#3051)
  * Adding fix for restic init container index on restores. (#3011)
  * v1.5.2 changelogs and cherry-picks (#3023)
  * Add changelog and docs for v1.5 release (#2941)
  * Spruce up release instructions and release scripts (#2931)

-------------------------------------------------------------------
Tue Nov 10 02:49:25 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Update to version v1.5.2
  - Fix BSL controller to avoid invoking init() on all BSLs regardless of ValidationFrequency (#2992, @betta1)
  - cli: allow creating multiple instances of Velero across two different namespaces (#2886, @alaypatel07)
  - Restore CRD Resource name to fix CRD wait functionality. (#2949, @sseago)
  - Ensure that bound PVCs and PVs remain bound on restore. (#3007, @nrb). This fixes CVE-2020-3996.

-------------------------------------------------------------------
Wed Oct 14 10:12:25 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Avoid double %setup calls.

-------------------------------------------------------------------
Tue Oct 13 01:05:31 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Update to version v1.5.1
  - Auto Volume Backup Using Restic with --default-volumes-to-restic flag
  - DeleteItemAction plugins
  - Code modernization
  - Restore Hooks: InitContianer Restore Hooks and Exec Restore Hooks

-------------------------------------------------------------------
Fri Jul 31 00:44:01 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Add patch: add a flag cacert for velero backup-location create

-------------------------------------------------------------------
Mon Jul 20 07:44:16 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Update to version v1.4.2
  - v1.4.2
    * log a warning instead of erroring if an additional item returned from a plugin can't be found in the Kubernetes API (#2595, @skriss)
    * Adjust restic default time out to 4 hours and base pod resource requests to 500m CPU/512Mi memory. (#2696, @nrb)
    * capture version of the CRD prior before invoking the remap_crd_version backup item action (#2683, @ashish-amarnath)
  - v1.4.0
    * increment restic volumesnapshot count after successful pvb create (#2542, @ashish-amarnath)
    * Add details of CSI volumesnapshotcontents associated with a backup to velero backup describe when the EnableCSI feature flag is given on the velero client. (#2448, @nrb)
    * Allow users the option to retrieve all versions of a given resource (instead of just the preferred version) from the API server with the EnableAPIGroupVersions feature flag. (#2373, @brito-rafa)
    * Changed backup tarball format to store all versions of a given resource, updated backup tarball format to 1.1.0. (#2373, @brito-rafa)
    * allow feature flags to be passed from install CLI (#2503, @ashish-amarnath)
    * sync backups' CSI API objects into the cluster as part of the backup sync controller (#2496, @ashish-amarnath)
    * bug fix: in error location logging hook, if the item logged under the error key doesn't implement the error interface, don't return an error since this is a valid scenario (#2487, @skriss)
    * bug fix: in CRD restore plugin, don't use runtime.DefaultUnstructuredConverter.FromUnstructured(...) to avoid conversion issues when float64 fields contain int values (#2484, @skriss)
    * during backup deletion also delete CSI volumesnapshotcontents that were created as a part of the backup but the associated volumesnapshot object does not exist (#2480, @ashish-amarnath)
    * If plugins don't support the --features flag, don't pass it to them. Also, update the standard plugin server to ignore unknown flags. (#2479, @skriss)
    * At backup time, if a CustomResourceDefinition appears to have been created via the v1beta1 endpoint, retrieve it from the v1beta1 endpoint instead of simply changing the APIVersion. (#2478, @nrb)
    * update container base images from ubuntu:bionic to ubuntu:focal (#2471, @skriss)
    * bug fix: when a resource includes/excludes list contains unresolvable items, don't remove them from the list, so that the list doesn't inadvertently end up matching all resources. (#2462, @skriss)
    * Azure: add support for getting storage account key for restic directly from an environment variable (#2455, @jaygridley)
    * Support to skip VSL validation for the backup having SnapshotVolumes set to false or created with --snapshot-volumes=false (#2450, @mynktl)
    * report backup progress (number of items backed up so far out of an estimated total number of items) during backup in the logs and as status fields on the Backup custom resource (#2440, @skriss)
    * bug fix: populate namespace in logs for backup errors (#2438, @skriss)
    * during backup deletion also delete CSI volumesnapshots that were created as a part of the backup (#2411, @ashish-amarnath)
    * bump Kubernetes module dependencies to v0.17.4 to get fix for kubernetes/kubernetes#86149 (#2407, @skriss)
    * bug fix: save PodVolumeBackup manifests to object storage even if the volume was empty, so that on restore, the PV is dynamically reprovisioned if applicable (#2390, @skriss)
    * Adding new restoreItemAction for PVC to update the selected-node annotation (#2377, @mynktl)
    * Added a --cacert flag to the install command to provide the CA bundle to use when verifying TLS connections to object storage (#2368, @mansam)
    * Added a --cacert flag to the velero client describe, download, and logs commands to allow passing a path to a certificate to use when verifying TLS connections to object storage. Also added a corresponding client config option called cacert which takes a path to a certificate bundle to use as a default when --cacert is not specified. (#2364, @mansam)
    * support setting a custom CA certificate on a BSL to use when verifying TLS connections (#2353, @mansam)
    * adding annotations on backup CRD for k8s major, minor and git versions (#2346, @brito-rafa)
    * When the EnableCSI feature flag is provided, upload CSI VolumeSnapshots and VolumeSnapshotContents to object storage as gzipped JSON. (#2323, @nrb)
    * add CSI snapshot API types into default restore priorities (#2318, @ashish-amarnath)
    * refactoring: wait for all informer caches to sync before running controllers (#2299, @skriss)
    * refactor restore code to lazily resolve resources via discovery and eliminate second restore loop for instances of restored CRDs (#2248, @skriss)
    * upgrade to go 1.14 and migrate from dep to go modules (#2214, @skriss)
    * clarify the wording for restore describe for namespaces included
  - v1.3.2
    * Allow plugins/ as a valid top-level directory within backup storage locations. This directory is a place for plugin authors to store arbitrary data as needed. It is recommended to create an additional subdirectory under plugins/ specifically for your plugin, e.g. plugins/my-plugin-data/. (#2350, @skriss)
    * bug fix: don't panic in velero restic repo get when last maintenance time is nil (#2315, @skriss)

-------------------------------------------------------------------
Tue Mar 24 05:55:22 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Pass git tree status = clean to fix `velero version` output Git commit with trailing dash

-------------------------------------------------------------------
Wed Mar 11 02:46:41 UTC 2020 - Clark Hsu <clark.hsu@suse.com>

- Bump version 1.3.1 

-------------------------------------------------------------------
Mon Mar  2 23:33:08 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Bump version 1.3.0

-------------------------------------------------------------------
Mon Feb 24 06:14:57 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Simplify rpm spec

-------------------------------------------------------------------
Fri Jan  3 09:13:35 UTC 2020 - Klaus K√§mpf <kkaempf@suse.com>

- fix velero-restic-restore-helper package name

-------------------------------------------------------------------
Fri Jan  3 09:13:20 UTC 2020 - Klaus K√§mpf <kkaempf@suse.com>

- Initial package v1.2.0
