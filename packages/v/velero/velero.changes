-------------------------------------------------------------------
Wed Apr 14 08:18:10 UTC 2021 - jenting.hsiao@suse.com

- Update to version 1.6.0:
  * Add changelog and docs for v1.6.0
  *  Upgrade docs for v1.6.0-rc2 (#3662)
  * Revert printer columns (#3652)
  * Add changelog and docs for v1.6.0-rc.1
  * Allow Dockerfiles to be configurable (#3634)
  * Remove unnecessary check
  * Adress Ashish's second review
  * Runs vSphere tests with snapshots (#3629)
  * Address Ashish's review
  * Addressed Bridget's review
  * Addressed Dave's review
  * Make uninstall more robust and informative
  * Added volume snapshot test for backup/restore. (#3592)
  * Improve GH Action PR assign + labeling (#3584)
  * Update upgrade docs (#3568)
  * Upgrade e2e tests to new plugin versions (v1.2)
  * Restore progress reporting bug fix (#3583)
  * Install plugins for additional BSL in E2E test (#3582)
  * Updated Azure plugin in e2e tests to 1.1.2 (latest) (#3585)
  * Upgrade restic from v0.9.6 to v0.12.0 (#3528)
  * Use Credential from BSL for restic commands  (#3489)
  * Partially revert adding credentials to VSL (#3561)
  * Address review comments
  * Add E2E test for multiple credentials
  * Prefer conditional waiting over magic sleep (#3527)
  * Proposed 1.7.0 roadmap (#3537)
  * Assign a smaller number of reviewers to PRs (#3543)
  * fix broken build (#3525)
  * Pass configured BSL credential to plugin via config (#3442)
  * Restore progress reporting (#3125)
  * Support cli uninstall (#3399)
  * Convert DownloadRequest resource/controller to kubebuilder  (#3004)
  * Update in-code documentation to show resources can be specified with group name (#3498)
  * (low priority) Add port fwding info to Tilt doc (#3424)
  * Combine CRD install verification into 1 job, and update k8s versions (#3448)
  * (low priority) Update to Thompson (#3502)
  * Install CA certificates in Tilt Docker image (#3496)
  * Update PR template to use checkbox task lists (#3492)
  * Use pod namespace from backup when matching PVBs (#3475)
  * added documentation for how velero handles encryption (#3463)
  * E2E tests now run in multiple clouds in addition to KIND (#3286)
  * fix typo in item_hook_handler (#3361)
  * Use controller-runtime client to get restic secrets (#3320)
  * Restore API group version by priority (#3133)
  * Document design doc template (#3443)
  * Really fix the Github pull request template (#3444)
  * Use label to select Velero deployment in plugin cmd (#3447)
  * Remove pull request processing from prow action (#3445)
  * Add changelog
  * Restore CAPI cluster objects in a better order
  * Use correct suffix for Labeler config file (#3441)
  * Pin version of labeler action
  * Better validation
  * Better help messages and validation check
  * Fix typo
  * Add changelog
  * Add credential field to the bsl
  * Enable Prow commands when opening or readying PRs
  * Correct PR template file name
  * Unify labels across GitHub Actions
  * Update version of prow-action (#3434)
  * Add colors to describe command (#3275)
  * Enable automatic labeling of PRs via Actions (#3431)
  * Close issues after 35 total days of inactivity. (#3427)
  * Download restic binary using curl (#3421)
  * feat: support set BackupStorageLocation(BSL) CA certificate (#3167)
  * Modify InitContainer checking function that potentially incurs error (#3198)
  * Instantiate the flag map on set
  * Replace NewObjectBackupStore with interface (#3329)
  * Download restic binary outside container (#3327)
  * Add changelog entry
  * Add snapshot-location set command
  * Add credential arg to snapshot-location create
  * Add credential field to VolumeSnapshotLocation
  * Proposal for handling multiple credential secrets (#2403)
  * remove FAQ pages
  * Added information about minimum space required for Minio install. (#3393)
  * Update docs for running velero locally (#3363)
  * Remove references to zenhub (#3357)
  * Reword message for Q&A issue template
  * Fix typo (#3352)
  * fix(tests): make tests pass?
  * chore(gomod): bump k8s version
  * chore(update): run 'make update'
  * fix(tests): make tests pass
  * fix: apply patch
  * feat(gomod): bump versions
  * chore(changelog): add changelog message
  * refactor(external-snapshotter): bump to v4
  * refactor(gomod): move replaces
  * Add Q&A discussion to issue templates (#3339)
  * Support fish shell completion (#3231)
  * Update docs to clarify backup location and relationship with other data (#3309)
  * Add Tilt configuration to debug using Delve (#3189)
  * Updated for new repository for Kibishii Distributed Data Generator for e2e tests (#3267)
  * Raise logging level for PV deletion timeout (#3316)
  * Minor kubebuilder related items to clean up  (#3180)
  * Download Restic binary and copy into Tilt Velero image (#3310)
  * Increased limit for Velero pod to 512M.  Fixes #3234
  * Capitalize all help messages (#3209)
  * Nominate JenTing Hsiao for core maintainer (#3188)
  * Improve name formatting logic and add more tests
  * Fix path to crds.go file in codespell config (#3185)
  * Minor refactor plus better documentation for naming
  * issue: add flag to the schedule cmd to configure the `useOwnerReferencesInBackup` option  #3176 (#3182)
  * Better name format for init containers
  * Tencent S3 Compatible Support Docs (#3115)
  * Owner reference in backup when created from schedule (#3127)
  * Ignore config/crd/crds/crds.go file in codespell (#3174)
  * Use inline markdown links in tables (#3114)
  * ‚ú® Add more E2E tests and improvement (#3111)
  * Add changelog
  * Improvements to BSL logic
  * Revert workflow access token changes (#3170)
  * Preserve nodePort support with --preserve-nodeports flag (#3095)
  * Add milestoned issues to their respective board (#3162)
  * Use new repository-local board & github secret (#3163)
  * Change distro (#3166)
  * Draft design doc for restoring API group version by priority level (#3050)
  * feat: support configure BSL CR to indicate which one is the default (#3092)
  * Add Tilt configs (#3119)
  * üêõ BSLs with validation disabled should be validated at least once (#3084)
  * Expand maintainer documentation (#3102)
  * Organize design docs (#3101)
  * Fix broken docker login action (#3121)
  * Upgrade to Docker provided buildx action for CI (#3110)
  * feat: add delete sub-command for backup-location (#3073)
  * Don't fail backup deletion if downloading tarball fails (#2993)
  * Add an E2E test framework to test Velero across cloud platforms (#3060)
  * üèÉ‚Äç‚ôÇÔ∏è reducing verbosity of another log message (#3109)
  * Modify function name typo (#3106)
  * Fix project automation (#3089)
  * üìñ Add docs to troubleshoot cloud-credentials (#3100)
  * pass annotations from scheduler to created backup (#3067)
  * Update to latest covenant coc (#3076)
  * propose restore progress (#3016)
  * Design doc for RestoreItemAction wait for AdditionalItems to be ready (#2867)
  * üèÉ‚Äç‚ôÇÔ∏è Turn down logging verbosity (#3091)
  * Add instructions to clone repo for examples (#3074)
  * üèÉ‚Äç‚ôÇÔ∏è update setup-kind github actions CI (#3085)
  * Add Dave Uchida (#3077)
  * üìñ use correct link to the minio.md (#3071)
  * Automate adding opened issues to the triage board (#3068)
  * üêõ Do not run ItemAction plugins for unresolvable types for all types (#3059)
  * .github/workflows: add PR codespell workflow (#3064)
  * Fix various typos found by codespell (#3057)
  * üêõ Use namespace and name to match PVB to Pod restore (#3051)
  * Add custom 404 page to website (#3056)
  * fixing 'velero.io/change-pvc-node-selector' plugin to fetch configmap using plugin name (#2970)
  * üèÉ‚Äç‚ôÇ Improve log message clarity (#3047)
  * üìñ Clarify restore hook init container priority (#3030)
  * Add additional printer columns for CRDs (#2881)
  * üìñ fix image links in how-velero-works page (#3031)
  * Add warning to velero version cmd. Fixes #3017 (#3024)
  * fix of microsoft typo in restic docs (#3037)
  * fix minio code samples (#3034)
  * Adding fix for restic init container index on restores. (#3011)
  * Ensure PVs and PVCs remain bound when doing a restore (#3007)
  * Add initial instructions for releasing plugins (#2952)
  * create CRB with velero-<namespace> (#2886)
  * Auto assign reviewers when PR is ready for review (#3006)
  * Check existing remote branches in release script (#2951)
  * Include --validate=false in upgrade instructions (#2969)
  * üìñ document restic limitation of backing only pod volumes (#2976)
  * Bump Go to 1.15 (#2974)
  * Fix BSL controller to avoid invoking init() on all BSLs regardless of ValidationFrequency (#2992)
  * Fix version cmd getting nil pointer (#2996)
  * Centralize + rename controller names and list (#2936)
  * Allow Timezone change in the container (#2944)
  * Update ROADMAP.md (#2986)
  * restore proper lowercase/plural CRD resource (#2949)
  * Stephanie Bauman is leaving the velero project (#2985)
  * Allow remote for release process to be configured (#2950)
  * Improve release docs following v1.5.1 release (#2954)
  * Fix adopters logos (#2968)
  * Don't attempt to publish docker images on forks (#2953)
  * Add Velero Office Hours info (#2962)
  * Fix 'subcommand required' error w/ cobra upgrade (#2947)
  * v1.5 blog post (#2940)

-------------------------------------------------------------------
Thu Apr 08 02:27:02 UTC 2021 - jenting.hsiao@suse.com

- Update to version 1.5.4:
  * Add cherry-pick commits and changelog for v1.5.4 (#3651)

-------------------------------------------------------------------
Sat Jan 16 13:59:15 UTC 2021 - jenting.hsiao@suse.com

- Update to version 1.5.3:
  * Add changelog for v1.5.3
  * Increased limit for Velero pod to 512M.  Fixes #3234
  * üêõ BSLs with validation disabled should be validated at least once (#3084)
  * Don't fail backup deletion if downloading tarball fails (#2993)
  * üêõ Do not run ItemAction plugins for unresolvable types for all types (#3059)
  * üêõ Use namespace and name to match PVB to Pod restore (#3051)
  * Adding fix for restic init container index on restores. (#3011)
  * v1.5.2 changelogs and cherry-picks (#3023)
  * Add changelog and docs for v1.5 release (#2941)
  * Spruce up release instructions and release scripts (#2931)

-------------------------------------------------------------------
Tue Nov 10 02:49:25 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Update to version v1.5.2
  - Fix BSL controller to avoid invoking init() on all BSLs regardless of ValidationFrequency (#2992, @betta1)
  - cli: allow creating multiple instances of Velero across two different namespaces (#2886, @alaypatel07)
  - Restore CRD Resource name to fix CRD wait functionality. (#2949, @sseago)
  - Ensure that bound PVCs and PVs remain bound on restore. (#3007, @nrb). This fixes CVE-2020-3996.

-------------------------------------------------------------------
Wed Oct 14 10:12:25 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Avoid double %setup calls.

-------------------------------------------------------------------
Tue Oct 13 01:05:31 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Update to version v1.5.1
  - Auto Volume Backup Using Restic with --default-volumes-to-restic flag
  - DeleteItemAction plugins
  - Code modernization
  - Restore Hooks: InitContianer Restore Hooks and Exec Restore Hooks

-------------------------------------------------------------------
Fri Jul 31 00:44:01 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Add patch: add a flag cacert for velero backup-location create

-------------------------------------------------------------------
Mon Jul 20 07:44:16 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Update to version v1.4.2
  - v1.4.2
    * log a warning instead of erroring if an additional item returned from a plugin can't be found in the Kubernetes API (#2595, @skriss)
    * Adjust restic default time out to 4 hours and base pod resource requests to 500m CPU/512Mi memory. (#2696, @nrb)
    * capture version of the CRD prior before invoking the remap_crd_version backup item action (#2683, @ashish-amarnath)
  - v1.4.0
    * increment restic volumesnapshot count after successful pvb create (#2542, @ashish-amarnath)
    * Add details of CSI volumesnapshotcontents associated with a backup to velero backup describe when the EnableCSI feature flag is given on the velero client. (#2448, @nrb)
    * Allow users the option to retrieve all versions of a given resource (instead of just the preferred version) from the API server with the EnableAPIGroupVersions feature flag. (#2373, @brito-rafa)
    * Changed backup tarball format to store all versions of a given resource, updated backup tarball format to 1.1.0. (#2373, @brito-rafa)
    * allow feature flags to be passed from install CLI (#2503, @ashish-amarnath)
    * sync backups' CSI API objects into the cluster as part of the backup sync controller (#2496, @ashish-amarnath)
    * bug fix: in error location logging hook, if the item logged under the error key doesn't implement the error interface, don't return an error since this is a valid scenario (#2487, @skriss)
    * bug fix: in CRD restore plugin, don't use runtime.DefaultUnstructuredConverter.FromUnstructured(...) to avoid conversion issues when float64 fields contain int values (#2484, @skriss)
    * during backup deletion also delete CSI volumesnapshotcontents that were created as a part of the backup but the associated volumesnapshot object does not exist (#2480, @ashish-amarnath)
    * If plugins don't support the --features flag, don't pass it to them. Also, update the standard plugin server to ignore unknown flags. (#2479, @skriss)
    * At backup time, if a CustomResourceDefinition appears to have been created via the v1beta1 endpoint, retrieve it from the v1beta1 endpoint instead of simply changing the APIVersion. (#2478, @nrb)
    * update container base images from ubuntu:bionic to ubuntu:focal (#2471, @skriss)
    * bug fix: when a resource includes/excludes list contains unresolvable items, don't remove them from the list, so that the list doesn't inadvertently end up matching all resources. (#2462, @skriss)
    * Azure: add support for getting storage account key for restic directly from an environment variable (#2455, @jaygridley)
    * Support to skip VSL validation for the backup having SnapshotVolumes set to false or created with --snapshot-volumes=false (#2450, @mynktl)
    * report backup progress (number of items backed up so far out of an estimated total number of items) during backup in the logs and as status fields on the Backup custom resource (#2440, @skriss)
    * bug fix: populate namespace in logs for backup errors (#2438, @skriss)
    * during backup deletion also delete CSI volumesnapshots that were created as a part of the backup (#2411, @ashish-amarnath)
    * bump Kubernetes module dependencies to v0.17.4 to get fix for kubernetes/kubernetes#86149 (#2407, @skriss)
    * bug fix: save PodVolumeBackup manifests to object storage even if the volume was empty, so that on restore, the PV is dynamically reprovisioned if applicable (#2390, @skriss)
    * Adding new restoreItemAction for PVC to update the selected-node annotation (#2377, @mynktl)
    * Added a --cacert flag to the install command to provide the CA bundle to use when verifying TLS connections to object storage (#2368, @mansam)
    * Added a --cacert flag to the velero client describe, download, and logs commands to allow passing a path to a certificate to use when verifying TLS connections to object storage. Also added a corresponding client config option called cacert which takes a path to a certificate bundle to use as a default when --cacert is not specified. (#2364, @mansam)
    * support setting a custom CA certificate on a BSL to use when verifying TLS connections (#2353, @mansam)
    * adding annotations on backup CRD for k8s major, minor and git versions (#2346, @brito-rafa)
    * When the EnableCSI feature flag is provided, upload CSI VolumeSnapshots and VolumeSnapshotContents to object storage as gzipped JSON. (#2323, @nrb)
    * add CSI snapshot API types into default restore priorities (#2318, @ashish-amarnath)
    * refactoring: wait for all informer caches to sync before running controllers (#2299, @skriss)
    * refactor restore code to lazily resolve resources via discovery and eliminate second restore loop for instances of restored CRDs (#2248, @skriss)
    * upgrade to go 1.14 and migrate from dep to go modules (#2214, @skriss)
    * clarify the wording for restore describe for namespaces included
  - v1.3.2
    * Allow plugins/ as a valid top-level directory within backup storage locations. This directory is a place for plugin authors to store arbitrary data as needed. It is recommended to create an additional subdirectory under plugins/ specifically for your plugin, e.g. plugins/my-plugin-data/. (#2350, @skriss)
    * bug fix: don't panic in velero restic repo get when last maintenance time is nil (#2315, @skriss)

-------------------------------------------------------------------
Tue Mar 24 05:55:22 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Pass git tree status = clean to fix `velero version` output Git commit with trailing dash

-------------------------------------------------------------------
Wed Mar 11 02:46:41 UTC 2020 - Clark Hsu <clark.hsu@suse.com>

- Bump version 1.3.1 

-------------------------------------------------------------------
Mon Mar  2 23:33:08 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Bump version 1.3.0

-------------------------------------------------------------------
Mon Feb 24 06:14:57 UTC 2020 - jenting hsiao <jenting.hsiao@suse.com>

- Simplify rpm spec

-------------------------------------------------------------------
Fri Jan  3 09:13:35 UTC 2020 - Klaus K√§mpf <kkaempf@suse.com>

- fix velero-restic-restore-helper package name

-------------------------------------------------------------------
Fri Jan  3 09:13:20 UTC 2020 - Klaus K√§mpf <kkaempf@suse.com>

- Initial package v1.2.0
