diff -Pdpru vagrant-2.3.7.orig/Rakefile vagrant-2.3.7/Rakefile
--- vagrant-2.3.7.orig/Rakefile	2023-06-15 23:40:35.000000000 +0300
+++ vagrant-2.3.7/Rakefile	2024-09-04 19:08:07.179627994 +0300
@@ -1,16 +1,11 @@
 require 'rubygems'
 require 'bundler/setup'
-require "rake/extensiontask"
 
 # Immediately sync all stdout so that tools like buildbot can
 # immediately load in the output.
 $stdout.sync = true
 $stderr.sync = true
 
-Rake::ExtensionTask.new "vagrant_ssl" do |ext|
-  ext.lib_dir = "lib/vagrant"
-end
-
 # Load all the rake tasks from the "tasks" folder. This folder
 # allows us to nicely separate rake tasks into individual files
 # based on their role, which makes development and debugging easier
diff -Pdpru vagrant-2.3.7.orig/vagrant.gemspec vagrant-2.3.7/vagrant.gemspec
--- vagrant-2.3.7.orig/vagrant.gemspec	2023-06-15 23:40:35.000000000 +0300
+++ vagrant-2.3.7/vagrant.gemspec	2024-09-04 20:44:57.390556590 +0300
@@ -16,7 +16,7 @@ Gem::Specification.new do |s|
   s.required_rubygems_version = ">= 1.3.6"
 
   s.add_dependency "bcrypt_pbkdf", "~> 1.1"
-  s.add_dependency "childprocess", "~> 4.1.0"
+  s.add_dependency "childprocess", "~> 5.0"
   s.add_dependency "ed25519", "~> 1.3.0"
   s.add_dependency "erubi"
   s.add_dependency 'googleapis-common-protos-types', '~> 1.3'
@@ -31,29 +31,24 @@ Gem::Specification.new do |s|
   s.add_dependency "net-sftp", "~> 4.0"
   s.add_dependency "net-scp", "~> 4.0"
   s.add_dependency "rb-kqueue", "~> 0.2.0"
-  s.add_dependency "rexml", "~> 3.2"
-  s.add_dependency "rgl", "~> 0.5.10"
+  s.add_dependency "rexml", "~> 3.3"
+  s.add_dependency "rgl", "~> 0.6"
   s.add_dependency "rubyzip", "~> 2.3.2"
-  s.add_dependency "vagrant_cloud", "~> 3.0.5"
-  s.add_dependency "wdm", "~> 0.1.1"
+  s.add_dependency "vagrant_cloud", "~> 3.0"
   s.add_dependency "winrm", ">= 2.3.6", "< 3.0"
   s.add_dependency "winrm-elevated", ">= 1.2.3", "< 2.0"
   s.add_dependency "winrm-fs", ">= 1.3.5", "< 2.0"
 
-  # Needed for go generate to use grpc_tools_ruby_protoc
-  s.add_development_dependency "grpc-tools", "~> 1.41"
-
   # required to include https://github.com/ruby/ipaddr/issues/35
   s.add_dependency "ipaddr", ">= 1.2.4"
 
   # Constraint rake to properly handle deprecated method usage
   # from within rspec
   s.add_development_dependency "rake", "~> 13.0"
-  s.add_development_dependency "rake-compiler"
   s.add_development_dependency "rspec", "~> 3.11"
   s.add_development_dependency "rspec-its", "~> 1.3.0"
   s.add_development_dependency "fake_ftp", "~> 0.3.0"
-  s.add_development_dependency "webrick", "~> 1.7.0"
+  s.add_development_dependency "webrick", "~> 1.8"
 
   # The following block of code determines the files that should be included
   # in the gem. It does this by reading all the files in the directory where
@@ -105,6 +100,5 @@ Gem::Specification.new do |s|
 
   s.files         = unignored_files
   s.executables   = unignored_files.map { |f| f[/^bin\/(.*)/, 1] }.compact
-  s.extensions    = ["ext/vagrant_ssl/extconf.rb"]
   s.require_path  = 'lib'
 end
