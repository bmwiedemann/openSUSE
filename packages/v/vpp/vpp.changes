-------------------------------------------------------------------
Fri Sep 27 09:29:43 UTC 2019 - Bj√∏rn Lie <bjorn.lie@gmail.com>

- Replace gcc7 and gcc7-c++ with plain gcc and gcc-c++
  BuildRequires. Current version builds just fine with gcc9. Also
  remove the explicit CC=gcc-7 CXX=g++-7 from make call.

-------------------------------------------------------------------
Mon May 20 12:34:07 UTC 2019 - Christophe Giboudeaux <christophe@krop.fr>

- Explicitly require zlib for building vpp.

-------------------------------------------------------------------
Tue Jan 29 10:46:24 CET 2019 - ndas@suse.de

- Update to v19.4-rc0((fate#325916, fate#325951 fate#326025, fate#326992):)
  *Infrastructure
          DPDK 18.11 integration
          New Stats infrastructure (interface, error, node performance counters)
          Add configurable "Doug Lea malloc" support
  *VNET & Plugins
          Load balancing: support per-port VIP and all-port VIP
          Port NSH plugin to VPP
          NAT
                  Configurable port range
                  Virtual Fragmentation Reassembly for endpoint-dependent mode
                  Client-IP based session affinity for load-balancing
                  TCP MSS clamping
                  Session timeout
                  Bug-fixing and performance optimizations
  *Host stack
          Support for applications with multiple workers
          Support for binds from multiple app workers to same ip:port
          Switched to a message queue for io and control event notifications
          Support for eventfd based notifications as alternative to mutext-condvar pair
          VCL refactor to support async event notifications and multiple workers
          TLS async support in client for HW accleration
          Performance optimizations and bug-fixing
   [- deps.patch, 
    + remove-git.patch,
    * enable-shared-dpdk.patch, 
    * startup-conf.patch ]
- removed api-java package till we find a fix
- Add _service file
  [+ _service]

-------------------------------------------------------------------
Mon Oct 22 10:05:15 UTC 2018 - Marco Varlese <marco.varlese@suse.com>

- Do not install 80-vpp.conf; it modifies system-wide settings and
  it is not needed since VPP 17.08 (boo#1112540)

-------------------------------------------------------------------
Tue Oct  2 17:33:02 UTC 2018 - Jan Engelhardt <jengelh@inai.de>

- Really fix boo#1110294 by correcting broken build
  descriptions with regard to library dependencies.
  Adds deps.patch. Removes reproducible_build.patch.
- Parallelize build according to rpmbuild flags.

-------------------------------------------------------------------
Mon Oct  1 15:29:37 UTC 2018 - Marco Varlese <marco.varlese@suse.com>

- Added reproducible_build.patch to fix boo#1110294:
  Wrong dependencies caused build to fail with 'make' option '-j1'

-------------------------------------------------------------------
Fri Sep 21 09:27:39 UTC 2018 - Marco Varlese <marco.varlese@suse.com>

- Upgrade to v18.07.1; some of the new features include:
  * IGMP improvements
    - Enable/Disable an interface for IGMP
    - improve logging
    - refactor common code
    - no orphaned timers
    - IGMP state changes in main thread only
    - Large groups split over multiple state-change reports
    - SSM range configuration API.
    - more tests
  * IP: vectorized IP checksum
    - VXLAN : HW offload RX flow
    - Rework kube-proxy into LB plugin and add NATA66
  * ACL:
    - Tuple Merge algorithm cleanup and integration
    - Processing pipeline optimizations
    - Refactoring
  * Experimental AVF driver
  * Session: performance improvements, add support for connectionless
  transports, datagram reception and transmission
  * TCP: congestion control improvements and overall fixes
  * UDP: datagram mode
  * TLS async support
- Removed fix-nojavah.patch since merged upstream

-------------------------------------------------------------------
Thu Aug 30 13:29:15 UTC 2018 - marco.varlese@suse.com

- Using "install-packages" to build VPP: this is inline with upstream
  recommendation

-------------------------------------------------------------------
Tue Jun 26 13:55:08 UTC 2018 - marco.varlese@suse.com

- Removed "make bootstrap" since no longer required with latest
  release

-------------------------------------------------------------------
Thu Jun 21 13:28:06 UTC 2018 - marco.varlese@suse.com

- Using gcc7 compiler

-------------------------------------------------------------------
Thu Apr 26 06:43:18 UTC 2018 - marco.varlese@suse.com

- Update to v18.04-release. Some of the enhancements are:
  * Infrastructure
    - DPDK 18.02.1
    - ARM aarch64 integrated into CI
    - ERSPAN
    - L3DSR load balancing support
    - VPC bonding / LACP
    - IPv4/IPv6 packet reassembly
    - IPv6 link-local support
    - Asymmetrical static NAT
    - 464XLAT for NAT44
    - MAP-T CE support
    - Intel Adaptive Virtual Function native device driver plugin
    - Marvell device plugin
    - SRv6 static, dynamic and masquerading proxy plugins
    - MPLS Uniform mode
    - IGMP plugin
    - IPIP tunnel support (IPv4/IPv6 over IPv4/IPv6)
    - IPv6 Router Discovery mechanism
  * VLIB
    - ARM-optimized library variations for key functions
    - Better handling of physmem on non-NUMA kernels
  *  Host stack
    - TLS support via OpenSSL or mbedtls software engines
    - Session layer can utilize both shm and memfd (secure) FIFO segments
    - STCP
    - VCL logging / tracing
- Added mbedtls-devel to enable TLS support
- Renamed 0001-enable-shared.patch to enable-shared-dpdk.patch
- Renamed 0003-startup-conf.patch to startup-conf.patch
- Combined vpp-17.10-java9.patch and vpp-18.01-nojavah.patch in
  fix-nojavah.patch
- Removed memfd-create.patch because merged upstream

-------------------------------------------------------------------
Wed Mar 21 09:28:10 UTC 2018 - marco.varlese@suse.com

- Added runtime dependency on -devel package since all -api packages
  require header/json files at runtime

-------------------------------------------------------------------
Mon Mar  5 22:03:13 UTC 2018 - marco.varlese@suse.de

- Added memfd-create.patch to fix the memfd_create issue caused by the upgrade to glibc 2.27

-------------------------------------------------------------------
Wed Jan 24 07:45:54 UTC 2018 - marco.varlese@suse.de

- Update to the stable version of 18.01 release. More than 560 commits since the 17.10 release:
  * Features
    - Infrastructure
      * DPDK 17.11
      * TCP Checksum Offload
      * Arm64/Arm-v8 support
      * SUSE packaging
      * bihash_vec8_8 variant
      * PCI rework to support VFIO
      * chi-squared test calculator
  
    - SNAT / NAT
      * One armed NAT
      * Twice NAT44
      * NAT hairpinning rework
      * NAT64 multi-thread
      * NAT64 IPFix
      * NAT64 Fragmentation
      * NAT: DS-Lite
      * Remove old SNAT API
      * ACL-based NAT

    - VNET
      * DNS name resolver
      * BIER
      * GENEVE Tunnel
      * IPSec Openssl 1.1.0 api support
      * FIB improvements
      * tap v2
  
    - API
      * VPP stats (Broadcast & Multicast support)
      * SR MPLS
      * VPP Object Model (VOM)
  
    - Host Stack
      * VPP TCP Stack scale / congestion improvements
      * Refactor UDP
      * Namespace support
      * VPP Comms Library (VCL) improvements

    - ACL
      * ACL stats

    - Plugins
      * Kube-proxy
      * L2 Emulation
      * Memif

  * Known issues
    - For the full list of issues please refer to fd.io [JIRA](https://jira.fd.io).

  * Issues fixed
    - For the full list of fixed issues please refer to: fd.io [JIRA](https://jira.fd.io)

-------------------------------------------------------------------
Mon Jan 22 08:43:26 UTC 2018 - marco.varlese@suse.de

- Latest update to DPDK 17.11 required rdma-core-devel to enable Mellanox NIC. Being VPP dependant on DPDK, it required the same build-dependency to be added.

-------------------------------------------------------------------
Tue Jan  9 10:03:09 UTC 2018 - marco.varlese@suse.de

- Updated to -RC1 release (v18.01-rc1); some of the fixes include:
  * NAT64: free port when dynamic BIB deleted (VPP-1107)
  * VOM: NAT updates
  * tcp: add builtin server/client transfer test
  * fib: make deag entries urpf extempt
  * VPP-1109 Fix loop for some CLI (code review)
  * L2 Emulation
  * Translate matching packets using NAT (VPP-1069)
  * Fix MPLS local-label CLI help string
  * VPP-1083 "ip punt redirect add" crashed if not mentioned any other parameter
  * FIB memory leak during recursive loop detection
  * Fix passing bad context for callback function
  * NAT: Twice NAT44 (VPP-969)
  * NAT: Add performance testing TRex scripts and config (VPP-832)
  * Provide useful output when installed vpp-dpdk version is incorrect
  * Support kube-proxy data plane
  * SR-MPLS: binary API and automated steering
  * GRE tunnel key includes the FIB table
  * Use crc32 wrapper (VPP-1086)
  * dpdk: unset ETH_TXQ_FLAGS_NOXSUMS only for selected PMDs
  * apps: refactor uri and update build infra
  * Fix icmp/udp/tcp punt/drop paths
  * implement clib_smp_pause() for arm and aarch64 platform
  * fib: fix show fib path-list and path
  * pci: auto-detect right vfio/uio driver
  * vom: acl: Extend constructor for l3 rule
  * vom: acl-list: Add comparison operator - for UT
  * vppinfra: add AVX512 variant of clib_memcpy
  * tap_v2: include host-side parameters in the dump binary API
  * Enable AWS ENA PMD
  * session: fix proxy removal
  * session: generalize handling of network transports

-------------------------------------------------------------------
Mon Jan  8 10:01:40 UTC 2018 - fstrba@suse.com

- Added patch:
  * vpp-18.01-nojavah.patch
    - Replace javah invocation with javac's -h option
    - Fixes build with jdk10

-------------------------------------------------------------------
Mon Dec 11 09:23:02 UTC 2017 - marco.varlese@suse.de

- Replace boost-devel BuildRequires with libboost_headers-devel and libboost_thread-devel ([boo#1062583](https://bugzilla.opensuse.org/show_bug.cgi?id=1062583))

-------------------------------------------------------------------
Tue Dec  5 07:58:05 UTC 2017 - marco.varlese@suse.de

- Updated to vpp-18.01-rc0~365-g8b9a5d19
  * Support for OpenSSL1.1.0
  * GENEVE tunnel
  * Various bug-fixes

-------------------------------------------------------------------
Mon Oct 30 09:35:55 UTC 2017 - fstrba@suse.com

- Added patch:
  * vpp-17.10-java9.patch
    - Specify java source and target level 8 in order to make the
      java code buildable with jdk9
- Don't require java-1_8_0-openjdk-devel, but java-devel >= 1.8

-------------------------------------------------------------------
Thu Oct 26 07:52:01 UTC 2017 - marco.varlese@suse.com

- Updated to 17.10-release tarball
- Infrastructure
  * DPDK 17.08
  * IP reassembly
  * Bounded-index extensible hash bucket-level LRU cache
  * Templated timer wheel improvements
- API
  * C/C++ language binding
  * API stats
- Host stack
  * VPP TCP stack scale/congestion improvements
  * VPP Comms Library (VCL)
  * Overall performance, scale and hardening
- Network features
  * IPSec rework - utilize new FIB
  * VPLS and VPWS implementation
  - NAT
    * Renamed SNAT to NAT
    * Performance / Scale
    * Destination NAT44 with load-balancing
    * In2out translation as an output feature on the outside interface
    * Fullback to 3-tuple key for non TCP/UDP/ICMP sessions
  - Security Groups/ACLs
    * "Replace" semantics for adding a new MacIP acl
    * Test suite tests for MacIP ACLs
  - ONE-LISP
    * Map-server fallback support
    * Preemptive re-fetch of active mappings that are about to expire
    * ND termination
  - PPPoE
    * PPPoE Control Plane packet dispatch
    * PPPoE decapsulation
    * PPPoE encapsulation

-------------------------------------------------------------------
Mon Oct  9 12:58:00 UTC 2017 - marco.varlese@suse.com

- Updated tarball to 17.10-RC1 (vpp-17.10-rc1.tar.xz)

-------------------------------------------------------------------
Fri Sep 29 07:05:21 UTC 2017 - marco.varlese@suse.com

- Removed 0002-aarch64.patch since change incorporated upstream
- Updated tarball to vpp-17.10-rc0~374-gba3c4e88.tar.xz

-------------------------------------------------------------------
Mon Sep 25 08:32:23 UTC 2017 - marco.varlese@suse.com

- Updated VPP version
- Removed aarch64 patch since merged upstream

-------------------------------------------------------------------
Fri Aug 25 15:05:26 UTC 2017 - marco.varlese@suse.com

- Enabled DPDK 17.08 integration
- Removed patch to exclude AESNI since managed upstream

-------------------------------------------------------------------
Wed Aug 23 14:46:32 UTC 2017 - marco.varlese@suse.com

- Split binaries and libs into sub-packages
- Fixed packages dependencies

-------------------------------------------------------------------
Mon Jul 24 14:03:26 UTC 2017 - marco.varlese@suse.com

- Upgraded to latest stable release 17.07

-------------------------------------------------------------------
Mon Jun 19 12:43:02 UTC 2017 - marco.varlese@suse.com

- Updated to latest master vpp-17.07-rc0~396-g7f4d577d
- Fixed provides/conflicts/requires

-------------------------------------------------------------------
Thu Jun  8 10:53:50 UTC 2017 - marco.varlese@suse.com

- Updated to latest upstream containing the patches for gcc-7

-------------------------------------------------------------------
Wed Jun  7 13:34:07 UTC 2017 - marco.varlese@suse.com

- Added 0003-startup-conf.patch to fix the default configuration

-------------------------------------------------------------------
Mon Jun  5 16:06:18 UTC 2017 - marco.varlese@suse.com

- Added 0001-fix-bihash-template.patch
- Added 0002-fix-out2in.patch
- Fix compilation warning as errors with GCC-7

-------------------------------------------------------------------
Thu Jun  1 11:53:10 UTC 2017 - marco.varlese@suse.com

- Updated to 17.07-rc0 

-------------------------------------------------------------------
Wed May 17 06:58:49 UTC 2017 - marco.varlese@suse.com

- Updated source code to latest upstream
- Added Lua and Java bindings API
- Incorporated DPDK for extra performance and data plane patches

-------------------------------------------------------------------
Wed May  3 12:13:25 UTC 2017 - bwiedemann@suse.com

- Add reproducible.patch to make build fully reproducible

-------------------------------------------------------------------
Fri Apr 21 13:02:53 UTC 2017 - marco.varlese@suse.com

- Master of vpp (17.07)

-------------------------------------------------------------------
Wed Feb 15 10:47:07 UTC 2017 - jengelh@inai.de

- Remove redundant ldconfig calls

-------------------------------------------------------------------
Wed Feb 15 10:33:22 UTC 2017 - jengelh@inai.de

- Update RPM groups and description

-------------------------------------------------------------------
Wed Jan 25 13:01:47 UTC 2017 - marco.varlese@suse.com

- Major spec file rework to accomodate changes in plugins build from 17.01 vpp release
- Refactored the libraries included in the different subpackages to avoid unneeded dependencies

-------------------------------------------------------------------
Mon Jan 23 12:36:11 UTC 2017 - marco.varlese@suse.com

New features in the VPP 17.01:

- Integrated November 2016 DPDK release
- Complete rework of Forwarding Information Base (FIB)
- Performance Improvements
  * Improvements in DPDK input and output nodes
  * Improvements in L2 path
  * Improvmeents in IPv4 lookup node
- Feature Arcs Improvements
  * Consolidation of the code
  * New feature arcs
    - device-input
    - interface-output
- DPDK Cryptodev Support
  * Software and Hardware Crypto Support
- DPDK HQoS support
- Simple Port Analyzer (SPAN)
- Bidirectional Forwarding Detection
  * Basic implementation
- IPFIX Improvements
- L2 GRE over IPSec tunnels
- Link Layer Discovery Protocol (LLDP)
- Vhost-user Improvements
  * Performance Improvements
  * Multi-queue
  * Reconnect
- LISP Enhancements
  * Source/Dest control plane support
  * L2 over LISP and GRE
  * Map-Register/Map-Notify/RLOC-probing support
  * L2 API improvements, overall code hardening
- Plugins:
  * New: ACL
  * New: Flow per Packet
  * Improved: SNAT
    - Multi-threading
    - Flow export
- Doxygen Enhancements
- Luajit API bindings
- API Refactoring
  * file split
  * message signatures
- Python and Scapy based unit testing infrastructure
  * Infrastructure
  * Various tests
- Packet Generator improvements
- TUN/TAP jumbo frames support
- Other various bug fixes and improvements
