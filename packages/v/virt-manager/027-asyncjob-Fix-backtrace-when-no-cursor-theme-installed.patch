Subject: asyncjob: Fix backtrace when no cursor theme installed
From: Cole Robinson crobinso@redhat.com Thu Jan 19 11:13:56 2023 -0500
Date: Thu Jan 19 11:40:37 2023 -0500:
Git: cc4a39ea94f42bc92765eb3bb56e2b7f9198be67

Fixes: https://github.com/virt-manager/virt-manager/issues/479

Signed-off-by: Cole Robinson <crobinso@redhat.com>

diff --git a/virtManager/asyncjob.py b/virtManager/asyncjob.py
index 32d9c0a1..46692ace 100644
--- a/virtManager/asyncjob.py
+++ b/virtManager/asyncjob.py
@@ -265,9 +265,7 @@ class vmmAsyncJob(vmmGObjectUI):
             self.topwin.present()
 
         if not self.cancel_cb and self.show_progress:
-            gdk_window = self.topwin.get_window()
-            gdk_window.set_cursor(
-                Gdk.Cursor.new_from_name(gdk_window.get_display(), "progress"))
+            self._set_cursor("progress")
         self._bg_thread.start()
 
 
