Subject: uitests: More handling for slow startup on f39
From: Cole Robinson crobinso@redhat.com Sun Mar 3 13:01:57 2024 -0500
Date: Sun Mar 3 14:18:04 2024 -0500:
Git: 2043847adece285a94eff5fe303d23d7d0ac339e

Signed-off-by: Cole Robinson <crobinso@redhat.com>

diff --git a/tests/uitests/test_cli.py b/tests/uitests/test_cli.py
index b317bf28..e55ce396 100644
--- a/tests/uitests/test_cli.py
+++ b/tests/uitests/test_cli.py
@@ -92,10 +92,11 @@ def testShowRemoteDBusConnect(app):
         newapp = lib.app.VMMDogtailApp("test:///default")
         newapp.open(check_already_running=False,
                 extra_opts=opts)
-        lib.utils.check(lambda: not newapp.is_running())
+        timeout = 10
+        lib.utils.check(lambda: not newapp.is_running(), timeout)
         vapps = [a for a in newapp.tree.root.applications() if
                  a.name == "virt-manager"]
-        lib.utils.check(lambda: len(vapps) == 1)
+        lib.utils.check(lambda: len(vapps) == 1, timeout=timeout)
         # Ensure connection showed up
         app.topwin.find("test default", "table cell")
 
