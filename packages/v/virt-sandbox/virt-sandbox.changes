-------------------------------------------------------------------
Sun Jan  1 01:01:01 UTC 2023 - olaf@aepfle.de

- remove braces from rpmspec macros
- rename so_version macro
- remove obsolete rpm statements
- remove obsolete libvirt_version macro
- update URL to Source0
- set Release to zero
- link to shared libraries, liblzma provides no static lib anymore
- use pkgconfig() in BuildRequires
- remove obsolete suse_version conditionals
- remove obsolete Group tags

-------------------------------------------------------------------
Wed Apr 13 01:23:45 UTC 2022 - olaf@aepfle.de

- Fix GTK_DOC_CHECK bug with virt-sandbox.patch

-------------------------------------------------------------------
Wed Jun  9 16:58:05 UTC 2021 - Wolfgang Frisch <wolfgang.frisch@suse.com>

- Link executables position-independent (bsc#1184124).
  + PIE.patch

-------------------------------------------------------------------
Wed Feb 13 18:10:53 UTC 2019 - Jan Engelhardt <jengelh@inai.de>

- Remove redundant %clean section and action.
- Replace old $RPM_* shell vars.
- Rename %soname to %sover to better reflect its use.

-------------------------------------------------------------------
Fri Feb  8 17:21:24 UTC 2019 - Larry Dewey <ldewey@suse.com>

- Updated to version 0.8.0:
  * Deleted the virt-sandbox-service tool as it is a failed
    experiment
  * Require libvirt-glib >= 0.2.2
  * Add af_packet kmod nedeed by dhcp clients
  * Add ext4 kmod needed by common filesystems
  * Add fscrypto kmod needed as a dep of other mods
  * Show dhcp client output in debug mode
  * Add /dev/fd symlink for /proc/self/fd
  * Sync and cleanly unmount filesystems during shutdown
  * Fix handling of strace debug option
  * Avoid exiting too early on shutdown so we see all debug
  * messages and cleanly sync/unmount
  * Allow setting custom env variables
  * Ensure static versions of zlib and lzma are checked for
  * Guest host image format from file extension if not given
  * Allow switching to a specific user ID
  * Improve docs on command line arg passing
  * Fix bogus lib listed in pkgconfig file
  * Fix misc goject introspection annotations
  * Improve error message for unsupported libvirt URIs
  * Search in $PATH for user specified binary
  * Use squash security mode for non-root QEMU sandbox mounts
  * Search for libtirpc standalone XDR library
  * Avoid triggering some new compiler warnings
- Removed now useless patches:
  * 15396686-avoid-setting-XDR_LIBS-to-none-required.patch
  * 35d13f92-python3.patch
  * 559b54d-load-ext4.patch
  * b9031e08-search-for-standalone-xdr-library.patch
  * dhcp-fix.patch
  * f24d003b-sync-unmount-shutdown.patch
  * no-libexec.patch

-------------------------------------------------------------------
Mon Mar 12 13:55:48 UTC 2018 - cbosdonnat@suse.com

- Build with libtirpc (bsc#1084896)
  15396686-avoid-setting-XDR_LIBS-to-none-required.patch
  b9031e08-search-for-standalone-xdr-library.patch

-------------------------------------------------------------------
Fri Dec 12 14:39:22 UTC 2017 - cbosdonnat@suse.com

- Rename upstreamed patch:
  python3.patch -> 35d13f92-python3.patch
- Don't unmount filesystem for container machines to avoid 'normal'
  unmount denial errors in stderr and audit.log. (bsc#1072402)
  no-unmount-for-lxc-machines.patch

-------------------------------------------------------------------
Fri Dec  1 17:39:22 UTC 2017 - cbosdonnat@suse.com

- Conversion to python 3 (fate#323526)
  python3.patch
- Enable LZMA support for recent distributions

-------------------------------------------------------------------
Tue May 30 13:22:44 UTC 2017 - cbosdonnat@suse.com

- Add ext4 module to QEMU initrd to load ext* root images.
  559b54d-load-ext4.patch. bsc#944325

-------------------------------------------------------------------
Wed Sep 16 11:38:39 UTC 2015 - cbosdonnat@suse.com

- Synchronize and unmount disks during shutdown. bsc#946040
  f24d003b-sync-unmount-shutdown.patch

-------------------------------------------------------------------
Fri Aug 21 14:53:30 UTC 2015 - cbosdonnat@suse.com

- Make sure the af_packet module is loaded for KVM sandbox with
  user network setup to work. dhcp-fix.patch. boo#942733

-------------------------------------------------------------------
Wed Jul  1 18:05:07 UTC 2015 - cbosdonnat@suse.com

- Updated to version 0.6.0:
  * Prevent use of virt-sandbox-service as non-root upfront
  * Fix misc memory leaks
  * Block SIGHUP from the dhclient binary to prevent accidental death if the controlling terminal is closed & reopened
  * Add support for re-creating libvirt XML from sandbox config to facilitate upgrades
  * Add ability to set filters on network interfaces
  * Search /usr/lib instead of /lib for systemd unit files, as the former is the canonical location even when / and /usr are merged
  * Only set SELinux labels on hosts that support SELinux
  * Explicitly link to selinux, instead of relying on indirect linkage
  * Update compiler warning flags
  * Fix misc docs comments
  * Don’t assume use of SELinux in virt-sandbox-service
  * Fix path checks for SUSE in virt-sandbox-service
  * Add support for AppArmour profiles
  * Mount /var after other FS to ensure host image is available
  * Ensure state/config dirs can be accessed when QEMU is running non-root for qemu:///system
  * Fix mounting of host images in QEMU sandboxes
  * Mount images as ext4 instead of ext3
  * Allow use of non-raw disk images as filesystem mounts
  * Check if required static libs are available at configure time to prevent silent fallback to shared linking
  * Require libvirt-glib >= 0.2.1
  * Add support for loading lzma and gzip compressed kmods
  * Check for support libvirt URIs when starting guests to ensure clear error message upfront
  * Add LIBVIRT_SANDBOX_INIT_DEBUG env variable to allow debugging of kernel boot messages and sandbox init process setup
  * Add support for exposing block devices to sandboxes with a predictable name under /dev/disk/by-tag/TAGNAME
  * Use devtmpfs instead of tmpfs for auto-populating /dev in QEMU sandboxes
  * Allow setup of sandbox with custom root filesystem instead of inheriting from host’s root. (boo#936841)
  * Allow execution of apps from non-matched ld-linux.so / libc.so, eg executing F19 binaries on F22 host
  * Use passthrough mode for all QEMU filesystems
- Removed now useless patches:
  * 2053d552-service-mount-var-last.patch
  * 6ec0460c-apparmor-support.patch
  * 87a9b5cc-lib-prefix-fix.patch
  * 92412e9c-systemd-path-fix.patch
  * 945e8e71-selinux-only-if-supported.patch
  * a54e094b-service-suse-paths.patch
  * baf47f5b-service-check-secmodel.patch


-------------------------------------------------------------------
Tue Nov 18 16:06:58 UTC 2014 - cbosdonnat@suse.com

- Add AppArmor support. bsc#909249.
  6ec0460c-apparmor-support.patch
- virt-sandbox-service: /var needs to be the last to be mounted
  bsc#909249. 2053d552-service-mount-var-last.patch
- Renamed systemd-path-fix.patch into 92412e9c-systemd-path-fix.patch
  as patch went upstream

-------------------------------------------------------------------
Wed Oct  1 15:02:19 UTC 2014 - cbosdonnat@suse.com

- Run autoreconf before configure when building to avoid problems
  with more recent versions of autotools

-------------------------------------------------------------------
Tue Jul 15 13:09:42 UTC 2014 - cbosdonnat@suse.com

- bnc#887145: fix hardcoded /usr/libexec, use /usr/lib instead:
  no-libexec.patch
  Fixed systemd path: systemd-path-fix.patch

- Moved patches as they were merged upstream:
  * service-check-secmodel.patch renamed into 
    baf47f5b-service-check-secmodel.patch
  * service-suse-paths.patch renamed into
    a54e094b-service-suse-paths.patch

-------------------------------------------------------------------
Mon Jul  7 13:30:07 UTC 2014 - cbosdonnat@suse.com

- bnc#885464: make virt-sandbox-service not check for dynamic security
  label if libvirt doesn't support selinux.
- Fixed a few paths problems in virt-sandbox-service

- added patches:
  * service-check-secmodel.patch
  * service-suse-paths.patch

-------------------------------------------------------------------
Wed Jun 25 13:17:30 UTC 2014 - cbosdonnat@suse.com

- Renamed lib-prefix-fix.patch into 87a9b5cc-lib-prefix-fix.patch as
  the patch has been integrated upstream.
- Removed selinux-only-if-supported.patch and created
  945e8e71-selinux-only-if-supported.patch with the version of the
  patch that was integrated upstream.

-------------------------------------------------------------------
Wed Jun  4 10:12:56 UTC 2014 - cbosdonnat@suse.com

- selinux-only-if-supported.patch: only set the selinux security
  label if selinux is supported by the host. bnc#878048

-------------------------------------------------------------------
Tue May 13 08:05:16 UTC 2014 - cbosdonnat@suse.com

- lib-prefix-fix.patch: don't look for unit files in /lib, but rather
  /usr/lib. bnc#875642

-------------------------------------------------------------------
Mon Dec 23 15:51:34 UTC 2013 - cbosdonnat@suse.com

- libvirt-sandbox 0.5.1 

