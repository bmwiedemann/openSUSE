From: Jan Engelhardt <jengelh@inai.de>
Date: 2023-10-27 07:34:46.251955161 +0200

Static libraries are a no-go in our distro.
---
 CMakeLists.txt           |    2 --
 src/layer/CMakeLists.txt |    3 ++-
 2 files changed, 2 insertions(+), 3 deletions(-)

Index: Vulkan-Utility-Libraries-vulkan-sdk-1.3.268.0/CMakeLists.txt
===================================================================
--- Vulkan-Utility-Libraries-vulkan-sdk-1.3.268.0.orig/CMakeLists.txt
+++ Vulkan-Utility-Libraries-vulkan-sdk-1.3.268.0/CMakeLists.txt
@@ -15,8 +15,6 @@ set(CMAKE_CXX_STANDARD 17)
 set(CMAKE_CXX_STANDARD_REQUIRED ON)
 set(CMAKE_CXX_EXTENSIONS OFF)
 set(CMAKE_POSITION_INDEPENDENT_CODE ON)
-set(CMAKE_CXX_VISIBILITY_PRESET "hidden")
-set(CMAKE_C_VISIBILITY_PRESET "hidden")
 set(CMAKE_VISIBILITY_INLINES_HIDDEN "YES")
 
 # This variable enables downstream users to customize the target API
Index: Vulkan-Utility-Libraries-vulkan-sdk-1.3.268.0/src/layer/CMakeLists.txt
===================================================================
--- Vulkan-Utility-Libraries-vulkan-sdk-1.3.268.0.orig/src/layer/CMakeLists.txt
+++ Vulkan-Utility-Libraries-vulkan-sdk-1.3.268.0/src/layer/CMakeLists.txt
@@ -5,8 +5,9 @@
 # SPDX-License-Identifier: Apache-2.0
 set(CMAKE_FOLDER "${CMAKE_FOLDER}/VulkanLayerSettings")
 
-add_library(VulkanLayerSettings STATIC)
+add_library(VulkanLayerSettings SHARED)
 add_library(Vulkan::LayerSettings ALIAS VulkanLayerSettings)
+set_target_properties(VulkanLayerSettings PROPERTIES LIBRARY_OUTPUT_NAME VulkanLayerSettings-1.3.275.0)
 
 target_sources(VulkanLayerSettings PRIVATE
    vk_layer_settings.cpp
