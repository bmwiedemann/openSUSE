Index: VirtualGL-2.5.2/server/CMakeLists.txt
===================================================================
--- VirtualGL-2.5.2.orig/server/CMakeLists.txt
+++ VirtualGL-2.5.2/server/CMakeLists.txt
@@ -78,6 +78,7 @@ if(VGL_USEXV)
 	set(FAKER_SOURCES ${FAKER_SOURCES};XVTrans.cpp)
 endif()
 
+set(GLLIB -Wl,--no-as-needed ${OPENGL_gl_LIBRARY} -Wl,--as-needed)
 foreach(fakerlib ${VGL_FAKER_NAME} ${VGL_FAKER_NAME}-nodl)
 	add_library(${fakerlib} SHARED ${FAKER_SOURCES})
 	if(${fakerlib} STREQUAL ${VGL_FAKER_NAME} AND
@@ -102,7 +103,7 @@ foreach(fakerlib ${VGL_FAKER_NAME} ${VGL
 	target_link_libraries(${fakerlib} vglcommon ${FBXFAKERLIB} vglsocket m
 		${LIBDL})
 	if(${fakerlib} STREQUAL ${VGL_FAKER_NAME})
-		target_link_libraries(${fakerlib} ${OPENGL_gl_LIBRARY})
+		target_link_libraries(${fakerlib} ${GLLIB})
 	endif()
 	if(CMAKE_SYSTEM_NAME STREQUAL "SunOS" AND GNUCXX)
 		# For some reason, on SunOS/GCC CMake tries to use the C compiler to link
