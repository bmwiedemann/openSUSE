-------------------------------------------------------------------
Wed Jul  6 21:57:42 UTC 2022 - Bruno Pitrus <brunopitrus@hotmail.com>
- New upstream release 19.0.8
  * Updated Chromium to 102.0.5005.148
  * Fixed an issue where DataList bounds had part of the item text cut off vertically.
- Add disable-catapult.patch
  * This nukular solution from Debian avoids building telemetry code which was causing hangs during build on Rawhide.
- Add chromium-103.0.5060.53-python3-do-not-use-deprecated-mode-U.patch
  * Fixes build with python 3.11
- Use system llhttp and HDR-Histogram on all Fedora versions
- Additionally use system abseil, aom, dav1d, spirv on Fedora 37 Rawhide
- Fix bundled crc32c headers incorrectly getting used instead of system ones.

-------------------------------------------------------------------
Sat Jul  2 09:16:30 UTC 2022 - Bruno Pitrus <brunopitrus@hotmail.com>
- Update to 19.0.7:
  * Breaking change: nativeWindowOpen removed
  * Updated Chromium to 102.0.5005.134
  * Fixed an error where setWindowOpenHandler() would crash if the callback threw an error.
  * Fixed an issue where passing { name: 'All Files', extensions: ['*'] } in the filters param of open or save dialogs on Linux would disallow choosing files without an extension.
  * Fixed missing Sec-CH-UA headers and empty navigator.userAgentData.
  * Backported fix for CVE-2022-2162.
- Move lastchange.py in create tarball script before patching for reproducibility sake
- Disable widevine — not supported by upstream and does not build anymore
- Use gcc also on aarch64 due to clang crashes while compiling
- Temporarily disable aom codec on aarch64 Tumbleweed to reduce binary size
- Fix Fedora aarch64 build
- Fix private ANGLE dlls leaking into rpm provides (bsc#1108175)
- Ship chrome_crashpad_handler — some code expects it to be there
- Do not ship libVkICD_mock_icd.so — that's a build tool (not shipped by upstream)
- Do not compile tensorflow — it is huge, and urlbar prediction is of no use in Electron
- Do not compile openscreen/chromecast — useless in Electron
- Do not compile safe browsing — useless in Electron
- Do not compile error reporter — useless for our use case
- Disable webgpu support — it is HUGE and we do not ship any apps which depend on it
- Use system freetype, icu also on 15.3 and 15.4
- Use system harfbuzz also on 15.4
- Use system libraries instead of vendored ones:
  * abseil (TW and Rawhide, GCC only)
  * avif (15.4+ and Fedora only)
  * brotli
  * crc32c (TW and Fedora only)
  * dav1d (TW and Rawhide only)
  * double-conversion
  * jsoncpp
  * jxl (Fedora only)
  * libbsd
  * nspr
  * spirv (TW only)
  * woff2
  * xxhash
  * zlib in courgette
  * lcms2, libjpeg, libpng16, openjp2, tiff in PDFium
  * cares in node
  * nghttp2 in node (TW and Fedora only)
  * XNVCtrl in angle (Fedora only)
  * llvm in swiftshader (arm64 only; intel does not use llvm)
- Replace chromium-98-compiler.patch with chromium-102-compiler.patch
- Add patches:
  * abseil_string_number_conversions-do-not-assume-ABI.patch
  * abseil-remove-unused-targets.patch
  * angle-system-xxhash.patch
  * async_shared_storage_database_impl-missing-absl-WrapUnique.patch
  * attribution_manager_impl-missing-absl-WrapUnique.patch
  * ax_property_node-missing-unique_ptr-forward.patch
  * base-system-nspr.patch
  * byteswap-constexpr.patch (thanks Debian)
  * byteswap-constexpr2.patch  (thanks Debian)
  * cares_public_headers.patch
  * chromium-101-libxml-unbundle.patch
  * chromium-102-fenced_frame_utils-include.patch
  * chromium-99-pdfium-system-libtiff.patch (thanks Mageia)
  * chromium-fix-pac-with-gcc.patch
  * chromium-remove-bundled-roboto-font.patch
  * dark_mode_types-uint8_t.patch
  * device_perf_info-missing-uint32_t.patch
  * ffmpeg-new-channel-layout.patch
  * json_generation-missing-unique_ptr.patch
  * metrics_recorder-missing-string.patch
  * multi_channel_content_detector-missing-unique_ptr.patch
  * multiplex_router-ExclusiveSyncWaitInfo-is-not-is_constructible_v-on-clang.patch
  * nested-nested-nested-nested-nested-nested-regex-patterns.patch
  * node-system-libs.patch (thanks Arch)
  * pdfium-fix-system-libs.patch (thanks Mageia)
  * process_doc_wrapper-do-not-assume-ABI.patch
  * replace_gn_files-system-libs.patch
  * skia_utils-missing-uint64_t.patch
  * support-i386.patch (thanks Debian)
  * swiftshader-use-system-llvm.patch
  * system-libbsd.patch
  * system-jsoncpp.patch (thanks Debian)
  * system-zlib.patch (thanks Debian)
  * thread_annotations-fix-build-with-system-abseil.patch
- Add GN shims (provided directly instead of as patches, but should also be submitted upstream):
  * absl_algorithm.gn
  * absl_base.gn
  * absl_cleanup.gn
  * absl_container.gn
  * absl_debugging.gn
  * absl_flags.gn
  * absl_functional.gn
  * absl_hash.gn
  * absl_memory.gn
  * absl_meta.gn
  * absl_numeric.gn
  * absl_random.gn
  * absl_status.gn
  * absl_strings.gn
  * absl_synchronization.gn
  * absl_time.gn
  * absl_types.gn
  * brotli.gn
  * crc32c.gn
  * dav1d.gn (thanks Mageia)
  * double-conversion.gn
  * libaom.gn (thanks Mageia)
  * libavif.gn
  * libjxl.gn
  * libXNVCtrl.gn
  * swiftshader-SPIRV-Headers.gn
  * swiftshader-SPIRV-Tools.gn
  * vulkan-SPIRV-Headers.gn
  * vulkan-SPIRV-Tools.gn
  * woff2.gn
- Remove chromium-disable-parallel-gold.patch as it referes to old now-unsupported systems
- Remove patches applied upstream:
  * chromium-98-MiraclePtr-gcc-ice.patch
  * chromium-98-WaylandFrameManager-check.patch
  * chromium-glibc-2.34.patch
  * electron-16-v8-missing-utility-include.patch
  * electron-17-breakpad-align-int-types.patch

-------------------------------------------------------------------
Wed May 25 19:46:26 UTC 2022 - Bruno Pitrus <brunopitrus@hotmail.com>
- New upstream release 17.4.6:
  * Fixed crash when calling navigator.serial.getPorts().

-------------------------------------------------------------------
Thu May 19 10:08:10 UTC 2022 - Bruno Pitrus <brunopitrus@hotmail.com>
- New upstream release 17.4.5:
  * Fixed a crash when calling loadExtension on an extension directory that's missing a manifest file. #34193 (Also in 16)
  * SIGUSR1 is no longer handled when the node_cli_inspect fuse is disabled.
  * Backported security fixes: CVE-2022-1637, CVE-2022-1638, CVE-2022-1639.
- Remove some spurious generated files from the tarball.

-------------------------------------------------------------------
Wed May 11 21:05:41 UTC 2022 - Bruno Pitrus <brunopitrus@hotmail.com>
- New upstream release 17.4.4:
  * Fixed an OSR crash happening when input select items were rendered.
  * Backported security fixes: CVE-2022-1477, CVE-2022-1497

-------------------------------------------------------------------
Sun May  8 18:58:12 UTC 2022 - Bruno Pitrus <brunopitrus@hotmail.com>
- Update to 17.4.3:
  * Fixed child_process.spawn ENOENT error with cwd option.
  * Apply senderFrame details to ipcMain port event.
  * Added BrowserWindow method to change the button color,
    symbol color, and height of a window with WCO enabled.
  * Fixed a potential crash in Browser.getFocusedWindow() when child windows are closed.
  * Fixed an issue where the the window bounds would incorrectly change 
    if BrowserWindow.unmaximize was called on a window whose user bounds were maximized.
  * Fixed incorrect return value of app.requestSingleInstanceLock()
    when setting non-existent user data folder.
  * Fixed issues with frameless window animations and styling.
  * Backported security fixes: CVE-2022-1478, CVE-2022-1479,
    CVE-2022-1480, CVE-2022-1482, CVE-2022-1483, CVE-2022-1485,
    CVE-2022-1492, CVE-2022-1305, CVE-2022-1308, CVE-2022-1310,
    CVE-2022-1314, CVE-2022-1364, CVE-2022-1306, CVE-2022-1134,
    CVE-2022-1138, CVE-2022-23308.

-------------------------------------------------------------------
Fri Apr 22 09:47:33 UTC 2022 - Dominik Heidler <dheidler@suse.de>

- Build against nodejs16 on tumbleweed

-------------------------------------------------------------------
Wed Apr 20 10:21:11 UTC 2022 - Bruno Pitrus <brunopitrus@hotmail.com>
- Add chromium-94.0.4606.71-InkDropHost-crash.patch
  * Fixes crashes when opening File menu in VSCode

-------------------------------------------------------------------
Sat Apr 16 11:40:14 UTC 2022 - Bruno Pitrus <brunopitrus@hotmail.com>
- Re-enable reduced debuginfo (-g1) like Fedora's chromium package

-------------------------------------------------------------------
Tue Apr 12 11:52:13 UTC 2022 - Dominik Heidler <dheidler@suse.de>

- Help fedora to choose dependencies

-------------------------------------------------------------------
Tue Apr 12 10:41:39 UTC 2022 - Dominik Heidler <dheidler@suse.de>

- Use nodejs16 on 15.3

-------------------------------------------------------------------
Mon Apr 11 11:11:47 UTC 2022 - thod_@gmx.de

- Update to version 17.3.1
  * https://github.com/electron/electron/releases/tag/v17.3.1
  * https://github.com/electron/electron/releases/tag/v17.3.0
  * https://github.com/electron/electron/releases/tag/v17.2.0

-------------------------------------------------------------------
Wed Apr  6 11:11:49 UTC 2022 - Dominik Heidler <dheidler@suse.de>

- Change npm BuildRequires to npm-default

-------------------------------------------------------------------
Thu Mar 10 07:36:16 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 17.1.2
  * https://github.com/electron/electron/releases/tag/v17.1.2
  * https://github.com/electron/electron/releases/tag/v17.1.1
  * https://github.com/electron/electron/releases/tag/v17.1.0
  * Added electron-17-breakpad-align-int-types.patch
  * Added chromium-98-compiler.patch
  * Added chromium-98-MiraclePtr-gcc-ice.patch
  * Added chromium-98-WaylandFrameManager-check.patch
  * Added chromium-98-EnumTable-crash.patch
  * Added chromium-ffmpeg-first-dts.patch
  * Added system-libdrm.patch
  * Removed chromium-94-ffmpeg-roll.patch
  * Removed chromium-95-compiler.patch
  * Removed chromium-96-CommandLine-include.patch
  * Removed chromium-96-DrmRenderNodePathFinder-include.patch
  * Removed chromium-96-RestrictedCookieManager-tuple.patch
  * Removed electron-16-node-fix-python3.10-import.patch

-------------------------------------------------------------------
Thu Feb 24 20:27:36 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Fix building with gcc-12
  * Added electron-16-fix-swiftshader-template.patch
  * Added electron-16-v8-missing-utility-include.patch
- Fix building on Fedora 36 and newer
- Updated ffmpeg patches

-------------------------------------------------------------------
Thu Feb 17 08:45:42 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Fix webpack-4 with OpenSSL 3.0
  * Added electron-16-webpack-fix-openssl-3.patch

-------------------------------------------------------------------
Thu Feb 17 08:24:23 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Add missing #include <utility>
  * Added electron-16-third_party-symbolize-missing-include.patch

-------------------------------------------------------------------
Wed Feb 16 19:09:22 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Fix building with newer gn
  * Added electron-16-freetype-visibility-list.patch

-------------------------------------------------------------------
Wed Feb 16 17:39:31 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 16.0.9
  * https://github.com/electron/electron/releases/tag/v16.0.9

-------------------------------------------------------------------
Thu Feb  3 06:41:18 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 16.0.8
  * https://github.com/electron/electron/releases/tag/v16.0.8

-------------------------------------------------------------------
Fri Jan 28 13:15:25 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Fix build on Fedora
  * Added electron-16-node-fix-python3.10-import.patch

-------------------------------------------------------------------
Thu Jan 27 08:07:59 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Add devel package with node headers (e.g. for node-gyp)
  * Added electron-16-system-node-headers.patch
- Fix building on Fedora and openSUSE Leap

-------------------------------------------------------------------
Wed Jan 19 18:09:33 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Package pgo profiles

-------------------------------------------------------------------
Tue Jan 18 08:58:39 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 16.0.7
  * https://github.com/electron/electron/releases/tag/v16.0.7
- Removed chromium-93-blink.patch
- Removed harfbuzz_roll.patch
- Removed skia_harfbuzz_api.patch
- Removed skia_harfbuzz_roll.patch
- Added chromium-96-CommandLine-include.patch
- Added chromium-96-CouponDB-include.patch
- Added chromium-96-DrmRenderNodePathFinder-include.patch
- Added chromium-96-RestrictedCookieManager-tuple.patch
- Added electron-16-std-vector-non-const.patch

-------------------------------------------------------------------
Fri Dec 17 14:17:26 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 15.3.3
  * https://github.com/electron/electron/releases/tag/v15.3.3
- Added chromium-93-blink.patch
- Added chromium-93-ffmpeg-4.4.patch
- Added chromium-94-ffmpeg-roll.patch
- Added chromium-95-compiler.patch
- Removed a9831f1cbf93fb18dd951453635f488037454ce9.patch
- Removed chromium-88-gcc-fix-swiftshader-libEGL-visibility.patch
- Removed chromium-91-GCC_fix_vector_types_in_pcscan.patch
- Removed chromium-91-compiler.patch
- Removed chromium-91-system-icu.patch
- Removed chromium-freetype-2.11.patch
- Removed chromium-glibc-2.33.patch
- Removed chromium-lp152-missing-includes.patch
- Removed electron-13-gcc-fix-v8-nodiscard.patch

-------------------------------------------------------------------
Mon Dec 13 11:06:00 UTC 2021 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Do not build on 32-bit arm

-------------------------------------------------------------------
Mon Dec 13 10:03:11 UTC 2021 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Update _constraints to build aarch64 only on powerful workers
  (checks for asimdrdm)

-------------------------------------------------------------------
Mon Dec 13 07:50:42 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.6.3
  https://github.com/electron/electron/releases/tag/v13.6.3

-------------------------------------------------------------------
Wed Dec  8 23:33:01 UTC 2021 - Dominik Heidler <dheidler@suse.de>

- Fix harfbuzz 3.0.0 related build fails
  https://github.com/electron/electron/issues/31129
  * Added skia_harfbuzz_roll.patch
  * Added skia_harfbuzz_api.patch
  * Added harfbuzz_roll.patch

-------------------------------------------------------------------
Mon Nov 29 13:21:24 UTC 2021 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Fix build on aarch64:
  * Use clang
  * Add patch: chromium-glibc-2.34.patch 

-------------------------------------------------------------------
Tue Nov 23 17:01:09 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.6.2
  https://github.com/electron/electron/releases/tag/v13.6.2
- Fix for CVE-2021-37998
- Fix for CVE-2021-38001
- Fix for CVE-2021-38002
- Fix for CVE-2021-38003
- Fixed building on Tumbleweed

-------------------------------------------------------------------
Wed Nov 10 06:53:45 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Do not build with H264
- Removed electron-13-openh264-format-security.patch

-------------------------------------------------------------------
Wed Nov  3 14:21:25 UTC 2021 - Dominique Leuenberger <dimstar@opensuse.org>

- Do not build for i586: code is not compatible.

-------------------------------------------------------------------
Tue Nov  2 14:18:41 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.6.1
  https://github.com/electron/electron/releases/tag/v13.6.1
- Fix for CVE-2021-37981
- Fix for CVE-2021-37984
- Fix for CVE-2021-37987
- Fix for CVE-2021-37989
- Fix for CVE-2021-37992
- Fix for CVE-2021-37996

-------------------------------------------------------------------
Tue Oct  5 15:36:48 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.5.1
  https://github.com/electron/electron/releases/tag/v13.5.1
- Bundle icu for systems which don't provide icu >= 68
- Avoid listing files twice (swiftshader)

-------------------------------------------------------------------
Tue Sep 28 18:02:29 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.5.0
  https://github.com/electron/electron/releases/tag/v13.5.0
- Fix for CVE-2021-30627
- Fix for CVE-2021-30631
- Fix for CVE-2021-30632
- Fix for CVE-2021-30625
- Fix for CVE-2021-30626
- Fix for CVE-2021-30628
- Fix for CVE-2021-30630
- Fix for CVE-2021-30633
- Removed linux_sandbox_return_enosys_for_clone3.patch
- Removed linux_sandbox_update_syscall_numbers_for_all_platforms.patch

-------------------------------------------------------------------
Sat Sep 25 23:46:53 UTC 2021 - Marcus Rueckert <mrueckert@suse.de>

- fixes to make it work with glibc 2.34 
  a9831f1cbf93fb18dd951453635f488037454ce9.patch
  linux_sandbox_return_enosys_for_clone3.patch
  linux_sandbox_update_syscall_numbers_for_all_platforms.patch

-------------------------------------------------------------------
Tue Sep 21 21:12:57 UTC 2021 - Dominik Heidler <dheidler@suse.de>

- Version 13.4.0

-------------------------------------------------------------------
Tue Aug 10 12:18:01 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.1.8
  * https://github.com/electron/electron/releases/tag/v13.1.8
- Removed chromium-90-compiler.patch
- Added chromium-91-compiler.patch
- Added chromium-freetype-2.11.patch

-------------------------------------------------------------------
Mon Jul 26 04:49:50 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.1.7
  * https://github.com/electron/electron/releases/tag/v13.1.7

-------------------------------------------------------------------
Mon Jul 12 06:20:09 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Fix build on Fedora
  * Added electron-13-openh264-format-security.patch

-------------------------------------------------------------------
Fri Jul  9 20:42:43 UTC 2021 - thod_@gmx.de

- Strip the debugging and symbol information

-------------------------------------------------------------------
Fri Jul  9 08:55:57 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.1.6
  * https://github.com/electron/electron/releases/tag/v13.1.6
  * https://github.com/electron/electron/releases/tag/v13.1.5

-------------------------------------------------------------------
Tue Jun 29 07:01:44 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Fix build on openSUSE 15.3
- Allow to build on Fedora (not fully working yet)

-------------------------------------------------------------------
Fri Jun 25 15:10:42 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Build with gcc
  * add chromium-91-GCC_fix_vector_types_in_pcscan.patch
  * add electron-13-gcc-fix-v8-nodiscard.patch
  * add electron-13-blink-gcc-ambiguous-nodestructor.patch
  * add chromium-gcc11.patch
  * This fixes speed issues

-------------------------------------------------------------------
Fri Jun 25 11:14:11 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.1.4
  * https://github.com/electron/electron/releases/tag/v13.1.4
  * https://github.com/electron/electron/releases/tag/v13.1.3

-------------------------------------------------------------------
Tue Jun 22 19:45:31 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Build with vaapi support

-------------------------------------------------------------------
Mon Jun 21 12:10:36 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Install missing vk_swiftshader_icd.json
- Add a version file

-------------------------------------------------------------------
Sat Jun 19 10:39:25 UTC 2021 - Andreas Schneider <asn@cryptomilk.org>

- Update to version 13.1.2
  * https://github.com/electron/electron/releases/tag/v13.1.2
- Improved tarball creation
- Added chromium-88-gcc-fix-swiftshader-libEGL-visibility.patch
- Added chromium-90-compiler.patch
- Added chromium-91-java-only-allowed-in-android-builds.patch
- Added chromium-91-system-icu.patch
- Added chromium-disable-parallel-gold.patch
- Added chromium-glibc-2.33.patch
- Added chromium-lp152-missing-includes.patch
- Added chromium-norar.patch
- Added chromium-system-libusb.patch
- Added electron-13-fix-sql-virtualcursor-type.patch
- Added gcc-enable-lto.patch
- Added electron-13-fix-use-thin-lto.patch
- Added electron-13-fix-base-check-nomerge.patch

-------------------------------------------------------------------
Wed May  5 12:39:32 UTC 2021 - Dominik Heidler <dheidler@suse.com>

- Initial Checkin
