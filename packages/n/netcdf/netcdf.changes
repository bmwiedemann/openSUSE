-------------------------------------------------------------------
Wed Apr  5 08:16:52 UTC 2023 - Dirk Stoecker <opensuse@dstoecker.de>

- add build require pkgconfig(zstd) to fix build for Leap 15.4

-------------------------------------------------------------------
Sun Mar 19 10:31:17 UTC 2023 - Dirk Müller <dmueller@suse.com>

- update to 4.9.2:
  * Update `nc-config` to remove inclusion from 
    automatically-detected `nf-config` and `ncxx-config` files,
    as the wrong files could be included in the output.
  * Update H5FDhttp.[ch] to work with HDF5 version 1.13.2
    and later.
  * [Bug Fix] Update DAP code to enable CURLOPT_ACCEPT_ENCODING
    by default.
  * [Bug Fix] Fix byterange failures for certain URLs.
  * [Bug Fix] Fix 'make distcheck' error in run_interop.sh.
  * [Enhancement] Update `nc-config` to remove inclusion from
    automatically-detected `nf-config` and `ncxx-config` files,
    as the wrong files could be included in the output. 
  * [Enhancement] Update H5FDhttp.[ch] to work with HDF5
    version 1.14.0.
  * Fix nc_def_var_fletcher32 operation
  * Merge relevant info updates back into `main`
  * Add manual GitHub actions triggers for the tests.
  * Make public a limited API for programmatic access to internal
    .rc tables
  * Fix typo in CMakeLists.txt
  * Fix choice of HOME dir
  * Check for libxml2 development files
  * Updating Doxyfile.in with doxygen-1.8.17, turned on 
    WARN_AS_ERROR, added doxygen build to CI run
  * updated release notes
  * increase read block size from 1 KB to 4 MB
  * fixed RELEASE_NOTES.md
  * Fix pnetcdf tests in cmake
  * Updated CMakeLists to avoid corner case cmake error
  * Add `--disable-quantize` to configure
  * Fix the way CMake handles -DPLUGIN_INSTALL_DIR
  * fix and test quantize mode for NC_CLASSIC_MODEL
  * Guard _declspec(dllexport) in support of #2446
  * Ensure that netcdf_json.h does not interfere with ncjson.
  * Prevent cmake writing to source dir
  * more quantize testing and adding pre-processor constant
    NC_MAX_FILENAME to nc_tests.h
  * Provide a default enum const when fill value does not match
    any enum constant
  * Fix support for reading arrays of HDF5 fixed size strings
  * Fix AWS SDK linking errors
  * Address jump-misses-init issue.
  * Remove stray merge conflict markers
  * Add support for Zarr string type to NCZarr
  * Fix some problems with PR 2492
  * Fix some bugs in the blosc filter wrapper
  * Add option to control accessing external servers
  * Changed attribute case in documentation
  * Adding all-error-codes.md back in to distribution
    documentation.
  * Update hdf5 version in github actions.
  * Minor update to doxygen function documentation
  * Fix some addtional errors in NCZarr
  * Cleanup szip handling some more
  * Check for zstd development headers in autotools
  * Add new options to nc-config
  * Cleanup built test sources in nczarr_test
  * Fix inconsistency in netcdf_meta.h
  * Small fix in nc-config.in
  * For loop initial declarations are only allowed in C99 mode
  * Fix some dependencies in tst_nccopy3
  * Update plugins/Makefile.am 
  * Fix prereqs in ncdump/tst_nccopy4 in order to avoid race
    conditions.
  * Move construction of VERSION file to end of the build
  * Add draft filter quickstart guide
  * Turn off extraneous debug output

-------------------------------------------------------------------
Fri Dec 30 10:06:16 UTC 2022 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Update to version 4.9.0:
  * [Enhancement] Improve filter installation process to avoid use
    of an extra shell script. See gh#Unidata/netcdf-c#2348.
  * [Bug Fix] Get "make distcheck" to work See
    gh#Unidata/netcdf-c#/2343.
  * [Enhancement] Allow the read/write of JSON-valued Zarr
    attributes to allow for domain specific info such as used by
    GDAL/Zarr. See gh#Unidata/netcdf-c#2278.
  * [Enhancement] Turn on the XArray convention for NCZarr files by
    default. WARNING, this means that the mode should explicitly
    specify nczarr" or "zarr" even if "xarray" or "noxarray" is
    specified. See gh#Unidata/netcdf-c#2257.
  * [Enhancement] Update the documentation to match the current
    filter capabilities See gh#Unidata/netcdf-c#2249.
  * [Enhancement] Support installation of pre-built standard
    filters into user-specified location. See
    gh#Unidata/netcdf-c#2318.
  * [Enhancement] Improve filter support. More specifically (1)
    add nc_inq_filter_avail to check if a filter is available, (2)
    add the notion of standard filters, (3) cleanup szip support
    to fix interaction with NCZarr. See gh#Unidata/netcdf-c#2245.
  * [Enhancement] Switch to tinyxml2 as the default xml parser
    implementation. See gh#Unidata/netcdf-c#2170.
  * [Bug Fix] Require that the type of the variable in
    nc_def_var_filter is not variable length.
    See gh#Unidata/netcdf-c#/2231.
  * [File Change] Apply HDF5 v1.8 format compatibility when
    writing to previous files, as well as when creating new files.
    The superblock version remains at 2 for newly created files.
    Full backward read/write compatibility for netCDF-4 is
    maintained in all cases. See gh#Unidata/netcdf-c#2176.
  * [Enhancement] Add ability to set dataset alignment for
    netcdf-4/HDF5 files. See gh#Unidata/netcdf-c#2206.
  * [Bug Fix] Improve UTF8 support on windows so that it can use
    utf8 natively. See gh#Unidata/netcdf-c#2222.
  * [Enhancement] Add complete bitgroom support to NCZarr.
    See gh#Unidata/netcdf-c#2197.
  * [Bug Fix] Clean up the handling of deeply nested VLEN
    types. Marks nc_free_vlen() and nc_free_string as deprecated
    in favor of ncaux_reclaim_data(). See gh#Unidata/netcdf-c#2179.
  * [Bug Fix] Make sure that netcdf.h accurately defines the flags
    in the open/create mode flags. See gh#Unidata/netcdf-c#2183.
  * [Enhancement] Improve support for msys2+mingw platform. See
    gh#Unidata/netcdf-c#2171.
  * [Bug Fix] Clean up the various inter-test dependencies in
    ncdump for CMake. See gh#Unidata/netcdf-c#2168.
  * [Bug Fix] Fix use of non-aws appliances. See
    gh#Unidata/netcdf-c#2152.
  * [Enhancement] Added options to suppress the new behavior from
    gh#Unidata/netcdf-c#2135.
  * [Enhancement] Support optional use of libxml2, otherwise
    default to ezxml. See gh#Unidata/netcdf-c#2135
  * [Bug Fix] Fix several os related errors. See
    gh#Unidata/netcdf-c#2138.
  * [Enhancement] Support byte-range reading of netcdf-3 files
    stored in private buckets in S3. See gh#Unidata/netcdf-c#2134
  * [Enhancement] Support Amazon S3 access for NCZarr. Also support
    use of the existing Amazon SDK credentials system. See
    gh#Unidata/netcdf-c#2114
  * [Bug Fix] Fix string allocation error in H5FDhttp.c. See
    gh#Unidata/netcdf-c#2127.
  * [Bug Fix] Apply patches for ezxml and for selected oss-fuzz
    detected errors. See gh#Unidata/netcdf-c#2125.
  * [Bug Fix] Ensure that internal Fortran APIs are always
    defined. See gh#Unidata/netcdf-c#2098.
  * [Enhancement] Support filters for NCZarr. See
    gh#Unidata/netcdf-c#2101
  * [Bug Fix] Make PR 2075 long file name be idempotent. See
    gh#Unidata/netcdf-c#2094.
- Remove unused doxygen build dependency.
- Remove some obsolete Provides/Obsoletes from library package.
- Drop upstream patches:
  * swap-4-8-b-Satisfy-strict-aliasing-rules.patch
  * Fix-type-punning-in-val_NC_check_voff-by-using-memcpy-instead-of-assignment.patch
  * Fix-type-punning-in-xxdrntohdouble-by-using-memcpy-instead-of-assignment.patch
  * NCD4_dumpbytes-use-correct-swapline-for-object-size.patch
  * d4util.h-make-swapinlineXX-more-robust-against-type-punning.patch
  * bin_reclaim_compound-Fixed-uninitialized-variable.patch
- Drop ezxml patches (replaced by tinyxml2/libxml2):
  * Fix-for-CVE-2019-20200-ezxml-bug-19.patch
  * Fix-for-CVE-2019-20006-CVE-2019-20202-CVE-2021-31598-ezxml-bug-15-17-28.patch
  * Fix-for-CVE-2019-20199-ezxml-bug-18.patch
  * Fix-for-CVE-2019-20007-ezxml-bug-13.patch
  * Fix-for-CVE-2021-26221-ezxml-bug-21.patch
  * Fix-for-CVE-2021-26222-ezxml-bug-22.patch
  * Fix-CVE-2021-30485-bug-25.patch
  * Fix-CVE-2021-31229-bug-26-CVE-2019-20201-bug-16-CVE-2019-20198-bug-20.patch
  * Fix-CVE-2021-31347-bug-27.patch

-------------------------------------------------------------------
Mon Dec 12 14:15:39 UTC 2022 - Egbert Eich <eich@suse.com>

- Add BuildRequires for libhdf5[_hl]-<compiler_family>[-<mpi_flavor>-hpc
  explicitly so that %%{requires_eq ..} is able to find the package and
  obtain the version number (boo#1206334).

-------------------------------------------------------------------
Sat Feb 26 19:18:13 UTC 2022 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Correct Source: URL

-------------------------------------------------------------------
Wed Feb 16 12:53:30 UTC 2022 - Atri Bhattacharya <badshah400@gmail.com>

- Update to version 4.8.1:
  * [Bug Fix] Fix multiple bugs in libnczarr. See
    gh#Unidata/netcdf-c#2066.
  * [Enhancement] Support windows network paths (e.g. \svc...).
    See gh#Unidata/netcdf-c#2065.
  * [Enhancement] Convert to a new representation of the NCZarr
    meta-data extensions: version 2. Read-only backward
    compatibility is provided. See gh#Unidata/netcdf-c#2032.
  * [Bug Fix] Fix dimension_separator bug in libnczarr. See
    gh#Unidata/netcdf-c#2035.
  * [Bug Fix] Fix bugs in libdap4. See gh#Unidata/netcdf-c#2005.
  * [Bug Fix] Store NCZarr fillvalue as a singleton instead of a
    1-element array. See gh#Unidata/netcdf-c#2017.
  * [Bug Fixes] The netcdf-c library was incorrectly determining
    the scope of dimension; similar to the type scope problem. See
    gh#Unidata/netcdf-c#2012 for more information.
  * [Bug Fix] Re-enable DAP2 authorization testing. See
    gh#Unidata/netcdf-c#2011.
  * [Bug Fix] Fix bug with windows version of mkstemp that causes
    failure to create more than 26 temp files. See
    gh#Unidata/netcdf-c#1998.
  * [Bug Fix] Fix ncdump bug when printing VLENs with basetype
    char. See gh#Unidata/netcdf-c#1986.
  * [Bug Fixes] The netcdf-c library was incorrectly determining
    the scope of types referred to by nc_inq_type_equal. See
    gh#Unidata/netcdf-c#1959 for more information.
  * [Bug Fix] Fix bug in use of XGetopt when building under Mingw.
    See gh#Unidata/netcdf-c#2009.
  * [Enhancement] Improve the error reporting when attempting to
    use a filter for which no implementation can be found in
    HDF5_PLUGIN_PATH. See gh#Unidata/netcdf-c#2000 for more
    information.
  * [Bug Fix] Fix make distcheck issue in nczarr_test/ directory.
    See gh#Unidata/netcdf-c#2007.
  * [Bug Fix] Fix bug in NCclosedir in dpathmgr.c. See
    gh#Unidata/netcdf-c#2003.
  * [Bug Fix] Fix bug in ncdump that assumes that there is a
    relationship between the total number of dimensions and the
    max dimension id. See gh#Unidata/netcdf-c#2004.
  * [Bug Fix] Fix bug in JSON processing of strings with embedded
    quotes. See gh#Unidata/netcdf-c#1993.
  * [Enhancement] Add support for the new "dimension_separator"
    enhancement to Zarr v2. See gh#Unidata/netcdf-c#1990 for more
    information.
  * [Bug Fix] Fix hack for handling failure of shell programs to
    properly handle escape characters. See
    gh#Unidata/netcdf-c#1989.
  * [Bug Fix] Allow some primitive type names to be used as
    identifiers depending on the file format. See
    gh#Unidata/netcdf-c#1984.
  * [Enhancement] Add support for reading/writing pure Zarr
    storage format that supports the XArray _ARRAY_DIMENSIONS
    attribute. See gh#Unidata/netcdf-c#1952 for more information.
  * [Update] Updated version of bzip2 used in filter
    testing/functionality, in support of gh#Unidata/netcdf-c#1969.
  * [Bug Fix] Corrected HDF5 version detection logic as described
    in gh#Unidata/netcdf-c#1962.
- New BuildRequires: unzip needed for one of the tests.

-------------------------------------------------------------------
Tue Feb 15 12:12:41 UTC 2022 - Dominique Leuenberger <dimstar@opensuse.org>

- Move rpm macros from /etc/rpm to /usr/lib/rpm/macros.d
  (boo#1191393).

-------------------------------------------------------------------
Mon Oct 25 14:09:10 UTC 2021 - Egbert Eich <eich@suse.com>

- Fix:
   * CVE-2019-20007 https://sourceforge.net/p/ezxml/bugs/13
   * CVE-2019-20006 https://sourceforge.net/p/ezxml/bugs/15
   * CVE-2019-20201 https://sourceforge.net/p/ezxml/bugs/16
   * CVE-2019-20202 https://sourceforge.net/p/ezxml/bugs/17
   * CVE-2019-20199 https://sourceforge.net/p/ezxml/bugs/18
   * CVE-2019-20200 https://sourceforge.net/p/ezxml/bugs/19
   * CVE-2019-20198 https://sourceforge.net/p/ezxml/bugs/20
   * CVE-2021-26221 https://sourceforge.net/p/ezxml/bugs/21
   * CVE-2021-26222 https://sourceforge.net/p/ezxml/bugs/22
   * CVE-2021-30485 https://sourceforge.net/p/ezxml/bugs/25
   * CVE-2021-31229 https://sourceforge.net/p/ezxml/bugs/26
   * CVE-2021-31347 &
   * CVE-2021-31348 https://sourceforge.net/p/ezxml/bugs/27
   * CVE-2021-31598 https://sourceforge.net/p/ezxml/bugs/28
     (bsc#1191856)
  Note:
   * CVE-2021-26220 https://sourceforge.net/p/ezxml/bugs/23
     not relevant for netcdf: code isn't used.
   * CVE-2019-20005 https://sourceforge.net/p/ezxml/bugs/14
     Issue cannot be reproduced and no patch is available upstream.
  Added:
   * Fix-CVE-2021-30485-bug-25.patch
   * Fix-CVE-2021-31229-bug-26-CVE-2019-20201-bug-16-CVE-2019-20198-bug-20.patch
   * Fix-CVE-2021-31347-bug-27.patch
   * Fix-for-CVE-2019-20006-CVE-2019-20202-CVE-2021-31598-ezxml-bug-15-17-28.patch
   * Fix-for-CVE-2019-20007-ezxml-bug-13.patch
   * Fix-for-CVE-2019-20199-ezxml-bug-18.patch
   * Fix-for-CVE-2019-20200-ezxml-bug-19.patch
   * Fix-for-CVE-2021-26221-ezxml-bug-21.patch
   * Fix-for-CVE-2021-26222-ezxml-bug-22.patch

-------------------------------------------------------------------
Thu Oct 21 17:32:47 UTC 2021 - Egbert Eich <eich@suse.com>

- Add Patches:
  These should allow us to reenable strict aliasing.
  * swap-4-8-b-Satisfy-strict-aliasing-rules.patch
  * Fix-type-punning-in-val_NC_check_voff-by-using-memcpy-instead-of-assignment.patch
  * Fix-type-punning-in-xxdrntohdouble-by-using-memcpy-instead-of-assignment.patch
 * NCD4_dumpbytes-use-correct-swapline-for-object-size.patch
 * d4util.h-make-swapinlineXX-more-robust-against-type-punning.patch
 * parseServers-Fix-uninitialized-variable-simplify-error-path.patch
 * bin_reclaim_compound-Fixed-uninitialized-variable.patch
 * val_NC_check_voff-Fix-uninitialized-variable-warning.patch
 * pr_att-Fix-uninitialized-variable.patch
 * NCD4_dumpbytes-Add-missing-initialization-of-float-types.patch
 * NCZ_def_var_chunking-make-sure-cs-is-set-before-used.patch
 * Fix-spurious-uninitialized-variable-warning.patch

-------------------------------------------------------------------
Sun Aug  8 22:01:06 UTC 2021 - Egbert Eich <eich@suse.com>

- Removed generation of libsrc/ncx.c:
  This was an issue with an older version and has been fixed since.
  With this, no longer requiring m4 explicitly.
- Valgrind is used for validation tests only, these have not been
  performed. When they were added some of them failed. This requires
  further investigations. For now, valgrind testing has been made
  optional.

-------------------------------------------------------------------
Tue Jul  6 11:54:21 UTC 2021 - Egbert Eich <eich@suse.com>

- Gcc11 has raised the bar on strict aliasing requirements even
  further. This has given rise to seemingly senseless warnings
  like:
  ncx.c: In function 'ncx_putn_float_double':
  ncx.c:272:20: warning: 'xx' may be used uninitialized [-Wmaybe-uninitialized]
      272 |     uint32_t tmp = *(uint32_t*)src;
          |                    ^~~~~~~~~~~~~~~
	  ncx.c:3562:14: note: 'xx' was declared here
     3562 |     ix_float xx = NC_FILL_FLOAT;
          |              ^~
  but what is worse, data in netcdf files is missing. Luckily, this
  was caught by the test suite.
  These warnings and further type punning warnings should be fixed
  eventually. However, for now, lets cry defeat, disable strict
  aliasing and get netcdf back working again.

-------------------------------------------------------------------
Sun Jul  4 06:50:29 UTC 2021 - Egbert Eich <eich@suse.com>

- Add build support for gcc11 to HPC build.
- Update to version 4.7.4.
  * Enhancements:
    - Bump the NC_DISPATCH_VERSION from 2 to 3
    - Better cross platform path name management. This converts paths for
      various platforms (e.g. Windows, MSYS, etc.) so that they are in
      the proper format for the executing platform. See Github #1958.
    - Add support for storing NCZarr data in zip files. See Github #1908.
    - Optimizations to NCZarr, cleanup of code cruft, NCZarr test cases,
      performance test to NCZarr. See Github #1942.
    - Provide .rc fields for S3 authentication: HTTP.S3.ACCESSID and
      HTTP.S3.SECRETKEY.
    - Give the client control over what parts of a DAP2 URL are URL
      encoded (i.e. xx). This is to support the different decoding
	 rules that servers apply to incoming URLS. See Github #1884 for
	 more information.
    - Added new parallel I/O benchmark program to mimic NOAA UFS data
      writes. See [https://github.com/Unidata/netcdf-c/pull/1777].
    - Add support for cloud storage using a variant of the Zarr storage
      format. Warning: this feature is highly experimental and is subject
	 to rapid evolution
      [https://www.unidata.ucar.edu/blogs/developer/en/entry/overview-of-zarr-support-in].
    - When a filter is applied twice with different parameters, the
      second set is used for writing the dataset
      [https://github.com/Unidata/netcdf-c/issues/1713].
  * Bug Fixes:
    - The nccopy program was treating -d0 as turning deflation on rather
      than interpreting it as "turn off deflation". See Github #1944.
    - Make fillmismatch the default for DAP2 and DAP4; too many servers
      ignore this requirement.
    - Fix some memory leaks in NCZarr, fix a bug with long strides in
      NCZarr. See Github #1913.
    - Implement a better chunk cache system for NCZarr. The cache now
      uses extendible hashing plus a linked list for provide a combination
	 of expandibility, fast access, and LRU behavior. See Github #1887.
    - Fix incorrect time offsets from ncdump -t, in some cases when the
      time units attribute contains both a non-zero time-of-day, and a
      time zone suffix containing the letter "T", such as "UTC". See
      Github #1866.
    - Cleanup the NCZarr S3 build options. See Github #1869.
    - Support aligned access for selected ARM processors. See Github #1871.
    - Revert the internal filter code to simplify it. From the user's
      point of view, the only visible change should be that (1) the
      functions that convert text to filter specs have had their signature
      reverted and renamed and have been moved to netcdf_aux.h, and (2)
      Some filter API functions now return NC_ENOFILTER when inquiry is
      made about some filter. Internally, the dispatch table has been
      modified to get rid of the complex structures.
    - If the HDF5 byte-range Virtual File Driver is available) HDf5 1.10.6
      or later) then use it because it has better performance than the one
      currently built into the netcdf library.
    - Fixed byte-range support with cURL > 7.69. See
      https://github.com/Unidata/netcdf-c/pull/1798.
    - Added new test for using compression with parallel I/O:
      nc_test4/tst_h_par_compress.c. See
      [https://github.com/Unidata/netcdf-c/pull/1784].
    - Don't return error for extra calls to nc_redef() for netCDF/HDF5
      files, unless classic model is in use. See
      [https://github.com/Unidata/netcdf-c/issues/1779].
    - Now allow szip to be used on variables with unlimited
      dimension [https://github.com/Unidata/netcdf-c/issues/1774].
    - Fix nccopy to properly set default chunking parameters when
      not otherwise specified. This can significantly improve performance
      in selected cases. Note that if seeing slow performance with nccopy,
      then, as a work-around, specifically set the chunking parameters.
      [https://github.com/Unidata/netcdf-c/issues/1763].
    - Fix some protocol bugs/differences between the netcdf-c library and
      the OPeNDAP Hyrax server. Also cleanup checksum handling
      [https://github.com/Unidata/netcdf-c/issues/1712].*
    - IMPORTANT: Ncgen was not properly handling large data sections.
      The problem manifests as incorrect ordering of data in the created
      file. Aside from examining the file with ncdump, the error can be
      detected by running ncgen with the -lc flag (to produce a C file).
      Examine the file to see if any variable is written in pieces as
      opposed to a single call to nc_put_vara. If multiple calls to
      nc_put_vara are used to write a variable, then it is probable
      that the data order is incorrect. Such multiple writes can occur
      for large variables and especially when one of the dimensions is
      unlimited.
    - Add necessary __declspec declarations to allow compilation
      of netcdf library without causing errors or (_declspec related)
      warnings
      [https://github.com/Unidata/netcdf-c/issues/1725].
    - Now larger cache settings are used for sequential HDF5 file
      creates/opens on parallel I/O capable builds; see Github #1716.
    - Add functions to libdispatch/dnotnc4.c to support dispatch
      table operations that should work for any dispatch table, even
	 if they do not do anything; functions such as nc_inq_var_filter
      [https://github.com/Unidata/netcdf-c/issues/1693].
    - Fixed a scalar annotation error when scalar == 0; see Github #1707.
    - Use proper CURLOPT values for VERIFYHOST and VERIFYPEER; the
      semantics for VERIFYHOST in particular changed. Documented in
      NUG/DAP2.md.
      See [https://github.com/Unidata/netcdf-c/issues/1684].
    - [cmake] Correct an issue with parallel filter test logic in
      CMake-based builds.
    - Now allow nc_inq_var_deflate()/nc_inq_var_szip() to be called for
      all formats, not just HDF5. Non-HDF5 files return NC_NOERR and
      report no compression in use. This reverts behavior that was changed
      in the 4.7.4 release.
      See [https://github.com/Unidata/netcdf-c/issues/1691].
    - Compiling on a big-endian machine exposes some missing forward
      delcarations in dfilter.c.
  * Documentation:
    - Migrated the documents in the NUG/ directory to the dedicated NUG
      repository found at https://github.com/Unidata/netcdf
  * Remove obsolete:
    Define-byteswap-functions-before-use.patch
    Fix-logging-argument.patch
    get_filter_info-get-correct-number-of-filter-elements.patch

-------------------------------------------------------------------
Fri Jan 29 14:21:02 UTC 2021 - Egbert Eich <eich@suse.com>

- Define-byteswap-functions-before-use.patch:
  Define byteswap() functions before use (bsc#1181523).

-------------------------------------------------------------------
Wed Dec  9 08:29:38 UTC 2020 - Egbert Eich <eich@suse.com>

- Change 'Requires:' to hdf5 to %requires_eq to match the exact
  version of hdf5 in the dependency. This should take care of
  HPC packages ignoring proper ABI versioning (boo#1179521).

-------------------------------------------------------------------
Fri Nov  6 13:44:53 UTC 2020 - Ana Guerrero Lopez <aguerrero@suse.com>

- Update to version 4.7.4.
  * Support has been added for HDF5-1.12.0. 
  * Support has been added for multiple filters per variable.
  * Now nc_inq_var_szip retuns 0 for parameter values if szip is not in
    use for var.
  * Now allow parallel I/O with filters, for HDF5-1.10.3 and later.
  * Increased default size of cache buffer to 16 MB, from 4 MB. Increased
    number of slots to 4133.
  * Allow zlib compression to be used with parallel I/O writes, if HDF5
    version is 1.10.3 or greater. 
  * Restore use of szip compression when writing data (including writing
    in parallel if HDF5 version is 1.10.3 or greater).
  * Enable use of compact storage option for small vars in netCDF/HDF5 files.
  * Updated benchmarking program bm_file.c to better handle very large files.
  * Added version number to dispatch table, and now check version with
    nc_def_user_format().
  * Increased size of maximum allowed name in HDF4 files to NC_MAX_NAME.
  * Bug Fixes:
    - Correct behavior for the command line utilities when
      directly accessing a directory using utf8 characters.
    - Attempts to set filters or chunked storage on scalar vars will now
      return NC_EINVAL. Scalar vars cannot be chunked, and only chunked
      vars can have filters. Previously the library ignored these attempts,
      and always storing scalars as contiguous storage.
    - Fixed problem of growing memory when netCDF-4 files were
      opened and closed.
  Further details can be found at:
  https://github.com/Unidata/netcdf-c/releases/tag/v4.7.4
- Bump soname from 15 to 18.
- Add Fix-logging-argument.patch:
  Fix argument to logging function.
- get_filter_info-get-correct-number-of-filter-elements.patch
  Fix intermittend issue found by unit tests.

-------------------------------------------------------------------
Mon Aug 17 09:01:15 UTC 2020 - Michel Normand <normand@linux.vnet.ibm.com>

- Ignore make check error for ppc64 & s390x
  (both failed on tst_filter.sh) tracked upstream 
  via email subject [netCDF #XWG-388823]

-------------------------------------------------------------------
Thu Jul 23 16:36:42 UTC 2020 - Egbert Eich <eich@suse.com>

- Add build support for gcc10 to HPC build (bsc#1174439). 
- Remove unused build option.

-------------------------------------------------------------------
Mon Jul 20 10:24:37 UTC 2020 - Egbert Eich <eich@suse.com>

- Add support for OpenMPI 4 (disabled on < 15.3)

-------------------------------------------------------------------
Mon Jul 20 10:23:26 UTC 2020 - Egbert Eich <eich@suse.com>

- Remove requirements for parallel-netcdf from non-HPC builds:
  without the '--enable-pnetcdf' configure option, this doesn't
  make sense.

-------------------------------------------------------------------
Mon Jul 20 04:59:19 UTC 2020 - Egbert Eich <eich@suse.com>

- Remove build restrictions for SLE builds: build all flavors for
  SLE.
- Fix ldconfig args for HPC packages: no caching should be done
  as these libs are made available thru LD_LIBRARY_PATH tweaking.
- Adhere to common conventions regarding NetCDF and PnetCDF:
  NetCDF modules should be called 'netcdf' - regardless whether
  they are 'serial' or use MPI (boo#1174291).

-------------------------------------------------------------------
Sat Mar 28 07:03:45 UTC 2020 - Egbert Eich <eich@suse.com>

- Build macro package netcdf-devel-data only for non-HPC builds
  (boo#1167947).

-------------------------------------------------------------------
Wed Jan 22 09:49:02 UTC 2020 - Adrian Schröter <adrian@suse.de>

- Update to version 4.7.3:
  * Library was modified so that rewriting the same attribute happens without
    deleting the attribute, to avoid a limit on how many times this may be
    done in HDF5.
  * Now testing that endianness can only be set on atomic ints and floats.
  * Fix for subtle error involving var and unlimited dim of the same name, but
    unrelated, in netCDF-4. See [https://github.com/Unidata/netcdf-c/issues/1496].
  * Update for attribute documentation. See [https://github.com/Unidata/netcdf-c/issues/1512].
  * Corrected assignment of anonymous (a.k.a. phony) dimensions in an HDF5 file.
  * Corrected an issue where protected memory was being written to with some pointer
    slight-of-hand.

-------------------------------------------------------------------
Sat Nov 30 14:21:21 UTC 2019 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Fix openmpi naming for Leap 15.x
- Correct some conditionals, matching for "openmpi" instead of
  "openmpi1".
- Add non-HPC openmpi3 build flavor
- Some spec file cleanup (trailing whitespace).

-------------------------------------------------------------------
Fri Nov 29 18:23:24 UTC 2019 - Egbert Eich <eich@suse.com>

- Add support for gcc8 and gcc9 (jsc#SLE-7766 & jsc#SLE-8604).

-------------------------------------------------------------------
Thu Nov 28 15:44:00 UTC 2019 - Egbert Eich <eich@suse.com>

- Update to version 4.7.1:
  * Remove obsolete _CRAYMPP and LOCKNUMREC macros from
    code. Also brought documentation up to date in man page.
  * Remove obsolete and deprecated functions nc_set_base_pe()
    and nc_inq_base_pe() from the dispatch table. (Both functions
    are still supported in the library, this is an internal
    change only.)
  * Fix: Reverted nccopy behavior so that if no -c parameters are
    given, then any default chunking is left to the netcdf-c library
    to decide.
- Disable openmpi1 builds for SLE/Leap > 15.1.
- Enable openmpi3 builds for Leap and SLE > 15.1 (jsc#SLE-7773).

-------------------------------------------------------------------
Thu Oct 24 06:32:32 UTC 2019 - Nicolas Morey-Chaisemartin <nmoreychaisemartin@suse.com>

- openmpi has been renamed to openmpi1

-------------------------------------------------------------------
Wed Oct 23 21:20:43 UTC 2019 - Egbert Eich <eich@suse.com>

- Fix package description: Use macro to generate the correct information.

-------------------------------------------------------------------
Sun Sep  8 16:34:27 UTC 2019 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Use FAT LTO objects in order to provide proper static library.
- Readd optflags to CFLAGS again. The motivating issue has been solved
  (https://github.com/Unidata/netcdf-c/issues/244), and without
  optflags the lto flags were only applied to parts of the build,
  causing broken static libraries.

-------------------------------------------------------------------
Fri Sep  6 16:37:27 UTC 2019 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Bump soversion, use it in the files section (so it fails the next
  time the version update is omitted), and remove the rpmlintrc
  also hiding the problem.

-------------------------------------------------------------------
Mon Aug 26 12:30:51 UTC 2019 - Ana Guerrero Lopez <aguerrero@suse.com>

- Update to version 4.7.0 (jsc#SLE-8500), see changes from 4.6.1 at:
  * https://www.unidata.ucar.edu/blogs/news/entry/netcdf-4-7-0
  * https://www.unidata.ucar.edu/blogs/news/entry/netcdf-4-6-3
  * https://www.unidata.ucar.edu/blogs/news/entry/netcdf-4-6-2
- Update Source to rename the tarball as netcdf instead of netcdf-c

-------------------------------------------------------------------
Wed Feb 13 11:49:57 UTC 2019 - Egbert Eich <eich@suse.com>

- Consolidate use of openmpi1, openmpi2, openmpi3.

-------------------------------------------------------------------
Mon Jan  7 21:50:05 UTC 2019 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Add support for openmpi2 flavor
  * own directories below _mandir for all MPI flavors
  * no support for parallel_netcdf yet, same as for HPC flavors
- Enable valgrind support also for aarch64
- defattr, license spec file cleanup

-------------------------------------------------------------------
Wed Nov 14 01:02:27 UTC 2018 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Only create a single devel-data subpackage providing the identical
  macros.netcdf, and require it by both serial and openmpi devel packages.

-------------------------------------------------------------------
Tue May  8 07:54:53 UTC 2018 - adrian@suse.de

- go back to hdf5 1.10

-------------------------------------------------------------------
Mon Apr 30 19:56:15 UTC 2018 - eich@suse.com

- Fix devel-data package conflicts by a Provides/Conflicts that
  doesn't collide with a package name.

-------------------------------------------------------------------
Mon Apr 30 14:05:54 UTC 2018 - eich@suse.com

- Remove the 'ring magic' as this seems to create issues during
  verification.

-------------------------------------------------------------------
Mon Apr 30 10:04:19 UTC 2018 - eich@suse.com

- (Temporarily) disable fpr S390* as a check test fails currently
  on BE.

-------------------------------------------------------------------
Mon Apr 30 09:52:13 UTC 2018 - eich@suse.com

- Fix dependency issues with non-HPC devel packages and
  devel-data.

-------------------------------------------------------------------
Mon Apr 30 09:11:01 UTC 2018 - eich@suse.com

- Add a dependency to the HPC master package of the correct
  flavor of libhdf5_hl (bsc#1091243).

-------------------------------------------------------------------
Tue Apr 24 19:32:21 UTC 2018 - jberry@suse.com

- Avoid file conflict between devel-data packages over rpm macros.

-------------------------------------------------------------------
Wed Apr 11 08:02:12 UTC 2018 - eich@suse.com

- Disable non-HPC builds on non-openSUSE systems: 
  a. currently only SUSE products/projects are supported/
  b. non-HPC builds are not and have never been supported on SLE,
     on openSUSE they are provided for compatibility reasons.

-------------------------------------------------------------------
Wed Apr  4 07:34:49 UTC 2018 - adrian@suse.de

- update to version 4.6.1 (FATE#325561)
  * changes since 4.4.4.1 are documented here: 
    https://www.unidata.ucar.edu/blogs/news/entry/netcdf-4-6-1
    https://www.unidata.ucar.edu/blogs/news/entry/netcdf-4-6-0
    https://www.unidata.ucar.edu/blogs/news/entry/netcdf-4-5-0
- Obsoletes all patches:
   netcdf-disable-szip-linking.patch
   netcdf-h5-test-fix-type-mismatch.patch
   netcdf-no_date_time.patch
- drop hdf4 support
- use version 1.8 of hdf5 in non-hpc mode to avoid incompatible
  on-disk data

-------------------------------------------------------------------
Fri Feb  9 20:12:12 UTC 2018 - eich@suse.com

- Add support for openmpi2 for HPC (FATE#325089).

-------------------------------------------------------------------
Fri Feb  9 14:53:58 UTC 2018 - cgoll@suse.com

- Fix summary in module files (bnc#1080259)

-------------------------------------------------------------------
Fri Jan 19 06:22:27 UTC 2018 - eich@suse.com

- Change the name of the MPI version of the module file directory
  to pnetcdf to distinguish it from the 'serial' one (boo#1075933).

-------------------------------------------------------------------
Fri Jan 12 15:42:04 UTC 2018 - eich@suse.com

- Disable the openmpi3 flavor in some products.

-------------------------------------------------------------------
Fri Jan  5 19:11:19 UTC 2018 - eich@suse.com

- Switch from gcc6 to gcc7 as additional compiler flavor for HPC on SLES.
- Add support for mpich and openmpi3 for HPC.

-------------------------------------------------------------------
Fri Nov 10 16:08:15 UTC 2017 - eich@suse.com

- Add dependency on the hpdf5 library package 
  to the netdf libary package.

-------------------------------------------------------------------
Thu Nov  2 19:25:17 UTC 2017 - eich@suse.com

- Simplify Group: - do not destinguish between MPI 
  and non-MPI: the IBS check scripts cannot handle
  this well.

-------------------------------------------------------------------
Mon Oct 30 19:35:17 UTC 2017 - eich@suse.com

- Fix wrong Requires: in static package.

-------------------------------------------------------------------
Sat Oct 28 19:23:30 UTC 2017 - eich@suse.com

- Add minimal mpi-selector support for non-HPC MPI build.
  This will avoid the MPI packages to conflict with the
  'serial' ones as both provide the same files and libs.

-------------------------------------------------------------------
Sat Oct 28 07:52:10 UTC 2017 - eich@suse.com

- Fix botched dependency for libpnetcdf-<mpi-flavor>.

-------------------------------------------------------------------
Tue Oct 24 20:16:57 UTC 2017 - jjolly@suse.com

- Added patch netcdf-h5-test-fix-type-mismatch.patch
  * Fixes type mismatch in test tst_h_dimscales
    (bsc#1064705).

-------------------------------------------------------------------
Thu Oct 19 16:38:40 UTC 2017 - eich@suse.com

- Source mpivars.sh to fix the non-HPC openmpi %check.

-------------------------------------------------------------------
Tue Oct 17 14:08:48 UTC 2017 - eich@suse.com

- Add magic to limit the number of flavors built in the
  in the OBS ring.

-------------------------------------------------------------------
Sun Sept 13 06:51:00 UTC 2017 - eich@suse.com

- Incorporated HPC-style builds using environment modules.
- Converted to multibuild (FATE#321719).
- renamed rpmlintrc to netcdf-rpmlintrc.
- Generate baselib.conf dynamically and only for the non-HPC
  build: this avoids issues with the source validator.

-------------------------------------------------------------------
Tue Sep 12 08:36:09 UTC 2017 - badshah400@gmail.com

- Update to version 4.4.1.1:
  - Fixed an issue where ncgen would potentially crash or write
    incorrect netCDF4 binary data under very specific
    circumstances [gh#Unidata/netcdf-c#323].
  - Updated documentation related to netCDF variable names and
    DAP2 access to reflect the undefined behavior potentially
    observed when DAP2 reserved keywords are used as netCDF
    variable names.
  - Fixed an issue with nc_inq_type() not returning proper value
    in some circumstances [gh#Unidata/netcdf-c#317].
  - Corrected an issue related to test failures when
    --disable-utilities or -DENABLE_UTILITIES=OFF are specified
    when building with autotools or cmake, respectively
    [gh#Unidata/netcdf-c#313].
  - Corrected a behavioral issue with the _NCProperties attribute
    taking up too much space [gh#Unidata/netcdf-c#300],
    [gh#Unidata/netcdf-c#301].
  - Corrected behavior for nc-config so that, if nf-config is
    found in system, the proper fortran-related information will
    be conveyed [gh#Unidata/netcdf-c#296].
- Add netcdf-disable-szip-linking.patch:  Disable building with
  szip support for now, since test nc_test4/tst_interops5.c fails
  otherwise; this is likely to be fixed with version 4.5.0 of
  netcdf, but requires big enough changes that we don't backport
  it here. Necessitates BuildRequires on libtool and running
  autoreconf before configure.

-------------------------------------------------------------------
Thu Feb  9 12:40:18 UTC 2017 - dimstar@opensuse.org

- Explicitly BuildRequire m4

-------------------------------------------------------------------
Sat Aug  6 19:37:39 UTC 2016 - wbauer@tmo.at

- Remove %{optflags} from CFLAGS for now to fix build with hdf5-1.10
  in Factory, see https://github.com/Unidata/netcdf-c/issues/244

-------------------------------------------------------------------
Sun Jul 31 16:09:16 UTC 2016 - virtuousfox@gmail.com

- Add 32bit version to satisfy libavfilter6-32bit

-------------------------------------------------------------------
Sun Jul 17 16:06:42 UTC 2016 - jengelh@inai.de

- Trim descriptions. (libnetcdf11 will be the prominently installed
  one and therefore retains it mostly.)

-------------------------------------------------------------------
Fri Jul 15 15:46:46 UTC 2016 - toddrme2178@gmail.com

- As far as I can find the settings file is only needed for 
  development.

-------------------------------------------------------------------
Tue Jul  5 11:17:16 UTC 2016 - adrian@suse.de

- update to version 4.4.1
  Details can be found in the RELEASE_NOTES file.
- Note: The combination of netCDF-C library versions earlier than
  4.4.1 and libhdf5 1.10.0+ should be avoided, as they will result
  in binary files not readable by systems using earlier libhdf5 versions.

-------------------------------------------------------------------
Thu Mar 31 00:32:51 UTC 2016 - dvaleev@suse.com

- Regenerate ncx.c from ncx.m4. Tarball doesn't have fresh copy
  of it. https://github.com/Unidata/netcdf-c/issues/159 

-------------------------------------------------------------------
Wed Mar 16 19:20:09 UTC 2016 - toddrme2178@gmail.com

- Update to version 4.4.0.  Highlights:
  * Added CDM-5 support.
  * Added support for opening in-memory file content.
  * Modified CMakeLists.txt to work with the re-organized cmake
    configuration used by the latest HDF5, 1.8.16, on Windows.
    Before this fix, netCDF would fail to locate hdf5 1.8.16 when
    using cmake on Windows.
  * Modified ncgen to properly handle the L and UL suffixes for
    integer constants to keep backward compatibility.
- Remove netcdf-correct_casting.patch, rendered irrelevant by
  upstream change.
- Remov upstream-included netcdf-codecleanup.patch and 
  netcdf-pkgconfig.patch
- Rebase netcdf-no_date_time.patch

-------------------------------------------------------------------
Sat Nov 21 20:05:32 UTC 2015 - scorot@free.fr

- install netcdf_par.h which is skipped when mpicc in not detected 

-------------------------------------------------------------------
Mon Aug 24 09:22:06 UTC 2015 - toddrme2178@gmail.com

- Currently the regular, openmpi, and mpivachi2 versions of the
  library packages all provide the exact same libraries.  So any
  package built against the -devel package will end up with an
  "unresolvable" build error because there are multiple versions
  of the library it can use. To avoid this, I have added generic
  provides for the library package so packages can depend on the
  version they really need, avoiding these build issues.
- Depend on the correct regular, openmpi, and mpivachi2 versions of
  hdf, hdf5, and parallel-netcdf.

-------------------------------------------------------------------
Mon Jul 27 11:11:12 UTC 2015 - toddrme2178@gmail.com

- Update subpackage groups
- Make subpackage summaries and descriptions more consistent
- Provide rpm macros for version identification
- Spec file cleanups
- Build parallel versions of the library.

-------------------------------------------------------------------
Fri Jul 24 13:03:05 UTC 2015 - toddrme2178@gmail.com

- Build with HDF4 support

-------------------------------------------------------------------
Sat Apr 18 11:13:30 UTC 2015 - p.drouand@gmail.com

- Update to version 4.3.3.1
  * When the NC_MPIPOSIX flag is given for parallel I/O access and 
    the HDF5 library does not have the MPI-POSIX VFD configured in, 
    the NC_MPIPOSIX flag is transparently aliased to the NC_MPIIO 
    flag within the netCDF-4 library.
  * DAP requests now always include a restraint. Due to a problem in
    version 4.3.2, no constraint was generated when all variables were
    requested.
  * Fixed the code for handling character constants in datalists in
    ncgen. Two of the problems were:
    - It failed on large constants
    - It did not handle e.g.
    - var = 'a', 'b', …
      in the same way that ncgen3 did.
- Changes from version 4.3.3
  * Fixed bug resulting in error closing a valid netCDF-4 file with
    a dimension and a non-coordinate variable with the same name. 
    [NCF-324](https://bugtracking.unidata.ucar.edu/browse/NCF-324)
  * Enabled previously-disabled shell-script-based tests for Visual
    Studio when `bash` is detected.
- Update netcdf-no_date_time.patch

-------------------------------------------------------------------
Tue Sep  2 12:31:13 UTC 2014 - coolo@suse.com

- fix license for spdx 1.2

-------------------------------------------------------------------
Thu May  1 21:17:08 UTC 2014 - ocefpaf@gmail.com

- update to 4.3.2
  *  Improved type handling with respect to fill-values.
  *  Enabled netCDF-4 bit-for-bit reproducibility for nccopy and other
     applications (thanks to Rimvydas Jasinskas and Quincey Koziol).
  *  Improved cmake build process.
  *  As part of an ongoing project, the Doxygen-generated netCDF documentation
     has been reorganized. The goal is to make the documentation easier to
     parse, and to eliminate redundant material.

-------------------------------------------------------------------
Mon Feb 10 16:31:45 UTC 2014 - opensuse@dstoecker.de

- update to 4.3.1.1
  * Corrected a DAP issue reported by Jeff Whitaker related to
    non-conforming servers.
  * Corrected an issue with DAP tests failing in a 64-bit Cygwin
    environment. NCF-286
  * Add an extended format inquiry method to the netcdf API:
    nc_inq_format_extended. NC_HAVE_INQ_FORMAT_EXTENDED is defined
    in netcdf.h NCF-273
  * Fixed fill value handling for string types in nc4_get_vara().
  * Corrected behavior of nc_inq_unlimdim and nv_inq_unlimdims to
    report dimids in same order as nc_inq_dimids.
  * A number of previously-disabled unit tests were reviewed and
    made active.
  * When opening a netCDF-4 file, streamline the iteration over
    objects in the underlying HDF5 file.
  * Fixed netCDF-4 failure when renaming a dimension and renaming
    a variable using that dimension, in either order. NCF-177
  * When compiling with hdf4 support, both autotools and cmake-based
    builds now properly look for the libjpeg dependency and will link
    against it when found (or complain if it's not). Also added
    ENABLE_HDF4_FILE_TESTS option to CMake-based builds.
  * Fixed bug in ncgen; it was not properly filling empty string
    constants ("") to be the proper length. NCF-279
  * Fixed bug in ncgen where it was interpreting int64 constants as
    uint64 constants. NCF-278
  * Fixed bug in handling Http Basic Authorization. The code was
    actually there but was not being executed. NCF-277
  * Added hack to the DAP code to address a problem with the
    Columbia.edu server. That server does not serve up proper DAP2 DDS
    replies. The Dataset {...} name changes depending on if the request
    has certain kinds of constraints. NCF-276
  * Fixed bugs with ncdump annotation of values, using -b or -f
    options. NCF-275
  * Added better documentation about accessing ESG datasets. See
    http://www.unidata.ucar.edu/software/netcdf/docs/esg.html.
  * Corrected an issue with CMake-based builds enabling HDF4 support
    where the HDF4 libraries were in a non-standard location.
  * Fix bug introduced by NCF-267 where octal constants above '\177'
    were not recognized as proper octal constants. NCF-271
  * Fixed an issue where the netcdf.3 man page was not being installed
    by CMake-based builds. Github
  * Modify ncgen to support NUL characters in character array
    constants. NCF-267
  * Modify ncgen to support disambiguating references to an enum
    constant in a data list. NCF-265
  * Corrected bug in netCDF-4 dimension ID ordering assumptions,
    resulting in access that works locally but fails through DAP
    server. NCF-166
  * Ensure netCDF-4 compiles with OpenMPI as an alternative to
    MPICH2. NCF-160
  * Addressed issue with hanging Parallel netCDF-4 using HDF5 1.8.10.
    NCF-240
  * Removed deprecated directories:
        librpc/
        udunits/
        libcf/
        libcdmr/
  * Added configure and accompanying configuration files/templates to
    release repository. These will only be added to tagged releases
    on GitHub.
  * Integrated a fix by Quincey Koziol which addressed a variation of
    NCF-250, Fix issue of netCDF-4 parallel independent access with
    unlimited dimension hanging.
  * Integrated change contributed by Orion Poplawski which integrated
    GNUInstallDirs into the netCDF-C CMake system; this will permit
    systems that install into lib64 (such as Fedora) to make install
    without problem.
  * Corrected an error with the CMake config files that resulted in the
    netcdf.3 manpage not being built or installed.
  * Added nc_rename_grp to allow for group renaming in netCDF-4 files. NCF-204
  * Added a NC_HAVE_RENAME_GRP macro to netcdf.h, as per a request by
    Charlie Zender. This will allow software compiling against netcdf
    to easily query whether or not nc_rename_grp() is available.
  * Added Greg Sjaardema's contributed optimization for the nc4_find_dim_len
    function in libsrc4/nc4internal.c. The patch eliminates several
    malloc/free calls that exist in the original coding.
  * Added support for dynamic loading, to compliment the dynamic loading
    support introduced in hdf 1.8.11. Dynamic loading support depends on
    libdl, and is enabled as follows: NCF-258
        autotools-based builds: –enable-dynamic-loading
        cmake-based builds: -DENABLE_DYNAMIC_LOADING=ON
  * Fix issue of netCDF-4 parallel independent access with unlimited
    dimension hanging. Extending the size of an unlimited dimension in
    HDF5 must be a collective operation, so now an error is returned if
    trying to extend in independent access mode. NCF-250
  * Fixed bug with netCDF-4's inability to read HDF5 scalar numeric
    attributes. Also allow, in addition to zero length strings, a new
    NULL pointer as a string value. to improve interoperability with
    HDF5. This required a new CDL constant, 'NIL', that can be output
    from ncdump for such a string value in an HDF5 or netCDF-4 file.
    The ncgen utility was also modified to properly handle such NIL
    values for strings. NCF-56
  * Fix contributed by Nath Gopalaswamy to large file problem reading
    netCDF classic or 64-bit offset files that have a UINT32_MAX flag
    for large last record size of a variable that has values larger than
    1 byte. This problem had previously been fixed for writing such data,
    but was only tested with an ncbyte variable.
  * Fixed various minor documentation problems.

-------------------------------------------------------------------
Mon Oct 21 12:53:54 UTC 2013 - toddrme2178@gmail.com

- Update to 4.3.0
  * fsync: Changed default in autotools config file; fsync must
    now be explicitely enabled instead of explicitely disabled.
  * Fixed netCDF-4 bug where odometer code for libdap2 mishandled
    stride > 1. Bug reported by Ansley Manke.
  * Fixed netCDF-4 bug where netCDF would ignore the HDF5 reference
    type in the file, instead of rejecting the file as it should.
  * Fixed netCDF-4 bug with particular order of creation of
    dimensions, coordinate variables, and subgroups resulting in
    two dimensions with the same dimension ID.
  * Fixed netCDF-4 bug with a multidimensional coordinate variable
    in a subgroup getting the wrong dimension IDs for its
    dimensions.
  * Fixed bug with incorrect fixed-size variable offsets in header
    getting written when schema changed for files created by
    parallel-netcdf. Thanks to Wei-keng Liao for developing and
    contributing the fix.
  * Fixed bug in handling old servers that do not do proper
    Grid to Structure conversions.
  * Replaced the oc library with oc2.0
  * Fix bug with nc_get_var1_uint() not accepting unsigned ints
    larger than 2**31.
  * Fix to convert occurrences of '/' in DAP names to %2f.
  * Fix bug in netCDF-4 with scalar non-coordinate variables with
    same name as dimensions.
  * Fix bug in which calling netCDF-4 functions in which behavior
    that should not depend on order of calls sometimes produces
    the wrong results.
  * Merged in nccopy additions from Martin van Driel to support 
    -g and -v options for specifying which groups or variables are
    to be copied.
  * Merged in parallel-netcdf bugs fixes from Greg Sjaardema.
  * Modify ncgen so that if the incoming file has a special
    attribute, then it is used to establish the special property of
    the netcdf file, but the attribute is not included as a real
    attribute in the file..
  * Added library version info to the user-agent string so that the
    server logs will be more informative.
  * Added work around for bad servers that sometimes sends DAP
    dataset with duplicate field names.
  * Fixed bug with strided access for NC_STRING type.
  * Prevented adding an invalid _FillValue attribute to a variable
    (with nonmatching type or multiple values), to avoid later
    error when any record variable is extended.
  * Fix bug in which some uses of vlen within compounds causes HDF5
    errors.
  * Fixed ncdump bug in display of data values of variables that use 
    multiple unlimited dimensions.
  * Fix bug in which interspersing def_var calls with put_var calls
    can lead to corrupt metadata in a netCDF file with groups and
    inherited dimensions.
  * Building shared libraries works with DAP and netCDF4 
    functionality.
  * 32-and-64-bit builds are working under MinGW on Windows.
  * Config.h for Windows compiles are included in the build.
  * NetCDF-4 dependency on NC_MAX_DIMS has been removed.
  * 64-bit DLL's are produced on Windows.
  * DLL Packaging issues are resolved.
  * The CMake build system (with related ctest and cdash systems 
    for testing) has been integrated into netCDF-C. This allows for
    Visual Studio-based builds in addition to gcc-based builds.
    This requires at least CMake version 2.8.8. This 
    replaces/supplements the cross-compiled set of Visual-Studio
    compatible netCDF libraries introduced in netCDF 4.2.1-rc1.
- Updated buildrequires versions.

-------------------------------------------------------------------
Tue Oct 16 13:21:13 CEST 2012 - pth@suse.de

- Copy Changes from the release notes to here for the updates to 4.2.1
  and 4.2.1.1

-------------------------------------------------------------------
Sun Aug  5 13:09:20 UTC 2012 - ocefpaf@gmail.com

- Update to 4.2.1.1:
  * Fix DAP performance bug remotely accessing large files (> 2GiB).
  * Properly escape special characters in CDL output from ncdump for
    netCDF-4 string data.

-------------------------------------------------------------------
Wed Jul 25 21:37:48 UTC 2012 - ocefpaf@gmail.com

- Update to 4.2.1:
  * Add a specific NC_MMAP mode flag to modify behavior of NC_DISKLESS.
  * Changed the file protections for NC_DISKLESS created files to 0666.
  * Fixed ncdump to report error when an unsupported option is specified.
  * Fixed documentation of CDL char constants in Users Guide and ncgen
    man page.
  * Fixed memory leak detected by valgrind in one of the HDF5 tests.
  
  For further changes pleaase see the file RELEASE_NOTES in
  /usr/share/doc/packages/netcdf

-------------------------------------------------------------------
Thu Apr 26 20:22:19 UTC 2012 - behrisch@users.sourceforge.net

- upstream removed Texinfo documentation

-------------------------------------------------------------------
Mon Apr  9 22:20:02 UTC 2012 - ocefpaf@gmail.com

- Updated to 4.2
  * Fortran and C++ APIs are now in separate packages
- Removed netcdf-dependencies.patch

-------------------------------------------------------------------
Thu Apr  5 00:05:54 UTC 2012 - jengelh@medozas.de

- Do not require valgrind on arches where it is not available
  (e.g. sparc)

-------------------------------------------------------------------
Fri Mar 16 15:55:13 UTC 2012 - cfarrell@suse.com

- license update: SUSE-NetCDF
  Use SPDX- proprietary prefix until this license is accepted upstream by
  spdx.org

-------------------------------------------------------------------
Wed Nov 30 13:43:18 UTC 2011 - jengelh@medozas.de

- Remove redundant/unwanted tags/section (cf. specfile guidelines)
- Use %_smp_mflags for parallel building
- Appropriate rpmgroups for shlib packages

-------------------------------------------------------------------
Tue Nov 29 19:18:45 UTC 2011 - ocefpaf@gmail.com

- Added explicit hdf5 dependency.
- Rebuild with hdf5 1.8.8
- Some spec file clean-ups.

-------------------------------------------------------------------
Sun Jun 26 02:02:57 UTC 2011 - ocefpaf@yahoo.com.br

- Added pkgconfig and fflags patches
- Dropped libm patch fixed upstream
- Fixed summary, license info, description
- Created doc and static packages

-------------------------------------------------------------------
Sun Jun 26 01:31:36 UTC 2011 - ocefpaf@yahoo.com.br

- updated to 4.1.3

-------------------------------------------------------------------
Thu Jun  2 20:43:32 UTC 2011 - ocefpaf@yahoo.com.br

- rename libnetcdf-devel to netcdf-devel as recommended by pth

-------------------------------------------------------------------
Fri Apr 29 16:21:24 UTC 2011 - ocefpaf@yahoo.com.br

- updated to version 4.1.2
- added flag --enable-dap for OpenDap support
- updated the patches

-------------------------------------------------------------------
Tue Nov 30 19:59:19 CET 2010 - pth@suse.de

- Just fix the casting in px_get to avoid the type-punning warning.
- Add a man page for nc-config.
- Move nc-config and its man page to the devel package.
- Remove the dependency on netcdf from libnetcdf.
- BuildRequire pkgconfig for libnetcdf-devel.
- Declare strlcat if needed.
- Don't use __DATE__ and __TIME__ to reduce the need for recompiling.


-------------------------------------------------------------------
Tue May 19 17:15:44 CEST 2009 - prusnak@suse.cz

- updated to 4.0.1
  * Added optional arguments to F90 API to nf90_open/create,
    nf90_create_var, and nf90_inquire_variable so that all netCDF-4
    settings may be accomplished with optional arguments, instead
    of separate function calls.
  * Added control of HDF5 chunk cache to allow for user performance
    tuning.
  * Added parallel example program in F90.
  * Changed default chunking to better handle very large variables.
  * Made contiguous the default for fixed size data sets with no
    filters.
  * Fixed bug in nc_inq_ncid; now it returns NC_ENOGRP if the named
    group is not found.
  * Fixed man pages for C and F77 so that netCDF-4 builds will
    result in man pages that document new netCDF-4 functions.
  * Added OPeNDAP support based on a new C-only implementation.
    This is enabled using --enable-dap option and requires libcurl.
    The configure script will attempt to locate libcurl, but if it
    fails, then its location must be specified by the --with-curl
    option.
  * Changed chunksizes to size_t from int.
  * Fixed fill value problem from F77 API.
  * Fixed problems in netcdf-4 files with multi-dimensional
    coordinate variables.
  * Fixed ncgen to properly handle CDL input that uses Windows line
    endings ("\r\n"), instead of getting a syntax error.
  * Added "-s" option to ncdump to display performance
    characterisitics of netCDF-4 files as special virtual attributes,
    such as _Chunking, _DeflateLevel, _Format, and _Endianness.
  * Added "-t" option to ncdump to display times in human readable
    form as strings.  Added code to interpret "calendar" attribute
    according to CF conventions, if present, in displaying
    human-readable times.
  * Added experimental version of ncgen4 capable of generating
    netcdf-4 data files and C code for creating them. In addition,
    it supports the special attributes _Format, etc.
  * Fixed Fortran 90 int64 problems.
  * Rewrote HDF5 read/write code in accordance with performance advice
    from Kent.
  * Fixed memory leaks in gets/puts of HDF5 data.
  * Fixed some broken tests for parallel I/O (i.e. MPI) builds.
  * Fixed some cross-compile problems.
  * Rewrote code which placed bogus errors on the HDF5 error stack,
    trying to open non-existant attributes and variables. Now no HDF5
    errors are seen.
  * Removed man subdirectory. Now man4 subdirectory is used for all
    builds.
  * Changed build so that users with access to parallel make can
    use it.
  * Added experimental support for accessing data through OPeNDAP
    servers using the DAP protocol (use --enable-opendap to build it).
  * Fixed ncdump bugs with array field members of compound type
    variables.  Fixed ncdump bug of assuming default fill value
    for data of type unsigned byte.

-------------------------------------------------------------------
Fri Nov 14 16:30:21 CET 2008 - prusnak@suse.cz

- fix wrong delete usage (delete.patch)

-------------------------------------------------------------------
Mon Sep  8 15:18:49 CEST 2008 - prusnak@suse.cz

- move devel manpages and infopages to -devel subpackage

-------------------------------------------------------------------
Mon Sep  1 15:05:14 CEST 2008 - prusnak@suse.cz

- disable static libraries

-------------------------------------------------------------------
Fri Aug 22 15:18:12 CEST 2008 - schwab@suse.de

- Fix makefile dependencies.

-------------------------------------------------------------------
Wed Aug 13 16:53:01 CEST 2008 - prusnak@suse.cz

- updated to 4.0
  * Introduced the use of HDF5 as a storage layer, which allows use
    of groups, user-defined types, multiple unlimited dimensions,
    compression, data chunking, parallel I/O, and other features
  * In ncdump and ncgen, added CDL support for UTF-8 encoding
    of characters in names and for escaped special chars in names.
    Made sure UTF-8 names are normalized using NFC rules before
    storing or comparing
  * Handle IEEE NaNs and infinities in a platform-independent way
    in ncdump output
  * Added support for ARM representation of doubles
  * Fixed bug in C++ API creating 64-bit offset files
  * Fixed bug for variables larger than 4 GB
  * Changed the configure.ac to build either 3.6.x or 4.x build
    from the same configure.ac
  * Build now checks gfortran version and handles it cleanly,
    also Portland Group in Intel fortran, with various configurations
  * A Fortran netcdf.inc file is now created at build time, based
    on the setting of --disable-v2
  * Documentation has been fixed in several places
  * Upgraded to automake 1.10, autoconf 2.62, and libtool 2.2.2
  * Includes missing Windows Visual Studio build files
  * Fixed missing include of config.h in a C++ test program
  * Fixed maintainer-clean in man directory
  * Fixed --enable-c-only and make check
  * Fixed behavior when opening a zero-length file
  * Many portability enhancements to build cleanly
    on various platforms
  * Turned on some old test programs which were not being used
    in the build
- dropped obsoleted patches:
  * missing-includes.patch (included in update)

-------------------------------------------------------------------
Thu Jan 10 19:20:05 CET 2008 - lrupp@suse.de

- use more macros in specfile
- added netcdf-3.6.2-missing_includes.patch

-------------------------------------------------------------------
Mon Aug  6 08:46:52 CEST 2007 - zpetrova@suse.cz

- split to libnetcdf-4, libnetcdf-devel and netcdf package
  according to Shared library guidelines.

-------------------------------------------------------------------
Mon Jul 30 17:39:42 CEST 2007 - zpetrova@suse.cz

-update to version 3.6.2
  - Added support for shared libraries (with configure option --enable-shared).
  - Improved performance of byte-swapping loops on little-endian platforms. 
  - Added a "-k" option to ncdump and ncgen, for identifying or specifying the kind 
    of netCDF file if other than "classic".
  - Made long-threatened change of type of ncbyte in C++ interface from unsigned char 
    to signed char, for consistency with C interface.
  - Implemented the C++ API on the netCDF-3 C API instead of the older netCDF-2 API, 
    providing automatic numeric type conversion as in the netCDF-3 C interface.
  - Modified to build correctly for gfortran.
  - Added more tests!
  - Fixed minor bugs relating to creation of very small netCDF files.
  - Added support for additional configure options 
    (run configure --help for more information).

-------------------------------------------------------------------
Mon May 21 18:34:56 CEST 2007 - ro@suse.de

- removed cfortran.doc from tarball due to "non-commercial" status
- check in specfile to make sure the file does not reappear 

-------------------------------------------------------------------
Thu Oct 19 20:37:20 CEST 2006 - zpetrova@suse.cz

- update to version 3.6.1
  - updated installation manual
  - netcdf padded small files with zero to 4096 bytes, when they
    were opened and changed. Fixed.
  - small fixes in test suite (return values, names of output files).
  - Doubled arbitrary limits on number of dimensions, variables,
    attributes, and length of names.
  - added new functions, including doc and tests.
  - correctly configure for Intel ifort Fortran compiler on Linux.

-------------------------------------------------------------------
Wed Apr 19 10:09:01 CEST 2006 - dmueller@suse.de

- build PIC code 

-------------------------------------------------------------------
Mon Jan 30 17:35:08 CET 2006 - zpetrova@suse.cz

- fixed permissions of libraries, man pages and header files (#131552)

-------------------------------------------------------------------
Wed Jan 25 21:38:38 CET 2006 - mls@suse.de

- converted neededforbuild to BuildRequires

-------------------------------------------------------------------
Mon Jan 16 13:41:00 CET 2006 - zpetrova@suse.cz

- update to netcdf-3.6.0-p1

-------------------------------------------------------------------
Thu Sep 29 17:50:33 CEST 2005 - zpetrova@suse.cz

- add -fno-strict-aliasing

-------------------------------------------------------------------
Tue Jan 11 14:53:58 CET 2005 - didge@suse.de

- Updated to new version
- changed URL to the new one

-------------------------------------------------------------------
Thu Nov 11 12:54:19 CET 2004 - ro@suse.de

- fixed file list 

-------------------------------------------------------------------
Fri Apr 23 14:48:00 CEST 2004 - didge@suse.de

- Updated to new version 3.5.1 
- Fixed strict aliasing problem

-------------------------------------------------------------------
Sat Jan 10 20:56:57 CET 2004 - adrian@suse.de

- add %run_ldconfig

-------------------------------------------------------------------
Tue May 13 02:31:17 CEST 2003 - nashif@suse.de

- added defattr to file list

-------------------------------------------------------------------
Mon Mar 10 17:31:24 CET 2003 - nashif@suse.de

- fixed #24975: Build c++ library

-------------------------------------------------------------------
Tue Sep 17 17:34:28 CEST 2002 - ro@suse.de

- removed bogus self-provides 

-------------------------------------------------------------------
Tue May 21 12:29:47 CEST 2002 - ro@suse.de

- complete libdir usage 

-------------------------------------------------------------------
Fri Mar  1 07:08:27 CET 2002 - nashif@suse.de

- use macro _libdir, fix for s390x build

-------------------------------------------------------------------
Fri Apr 20 07:35:03 CEST 2001 - nashif@suse.de

- Update to version 3.5.0
- fixed %files

-------------------------------------------------------------------
Sat Mar 24 00:01:43 CET 2001 - nashif@suse.de

- Spec cleanups
- Removed autospec from neededforbuild

-------------------------------------------------------------------
Thu Oct 12 00:45:21 MEST 2000 - nashif@suse.de

- Use BuildRoot
- Change maintainership to nashif@suse.de

-------------------------------------------------------------------
Tue Jun  6 18:50:31 MEST 2000 - marquardt@suse.de

- added fortran interface

-------------------------------------------------------------------
Mon May  8 17:45:05 CEST 2000 - freitag@suse.de

- initial build of version 3.4 
