-------------------------------------------------------------------
Tue Mar 28 22:37:58 UTC 2023 - Neil Brown <nfbrown@suse.com>

- Add 0007-mount.nfs-always-include-mountpoint-or-spec-if-error.patch
  boo#1157881
- Add 0008-nfsd.man-fix-typo-in-section-on-scope.patch
  bsc#1209859
- Allow scope to be sed in sysconfig: NFSD_SCOPE

-------------------------------------------------------------------
Mon Mar 27 10:16:10 UTC 2023 - Dominique Leuenberger <dimstar@opensuse.org>

- Add explicit pkgconfig(libkeyutils) BuildRequires: nfs-utils
  requires this for nfsv4 and we should not rely on the devel
  package being brought in by other deps.

-------------------------------------------------------------------
Mon Feb  6 00:23:05 UTC 2023 - Neil Brown <nfbrown@suse.com>

- Rename all drop-in options.conf files as 10-options.conf
  This makes it easier for other packages to over-ride
  with a drop-in with a later sequence number.
  resource-agents does this.
  (bsc#1207843)

-------------------------------------------------------------------
Tue Nov 22 00:27:06 UTC 2022 - Neil Brown <nfbrown@suse.com>

- Add 0006-nfsd-allow-server-scope-to-be-set-with-config-or-com.patch
  Allow server scope to be set - removes the need to run nfsd
  inside a private UTS namespace for fail-over applications
  (bsc#1203746)

-------------------------------------------------------------------
Fri Aug 26 05:56:08 UTC 2022 - Neil Brown <nfbrown@suse.com>

- sysconfig.nfs, nfs.conf: allow NFSv4 grace time to be set
  via sysconfig.
  SLE12 allowed this, SLE15 lost the ability.  Add it back
  with the name NFSV4GRACETIME.  Also improve description
  for NFSV4LEASETIME.
  (bsc#1202592)

-------------------------------------------------------------------
Fri Aug 12 08:33:37 UTC 2022 - Petr Vorel <pvorel@suse.cz>

- Update to version 2.6.2
  - https://kernel.org/pub/linux/utils/nfs-utils/2.6.2/2.6.2-Changelog
- Remove patches from this release:
  - gcc12-fix.patch
  - 0001-systemd-Apply-all-sysctl-settings-when-NFS-related-m.patch
  - 0002-Update-autoconfig-files-to-work-with-v2.71.patch
  - 0003-autoconf-change-tirpc-to-check-for-a-file-not-for-an.patch
  - 0004-modprobe-protect-against-sysctl-errors.patch
- Refresh nfs-utils-1.0.7-bind-syntax.patch
- Added files:
  - /usr/lib/udev/rules.d/99-nfs.rules
  - /usr/libexec/nfsrahead
  - /usr/sbin/rpcctl
  - /usr/share/man/man5/nfsrahead.5.gz
  - /usr/share/man/man8/rpcctl.8.gz
- Sort man page entries in %files section

-------------------------------------------------------------------
Mon Jul 11 03:31:08 UTC 2022 - Neil Brown <nfbrown@suse.com>

- 0004-modprobe-protect-against-sysctl-errors.patch
  0005-modprobe-avoid-error-messages-if-sbin-sysctl-fail.patch
 Suppress any errors from /sbin/sysctl, if for example, it isn't
 installed
 (bsc#1200710)

-------------------------------------------------------------------
Thu Jun  9 06:49:11 UTC 2022 - Neil Brown <nfbrown@suse.com>

- 0001-systemd-Apply-all-sysctl-settings-when-NFS-related-m.patch
  Ensure sysctl setting work (bsc#1199856)
- 0002-Update-autoconfig-files-to-work-with-v2.71.patch
- 0003-autoconf-change-tirpc-to-check-for-a-file-not-for-an.patch
  Update for latest autoconf

-------------------------------------------------------------------
Sat May  7 12:17:24 UTC 2022 - Marcus Meissner <meissner@suse.com>

- switch to https urls

-------------------------------------------------------------------
Mon Mar 21 14:50:21 UTC 2022 - Dirk Müller <dmueller@suse.com>

- drop reenable-nfsv2.patch (poo#106679) 

-------------------------------------------------------------------
Tue Mar  8 20:58:54 UTC 2022 - Dirk Müller <dmueller@suse.com>

- add reenable-nfsv2.patch for reverting nfsv2 deprecation until
  test coverage is fixed  (poo#106679)

-------------------------------------------------------------------
Thu Mar  3 10:08:47 UTC 2022 - Martin Liška <mliska@suse.cz>

- Add gcc12-fix.patch upstream fix for GCC 12 compiler.

-------------------------------------------------------------------
Mon Jan 31 07:24:41 UTC 2022 - Petr Vorel <pvorel@suse.cz>

- Update to version 2.6.1
  - https://kernel.org/pub/linux/utils/nfs-utils/2.6.1/2.6.1-Changelog
- remove patches from this release:
  - 0001-gssd-fix-crash-in-debug-message.patch,
  - Add-disable-sbin-override-for-when-sbin-is-a-symlink.patch

-------------------------------------------------------------------
Thu Oct 28 12:51:31 UTC 2021 - Callum Farmer <gmbr3@opensuse.org>

- Add CONFIG parameter to %sysusers_generate_pre
- Remove unneeded group line (user implies group)
- Add Shell parameter to statd-user.conf

-------------------------------------------------------------------
Mon Oct 25 23:53:37 UTC 2021 - Neil Brown <nfbrown@suse.com>

- add Add-disable-sbin-override-for-when-sbin-is-a-symlink.patch
  and use it to move last few binaries from /sbin to /usr/sbin
  (bsc#1191082)
- Move nfsdclddb and nfsdclnts from nfs-client to
  nfs-kernel-server and fix their permissions.

-------------------------------------------------------------------
Thu Sep  9 23:35:04 UTC 2021 - Neil Brown <nfbrown@suse.com>

- Add 0001-gssd-fix-crash-in-debug-message.patch
  Fix crash when rpc-gssd run with -v. 
  (boo#1190144)

-------------------------------------------------------------------
Tue Aug 10 05:08:18 UTC 2021 - Neil Brown <nfbrown@suse.com>

- Remove dependency on fedfs-utils-devel.

  fedfs-utils was only ever a "technology preview" and is now
  considered "end of life".
  nfs-utils is not even built to use it as --enable-junction
  isn't being passed to confgure
  and fedfs-utils doesn't build wth glibc 2.34.
  So remove the unnecessary dependency on fedfs-utils.
  (bsc#1189085)

-------------------------------------------------------------------
Tue Jul 13 06:32:47 UTC 2021 - Petr Vorel <pvorel@suse.cz>

- Update to version 2.5.4
  https://mirrors.edge.kernel.org/pub/linux/utils/nfs-utils/2.5.4/2.5.4-Changelog
  Notable changes:
  * Handle failures in gssd better
  * handle 'sloppy' option to mount better
  * minor documentation improvements

- Drop 2.5.4-rc4 patches: nfs-utils-2-5-4-rc1.patch, nfs-utils-2-5-4-rc2.patch,
  nfs-utils-2-5-4-rc3.patch, nfs-utils-2-5-4-rc4.patch.

-------------------------------------------------------------------
Mon May 24 14:34:19 UTC 2021 - Petr Vorel <pvorel@suse.cz>

- Update to version 2.5.4-rc4 to get all recent fixes:
  - nfs-utils-2-5-4-rc4.patch
	e4ce810a Move declaration of etab and rmtab into libraries
	7a4e2d1d Remove 'force' arg from cache_flush()
	c5528f40 Fix NFSv4 export of tmpfs filesystems
	ed83085f gssd: use mutex to protect decrement of refcount
  - nfs-utils-2-5-4-rc3.patch
	972dba0f nfs-utils: Enable the retrieval of raw config settings without expansion
	964f4861 nfs-utils: Factor out common structure cleanup calls
	8219bdb0 Replace all /var/run with /run
	81727afe Fix `statx()` emulation breaking exports
	a41afe9e mountd/exports: Fix typo in the man page
  - nfs-utils-2-5-4-rc2.patch
	2f669b6f NFS server should enable RDMA by default
	d77ece22 mountd/exportd: only log confirmed clients, and poll for updates
	ac266e2e exportfs: fix unexporting of '/'
  - nfs-utils-2-5-4-rc1.patch
	7abd15e3 nfsdclnts: Ignore SIGPIPE signal
	edeb3815 mountd: add logging of NFSv4 clients attaching and detaching.
	f8e2c8d4 mountd: make default ttl settable by option
	cc150093 mountd: add --cache-use-ipaddr option to force use_ipaddr
	c7a954ae mountd: add logging for authentication results for accesses.
	1a8156f8 mountd/exports: update man page
	fec7347e mountd: Don't proactively add export info when fh info is requested.
	a72c151f mountd: reject unknown client IP when !use_ipaddr.
	05bacfed gssd: Add options to rpc.gssd to allow for the use of $HOME/.k5identity files
	7e559dbd exportd: server-side gid management

- 0001-Replace-all-var-run-with-run.patch is now part of nfs-utils-2-5-4-rc3.patch

-------------------------------------------------------------------
Tue May  4 01:09:57 UTC 2021 - Neil Brown <nfbrown@suse.com>

- Add 0001-Replace-all-var-run-with-run.patch
  Use /run instead of /var/run
  (bsc#1185170)

-------------------------------------------------------------------
Thu Mar 11 09:45:07 UTC 2021 - Guilherme Moro <gmoro@suse.com>

- Include nfsd kernel module Requires (bsc#1089118)

-------------------------------------------------------------------
Tue Mar  2 16:06:40 UTC 2021 - Petr Vorel <pvorel@suse.cz>

- Update to version 2.5.3
  https://mirrors.edge.kernel.org/pub/linux/utils/nfs-utils/2.5.3/2.5.3-Changelog

-------------------------------------------------------------------
Wed Nov 11 13:31:48 UTC 2020 - Jan Engelhardt <jengelh@inai.de>

- Add missing ldconfig calls for libnfsidmap1.
- Throw out some remaining old rpm constructs.

-------------------------------------------------------------------
Thu Oct 29 15:21:57 UTC 2020 - Petr Vorel <pvorel@suse.cz>

- Update to version 2.5.2
  - fixed a couple memory leaks and other bug fixes,
  - a lot of clean up
- Refresh nfs-utils-1.0.7-bind-syntax.patch
- Use %autosetup -p1

-------------------------------------------------------------------
Wed Sep 30 06:24:22 UTC 2020 - Neil Brown <nfbrown@suse.com>

- Remove nfs-doc package.  The documentation is 20 years old
  and barely relevant.
  (bsc#1171448)

-------------------------------------------------------------------
Tue Jul 14 16:05:08 UTC 2020 - Petr Vorel <pvorel@suse.cz>

- Update to version 2.5.1
  Dropped patch accepted upstream:
  0001-conffile-Don-t-give-warning-for-optional-config-file.patch

  - improvements for 64bit time
  - improvements for SASL referrals
  - Rename clddb-tool to nfsdclddb
  - New tools  nfsdclnts
  - Better python3 support
  - many bug-fixes

-------------------------------------------------------------------
Fri Jun  5 10:02:18 UTC 2020 - Thorsten Kukuk <kukuk@suse.com>

- Use group statd instead of nogroup, nogroup would invalidate
  the extra statd user.

-------------------------------------------------------------------
Tue May 26 04:43:19 UTC 2020 - Neil Brown <nfbrown@suse.com>

- Remove README.NFSv4.  It is out dated and not useful.  All
  the configation described is now done automatically.
  (bsc#1171448)

-------------------------------------------------------------------
Fri Apr  3 11:04:11 UTC 2020 - Thorsten Kukuk <kukuk@suse.com>

- Remove obsolete useradd call

-------------------------------------------------------------------
Fri Mar 27 05:29:36 UTC 2020 - Neil Brown <nfbrown@suse.com>

- Improve the hack to avoid python dependencies.
  A new python script had been added since that hack was written.
  (boo#1166067)

-------------------------------------------------------------------
Fri Mar 27 05:06:12 UTC 2020 - Neil Brown <nfbrown@suse.com>

- 0001-conffile-Don-t-give-warning-for-optional-config-file.patch
  Support optional include files correctly
  (boo#1164619)

-------------------------------------------------------------------
Tue Mar 24 10:13:53 UTC 2020 - Petr Vorel <pvorel@suse.cz>

- Update nfs.conf
  - change value: udp=n (disabled in 2.2.1.)
  - update name: manage-gids
  - new: verbosity=0, rpc-verbosity=0, use-gss-proxy=0, rdma-port=20049,
	no-notify=0, force=0, lift-grace=y

-------------------------------------------------------------------
Mon Mar  9 10:04:10 UTC 2020 - Thorsten Kukuk <kukuk@suse.com>

- statd-user.conf: create user via sysusers.d template
- Use ordering for systemd instead of hard requires

-------------------------------------------------------------------
Mon Feb 10 18:58:59 UTC 2020 - Petr Vorel <pvorel@suse.cz>

-  Update to version 2.4.3
   Dropped patches (accepted upstream):
   - 0001-nfs.conf-allow-empty-assignments.patch
   - 0002-Let-systemd-know-when-rpc.statd-is-needed.patch
   - 0003-systemd-run-statd-notify-even-when-nfs-client-isn-t-.patch
   - 0004-nfsidmap-honour-with-pluginpath-for-instalation.patch
   - 0005-nfs.conf-fail-to-disable-major-NFS-version-4-using-v.patch
   - 0006-conffile-allow-optional-include-files.patch
   - 0007-statd-user-from-sm
   - 0008-mountd-Initialize-logging-early.patch

   Dropped patches (upstream used different solution):
   - 0009-Allow-compilation-to-succeed-with-fno-common.patch (btw this used
	 Patch0: instead of Patch10:) (boo#1160405)
   
   Add nfsdcld - NFSv4 Client Tracking Daemon, add nfsdcld.service and enable it
   for nfs-kernel-server, add man page
   Add clddb-tool - tool for downgrading the nfsdcld sqlite database schema,
   add man page
   Removed osd_login (dropped in upstream in 2.3.4 rc1)

-------------------------------------------------------------------
Wed Feb  5 22:13:28 UTC 2020 - Neil Brown <nfbrown@suse.com>

- 0009-Allow-compilation-to-succeed-with-fno-common.patch
  Allow compilation to success with -fno-common
  (boo#1160405)

-------------------------------------------------------------------
Wed Nov 20 23:55:31 UTC 2019 - Neil Brown <nfbrown@suse.com>

- nfs-utils.spec - don't chown when not needed.
  Only chown directories in /var/lib/nfs to statd
  if they are currently owned by root.
  The chown is needed for some upgrades, but if the
  dirs are already owned by statd, an vulnerability in
  statd could be escalated to root.
  (bsc#1157321)

-------------------------------------------------------------------
Mon Sep 23 01:52:29 UTC 2019 - Neil Brown <nfbrown@suse.com>

- Delete  0006-nfs.conf-silence-include-error.patch
  replaced with better version
- 0006-conffile-allow-optional-include-files.patch
   Avoid error if /etc/nfs.conf.local doesn't exist
  (bsc#1151044 bsc#1150807)
- 0008-mountd-Initialize-logging-early.patch
 Don't close the loging socket - it causes problems.
  (bsc#1151044 bsc#1150807)

-------------------------------------------------------------------
Mon Sep 16 23:43:37 UTC 2019 - Neil Brown <nfbrown@suse.com>

- Don't make /var/lib/nfs owned by statd.
  Only sm and sm.bak need to be accessible by
  statd or sm-notify after they drop privs.
  Providing they get created, the parent
  directory can be root-owned.
- 0007-statd-user-from-sm
  Change rpc.statd and sm-notify to take uid from the sm
  directory.
  (bsc#1150733 CVE-2019-3689)

-------------------------------------------------------------------
Mon Sep 16 05:56:12 UTC 2019 - Neil Brown <nfbrown@suse.com>

- 0006-nfs.conf-silence-include-error.patch
 Avoid an unhelpful warning (bsc#1150807)

-------------------------------------------------------------------
Mon Sep  2 05:25:07 UTC 2019 - Neil Brown <nfbrown@suse.com>

- 0005-nfs.conf-fail-to-disable-major-NFS-version-4-using-v.patch
  Fix a bug that cause NFSv4 service to always be enabled, if
  the server was enabled at all.

-------------------------------------------------------------------
Wed Jul 24 13:07:41 UTC 2019 - matthias.gerstner@suse.com

- removal of SuSEfirewall2 service, since SuSEfirewall2 has been replaced by
  firewalld, see [1].

  [1]: https://lists.opensuse.org/opensuse-factory/2019-01/msg00490.html

-------------------------------------------------------------------
Wed Jan 30 00:10:03 UTC 2019 - Neil Brown <nfbrown@suse.com>

- remove libnfsidmap1 dependency for nfs-client.
  It isn't needed.

-------------------------------------------------------------------
Tue Jan 29 22:50:04 UTC 2019 - Neil Brown <nfbrown@suse.com>

- Remove service aliases - these files are deleted.
   nfs.service
   nfsserver.service
   nfs-server.nfsserver.conf
   nfs-client.nfs.conf

  Now the upstream standard service names "nfs-client" and "nfs-server"
  must be used.

-------------------------------------------------------------------
Tue Dec  4 00:03:00 UTC 2018 - Neil Brown <nfbrown@suse.com>

- 0004-nfsidmap-honour-with-pluginpath-for-instalation.patch
  Allow plugins to be installed properly
- nfs-utils.spec
  Package shared library correctly

-------------------------------------------------------------------
Mon Dec  3 02:49:13 UTC 2018 - Neil Brown <nfbrown@suse.com>

- 0001-nfs.conf-allow-empty-assignments.patch
  Fix regression due to unnecessary "error" messages from nfs.conf

- 0002-Let-systemd-know-when-rpc.statd-is-needed.patch
  0003-systemd-run-statd-notify-even-when-nfs-client-isn-t-.patch
  Fixes for systemd integration
  (bsc#1116221)

-------------------------------------------------------------------
Thu Oct 25 05:32:30 UTC 2018 - Neil Brown <nfbrown@suse.com>

- New version: nfs-utils-2.3.3
  The nfsidmap library source has been merged into
  nfs-utils, so this source package now makes
  nfsidmap and nfsidmap-devel packages.
  New program "nfsconf" improves access to nfs config files.
  Delete patches that have been included upstream:
    0001-conffile-ignore-empty-environment-variables.patch
    0002-mount-call-setgroups-before-setuid.patch
    0003-nfs-server-generator-handle-noauto-mounts-correctly.patch
    nsm-headers.patch
    sysmacros.patch

-------------------------------------------------------------------
Mon Aug  6 07:29:37 UTC 2018 - schwab@suse.de

- sysmacros.patch: include <sys/sysmacros.h> for major

-------------------------------------------------------------------
Thu Aug  2 01:31:30 UTC 2018 - sflees@suse.de

- use packageand for nfs documentation rather then always
  installing nfs-doc as part of the documentation pattern.

-------------------------------------------------------------------
Thu Jul 26 23:05:27 UTC 2018 - nfbrown@suse.com

- nfs.conf: spell NFSV4LEASETIME correctly.
  (bsc#1098532)

-------------------------------------------------------------------
Fri Jul  6 15:02:49 CEST 2018 - kukuk@suse.de

- Create files in /var/lib/nfs via tmpfiles.d [bsc#1100404],
  [FATE#325524]

-------------------------------------------------------------------
Thu Nov 23 13:40:51 UTC 2017 - rbrown@suse.com

- Replace references to /var/adm/fillup-templates with new 
  %_fillupdir macro (boo#1069468)

-------------------------------------------------------------------
Fri Oct  6 04:23:19 UTC 2017 - nfbrown@suse.com

- fix incorrect dependency in
  /usr/lib/systemd/system/nfs-client.target.d/nfs.conf
  When yast restarts "nfs" it should propagate to nfs-client,
  but doesn't.
  (boo#1053691)

-------------------------------------------------------------------
Wed Jul  5 11:02:51 UTC 2017 - schwab@suse.de

- nsm-headers.patch: add missing <stdint.h>

-------------------------------------------------------------------
Tue May  2 13:51:27 CEST 2017 - kukuk@suse.de

- Prerequire needed group "nogroup"

-------------------------------------------------------------------
Wed Feb  8 02:32:37 UTC 2017 - nfbrown@suse.com

- update upstream version from 1.3.4 to 2.1.1
  The significant update is that configuration can
  now be read from a central /etc/nfs.conf file, and
  it can include other files such as /etc/sysconfig/nfs
  This means that the old nfs-config.service systemd
  unit is no longer needed.
- /etc/nfs.conf file created to import all sysconfig
  settings except *_OPTIONS directly into running code.
- dropins created to pass *_OPTIONS sysconfig setting to
  the various daemons.
- various specfile improvements, such as using "-D" in
  "install" commands, and adding "verify_permissions".
- "xtab" has not been needed for years and has now been remove.
- sysconfig.nfs updated, particular the ServiceRestart
  declarations have been tuned for systemd units.
- 0003-nfs-server-generator-handle-noauto-mounts-correctly.patch
  Fix the nfs-server-generator so that mounts marked "noauto"
  are not automatically mounted when NFS exported.
  (bsc#1019211)
- 0001-conffile-ignore-empty-environment-variables.patch
  0002-mount-call-setgroups-before-setuid.patch
  Other minor fixes found during testing.
- REMOVED 0001-Make-location-of-nfs-utils_env.sh-configurable.patch
  now included upstream

-------------------------------------------------------------------
Thu Jan 19 10:17:03 UTC 2017 - jengelh@inai.de

- Check for existence of "statd" user before creating it,
  and do not suppress errors about it.
- Ensure units passed to %service_* are full filenames.
- Pass all units (non-templated) to %service_*.

-------------------------------------------------------------------
Mon Nov 14 14:51:30 UTC 2016 - dimstar@opensuse.org

- Also ignore errors on the first chown call: this can happen
  especially in the build system when shadow is not present and
  the user has not been generated in the %pre phase.

-------------------------------------------------------------------
Fri Oct 21 00:09:04 UTC 2016 - nfbrown@suse.com

- move rpc.svcgssd and corresponding man page from
  nfs-client package to nfs-kernel-server.
  For NFSv4.0 this is needed on client as well as
  the server to support the back-channel.
  (bsc#1005609)

-------------------------------------------------------------------
Sun Aug 21 06:16:27 UTC 2016 - nfbrown@suse.com

- 0001-Make-location-of-nfs-utils_env.sh-configurable.patch
  1.3.4 moved the config script location to somewhere
  that doesn't exist on openSUSE.  Move it somewhere
  better and install it there.
  (bsc#990356)

-------------------------------------------------------------------
Wed Aug 10 02:57:57 UTC 2016 - nfbrown@suse.com

- nfs-utils-1.3.4.tar.xz
  New upstream release.  Lots of bugfixes, no significant
  functionality changes

- delete 0001-Fix-protocol-minor-version-fall-back.patch
  delete 0001-close-the-syslog-fd-in-daemon_init.patch
  delete 0001-mount-run-START_STATD-fully-as-root.patch
  delete 0001-mount.nfs-hide-EBUSY-errors.patch
  delete 0001-mount.nfs-trust-the-exit-status-of-start_statd.patch
  delete 0001-systemd-Decouple-the-starting-and-stopping-of-rpcbin.patch
  delete 0002-systemd-unit-files-fix-up-dependencies-on-rpcbind.patch
  delete nfs-utils-no-svcgss.service
  delete nfs-utils-uninit-mem.patch
  All patches are included in 1.3.4


-------------------------------------------------------------------
Tue Aug  9 23:32:10 UTC 2016 - nfbrown@suse.com

- nfs-utils_env.sh
  Fix some problems with version_params.
  Various misspellings and remove the possiblity
  that V4 is both disabled and enabled.
  (bsc#990356)

-------------------------------------------------------------------
Mon Aug  8 08:39:54 UTC 2016 - tchvatal@suse.com

- Drop OMC svcinfo file, nowdays useless

-------------------------------------------------------------------
Mon Aug  8 08:38:16 UTC 2016 - tchvatal@suse.com

- Sort a bit with spec-cleaner to get uptodate spec
- Convert deps from regular devels to pkgconfig style

-------------------------------------------------------------------
Tue May 24 22:27:14 UTC 2016 - nfbrown@suse.com

- 0001-systemd-Decouple-the-starting-and-stopping-of-rpcbin.patch
  0002-systemd-unit-files-fix-up-dependencies-on-rpcbind.patch
 Fix systemd dependencies to ensure rpcbind is started when needed.
 (bsc#975265)

-------------------------------------------------------------------
Thu Apr 21 23:40:59 UTC 2016 - neilb@suse.com

- 0001-close-the-syslog-fd-in-daemon_init.patch
  Without this, tracing doesn't work
- 0001-mount.nfs-trust-the-exit-status-of-start_statd.patch
  (bsc#945937)
- 0001-mount-run-START_STATD-fully-as-root.patch
  (bsc#969152)

-------------------------------------------------------------------
Mon Apr  4 13:56:38 CEST 2016 - kukuk@suse.de

- Drop unused BuildRequires for libgssglue, not used with tirpc

-------------------------------------------------------------------
Mon Apr  4 10:16:32 CEST 2016 - kukuk@suse.de

- Drop unused BuildRequires for librpcsecgss, tirpc version is used

-------------------------------------------------------------------
Wed Mar  2 03:53:26 UTC 2016 - neilb@suse.com

- 0001-mount.nfs-hide-EBUSY-errors.patch
  Stop "mount -a -t nfs" from complaining if filesystem
  already mounted (bsc#950340)

-------------------------------------------------------------------
Thu Feb 18 06:04:05 UTC 2016 - neilb@suse.com

- 0001-Fix-protocol-minor-version-fall-back.patch
  (bnc#959211)

-------------------------------------------------------------------
Wed Feb 17 03:20:55 UTC 2016 - neilb@suse.com

- nfs.service: don't mount/unmount nfs filesystems.
  systemd does this automatically.  Trying to do it here too
  causes timing races (boo#963616)

-------------------------------------------------------------------
Thu Nov 26 16:17:42 UTC 2015 - schwab@suse.de

- nfs-utils-uninit-mem.patch: fix use of uninitialized memory (bsc#956743)

-------------------------------------------------------------------
Mon Nov  9 23:53:43 UTC 2015 - p.drouand@gmail.com

- Remove sysvinit related macros; the package doesn't contain any
  sysvinit script
- Replace systemd with systemd-rpm-macros; increase dependencies
  weight
- Use %configure macro
- Remove depreciated %clean section

-------------------------------------------------------------------
Tue Oct 27 13:24:31 UTC 2015 - jeffm@suse.com

- Use proper annotations for service restart (bsc#952055).

-------------------------------------------------------------------
Thu Oct 22 06:35:02 UTC 2015 - nfbrown@suse.com

- update upstream version from 1.3.1 to 1.3.3.
  This contains lots of bugfixes but not significant new features.
- delete 0001-nfs-client.target-Removed-a-ordering-cycle-with-nfs-.patch
  delete 0002-Centralize-dependencies-on-the-auth-unit.patch
   both included upstream
- nfs-utils-no-svcgss.service
  fix minor make-install issue (has since been accepted upstream)
- use "make install" to install systemd files instead of hand-code.
- retain rpc-svcgssd for now until gss-proxy is packaged.

-------------------------------------------------------------------
Thu Oct 15 03:32:53 UTC 2015 - nfbrown@suse.com

- nfs-utils_env.sh: honour RPC_PIPEFS_DIR setting.
  It is currently ignored due to a logic error.
  (bsc#947852)

-------------------------------------------------------------------
Thu Sep 24 02:29:36 UTC 2015 - nfbrown@suse.com

- nfsserver.service.  Provide ExecReload directive.
  This allows "systemctl reload nfsserver" to work.
  PropagatesReloadTo but itself is not enough if this
  unit doesn't have it's own Reload handler.
  (bsc#97296)

-------------------------------------------------------------------
Thu Aug 13 02:36:16 UTC 2015 - nfbrown@suse.com

- sysconfig.nfs: add STATD_PORT, STATD_HOSTNAME,
  LOCKD_TCPPORT, LOCKD_UDPPORT
- nfs-utils-env.sh: handle STATD_PORT, STATD_HOSTNAME,
  LOCKD_TCPPORT, LOCKD_UDPPORT
  Also handle NFSV4LEASETIME, which was missing.

  (bsc#941645)

-------------------------------------------------------------------
Mon Aug 10 04:28:42 UTC 2015 - nfbrown@suse.com

- nfs.service: improve back-compatibility with /etc/init.d/nfs
 + mount and unmount nfs filesystems on start/stop.
 + keep status as "good" when everything is running.
 (bnc#911986)

-------------------------------------------------------------------
Sun Nov 09 19:34:00 UTC 2014 - Led <ledest@gmail.com>

- fix bashisms in pre/post scripts

-------------------------------------------------------------------
Wed Nov  5 00:48:09 UTC 2014 - nfbrown@suse.com

- new upstream nfs-utils-1.3.1
  This brings numerous fixes, particularly to gssd and
  nfsdcltrack.  It incorporates all the upstreamable
  patches we had:
- Delete  nfsdcltrack.sbin.patch
- Delete  start-statd.patch
- 0001-nfs-client.target-Removed-a-ordering-cycle-with-nfs-.patch
  0002-Centralize-dependencies-on-the-auth-unit.patch
  Patches from 1.3.2-rc, which look useful

- Convert from /etc/init.d startup scripts to full
  systemd integration.
  The upstream standard names are "nfs-client" and "nfs-server"
  rather than "nfs" and "nfsserver", so local "nfs" "nfsserver"
  aliases are created and "rcXXX" links are provided for all 4.

-------------------------------------------------------------------
Thu Sep  4 02:55:22 UTC 2014 - nfbrown@suse.com

- nfsserver.init: allow $NFSD_V4_GRACE to set the lease
  time if NFSV4LEASETIME is not set, as some documentation
  suggests this.
  Also set NFSv4 and NLM grace time to make the NFSv4 lease time
  as having them different at boot time doesn't make sense.
  (bnc#892809)

-------------------------------------------------------------------
Mon Jul  7 01:57:26 UTC 2014 - nfbrown@suse.com

- Remove mkintird scripts again.  "libguestfs" now includes
  them so nfs-utils doesn't need to.
  (bnc#883876)

-------------------------------------------------------------------
Thu Jun 26 02:35:31 UTC 2014 - nfbrown@suse.com

- add mkinitrd scripts back in.  They are needed by
  "guestfs"  See bnc#883873
  (bnc#883876)

-------------------------------------------------------------------
Tue Jun 10 07:19:06 UTC 2014 - nfbrown@suse.com

- Use start-statd and rpc-statd.service from upstream for running statd.
  Our start-statd doesn't work in a systemd environment (bnc#852984)
- start-statd.patch - needed to make upstream start-statd work properly.
- use .xz from upstream, that is what kernel.org prefers and it is smaller

-------------------------------------------------------------------
Wed Jun  4 01:59:27 UTC 2014 - nfbrown@suse.com

- Remove 0001-nfsidmap-Keys-need-to-be-invalidated-instead-of-revo.patch
  Now that keyutils has been updated in Factory, this patch
  is no longer needed.

-------------------------------------------------------------------
Tue Jun  3 12:55:16 UTC 2014 - werner@suse.de

- Check if systemd is listen on local socket 111 to trigger the
  start of the rpcbind.service on demand (bnc#860246)
- There exists only nfs-utils-1.3.0.tar.gz at
  http://kernel.org/pub/linux/utils/nfs-utils/1.3.0/

-------------------------------------------------------------------
Wed May 14 02:40:01 UTC 2014 - nfbrown@suse.com

- New upstream version 1.3.0.
  Includes all our bugfix patches except 1.
  Adds assorted other bugfixes and improvements including
  initial support for NFSv4.2
  Prepares the way for better systemd integration.
  Discards useless programs gss_clnt_send_err and gss_destroy_creds

- Removes: 0001-mountd-Fix-is_subdirectory-again.patch
- Removes: 0002-gssd-Fix-recent-fix-to-Avoid-DNS-reverse-resolution-.patch
- Removes: 0003-Fix-handling-of-preferred-realm-command-line-option.patch
- Removes: 0004-nfsiostat-restore-output-format.patch
- Removes: 0005-gssd-don-t-give-up-on-machine-credential-if-hostname.patch
- Removes: 0006-gssd-fixed-typo-in-machine-cred-name.patch
- Removes: skip-on-ENOENT.patch
- Removes: mountd-fix-bug-affecting-exports-of-dirs-with-64bit-.patch
- Removes: exportfs-exit-with-error-code-if-there-was-any-error.patch
- Removes: exportfs-report-failure-if-asked-to-unexport-somethi.patch
- Removes: gssd-mount-hang-fix.patch
- Removes: udp-fallback-fix.patch
- Removes: fedfs-lib-name.patch

- 0001-nfsidmap-Keys-need-to-be-invalidated-instead-of-revo.patch
 This upstream patch is currently reverted until we get a newer version
 of keyutils.

-------------------------------------------------------------------
Tue May  6 00:51:39 UTC 2014 - nfbrown@suse.com

- nfsdcltrack_sbin.patch
  The kernel expects nfsdcltrack to be in /sbin,
  so we must put it there.

-------------------------------------------------------------------
Wed Apr 16 15:24:27 UTC 2014 - trenn@suse.de

- Remove mkinitrd bits -> we use dracut now which already has
  nfs stuff provided in its package in:
  /usr/lib/dracut/modules.d/95nfs/
  Remove sources:
    - mkinitrd-boot.sh
    - mkinitrd-setup.sh

-------------------------------------------------------------------
Tue Mar 11 00:11:18 UTC 2014 - sleep_walker@suse.cz

- properly rename patches:
  udp-fallback.fix -> udp-fallback-fix.patch
  fedfs-lib-name -> fedfs-lib-name.patch
  gssd-mount-hang-fix -> gssd-mount-hang-fix.patch

-------------------------------------------------------------------
Sun Mar  9 23:00:19 UTC 2014 - nfbrown@suse.com

- Remove "Start-Before: autofs" from nfs.init.  This turns
  out not to be needed, and is out of place.  If anything,
  autofs should declare a dependency on nfs. (bnc#861489)
- fedfs-lib-name, nfs-utils.spec
  Build with fedfs support so that if fedfs-utils is also
  installed, federated-filesystems can be exported.
  (FATE#313522)

-------------------------------------------------------------------
Mon Feb 17 04:40:41 UTC 2014 - nfbrown@suse.com

- udp-fallback.fix: Fix fallback from tcp to udp
  (bnc#863749)

-------------------------------------------------------------------
Tue Feb  4 05:18:48 UTC 2014 - nfbrown@suse.com

- nfs-utils.spec: Require keyutils for proper
  idmap lookup.
- nfs.init, nfsserver.init: mkdir /run/nfs before
  trying to create a file in there (bnc#859221)
- nfs.init, nfsserver.init: add
    X-Systemd-RemainAfterExit: true
  to ensure services aren't shutdown if sm-notify
  reports an error
  (bnc#849387)

-------------------------------------------------------------------
Wed Nov 27 09:00:36 UTC 2013 - nfbrown@suse.com

- nfsserver.init: fix that typo properly.
  Somehow I only fixed part of the problem
  (bnc#849476)

-------------------------------------------------------------------
Tue Nov 26 13:05:11 UTC 2013 - werner@suse.de

- If nfs-utils and autofs are both installed make sure that the nfs
  client boot service will be started before autofs as otherwise
  systemd dependency chain is waiting on nfs client services at
  shutdown if nfs client is enabled.

-------------------------------------------------------------------
Mon Nov 18 03:35:45 UTC 2013 - nfbrown@suse.com

- nfsserver.init: fix typo in "--nfs-version 4".
  (bnc#849476)

-------------------------------------------------------------------
Sun Nov 17 23:06:16 UTC 2013 - nfbrown@suse.com

- gssd-mount-hang-fix: An nfs mount will hang
  indefinitely if mounted by IP address and there
  is no reverse mapping available.  This is
  caused by a bug in gssd.
  (bnc#833543)

-------------------------------------------------------------------
Wed Nov  6 02:06:45 UTC 2013 - nfbrown@suse.com

- nfs-utils.spec: add various systemd macros to make
  sure init scripts are registered properly
  bnc#845475
- nfs.int, nfsserver.init: run gssd on server as well
  as on client.  This is needed for NFSv4.0 callbacks.
  bnc#845269
- exportfs-exit-with-error-code-if-there-was-any-error.patch
- exportfs-report-failure-if-asked-to-unexport-somethi.patch
  Return good error code from exportfs.
  bnc#846064

-------------------------------------------------------------------
Tue Oct 22 04:45:13 UTC 2013 - nfbrown@suse.com

- mountd-fix-bug-affecting-exports-of-dirs-with-64bit-.patch
  allow NFS export to work for XFS filesystems with INODE64
  (bnc#841971)

-------------------------------------------------------------------
Tue Oct 15 01:13:01 UTC 2013 - nfbrown@suse.com

- nfs.init: run ldconfig directly rather than calling
  boot.ldconfig.
  boot.ldconfig had some "optimisations" which are
  unimportant and inconvenient for NFS, and doesn't
  exist any more anyway.
  (bnc#834164).

-------------------------------------------------------------------
Thu Sep  5 05:05:13 UTC 2013 - nfbrown@suse.com

- nfs.init: always start gssd.
  Recent kernel change means that if gssd isn't running
  and NFSv4 mount will wait 15 seconds before timing out
  even if gss security wasn't requested.
  So just start gssd alway - there is no significant cost
  in this.
  (bnc#837262)

-------------------------------------------------------------------
Mon Sep  2 05:13:25 UTC 2013 - nfbrown@suse.com

- skip-on-ENOENT.patch - suppress error message
  that isn't really an error (bnc#800414)

-------------------------------------------------------------------
Mon Aug  5 15:41:31 CEST 2013 - ohering@suse.de

- Include also nfsv2,nfsv3,nfsv4.ko in initrd (bnc#815738)
- Remove usage of absolute paths in mkinitrd script
- Include also mount.nfs4

-------------------------------------------------------------------
Mon Jul 22 06:47:57 UTC 2013 - nfbrown@suse.com

- New sysconfig variables
   NFS4_SERVER_MINOR_VERSION, GSSD_OPTIONS,
   NFS_GSSD_AVOID_DNS
  to enable various configurations.
- bug fixes to init scripts to avoid unmounting everything(!)
  and to avoid corrupting /run/nfs/bind.mounts

-------------------------------------------------------------------
Mon Jul 22 06:12:53 UTC 2013 - nfbrown@suse.com

- New upstream release 1.2.8 - mostly bugfixes, many to gssd.
  No important new functionality
- Changes to ./configure command to remove warnings
- 8 more patches from upstream 'git' to fix non-trivial bugs
  including on CVE.

-------------------------------------------------------------------
Mon May 13 15:32:55 UTC 2013 - coolo@suse.com

- remove sysvinit requires - they are rather harmful these days

-------------------------------------------------------------------
Wed Mar  6 20:04:55 UTC 2013 - darin@darins.net

- nfsserver.init,sysconfig.nfs - Add support for setting rpc.mountd
  options. 

-------------------------------------------------------------------
Wed Nov 28 00:08:55 UTC 2012 - nfbrown@suse.com

- New upstream release 1.2.7.  Adds FedFD support
  to mounted and replaces nfsdcld with
  nfsdcltrack.  This is used to manage client state
  on NFSv4 servers.
  Incorporates more local patches.

- Replace "/var/run" with "/run" in various scripts.

- nfsserver.init: Generate message that "bind=" is deprecated
  if it is used.

-------------------------------------------------------------------
Wed Oct 17 23:55:27 UTC 2012 - nfbrown@suse.com

- Add dependency on "netcfg" to ensure /etc/services
  is present (bnc#779851)

-------------------------------------------------------------------
Thu Sep 27 02:10:53 UTC 2012 - nfbrown@suse.com

- nfs4-no-umount: does send MOUNT_UMNT rpcs
  when unmounting an 'nfs4' filesystem.  They
  are only required for nfs2,3. (bnc#772534)

-------------------------------------------------------------------
Thu Jul 19 06:26:10 UTC 2012 - nfbrown@suse.com

- mount-exit-code.fix:  Correct exit code from
  unmount when fs is busy - allows autofs to work
  correctly. (bnc#770962)

-------------------------------------------------------------------
Thu May 17 07:04:58 UTC 2012 - nfbrown@suse.com

- nfs upstream version 1.2.5.  Lots of bug fixes
  and improved support for pNFS.
  Adds nfsdcld daemon on osd_login script.
  Removed some very out-of-date documentation.

-------------------------------------------------------------------
Wed May  2 01:42:23 UTC 2012 - nfbrown@suse.com

- nfsserver.init: remove VERSION_LIST. This is
  unnecessary duplication of VERSION_PARAMS

-------------------------------------------------------------------
Wed May  2 01:34:51 UTC 2012 - nfbrown@suse.com

- nfsserver.init: Don't depend on "mount" preserving
  unknown options - it doesn't any more.  This can
  confuse nfsd_unbind_mounts (bnc#754805)

-------------------------------------------------------------------
Sun Nov 20 06:47:14 UTC 2011 - coolo@suse.com

- add libtool as buildrequire to avoid implicit dependency

-------------------------------------------------------------------
Sun Nov  6 11:43:39 UTC 2011 - puzel@suse.com

- do not strip the binaries 

-------------------------------------------------------------------
Wed Oct 12 05:18:17 UTC 2011 - nfbrown@suse.com

- nfs.init: handle case where kernel adds trailing
  slash to name in /proc/mounts.
  (bnc#722431 bnc#720376)

-------------------------------------------------------------------
Sat Oct  1 15:24:33 UTC 2011 - crrodriguez@opensuse.org

- Fix build in arm, portability bug, applications MUST
  use sysconf(_SC_PAGESIZE) instead of constant PAGE_SIZE

-------------------------------------------------------------------
Sun Sep 25 08:28:53 UTC 2011 - nfbrown@suse.com

- New upstream version 1.2.5 - This adds a new binary
  blkmapd with man page,  This is part of PNFS support.

-------------------------------------------------------------------
Thu Aug 18 07:48:27 UTC 2011 - nfbrown@novell.com

- New upstream version 1.2.4 - plus a few important
  patches from git.  This adds a new binary nfsidmap,
  with man page. Also: build with libmount enabled
  to correctly handle /etc/mtab being linked to
  /proc/self/mounts. (bnc#681106)

-------------------------------------------------------------------
Thu Jun 23 05:41:25 UTC 2011 - nfbrown@novell.com

- nfs.init,nfsserver.init,sysconfig.nfs - Add support
  for configuring NFS for a fail-over configuration
  with shared state. (bnc#689622)
- rpc.mountd-segfault-fix; fix possible segfault caused
  by "showmount -e" usage. (bnc#693189)
- do-not-error-when-address-family-not-supported -
  suppress socket error when IPv6 is not loaded
  (bnc#670449)
- addmntent.fix - error check writes to /etc/mtab and
  cope accordingly. (bnc#689799)
- mount-catch-signals - don't abort on SIGXSFZ or other
  signals while mtab is locked (bnc#689799)
- mountd-auth-fix - fix bug that could give away incorrect
  access to NFS exported filesystems. (bnc#701702)

-------------------------------------------------------------------
Fri Jun 17 14:12:19 UTC 2011 - aj@suse.de

- Fix URLs.

-------------------------------------------------------------------
Thu Jun  2 06:48:03 UTC 2011 - nfbrown@novell.com

- nfsserver.init, sysconfig.nfs: add NFSV4LEASETIME
  parameter to allow lease time to be set.
  bnc#681510

-------------------------------------------------------------------
Tue May 31 11:43:41 UTC 2011 - lnussel@suse.de

- use /var/run/nfs instead of /var/lock/subsys

-------------------------------------------------------------------
Tue May 31 01:41:58 UTC 2011 - nfbrown@novell.com

- sysconfig.nfs: now that 'nfs' is not enabled
  by default, set NFS_START_SERVICES=yes by default
  and document that 'chkconfig nfs on' is needed.

-------------------------------------------------------------------
Wed Apr 27 00:41:10 UTC 2011 - nfbrown@novell.com

- Make /var/lib/nfs world executable.
  Otherwise 'df' complains about /var/lib/nfs/rpc_pipefs
  bnc#675385

-------------------------------------------------------------------
Sat Mar 19 14:10:18 UTC 2011 - jengelh@medozas.de

- Must up the loopback device, otherwise trying to contact the
  portmapper (even if it does not actually run) will hang forever-
  the TCP RST is crucial for mount.nfs

-------------------------------------------------------------------
Wed Feb 16 23:55:22 UTC 2011 - nfbrown@novell.com

- nfs.init: improve handling of paths with spaces.
  If a path name has a space, it will appear as \040
  in fstab and in /proc/mounts.  Using 'grep -E' to search
  for this is problematic as it will interpret the
  '\'.  So use 'grep -F' instead - we know there is
  only a single space in /proc/mounts.  Also use
  "read -r" so 'read' doesn't interpret the '/'.
  (bnc#666128)

-------------------------------------------------------------------
Wed Feb 16 23:49:40 UTC 2011 - nfbrown@novell.com

- nfsserver.init: make sure sm-notify runs on restart.
  If we stop nfsd, that might also stop lockd which would
  drop locks.  So make sure lockd really does drop lock
  for consistency, and ensure that sm-notify is run when
  nfsserver is restarted. (bnc#668280)

-------------------------------------------------------------------
Mon Jan 31 07:49:03 UTC 2011 - lnussel@suse.de

- don't run SuSEfirewall2 from start-statd script. If SuSEfirewall2
  is installed and enabled it will be called at the end of the boot
  process anyways (bnc#668181).

-------------------------------------------------------------------
Fri Jan 28 14:03:14 UTC 2011 - lnussel@suse.de

- avoid python depdency to avoid bloating the minimal installation
- use %set_permissions instead of %run_permissions

-------------------------------------------------------------------
Tue Jan 25 09:01:37 UTC 2011 - lnussel@suse.de

- give user a hint if portmap isn't running as statd can't be started in that
  case.

-------------------------------------------------------------------
Wed Jan 12 12:15:31 UTC 2011 - lnussel@suse.de

- don't enable nfs init script by default. The yast nfs module
  makes sure the script gets enabled when adding mounts
- print a message to tell when file systems are mounted as that
  could take a while

-------------------------------------------------------------------
Tue Dec  7 11:18:24 UTC 2010 - coolo@novell.com

- add sysvinit prereqs to make sure the scripts are there before
  installation (also for building)

-------------------------------------------------------------------
Mon Oct 11 06:17:55 UTC 2010 - nfbrown@novell.com

- new upstream version 1.2.3, plus some upstream fix-up patches.
- new user 'statd' owns /var/lib/nfs so rpc.statd runs as non-root.
- New commands 'mountstats' and 'nfsiostat'
- ipv6 support enabled as it is believed to be complete.

-------------------------------------------------------------------
Wed Aug 11 04:35:05 UTC 2010 - nfbrown@novell.com

- Change "Requires: portmap" to "Requires: rpcbind".
  Current nfs-utils does not work properly with portmap
  due to IPv6 being enabled, so we really need rpcbind.
  So be explcit about that, else upgrading an old
  installation will leave portmap in place which
  won't work.
  bnc#620346

-------------------------------------------------------------------
Sun Jul 25 07:01:59 UTC 2010 - aj@suse.de

- Add rpmlintrc since /var/lib/nfs/sm.bak is valid.

-------------------------------------------------------------------
Sun May  9 23:07:24 UTC 2010 - nfbrown@novell.com

- nfsserver.init / sysconfig.nfs: allow NFSv3 service
  to be disabled so only NFSv4 can be used. bnc#598671
- nfs-v2-disable.patch: mountd support for above
- nfs.init: unmount bind mounts with '-l' to ensure they
     really unmount. bnc#598681

-------------------------------------------------------------------
Mon Apr 19 23:43:45 UTC 2010 - nfbrown@novell.com

- mkinitrd-boot.sh: allow other mkinitrd-setup 
  scripts to request the inclusion of nfs support
  by setting need_nfs to 1.  (bnc#572207)

-------------------------------------------------------------------
Mon Apr 19 04:54:50 UTC 2010 - nfbrown@novell.com

- sysconfig.nfs, nfsserver.init, start-start: handle
  STATD_OPTIONS so that sysadmin can easily set options
  like port number. (bnc#595379)

-------------------------------------------------------------------
Fri Mar 26 15:39:05 CET 2010 - mmarek@suse.cz

- mkinitrd-boot.sh: Do not do anything over if iscsi should be used
  (bnc#590135).

-------------------------------------------------------------------
Tue Mar  9 21:18:22 UTC 2010 - nfbrown@novell.com

- init.nfs: also call 'udevadm settle' when mounting things
  other than /usr and /opt. bnc#571540

-------------------------------------------------------------------
Tue Feb 23 22:15:18 UTC 2010 - nfbrown@novell.com

- init.nfs: if mounting /usr fails, call "udevadm settle"
  and try again incase network interfaces are still
  appearing.  bnc#571540

-------------------------------------------------------------------
Sun Nov 29 22:03:26 UTC 2009 - nfbrown@novell.com

- nfs-utils-eperm-fallback.patch:  mount.nfs 
  tries a v3 mount after a v4 mount fails with ENOENT.
  Older linux nfsd servers return EPERM, so fall
  back in that case too.  bnc#557138

-------------------------------------------------------------------
Thu Nov  5 03:16:22 UTC 2009 - nfbrown@novell.com

- New upsteam release - 1.2.1
  Includes new config file: /etc/nfsmount.conf and 
  man page.
- nfs.init
  * implement try-restart in a more gentle fashion
  so that active mounts are not lost.  Also allow
  for the fact that binary has changed when finding
  and killing running daemons. (bnc#543911)
- start-statd
  * try-restart the firewall after starting statd
  as the firewall might need to update to reflect
  a new port number.
- Start nfs services if any nfs related sysctl
  is set in /etc/sysctl.conf

-------------------------------------------------------------------
Fri Oct 30 05:43:32 CET 2009 - nfbrown@suse.de

- Kill processes on NFS mounts when unmounting 
  for shutdown.  This allows any 'sync' to happen
  before we turn off the network.
  (bnc#503640)

-------------------------------------------------------------------
Tue Oct  6 14:14:24 CEST 2009 - werner@suse.de

- Work around broken sysconfig file (bnc#529961)

-------------------------------------------------------------------
Fri Mar 20 04:51:23 CET 2009 - nfbrown@suse.de

- sysconfig.nfs
  * add 'NFS_START_SERVICE' option for people who
  need gssd or idmapd but mount using automount, not
  fstab. bnc#472438

-------------------------------------------------------------------
Thu Dec 18 00:35:09 CET 2008 - nfbrown@suse.de

- nfs.init
  * 'stop' should stop servies based on what is
  running, not what is configured to be run.
  bnc#459021
  * force-start added to start NFS services even
  if nothing is in /etc/fstab.

-------------------------------------------------------------------
Mon Dec 08 15:37:13 CET 2008 - bwalle@suse.de

- initrd: Giving the DHCP provided root path a higher priority
  compared to the fallback from fstab. Command line can still
  overwrite the DHCP provided root path. (bnc #440192).

-------------------------------------------------------------------
Sun Dec  7 22:20:05 CET 2008 - nfbrown@suse.de

- gssd-mem-leak
  * set better expiry date for cached auth info
  so kernel does not run out of memory
  bnc#442490  

-------------------------------------------------------------------
Fri Dec  5 02:43:20 CET 2008 - nfbrown@suse.de

- nfs.init
  * Don't signal an error if asked to stop 'nfs'
  when there is nothing to stop.  Signalling an
  error here causes "rpm -e nfs-client" to fail.
  (bnc#450940)

-------------------------------------------------------------------
Tue Dec  2 03:15:50 CET 2008 - nfbrown@suse.de

- warn-nfs-udp.patch
  * Add warnings to nfs.man about usage of UDP
  and print message pointing to this warning
  when udp is used.
  This comes from util-linux-warn-nfsudp.diff in
  previous releases.

- nfs.init
  * load nfs modules then apply any sysctl setting
    before mounting any filesystems
    (bnc#431306, bnc#443118)
- nfsserver.init
  * set lockd sysctls before starting lockd.
    (bnc#443118)
 

-------------------------------------------------------------------
Tue Nov 25 06:10:31 CET 2008 - nfbrown@suse.de

- nfs.init
  * Don't 'stop' if root is on NFS.
  If we stop NFS if root is on NFS, then
  reboot will hang - bnc#439974

-------------------------------------------------------------------
Mon Nov 24 00:01:51 CET 2008 - nfbrown@suse.de

- nfs.init
  * Don't try to kill processes with fuser.
  it hangs when netowrk is down, and isn't
  needed as we use lazy unmount
  bnc#445908
  * Don't kill statd if nfsd is still running.
- fork-start-statd.patch
  * Don't use 'system' to run start-statd
  as this looses our setuid bit.
  bnc#447812
 
-------------------------------------------------------------------
Fri Nov 21 11:45:58 CET 2008 - hare@suse.de

- export ROOTFS_FSCK=0 to skip fsck for root on NFS (bnc#441234)

-------------------------------------------------------------------
Thu Nov 20 03:10:20 CET 2008 - nfbrown@suse.de

- rpc.gssd-catch-signal.patch
  * new patch (not yet upstream) to make sure
    rpc.gssd gets signals from dnotify.
    bnc#406832

-------------------------------------------------------------------
Wed Nov 19 23:42:23 CET 2008 - nfbrown@suse.de

- sm-notify-no-sync.patch
  * new upstream patch to avoid sync() in common
    case of no peers to notify.
    Important for speeding boot of SLED

-------------------------------------------------------------------
Tue Nov 18 21:43:59 CET 2008 - nfbrown@suse.de

- nfs-utils.spec: typo in command to install
   modprobe.d/nfs-utils

-------------------------------------------------------------------
Fri Nov 14 03:19:34 CET 2008 - nfbrown@suse.de

- nfsserver.init
  * don't set version if nfsd already running.
    doing that causes unhelpful error when trying
    to start nfsserver when it is already running.
    (bnc#427330)
- modprobe.nfs-utils
  * arrange that when various nfs modules are loaded
    the relevant values from /etc/sysctl.conf are set
    (bnc#431306, bnc#443118)

-------------------------------------------------------------------
Fri Nov  7 04:32:51 CET 2008 - nfbrown@suse.de

- nfs.init
  * fix typo in handling of "init.d/nfs status"  
      $status should have been $state

-------------------------------------------------------------------
Mon Oct 13 17:58:34 CEST 2008 - mkoenig@suse.de

- nfs.init: 
  * ensure all daemons get killed on stop (including rpc.statd)
  * unmount rpc_pipefs 
  * let close_usr do the work before the NFS filesystems get unmounted

-------------------------------------------------------------------
Mon Oct 13 10:35:13 CEST 2008 - ro@suse.de

- fix sysconfig filename for changed fillup call 

-------------------------------------------------------------------
Mon Oct  6 14:37:33 CEST 2008 - kukuk@suse.de

- Disable IPv6, completly broken [bnc#431542]

-------------------------------------------------------------------
Mon Sep 29 15:42:26 CEST 2008 - kukuk@suse.de

- Enable IPv6 [bnc#429853]

-------------------------------------------------------------------
Fri Sep 26 04:01:46 CEST 2008 - nfbrown@suse.de

- Fix nfs.init to check for portmap or rpcbind properly.
  Either or both can be installed, but as long as one is
  running, neither 'start' or 'status' will complain.
  bnc#428436

-------------------------------------------------------------------
Mon Sep 22 04:20:30 CEST 2008 - nfbrown@suse.de

- Change nfs.init to do nothing if NFS is not mentioend in /etc/fstab,
  and sure it is always enabled.  bnc#331667

-------------------------------------------------------------------
Mon Sep 22 02:50:41 CEST 2008 - nfbrown@suse.de

- Improve Description fields in fw-server and fs-client.
  bnc#424432 bnc#424433

-------------------------------------------------------------------
Tue Sep 16 18:24:18 CEST 2008 - mrueckert@suse.de

- require libevent-devel on 11.1 or newer

-------------------------------------------------------------------
Wed Sep  3 11:09:34 CEST 2008 - hare@suse.de

- Call mkinitrd_setup during %post and %postun (bnc#413709)

-------------------------------------------------------------------
Mon Aug 18 18:09:11 CEST 2008 - mrueckert@suse.de

- remove outdated options in the fillup_and_insserv call

-------------------------------------------------------------------
Fri Aug 15 03:11:30 CEST 2008 - nfbrown@suse.de

- upgrade to nfs-utils-1.1.3
  - assorted bugfixes including some that we have fixed in our 1.1.2
    release
  - some work towards client-side IPv6 support
- Remove included patches.
- Add patches that are still not upstream
  They relate to mounting from server which does not listen
   to UDP for portmap

-------------------------------------------------------------------
Wed Aug 13 13:19:33 CEST 2008 - werner@suse.de

- Fix boot script and use correct Stop tags
- The nfs boot script uses lazy umount and terminates process
  on shutdown in case of causing busy mounts
- The nfs boot script may parse /etc/fstab only once

-------------------------------------------------------------------
Wed Jul 23 16:42:58 CEST 2008 - hare@suse.de

- Include mkinitrd scriptlets.
- Do not install Makefiles for nfs-doc.

-------------------------------------------------------------------
Tue Jul 15 08:33:13 CEST 2008 - nfbrown@suse.de

- nfs.init - parse /etc/fstab correctly.  The first two fields
   are "what where", not "where what" (bnc#364513)

-------------------------------------------------------------------
Fri Jun 27 17:48:35 CEST 2008 - schwab@suse.de

- Use autoreconf.

-------------------------------------------------------------------
Fri Jun  6 08:00:21 CEST 2008 - nfbrown@suse.de

- nfs-utils-1.1.2-start-statd.patch - fix so that statd isn't
  required with "-o remount" (that causes a problem with
  nfs-root (bnc#397417)) and isn't required for nfsv4.

-------------------------------------------------------------------
Mon Jun  2 13:20:17 CEST 2008 - lnussel@suse.de

- fix permissions handling of mount.nfs (bnc#304318)
- fix prereqs

-------------------------------------------------------------------
Wed May 14 23:22:32 CEST 2008 - schwab@suse.de

- Fix some lost exit status in init scripts.

-------------------------------------------------------------------
Tue May  6 08:00:18 CEST 2008 - nfbrown@suse.de

- nfs-utils-1.1.2-start-statd.patch - statd needs to be started
  when using 'string' options to kernel was well as when using
  binary options.

-------------------------------------------------------------------
Fri May  2 05:22:19 CEST 2008 - nfbrown@suse.de

- Added SM_NOTIFY_OPTIONS sysconfig - (bnc #379806)
- Removed needless rc_status/rc_exit games in nfsserver.init (bnc #380156)
- Fixed some sysconfig entries that asked to restart non-existent
   services (gssd and idmpad have been rolled in to nfs/nfsserver). 

-------------------------------------------------------------------
Fri Apr 11 12:08:38 CEST 2008 - jsrain@suse.cz

- fixed more bugs in port information for SuSEfirewall2 (bnc #373969)

-------------------------------------------------------------------
Wed Apr  9 12:06:23 CEST 2008 - jsrain@suse.cz

- fixed typo in port information for SuSEfirewall2 (bnc #373969)

-------------------------------------------------------------------
Tue Apr  1 16:12:22 CEST 2008 - mkoenig@suse.de

- fix path srvinfo.d -> svcinfo.d
- remove svcinfo.d dir as it is provided now by filesystem  

-------------------------------------------------------------------
Thu Mar 27 13:53:20 CET 2008 - mkoenig@suse.de

- update to version 1.1.2 
- uses libgssglue instead of libgssapi 
- remove patch
  nfs-utils-o_create-mode

-------------------------------------------------------------------
Wed Mar 26 17:11:33 CET 2008 - mkoenig@suse.de

- add rpcbind support [fate#300607] 

-------------------------------------------------------------------
Thu Feb 28 18:42:52 CET 2008 - ro@suse.de

- added gssapi to buildrequires 

-------------------------------------------------------------------
Wed Feb 13 21:04:46 CET 2008 - jeffm@suse.com

- Cleaned up open(O_CREAT) without file permissions.

-------------------------------------------------------------------
Mon Dec 17 23:19:36 CET 2007 - nfbrown@suse.de

- Fix sed script used to create bind mounts for NFSv4 export
  (#279665)
- Fail nfs.init if portmap is not running.  Normally it will be,
  but if it isn't nfs can fail strangely. (#325763)

-------------------------------------------------------------------
Mon Dec 17 02:29:08 CET 2007 - nfbrown@suse.de

- Add SuSEfirewall2 config files for nfs-client and nfs-kernel-server
  (#247354)

-------------------------------------------------------------------
Mon Nov 12 12:58:01 CET 2007 - ro@suse.de

- use navigation icons from latex2html in nfs-utils-doc package
  (#116355) 

-------------------------------------------------------------------
Fri Sep 14 12:22:08 CEST 2007 - ro@suse.de

- use "--no-nfs-version 4" for nfsd and mountd if
  NFS4_SUPPORT is set to "no" (#308661)

-------------------------------------------------------------------
Wed Sep 12 15:36:34 CEST 2007 - ro@suse.de

- drop conflicts with nfs-server (userspace) in nfs-client package
  showmount has been removed there (#309782) 

-------------------------------------------------------------------
Thu Jul 19 16:40:38 CEST 2007 - ro@suse.de

- added README.NFSv4 (#182775) 

-------------------------------------------------------------------
Tue Jul 17 13:32:25 CEST 2007 - meissner@suse.de

- buildrequire nfsidmap-devel

-------------------------------------------------------------------
Fri Jun 22 15:58:17 CEST 2007 - ro@suse.de

- added split-provides for nfs-client to get nfs-client installed
  on update from older versions where this was in aaa_base (#286743)

-------------------------------------------------------------------
Mon Jun 11 11:41:39 CEST 2007 - mkoenig@suse.de

- add Obsoletes

-------------------------------------------------------------------
Tue Jun  5 16:15:58 CEST 2007 - mkoenig@suse.de

- update to version 1.1.0:
- package mount.nfs, umount.nfs to replace dropped nfs code
  from util-linux mount.
- removed patches:
  nfs-utils-noroot.patch
  nfs-utils-gssd-select-ccache.patch
  nfs-utils-krb5.patch
- Package split: nfs-common, nfs-server and nfs-doc
- adjust init scripts
- remove old Obsoletes/Provides:
  nfsutils (last used 2001)
  knfsd (last used 2000)
  linuxnfs (last used 1999)

-------------------------------------------------------------------
Tue Feb 27 08:52:29 CET 2007 - ro@suse.de

- update to 1.0.12
  - Fix -n option to mountd
  - Document sensitive gids
- upstreamed patches deleted:
  nfs-utils-anon-uid32.patch 
- added e2fsprogs-devel (for libblkid)
- nhfsXXX binaries and manpages have been removed upstream

-------------------------------------------------------------------
Thu Jan 11 12:25:25 CET 2007 - ro@suse.de

- moved omc xml file to /usr/share/omc and removed config tag

-------------------------------------------------------------------
Mon Jan  8 18:23:44 CET 2007 - ro@suse.de

- move srvinfo.d to svcinfo.d (typo in fate entry)
- Added handling for NFSv4 bind mounts in init script (#229583)

-------------------------------------------------------------------
Mon Dec 18 18:40:03 CET 2006 - ro@suse.de

- added nfsserver.xml to /etc/omc/srvinfo.d (fate#301835) 

-------------------------------------------------------------------
Tue Aug  8 17:49:47 CEST 2006 - ro@suse.de

- update to 1.0.10
  remove upstreamed patches:
  - nfs-utils-1.0.6-anon-exports.patch
  - export-acl.diff
  - nfs-utils-1.0.6-dep.patch
  - nfs-utils-1.0.6-doc.patch
  - nfs-utils-1.0.7-CITI_NFS4_ALL-2.dif
  - nfs-utils-1.0.7-destdir.patch
  - nfs-utils-1.0.7-gssapi.patch
  - nfs-utils-1.0.7-headtail.patch
  - nfs-utils-1.0.7-mount_type3.patch
  - nfs-utils-1.0.7-no_sync_warn_ro.patch
  - nfs-utils-1.0.7-rpcgen.patch
  - nfs-utils-1.0.7-strip.patch
  - nfs-utils-64bigendian.patch
  - nfs-utils-1.0.6-quota.patch (upstream different)
  
  partly upstreamed patches:
  - nfs-utils-1.0.6-anon-uid32.patch
  - nfs-utils-1.0.7-gssd-select-ccache.patch

  redone patches:
  - nfs-utils-noroot.patch (was: norootforbuild.diff)
  - pass -fPIE to configure instead of patch

-------------------------------------------------------------------
Thu Jul 13 14:33:24 CEST 2006 - aj@suse.de

- Fix off-by-one error in rpcgen.

-------------------------------------------------------------------
Fri Jun 23 15:20:54 CEST 2006 - ro@suse.de

- find kerberos ticket files even if /tmp on reiser (#187775) 

-------------------------------------------------------------------
Wed Jun 21 12:13:00 CEST 2006 - ro@suse.de

- fix /etc/gssapi_mech.conf for lib64 platforms (#186954) 

-------------------------------------------------------------------
Mon Jun 12 15:26:54 CEST 2006 - ro@suse.de

- added support for type 3 filehandles to mountd (#182552) 

-------------------------------------------------------------------
Fri Jun  2 12:39:10 CEST 2006 - ro@suse.de

- disable v4 support in rcnfsserver if NFS4_SUPPORT is
  not set to "yes" (#178633)

-------------------------------------------------------------------
Fri Jun  2 12:17:25 CEST 2006 - ro@suse.de

- added fix for 64bit bigendian platforms in gssd (#172605) 

-------------------------------------------------------------------
Tue May  2 09:39:42 CEST 2006 - okir@suse.de

- gracefully handle repeated "rcidmapd stop" calls (#169087)

-------------------------------------------------------------------
Mon Apr 24 14:05:16 CEST 2006 - ro@suse.de

- nfs-server rc-script: make force-reload do as reload does
  (#167152) 
- nfs-server rc-script: reload idmapd if NFSV4 is on (#167016)

-------------------------------------------------------------------
Thu Mar 23 12:10:20 CET 2006 - okir@suse.de

- Make gssd and svcgssd scripts mount rpc_pipefs if not there
  (#158000) and added "Should-start: krb5kdc" to make sure
  the KDC is started first if running on the same server (#159980)

-------------------------------------------------------------------
Tue Jan 31 11:25:35 CET 2006 - okir@suse.de

- Load RPCSEC_GSS kernel modules in rcgssd/rcsvcgssd init
  scripts (#142352)
- Enable NFSv4 by default

-------------------------------------------------------------------
Fri Jan 27 02:14:16 CET 2006 - mls@suse.de

- converted neededforbuild to BuildRequires

-------------------------------------------------------------------
Wed Jan 25 16:20:23 CET 2006 - ro@suse.de

- nfsserver rcscript: only mount nfsdfs if not mounted already 

-------------------------------------------------------------------
Tue Jan 17 00:32:02 CET 2006 - schwab@suse.de

- Don't strip binaries.

-------------------------------------------------------------------
Mon Dec 19 14:56:53 CET 2005 - mmj@suse.de

- fix filelist

-------------------------------------------------------------------
Mon Nov 28 16:29:12 CET 2005 - ro@suse.de

- fix init scripts: in the stop case, a not running service
  is not an error (#134904) 

-------------------------------------------------------------------
Mon Nov 14 13:11:15 CET 2005 - ro@suse.de

- packaging /var/lib/nfs/v4recovery directory (#133502) 

-------------------------------------------------------------------
Thu Sep  1 11:09:56 CEST 2005 - okir@suse.de

- packaging /var/lib/nfs/rpc_pipefs directory (#114103)

-------------------------------------------------------------------
Thu Aug 25 15:11:35 CEST 2005 - ro@suse.de

- modify nfs-server script to support uml case (#86624)

-------------------------------------------------------------------
Fri Aug 19 14:23:23 CEST 2005 - okir@suse.de

- added NFS4_SUPPORT and NFS_SECURITY_GSS to sysconfig.nfs
- updated the idmapd script so it honors NFS4_SUPPORT
- updated gssd script so it honors NFS_SECURITY_GSS
- added svcgssd script

-------------------------------------------------------------------
Mon Jun 20 15:48:17 CEST 2005 - ro@suse.de

- fix in init-script (do not try unmount if not mounted) (#91460) 

-------------------------------------------------------------------
Mon Jun  6 17:28:03 CEST 2005 - schwab@suse.de

- Install correct init script.

-------------------------------------------------------------------
Fri Jun  3 10:30:01 CEST 2005 - kukuk@suse.de

- Compile with -fpie/-pie

-------------------------------------------------------------------
Tue May 31 13:16:12 CEST 2005 - okir@suse.de

- Enabled NFSv4 and RPCSEC_GSS support

-------------------------------------------------------------------
Tue Apr 19 14:25:48 CEST 2005 - ro@suse.de

- do not warn about sync/async for readonly exports (#78369) 

-------------------------------------------------------------------
Mon Apr  4 01:57:06 CEST 2005 - ro@suse.de

- make it build with gcc4 

-------------------------------------------------------------------
Sat Feb  5 12:54:14 CET 2005 - schwab@suse.de

- Update to nfs-utils 1.0.7.
- Make non-anonymous exports work again.
- Use BuildRoot.

-------------------------------------------------------------------
Mon Dec 13 14:00:35 CET 2004 - ro@suse.de

- update to 1.0.7-pre2 (use 1.0.6.2 as package version) 
- disable gss and nfsv4 for now

-------------------------------------------------------------------
Thu Dec  9 13:10:20 CET 2004 - okir@suse.de

- make anonymous exports work again (#46918)

-------------------------------------------------------------------
Mon Aug 30 12:39:23 CEST 2004 - ro@suse.de

- added sysconfig variable to allow running mountd on a
  defined port

-------------------------------------------------------------------
Mon Aug 30 10:30:06 CEST 2004 - okir@suse.de

- Fix to prevent mountd from crashing on kernel upcalls

-------------------------------------------------------------------
Fri Aug 27 09:48:10 CEST 2004 - okir@suse.de

- Fix a permission problem after using exportfs -u

-------------------------------------------------------------------
Tue Aug 24 16:03:14 CEST 2004 - ro@suse.de

- remove "exportfs -au" from rcnfsserver stop
  (kernel zaps table on last server exit anyway) (#44049)

-------------------------------------------------------------------
Thu Jun 24 12:58:14 CEST 2004 - ro@suse.de

- added patch from okir to use nobody:nogroup again by default
  for anonymous (#42288)

-------------------------------------------------------------------
Tue Jun 22 14:23:11 CEST 2004 - ro@suse.de

- remove nfslock start script
- remove nfslock dependency 

-------------------------------------------------------------------
Thu Jun 17 23:11:31 CEST 2004 - ro@suse.de

- mount nfsd filesystem if possible (#41955)

-------------------------------------------------------------------
Wed Mar 31 16:49:06 CEST 2004 - mmj@suse.de

- Remove unpackaged files

-------------------------------------------------------------------
Wed Mar 31 12:00:01 CEST 2004 - mmj@suse.de

- Move sm-notify to util-linux [#36737]

-------------------------------------------------------------------
Fri Mar 26 02:07:21 CET 2004 - ro@suse.de

- remove rpc.statd completely
- add sm-notify and call it first in nfslock script (#36737)

-------------------------------------------------------------------
Tue Feb  3 12:53:25 CET 2004 - ro@suse.de

- disable rquotad already in configure
  (no need to compile it, if we only remove it later)

-------------------------------------------------------------------
Tue Jan 20 11:59:52 CET 2004 - okir@suse.de

- Include patch that allows Sun boxes to mount large files

-------------------------------------------------------------------
Mon Sep 15 09:12:00 CEST 2003 - ro@suse.de

- update to version 1.0.6 to fix a possible segfault in statd
- support for 2.6 kernels

-------------------------------------------------------------------
Fri Aug 29 18:47:29 CEST 2003 - ro@suse.de

- fix hed/tail calling syntax (#29644) 

-------------------------------------------------------------------
Mon Aug 25 11:41:31 CEST 2003 - ro@suse.de

- add restart_on_update/stop_on_removal macros 

-------------------------------------------------------------------
Fri Aug 15 15:04:43 CEST 2003 - ro@suse.de

- added sysconfig metadata (#28908) 

-------------------------------------------------------------------
Tue Aug  5 01:38:42 CEST 2003 - ro@suse.de

- fix compile for rquotad (unused anyway 

-------------------------------------------------------------------
Thu Jul 31 14:15:43 CEST 2003 - ro@suse.de

- add support for STATD_HOSTNAME (#28201) 

-------------------------------------------------------------------
Mon Jul 28 14:20:00 CEST 2003 - ro@suse.de

- update to 1.0.5 and adapt patches
- overflow patch already included
- part of acl patch already included 

-------------------------------------------------------------------
Mon Jul 21 17:04:00 CEST 2003 - agruen@suse.de

- Switch to officially reserved bit flag for `no_acl' export
  option: the previous bit was already allocated.

-------------------------------------------------------------------
Tue Jul  8 16:00:01 CEST 2003 - agruen@suse.de

- Add `no_acl' export option, replaces the nfs_permission_mode
  nfsd module parameter.

-------------------------------------------------------------------
Tue Jul  8 14:33:57 CEST 2003 - okir@suse.de

- Fixed off-by-one overflow (#27744)

-------------------------------------------------------------------
Thu Jun 12 07:19:59 CEST 2003 - kukuk@suse.de

- Add /var/lib/nfs to filelist

-------------------------------------------------------------------
Tue May 13 00:34:35 CEST 2003 - ro@suse.de

- fix file list 

-------------------------------------------------------------------
Fri Mar 28 01:42:47 CET 2003 - ro@suse.de

- update to 1.0.3

-------------------------------------------------------------------
Wed Jan  8 12:56:27 CET 2003 - ro@suse.de

- added sysconfig metadata (#22663) 

-------------------------------------------------------------------
Fri Sep  6 15:07:56 CEST 2002 - ro@suse.de

- rcnfsserver: moved ypbind to should-start (#18952) 
- rcnfslock: fixed typo killing daemons on "status" (#19046)

-------------------------------------------------------------------
Tue Sep  3 15:05:54 CEST 2002 - ro@suse.de

- changed nfslock from should-start to required-start in
  nfsserver rc script (is in the same package anyway)

-------------------------------------------------------------------
Mon Aug 26 11:47:10 CEST 2002 - okir@suse.de

- Fixed minor manpage issue (#18326)

-------------------------------------------------------------------
Thu Aug 22 11:18:32 CEST 2002 - ro@suse.de

- fixed symlink rcnfslock (#18171) 

-------------------------------------------------------------------
Wed Aug  7 17:14:21 CEST 2002 - ro@suse.de

- move statd and lockd to their own startscript (#17425)

-------------------------------------------------------------------
Thu Aug  1 16:47:34 CEST 2002 - ro@suse.de

- update to 1.0.1
- added prereqs 

-------------------------------------------------------------------
Thu Jul 25 10:16:28 CEST 2002 - okir@suse.de

- Help users who do not configure a domain name: when
  sending out NSM_NOTIFY strip off .local suffix if
  present.

-------------------------------------------------------------------
Mon Jul 22 07:54:12 PDT 2002 - okir@suse.de

- partial fix for http://bugzilla.suse.de/show_bug.cgi?id=16957
  (missing NSM_NOTIFY call when rebooting).

-------------------------------------------------------------------
Tue Jul 16 18:41:22 CEST 2002 - kukuk@suse.de

- Don't source rc.config (#17025)

-------------------------------------------------------------------
Fri Jun 14 01:55:23 CEST 2002 - ro@suse.de

- run suse_update_config
 
-------------------------------------------------------------------
Tue Feb 26 17:06:41 CET 2002 - ro@suse.de

- fixed wrong quotes in init-script (#13939)

-------------------------------------------------------------------
Wed Feb  6 14:07:06 CET 2002 - ro@suse.de

- ignore returncodes from killing statd and lockd (#13072) 

-------------------------------------------------------------------
Wed Feb  6 13:33:08 CET 2002 - ro@suse.de

- sysconfig/nfs-server -> sysconfig/nfs 

-------------------------------------------------------------------
Wed Jan  9 11:44:08 CET 2002 - ro@suse.de

- removed variable NFS_SERVER (#12742)
- moved USE_KERNEL_NFSD_NUMBER to /etc/sysconfig/nfs-server 

-------------------------------------------------------------------
Wed Sep 26 15:36:25 CEST 2001 - ro@suse.de

- up to 0.3.3
  many fixes to canonicalize hostnames in exports 

-------------------------------------------------------------------
Fri Aug 24 15:31:29 CEST 2001 - ro@suse.de

- removed nfs-version 3 detection in start-script, all kernels
  that have kernel nfsd support usually do have nfsd-v3 support
  and detection would require at least a 5 sec wait in the script 

-------------------------------------------------------------------
Tue Jul 31 09:53:20 CEST 2001 - kukuk@suse.de

- Fix path to init script in description [Bug #9494]
- Fix comment in runlevel section [Bug #9561]
- Make init script LSB conform [Bug #9073]

-------------------------------------------------------------------
Wed Apr 11 18:39:20 CEST 2001 - ro@suse.de

- lockd only started for 2.2 kernels instead of ignoring error 
- completed rpc.statd to /sbin move in startscript

-------------------------------------------------------------------
Mon Mar 12 16:30:48 CET 2001 - ro@suse.de

- move rpc.lockd, rpc.statd to /sbin 

-------------------------------------------------------------------
Mon Mar 12 01:39:10 CET 2001 - ro@suse.de

- update to 0.3.1
- ignore lockd error messages
- dump filedescriptors before starting kernel threads 

-------------------------------------------------------------------
Tue Feb  6 12:33:46 CET 2001 - ro@suse.de

- renamed package to nfs-utils
- Obsoletes and Provides nfsutils 

-------------------------------------------------------------------
Fri Jan 12 01:47:05 CET 2001 - ro@suse.de

- fixed conflicts: nfs-server (#5548)

-------------------------------------------------------------------
Thu Jan 11 23:09:27 CET 2001 - ro@suse.de

- don't fail if lockd can't be started 

-------------------------------------------------------------------
Wed Dec  6 00:44:49 PST 2000 - bk@suse.de

- fix broken symlinks for %{_mandir}/rpc.{nfs,mount,stat}d.8.gz

-------------------------------------------------------------------
Tue Nov 28 10:30:00 CET 2000 - kukuk@suse.de

- Move new initscript to /etc/init.d

-------------------------------------------------------------------
Thu Oct 12 18:13:48 CEST 2000 - ro@suse.de

- exports.4 should be exports.5
- removed k-prefix 

-------------------------------------------------------------------
Thu Oct 12 15:43:43 CEST 2000 - ro@suse.de

- added exports.4 man-page 
- up to 0.2.1

-------------------------------------------------------------------
Wed Sep 27 11:44:11 CEST 2000 - ro@suse.de

- update to 0.2
- fix for nfsserver.init (check for v3) 

-------------------------------------------------------------------
Thu Aug 17 15:04:11 CEST 2000 - ro@suse.de

- ugraded from knfsd to successor package nfs-utils (v.0.1.9.1) 

-------------------------------------------------------------------
Fri Jul 28 18:31:24 CEST 2000 - bjacke@suse.de

- fixed checkproc call in init script

-------------------------------------------------------------------
Fri Jul 21 12:05:23 CEST 2000 - kukuk@suse.de

- Fix missing format string in syslog call (next rpc.statd security
  problem)

-------------------------------------------------------------------
Wed Jul 19 12:03:48 CEST 2000 - kukuk@suse.de

- Fix problem with NULL h_alias field (rpc.statd security problem)

-------------------------------------------------------------------
Thu Jun 22 15:27:47 CEST 2000 - kukuk@suse.de

- Change conflict from itself to nfsserv

-------------------------------------------------------------------
Tue Apr 18 10:34:13 CEST 2000 - kukuk@suse.de

- Fix rcnfsserver link

-------------------------------------------------------------------
Sat Apr 15 16:22:26 CEST 2000 - kukuk@suse.de

- Add rc.config variables and init script from aaa_base

-------------------------------------------------------------------
Wed Feb 16 17:31:37 CET 2000 - kukuk@suse.de

- Fill out Copyright and Group field
- Remove rquotad from file list, it is already in the quota 
  package [Bug 1571]

-------------------------------------------------------------------
Tue Jan 25 15:11:24 CET 2000 - ro@suse.de

- manpages to /usr/share using macro 

-------------------------------------------------------------------
Thu Oct 21 00:26:42 CEST 1999 - ro@suse.de

- renamed package from linuxnfs to knfsd 

-------------------------------------------------------------------
Tue Oct 12 17:56:24 CEST 1999 - garloff@suse.de

- Fixed filelist (%ghost)

-------------------------------------------------------------------
Tue Oct 12 17:27:50 CEST 1999 - garloff@suse.de

- upgraded to knsfd-1.5.2. Added klockd to file list.
  Ditto for new /dev/nfsd_netlink.

-------------------------------------------------------------------
Mon Sep 13 17:23:57 CEST 1999 - bs@suse.de

- ran old prepare_spec on spec file to switch to new prepare_spec.

-------------------------------------------------------------------
Tue Aug 24 19:09:12 MEST 1999 - uli@suse.de

- added -fsigned-char to CFLAGS (PPC)

-------------------------------------------------------------------
Sat Jul 17 19:00:48 MEST 1999 - ro@suse.de

- update to 1.4.6

-------------------------------------------------------------------
Mon Jun 14 10:27:36 MEST 1999 - kukuk@suse.de

- update to version 1.4

-------------------------------------------------------------------
Sun Jun  6 15:51:15 MEST 1999 - kukuk@suse.de

- update to version 1.3.3b 

-------------------------------------------------------------------
Tue Mar 16 13:14:54 MET 1999 - ro@suse.de

- update to version 1.2

-------------------------------------------------------------------
Thu Nov 26 11:10:31 MET 1998 - ro@suse.de

- update to 981122

-------------------------------------------------------------------
Thu Nov 12 18:35:03 MET 1998 - ro@suse.de

- use lx_hack

-------------------------------------------------------------------
Wed Oct 21 10:30:07 MEST 1998 - ro@suse.de

- added bugfix for statd (by HJL)

-------------------------------------------------------------------
Tue Oct 20 11:16:06 MEST 1998 - ro@suse.de

- update to knfsd-981014

-------------------------------------------------------------------
Mon Sep 28 11:55:32 MEST 1998 - ro@suse.de

- initial package / for use a 2.1 kernel with knfsd support is needed
