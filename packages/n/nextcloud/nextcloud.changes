-------------------------------------------------------------------
Thu Feb 23 18:21:52 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 25.0.4
  - No changelog from upstream at this time.

-------------------------------------------------------------------
Tue Jan 17 18:09:53 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 25.0.3
  - Set page titel for each sidebar section through User management pages (server#35467)
  - Change header semantic in the user status dialog (server#35480)
  - Rename personal Groupware settings section to “Availability” (server#35492)
  - Remove old code from comment to not trigger automatic scanners more than needed (server#35497)
  - Add migration for encryption keys in wrong location (server#35499)
  - Fix SQL comparison with int array during external storage deletion (server#35516)
  - Fix the popovermenu (server#35517)
  - Bump @nextcloud/vue to 7.2.0 (server#35551)
  - Update ca-cert bundle (server#35573)
  - Fix type of PreviewController::$userId (server#35577)
  - Show success on share actions (server#35578)
  - Allow to set a custom timeout for ldap connections (server#35602)
  - Set page title for each sidebar section through User management pages (server#35629)
  - Fix contrast of global search headings (server#35639)
  - Add new border color variable and adjust primary color for increased contrast (server#35640)
  - Add success popup message for copying share links (server#35641)
  - Update psalm-baseline.xml (server#35663)
  - Update the unencrypted file size when closing streams (server#35668)
  - Update handlebars-loader to 1.7.3 (server#35673)
  - Add alt to the logo, adapt css for logo (server#35676)
  - Increase default global input field border contrast (server#35683)
  - Improve verbosity of search description (server#35688)
  - Fix default primary for user theming (server#35702)
  - Update sensitive config list of Talk (server#35706)
  - Show group name instead of group id as recommendation (server#35710)
  - Use correct filter for app icons in the right sidebar of app management (server#35711)
  - Improve email results for sharing (server#35712)
  - Ci: update minio image for s3 primary storage tests (server#35724)
  - Preview: fix HEIC orientation (server#35727)
  - Quota value as float for 32-bit systems (server#35734)
  - Fix vue-select styles (server#35742)
  - Read loginName from token (server#35747)
  - Change app menu focused items behavior that neighbor elements (text and border) have no overlapping (server#35771)
  - PHP8] check if params given to API are really an array (server#35797)
  - Fix missing cast of double controller parameters (server#35798)
  - Fix case sensitivity of email when saving settings (server#35803)
  - Restoring clearCachedConfig() (server#35812)
  - Use display name cache on getStorageInfo (server#35815)
  - Allow additional Sabre plugins in publicwebdav.php (server#35817)
  - Allow running encryption:fix-encrypted-version for all users (server#35827)
  - Fix parameter type for EntityCollection::setReadMarker in comments app (server#35835)
  - Fix: remove other shares from ui when deleted (server#35848)
  - Remove comment and guests option from Invitations UI (server#35859)
  - Increase preview_max_memory and make it easier to debug (server#35864)
  - Avatar generation – disable setimageformat (server#35895)
  - Fix video fullscreen on public page (server#35902)
  - Replace custom tooltips with native one for files sharing (server#35904)
  - Replace custom tooltips with native ones in files (server#35905)
  - Revert “avatar generation – disable setimageformat” (server#35914)
  - Update the user status dashboard widget and fix the icon color (server#35948)
  - Chore(CI): Improve rate limit situation when installing phpunit (server#35962)
  - Docs: trusted_proxies support IPv6 ranges (server#35963)
  - Also limit the password length on reset (server#35977)
  - Appsidebar should be compact when opened on small heights (server#35983)
  - Fix user status icon in avatar menu (server#35984)
  - Bump json5 from 1.0.1-1.0.2 and 2.2.0-2.2.3 (server#35988)
  - Remove myself from being codeowner of some modules (server#35992)
  - Bump @nextcloud/vue from 7.2.0 to 7.3.0 (server#35997)
  - Allow target=”_blank” in app navigation items (server#36007)
  - Fix default phone region validation (server#36010)
  - Update crl after revoke files_bpm.csr (server#36017)
  - Add restrictions when downloading to resolve with opengraph link provider (server#36022)
  - Fix scrolling while dragging in file list view (server#36028)
  - Fix cache key used to verify shared mountpoints (server#36049)
  - Link reference provider: Improve content-type check (server#36053)
  - Update ca-cert bundle (server#36059)
  - Fix theming migration repair step by passing correct type for argument (server#36081)
  - Allow keyup enter in user status (server#36132)
  - Revert “Allow keyup enter in user status” (server#36143)
  - Still include the share target in the cache key for validating share mount (server#36169)
  - Update nextcloud/ocp dependency (activity#1034)
  - Bump @nextcloud/vue from 7.0.0-beta.3 to 7.3.0 (activity#1043)
  - Fix background image size (firstrunwizard#790)
  - Update nextcloud/ocp dependency (firstrunwizard#799)
  - Various fixes (logreader#824)
  - Update nextcloud/ocp dependency (nextcloud_announcements#144)
  - Update nextcloud/ocp dependency (nextcloud_announcements#150)
  - Update nextcloud/ocp dependency (notifications#1399)
  - Bump deps to newer versions (notifications#1407)
  - Update nextcloud/ocp dependency (notifications#1413)
  - Bump postcss-loader from 7.0.1 to 7.0.2 (photos#1519)
  - Lazy load faces (photos#1523)
  - Remove broken icons.css references (photos#1533)
  - Bump postcss from 8.4.18 to 8.4.20 (photos#1545)
  - Bug fix] encode file name for file source (photos#1563)
  - Backport: #1569 to stable25 (photos#1574)
  - Bump @nextcloud/axios from 1.10.0 to 2.1.0 (recommendations#575)
  - Fix(deps): update tiptap (text#3486)
  - Fix(deps): update dependency @nextcloud/axios to ^2.2.0 (text#3487)
  - Chore(deps): update dependency vite-plugin-commonjs to ^0.6.0 (text#3491)
  - Prevent dangling debounced extractHeadings function (text#3522)
  - Only scroll images into view when they’re added (text#3533)
  - Don’t empty list of headings in onDestroy (text#3537)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.6 (text#3539)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.7 (text#3549)
  - Chore(deps): update dependency vite to ^3.2.5 (text#3553)
  - Chore(deps): update dependency vite-plugin-commonjs to ^0.6.1 (text#3554)
  - Fix(deps): update dependency path-normalize to ^6.0.9 (text#3555)
  - Fix(deps): update tiptap to ^2.0.0-beta.209 (text#3578)
  - Fix(deps): update dependency @nextcloud/axios to ^2.3.0 (text#3579)
  - Update nextcloud/ocp dependency (text#3582)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.16.0 (text#3590)
  - Backport missing pieces for outline suport in Collectives (text#3593)
  - Block file access for secure view (text#3595)
  - Increase idle timeout to one day 40 minutes) (text#3597)
  - Fix(deps): update dependency @tiptap/prosemirror-tables to ^1.1.4 (text#3602)
  - Fix(deps): update dependency @nextcloud/vue to ^7.3.0 (text#3605)
  - Fix(deps): update dependency @nextcloud/router to ^2.0.1 (text#3612)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.16.1 (text#3620)
  - Treat newlines as linebreaks when pasting as plaintext (text#3625)
  - Chore(deps): update dependency @nextcloud/eslint-config to ^8.1.5 (text#3629)
  - Fix: reconnect – reload main container (text#3635)
  - Npm audit fix (text#3638)
  - Fix(Images): Update image alt text on blur (text#3641)
  - Bump webdav from 4.11.0 to 4.11.2 (viewer#1484)
  - Bump camelcase from 7.0.0 to 7.0.1 (viewer#1493)
  - Bump @nextcloud/router from 2.0.0 to 2.0.1 (viewer#1508)
  - Update vue to 7.3 (viewer#1511)
- Changes from 25.0.2
  - Avoid double ldap_unbind in Wizard.php (server#34577)
  - Fix disabled federated scope (server#34862)
  - Fix NC25 for 32-bit (server#34905)
  - Update 64-bit check wording (server#34921)
  - Disable upgrades to 26 for 32-bit (server#34922)
  - Fix visibility of internal expire date (server#34925)
  - Update @nextcloud/dialogs and fix toasts styling (server#34928)
  - Fix deprecations logged as errors (server#34944)
  - Skip general login with email for non-valid addresses and LDAP (server#34946)
  - Run session token renewals in a database transaction (server#34953)
  - Read encrypted session data again on reopen (server#34955)
  - Fix invalid date in security.txt (server#34964)
  - Fix duplicate event email notifications (server#34978)
  - Avoid a crash when a PHP extension has no version (server#34998)
  - Fix cron warning with time insensitive jobs (server#35010)
  - Fix unsuccessful token login logged as error (server#35011)
  - Cast to int (server#35023)
  - Add repair command to fix wrong share ownership (server#35034)
  - Fix checkmark for theme settings in dark mode (server#35035)
  - Fix size calculation on copying the skeleton files (server#35048)
  - Add description for calendar uri (server#35058)
  - Fix sidebar not automatically hidden in Files app (server#35060)
  - Fix top margin in empty versions list (server#35064)
  - Add pre-commit configuration (server#35078)
  - Bump microsoft/azure-storage-blob to 1.5.4 in stable25 (server#35082)
  - Fix HTML entities not decoded in comment just added (server#35085)
  - Make sure that path is normalized and then checked, (server#35086)
  - Fix PublicKeyTokenProviderTest import and mock (server#35099)
  - Fix distorted previews when using imaginary (server#35117)
  - Fix hasBigIntConversionPendingColumns missing files_trash (server#35118)
  - [LDAP] always create instance of own user manager (server#35130)
  - Run integration tests on 3rdparty bump (server#35133)
  - Support postgres15 (server#35135)
  - Bump aws/aws-sdk-php to 3.240 in stable25 (server#35137)
  - Make sure to not pass null to DateTime::createFromFormat (server#35161)
  - Deprecate PHP7.4 (server#35164)
  - Allow single character search by default (server#35166)
  - Fix rendering of login headline (server#35172)
  - Bump swiftmailer/swiftmailer to 6.3.0 in stable25 (server#35174)
  - Use the updated mariadb10.6 container in drone (server#35180)
  - Update CODEOWNERS (server#35183)
  - Bump @nextcloud/vue to 7.1.0-beta0 (server#35188)
  - Fix dashboard scrolling (server#35190)
  - Fix AppMenu icons for firefox (server#35191)
  - Mark more config values as sensitive (server#35199)
  - Fix settings for setting default expiration date (server#35214)
  - Fix logo not correctly inverted (server#35216)
  - Fix sharing expiration date handling and saving (server#35220)
  - Check quota on file copy (server#35232)
  - Close global search menu when keyboard focus leaves (server#35233)
  - Limit toggle grid view button scope (server#35235)
  - Fix missing native submit type from OAuth client add button (server#35237)
  - Delay updating setup providers untill we register the mounts (server#35255)
  - Fix default theming variables (server#35256)
  - Generate user themed icons (server#35261)
  - Also cancel XHR when cancelling uploads (server#35265)
  - Hide warning about missing apps for when shipped in the next version (server#35291)
  - Increase the fair-use push limit to 1.000 users (server#35298)
  - Don’t use quota cache through user management (server#35312)
  - Fix mentions rendering in comment editor (server#35322)
  - Optimize background image migration job (server#35326)
  - Handle badly named version files more gracefully and log information (server#35327)
  - Help pages: set window title for sidebar sections (server#35330)
  - Revert “Fix quota type to int” (server#35335)
  - Fix navigation order (server#35338)
  - Prevents the selection of encrypted folders when clicking on the “Select all” checkbox (server#35340)
  - Fix border color contrast (server#35346)
  - Fix forwarding the object id when searching comments (server#35354)
  - Update cache when file size === 0 (server#35366)
  - Fix user settings layout (server#35375)
  - Add repair job that will ensure that secret and passwordsalt are set (server#35377)
  - Add label to sharing search field (server#35382)
  - Fix UX of renaming token (server#35390)
  - Update some deps (server#35394)
  - Revert minimum length for tags (server#35404)
  - Do not check quota for non Node (server#35408)
  - Fix missing share icon (server#35411)
  - Place <h1> into main content (server#35412)
  - Fix share admin page (server#35414)
  - Fix theming tests (server#35415)
  - Fix update for 32-bit (server#35453)
  - Revert “Fix border color contrast” (server#35454)
  - Allow upgrading from ownCloud 10.11 (server#35478)
  - Add fallback routines for empty secret cases (server#35605)
  - Downgrade ubuntu in order to fix CI (server#35606)
  - Fix migration to non-empty secret (server#35616)
  - Bump microsoft/azure-storage-blob to 1.5.4 in stable25 (3rdparty#1217)
  - Bump aws/aws-sdk-php to 3.240 in stable25 (3rdparty#1227)
  - Bump swiftmailer/swiftmailer to 6.3.0 in stable25 (3rdparty#1229)
  - Update nextcloud/ocp dependency (activity#1001)
  - Run NPM audit fix (activity#1003)
  - Apply ACL groupfolders (activity#1015)
  - Add filter to page title (activity#1017)
  - Update load-utils to 2.0.4 (bruteforcesettings#420)
  - Re-activate getMember() (circles#1203)
  - Avoid exception loop (circles#1220)
  - Update loader-utils and minimatch (files_pdfviewer#681)
  - Update nextcloud/ocp dependency (firstrunwizard#752)
  - Update nextcloud/ocp dependency (firstrunwizard#780)
  - Fix navigation menu order (firstrunwizard#784)
  - Update some libs (logreader#817)
  - Update nextcloud/ocp dependency (nextcloud_announcements#136)
  - Still push notifications of twofactor_nextcloud_notification when in DND (notifications#1355)
  - Update nextcloud/ocp dependency (notifications#1366)
  - Close menu when focus leaves (notifications#1368)
  - Add admin setting page with users defaults (notifications#1369)
  - Run NPM audit fix (notifications#1373)
  - Update user status with event data (notifications#1377)
  - Update loader-utils from 1.4.0 to 1.4.2 and 2.0.2 to 2.0.4 (password_policy#410)
  - Update some libs (password_policy#411)
  - Update nextcloud/ocp dependency (photos#1443)
  - Add primary key index to collaborators table (photos#1449)
  - Bump @vue/test-utils from 1.3.0 to 1.3.3 (photos#1460)
  - Update nextcloud/ocp dependency (photos#1482)
  - Prevent throwing an error in node deletion hook (photos#1493)
  - Run npm audit fix (photos#1495)
  - Fix version20003Date20221102170153 migration (photos#1501)
  - Audit fix (privacy#814)
  - Bump @nextcloud/dialogs from 3.1.2 to 3.1.4 (privacy#817)
  - Bump @nextcloud/vue from 5.4.0 to 7.0.1 (privacy#822)
  - Bump @nextcloud/vue from 7.1.0-beta.1 to 7.1.0-beta.2 (privacy#827)
  - Update nextcloud/ocp dependency (related_resources#132)
  - Remove completed remove route TODO (related_resources#133)
  - Revert “Revert”alternate route for complex itemid”” (related_resources#135)
  - Update nextcloud/ocp dependency (related_resources#138)
  - Bump npm dependencies (related_resources#145)
  - Chore(deps): update dependency @nextcloud/webpack-vue-config to ^5.4.0 (text#3314)
  - Fix: relative link in RichWorkspace (text#3323)
  - Chore(deps): update dependency vite to ^3.2.2 (text#3337)
  - Fix(deps): update tiptap (text#3338)
  - Update nextcloud/ocp dependency (text#3343)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.3 (text#3355)
  - Chore(deps): update dependency @vue/test-utils to ^1.3.3 (text#3359)
  - DirectEditing: Set session user for DirectSession editing (text#3371)
  - Disable rich workspace rendering when view is not visible (text#3377)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.4 (text#3383)
  - Chore(deps): update dependency vite to ^3.2.3 (text#3385)
  - Chore(deps): update dependency jest-environment-jsdom to ^29.3.0 (text#3386)
  - Don’t apply author annotations when in composition (text#3395)
  - Set IUserSession user in SessionController if available (text#3397)
  - Chore(deps): update dependency jest-environment-jsdom to ^29.3.1 (text#3406)
  - Fix(deps): update vue monorepo to ^2.7.14 (text#3409)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.5 (text#3412)
  - Chore(deps): update dependency @nextcloud/eslint-config to ^8.1.3 (text#3415)
  - Fix hard line breaks displayed with additional new line between (text#3416)
  - Update nextcloud/ocp dependency (text#3420)
  - Fix(deps): update tiptap (text#3426)
  - Make images block nodes (text#3431)
  - Fix(deps): update dependency @nextcloud/vue to ^7.1.0-beta.0 (text#3433)
  - Bring back menubar without formatting on plain text mode (text#3437)
  - Refactor vuex store (text#3439)
  - Chore(deps): update dependency vite to ^3.2.4 (text#3440)
  - Chore(deps): update dependency @nextcloud/eslint-config to ^8.1.4 (text#3447)
  - Fix(deps): update dependency @nextcloud/vue to ^7.1.0-beta.1 (text#3455)
  - Fix(deps): update dependency prosemirror-model to ^1.18.3 (text#3456)
  - Fix notification icon color (text#3463)
  - Add APIs for outline state to RichTextReader and WrapperComponent (text#3466)
  - Update loader-utils (text#3468)
  - Fix mention uid autocomplete and keyboard handler in list nodes (text#3471)
  - Fix direct editing loading of txt files (text#3479)
  - Combined code block backport (text#3480)
  - Backport of #3460 – Fix front matter rendering (text#3481)
  - Fix(deps): update dependency @nextcloud/vue to ^7.1.0-beta.2 (text#3485)
  - Prevent file deletion when pressing Ctrl+Delete (text#3515)
  - Revert “Set autocomplete attribute of input field to one-time-code” (twofactor_totp#1301)
  - Fallback to direct image if preview load failed (+ cypress fixes) (viewer#1452)
  - Increase visual regression for video to 0.02% (viewer#1454)
  - Build(deps): bump vue from 2.7.13 to 2.7.14 (viewer#1459)
  - Build(deps-dev): bump @types/dockerode from 3.3.11 to 3.3.12 (viewer#1460)
  - Build(deps-dev): bump tslib from 2.4.0 to 2.4.1 (viewer#1463)
  - Bump @nextcloud/vue to 7.1.0-beta0 (viewer#1468)
  - Stop encoding sidebar path (viewer#1471)
  - Bump @types/dockerode from 3.3.12 to 3.3.14 (viewer#1476)
  - Audit fix (viewer#1479)
- Changes from 25.0.1
  - Extract GPS data from EXIF (server#34535)
  - Return proper error code when reporting exception fails in remote.php (server#34581)
  - Bump @nextcloud/password-confirmation from 4.0.1 to 4.0.2 (server#34590)
  - Fix reference preview when no server-side cache configured (server#34594)
  - Fix file creation issue if no action are registered (server#34597)
  - Fix “email changed” activity email check (server#34601)
  - Reduce number of database queries during WebDAV propfind request (server#34610)
  - Expose clearing the profiles and fix it (server#34616)
  - Set theming app to alwaysEnabled (server#34646)
  - Add a repair step to cleanup old theming cache (server#34647)
  - Fix unnecessary highlighting of selected element (server#34648)
  - Fix vertical alignment of user status icon (server#34649)
  - Fix icon of encrypted folders in filepicker (server#34657)
  - Add rate limiting on lost password emails (server#34658)
  - Fix regexp for unified searching in apps (server#34661)
  - Fix rebuild navigation (server#34663)
  - Update OCI workflow of server (server#34667)
  - Run npm audit (server#34669)
  - Add admin user customization kill switch (server#34681)
  - Invert header icons on bright preset backgrounds (server#34686)
  - Bump jquery-ui-dist from 1.13.1 to 1.13.2 (server#34699)
  - Propagate attributes when resharing (server#34704)
  - Fix alternative logins custom css class (server#34705)
  - Use vue lib multiselect tags component (server#34709)
  - Don’t crash with outdated share provider on update with the web updater (server#34712)
  - Fix more icon color (server#34718)
  - WebDAV – use file/folder name for dav:displayname (server#34721)
  - Fix null error in getUnencryptedSize (server#34725)
  - On installation save channel to config.php if not stable (server#34726)
  - LDAP to not register new users when outside of fair use or over limits (server#34728)
  - Add ico image/x-icon (server#34764)
  - Update notifications for one-click instances (server#34779)
  - Fix Uninitialized string offset 0 at GenerateMimetypeFileBuilder.php#39 (server#34791)
  - Expose mapped user count from LDAP and use that for user limit check (server#34796)
  - Fix getMetadata return type (server#34821)
  - Check share attributes on preview endpoints (server#34823)
  - Fix empty content regressions in comments app (server#34827)
  - Fix autotest creating PostgreSQL database before install (server#34848)
  - Emit typed event when preview is requested (server#34854)
  - Display invalid input message (server#34860)
  - Update nextcloud/ocp dependency (activity#971)
  - Update nextcloud/ocp dependency (activity#979)
  - Update nextcloud/ocp dependency (activity#991)
  - Update nextcloud/ocp dependency (nextcloud_announcements#124)
  - Update nextcloud/ocp dependency (nextcloud_announcements#126)
  - Update nextcloud/ocp dependency (nextcloud_announcements#130)
  - Invert header icon on bright preset backgrounds (notifications#1341)
  - Update nextcloud/ocp dependency (notifications#1344)
  - Bump @nextcloud/notify_push to 1.1.3 (notifications#1346)
  - Update nextcloud/ocp dependency (notifications#1352)
  - Add public link logic (photos#1321)
  - Update nextcloud/ocp dependency (photos#1367)
  - Bump postcss from 8.4.16 to 8.4.18 (photos#1380)
  - Bump vue and vue-template-compiler (photos#1383)
  - Bump autoprefixer from 10.4.11 to 10.4.12 (photos#1385)
  - Bump jest from 29.0.2 to 29.0.3 (photos#1387)
  - Fix nomedia exclusion (photos#1391)
  - Limit auth backend to public albums (photos#1405)
  - Fix fetching album content when navigating (photos#1406)
  - Make tag translations work by loading recognize translations (photos#1407)
  - Fix logic of share album content fetching (photos#1408)
  - Prevent building prefixPath on loading (photos#1409)
  - Update nextcloud/ocp dependency (photos#1415)
  - Fix albumName typo (photos#1422)
  - Bump autoprefixer from 10.4.12 to 10.4.13 (photos#1438)
  - Implement dashboard api for recommended files (recommendations#564)
  - Revert “Revert “virtual groups”” (related_resources#105)
  - Polishing ‘n cleaning code (related_resources#118)
  - Room starts with single participant (related_resources#120)
  - Using principalUri:uri to id calendar (related_resources#122)
  - Alternate route for complex itemid (related_resources#125)
  - Revert “alternate route for complex itemid” (related_resources#134)
  - Update nextcloud/ocp dependency (related_resources#99)
  - Fix(deps): update dependency @nextcloud/vue to ^7.0.1 (text#3178)
  - Fix(deps): update tiptap (text#3197)
  - Fix(deps): update vue monorepo to ^2.7.13 (text#3235)
  - Chore(deps): update dependency jest-environment-jsdom to ^29.2.0 (text#3251)
  - Chore(deps): update dependency @nextcloud/stylelint-config to ^2.3.0 (text#3253)
  - Update nextcloud/ocp dependency (text#3260)
  - Chore(deps): update dependency vite-plugin-commonjs to ^0.5.3 (text#3262)
  - Mentions: small test adjust (text#3267)
  - Fix copy and paste of user mentions (text#3274)
  - Chore(deps): update dependency jest-environment-jsdom to ^29.2.1 autoclosed (text#3277)
  - Chore(deps): update dependency jest-environment-jsdom to ^29.2.2 (text#3279)
  - Remember the last opened folder (text#3283)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.0 (text#3285)
  - Fix: adjust margin for hr (text#3286)
  - Update nextcloud/ocp dependency (text#3296)
  - Chore(deps): update dependency cypress to ^10.11.0 (text#3307)
  - Fix(deps): update dependency @nextcloud/browser-storage to ^0.2.0 (text#3308)
  - Fix(deps): update dependency @nextcloud/logger to ^2.4.0 (text#3309)
  - Chore(deps): update dependency vite to ^3.2.0 (text#3315)
  - Build(deps): bump vue from 2.7.10 to 2.7.13 (viewer#1419)
  - Fix sidebar opening for different dav root and non-dav files (viewer#1433)
- Changes from 25.0.0
  See: https://nextcloud.com/blog/announcing-nextcloud-hub-3-brand-new-design-and-photos-2-0-with-editor-and-ai/

-------------------------------------------------------------------
Tue Jan 17 16:31:30 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 24.0.9
  - Bump bootstrap from 4.6.1 to 4.6.2 (server#33422)
  - Invalidate existing tokens when deleting an oauth client (server#35094)
  - Update psalm-baseline.xml (server#35417)
  - Add migration for encryption keys in wrong location (server#35500)
  - Allow to set a custom timeout for ldap connections (server#35520)
  - Fix SQL comparison with int array during external storage deletion (server#35524)
  - Update ca-cert bundle (server#35574)
  - Update the unencrypted file size when closing streams (server#35657)
  - Update handlebars-loader update to 1.7.3 + others (server#35674)
  - Fix share admin page (server#35687)
  - Preview: fix HEIC orientation (server#35729)
  - Ci: update minio image for s3 primary storage tests (server#35735)
  - PHP8] check if params given to API are really an array (server#35796)
  - Fix missing cast of double controller parameters (server#35799)
  - Rename personal Groupware settings section to “Availability” (server#35800)
  - Fix case sensitivity of email when saving settings (server#35804)
  - Allow additional Sabre plugins in publicwebdav.php (server#35818)
  - Fix: remove other shares from ui when deleted (server#35849)
  - Remove comment and guests option from Invitations UI (server#35861)
  - Allow running encryption:fix-encrypted-version for all users (server#35865)
  - Update psalm-baseline.xml (server#35879)
  - Quota value as float for 32-bit systems (server#35940)
  - Only normalize data in public shares and not crud (server#35949)
  - Bump json5 from 1.0.1-1.0.2 and 2.2.0-2.2.3 (server#35989)
  - Bump jQuery-UI dist to 1.13.2 (server#36009)
  - Update crl after revoke files_bpm.csr (server#36018)
  - Fix cache key used to verify shared mountpoints (server#36050)
  - Update ca-cert bundle (server#36061)
  - Still include the share target in the cache key for validating share mount (server#36172)
  - Update nextcloud/ocp dependency (activity#1049)
  - Various fixes (logreader#825)
  - Update nextcloud/ocp dependency (nextcloud_announcements#148)
  - Bump deps to newer versions (notifications#1408)
  - Update nextcloud/ocp dependency (notifications#1414)
  - Bump postcss from 8.4.19 to 8.4.20 (photos#1544)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.6.4 (text#3488)
  - Fix(deps): update tiptap (text#3489)
  - Only scroll images into view when they’re added (text#3534)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.7 (text#3556)
  - Fix(deps): update tiptap to ^2.0.0-beta.209 (text#3580)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.16.0 (text#3591)
  - Fix(deps): update dependency @tiptap/prosemirror-tables to ^1.1.4 (text#3603)
  - Fix(deps): update dependency core-js to ^3.27.0 (text#3608)
  - Fix(deps): update dependency @nextcloud/router to ^2.0.1 (text#3613)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.16.1 (text#3621)
  - Fix(deps): update dependency core-js to ^3.27.1 (text#3622)
  - Npm audit fix (text#3639)
  - Bump @nextcloud/router from 2.0.0 to 2.0.1 (viewer#1507)

-------------------------------------------------------------------
Thu Dec  8 20:01:02 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 24.0.8
  - Update guzzlehttp/guzzle requirement from 7.4.5 to 7.5.0 in /build/integration (server#33888)
  - Add rate limiting on lost password emails (server#34659)
  - Emit typed event when preview is requested (server#34855)
  - Avoid double ldap_unbind in Wizard.php (server#34942)
  - Skip general login with email for non-valid addresses and LDAP (server#34947)
  - Cleanup tempfiles after each cron job run (server#34949)
  - Run session token renewals in a database transaction (server#34952)
  - Fix invalid date in security.txt (server#34966)
  - Avoid a crash when a PHP extension has no version (server#35005)
  - Fix unsuccessful token login logged as error (server#35012)
  - Only show cron warning after 24h due to time insensitive jobs (server#35018)
  - Fix duplicate event email notifications (server#35019)
  - Cast to int (server#35022)
  - Add repair command to fix wrong share ownership (server#35039)
  - Fix size calculation on copying the skeleton files (server#35049)
  - Add description for calendar uri (server#35059)
  - Fix sidebar not automatically hidden in Files app (server#35061)
  - Fix top margin in empty versions list (server#35065)
  - Make sure that path is normalized and then checked, (server#35088)
  - Fix HTML entities not decoded in comment just added (server#35100)
  - Fix PublicKeyTokenProviderTest import and mock (server#35101)
  - Appropriate length check in Notification.php (server#35113)
  - Use the updated mariadb10.6 container in drone (server#35114)
  - Fix distorted previews when using imaginary (server#35115)
  - [LDAP] always create instance of own user manager (server#35131)
  - Run integration tests on 3rdparty bump (server#35134)
  - Revert “Appropriate length check in Notification.php” (server#35140)
  - Detect weird local ips (server#35141)
  - Make sure to not pass null to DateTime::createFromFormat (server#35162)
  - Mark more config values as sensitive (server#35200)
  - Fix settings for setting default expiration date (server#35215)
  - Fix JSON error when comment has no reactions (server#35245)
  - Properly compare quota against both float/int values (server#35250)
  - Delay updating setup providers untill we register the mounts (server#35258)
  - Also cancel XHR when cancelling uploads (server#35266)
  - Hide warning about missing apps for when shipped in the next version (server#35292)
  - Bump swiftmailer/swiftmailer to 6.3.0 in stable24 (server#35297)
  - Don’t use quota cache through user management (server#35313)
  - Fix mentions rendering in comment editor (server#35321)
  - Check quota on file copy (server#35328)
  - Check quota on file copy (server#35332)
  - Revert “Fix quota type to int” (server#35334)
  - Prevents the selection of encrypted folders when clicking on the “Select all” checkbox (server#35349)
  - Handle badly named version files more gracefully and log information (server#35351)
  - Fix forwarding the object id when searching comments (server#35356)
  - Update cache when file size === 0 (server#35367)
  - Fix UX of renaming token (server#35392)
  - Update some libs (server#35395)
  - Do not check quota for non Node (server#35409)
  - Update behat/behat requirement from ~3.11.0 to ~3.12.0 in /build/integration (server#35564)
  - Downgrade ubuntu in order to fix CI (server#35607)
  - Add mlocati/ip-lib in stable24 (3rdparty#1221)
  - Bump swiftmailer/swiftmailer to 6.3.0 in stable24 (3rdparty#1237)
  - Run NPM audit fix (activity#1004)
  - Update nextcloud/ocp dependency (activity#993)
  - Do not pass an instance of User where a string is expected (activity#996)
  - Update nextcloud/ocp dependency (activity#999)
  - Re-activate getMember() (circles#1204)
  - Refresh cache on demand (circles#1215)
  - Avoid exception loop (circles#1221)
  - Audit fix (files_pdfviewer#682)
  - Update nextcloud/ocp dependency (firstrunwizard#753)
  - Update some libs (logreader#818)
  - Update nextcloud/ocp dependency (nextcloud_announcements#132)
  - Update nextcloud/ocp dependency (nextcloud_announcements#135)
  - Still push notifications of twofactor_nextcloud_notification when in DND (notifications#1356)
  - Update nextcloud/ocp dependency (notifications#1359)
  - Update nextcloud/ocp dependency (notifications#1364)
  - Run NPM audit fix (notifications#1372)
  - Update user status with event data (notifications#1378)
  - Update some libs (password_policy#412)
  - Update nextcloud/ocp dependency (photos#1442)
  - Bump @vue/test-utils from 1.3.0 to 1.3.3 (photos#1461)
  - Bump postcss from 8.4.18 to 8.4.19 (photos#1479)
  - Update nextcloud/ocp dependency (photos#1480)
  - Run npm audit fix (photos#1496)
  - Audit fix (privacy#813)
  - Bump @nextcloud/dialogs from 3.1.2 to 3.1.4 (privacy#816)
  - Fix(deps): update dependency prosemirror-markdown to ^1.10.1 (text#3339)
  - Update nextcloud/ocp dependency (text#3341)
  - Avoid saving without changes (text#3351)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.3 (text#3360)
  - Chore(deps): update dependency @vue/test-utils to ^1.3.3 (text#3361)
  - Fix(deps): update tiptap to ^2.0.0-beta.202 (text#3362)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.6.2 (text#3363)
  - Update nextcloud/ocp dependency (text#3366)
  - DirectEditing: Set session user for DirectSession editing (text#3372)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.4 (text#3387)
  - Don’t apply author annotations when in composition (text#3396)
  - Set IUserSession user in SessionController if available (text#3398)
  - Fix typo in serializePlainText (text#3402)
  - Disable rich workspace rendering when view is not visible (text#3403)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.5 (text#3413)
  - Update nextcloud/ocp dependency (text#3418)
  - Fix(deps): update dependency core-js to ^3.26.1 (text#3421)
  - Fix(deps): update tiptap (text#3441)
  - Chore(deps): update dependency regenerator-runtime to ^0.13.11 (text#3448)
  - Fix(deps): update dependency prosemirror-model to ^1.18.3 (text#3457)
  - Update npm dependencies (text#3469)
  - Bring back menubar without formatting on plain text mode (text#3475)
  - Audit fix (viewer#1478)

-------------------------------------------------------------------
Wed Nov 30 10:35:27 UTC 2022 - pgajdos@suse.com

- a2enmod php8 in TW and 15.4 onwards

-------------------------------------------------------------------
Thu Nov  3 15:25:48 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 24.0.7
  - Update behat/behat requirement from ~3.10.0 to ~3.11.0 in /build/integration (server#33185)
  - Fix quota type to int (server#34032)
  - Use filesystem user instead of file owner for creating version (server#34040)
  - Fix renaming in shared with you file list (server#34355)
  - Url encode the web dav url for copying (server#34381)
  - Trigger a rescan when trying to fopen a file that exists in cache but not on disk (server#34410)
  - Fix User profile picture when performing the search (server#34440)
  - Fix: Prevent deadlocks during mtime/size/etag propagation (server#34447)
  - Makes untrusted domain error on info (server#34454)
  - Fix Error: Undefined index: redirect_url (server#34460)
  - Harden disk_free_space check in CheckSetupController (server#34506)
  - Update ca-cert bundle (server#34518)
  - Update security.txt expires field (server#34527)
  - Fix password length limitation (server#34532)
  - Avoid allocating too much memory for the buffer on s3 uploads (server#34552)
  - Return proper error code when reporting exception fails in remote.php (server#34584)
  - Fix “email changed” activity email check (server#34600)
  - LDAP to not register new users when outside of fair use or over limits (server#34730)
  - Fix external storages access (server#34750)
  - Fix null error in getUnencryptedSize (server#34770)
  - Fix Uninitialized string offset 0 at GenerateMimetypeFileBuilder.php#39 (server#34792)
  - Expose mapped user count from LDAP and use that for user limit check (server#34795)
  - Fix updating cached mounts that didn’t have their mount provider set previously (server#34797)
  - DB mounts table: Add index for mount_provider_class (server#34798)
  - Add pre-commit configuration to stable24 as well (server#34802)
  - Update notifications for one-click instances (server#34805)
  - Update psalm-baseline.xml (server#34812)
  - Check share attributes on preview endpoints (server#34824)
  - Propagate attributes when resharing (server#34840)
  - Fix psalm errors fron the end of the baseline file (server#34845)
  - Run NPM audit fix (activity#972)
  - Improve email logging (activity#982)
  - Update nextcloud/ocp dependency (activity#989)
  - Bump terser from 5.7.1 to 5.15.1 (files_videoplayer#293)
  - Update nextcloud/ocp dependency (nextcloud_announcements#128)
  - Fix multi-tab usage with notify_push (notifications#1303)
  - Run audit fix (notifications#1311)
  - Send the subscription key to the Community push proxy (notifications#1320)
  - Adjust the expected query count (notifications#1338)
  - Update nextcloud/ocp dependency (notifications#1351)
  - Bump workbox-webpack-plugin, qs, postcss, @nextcloud/moment and autoprefixed (photos#1401)
  - Bump vue-router from 3.5.3 to 3.5.4 (photos#1412)
  - Update nextcloud/ocp dependency (photos#1413)
  - Bump autoprefixer from 10.4.12 to 10.4.13 (photos#1437)
  - Run audit (recommendations#557)
  - Bump terser and moment (text#3136)
  - Fix(deps): update tiptap (text#3171)
  - Chore(deps): update dependency @vue/vue2-jest to ^27.0.0 (text#3198)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.3.6 (text#3199)
  - Fix(deps): update dependency highlight.js to ^10.7.3 (text#3200)
  - Chore(deps): update dependency cypress to ^9.7.0 (text#3201)
  - Fix(deps): update dependency @nextcloud/moment to ^1.2.1 (text#3205)
  - Fix emoji suggestion regression (text#3206)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.14.0 (text#3207)
  - Chore(deps): update dependency @nextcloud/browserslist-config to ^2.3.0 (text#3208)
  - Chore(deps): update dependency @nextcloud/stylelint-config to ^2.2.0 (text#3211)
  - Fix(deps): update dependency @nextcloud/axios to ^1.11.0 (text#3215)
  - Fix(deps): update dependency @nextcloud/dialogs to ^3.2.0 (text#3216)
  - Chore(deps): update dependency regenerator-runtime to ^0.13.10 (text#3220)
  - Fix(deps): update dependency @nextcloud/vue to ^5.4.0 (text#3221)
  - Fix(deps): update dependency core-js to ^3.25.5 (text#3222)
  - Fix(deps): update dependency prosemirror-view to ^1.29.0 (text#3223)
  - Fix(deps): update dependency vue-material-design-icons to ^5.1.2 (text#3225)
  - Chore(deps): update dependency @nextcloud/stylelint-config to ^2.3.0 (text#3254)
  - Fix(deps): update dependency prosemirror-state to ^1.4.2 (text#3264)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.3.13 (text#3272)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.3.14 (text#3281)
  - Chore(deps): update dependency @cypress/webpack-preprocessor to ^5.15.0 (text#3287)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.3.20 (text#3293)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.3.21 (text#3297)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.3.23 (text#3299)
  - Fix(deps): update dependency core-js to ^3.26.0 (text#3300)
  - Fix(deps): update dependency @nextcloud/browser-storage to ^0.2.0 (text#3310)
  - Chore(deps): update dependency eslint-plugin-jsdoc to ^39.3.25 (text#3316)
  - Bump terser and async (viewer#1406)
  - Use preview for unsupported images (viewer#1415)
  - Fix previewpath legacy variable (viewer#1430)

-------------------------------------------------------------------
Thu Oct  6 10:02:14 UTC 2022 - Michael Ströder <michael@stroeder.com>

- Update to 24.0.6
  * Bump moment from 2.29.3 to 2.29.4 (server#33423)
  * Bump @nextcloud/dialogs from 3.1.2 to 3.1.4 (server#33461)
  * Make groupfolders use system wide encryption keys (server#33700)
  * Log if cookie login failed with token mismatch or session unavailability (server#33787)
  * Wait for the new user form to be visible in acceptance tests (server#33791)
  * Fix handling of internal errors when uploading theming files (server#33798)
  * 33036 [Bug]: Set default expiration date (server#33805)
  * Always use the default fs owner when storing versions (server#33970)
  * Improve getting recent files performance (server#33983)
  * Do not empty config.php file if reading failed for any reason (server#34021)
  * Do not output a warning when a file is not found (server#34089)
  * Convert file_metadata.id from intto bigint (server#34090)
  * Reset global search on files sidebar navigation change (server#34106)
  * Dont try email login if the provider username is not a valid email (server#34111)
  * Fix translation of user exists error server-side (server#34112)
  * Update ca-cert bundle (server#34128)
  * Clear search results when remove search query (server#34159)
  * Show long names correctly on profile card (server#34228)
  * Bump moment-timezone from 0.5.34 to 0.5.37 (server#34259)
  * Correctly handle Redis::keys returning false (server#34341)
  * Fix empty content of dashboard (activity#924)
  * Update christophwurst/nextcloud dependency (activity#931)
  * Migrate to nextcloud/OCP package in stable24 (activity#937)
  * Update nextcloud/ocp dependency (activity#942)
  * Migrate to nextcloud/OCP package in stable24 (firstrunwizard#746)
  * Migrate to nextcloud/OCP package in stable24 (logreader#792)
  * Migrate to nextcloud/OCP package in stable24 (nextcloud_announcements#110)
  * Update nextcloud/ocp dependency (nextcloud_announcements#114)
  * Fix checking for links finally (notifications#1277)
  * Update christophwurst/nextcloud dependency (notifications#1284)
  * Migrate to nextcloud/OCP package in stable24 (notifications#1294)
  * Update nextcloud/ocp dependency (notifications#1297)
  * Revert “Revert “fix service-worker”” (photos#1220)
  * Migrate to nextcloud/OCP package in stable24 (serverinfo#403)
  * Migrate to nextcloud/OCP package in stable24 (survey_client#149)
  * Build(deps-dev): bump @cypress/webpack-preprocessor from 5.12.0 to 5.12.2 (text#2819)
  * Append a newline after inserted image (text#2864)
  * Fix: update link menububble on editor updates (text#2874)
  * Update: tiptap and prosemirror (text#2909)
  * Fix emoji autocompletion keyboard behaviour (text#2911)
  * Fixes focus handling in MenuBar (text#2916)
  * Align popover menus to the left on mobile (text#2917)
  * Build(deps): bump @tiptap/extension-table from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2935)
  * Build(deps): bump @tiptap/extension-italic from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2936)
  * Build(deps): bump @tiptap/extension-history from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2938)
  * Build(deps): bump @tiptap/extension-task-item from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2940)
  * Build(deps): bump @tiptap/extension-horizontal-rule from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2941)
  * Build(deps): bump @tiptap/extension-table-header from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2942)
  * Build(deps): bump @tiptap/extension-image from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2943)
  * Build(deps): bump @tiptap/extension-heading from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2944)
  * Build(deps): bump @tiptap/extension-bold from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2945)
  * Build(deps): bump @tiptap/extension-table-row from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2946)
  * Build(deps): bump @tiptap/extension-paragraph from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2948)
  * Build(deps): bump @tiptap/suggestion from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2950)
  * Build(deps): bump @tiptap/extension-underline from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2953)
  * Build(deps): bump @tiptap/extension-dropcursor from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2954)
  * Build(deps): bump @tiptap/extension-code-block from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2956)
  * Build(deps): bump @tiptap/extension-strike from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2957)
  * Build(deps): bump @tiptap/extension-text from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2958)
  * Build(deps): bump @tiptap/extension-list-item from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2959)
  * Build(deps): bump @tiptap/extension-task-list from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2960)
  * Build(deps): bump @tiptap/extension-code from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2961)
  * Build(deps): bump @tiptap/extension-document from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2962)
  * Build(deps): bump @tiptap/extension-hard-break from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2963)
  * Build(deps): bump @tiptap/extension-ordered-list from 2.0.0-beta.194 to 2.0.0-beta.195 (text#2964)
  * Update: all of tiptap (text#2966)
  * Make it possible to insert heif/heic images (text#2975)
  * Build(deps): bump @tiptap/extension-code-block from 2.0.0-beta.195 to 2.0.0-beta.196 (text#2996)
  * Build(deps): bump @tiptap/core from 2.0.0-beta.195 to 2.0.0-beta.196 (text#2997)
  * Build(deps): bump @tiptap/extension-history from 2.0.0-beta.195 to 2.0.0-beta.196 (text#2998)
  * Build(deps): bump @tiptap/extension-table-header from 2.0.0-beta.195 to 2.0.0-beta.196 (text#2999)
  * Build(deps): bump @tiptap/extension-blockquote from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3000)
  * Build(deps): bump @tiptap/extension-bold from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3001)
  * Build(deps): bump @tiptap/extension-table-row from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3002)
  * Build(deps): bump @tiptap/extension-task-item from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3003)
  * Build(deps): bump @tiptap/suggestion from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3004)
  * Build(deps): bump @tiptap/extension-code from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3005)
  * Build(deps): bump @tiptap/extension-italic from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3006)
  * Build(deps): bump @tiptap/extension-document from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3007)
  * Build(deps): bump @tiptap/extension-text from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3008)
  * Build(deps): bump @tiptap/extension-paragraph from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3009)
  * Build(deps): bump @tiptap/extension-table-cell from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3011)
  * Build(deps): bump @tiptap/extension-table from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3012)
  * Build(deps): bump @tiptap/extension-horizontal-rule from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3013)
  * Build(deps): bump @tiptap/extension-strike from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3014)
  * Build(deps): bump @tiptap/extension-dropcursor from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3015)
  * Build(deps): bump @tiptap/extension-ordered-list from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3016)
  * Build(deps): bump @tiptap/extension-hard-break from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3017)
  * Build(deps): bump @tiptap/vue-2 from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3019)
  * Build(deps): bump @tiptap/extension-code-block-lowlight from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3020)
  * Build(deps): bump @tiptap/extension-heading from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3021)
  * Build(deps): bump @tiptap/extension-image from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3022)
  * Build(deps): bump @tiptap/extension-list-item from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3023)
  * Build(deps): bump @tiptap/extension-bullet-list from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3024)
  * Build(deps): bump @tiptap/extension-task-list from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3025)
  * Build(deps): bump @tiptap/extension-underline from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3026)
  * Build(deps): bump @tiptap/extension-link from 2.0.0-beta.195 to 2.0.0-beta.196 (text#3027)
  * Disable formatting menububble in Safari on iOS (text#3056)
  * Migrate to nextcloud/OCP package in stable24 (text#3061)
  * Update nextcloud/ocp dependency (text#3115)
  * Build(deps): bump @nextcloud/dialogs from 3.1.2 to 3.1.4 (viewer#1389)
  * Create psalm.yml (viewer#1399)

-------------------------------------------------------------------
Fri Sep 16 05:47:01 UTC 2022 - Petr Vanek <petr@yarpen.cz>

- Fix php-bcmath package version recommendation in case of PHP 8

-------------------------------------------------------------------
Thu Sep  8 15:37:59 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 24.0.5
  - Recover installation when creating the database user fails and improve password strength (server#33514)
  - Unify initial and updated quota display (server#33538)
  - Fix updating size when folder is empty (server#33562)
  - Optimize search post-processing for jail wrapper (server#33603)
  - Further pre-filter search result before setting up share source cache (server#33604)
  - Fix encryption:fix-encrypted-version command when encrypted is set to 0 (server#33636)
  - Bump marked from 4.0.13 to 4.0.19 (server#33642)
  - Respect user settings in php.ini if they are big enough (server#33644)
  - Improve handling of profile page (server#33648)
  - Fix carddav activities (server#33651)
  - Directly build the search filter for shared storage instead of setting up the source cache (server#33656)
  - Update psalm-baseline.xml (server#33663)
  - Fix plural usage in LDAP wizard (server#33667)
  - Update CRL (server#33676)
  - Logger ignore args of sharepoint-related methods (server#33689)
  - Add back TokenCleanupJob to invalidate old temporary tokens (server#33696)
  - Fix copy in view-only mode (server#33720)
  - Remove leading slash for search results at mountpoint root (server#33749)
  - Check calendar URI length before creation (server#33782)
  - Compare lowercase email when updating from ldap (server#33920)
  - Revert “Compare lowercase email when updating from ldap” (server#33935)
  - Update christophwurst/nextcloud dependency (activity#883)
  - Update .l10nignore (activity#885)
  - Fix translation ignore (activity#889)
  - Update christophwurst/nextcloud dependency (activity#896)
  - Ignore remnants (circles#1128)
  - Update christophwurst/nextcloud dependency (circles#1139)
  - Fix background email job for disabled users (notifications#1256)
  - Fix duplicate ID on settings page (notifications#1262)
  - Fix service-worker (photos#1214)
  - Revert “fix service-worker” (photos#1217)
  - Build(deps-dev): bump eslint-plugin-jsdoc from 39.3.4 to 39.3.6 (text#2800)
  - Build(deps): bump prosemirror-markdown from 1.9.3 to 1.9.4 (text#2820)
  - Revert “build(deps): bump prosemirror-markdown from 1.9.3 to 1.9.4” (text#2870)

-------------------------------------------------------------------
Thu Aug 11 15:46:46 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 24.0.4
  - Bump underscore from 1.12.0 to 1.12.1 (server#31984)
  - Allow compatibility wrapper on local external storage (server#32273)
  - Bump vue-router from 3.5.3 to 3.5.4 (server#32840)
  - Bump handlebars-loader from 1.7.1 to 1.7.2 (server#33096)
  - DAV custom props: catch Exception and rollback transaction in case (server#33132)
  - Fix empty address books being exported (server#33178)
  - Fix listening for circle events in SetupManager (server#33212)
  - Also use nextcloud certificate bundle when downloading from s3 (server#33252)
  - Translate error when user already exists (server#33262)
  - Fix loading legacy app.php with multi app dir (server#33276)
  - Always triger setup of builtin storage wrappers (server#33326)
  - Fix reading blob data as resource (server#33343)
  - Reset user status based on message ID only (server#33350)
  - Bump sabre dav to 4.4.0 in stable24 (server#33352)
  - Improve local IP detection (server#33353)
  - Bump dompurify from 2.3.8 to 2.3.10 (server#33363)
  - Don’t try to purge objects from the birthday calendar when it doesn’t exist (server#33364)
  - Bump jsdoc from 3.6.10 to 3.6.11 (server#33369)
  - Bump @nextcloud/moment from 1.2.0 to 1.2.1 (server#33370)
  - Don’t set `null` as a bundle path (server#33382)
  - Handle AccessDenied error when checking if external s3 support versions (server#33391)
  - Handle one time and large passwords (server#33407)
  - Add share attributes + prevent download permission (server#33416)
  - Bump clipboard from 2.0.10 to 2.0.11 (server#33438)
  - Fix file public link permissions if public upload is not enabled (server#33439)
  - Bump jquery-ui from 1.13.1 to 1.13.2 (server#33441)
  - Revert “Revert “Remove inefficient fed share scanner”” (server#33455)
  - Do not update passwords if nothing changed (server#33490)
  - Bump sabre/dav to 4.4.0 (3rdparty#1109)
  - Add psalm (circles#1108)
  - Ignore circle with no initiator (circles#1123)
  - Build(deps-dev): bump cypress from 9.6.0 to 9.6.1 (text#2694)
  - Build(deps): bump prosemirror-view from 1.26.4 to 1.26.5 (text#2695)
  - Build(deps): bump @tiptap/core from 2.0.0-beta.181 to 2.0.0-beta.182 (text#2696)
  - Do not unintended remove or modify link titles (text#2701)
  - Build(deps): bump core-js from 3.23.3 to 3.23.5 (text#2727)
  - Make cypress CI faster (text#2728)
  - Build(deps): bump @nextcloud/dialogs from 3.1.2 to 3.1.4 (text#2746)
  - Build(deps): bump prosemirror-schema-list from 1.2.0 to 1.2.1 (text#2747)
  - Fix bullet list input role for CJK input (text#2753)
  - Build(deps-dev): bump eslint-plugin-jsdoc from 39.3.3 to 39.3.4 (text#2767)
  - Merge pull request #1273 from nextcloud/enh/open_with (viewer#1296)
  - Fix bundling in stable24 (viewer#1308)

-------------------------------------------------------------------
Mon Jul 18 17:08:05 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 24.0.3
  - Fix cropped image generated when not asked (server#32483)
  - Fix loading groupfolder info when share api is disabled (server#32654)
  - Validate custom dashboard background image (server#32791)
  - Bump webpack from 5.72.0 to 5.72.1 (server#32819)
  - Update psalm-baseline.xml (server#32824)
  - Fix deletion of additional emails (server#32850)
  - Don’t spam the log with fatals when maintenance mode is enabled or an… (server#32858)
  - Run php tests when 3rdparty changed (server#32870)
  - Make sure ResetTokenBackgroundJob doesn’t execute if config is read-only (server#32882)
  - Fix default toast message for failed uploads with HTTP/2 (server#32894)
  - Mention missing files subdir (server#32920)
  - Fix profiler trying to serialize invalid utf8 (server#32939)
  - Fix email shares not being shown to other users (server#32940)
  - Do not display the buffer_size info if the size is already set to a c… (server#32968)
  - Use stored user for PasswordUpdatedEvent (server#32974)
  - Fix logging data context to file (server#32983)
  - Fix hook encryption with cron job (server#32986)
  - Improve local domain detection (server#32990)
  - Load dashboard widgets of enabled apps only (server#32997)
  - Bump guzzlehttp/guzzle from 7.4.0 to 7.4.5 (server#33009)
  - Update guzzlehttp/guzzle requirement from 7.4.4 to 7.4.5 in /build/integration (server#33019)
  - Bump sass from 1.50.0 to 1.50.1 (server#33026)
  - Rename setting name to reduce its length (server#33028)
  - Fix metadata extraction (server#33049)
  - Check whether entry is of type ICacheEntry in Cache->remove() (server#33058)
  - Fix undefined when no tags (server#33062)
  - Fix detection of firefox in ContentSecurityPolicyNonceManager (server#33069)
  - Add trashbin export expiration notice (server#33077)
  - Enable binary protocol again (server#33078)
  - Update sabre/dav requirement from 4.3.1 to 4.4.0 in /build/integration (server#33092)
  - Remove .php from ajax url (server#33113)
  - Fix translation of home breadcrumb (server#33119)
  - Fixes for quota text in navigation bar (server#33125)
  - Fix branch selection (server#33138)
  - Do not send display name twice for saving (server#33143)
  - Update psalm-baseline.xml (server#33149)
  - Fix trashbin expiration notice casing (server#33155)
  - Only ignore attempts of the same action (server#33157)
  - Bump guzzlehttp/guzzle from 7.4.0 to 7.4.5 (3rdparty#1090)
  - Fix one hardcoded string (circles#1100)
  - Avoid using non-existing \OCP\Server::get (circles#1106)
  - Ensure the content takes the whole height when we hide the footer (files_pdfviewer#612)
  - Fix footer not hidden when Talk sidebar is shown (files_pdfviewer#616)
  - Shuffle before validating (password_policy#364)
  - Timeline: Do not take VirtualGrid out of DOM to avoid infinite loop (photos#1118)
  - Fix external storage support (photos#1125)
  - Stable24 / Upgrade dependencies (text#2610)
  - Build(deps): bump prosemirror-view from 1.26.1 to 1.26.2 (text#2623)
  - Build(deps): bump prosemirror-state from 1.4.0 to 1.4.1 (text#2624)
  - Text: fix cypress selector to find the right image (text#2626)
  - Build(deps): bump @tiptap/extension-code-block from 2.0.0-beta.41 to 2.0.0-beta.42 (text#2640)
  - Build(deps): bump @tiptap/extension-task-item from 2.0.0-beta.36 to 2.0.0-beta.37 (text#2641)
  - Build(deps): bump @tiptap/extension-dropcursor from 2.0.0-beta.28 to 2.0.0-beta.29 (text#2642)
  - Build(deps): bump @tiptap/extension-link from 2.0.0-beta.42 to 2.0.0-beta.43 (text#2643)
  - Build(deps): bump core-js from 3.23.2 to 3.23.3 (text#2644)
  - Build(deps): bump prosemirror-view from 1.26.2 to 1.26.3 (text#2645)
  - Build(deps): bump @tiptap/core from 2.0.0-beta.180 to 2.0.0-beta.181 (text#2646)
  - Build(deps): bump @tiptap/vue-2 from 2.0.0-beta.83 to 2.0.0-beta.84 (text#2647)
  - Build(deps): bump @tiptap/suggestion from 2.0.0-beta.96 to 2.0.0-beta.97 (text#2648)
  - Build(deps): bump @tiptap/extension-code-block-lowlight from 2.0.0-beta.72 to 2.0.0-beta.73 (text#2649)
  - Build(deps): bump @tiptap/extension-horizontal-rule from 2.0.0-beta.35 to 2.0.0-beta.36 (text#2650)
  - Build(deps): bump @tiptap/extension-placeholder from 2.0.0-beta.52 to 2.0.0-beta.53 (text#2651)
  - Build(deps): bump @tiptap/extension-history from 2.0.0-beta.25 to 2.0.0-beta.26 (text#2652)
  - Build(deps): bump @tiptap/extension-table from 2.0.0-beta.53 to 2.0.0-beta.54 (text#2654)
  - Fix: return promise in cypress command to wait for it (text#2659)
  - Backport/stable24/2326 update eslint config (text#2666)
  - Backport link fixes to stable24 (text#2672)
  - Fix: only show delete image button when editing (text#2673)
  - Use better wording in english to allow easier gender neutral translations (text#2674)
  - Avoid loading the image before the node view (text#2675)
  - Fix/dav (text#2676)
  - Trigger event on content change in syncservice (text#2679)
  - Update prosemirror dependencies (text#2680)
  - Fix: use own workspace endpoint instead of PROPFIND properties (text#2682)
  - Remove invalid leading slash in blank.mp4 path (viewer#1270)
  - Always use the main background for the default theme (viewer#1280)

-------------------------------------------------------------------
Mon Jun 20 19:16:15 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 24.0.2
  - Bump dompurify from 2.3.6 to 2.3.8 (server#32416)
  - Bump @testing-library/vue from 5.8.2 to 5.8.3 (server#32419)
  - Remove storage wrappers when deleting the user storage (server#32444)
  - Adjust wording for database checks (server#32457)
  - Fix backgroundjobs mode (server#32470)
  - Properly calculate primary element based on background luminance (server#32510)
  - Fix crop condition (server#32513)
  - Fix handling events without names in activities (server#32585)
  - Improve warning about missing pnctl (server#32603)
  - Fix status handling (server#32619)
  - Move Gd failed operations to debug level (server#32621)
  - Update guzzlehttp/guzzle requirement from 7.4.2 to 7.4.3 in /build/integration (server#32638)
  - Update 3rdparty for symfony/translation:4.4.41 (server#32650)
  - Handle non existing settings again (server#32657)
  - Add a method to get estimated export size in IMigrator (server#32664)
  - Fix Nextcloud Android app not showing proper name (server#32668)
  - Fix share permissions rendering (server#32674)
  - Allow use of rememberme cookies for IApacheAuth backends (server#32677)
  - More meaningfull message when a public authenticated share’s password is wrong or has expired. (server#32683)
  - Make sure activities are not created when a deleted calendar object expires (server#32692)
  - Trim mount point before matching in encryption code (server#32705)
  - Store unencrypted size in the unencrypted_size column (server#32708)
  - Cleanup temporary files after finishing the write to object storage (server#32710)
  - Always log errors from sending federation api requests to ease debugging (server#32750)
  - Add new share attributes column (server#32752)
  - Make X-HAS-{MD5/SHA256} opt-in (server#32758)
  - Temporary passwords fixes 31952 (server#32764)
  - Fix get avatar authorization (server#32770)
  - Handle stream wrappers in SeekableHttpStream (server#32776)
  - Add back the deleted.png file (server#32786)
  - Update psalm-baseline.xml (server#32794)
  - Fix mounts mounted at the users home (server#32801)
  - Properly import maintenance script (server#32802)
  - Perform onetime setup earlier to ensure wrappers are registered on time (server#32811)
  - Update guzzlehttp/guzzle requirement from 7.4.3 to 7.4.4 in /build/integration (server#32822)
  - Fix exception handling when profile data is too long (server#32833)
  - Fix issue #31692 of occ files:scan (server#32841)
  - Fix replacing external storage password during debug log (server#32842)
  - Revert “Remove inefficient fed share scanner” (server#32848)
  - Correctly log failed attempts (server#32854)
  - Fix logger overwriting vars in some circumstances (server#32904)
  - Bump symfony/translation to 4.4.41 (3rdparty#1042)
  - Save parameters also in the notifications (activity#814)
  - Limit the $limit to a maximum of 200 (activity#816)
  - ConfirmKey must be uuid (circles#1053)
  - Create CODEOWNERS (notifications#1211)
  - Build(deps): bump prosemirror-view from 1.23.12 to 1.23.13 (text#2407)
  - Build(deps): bump @tiptap/extension-task-item from 2.0.0-beta.31 to 2.0.0-beta.32 (text#2408)
  - Build(deps): bump @nextcloud/moment from 1.2.0 to 1.2.1 (text#2410)
  - Ci: only run php unit tests when php files changed (text#2414)
  - Add support for different encodings (text#2416)
  - Build(deps): bump @tiptap/core from 2.0.0-beta.174 to 2.0.0-beta.176 (text#2423)
  - Build(deps): bump @tiptap/suggestion from 2.0.0-beta.90 to 2.0.0-beta.92 (text#2424)
  - Build(deps): bump @tiptap/extension-link from 2.0.0-beta.36 to 2.0.0-beta.38 (text#2425)
  - Changes menu entry. (text#2427)
  - Build(deps): bump @tiptap/extension-table from 2.0.0-beta.48 to 2.0.0-beta.49 (text#2436)
  - Improve image attachment management (text#2444)
  - Do not register text/csv mimetype when office can handle it (text#2453)
  - Fix non-working hard line breaks (text#2487)
  - Encode file to UTF-8 on fetch call (text#2498)
  - An empty string is a valid encoded result (text#2501)
  - Bring back inline code support (text#2507)
  - Use modern API to cancel requests (viewer#1249)

-------------------------------------------------------------------
Thu May 19 20:20:46 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 24.0.1
  - Bump karma-spec-reporter from 0.0.33 to 0.0.34 (server#31985)
  - Tell mysql to ignore the sort index for search queries (server#32123)
  - Update description of cronjob settings to be aligned to the documenta… (server#32133)
  - Fix showing of all apps are up-to-date in apps management (server#32153)
  - Fx translations with trailing colon (server#32159)
  - Fix social sharing buttons (server#32181)
  - Revert “Show the child folders in the breadcrumb menu when on a parent entry.” (server#32219)
  - Use sabre function directly rather than duplicating it (server#32236)
  - Revert “Revert “Make the order of reactions reliable”” (server#32241)
  - Include more emoji chars to test and fixes after include it (server#32256)
  - Expose shareWithDisplayNameUnique also on autocomplete endpoint (server#32275)
  - Don’t use hash to check if binding worked (server#32282)
  - Fix preview generator trying to recreate an existing folder (server#32320)
  - Fix for transferring ownership of groupfolders (server#32329)
  - Add share search tweaks (server#32360)
  - Don’t unjail the path when getting the storage info (server#32365)
  - Increase retry delay on ‘Wait for S3’ CI job (server#32368)
  - Bump karma from 6.3.17 to 6.3.20 (server#32386)
  - Bump moment from 2.29.2 to 2.29.3 (server#32402)
  - Fix user agent trimming on installation (server#32414)
  - Show user account on grant loginflow step (server#32415)
  - Only log diagnostic events if a treshhold is set (server#32424)
  - Replace isValidEmoji by method in EmojiHelper (server#32437)
  - Add Email validation (server#32472)
  - Switch to getOption() (circles#1042)
  - Add new diagram templates (example-files#23)
  - Adapt layout after viewer update (files_pdfviewer#597)
  - Update phpunit workflows (files_pdfviewer#599)
  - Prevent video file downloads when there is a download limit (files_videoplayer#275)
  - Fix password generation (password_policy#357)
  - Fix FreeBsd Interface parsing (serverinfo#373)
  - Switch to auto table layout (text#2375)
  - Use ‘(n)’ suffix instead of timestamp prefix for uploaded image names (text#2377)
  - Manually get a mounted instance of the file if needed during lock/unlock (text#2380)
  - Fix attachment cleanup when file names contain parenthesis (text#2389)
  - Build(deps-dev): bump cypress from 9.5.3 to 9.5.4 (text#2402)
  - Build(deps-dev): bump @vue/vue2-jest from 27.0.0-alpha.4 to 27.0.0 (text#2405)
  - Fix viewer integration styling (text#2419)
  - Revert “Revert “Improve preloading”” (viewer#1237)
  - Revert “Revert “Revert “Improve preloading””” (viewer#1238)
  - Fix design update after 5 vue components upgrade (viewer#1239)
  - Improve preloading (viewer#1240)

-------------------------------------------------------------------
Tue May  3 14:51:48 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update 24.0.0
  - User migration
  - Smart file locking
  - 4x lower db load
  - Reactions & media tab in Talk
  - Reply to calls & messages in Desktop client
  - Undo send & schedule emails

  Read announcement blog for all the the details:
  https://nextcloud.com/blog/nextcloud-hub-24-is-here/

-------------------------------------------------------------------
Sun Apr 24 20:30:06 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 23.0.4
  - Run tests with primary object storage in CI + large upload fixes (server#31453)
  - User_ldap fix ldap connection resets #31421 (server#31514)
  - Validate overwrite.cli.url to be a url in setup check (server#31518)
  - Fix duplicated UUID detection when there are empty uuids (server#31521)
  - Fix occ user:add-app-password (server#31536)
  - Fix the logger that is imported for critical actions (server#31540)
  - Toggle profile globally (server#31624)
  - Improve imagick, bcmath and gmp extension warnings (server#31634)
  - Add optional WebDav propfind properties to count sub elements (server#31641)
  - Fix listeners declaration in case of occ usage (server#31656)
  - Do not forget DB table prefix with truncate query (server#31666)
  - Limit the length of app password names (server#31678)
  - Add OPcache recommendations to Transifex (server#31705)
  - Bump babel-loader from 8.2.3 to 8.2.4 (server#31721)
  - Add oauth2_clients migration for Owncloud (server#31730)
  - Don’t create cards_abiduri it if already exists (server#31733)
  - Show that the web updater is not recommended on big instances (server#31740)
  - Add direct arg to login flow (server#31748)
  - Wrap oauth2 migrations inside conditions (server#31774)
  - Fix assignment of the LDAP Wizard connection (server#31785)
  - Fix ldap wizard styling (server#31804)
  - Bump guzzlehttp/psr7 from 1.8.3 to 1.8.5 (server#31821)
  - Ignore errors when searching for bundled preview (server#31831)
  - Deduplicate storage ids in list before reusing (server#31835)
  - Dont re-query fileinfo when getting dav quota (server#31836)
  - Take permissions from multiple paths into account for share permissions (server#31846)
  - Log in audit log federated shares events (server#31856)
  - Update autoloaders and Node package-lock.json (server#31862)
  - Fix incorrect if conditions in View (server#31878)
  - Do not decorate the CLI output if it’s explicitly turned off (server#31880)
  - Fix _App::getCurrentApp() when being called from CLI or phpunit (server#31882)
  - Bump moment from 2.29.1 to 2.29.2 (server#31913)
  - Fix shared mount roots not being returned from getSharesInFolder (server#31923)
  - Confirm user is internal to globalscale (server#31940)
  - AmazonS3: allow not implemented versioning (server#31946)
  - Fix accept/reject remote share action (server#31949)
  - Update CRL after revocation of socialsharing_telegram.csr (server#31955)
  - Fix LDAP Dark Theme Issue (server#31968)
  - Bump guzzlehttp/psr7 from 1.8.3 to 1.8.5 (3rdparty#1016)
  - Fallback to the admin settings if the user did not configure it (activity#781)
  - Bypass/limit permissions (circles#1001)
  - Update memberships on path change (circles#1007)
  - Check owner attendance (circles#1010)
  - Remove child shares (circles#1015)
  - Update displayName (circles#1017)
  - Oracle support (circles#978)
  - Limit some feature when Circles is managed by an app (circles#982)
  - Use stable23 for oci tests (circles#985)
  - Missing $prec (circles#995)
  - Update population (circles#997)
  - Disable social recommendation (firstrunwizard#693)
  - Fix settings navigation order (firstrunwizard#697)
  - Bump babel-loader from 8.2.3 to 8.2.4 (privacy#752)
  - Build(deps): bump prosemirror-view from 1.23.7 to 1.23.9 (text#2233)
  - Build(deps): bump prosemirror-view from 1.23.9 to 1.23.10 (text#2259)
  - Build(deps): bump prosemirror-view from 1.23.10 to 1.23.11 (text#2274)
  - Fix: menu bubble size at the end of the line (text#2277)
  - Build(deps): bump prosemirror-view from 1.23.11 to 1.23.12 (text#2286)
  - Properly cancel and reset ongoing streams when unmounting (viewer#1208)

-------------------------------------------------------------------
Mon Mar 21 13:10:13 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 23.0.3
  - Allow writing audit log to syslog and systemdlog (server#30852)
  - Allow to disable AuthToken v1 (server#30949)
  - Add primary key for ratelimit table (server#30965)
  - Bump samba images in tests (server#30967)
  - Update variables.scss - Fallback font before Noto Color Emoji (server#30969)
  - Show if the mail server settings are not set or verified (server#30998)
  - Use the unjailed-path in OC_Helper::getStorageInfo() for files located in SharedStorage. (server#30999)
  - Fix: Birthday events missing after reimporting contacts (server#31000)
  - Bump clipboard from 2.0.9 to 2.0.10 (server#31023)
  - Fix bugs with incorrect currentFileList in the favorite and share by you view (server#31050)
  - Allow specify a config prefix for another database connection (server#31059)
  - Don't provide favorite activity settings (server#31084)
  - Only setup part of the filesystem for appdata requests (server#31098)
  - Allow sub-admins to access delegated settings. (server#31102)
  - Ignore contact interaction with self (server#31120)
  - Fix overlapping buttons in apps-management (server#31179)
  - Fix typo in DAV namespace registration (server#31183)
  - Fix a broken tooltip (server#31184)
  - Improve user status revert performance (server#31192)
  - Fix path handling when transferring incoming shares (server#31204)
  - Bump dompurify from 2.3.5 to 2.3.6 (server#31226)
  - Improve caching policy use immutable when loading versionned assets (server#31244)
  - Hide download button for images (server#31253)
  - Don't redirect when loading files index page (server#31255)
  - Consider only reminders with calendar data (server#31262)
  - Also cache non-existing to reuse it (server#31297)
  - Ignore cache in occ ldap:check-ldap command (server#31299)
  - Wrap S3 multipart upload exception (server#31302)
  - Fix ldap:check-user method for newly created LDAP users (server#31306)
  - Avoid PHP errors in the checkers drone step (server#31313)
  - Background job time windows (server#31318)
  - Mark split database configs as sensitive (server#31331)
  - Update CRL after revocation of rocket_integration.csr (server#31350)
  - Bump backbone from 1.4.0 to 1.4.1 (server#31369)
  - Make Sabre File exception messages translatable (server#31392)
  - Censor more configs (server#31399)
  - Don't set up full filesystem to check for certificates (server#31401)
  - Also use hashed/indexed column on delete (server#31402)
  - Fix caching of the user avatar (server#31410)
  - Fix duplicate primary email message (server#31412)
  - Fix developer link (server#31423)
  - Fix fileactions for sharing overview (server#31424)
  - Prevent default right-click options when hideDownload is enabled (server#31427)
  - Fix return type of avatar file (server#31432)
  - Fix "Nextcloud is not allowed to use the OPcache API" warning (server#31437)
  - Add Nextcloud docs link to OPcache recommends (server#31438)
  - Be conservative when reading from fresh created column (server#31442)
  - Init user's file system if not existing on ownership transfer (server#31445)
  - Use persistent connections when connecting to redis (server#31450)
  - Fix settings error message timeout (server#31457)
  - Connectivity check: allow using the protocol in 'connectivity_check_domains' (server#31479)
  - Add option to disallow creation of local storages (server#31481)
  - Fix too many file download notifications when watching a video (server#31485)
  - Fix new file menu (server#31490)
  - Fix listeners declaration in case of occ usage (server#31529)
  - Fix user status not resetting correctly after a call (server#31543)
  - Prevent reading key on SFTP stat bool (server#31547)
  - Fix more than 1000 entries in queries exception in CardDavBackend (server#31550)
  - Update CRL after revoke deckimportfromtrello.csr (server#31618)
  - Revert "Fix listeners declaration in case of occ usage" (server#31642)
  - Try to reduce the load from writing (activity#731)
  - Allow specify a config prefix for another database connection (activity#735)
  - Adjust nextcloud lib version (activity#739)
  - Make background job time insensitive (activity#741)
  - Fix cached circle returning bool before being parsed as JSON (circles#932)
  - MembershipsService -> membershipService (circles#934)
  - Block/force circle types (circles#938)
  - Set member as INVITED only if not external (circles#940)
  - Allow configuration of one single password per circle (circles#944)
  - Display spent time on request (circles#949)
  - Lighter SQL requests and compat with Oracle (circles#956)
  - Update population (circles#959)
  - Fix PrimaryKey on circles_event (circles#965)
  - Fix import (circles#970)
  - Only refresh notifications once with notify push (notifications#1155)
  - Improve mass notification processing (notifications#1156)
  - Bump url-parse from 1.5.4 to 1.5.10 (photos#1043)
  - Fix privacy UI with subscription (privacy#707)
  - Bump vue-loader from 15.9.6 to 15.9.8 (privacy#712)
  - Bump @nextcloud/babel-config from 1.0.0-beta.1 to 1.0.0 (privacy#715)
  - Bump @babel/core from 7.13.15 to 7.13.16 (privacy#718)
  - Bump eslint-import-resolver-webpack from 0.13.0 to 0.13.2 (privacy#721)
  - Bump babel-loader from 8.2.2 to 8.2.3 (privacy#724)
  - Bump sass from 1.32.10 to 1.32.13 (privacy#731)
  - Bump vue and vue-template-compiler (privacy#732)
  - Bump eslint-config-standard from 16.0.2 to 16.0.3 (privacy#733)
  - Bump node-polyfill-webpack-plugin from 1.1.0 to 1.1.4 (privacy#734)
  - Bump eslint-webpack-plugin from 2.5.3 to 2.5.4 (privacy#738)
  - Add index for last_contact in text_sessions table (text#2147)
  - Use file.path to track EditorWrapper instances more accurately (text#2150)
  - Build(deps): bump prosemirror-transform from 1.3.3 to 1.3.4 (text#2159)
  - Fix: only apply bullet style to ul > li (text#2195)
  - Build(deps): bump prosemirror-view from 1.23.6 to 1.23.7 (text#2207)
  - Fix: update psalm baseline to account for changes in server (text#2208)
  - Derpgon cz fix/stable23/image data urls (text#2210)
  - Display content first and then load menus (text#2228)
  - Build(deps-dev): bump @babel/plugin-proposal-class-properties from 7.16.0 to 7.16.7 (viewer#1171)
  - Build(deps-dev): bump @nextcloud/webpack-vue-config from 4.1.0 to 4.1.4 (viewer#1174)
  - Build(deps): bump camelcase from 6.2.0 to 6.2.1 (viewer#1175)
  - Build(deps): bump @nextcloud/event-bus from 2.1.0 to 2.1.1 (viewer#1176)
  - Build(deps-dev): bump @cypress/browserify-preprocessor from 3.0.1 to 3.0.2 (viewer#1178)
  - Build(deps-dev): bump @nextcloud/eslint-config from 6.1.0 to 6.1.2 (viewer#1179)
  - Build(deps-dev): bump wait-on from 6.0.0 to 6.0.1 (viewer#1180)

-------------------------------------------------------------------
Wed Feb 16 06:40:32 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 23.0.2
  - Check for disk_free_space (server#29798)
  - Avoid use of iconv to get rid of unicode (server#29965)
  - Don't query the bruteforce attempts when we just deleted them (server#30026)
  - Fix input for groups validation in new user form (server#30144)
  - Reload page instead of file list when getting 401 authentification error (server#30151)
  - Allow to delete non-migrated previews instead of moving them (server#30175)
  - Fix relation "user_id" already exists migration error (server#30176)
  - Check resource before closing in encryption wrapper (server#30180)
  - Use correct icon for dir-external-root (server#30187)
  - Properly format sharing datepicker locale (server#30190)
  - Update guzzlehttp/guzzle requirement from 6.5.2 to 6.5.5 in /build/integration (server#30212)
  - Update sabre/dav requirement from 4.2.1 to 4.2.3 in /build/integration (server#30213)
  - Bump dompurify from 2.3.3 to 2.3.4 (server#30214)
  - Bump core-js from 3.19.2 to 3.19.3 (server#30215)
  - Don't check the configvalue for lastLogin which is never null (server#30236)
  - Support LDAP dns longer than 255 characters (server#30238)
  - Only wildcard search if enumeration is allowed (server#30245)
  - Fix setting up 2FA when no providers are set up but backup codes (server#30252)
  - Carefully filter out non matching time ranges for CalDAV search (server#30267)
  - Use bigint for autoincremented column (server#30272)
  - Fix ShareLink Upload UI for Folders (server#30289)
  - Use proper translation source for direct editing (server#30301)
  - Ignore non-existing groups when notifying group shares (server#30306)
  - Fix share owner not being displayed in sharing tab (server#30315)
  - Update sabre/dav requirement from 4.2.3 to 4.3.0 in /build/integration (server#30325)
  - Enhance and complement OPcache setup checks (server#30339)
  - Fix potential unwarranted memberships in nested groups from LDAP (server#30343)
  - Fix overlapping in the help settings section (server#30344)
  - Remove iconv from dependencies and tests (server#30351)
  - Fix persistent tooltip in the "new folder" input of the file picker (server#30356)
  - Don't die with LockedException when removing/restoring multiple files from trash (server#30390)
  - Improve personal settings on mobile (server#30411)
  - Fix rendering app authors with homepage or email (server#30431)
  - Add missing index for propertypath only queries of DAV properties (server#30433)
  - Handle external share with invalid host (server#30443)
  - Make sure to get file model in template picker (server#30449)
  - Improve status modal (server#30455)
  - Allow using composer plugin with composer 2.2 (server#30462)
  - Fix uploading text position (server#30480)
  - Run migrations fully when reenabling an app (server#30486)
  - Fix passing on the parameter (server#30522)
  - Fix email verification (server#30525)
  - Update CRL after revocation of sharerenamer.crt (server#30528)
  - Handle LocalServerException when scanning external shares (server#30557)
  - Fix fail when keys/files folder already exists (server#30576)
  - Use npm ci when running JS tests (server#30580)
  - Fix: only use jquery once it is available (server#30592)
  - Avoid zero division in setup checks (server#30594)
  - Prevent loading images that would require too much memory. (server#30602)
  - Fix undefined/unset scope in account properties (server#30611)
  - Fix RequestURL check for cli commands (server#30619)
  - Reset job disabling timer on adding the job again (server#30621)
  - Set the file's mtime from the headers in bulk upload (server#30623)
  - Trigger "changeDirectory" event on URL change (server#30627)
  - Properly abort uploads (server#30636)
  - Fix idn emails not working in shares (server#30643)
  - Implement multibucket shift for ObjectStore (server#30659)
  - Fix wrong unified search link to folder (server#30662)
  - Fix primary key change in user_ldap migration (server#30663)
  - Improve accessibility settings on mobile (server#30671)
  - Fix file picker not respecting hidden files settings (server#30672)
  - Add version of disabled apps when available (server#30674)
  - Optimize FileSystemTags workflow for groupfolder (server#30684)
  - Fix users can't login external mount user entered credentials not set (server#30685)
  - Remove inefficient fed share scanner (server#30688)
  - New Files internal link GET param to avoid opening the file (server#30689)
  - UpdateEncryptedVersion: cleanup on target if cache already got renamed (server#30695)
  - Improve layout for the public download page (server#30698)
  - Fix loading of the text app in public shared links (server#30722)
  - Fix non-ascii characters present in the header (server#30728)
  - Hash job argument (server#30734)
  - Increase email main buttons width for non-english languages (server#30740)
  - Improve install process (server#30747)
  - Create block-merge-freeze.yml (server#30753)
  - Log bruteforce throttle and blocking (server#30759)
  - Always call flush() as getAllKeys() is broken (server#30773)
  - Add KerberosApacheAuth support to files_external (server#30782)
  - Update sabre/dav requirement from 4.3.0 to 4.3.1 in /build/integration (server#30799)
  - Bump jquery-ui from 1.13.0 to 1.13.1 (server#30800)
  - Fix accessing undefined offsets (server#30811)
  - Fix psalm not running (server#30814)
  - 23.0.1 Final (server#30840)
  - Fix php:cs (server#30847)
  - Prevent merging on EOL branches (server#30872)
  - Fixes occ user:info when the user never logged in (server#30890)
  - Bump dompurify from 2.3.4 to 2.3.5 (server#30911)
  - Bump clipboard from 2.0.8 to 2.0.9 (server#30912)
  - Bump webpack-cli from 4.9.1 to 4.9.2 (server#30913)
  - Fix psalm warning related to registerEventListener (server#30915)
  - Update version.php (server#30975)
  - Fix duplicated UUID migration issue (server#31107)
  - Revert the 'broken' public page changes (server#31108)
  - Disable bulk upload by not advertising it (server#31171)
  - Create block-merge-freeze.yml (3rdparty#971)
  - Fix sorting of filters on php 8.0+ (activity#715)
  - Filter allowed type of member (circles#865)
  - Lighten select for single circle (circles#867)
  - Bypass moderator check on CFG_FRIEND (circles#873)
  - Better display of federated user (circles#876)
  - Strtolower on mail address (circles#882)
  - Only returns population on direct request from the front-end or occ command (circles#885)
  - Enforce password on new share (circles#887)
  - Ignore exception to group sync (circles#894)
  - Exception on null token (circles#896)
  - L10n: Improved grammar (circles#898)
  - Create block-merge-freeze.yml (circles#907)
  - Fix loosing memberships in low depth (circles#914)
  - Remove shares during circles destruction, clean orphan shares on cron (circles#918)
  - Paginate Circles through OCS query parameters (circles#919)
  - GetSingleId(): string; (circles#922)
  - Bump actions (files_pdfviewer#530)
  - Bump @nextcloud/eslint-config from 6.1.0 to 6.1.2 (files_pdfviewer#534)
  - Bump @nextcloud/webpack-vue-config from 4.1.0 to 4.1.4 (files_pdfviewer#535)
  - Create block-merge-freeze.yml (files_pdfviewer#544)
  - Updating lint-php.yml workflow from template (files_pdfviewer#549)
  - Create block-merge-freeze.yml (files_rightclick#131)
  - Create block-merge-freeze.yml (files_videoplayer#256)
  - Fix overlapping buttons (firstrunwizard#652)
  - Create block-merge-freeze.yml (firstrunwizard#661)
  - Create block-merge-freeze.yml (logreader#636)
  - Create block-merge-freeze.yml (nextcloud_announcements#92)
  - Create block-merge-freeze.yml (notifications#1137)
  - Create block-merge-freeze.yml (password_policy#315)
  - Bump autoprefixer from 10.3.6 to 10.3.7 (photos#1009)
  - Bump @nextcloud/eslint-config from 6.1.0 to 6.1.2 (photos#1010)
  - Bump postcss-loader from 6.2.0 to 6.2.1 (photos#1011)
  - Bump @nextcloud/event-bus from 2.1.0 to 2.1.1 (photos#1012)
  - Bump @nextcloud/initial-state from 1.2.0 to 1.2.1 (photos#1013)
  - Fix default previews (photos#951)
  - Fix Tags: Don't display tags without photos (photos#960)
  - Update workflows (photos#981)
  - Bump @nextcloud/webpack-vue-config from 4.1.0 to 4.1.4 (photos#985)
  - Bump url-parse from 1.5.3 to 1.5.4 (photos#986)
  - Bump vue-router from 3.5.2 to 3.5.3 (photos#987)
  - Bump qs from 6.10.1 to 6.10.3 (photos#988)
  - Bump camelcase from 6.2.0 to 6.2.1 (photos#989)
  - Create block-merge-freeze.yml (photos#998)
  - Fix label of account name and hide parts with subscription (privacy#676)
  - Create block-merge-freeze.yml (privacy#684)
  - Update workflows (privacy#690)
  - Create block-merge-freeze.yml (recommendations#470)
  - Update test.yml (recommendations#473)
  - Create block-merge-freeze.yml (serverinfo#352)
  - Create block-merge-freeze.yml (survey_client#123)
  - Update mark input/paste rules to tiptap v2 regular expressions (text#1976)
  - Don't show "Link file" button when using direct edition (text#1979)
  - Make sure translations are detected (text#1984)
  - Fix only the first item gets tasklist-ified issue (text#2005)
  - Fix: use stable23 branch for cypress tests (text#2023)
  - Fix autofocus on empty documents without a node (Fixes: #1974) (text#2035)
  - Add stylelint to github actions (text#2041)
  - Fix: cypress login with new session feature (text#2046)
  - Bump @nextcloud/event-bus from 2.1.0 to 2.1.1 (text#2078)
  - Bump @nextcloud/initial-state from 1.2.0 to 1.2.1 (text#2081)
  - Bump @nextcloud/webpack-vue-config from 4.1.0 to 4.1.4 (text#2084)
  - Bump @cypress/browserify-preprocessor from 3.0.1 to 3.0.2 (text#2085)
  - Bump prosemirror-markdown from 1.6.0 to 1.6.2 (text#2086)
  - Bump @nextcloud/eslint-config from 6.1.0 to 6.1.2 (text#2088)
  - Bump prosemirror-view from 1.23.5 to 1.23.6 (text#2100)
  - Fix closing the editor modal in public folder view (text#2105)
  - Fix: 2020 let heading menu overflow workspace (text#2109)
  - Create block-merge-freeze.yml (text#2115)
  - Disable fade-out because of accessbility reasons (viewer#1066)
  - Fix german (Sie) translations comming from nextcloud-vue (viewer#1089)
  - Add cypress summary for easier branch protection mgmt (viewer#1094)
  - Add engines support for cypress tests (viewer#1099)
  - Always check for `OCA.Files` before using it (Fixes: #1106) (viewer#1108)
  - Disable swiping on viewer video controls (viewer#1114)
  - Disable swiping on viewer audio controls (viewer#1122)
  - Create block-merge-freeze.yml (viewer#1133)
  - Update lint-php.yml (viewer#1138)

-------------------------------------------------------------------
Fri Jan 28 11:06:31 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 23.0.1
  - No changelog from upstream at this time.

-------------------------------------------------------------------
Tue Nov 30 13:56:51 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 23.0.0
  - No changelog from upstream at this time.

-------------------------------------------------------------------
Tue Nov 16 08:19:48 UTC 2021 - Michael Ströder <michael@stroeder.com>

- Update to 22.2.3
  - Bump moment-timezone from 0.5.33 to 0.5.34 (server#29658)
  - Don't flash external storage mountpoints during the status check (server#29706)
  - Bump doctrine/dbal to 3.1.4 (server#29717)
  - Add composer patch (3rdparty#890)
  - Bump doctrine/dbal to 3.1.4 (3rdparty#895)

-------------------------------------------------------------------
Sat Nov 13 08:41:04 UTC 2021 - Michael Ströder <michael@stroeder.com>

- Update to 22.2.2
  - Single fix that could cause significant performance degradation:
    Fix missing token update #29682

-------------------------------------------------------------------
Thu Nov 11 18:30:26 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 22.2.1
  - Ensure that user and group IDs in LDAP's tables are also max 64chars (server#28968)
  - Fix Lots of Error: file_exists(): open_basedir restriction in effect.… (server#29016)
  - Change output format of Psalm to Github (server#29046)
  - Don't further setup disabled users when logging in with apache (server#29062)
  - Allow "TwoFactor Nextcloud Notifications" to pull the state of the 2FA again (server#29066)
  - Fix path of `file_get_contents` (server#29073)
  - Do not transfer shares for deleted users (server#29078)
  - Add a few sensitive config keys (server#29086)
  - Update the certificate bundle (server#29096)
  - Add button color variables (server#29113)
  - Generate a better optimized query for path prefix search filters (server#29121)
  - Set associative = true for cleanup job (server#29124)
  - Keep pw based auth tokens valid when pw-less login happens (server#29129)
  - Explicitly close source stream on local / encryption storage (server#29133)
  - Properly handle folder deletion on external s3 storage (server#29160)
  - Tokens without password should not trigger changed password invalidation (server#29162)
  - Add 'supported'-label to all supported apps (server#29183)
  - Keep group restrictions when reenabling apps after an update (server#29196)
  - Fix translated app details (server#29207)
  - Add documentation for files_no_background_scan (server#29217)
  - Don't setup the filesystem to check for a favicon we don't use anyway (server#29221)
  - Add proper message to created share not found (server#29225)
  - Fix background scan doc in config (server#29251)
  - Add configuration flag to disable the background job for files_trashbin (server#29262)
  - Add configuration flag to disable the background job for files_versions (server#29263)
  - Fix bug introduced on drag and drop external files (server#29283)
  - Get `filesize()` if `file_exists()` (server#29288)
  - Fix app upgrade (server#29301)
  - Fix cliping issues in alternative logging buttons (server#29311)
  - Avoid PHP errors when the LDAP attribute is not found (server#29316)
  - Fix basic auth for OAuth token endpoint (server#29341)
  - Fix login button alignment (server#29359)
  - Fix security issues when copying groupfolder with advanced ACL (server#29365)
  - Prevent duplicate auth token activity updates (server#29381)
  - Catch null path in share manager (server#29383)
  - Scheduling plugin not updating responding attendee status (server#29385)
  - Make calendar schedule options translatable (server#29389)
  - S3 external storage fixes (server#29391)
  - Fix federated scope not shown when public addressbook upload is disabled (server#29393)
  - Make the route name error more helpful (server#29398)
  - Bump babel-loader from 8.2.2 to 8.2.3 (server#29409)
  - Update behat/behat requirement from ~3.8.0 to ~3.9.0 in /build/integration (server#29410)
  - Handle files with `is_file` instead of `file_exists` (server#29415)
  - Fixes an undefined index when getAccessList returns an empty array (server#29419)
  - Backport #29260: Respect user enumeration settings in user status lists (server#29427)
  - Implement local filtering in file list (server#29442)
  - Detect mimetype by content only with content (server#29459)
  - Fix permissions when copying from ObjectStorage (server#29475)
  - Bump vue-router from 3.5.2 to 3.5.3 (server#29494)
  - Bump bootstrap from 4.6.0 to 4.6.1 (server#29495)
  - Update CRL (server#29503)
  - Limit parameter count per query in Cache.removeChildren (server#29506)
  - Fix/images php 8.0 (server#29519)
  - Revert split capability "AccountPropertyScopesFederationEnabled" (server#29528)
  - Expose send_password_by_mail via capabilities (server#29534)
  - Update update-psalm-baseline workflow (server#29549)
  - Do not retain VerifyUserData job when lookup server is not available (server#29562)
  - Bump @nextcloud/initial-state from 1.2.0 to 1.2.1 (server#29575)
  - Update behat/behat requirement from ~3.9.0 to ~3.10.0 in /build/integration (server#29578)
  - Handle empty directory drag-and-drop in Files UI (server#29597)
  - Fix HTML entity rendering in file comments sidebar (server#29598)
  - Reduce the sleep time in test-dummy-token handler (circles#816)
  - Dispatching event before the action (circles#825)
  - Bump version (files_pdfviewer#513)
  - Allow to open links in new tab (notifications#1078)
  - Fix deleting notifications with numeric user ID (notifications#1088)
  - Add integration tests for push registration (notifications#1095)
  - Restore old device signature so the proxy works again (notifications#1103)
  - Bump autoprefixer from 9.8.6 to 9.8.7 (photos#902)
  - Bump autoprefixer from 9.8.7 to 9.8.8 (photos#907)
  - Bump prosemirror-schema-list from 1.1.5 to 1.1.6 (text#1871)
  - Bump prosemirror-transform from 1.3.2 to 1.3.3 (text#1881)
  - Additional checks for workspace controller (text#1885)

-------------------------------------------------------------------
Thu Sep 30 20:00:12 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 22.2.0
  - Fix SQL type error (server#28531)
  - Allow to open any app in a standalone window (server#28594)
  - Fix encrypted version to 0 when finding unencrypted file (server#28603)
  - Only recommand for php-sodium on >= PHP 7.4 (server#28658)
  - Fix position of search bar (server#28670)
  - Fix S3 ObjectStore proxy option (server#28683)
  - NMC-464 Highlight the search term on no results (server#28685)
  - NMC-552 Move filename/size out of the download button (server#28697)
  - Fix user list infinite loading state in user settings (server#28701)
  - Pin Psalm version for security analysis (server#28705)
  - Bump css-vars-ponyfill from 2.4.6 to 2.4.7 (server#28712)
  - Check if SVG path is valid (server#28734)
  - Remove 2FA exemption from PublicPage annotation (server#28740)
  - Bump 3rdparty ref (server#28744)
  - Send attendence links to required and optinal attendees of an event without an RSVP (server#28748)
  - Bump 3rdparty ref (server#28752)
  - Fix trashbin files view sticky action bar (server#28769)
  - Make it possible to override the default collation on mysql (server#28777)
  - Allow users to choose a different email for notifications (server#28780)
  - Dashboard - fix touch layout (server#28781)
  - Scan the shared external storage source on access (server#28785)
  - Bump vue-clipboard2 from 0.3.1 to 0.3.2 (server#28801)
  - Add database ratelimiting backend (server#28814)
  - Fixes missing prefix to validate password reset token (server#28824)
  - Update .htaccess (php8+ and mod_lsapi) (server#28827)
  - Do not cache file ids in FileSystemTags inside group folders (server#28830)
  - Allow using of disabled password reset mechanism for special cases (server#28841)
  - The user always may modify their additional emails (server#28843)
  - Added support for transferring incoming file shares. (server#28844)
  - L10n: ignore packed js files from TX sync (server#28850)
  - Add config.php option for transfer ownership (server#28851)
  - L10n: Remove a text string from translation (server#28852)
  - Let user choose notification email in user settings (server#28855)
  - Add email addresses to contacts menu (server#28860)
  - Add new ExternalShareActions API (server#28865)
  - Fix files view change and undefined currentFileList (server#28878)
  - Fix file creation from template without ext (server#28881)
  - Bump vue-clipboard2 from 0.3.2 to 0.3.3 (server#28888)
  - Fall back to full file for video previews (server#28895)
  - Update CRL due to revoked twofactor_email.crt (server#28900)
  - Support seeking also from the end of file on S3 storage (server#28910)
  - Use IRoomMetadata as source of truth for supported room types (server#28919)
  - Bump 3rdparty ref (server#28928)
  - Allow upgrade from 22.2.0.0 to 22.2.0.1 (server#28945)
  - Fix caching of objectsid searches (server#28949)
  - Allow casting query functions (server#28953)
  - Fix check for redis minimal version (server#28954)
  - Don't allow to change activity settings that don't work (server#28962)
  - Bump app versions (server#28984)
  - Fix redirect during initial setup (server#28998)
  - Fix CI (3rdparty#758)
  - Bump Webauthn Lib to 3.3.9 (3rdparty#780)
  - Bump Archive_Tar to latest release (3rdparty#781)
  - Composer install (3rdparty#812)
  - Read the email from IUser (API) not guess from the DB (activity#637)
  - Increase activity email speed in instances with more than 500 users (activity#641)
  - Bump pdfjs-dist from 2.8.335 to 2.9.359 (files_pdfviewer#478)
  - Bump @nextcloud/babel-config from 1.0.0-beta.1 to 1.0.0 (files_pdfviewer#479)
  - Fix phpunit (files_pdfviewer#487)
  - Update workflows (files_pdfviewer#492)
  - Use setup-php v2 (files_pdfviewer#495)
  - Bump cli-progress from 3.9.0 to 3.9.1 (files_pdfviewer#504)
  - Fix illustrations (photos#876)
  - Bump @nextcloud/vue from 3.10.0 to 3.10.2 (photos#889)
  - Dependency updates (text#1835)
  - Bump prosemirror-markdown from 1.5.1 to 1.5.2 (text#1851)
  - Update dependabot (viewer#1013)

-------------------------------------------------------------------
Fri Aug 27 08:29:10 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 22.1.1
  - No changelog from upstream at this time.

-------------------------------------------------------------------
Wed Aug  4 10:36:49 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 22.1.0
  - Update guzzlehttp/guzzle requirement from 6.5.2 to 7.3.0 in 
    /build/integration (server#27654)
  - Bump vue and vue-template-compiler (server#27658)
  - Bump vue-router from 3.5.1 to 3.5.2 (server#27659)
  - Ignore subdomain for soa queries (server#27825)
  - Fix in locking cache check (server#27826)
  - Fixes recursion count incrementation (server#27848)
  - Make search popup usable on mobile, too (server#27856)
  - Cache images on browser (server#27861)
  - Fix add group button (server#27878)
  - Fix dark theme on public link shares (server#27889)
  - Make user status usable on mobile (server#27898)
  - Check if dns_get_record returns non-false (server#27925)
  - Correctly skip suppressed errors in PHP 8.0 (server#27938)
  - Fix newfileMenu on public page (server#27942)
  - Do not escape display name in dashboard welcome text (server#27944)
  - Fix svg icons disapearing in app navigation when text overflows (server#27957)
  - Revert "Update guzzlehttp/guzzle requirement from 6.5.2 to 7.3.0
    in /build/integration" (server#27959)
  - Also hide group from direct matches (server#27964)
  - Show registered breadcrumb detail views in breadcrumb menu (server#27966)
  - Fix regression in file sidebar (server#27974)
  - Allow to get a local cloud id without going through the contacts
    manager (server#27979)
  - Multiple Emails UI and Integration (server#28001)
  - Improve notcreatable permissions hint (server#28008)
  - Some multiselect design fixes (server#28011)
  - Only display supported email scopes (server#28014)
  - Update CRL due to revoked twofactor_nextcloud_notification.crt (server#28016)
  - Increase footer height for longer menus (server#28043)
  - Add titleTooltip to sidebar (server#28047)
  - Mask password for Redis and RedisCluster on connection failure (server#28053)
  - Fix missing theming for login button (server#28061)
  - Improve Emails UX (server#28071)
  - Fix overlapping of elements in certain views (server#28073)
  - Disable HEIC image preview provider for performance concerns (server#28079)
  - Improve provider check (server#28085)
  - Sanitize more functions from the encryption app (server#28089)
  - Hide download button for public preview of audio files (server#28093)
  - Fix dark theme in file exists dialog (server#28109)
  - Support redis user password auth and tls encryption (server#28112)
  - Bump @babel/core from 7.14.3 to 7.14.8 (server#28121)
  - Let memory limit set in tests fit the used amount (server#28123)
  - Bump @nextcloud/babel-config from 1.0.0-beta.1 to 1.0.0 (server#28126)
  - Allow empty Redis config (server#28131)
  - Add an option to the multiple files selected actions to add and
    remov… (server#28135)
  - Bump css-vars-ponyfill from 2.4.3 to 2.4.5 (server#28149)
  - Make sure that the dav propfind plugins always use the proper
    user id (server#28152)
  - Admin Audit - Sharing: createShare - report the full path (server#28167)
  - Fix sort function of files multiple selection actions (server#28168)
  - User management - Add icon to user groups (server#28170)
  - Bump @babel/preset-env from 7.14.7 to 7.14.8 (server#28177)
  - Bump sass from 1.35.1 to 1.35.2 (server#28179)
  - Bump autosize from 4.0.2 to 4.0.4 (server#28181)
  - Fix variable override in file view (server#28193)
  - Fix comments file action sidebar opening (server#28197)
  - Set openfile params when following internal links (server#28215)
  - Fix Files breadcrumbs being hidden even if there is enough
    space (server#28222)
  - Dont apply jail search filter is on the root (server#28228)
  - Fix missing label of Search function (server#28244)
  - Add missing order attribute to tag multiselect action (server#28247)
  - Update guzzlehttp/guzzle requirement from 6.5.2 to 6.5.5 in 
    /build/integration (server#28269)
  - Bump css-loader from 5.2.6 to 5.2.7 (server#28270)
  - Bump css-vars-ponyfill from 2.4.5 to 2.4.6 (server#28272)
  - Bump regenerator-runtime from 0.13.7 to 0.13.9 (server#28273)
  - Fix "Enable notification emails" (activity#611)
  - Show add, del and restored files within by and self filter (activity#614)
  - Only call getCloudId if needed (activity#618)
  - Link from app-navigation-settings to personal settings (activity#623)
  - Remove echo (circles#688)
  - Returns files shared to Personal (circles#698)
  - Make cs-fix/cs-check (circles#699)
  - Cs fix (circles#700)
  - Backport of 704 (circles#708)
  - Avoid timeout on check (circles#709)
  - Better probe (circles#714)
  - Removing hidden flag by default (circles#717)
  - Generate probe if needed (circles#719)
  - Adding unified search (circles#721)
  - Detect source of search (circles#724)
  - Remove root circles from search for new members (circles#727)
  - Sending mail on new shares (circles#729)
  - GetDefinition (circles#732)
  - Cloud_force_base (circles#737)
  - Fixing notification and mails (circles#738)
  - Remote inherited and memberships (circles#740)
  - Sendmail on new fileshare (circles#741)
  - Fix phpdoc+lint (circles#742)
  - Better display of mail addresses (circles#744)
  - Limit non-local circles as members of local circles (circles#747)
  - Local stays local (circles#749)
  - Local circles starts local (circles#751)
  - Throw instead of doing nothing (circles#754)
  - Send mails to inherited members on GS (circles#755)
  - Optional details on Link (circles#757)
  - Include and config path in loopback (circles#759)
  - Cleaning old code (circles#761)
  - Migration to 22.1.0 - child shares (circles#762)
  - Fix pdfviewer design (files_pdfviewer#445)
  - Include version number in firstrunwizard (firstrunwizard#568)
  - Remove timeout of browser notifications (notifications#1049)
  - Some Design fixes (text#1711)
  - Unify error responses and add logging where appropriate (text#1717)
  - Bump eslint-plugin-import from 2.23.3 to 2.23.4 (text#1734)
  - Bump @babel/core from 7.14.3 to 7.14.6 (text#1739)
  - Fix: rich workspaces overlap with new file dropdown (text#1769)
  - Azul/fix links 1676 (text#1775)
  - Extend mimetypes for direct editing (text#1781)
  - Bump @vue/test-utils from 1.2.1 to 1.2.2 (text#1792)
  - Make occ command return an integer as return code (text#1797)
  - Custom input rule to add first character after bullet
    (Backport #1798) (text#1806)
  - Fix: cypress icon close selector (text#1808)
  - Disable header timeout on mobile (viewer#977)

-------------------------------------------------------------------
Tue Jul  6 19:58:39 UTC 2021 - ecsos <ecsos@opensuse.org>

- Fix some scriptlet and their output text.

-------------------------------------------------------------------
Tue Jul  6 14:22:09 UTC 2021 - Michael Ströder <michael@stroeder.com>

- Update to 22.0.0
  - User-defined groups with Circles that makes it easier to manage teams 
    where you can share files or assign tasks to circles, or create chat 
    rooms for a circle
  - Integrated chat and task management where you can simply share a deck 
    card into a chat room or turn a chat message into a task
  - Easy approval workflow, where an administrator can define a new 
    approval flow in the settings and users can, on a document, request 
    approval
  - Getting your document signatures easy with integrated PDF signing with 
    DocuSign, EIDEasy, and LibreSign
  - Integrated knowledge management Nextcloud puts knowledge available to 
    everyone at a moments' notice, providing easy search, sharing, and 
    portable access
  - Groupware improvements bringing a trash bin feature in Calendar, 
    resource booking to facilitate the handling of resources in 
    organizations. Nextcloud Mail features improved threading, email tagging, 
    and support for Sieve filtering

-------------------------------------------------------------------
Thu Jul  1 18:34:13 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 21.0.3
  - Don't break OCC if an app is breaking in it's Application class (server#26879)
  - Bump handlebars from 4.7.6 to 4.7.7 (server#26905)
  - Bump url-parse from 1.4.7 to 1.5.1 (server#26911)
  - Bump lodash from 4.17.20 to 4.17.21 (server#26912)
  - Bump hosted-git-info from 2.8.8 to 2.8.9 (server#26918)
  - Fix occ command user:add-app-password (server#26952)
  - Add bruteforce protection to the shareinfo endpoint (server#26955)
  - Ignore readonly flag for directories (server#26964)
  - Throttle MountPublicLinkController when share is not found (server#26972)
  - Respect default share permissions for federated reshares (server#26999)
  - Harden apptoken check (server#27012)
  - Use parent wrapper to properly handle moves on the same source/target 
    storage (server#27015)
  - Fix log error when creating files from an empty template (server#27021)
  - Fix error when using CORS with no auth credentials (server#27028)
  - Fix filesize error on log rotation, if file does not exist (server#27058)
  - Avoid reading ~/.aws/config when using S3 provider (server#27097)
  - Fix return value of getStorageInfo when 'quota_include_external_storage'
    is enabled (server#27107)
  - Move remnants of ocs api requests to v2 endpoint (server#27109)
  - Add DB exception '@throws' tag to QBMapper PHPDoc (server#27121)
  - Improve type handling of Avatar::generateAvatarFromSvg (server#27124)
  - Bump patch dependencies (server#27184)
  - Fix the get editable fields endpoint without a user id (server#27195)
  - Use noreply@ as email address for share emails (server#27208)
  - Bump vue-loader from 15.9.6 to 15.9.7 (server#27231)
  - Bump moment-timezone from 0.5.32 to 0.5.33 (server#27237)
  - Bump browserslist from 4.16.0 to 4.16.6 (server#27248)
  - Bump ws from 7.3.1 to 7.4.6 (server#27250)
  - Properly use limit and offset for search in Jail wrapper (server#27303)
  - Make user:report command scale (server#27318)
  - Properly log expiration date removal in audit log (server#27324)
  - Emit UserLoggedInEvent on apache auth (server#27333)
  - Don't allow executing cli if cache backend is unavailable (server#27334)
  - Propagate throttling on OCS response (server#27336)
  - Replace OCSController with OCP\API (server#27346)
  - Don't throw when comments is disabled (server#27347)
  - Set umask before operations that create local files (server#27350)
  - Escape filename in Content-Disposition (server#27359)
  - Don't update statuses to offline again and again (server#27411)
  - Fix some php 8 warnings (server#27415)
  - Don't pass a column object to addOrderBy (server#27446)
  - Header must contain a colon (server#27455)
  - Only allow removing existing shares that would not be allowed due
    to reshare restrictions (server#27551)
  - Bump postcss from 7.0.35 to 7.0.36 (server#27569)
  - Properly cleanup entries of WebAuthn on user deletion (server#27599)
  - Throttle on public DAV endpoint (server#27616)
  - Bump dompurify from 2.2.8 to 2.2.9 (server#27622)
  - Unshift crash reports when they are loaded, to break the recusion (server#27670)
  - Validate the theming color also on CLI (server#27679)
  - LDAP: determine shares of offline users only when needed (server#27703)
  - Downstream encryption:fix-encrypted-version for repairing
   "bad signature" errors (server#27727)
  - Remove encodeURI code (files_pdfviewer#397)
  - Disable content copy for PDF files that specify it (files_pdfviewer#417)
  - Update openssl for PHP 8.0 (nextcloud_announcements#78)
  - Only ask for permissions on HTTPS (notifications#997)
  - Fix sorting if one of the file name is only composed with number (photos#784)
  - Update File.vue (photos#812)
  - Hide free space if it can't be calculated (serverinfo#295)
  - Update chart.js (serverinfo#308)
  - Only return workspace property for top node in a propfind request (text#1610)
  - Use text/plain as content type for fetching the document (text#1691)
  - Log exceptions that happen on unknown exception and return
    generic messages (text#1697)
  - Try enabling apcu on cli for cypress (text#1700)
  - Add fixup (viewer#923)
  - Fix: fullscreen for Firefox (viewer#928)
  - Use physical pixel size for preview resolution (viewer#937)

-------------------------------------------------------------------
Fri May  7 05:52:51 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 21.0.2
  - L10n: Add word user in FederatedShareProvider.php (server#26508)
  - Increase subnet matcher (server#26514)
  - Limit size of properties to 2048 characters (server#26525)
  - Fix accessibility issues on log in screen (server#26535)
  - Fix constraint violation detection in QB Mapper (server#26587)
  - Bump ssri from 6.0.1 to 6.0.2 (server#26604)
  - Add force option to app install command (server#26607)
  - Update root.crl due to revoked news.crt (server#26616)
  - Do not allow adding file drop shares to your own cloud (server#26621)
  - Fix empty password check for mail shares (server#26625)
  - Require read permissions for federated shares (server#26636)
  - Ensure redis returns bool for hasKey (server#26639)
  - Make lookup search explicit (server#26641)
  - Update psalm baseline (server#26653)
  - Fix broken Expiration test (server#26667)
  - Do not stop directory listing when ACL is blocking access (server#26677)
  - Mention MariaDB in MySQL support warning (server#26685)
  - Make Testcase class compatible with phpunit-9.5 (server#26690)
  - Explicitly check hex2bin input (server#26694)
  - Remove undefined parameter, add description (server#26702)
  - FIx Oracle by testing on Ubuntu 20.04 until oci8.so is available for … (server#26703)
  - Update icewind/smb to 3.4.1 (server#26704)
  - Bump @nextcloud/dialogs from 3.1.1 to 3.1.2 (server#26733)
  - Private cannot be final (server#26752)
  - Fix installer deprecation warnings for PHP 8 (server#26759)
  - Validate the website field input to be a valid URL (server#26760)
  - Respect the error level when logging (server#26766)
  - Improve federated permission handling (server#26770)
  - No longer add trusted servers on federated share creation (server#26778)
  - Fix ratelimit template (server#26789)
  - LDAP: do not bother to search after the last page (server#26797)
  - Fail when creating new files with an empty path (server#26808)
  - Only return display name as editable when the user backend allows it (server#26815)
  - Do not try to contact lookup server if not needed (server#26823)
  - Only perform login check during ownership transfer for encryption (server#26863)
  - Fix creating vcards with multiple string values (server#26865)
  - L10n: Spelling unification (server#26881)
  - Remove self setting checking which can not be set anymore (activity#574)
  - Ensure link names are unique for accessibility, thanks @nickvergessen, fix #575 (activity#578)
  - Use PNG images in daily activity summary emails (activity#584)
  - Fix accessibility issues in PDF pt. II (example-files#18)
  - Fix admin notification api (notifications#929)
  - Only push delete-push to devices that also got the notification (notifications#938)
  - Move counting storage statistics to the background (serverinfo#298)
  - Hide squashfs and overlay-FS from the overview (serverinfo#304)
  - Add download button in actions menu (viewer#849)
  - Limit scope of the icon white overwrite (viewer#858)
  - Fixes for naughty filenames (viewer#869)

-------------------------------------------------------------------
Thu Apr  8 18:01:21 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 21.0.1
  - No changelog from upstream at this time.
  - Switch requires from mysql to mariadb.
  - Now minimum require php is 7.3 and recommend 7.4.

-------------------------------------------------------------------
Fri Feb 19 15:00:15 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 21.0.0
  The biggest improvements we introduce with Nextcloud 21 are:
  - High Performance Back-end for Nextcloud Files: reduces server
    load from desktop clients and web interface polling by 90% 
    while delivering instant notifications to users.
  - And a wide range of performance improvements all over on top, 
    decreasing loading times of pages and reducing load on the server
  - Collaborative features: new Whiteboard, author colours in Text
    and Document Templates to increase team productivity
  - Nextcloud Talk: debuts message status indicators, a raise hand
    feature, a group conversation description and more!
  - A range of Groupware improvements like drag'n'drop and nicer
    threading in Mail and syncing social media avatars in Contacts.
  * BugFixes:
    https://github.com/nextcloud/server/milestone/120?closed=1
- Fix missing db things automatically at upgrade.

-------------------------------------------------------------------
Wed Feb  3 11:25:49 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 20.0.7
  - Catch NotFoundException when querying quota (server#25315)
  - CalDAV] Validate notified emails (server#25324)
  - Fix/app fetcher php compat comparison (server#25347)
  - Show the actual error on share requests (server#25352)
  - Fix parameter provided as string not array (server#25366)
  - The objectid is a string (server#25374)
  - 20.0.7 final (server#25387)
  - Properly handle SMB ACL blocking scanning a directory (server#25421)
  - Don't break completely when creating the digest fail for one user (activity#556)
  - Only attempt to use a secure view if hide download is actually set (files_pdfviewer#296)
  - Fix opening PDF files with special characters in their name (files_pdfviewer#298)
  - Fix PDF viewer failing on Edge (not based on Chromium) (files_pdfviewer#299)
  - Cannot unfold plain text notifications (notifications#846)
  - Remove EPUB mimetype (text#1391)

-------------------------------------------------------------------
Tue Jan 26 17:02:07 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 20.0.6
  - Make sure to do priority app upgrades first (server#25077)
  - Respect DB restrictions on number of arguments in statements and queries (server#25120)
  - Add a hint about the direction of priority (server#25143)
  - Do not redirect to logout after login (server#25146)
  - Fix comparison of PHP versions (server#25152)
  - Add "composer.lock" for acceptance tests to git (server#25178)
  - Update CRL due to revoked gravatar.crl (server#25190)
  - Don't log keys on checkSignature (server#25193)
  - Update 3rdparty after Archive_Tar (server#25199)
  - Bump CA bundle (server#25219)
  - Update handling of user credentials (server#25225)
  - Fix encoding issue with OC.Notification.show (server#25244)
  - Also use storage copy when dav copying directories (server#25261)
  - Silence log message (server#25263)
  - Extend ILDAPProvider to allow reading arbitrairy ldap attributes for users (server#25276)
  - Do not obtain userFolder of a federated user (server#25278)
  - Bump pear/archive_tar from 1.4.11 to 1.4.12 (3rdparty#603)
  - Add gitignore entry for .github folder of dependencies (3rdparty#604)
  - Clear event array on getting them (activity#551)

-------------------------------------------------------------------
Thu Jan 14 15:41:07 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 20.0.5
  - Don't log params of imagecreatefromstring (server#24546)
  - Use storage copy implementation when doing dav copy
    (server#24590)
  - Use in objectstore copy (server#24592)
  - Add tel, note, org and title search (server#24697)
  - Check php compatibility of app store app releases
    (server#24698)
  - Fix #24682]: ensure federation cloud id is retruned if FN
    property not found (server#24709)
  - Do not include non-required scripts on the upgrade page
    (server#24714)
  - LDAP: fix inGroup for memberUid type of group memberships
    (server#24716)
  - Cancel user search requests to avoid duplicate results being
    added (server#24728)
  - Also unset the other possible unused paramters (server#24751)
  - Enables the file name check also to match name of mountpoints
    (server#24760)
  - Fixes sharing to group ids with characters that are being url
    encoded (server#24763)
  - Limit getIncomplete query to one row (server#24791)
  - Fix Argon2 descriptions (server#24792)
  - Actually set the TTL on redis set (server#24798)
  - Allow to force rename a conflicting calendar (server#24806)
  - Fix IPv6 localhost regex (server#24823)
  - Catch the error on heartbeat update (server#24826)
  - Make oc_files_trash.auto_id a bigint (server#24853)
  - Fix total upload size overwritten by next upload (server#24854)
  - Avoid huge exception argument logging (server#24876)
  - Make share results distinguishable if there are more than one
    with the exact same display name (server#24878)
  - Add migration for oc_share_external columns (server#24963)
  - Don't throw a 500 when importing a broken ics reminder file
    (server#24972)
  - Fix unreliable ViewTest (server#24976)
  - Update root.crl due to revocation of transmission.crt
    (server#24990)
  - Set the JSCombiner cache if needed (server#24997)
  - Fix column name to check prior to deleting (server#25009)
  - Catch throwable instead of exception (server#25013)
  - Set the user language when adding the footer (server#25019)
  - Change defaultapp in config.sample.php to dashboard to improve
    docs and align it to source code (server#25030)
  - Fix clearing the label of a share (server#25035)
  - Update psalm-baseline.xml (server#25066)
  - Don't remove assignable column for now (server#25074)
  - Add setup check to verify that the used DB version is still
    supported… (server#25076)
  - Correctly set the user for activity parsing when preparing
    a notifica… (activity#542)
  - Bump vue-virtual-grid from 2.2.1 to 2.3.0 (photos#597)
  - Catch possible database exceptions when fetching document data
    (text#1221)
  - Make sure we have the proper PHP version installed before
    running composer (text#1234)
  - Revert removal of transformResponse (text#1235)
  - Bump prosemirror-view from 1.16.1 to 1.16.5 (text#1255)
  - Bump @babel/preset-env from 7.12.1 to 7.12.11 (text#1257)
  - Bump babel-loader from 8.1.0 to 8.2.2 (text#1259)
  - Bump eslint-plugin-standard from 4.0.2 to 4.1.0 (text#1261)
  - Bump vue-loader from 15.9.5 to 15.9.6 (text#1263)
  - Bump prosemirror-model from 1.12.0 to 1.13.1 (text#1265)
  - Bump core-js from 3.7.0 to 3.8.1 (text#1266)
  - Bump stylelint from 13.7.2 to 13.8.0 (text#1269)
  - Bump @babel/plugin-transform-runtime from 7.12.1 to 7.12.10
    (text#1271)
  - Bump sass-loader from 10.0.5 to 10.1.0 (text#1273)
  - Bump webpack-merge from 5.3.0 to 5.7.2 (text#1274)
  - Bump @babel/core from 7.12.3 to 7.12.10 (text#1277)
  - Bump cypress from 5.1.0 to 5.6.0 (text#1278)
  - Bump @vue/test-utils from 1.1.1 to 1.1.2 (text#1279)
  - Bump webpack-merge from 5.7.2 to 5.7.3 (text#1303)

-------------------------------------------------------------------
Tue Dec 15 08:21:19 UTC 2020 - ecsos <ecsos@opensuse.org>

- The apache subpackage must require the main package, otherwise it
  will not be uninstalled when the main package is uninstalled.

-------------------------------------------------------------------
Mon Dec 14 19:26:37 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 20.0.4
  - Avoid dashboard crash when accessibility app is not installed (server#24636)
  - Bump ini from 1.3.5 to 1.3.7 (server#24649)
  - Handle owncloud migration to latest release (server#24653)
  - Use string for storing a OCM remote id (server#24654)
  - Fix MySQL database size calculation (serverinfo#262)
  - Bump cypress-io/github-action@v2 (viewer#722)
  - Fix] sidebar opening animation (viewer#723)
  - Fix not.exist cypress and TESTING checks (viewer#725)

-------------------------------------------------------------------
Mon Dec 14 10:28:07 UTC 2020 - ecsos <ecsos@opensuse.org>

- Put apache configuration files in separate subpackage.

-------------------------------------------------------------------
Thu Dec 10 12:26:39 UTC 2020 - ecsos <ecsos@opensuse.org>

- Use apache-rpm-macros for SUSE.
- Change oc_* macros to nc_* macros.
- Insert macro apache_serverroot also in cron files.

-------------------------------------------------------------------
Thu Dec 10 10:28:40 UTC 2020 - Michael Ströder <michael@stroeder.com>

- Update to 20.0.3
  * Check quota of subdirectories when uploading to them (server#24181)
  * CircleId too short in some request (server#24196)
  * Missing level in ScopedPsrLogger (server#24212)
  * Fix nextcloud logo in email notifications misalignment (server#24228)
  * Allow selecting multiple columns with SELECT DISTINCT (server#24230)
  * Use file name instead of path in 'not allowed to share' message (server#24231)
  * Fix setting images through occ for theming (server#24232)
  * Use regex when searching on single file shares (server#24239)
  * Harden EncryptionLegacyCipher a bit (server#24249)
  * Update ScanLegacyFormat.php (server#24258)
  * Simple typo in comments (server#24259)
  * Use correct year for generated birthdays events (server#24263)
  * Delete files that exceed trashbin size immediately (server#24297)
  * Update sabre/xml to fix XML parsing errors (server#24311)
  * Only check path for being accessible when the storage is a object home (server#24325)
  * Avoid empty null default with value that will be inserted anyways (server#24333)
  * Fix contacts menu position and show uid as a tooltip (server#24342)
  * Fix the config key on the sharing expire checkbox (server#24346)
  * Set the display name of federated sharees from addressbook (server#24353)
  * Catch storage not available in versions expire command (server#24367)
  * Use proper bundles for files client and fileinfo (server#24377)
  * Properly encode path when fetching inherited shares (server#24387)
  * Formatting remote sharer should take protocol, path into account (server#24391)
  * Make sure we add new line between vcf groups exports (server#24443)
  * Fix public calendars shared to circles (server#24446)
  * Store scss variables under a different prefix for each theming config version (server#24453)
  * External storages: save group ids not display names in configuration (server#24455)
  * Use correct l10n source in files_sharing JS code (server#24462)
  * Set frame-ancestors to none if none are filled (server#24477)
  * Move the password fiels of chaging passwords to post (server#24478)
  * Move the global password for files external to post (server#24479)
  * Only attempt to move to trash if a file is not in appdata (server#24483)
  * Fix loading mtime of new file in conflict dialog in firefox (server#24491)
  * Harden setup check for TLS version if host is not reachable (server#24502)
  * Fix file size computation on 32bit platforms (server#24509)
  * Allow subscription to indicate that a userlimit is reached (server#24511)
  * Set mountid for personal external storage mounts (server#24513)
  * Only execute plain mimetype check for directories and do the fallback… (server#24517)
  * Fix vsprint parameter (server#24527)
  * Replace abandoned log normalizer with our fork (server#24530)
  * Add icon to user limit notification (server#24531)
  * Also run repair steps when encryption is disabled but a legacy key is present (server#24532)
  * [3rdparty][security] Archive TAR to 1.4.11 (server#24534)
  * Generate a new session id if the decrypting the session data fails (server#24553)
  * Revert "Do not read certificate bundle from data dir by default" (server#24556)
  * Dont use system composer for autoload checker (server#24557)
  * Remember me is not an app_password (server#24563)
  * Do not load nonexisting setup.js (server#24582)
  * Update sabre/xml to fix XML parsing errors (3rdparty#529)
  * Use composer v1 on CI (3rdparty#532)
  * Bump pear/archive_tar from 1.4.9 to 1.4.11 (3rdparty#536)
  * Replace abandoned log normalizer with our fork (3rdparty#543)
  * Allow nullable values as subject params (activity#535)
  * Don't log when unknown array is null (notifications#803)
  * Feat/virtual grid (photos#550)
  * Make sure we have a string to localecompare to (photos#583)
  * Always get recommendations for dashboard if enabled (recommendations#336)
  * Properly fetch oracle database information (serverinfo#258)
  * Also register to urlChanged event to update RichWorkspace (text#1181)
  * Move away from GET (text#1214)

-------------------------------------------------------------------
Thu Nov 19 11:01:56 UTC 2020 - Michael Ströder <michael@stroeder.com>

- Update to 20.0.2

  * Inidicate preview availability in share api responses (server#23419)
  * CalDavBackend: check if timerange is array before accessing (server#23563)
  * Some emojis are in CHAR_CATEGORY_GENERAL_OTHER_TYPES (server#23575)
  * Also expire share type email (server#23583)
  * Only use index of mount point when it is there (server#23611)
  * Only retry fetching app store data once every 5 minutes in case it fails (server#23633)
  * Bring back the restore share button (server#23636)
  * Fix updates of NULL appconfig values (server#23641)
  * Fix sharing input placeholder for emails (server#23646)
  * Use bigint for fileid in filecache_extended (server#23690)
  * Enable theming background transparency (server#23699)
  * Fix sharer flag on ldap:show-remnants when user owned more than a single share (server#23702)
  * Make sure the function signatures of the backgroundjob match (server#23710)
  * Check if array elements exist before using them (server#23713)
  * Fix default quota display value in user row (server#23726)
  * Use lib instead if core as l10n module in OC_Files (server#23727)
  * Specify accept argument to avatar upload input field (server#23732)
  * Save email as lower case (server#23733)
  * Reset avatar cropper before showing (server#23736)
  * Also run the SabreAuthInitEvent for the main server (server#23745)
  * Type the \OCP\IUserManager::callForAllUsers closure with Psalm (server#23749)
  * Type the \OCP\AppFramework\Services\IInitialState::provideLazyInitial… (server#23751)
  * Don't overwrite the event if we use it later (server#23753)
  * Inform the user when flow config data exceeds thresholds (server#23759)
  * Type the \OCP\IUserManager::callForSeenUsers closure with Psalm (server#23763)
  * Catch errors when closing file conflict dialog (server#23774)
  * Document the backend registered events of LDAP (server#23779)
  * Fetch the logger and system config once for all query builder instances (server#23787)
  * Type the event dispatcher listener callables with Psalm (server#23789)
  * Only run phpunit when "php" changed (server#23794)
  * Remove bold font-weight and lower font-size for empty search box (server#23829)
  * No need to check if there is an avatar available, because it is gener… (server#23846)
  * Ensure filepicker list is empty before populating (server#23850)
  * UserStatus: clear status message if message is null (server#23858)
  * Fix grid view toggle in tags view (server#23874)
  * Restrict query when searching for versions of trashbin files (server#23884)
  * Fix potentially passing null to events where IUser is expected (server#23894)
  * Make user status styles scoped (server#23899)
  * Move help to separate stylesheet (server#23900)
  * Add default font size (server#23902)
  * Do not emit UserCreatedEvent twice (server#23917)
  * Bearer must be in the start of the auth header (server#23924)
  * Fix casting of integer and boolean on Oracle (server#23935)
  * Skip already loaded apps in loadApps (server#23948)
  * Fix repair mimetype step to not leave stray cursors (server#23950)
  * Improve query type detection (server#23951)
  * Fix iLike() falsely turning escaped % and _ into wildcards (server#23954)
  * Replace some usages of OC_DB in OC\Share\* with query builder (server#23955)
  * Use query builder instead of OC_DB in trashbin (server#23971)
  * Fix greatest/least order for oracle (server#23975)
  * Fix link share label placeholder not showing (server#23992)
  * Unlock when promoting to exclusive lock fails (server#23995)
  * Make sure root storage is valid before checking its size (server#23996)
  * Use query builder instead of OC_DB in OC\Files\* (server#23998)
  * Shortcut to avoid file system setup when generating the logo URL (server#24001)
  * Remove old legacy scripts references (server#24004)
  * Fix js search in undefined ocs response (server#24012)
  * Don't leave cursors open (server#24033)
  * Fix sharing tab state not matching resharing admin settings (server#24044)
  * Run unit tests against oracle (server#24049)
  * Use png icons in caldav reminder emails (server#24050)
  * Manually iterate over calendardata when oracle is used (server#24058)
  * Make is_user_defined nullable so we can store false on oracle (server#24079)
  * Fix default internal expiration date enforce (server#24081)
  * Register new command db:add-missing-primary-keys (server#24106)
  * Convert the card resource to a string if necessary (server#24114)
  * Don't throw on SHOW VERSION query (server#24147)
  * Bump dompurify to 2.2.2 (server#24153)
  * Set up FS before querying storage info in settings (server#24156)
  * Fix default internal expiration date (server#24159)
  * CircleId too short in some request (server#24178)
  * Revert "circleId too short in some request" (server#24183)
  * Missing level in ScopedPsrLogger (server#24212)
  * Fix activity spinner on empty activity (activity#523)
  * Add OCI github action (activity#528)
  * Disable download button by default (files_pdfviewer#257)
  * Feat/dependabot ga/stable20 (firstrunwizard#442)
  * Fix loading notifications without a message on oracle (notifications#796)
  * Do not setup appdata in constructor to avoid errors causing the whole instance to stop working (text#1105)
  * Bump eslint-plugin-standard from 4.0.1 to 4.0.2 (text#1125)
  * Bump sass-loader from 10.0.1 to 10.0.5 (text#1134)
  * Bump webpack from 4.44.1 to 4.44.2 (text#1140)
  * Bump dependencies to version in range (text#1164)
  * Validate link on click (text#1166)
  * Add migration to fix oracle issues with the database schema (text#1177)
  * Bump cypress from 4.12.1 to 5.1.0 (text#1179)
  * Fix URL escaping of shared files (viewer#681)
  * Fix component click outside and cleanup structure (viewer#684)

-------------------------------------------------------------------
Sat Oct 24 08:37:20 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 20.0.1
  No changelog from upstream at this time.

-------------------------------------------------------------------
Sat Oct  3 10:31:15 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 20.0.0
  * Changes
    The three biggest features we introduce with Nextcloud 20 are:
    - Our new dashboard provides a great starting point for the day
      with over a dozen widgets ranging from Twitter and Github to 
      Moodle and Zammad already available
    - Search was unified, bringing search results of Nextcloud apps
      as well as external services like Gitlab, Jira and Discourse
      in one place
    - Talk introduced bridging to other platforms including MS Teams,
      Slack, IRC, Matrix and a dozen others
    * Some other improvements we want to highlight include:
      - Notifications and Activities were brought together, making 
        sure you won’t miss anything important
      - We added a ‘status’ setting so you can communicate to other
        users what you are up to
      - Talk also brings dashboard and search integration, emoji picker,
        upload view, camera and microphone settings, mute and more
      - Calendar integrates in dashboard and search, introduced a list 
        view and design improvements
      - Mail introduces threaded view, mailbox management and more
      - Deck integrates with dashboard and search, introduces Calendar
        integration, modal view for card editing and series of smaller 
        improvements
      - Flow adds push notification and webhooks so other web apps
        can easily integrate with Nextcloud
      - Text introduced direct linking to files in Nextcloud
      - Files lets you add a description to public link shares
  + Read the full announcement on our blog
- Upgrade apps during update process.

-------------------------------------------------------------------
Thu Sep 10 15:20:27 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 19.0.3
  - Fix possible leaking scope in Flow (server#22410)
  - Combine body-login rules in theming and fix twofactor and guest styling on bright colors (server#22427)
  - Show better quota warning for group folders and external storage (server#22442)
  - Add php docs build script (server#22448)
  - Fix clicks on actions menu of non opaque file rows in acceptance tests (server#22503)
  - Fix writing BLOBs to postgres with recent contacts interaction (server#22515)
  - Set the mount id before calling storage wrapper (server#22519)
  - Fix S3 error handling (server#22521)
  - Only disable zip64 if the size is known (server#22537)
  - Change free space calculation (server#22553)
  - Do not keep the part file if the forbidden exception has no retry set (server#22560)
  - Fix app password updating out of bounds (server#22569)
  - Use the correct root to determinate the webroot for the resource (server#22579)
  - Upgrade icewind/smb to 3.2.7 (server#22581)
  - Bump elliptic from 6.4.1 to 6.5.3 (notifications#732)
  - Fixes regression that prevented you from toggling the encryption flag (privacy#489)
  - Match any non-whitespace character in filesystem pattern (serverinfo#229)
  - Catch StorageNotAvailable exceptions (text#1001)
  - Harden read only check on public endpoints (text#1017)
  - Harden check when using token from memcache (text#1020)
  - Sessionid is an int (text#1029)
  - Only overwrite Ctrl-f when text is focussed (text#990)
  - Set the X-Requested-With header on dav requests (viewer#582)

-------------------------------------------------------------------
Fri Aug 28 11:22:36 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 19.0.2
  - [stable19] lower minimum search length to 2 characters (server#21782)
  - [stable19] Call openssl_pkey_export with $config and log errors. (server#21804)
  - [stable19] Improve error reporting on sharing errors (server#21806)
  - [stable19] Do not log RequestedRangeNotSatisfiable exceptions in DAV (server#21840)
  - [stable19] Fix parsing of language code (server#21857)
  - [stable19] fix typo in revokeShare() (server#21876)
  - [stable19] Discourage webauthn user interaction (server#21917)
  - [stable19] Encryption is ready if master key is enabled (server#21935)
  - [stable19] Disable fragile comments tests (server#21939)
  - [stable19] Do not double encode the userid in webauthn login (server#21953)
  - [stable19] update icewind/smb to 3.2.6 (server#21955)
  - [stable19] Respect default share permissions (server#21967)
  - [stable19] allow admin to configure the max trashbin size (server#21975)
  - [stable19] Fix risky test in twofactor_backupcodes (server#21978)
  - [stable19] Fix PHPUnit deprecation warnings (server#21981)
  - [stable19] fix moving files from external storage to object store trashbin (server#21983)
  - [stable19] Ignore whitespace in sharing by mail (server#21991)
  - [stable19] Properly fetch translation for remote wipe confirmation dialog (server#22036)
  - [stable19] parse_url returns null in case a parameter is not found (server#22044)
  - Bump elliptic from 6.5.2 to 6.5.3 (server#22050)
  - [stable19] Correctly remove usergroup shares on removing group members (server#22053)
  - [stable19] Fix height to big for iPhone when using many apps (server#22064)
  - [stable19] reset the cookie internally in new API when abandoning paged results op (server#22069)
  - [stable19] Add Guzzle's InvalidArgumentException (server#22070)
  - [stable19] contactsmanager shall limit number of results early (server#22091)
  - [stable19] Fix browser freeze on long password input (server#22094)
  - [stable19] Search also the email and displayname in user mangement for groups (server#22118)
  - [stable19] Ensured large image is unloaded from memory when generating previews (server#22121)
  - [stable19] fix display of remote users in incoming share notifications (server#22131)
  - [stable19] Reuse cache for directory mtime/size if filesystem changes can be ignored (server#22171)
  - [stable19] Remove unexpected argument (server#22178)
  - [stable19] Do not exit if available space cannot be determined on file transfer (server#22181)
  - [stable19] Fix empty 'more' apps navigation after installing an app (server#22183)
  - [stable19] Fix default log_rotate_size in config.sample.php (server#22192)
  - [stable19] shortcut in reading nested group members when IN_CHAIN is available (server#22203)
  - [stable19] Fix chmod on file descriptor (server#22208)
  - [stable19] Do clearstatcache() on rmdir (server#22209)
  - [stable19] SSE enhancement of file signature (server#22210)
  - [stable19] remove logging message carrying no valuable information (server#22215)
  - [stable19] Add app config option to disable "Email was changed by admin" activity (server#22232)
  - [stable19] Delete chunks if the move on an upload failed (server#22239)
  - [stable19] Silence duplicate session warnings (server#22247)
  - [3rdparty] Doctrine: Fix unquoted stmt fragments backslash escaping (server#22252)
  - [stable19] Allow to disable share emails (server#22300)
  - [stable19] Show disabled user count in occ user:report (server#22302)
  - Bump 3rdparty to last stable19 commit (server#22303)
  - [stable19] fixing a logged deprecation message (server#22309)
  - [stable19] CalDAV: Add ability to limit sharing to owner (server#22333)
  - [stable19] Only copy the link when updating a share or no password was forced (server#22337)
  - [stable19] Remove encryption option for nextcloud external storage (server#22341)
  - [stable19] l10n:Correct appid for WebAuthn (server#22348)
  - [stable19] Properly search for users when limittogroups is enabled (server#22355)
  - [stable19] SSE: make legacy format opt in (server#22381)
  - [stable19] Update the CRL (server#22387)
  - [stable19] Fix missing FN from federated contact (server#22400)
  - [stable19] fix event icon sizes and text alignment (server#22414)
  - [stable19] Bump stecman/symfony-console-completion from 0.8.0 to 0.11.0 (3rdparty#457)
  - [stable19] Add Guzzle's InvalidArgumentException (3rdparty#474)
  - [stable19] Doctrine: Fix unquoted stmt fragments backslash escaping (3rdparty#486)
  - [stable19] Fix cypress (viewer#545)
  - Move to webpack vue global config & bump deps (viewer#558)

-------------------------------------------------------------------
Wed Jul 15 20:58:34 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 19.0.1
  - Security update
    Fix (CVE-2020-8183, NC-SA-2020-026, CWE-256)
    A logic error in Nextcloud Server 19.0.0 caused a plaintext 
    storage of the share password when it was given on the initial
    create API call.
- No changelog from upstream at this time.

-------------------------------------------------------------------
Wed Jun  3 17:49:51 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 19.0.0
  * Changes
    Nextcloud Hub v19, code name “home office”, represents a big step forward 
    for remote collaboration in teams. 
    This release brings document collaboration to video chats,
    introduces password-less login and improves performance.

    As this is a major release, the changelog is too long to put here. 
    Users can look at github milestones to find what has been merged. 
    A quick overview of what is new:

    - password-less authentication and many other security measures
    - Talk 9 with built-in office document editing courtesy of Collabora, a grid view & more
    - MUCH improved performance, Deck integration in Calendar, guest account groups and more!

-------------------------------------------------------------------
Wed May 13 15:40:10 UTC 2020 - ecsos <ecsos@opensuse.org>

- Add missing security issues for 18.0.3:
    Fix (CVE-2020-8154, NC-SA-2020-018, boo#1171579) and
        (CVE-2020-8155, NC-SA-2020-019, boo#1171572)
- Add missing changelog for 18.0.4

-------------------------------------------------------------------
Thu Apr 23 05:23:41 UTC 2020 - ecsos@opensuse.org

- Update to 18.0.4
  - [stable18] Use contacts name on federated activities (server#19879)
  - [stable18] Allow to edit admin/own user in the user management (server#19882)
  - [stable18] Fix hostname in Apple configuration profile (server#19884)
  - [stable18] Don't break when one remote share is down (server#19886)
  - [stable18] Properly emit Viewer event on files and files_sharing (server#19897)
  - [stable18] Get correct mimetype on objectstores (server#19916)
  - [stable18] Properly respect hide download on sharebymail (server#19921)
  - [stable18] Use placeholder values for password fields in external storage webui (server#19922)
  - [stable18] Do not use the instance name as user part of from mail addresses (server#19924)
  - [stable18] Don't allow anchors and queries in remote urls (server#19933)
  - [stable18] fix external storage controller tests (server#19940)
  - Bump acorn from 6.3.0 to 6.4.1 (server#19945)
  - [stable18] properly set 'hide_download' as integer (server#19950)
  - [stable18] fix safari useragent for versions with 3 digits (server#19966)
  - [stable18] Fix default action for deleted shares (server#19982)
  - [stable18] Default value of lookupServerEnabled should be the same everywhere (server#19998)
  - [stable18] Only do regular polling of storage statistics if session_keepalive is enabled (server#19999)
  - [stable18] Fix single "ScopeContext" passed to "setScopes" (server#20001)
  - [stable18] Fix invalid instantiation of TemplateResponse if client not found (server#20008)
  - [stable18] Update the target when it isempty after sharing (server#20016)
  - [stable18] remove the requirement that everything that looks like a placeholder … (server#20021)
  - [stable18] Handle long dav property paths by hashing them (server#20030)
  - [stable18] Allow the video player on the hide download (server#20044)
  - [stable18] fixes auto-detecting UUID attributes (server#20046)
  - [stable18] Force compatible dependency versions in acceptance tests (server#20051)
  - [stable18] Adjust acceptance tests to incoming shares being accepted by default (server#20060)
  - [stable18] fix OCA\DAV\CalDAV\CalDavBackend search $options (server#20102)
  - [stable18] fix dav browser error page not styled (server#20104)
  - [stable18] Fix language multiselect action (server#20136)
  - [stable18] Remove admin_notifications since it is obsolete since Nextcloud 14 (server#20140)
  - [stable18] change quota design (server#20144)
  - [stable18] RefreshWebcalService: randomly generate calendar-object uri server#20148)
  - [stable18] Close updatenotification channel selector on click outside (server#20155)
  - [stable18] Add app config to disable user flows (server#20158)
  - [stable18] Auto accept group shares for users added to a group (server#20161)
  - [stable18] Use global used space in quota wrappen when external storage is included (server#20163)
  - [stable18] Check the user on remote wipe (server#20166)
  - [stable18] Bugfix - Prevent PHP Warning for count on null on LDAP (server#20175)
  - Bump version on stable18 (server#20195)
  - [stable18] Actually check if the owner is not null (server#20202)
  - [stable18] Remove Acrobat logo from PDF filetype icon (server#20238)
  - [stable18] Dont always use the current users quota when calculating storage info (server#20258)
  - Silence LDAP deprecation logs in NC 18 (server#20274)
  - [stable18] Check for empty authorization headers for office requests (server#20282)
  - [stable18] fixes the return type of BeforeUserLoggedInEvent (server#20296)
  - [stable18] Properly catch NoUserException during upload cleanup (server#20334)
  - [stable18] Catch NotFoundException when getting the user folder (server#20335)
  - [stable18] Try to use the display name of file transfers (server#20366)
  - [stable18] Clear comment on successful post (server#20382)
  - [stable18] Fix systemtags overflow (server#20387)
  - [stable18] update icewind/smb to 3.2.3 (server#20405)
  - [stable18] Add text restore after restore icon (server#20407)
  - [18] Use a normal string to translate. (server#20420)
  - [stable18] Make sure group management works with all types of group names (server#20433)
  - [stable18] Properly display share error messages (server#20471)
  - [stable18] Handle unset owner in sharing (server#20483)
  - [stable18] Update root.crl due to revocation of spgverein.crt (server#20485)
  - [stable18] Close the streams in `writeStream` even when there is an exception (server#20493)
  - [stable18] Fix absolute redirect (server#20495)
  - [stable18] Provide the proper language to the mailer (server#20512)
  - [stable18] do not advertise nulled userId for for systemwide credentials (server#20516)
  - [18] Allow to edit admin user (server#20530)
  - [stable18] Update list of multiple properties (server#20531)
  - [stable18] Fix jsunit tests (server#20548)
  - [stable18] Set fileInfo correctly for LegacyTabs (server#20588)
  - [stable18] Fix Sharing recommendation user display (server#20596)
  - [stable18] Fix IE11 upload fallback methods (server#20602)
  - [stable18] Email activity is missing information (activity#441)
  - [stable18] catch new notfound exception while trying to get owner (activity#446)
  - [stable18] Skip notifications for users with invalid email address. (activity#449)
  - [stable18] Bump pdf.js to 2.1.266 (files_pdfviewer#169)
  - Bump acorn from 7.1.0 to 7.1.1 (firstrunwizard#301)
  - [stable18] Hide slide for app store if disabled (firstrunwizard#313)
  - Bump acorn from 6.4.0 to 6.4.1 (notifications#592)
  - [stable18] Request the permissions for notifications via user interaction (notifications#608)
  - Bump acorn from 6.4.0 to 6.4.1 (recommendations#196)
  - [stable18] Update DefaultOs.php (serverinfo#189)
  - Public pages compatibility (viewer#422)
  - Move cypress to gh actions (viewer#423)
  - Bump acorn from 5.7.3 to 5.7.4 (viewer#425)
  - [stable18] Fix trying to open the sidebar when not available (viewer#428)
  - [stable18] Add public testing (viewer#435)
  - [stable18] Fix public preview url cropping (viewer#450)
  - [stable18] Fix babel transpile settings (viewer#453)
  - [stable18] Await sidebar (viewer#467)
  - [stable18] Change sidebar icon to proper understandable one (viewer#469)
  - [stable18] Fix sidebar full state (viewer#470)

- Add nextcloud-rpmlintrc to reduce build warnings.
- Fix RewriteRules in apache_secure_data.

-------------------------------------------------------------------
Sun Apr 12 13:20:14 UTC 2020 - Olav Reinert <seroton10@gmail.com>

- Make core/js/mimetypelist.js writable
  * Fixes "occ maintenance:mimetype:update-js" command
  * Allows apps to register new mimetypes
- Make core/img/filetypes/ writable
  * Allows apps to register new file icons
- Use standard a2enmod command to manipulate Apache module list

-------------------------------------------------------------------
Sun Mar 29 20:54:25 UTC 2020 - Olav Reinert <seroton10@gmail.com>

- Enable Apache PHP module on first install only, not on updates
- Make crontab and timer consistent: 5 minutes between jobs

-------------------------------------------------------------------
Tue Mar 24 19:20:52 UTC 2020 - Michael Ströder <michael@stroeder.com>

- Update to 18.0.3
  - Security update
    Fix (CVE-2020-8154, NC-SA-2020-018, boo#1171579) and
        (CVE-2020-8155, NC-SA-2020-019, boo#1171572)

-------------------------------------------------------------------
Wed Mar 11 18:21:55 UTC 2020 - ecsos@opensuse.org

- Update to 18.0.2
  - No changelog from upstream at this time.

-------------------------------------------------------------------
Wed Feb 12 19:42:37 UTC 2020 - ecsos@opensuse.org

- Update to 18.0.1
  * Changes
    - [stable18] Fix cursor on disabled contenteditable divs (server#18961)
    - Bump style-loader from 1.1.2 to 1.1.3 (server#18982)
    - [stable18] Increase the timeout for app downloads (server#19025)
    - [stable18] Fix loaded controller check (server#19060)
    - [stable18] Allow to await the sidebar (server#19089)
    - [stable18] expose Argon2 options (as we did for bcrypt) (server#19094)
    - [stable18] fix multiselect actions for files (server#19108)
    - [stable18] Adjust filelist color handling to new dark theme value (server#19117)
    - [stable18] Reduce legacy event log level to debug (server#19118)
    - [stable18] New file menu needs to be above the filelist header (server#19119)
    - [stable18] Do not invert avatar colors when dark theme is enabled (server#19121)
    - [stable18] Use the target for file notifications (server#19149)
    - [stable18] Use correct appid for talk (server#19150)
    - [stable18] add hub bundle for easy installation on upgraded instances (server#19153)
    - [stable18] apps can have polyamorous relationships with bundles (server#19166)
    - [stable18] Use themed favicon-fb (server#19189)
    - [stable18] Fix "Call to undefined method 
      OCA\\WorkflowEngine\\Entity\\File::t()" (server#19190)
    - [stable18] Fix query selector for inverted icons (server#19206)
    - [stable18] Do not encode contacts menu mailto links (server#19207)
    - [stable18] Give the sharing tab a unique id so it also opens properly
      on other languages (server#19212)
    - [stable18] WebcalRefreshJob: Fix reading refresh rate (server#19228)
    - [stable18] Make sure to catch php errors during job execution (server#19269)
    - [stable18] Center Buttons (server#19271)
    - [stable18] Use the l10n from settings (server#19277)
    - [stable18] Use proper andwhere clause (server#19278)
    - [stable18] Add move (and firstlogin) option to transferownership 
      service (server#19279)
    - [stable18] for the DB ot pick an index specify the object_type (server#19283)
    - [stable18] owner transfer multiselect fixes (server#19291)
    - [stable18] Allow respecting PASSWORD_DEFAULT (server#19292)
    - [stable18] Keep the modification time during decryptFile (server#19297)
    - [stable18] Fix data Apache2 .htaccess typo (server#19302)
    - [stable18] Fix display of DTEND for multi-day all-day event (server#19308)
    - [stable18] do not overwrite global user auth credentials with
      empty values (server#19315)
    - [stable18] Fix occ maintenance:install database connect failure (server#19326)
    - [stable18] Fix event type (server#19330)
    - [stable18] Array access on int will fail on php7.4 (server#19332)
    - [stable18] Make sure the default share provider does not execute 
      for other things (server#19334)
    - [stable18] Disable link shares of disabled users (server#19340)
    - [stable18] Prevent archieved download on secure view (server#19360)
    - [stable18] Log Flow activity (server#19396)
    - [stable18] Allow to serve static webm directly (server#19420)
    - 18.0.1 final (server#19422)
    - [stable18] Allow to serve static mp4 directly (server#19428)
    - [stable18] Update master php testing versions (activity#417)
    - Update stable18 target versions (activity#418)
    - [stable18] Update master php testing versions (files_pdfviewer#164)
    - Update stable18 target versions (files_pdfviewer#165)
    - Update stable18 target versions (files_texteditor#194)
    - Update stable18 target versions (firstrunwizard#274)
    - Update stable18 target versions (logreader#313)
    - [stable18] Update master php testing versions (nextcloud_announcements#64)
    - Update stable18 target versions (nextcloud_announcements#65)
    - Update stable18 target versions (notifications#547)
    - [stable18] Add linting via github actions (notifications#555)
    - [stable18] Support Strict VoIP push notifications for 
      iOS 13 SDK (notifications#565)
    - [stable18] Update master php testing versions (password_policy#93)
    - Update stable18 target versions (password_policy#94)
    - [stable18] Lint with github actions (photos#153)
    - [stable18] No more drone. Do it all on github actions (photos#158)
    - [stable18] Respect .noimage and .nomedia files (photos#160)
    - [stable18] added headers for your photos and favs (photos#172)
    - [stable18] Fix/actions (photos#174)
    - [stable18] Fix url escaping (photos#175)
    - [stable18] Use actions from tutorial (photos#181)
    - Update stable18 target versions (privacy#323)
    - Update stable18 target versions (recommendations#182)
    - Update stable18 target versions (serverinfo#170)
    - [stable18] Update master php testing versions (survey_client#104)
    - Update stable18 target versions (survey_client#105)
    - [stable18] GitHub actions/lint (viewer#368)
    - Fix url escaping (viewer#370)
    - [stable18] Adjust tests syntax & formatting (viewer#379)
    - [stable18] Use actions from tutorial (viewer#385)
    - [stable18] Revert "Fix url escaping" (viewer#396)

-------------------------------------------------------------------
Fri Jan 17 18:37:04 UTC 2020 - ecsos@opensuse.org

- Update to 18.0.0
  As this is a major release, the changelog is too long to put here.
  Users can look at github milestones to find what has been merged.
  A quick overview of what is new:
  - Files - features an improved sidebar, accepting internal 
    shares & folder owner transfership
    - Workspaces brings context to your folders, facilitating 
      collaboration in one place.
    - File locking prevents conflicts editing shared files with 
      others
  - Flow - Brings extensive, easy to use workflow capabilities to 
    Nextcloud. Automatically turn documents in PDFs, send messages
    to chat rooms and more!
  - ONLYOFFICE - Built in ONLYOFFICE makes collaborative editing of
    Microsoft Office documents accessible to everyone
  - Photos - A brand new image gallery makes finding, browsing and
    sharing your images easier than ever before.
  - Calendar 2.0 - Calendar 2.0 books Talk meetings, brings busy 
    view for meetings and resource booking and more
  - Mail - Mail 1.0 recognizes itineraries, handles rich text mails
    and more
  - Talk - rewritten user interface brings message delivery notifications, 
    circles support, message replies and flow integration

- Add "occ maintenance:repair" during package update to fix possible (db) errors.

-------------------------------------------------------------------
Thu Dec 19 14:59:58 UTC 2019 - ecsos@opensuse.org

- Update to 17.0.2
  - Actually return the quote when getting global storage info (server#17851)
  - Also set X-OC-Mtime header for files that are smaller than 10MB (server#17858)
  - FIX: horizontal scrolling on mobile due to tab accessibility 
     navigation 'skip to content' positioned at a fixed position (server#17883)
  - Fix reshare with circle (server#17916)
  - Bump icewind/searchdav (server#17919)
  - Make timeout a optional parameter (server#17925)
  - Check quota before transfer ownership (server#17928)
  - Re-acquired expired shared locks on large file uploads (server#17945)
  - Pass through ServerNotAvailableException on app init (server#17952)
  - Do not check for updates if we have no internet (server#18036)
  - Convert more columns to bigint (server#18040)
  - Fix installing with MySQL 8.0.4+ (server#18043)
  - Uid can be false when the user record does not exit (server#18047)
  - Update the CRL (server#18050)
  - Make chunksize (used to check for gone LDAP users) configurable (server#18054)
  - Remove objectstore credentials (server#18075)
  - Incorrect integer value: '' for column 'password_invalid' while migra… (server#18100)
  - Trim the login name (server#18156)
  - Delay creation of the cert bundle (server#18186)
  - Handle token insert conflicts (server#18189)
  - Throw an invalid token exception is token is marked outdated (server#18198)
  - Backport #18120 (server#18205)
  - Mark "Talk" active on /call/token URLs (server#18221)
  - Allow to unfavorite all files (server#18247)
  - Hide the tooltip if the list row is rerendered (server#18252)
  - Move overwritehost check to isTrustedDomain (server#18306)
  - Convert various columns in oc_mounts to bigint (server#18307)
  - Do not disable authentication apps (server#18332)
  - Sharee API GS fixes (server#18337)
  - Handle IPv6 addresses with an explict incoming interface at the end (server#18352)
  - Adding share type circles (server#18355)
  - Fix restoring shared versions (server#18358)
  - Support more IPv6 addresses in the RefreshWebcalJob (server#18366)
  - Bump the CRL (server#18375)
  - Allow to detect mimetype by content (server#18386)
  - Bump serialize-javascript and handlebars (server#18419)
  - Update icewind/searchdav to 1.0.2 (3rdparty#351)
  - Is_dir can be null on blacklisted files (activity#407)
  - Remove debug log (activity#412)
  - Stable17 Use @nextcloud/axios so the csrf token gets refreshed (notifications#471)
  - Fix header icon hover & focus feedback (notifications#495)
  - Fix cutting of multibyte characters (notifications#499)
  - Do not send push notifications when nothing was deleted (notifications#506)

-------------------------------------------------------------------
Thu Nov  7 17:21:19 UTC 2019 - ecsos@opensuse.org

- Update to 17.0.1
  - Always use the folder icon depending on the mount type if not a share mount (server#17156)
  - Fix "create folder" icon overlaying home icon (server#17219)
  - Fix directory detection for s3 (server#17273)
  - Fix user with id 0 to be able to comment (server#17274)
  - Handle moveFromStorage within the same storage even when storage wrap… (server#17277)
  - Dont delete cache entries if deleting an object from object store failed (server#17281)
  - Correctly detect the mimetype from uploads (server#17295)
  - Add (hidden) option to configure smb timeout (server#17298)
  - Position fixed for .toastify.toast (server#17300)
  - Fix fetching additional search results on scrolling down (server#17305)
  - Bring the default font size up to 15px (server#17309)
  - Use handlebars from node_modules (on CI) (server#17348)
  - Reduce adressbook change events and handling (server#17351)
  - Fix typo in "which" (server#17358)
  - Fix updating and deleting authtokens (server#17415)
  - Allow removing federated shares of locally reshared files (server#17418)
  - Fix oauth client redirect (server#17438)
  - Don't call basename on null (server#17444)
  - Fix axios csrf token update event (server#17453)
  - Use @nextcloud/axios to keep the CSRF token in sync (server#17455)
  - Kill ui-regression ci job (server#17457)
  - Force hide tooltips on sidebar close (server#17493)
  - Only cache the mimetype if the file exists (server#17538)
  - Set the proper filename for version downloads (server#17541)
  - Load additional scripts on help page (server#17578)
  - Let SCSS cleanup only run once (server#17579)
  - Pass on direct query parameter during login (server#17581)
  - Added documentation links on settings pages (server#17589)
  - Include the share in the Files_Sharing::loadAdditionalScripts event (server#17597)
  - Treat LDAP error 50 as auth issue, prevents lost server connection errors (server#17617)
  - Hide strange Everyone and Disabled group numbers with LDAP (server#17621)
  - Fix browser back button (server#17638)
  - Fix filename overlapping on mobile (server#17676)
  - Harden middleware check (server#17681)
  - Fix jsConfigHelper lang/locale mixup (server#17686)
  - Fix weird KDE bug with loginflowv2 (server#17688)
  - Make sure limit is never negative (server#17716)
  - Fix DAV mimetype search (server#17731)
  - Return null from migration to match with typehint (server#17742)
  - Do not show 'Get your own free account' on services under subscription (server#17748)
  - Fix action menu on mobile (server#17766)
  - Bring back external storage group select delete (server#17767)
  - Switch to Files Node API for zip generation (server#17840)
  - Use correct route to generate (nextcloud_announcements#56)
  - Name of the collector is `Php`. (survey_client#98)
  - Update version on master (viewer#232)
  - Bump eslint-plugin-node from 9.2.0 to 10.0.0 (viewer#235)
  - Bump @babel/core from 7.5.5 to 7.6.0 (viewer#236)
  - Bump @babel/preset-env from 7.5.5 to 7.6.0 (viewer#237)
  - Bump webpack-cli from 3.3.7 to 3.3.8 (viewer#238)
  - Bump webpack from 4.39.3 to 4.40.1 (viewer#242)
  - Bump webpack from 4.40.1 to 4.40.2 (viewer#245)
  - Bump webpack-cli from 3.3.8 to 3.3.9 (viewer#250)
  - Bump eslint-config-nextcloud from 0.0.5 to 0.0.6 (viewer#258)
  - Bump url-loader from 2.1.0 to 2.2.0 (viewer#259)

-------------------------------------------------------------------
Wed Oct  2 10:45:46 UTC 2019 - ecsos@opensuse.org

- Add missing CronJob for Nextcloud.

-------------------------------------------------------------------
Tue Oct  1 14:29:36 UTC 2019 - ecsos@opensuse.org

- Update to 17.0.0
  Nextcloud 17 introduces a series of secure collaboration features
  including a collaborative text editor, remote wipe, updated 
  secure view, improved two-factor-authentication and easier access
  than ever with deeper integration of large-scale storage like S3
  and IBM Spectrum Scale.

  As this is a major release, the changelog is too long to put 
  here. 
  Users can look at github milestones to find what has been merged.

  A quick overview of what is new:
  - Remote Wipe allows users and administrators to forcibly clean 
    files from remote devices, for example in case they are stolen.
  - Nextcloud Text, our new distraction-free, collaborative rich t
    ext editor
  - Improvements to secure view like enforcable watermarks enable 
    virtual data room use
  - Setup two-factor authentication after first login, admins can 
    create one-time login tokens in the web UI and delegate this 
    to group admins
  - secure mailbox in Outlook Add-in
  - LDAP write support makes it possible to manage users from 
    Nextcloud
  - S3 versioning support, IBM Spectrum Scale integration and 
    Global Scale with Collabora Online

-------------------------------------------------------------------
Wed Sep 25 19:15:59 UTC 2019 - ecsos@opensuse.org

- Update to 16.0.5
  - Make possible to focus grid/list view toggle via keyboard (server#16745)
  - Fix tracking of auto disabled apps in Updater (server#16753)
  - Filter more configs (server#16802)
  - Correctly remove apps without any releases (server#16818)
  - Undefined variable response when server is no nextcloud anymore (server#16826)
  - Change access handling of projects (server#16837)
  - Only add the app-itunes-app tag if the id is set (server#16848)
  - Use custom client URL in welcome emails (server#16883)
  - Properly redirect if accessing invalid file though /f/ entrypoint (server#16891)
  - Bump mixin-deep from 1.3.1 to 1.3.2 (server#16896)
  - Only run integration tests when PHP was modified (server#16909)
  - Ignore Enter key up event on menu button toggles (server#16921)
  - Be sure to get the jailed path if the storage is a jail (server#16991)
  - Remove orphaned calendar data from deleted subscriptions (server#16994)
  - Only run code coverage CI on merge (server#16995)
  - Returns 404 (server#16997)
  - Properly initialize the CacheJail for sharing (server#17061)
  - Fix SMB availability status + higher delay on auth issues (server#17070)
  - When you click on thumbnail of a file, it should open the file not the sidebar (server#17091)
  - Emit moveToTrash event only for the deleting user (server#17099)
  - Fix opening apps with Ctrl+click (server#17103)
  - Always use the folder icon depending on the mount type if not a share mount (server#17155)
  - Don't send executionContexts for Clear-Site-Data (server#17157)
  - Add uid to delete temp token query (server#17197)
  - Fix l10n in federated file sharing (server#17211)
  - Nextcloud 16.0.5 (server#17250)
  - Fix spaces being collapsed in move dialog (server#17257)
  - Better dark theme support (activity#389)
  - Fix travis database tests (activity#390)
  - Bump lodash from 4.17.11 to 4.17.14 (files_texteditor#174)
  - Translate menu action (files_texteditor#183)
  - Bump mixin-deep from 1.3.1 to 1.3.2 (files_videoplayer#138)
  - Bump mixin-deep from 1.3.1 to 1.3.2 (firstrunwizard#211)
  - Randomize the interval. (nextcloud_announcements#48)
  - Improve the notification (nextcloud_announcements#51)
  - Also set the subject when the subject is not too long (notifications#415)
  - Bump eslint-utils from 1.3.1 to 1.4.2 (notifications#418)
  - The backports of #392 and #390 did not work out as expected (notifications#420)
  - Bump mixin-deep from 1.3.1 to 1.3.2 (recommendations#121)
  - Bump eslint-utils from 1.3.1 to 1.4.2 (viewer#221)

-------------------------------------------------------------------
Wed Aug 21 13:25:25 UTC 2019 - Mathias Homann <Mathias.Homann@opensuse.org>

- Update to 16.0.4
  - Always set the display name for user shares (server#16254)
  - Prevent undefined offset 0 in findByUserIdOrMail (server#16325)
  - Use HTTP1.1 to read S3 objects (server#16330)
  - Bump lodash.mergewith from 4.6.1 to 4.6.2 (server#16338)
  - Bump lodash.merge from 4.6.1 to 4.6.2 (server#16341)
  - Bump lodash from 4.17.11 to 4.17.13 (server#16352)
  - Addsubtag should push to array (server#16405)
  - Add catch for RuntimeException (server#16414)
  - Only prevent disabling encrytion via the API (server#16425)
  - Do not keep searching for recent (server#16432)
  - Update operationprogressbar.js (server#16437)
  - Fix File#putContents(string) on ObjectStorage (server#16444)
  - Pass $configargs to openssl_pkey_export (server#16500)
  - Nested recursion breaking max nested level for parent comment calculation (server#16524)
  - Allow hidden smb shares (server#16527)
  - Allow to provide supported calendar component set internally as a string (server#16536)
  - Lock SCSS so we only run 1 job at a time (server#16541)
  - Fix max contrast retrieval to limit minimum color for relative time (server#16543)
  - Supresses disclosing the userid for LDAP users in the welcome mail (server#16561)
  - Use a pattern to identify sensitive config keys (server#16562)
  - Do not log locked files (server#16564)
  - Log email shares in admin_audit log (server#16566)
  - Change send to sent (server#16567)
  - Do not log all locked exceptions (server#16578)
  - Check the if we can actually access the storage cache for recent files (server#16598)
  - Set proper defaults for v-tooltip usages (server#16607)
  - Fix/xss/on favorite file (server#16610)
  - Log circles and remote shares in admin_audit (server#16627)
  - Make sure we only fetch the file by id for the actual owner (server#16630)
  - Remove unncessary code block in share recommendations, fixed undefined var error (server#16633)
  - Files_external: proper user context for sharing (server#16637)
  - Properly return an int in the getId function of the cache (server#16689)
  - Fix enable/disable user audit message (server#16691)
  - Delay sending event from app init to when they are needed (server#16695)
  - Fix download button shown in public share page with hidden downloads (files_pdfviewer#145)
  - Change name from 'Text editor' to 'Plain text editor' to prevent confusion with 'Text' (files_texteditor#169)
  - Run drone for webpack build (files_texteditor#176)
  - Bump lodash from 4.17.11 to 4.17.14 (files_videoplayer#135)
  - Bump lodash.mergewith from 4.6.1 to 4.6.2 (firstrunwizard#199)
  - Bump lodash.merge from 4.6.1 to 4.6.2 (firstrunwizard#200)
  - Bump lodash from 4.17.11 to 4.17.14 (firstrunwizard#202)
  - Bump fstream from 1.0.11 to 1.0.12 (firstrunwizard#205)
  - Bump lodash from 4.17.11 to 4.17.13 (notifications#376)
  - Trim the subject before encrypting the subject (notifications#384)
  - Align the notification subject vertically to the icon (notifications#390)
  - Fix notification body text alignment and text contrast (notifications#391)
  - Fix mention and actions layout (notifications#392)
  - Bump lodash.mergewith from 4.6.1 to 4.6.2 (recommendations#105)
  - Bump lodash from 4.17.11 to 4.17.14 (recommendations#107)
  - Bump tar from 2.2.1 to 2.2.2 (recommendations#120)
  - Bump cypress-image-snapshot from 3.0.1 to 3.0.2 (viewer#102)
  - Bump babel-loader from 8.0.5 to 8.0.6 (viewer#103)
  - Bump cypress-file-upload from 3.1.1 to 3.1.2 (viewer#104)
  - Bump @babel/preset-env from 7.4.4 to 7.4.5 (viewer#109)
  - Bump eslint-plugin-node from 9.0.1 to 9.1.0 (viewer#116)
  - Bump cypress-testing-library from 3.0.1 to 4.0.0 (viewer#119)
  - Bump nextcloud-vue from 0.11.3 to 0.11.4 (viewer#121)
  - Bump webpack-cli from 3.3.2 to 3.3.3 (viewer#127)
  - Bump file-loader from 3.0.1 to 4.0.0 (viewer#130)
  - Bump cypress-image-snapshot from 3.1.0 to 3.1.1 (viewer#131)
  - Bump webpack from 4.33.0 to 4.34.0 (viewer#135)
  - Bump cypress-file-upload from 3.1.2 to 3.1.3 (viewer#137)
  - Bump webpack-cli from 3.3.3 to 3.3.4 (viewer#138)
  - Bump nextcloud-server from 0.15.9 to 0.15.10 (viewer#139)
  - Bump webpack from 4.34.0 to 4.35.0 (viewer#144)
  - Bump eslint-plugin-vue from 5.2.2 to 5.2.3 (viewer#152)
  - Bump webpack-cli from 3.3.4 to 3.3.5 (viewer#153)
  - Bump eslint-plugin-promise from 4.1.1 to 4.2.1 (viewer#154)
  - Bump url-loader from 2.0.0 to 2.0.1 (viewer#155)
  - Bump eslint-plugin-import from 2.17.3 to 2.18.0 (viewer#156)
  - Bump eslint-loader from 2.1.2 to 2.2.1 (viewer#165)
  - Bump webpack from 4.35.2 to 4.35.3 (viewer#176)
  - Bump stylelint-scss from 3.8.0 to 3.9.1 (viewer#178)
  - Bump eslint-plugin-import from 2.18.0 to 2.18.2 (viewer#182)
  - Bump webpack-cli from 3.3.5 to 3.3.6 (viewer#187)
  - Bump vue-loader from 15.7.0 to 15.7.1 (viewer#188)
  - Bump webpack from 4.35.3 to 4.36.1 (viewer#189)
  - Bump webpack from 4.36.1 to 4.38.0 (viewer#194)
  - Bump url-loader from 2.0.1 to 2.1.0 (viewer#196)
  - Bump lodash from 4.17.11 to 4.17.15 (viewer#201)
  - Bump webpack from 4.38.0 to 4.39.0 (viewer#202)
  - Bump webpack from 4.39.0 to 4.39.1 (viewer#204)
  - Detect and switch fullscreen (viewer#47)
  - Update version on master (viewer#66)
  - Test actions (viewer#67)
  - Revert "Test actions" (viewer#68)
  - Bump nextcloud-vue from 0.9.5 to 0.10.0 (viewer#69)
  - Bump eslint-plugin-import from 2.16.0 to 2.17.2 (viewer#70)
  - Bump eslint-import-resolver-webpack from 0.11.0 to 0.11.1 (viewer#71)
  - Bump webpack from 4.29.6 to 4.30.0 (viewer#72)
  - Fix/loading/race condition (viewer#73)
  - Bump webpack-cli from 3.3.1 to 3.3.2 (viewer#90)
  - Bump eslint-plugin-node from 8.0.1 to 9.0.1 (viewer#92)
  - Bump webpack from 4.30.0 to 4.31.0 (viewer#96)

-------------------------------------------------------------------
Wed Jul 10 07:30:05 UTC 2019 - ecsos@opensuse.org

- Updates require and recommend php module.

-------------------------------------------------------------------
Tue Jul  9 14:36:14 UTC 2019 - ecsos@opensuse.org

- Update to 16.0.3
  - Do not fail hard on new user mail error (server#16189)
  - Fix redirect after rescanFailedIntegrityCheck to "Overview" 
    page (server#16244)
  - Fix permissions for drag-n-drop uploads (server#16249)
  - Try to delete the cypress folder of the viewer app 
    (server#16297)
  - Send browser notifications again (notifications#373)

-------------------------------------------------------------------
Thu Jul  4 14:52:34 UTC 2019 - ecsos@opensuse.org

- Update to 16.0.2
  - Update ca bundle (server#15553)
  - Update ca bundle checker (server#15554)
  - User management/subadmin: rephrase ambiguous error message 
    (server#15575)
  - Update shipped.json to include privacy and recommendations 
    (server#15592)
  - Show supported apps in app management (server#15593)
  - Update CRL due to revoked cookbook.crt (server#15628)
  - Only show sharing section if it has content (server#15649)
  - Remove quota feedback if no link set (server#15666)
  - Allow redis cluster to use password (server#15686)
  - Don't run repair step for every individual user, outsource that
    to background job (server#15718)
  - Check the actual status code for 204 and 304 (server#15724)
  - [Security] Bump tar from 2.2.1 to 2.2.2 (server#15728)
  - Don't notify admins if no potentially over exposing links found
    (server#15745)
  - Also allow dragging below the file list (server#15754)
  - Change text color in search box in darktheme, ref #15598 
    (server#15768)
  - Check for free space on touch (server#15772)
  - Search files by id in shared storages last (server#15799)
  - Hide newFile menu if quota is set to 0B (server#15856)
  - Add core/js/dist/ to l10nignore (server#15948)
  - Add LDAP integr. test for receiving share candidates with 
    group limitation (server#15984)
  - Remove auto focus of share input field on dialog open, 
    fix #15261 (server#16010)
  - LDAP) API: return one base properly when multiple are 
    configured (server#16015)
  - Handle storage exceptions when trying to set mtime 
    (server#16038)
  - Fix LDAP Wizard forgetting groups on select with search
    (server#16051)
  - Revert "Fix userid casting in notifications" (server#16068)
  - Fix appid argument for integrity:check-app (server#16080)
  - Fix full text search for groupfolders (server#16082)
  - Fall back to black for non-color values (server#16089)
  - Check if uploading to lookup server is enabled before verifying
    (server#16091)
  - Allow apps to store longer messages in the comments API 
    (server#16105)
  - Invalidates user when plugin reported deletion success
    (server#16112)
  - Fix download link included in public share page with hidden
    download (server#16125)
  - Better check reshare permissions (server#16127)
  - Verify that paths are valid for recursive local move 
    (server#16128)
  - Don't allow to disable encryption via the API (server#16133)
  - Do not show a internet connectivity warning if internet access 
    is dis… (server#16146)
  - Update Nextcloud version in docs link (server#16157)
  - Allow apps to overwrite the maximum length when reading from 
    database (server#16177)
  - RefreshWebcalJob: replace ugly Regex with standard php utils 
    (server#16201)
  - Better check reshare permissions part2 (server#16211)
  - Fix "unshare group share from self" activity (activity#380)
  - Fix load of character maps (files_pdfviewer#141)
  - [Security] Bump axios from 0.18.0 to 0.18.1 
    (firstrunwizard#192)
  - Correctly show errors when setting the password (gallery#529)
  - Blacklist using .noimage (gallery#533)
  - Update dependabot deps in stable16 (notifications#359)
  - Increase size of icon bubble for more visibility 
    (notifications#368)
  - Add app description to readme and appinfo (privacy#133)
  - Catch and filter share that can't be found (recommendations#79)
  - [Security] Bump axios from 0.18.0 to 0.18.1 
    (recommendations#92)
  - [Security] Bump tar from 2.2.1 to 2.2.2 (viewer#113)
  - [Security] Bump axios from 0.18.0 to 0.19.0 (viewer#117)

-------------------------------------------------------------------
Thu May 16 15:48:08 UTC 2019 - ecsos@opensuse.org

- Update to 16.0.1
  - Fix setupcheck for intl module (server#15223)
  - Take return of mkdir into consideration; photocache to not 
    create a folder for deletion (server#15303)
  - Remove the custom prefix from the table name length when
    checking on … (server#15312)
  - Check if the data is in the lookup server (server#15341)
  - Do NOT assume all files are selected if the first checkbox is 
    (server#15345)
  - Fix collapse button in app navigation in IE11 (server#15389)
  - Make sure all middlewares are only registered once 
    (server#15399)
  - Allow to send the password of protected conversations 
    (server#15405)
  - Remove extra margin from warning messages in authenticate
    page (server#15409)
  - Set Edge < 16 as incompatible with css vars (server#15417)
  - Remove extra param in cache update call (server#15418)
  - Handle 0 B default quota properly in the web UI
    (server#15424)
  - Fix multiselect min width (server#15433)
  - Make access column a real boolean (server#15434)
  - Fix public upload by also load the semaphore method 
    (server#15439)
  - Remove setup args from logging (server#15442)
  - Use non-absolute logout URL to fix wrong URL in reverse proxy 
    scenario (server#15452)
  - Fix mobile vertical scrolling (server#15469)
  - Remove recommendation for opcache on CLI (server#15471)
  - Update file-upload.js (server#15482)
  - Add interfaces to interact with subscription from support app
    (server#15513)
  - Fall back to application/octet-stream instead of using an 
    invalid mim… (activity#374)
  - Only call setViewerMode if FileList is available 
    (files_pdfviewer#132)
  - Use correct CSS URL, remove default marked settings and 
    change to GFM rendering (files_texteditor#150)
  - Use correct method to determine if HTTPS is used 
    (firstrunwizard#189)

-------------------------------------------------------------------
Fri Apr 26 10:17:16 UTC 2019 - ecsos@opensuse.org

- Added some missing require and recommend packages.

-------------------------------------------------------------------
Fri Apr 26 09:28:26 UTC 2019 - ecsos@opensuse.org

- gh#10655 Added php-intl as required package for avoiding upstream

-------------------------------------------------------------------
Thu Apr 25 15:02:44 UTC 2019 - ecsos@opensuse.org

- Update to 16.0.0 
  Nextcloud 16 is smarter than ever, with machine learning to 
  detect suspicious logins and offering clever recommendations. 
  Group Folders now sport access control lists so system 
  administrators can easily manage who has access to what in 
  organization-wide shares. We also introduce Projects, a way to 
  easily relate and find related information like files, 
  chats or tasks.

  As this is a major release, the changelog is very long. 
  Find an overview of what has been improved in this series of blog
  posts:

  - Nextcloud 16 becomes smarter with Machine Learning for security
    and productivity
  - ACL permissions for Groupfolders
  - Nextcloud 16 allows you to link resources to keep track of your 
    projects
  - Talk 6.0 brings commands, improved user experience and more

  - Coming soon, seems the github API can't deal with the size of 
    our changelog.

-------------------------------------------------------------------
Tue Apr  9 15:28:54 UTC 2019 - ecsos@opensuse.org

- Update to 15.0.7
  - Fix for crashing occ files:scan (server#14968)
  - Fix .drone.yml syntax (server#14984)
  - Harden appdata putcontent (server#15000)
  - Check if OCA.Files.App is available before calling 
    (server#15001)

-------------------------------------------------------------------
Thu Apr  4 14:52:21 UTC 2019 - ecsos@opensuse.org

- Update to 15.0.6
  - Fix grid toggle button on public page (server#14376)
  - Fix(EMailTemplate): malformed HTML in some cases (server#14387)
  - Bugfix for issue 10862: Trash-bin ignores 
    trashbin_retention_obligation (server#14414)
  - Parse multiple navigation items (server#14416)
  - Fix referrer policy meta tags. (server#14438)
  - Fix a bug with smb notify having leading slash when it should 
    not (server#14462)
  - Fix for issue #13319: load oc-backbone-webdav before loading 
    versions app (server#14472)
  - Add accessibility translations (server#14490)
  - Run tests that fail with "no such process" over to apache 
    server (server#14495)
  - Make header.feature more robust by running it on apache 
    (server#14497)
  - Fix expire date change eventhandler (server#14503)
  - Update icewind/smb to 3.0.2 (server#14512)
  - Do not cut full color on accessibility svg color invert 
    (server#14516)
  - Dav: Fix handling of chunked WebDAV upload (server#14517)
  - Do not just write foobar (server#14521)
  - Fix database configuration (server#14531)
  - Add activities for group membership changes (server#14534)
  - Check if password can be changed for the users backend in OCS 
    api (server#14542)
  - Add test for updated CA bundle (server#14546)
  - Clear backupcode reminder when no 2fa (server#14559)
  - Use a tmp file for swift writes (server#14570)
  - Have streams of files_external in sync (server#14580)
  - Resolve user and groups in nested groups first before filtering
    the results (server#14591)
  - Remove Google+ from Social Sharing Bundle (server#14596)
  - Do not calculate folder size for parent that also needs proper 
    scan, fixes #3524 (server#14597)
  - Mention Open Cloud Mesh in Federated User Settings 
    (server#14599)
  - Update index.php (server#14601)
  - Remove sensitive SMB arguments from exception log 
    (server#14658)
  - Prevent recursion when moving a file to the trashbin 
    (server#14661)
  - Disable fragile tests (server#14672)
  - Use SCSS variables since CSS vars are not loaded on public 
    pages (server#14677)
  - Handle long etags from dav external storage (server#14694)
  - Improve lookup server behaviour (server#14696)
  - Add an integration test that ensures deletion of LDAP users 
    (server#14697)
  - Dont try to restore a trashbin item to a readonly target 
    (server#14699)
  - Throw a proper error if rename fails in dav (server#14700)
  - Groupname like username - allow share with both (server#14709)
  - Updated documentation go.php to 15 and adjusted copyright year.
    (server#14716)
  - Always register the Notifier (server#14749)
  - Fix getting the access list on external storage (server#14751)
  - Always allow moving mountpoints inside the same mountpoint 
    (server#14759)
  - Use current directory for hashing. (server#14762)
  - Fix user creation using LDAP Plugin (server#14781)
  - Avoid replacement by user object (server#14795)
  - Fix placeholder in disable message (server#14840)
  - Fix setup checks for ocm/ocs-provider (server#14854)
  - Remove Google+ federation usersettings (server#14855)
  - Add setup check for missing UTF8MB4 on mysql (server#14857)
  - Make regions translatable (server#14859)
  - Show a setup warning in case S3 object storage is used as 
    primary storage (server#14865)
  - Fix plural rule detection for languages (server#14867)
  - Fix translations of settings (server#14882)
  - Fix opening folders from different file lists (server#14891)
  - Fix hidden file display in grid view (server#14924)
  - Locale is not language (activity#355)
  - Fallback to plaintext subject if no rich subject is set 
    (activity#358)
  - Ignore query arguments in single video share for stable15 
    (Fix #121) (files_videoplayer#122)
  - Less alerting log entries on fails (notifications#291)

-------------------------------------------------------------------
Fri Mar  1 08:00:06 UTC 2019 - ecsos@opensuse.org

- Fix Update nextcloud 15.0.4 to 15.0.5 error "ocm-provider" 
  apache2. (server#14445)

-------------------------------------------------------------------
Thu Feb 28 16:56:08 UTC 2019 - ecsos@opensuse.org

- Update to 15.0.5
  - Show autocompletion as soon as "@" is typed (server#13961)
  - Trim filename in webfrontend for windows compatibility 
    (server#13978)
  - Clean code and fix drop zone shadow (server#13982)
  - Show original path in trashbin (server#14029)
  - Update icewind/smb to 3.0.1 (server#14068)
  - Fix: Check if `$this->params['user']` is an array 
    (server#14085)
  - [Security] Bump lodash from 4.17.10 to 4.17.11 
    in /apps/updatenotification (server#14093)
  - [Security] Bump lodash from 4.17.10 to 4.17.11 
    in /apps/accessibility (server#14094)
  - [Security] Bump lodash from 4.17.10 to 4.17.11 
    in /apps/oauth2 (server#14095)
  - Make sure the relative path is always a string (server#14101)
  - Fix the thorrtler whitelist bitmask (server#14151)
  - [Security] Bump handlebars from 4.0.12 to 4.1.0 in /build
    (server#14187)
  - Fix recent files (server#14195)
  - Update CRL to contain revoked files_external_dropbox, 
    passman & payback (server#14201)
  - Ensure attribute names are lower cased (server#14203)
  - Fix small glitches in update notification page (server#14207)
  - Fix expiration date changing (server#14212)
  - Fix trashbin restore translation (server#14213)
  - Remove trailing spaces from localized strings (server#14225)
  - Fixing phpdoc in FullTextSearch/Model/ISearchResult 
    (server#14268)
  - Fix empty file uploads to S3 (and other streaming storages) 
    (server#14273)
  - Do not do redirect handling when loggin out (server#14275)
  - Catch Request exception in testRemoteUrl (server#14277)
  - Correctly determinate the owner in case of shared external
    storages (server#14283)
  - Fix header label visibility on open menu (server#14287)
  - Prefix $path for filename for internal file cache
    (server#14288)
  - Set false as default for requirePNG (server#14292)
  - Use proper scroll container when dragging files (server#14301)
  - Fix OC.getCurrentUser() on guest pages (server#14308)
  - Fix ocm end-point discovery discovery (server#14312)
  - Apply theme to 2FA button (server#14331)
  - Fix "Undefined index: user_uid" on login page (server#14339)
  - Fix unsafe array access (server#14340)
  - Always query lookup server in GS mode (server#14368)
  - Use latest ca-bundle.crt from 
    https://curl.haxx.se/docs/caextract.html (server#14371)
  - Try to support 7.3 for DAV (3rdparty#213)
  - Backport/stable15/streams 0.7.1 (3rdparty#244)
  - Don't add empty entries to the objects array (activity#347)
  - Ensure parameters are always an array (activity#350)
  - Bye, Scrutinizer! (notifications#293)

-------------------------------------------------------------------
Fri Feb  8 21:41:33 UTC 2019 - ecsos@opensuse.org

- Fix require php versions. boo#1084320

-------------------------------------------------------------------
Thu Feb  7 10:20:42 UTC 2019 - Michael Ströder <michael@stroeder.com>

- Update to 15.0.4
  - Make external storages browsable again in the web UI 
    (server#14076)
  - Upload new files in objectstore to a .part path first 
    (server#13036)
  - Broker: add timezone to CANCEL messages (server#13384)
  - Add strengthify.min files (server#13546)
  - Fix click app names (server#13575)
  - Principals can be principal/user/ or principal/ from lega… 
    (server#13582)
  - Correctly handle displaynames returned from the sharee API
    (server#13585)
  - Don't close input stream when writing in encrypted file 
    (server#13588)
  - Bump pear/archive_tar to 1.4.5 (server#13598)
  - Fix integer background job id type error (server#13609)
  - Fix user settings label translation (server#13611)
  - Fix app navigation flickering on hover (server#13625)
  - Update URL for federation (server#13636)
  - Fix colorizeSvg with transformations that contain a comma (,)
    (server#13653)
  - Use warning background color & primary text color for setting 
    warnings (server#13665)
  - Fix template paramter (server#13670)
  - Cache tokens when using swift's v2 authentication 
    (server#13740)
  - Cleanup shared lock if changing to exclusive lock failed 
    (server#13744)
  - Honor remember_login_cookie_lifetime (server#13758)
  - Fix integration of social sharing into the link popover menu
    (server#13761)
  - Respect user locale in natural sort comparator (server#13762)
  - Call proper function when fetching link shares in the 
    breadcrumb view (server#13769)
  - Add acceptance tests for moving and copying files (server#13771)
  - Show proper default locale (server#13781)
  - Ignore non existing users when retrieving details of group 
    members (server#13792)
  - Remove .css fileending from accessibility user css route 
    (server#13793)
  - Add icon to restore activity (server#13794)
  - Fix long comment in dark theme (server#13804)
  - Bump bower from 1.8.4 to 1.8.8 in /build (server#13821)
  - Fix for high contrast theme (server#13852)
  - Always use multipart uploader for s3 uploads (server#13882)
  - Fix paged search with multiple bases (LDAP) (server#13884)
  - Fix dropping a folder on a folder row (server#13887)
  - Fix updating the password of a link share when passwords are 
    enforced (server#13900)
  - Add fallback for trashbin original location (server#13904)
  - Allow shared versions again in legacy backend (server#13905)
  - Improve data directory write checking for NFS mounts 
    (server#13906)
  - Clean pending 2FA authentication on password reset 
    (server#13915)
  - Forward error message from password policy (server#13918)
  - Remove warning in case of external storage error 
    (server#13920)
  - Handle mail send error gracefully (server#13930)
  - Bump pear/archive_tar from 1.4.3 to 1.4.5 (3rdparty#214)
  - Move to SCSS and fix app icon for dark theme (activity#338)
  - Fill screen in fullscreen mode for public videos. Fixes #77 
    (files_videoplayer#79)
  - Use target="_blank" and rel="noreferrer noopener" 
    (firstrunwizard#105)
  - Fix notification documentation to reflect recent changes 
    (notifications#258)

-------------------------------------------------------------------
Sat Jan 12 09:49:21 UTC 2019 - ecsos@opensuse.org

- Update to 15.0.2
  - Don't log parameters on user creation in case of 
    error/exception (server#13479)
  - RemoveClassifiedEventActivity: check if calendar still exists 
    (server#13506)
  - Broker: add timezone to CANCEL messages (3rdparty#196)
    
-------------------------------------------------------------------
Thu Jan 10 15:48:48 UTC 2019 - ecsos@opensuse.org

- Update to 15.0.1
  - Change doc link for 15 (server#12963)
  - Use strengthify.min on personal settings page (server#12984)
  - Use default cursor for disabled primary buttons (server#13007)
  - Better activities for systemtags that are removed by CLI
    (server#13029)
  - Ie11 compatibility updatenotifications (server#13076)
  - Fix exception on LDAP mapping during login (server#13119)
  - Fix SAML Client login flow on Apple devices (server#13123)
  - Only trust the X-FORWARDED-HOST header for trusted proxies 
    (server#13150)
  - Prevent special characters from breaking the file drop remote 
    url (server#13151)
  - Allow content provider to generate new Index (server#13155)
  - Make the footer "Get your own free account" translatable 
    (server#13169)
  - Use a case insensitive search for email (server#13179)
  - Fix ie11 checkboxes (server#13206)
  - SCSS cache buster is a combination of apps/theming/scc_vars 
    (server#13209)
  - Files list not rendering if user has favorites navigation 
    unfolded (server#13215)
  - Do not forgot to store the second displayname portion 
    (server#13218)
  - Add default values when parsing account data (server#13252)
  - Fix opening search results for comments (server#13253)
  - Fetch lastInsertId only when id null (server#13278)
  - Add caching headers for public previews (server#13328)
  - Unbundle user_external to release it via appstore 
    (server#13329)
  - Rewrite getNumberOfUnreadCommentsForFolder query (server#13335)
  - Fix can change password check in case of encryption is enabled 
    (server#13349)
  - Update the CRL (server#13352)
  - Check anonymous OPTIONS requests file in root (not in subdir) 
    (server#13354)
  - Re add the uploaded file list to file drops (server#13355)
  - Returns a 404 instead of exception if app is not installed 
    - #13088 (server#13357)
  - Transpile arrow function for ie11 compatibility (server#13360)
  - IE fix for apps menu (server#13361)
  - Allow URI as data for vcard PHOTO (server#13366)
  - Throttle with correct metadata (server#13368)
  - Fix loginflow with apptoken enter on iOS (server#13370)
  - Register and show when an LDAP user was detected as 
    unavailable/deleted (server#13372)
  - Fix apps menu overlapping (server#13404)
  - Use the real logger in the settings (server#13405)
  - CSP: Allow fonts to be provided in data (server#13411)
  - HttpClient getHeader can return empty string (server#13425)
  - Respect classification of calendar events in activity stream 
    (server#13439)
  - Add support for boolean default (server#13444)
  - Show the repair steps and repair info output in the web for 
    better feedback (server#13469)
  - Fix PDF sidebar shown in PDF thumbnails (files_pdfviewer#114)
  - Do not get the url from the download links 
    (files_videoplayer#74)
  - Use proper slogan from theming app (firstrunwizard#94)
  - Update info.xml (firstrunwizard#96)
  - Update richObjectStringParser.js (notifications#245)

-------------------------------------------------------------------
Thu Dec 20 07:06:43 UTC 2018 - ecsos@opensuse.org

- fix require php versions.

-------------------------------------------------------------------
Mon Dec 10 17:15:24 UTC 2018 - ecsos@opensuse.org

- Update to 15.0.0
  Nextcloud 15 introduces social networking, next-gen 2-factor 
  authentication and innovative collaborative document editing 
  abilities. 
  This release also adds a new design and grid view, workflow 
  features and 2-3x faster loading performance.
  
  As this is a major release, the changelog is very long. 
  Find an overview of what has been improved in this series of blog 
  posts or see: https://nextcloud.com/changelog/
  
- Use php7 in apache under suse_version >= 1500 now.

-------------------------------------------------------------------
Tue Nov 27 22:51:28 UTC 2018 - ecsos@opensuse.org

- Fix warning for /.well-known/{caldav,carddav} in overview 
  security & setup warning.

-------------------------------------------------------------------
Thu Nov 22 16:56:26 UTC 2018 - ecsos@opensuse.org

- update to 14.0.4
  - Allow overwrite.cli.url without trailing slash (server#11772)
  - Remove duplicate call to decodeURIComponent (server#11781)
  - Check for empty string (server#11783)
  - Add "Referrer-Policy" to htaccess file, addresses issue #11099
    (server#11798)
  - Always query the lookup server in a global scale setup 
    (server#11800)
  - Fix a case where "password_by_talk" was not a boolean
    (server#11851)
  - Add .l10nignore files for compiled assets (server#11925)
  - Properly escape column name in "createFunction" call 
    (server#11929)
  - Allow userId to be null (server#11939)
  - Allow "same-origin" as "Referrer-Policy" (Backport to stable14)
    (server#11950)
  - Do not emit preHooks twice on non-part-storage (server#11961)
  - Filter null values for UserManager::getByEmail (server#11976)
  - Allow local delivery of schedule message while prohibiting 
    FreeBusy requests (server#11979)
  - Load apps/APP/l10n/*.js and themes/THEME/apps/APP/l10n/*.js 
    (server#11990)
  - Lazy open first source stream in assemblystream (server#11994)
  - Fix opening a section again in the Files app (server#11995)
  - Remove cookies from Clear-Site-Data Header (server#12005)
  - Forwarded ExpiredTokenException (server#12032)
  - Allow chunked uploads even if your quota is not sufficient
    (server#12040)
  - Improve encrypt all / decrypt all (server#12045)
  - Double check for failed cache with a shared storage 
    (server#12108)
  - Implement the size of an assembly stream (server#12111)
  - Bring the browser window of an actor to the foreground when 
    acting as him (server#12120)
  - Move acceptance tests that crash the PHP built-in server to
    Apache (server#12121)
  - Remove unneeded empty search attribute values, fixes #12086 
    (server#12122)
  - Fixes wrong variable usage (server#12137)
  - LDAP: announce display name changes so that addressbook picks 
    it up (server#12141)
  - Bruteforce protection handling in combination with 
    (server#12160)
  - Add global site selector as user back-end which doesn't support 
    password confirmation (server#12184)
  - Do not set indeterminate state for file shares (server#12187)
  - Revert "Wait for cron to finish before running upgrade command" 
    (server#12197)
  - Fix bug #12151: fix list formatting by correcting malformed
    html (server#12202)
  - A folder should get a folder mimetype (server#12297)
  - Use the proper server for the apptoken flow login
    (server#12299)
  - Do not log FileLock as exception (server#12300)
  - Set the filemodel before rending the detailsview (server#12301)
  - Disabled ldap fix (server#12331)
  - Fix - Add to favorites not working in IE11 (server#12339)
  - Remove arrow function for ie compatibility (server#12341)
  - Fix default types of activity event member variables
    (server#12353)
  - Suppress wrong audit log messages about failed login attempts 
    (server#12372)
  - Add fix for IE11 flexbox height bug (server#12374)
  - Properly search the root of a shared external storage 
    (server#12375)
  - Fix app update available check (server#12412)
  - Use nextcloud-password-confirmation (server#12416)
  - Fix IE rule for min width (server#12431)
  - Added cache override to ensure an always up-to-date 
    accessibility css (server#12432)
  - Unique contraint and deadlock fixes for filecache and 
    file_locks (server#12433)
  - Fix app menu calculation for random size of the right header 
    (server#12440)
  - Fix missing quickaccess favorite folder on add (server#12441)
  - Fixes dav share issue with owner (server#12459)
  - Fix wrong share popover opening on share link (server#12482)
  - Only use width and opacity for transition (server#12492)
  - Forward object not found error in swift as dav 404 
    (server#12502)
  - Fix the warning appearing in the admin section when
    mail_smtpmode is not configured (server#12529)
  - Remove unused svg api route (server#12542)
  - Bearer tokens are app token (server#12545)
  - Handle permission in update of share better (server#12561)
  - Correctly restrict affected users when using command to send 
    emails (activity#312)
  - Improve code blocks in markdown rendering (files_texteditor#121)
  - Properly escape column name in "createFunction" call 
    (survey_client#85)

-------------------------------------------------------------------
Fri Oct 12 16:35:32 UTC 2018 - ecsos@opensuse.org

- update to 14.0.3
  - Fixes the apps menu scrollbar (server#11662)
  - Ignore "session_lifetime" if it can not be converted to a 
    number (server#11761)
  - Normalize getUnjailedPath (server#11770)
- changes from 14.0.2
  - Fix contacts menu on mentions (server#11350)
  - Make the server ready to use global scale with SAML as auth 
    back-end (server#11373)
  - Fix default flex shrink on list (server#11374)
  - Fixes the logo height (server#11385)
  - Do not explode when getting permissions from a FailedStorage 
    (server#11389)
  - Do not hide the progress bar while the chunked upload is being 
    assembled (server#11399)
  - Fix "checkWellKnownUrl" not being run (server#11418)
  - Add back the total used space per user (server#11425)
  - Fix invalid inline input confirm border (server#11426)
  - Center back the history icon (server#11430)
  - AssemblyStream is also eof if we have no more source stream 
    (server#11436)
  - Re-enable upload button after updating Avatar (server#11451)
  - Fix typo in config.sample.php (server#11488)
  - Bugfix 2FA theme: buttons white (server#11489)
  - Update config and babel for ie11 (server#11490)
  - Only catch QueryException when trying to build class 
    (server#11492)
  - Show auth type "None" in email settings (server#11493)
  - Fix public page footer link wrap (server#11510)
  - Fix share header text on small widths (server#11511)
  - Add missing compiled mimetype list (server#11516)
  - Fixes the move/copy picker buttons (server#11525)
  - Fix breadcrumbs (server#11530)
  - Added kinetic scrolling for iOS to apps dropdown menu #10281
    (server#11554)
  - Throw an error if a node is smaller than expected in 
    assemblystream (server#11555)
  - Reduce the min-width of the files table so it works on sharing
    pages on mobile (server#11556)
  - Fix header overflow, fix more apps menu, fix #11552 
    (server#11558)
  - Add new group entry on users list + fixes (server#11575)
  - Redirect guests to login if they follow the link of a comment 
    mention-notifications (server#11577)
  - Force multiselect max-height to 5.5 items (server#11579)
  - Just update password hash without validating (server#11580)
  - Fix sticky header on users list (server#11582)
  - Fix header border on users list (server#11608)
  - Fix call to logger (server#11610)
  - Allow the creationg of previews of files stored in appdata
    (server#11703)
  - Update CRL due to changed cert for linkshareex (server#11706)
  - Fix a misleading setup check for .well-known/caldav & carddav
    (server#11738)
  - Remove unneeded CSS rule for IE 11 (files_pdfviewer#101)
  - Hide footer in public share page (files_pdfviewer#103)
  - Fix embedded viewer with new server layout on IE 11 
    (files_pdfviewer#98)

-------------------------------------------------------------------
Wed Sep 26 16:16:54 UTC 2018 - ecsos@opensuse.org

- update to 14.0.1
  - Fixes the upload progress bar layout - 14 backport 
    (server#11039)
  - Fix markup and style of mentions in comments (server#11077)
  - Do not invalidate main token on OAuth (server#11090)
  - Expire tokens hardening (server#11103)
  - fix js files client for user names with spaces (server#11152)
  - Fix user and group listing with users that have an integer 
    user id (server#11186)
  - Fix exception class (server#11187)
  - Remove posix_getpwuid and compare only userid (server#11191)
  - Fix check for more users in sharing dialogue (server#11201)
  - Remove filter_var flags due to PHP 7.3 deprecation, 
    fixes #10894 (server#11237)
  - Fixes empty favorite names for trailing slashes (server#11259)
  - Fix size of icons in menus inside apps when shown as images
    (server#11276)
  - Prevent comment being composed from overlapping the submit
    button (server#11277)
  - replace setcookie value with '' instead of null. (server#11280)
  - Fix the link and anchor for the update notifications 
    (server#11282)
  - Include empty directories in the default state of acceptance
    tests (server#11283)
  - Get permission of storage for shares (server#11287)
  - Shared by info for room shares without names (server#11288)
  - Fix icons cacher regex for compressed output (server#11291)
  - Revert "Use APCu caching of composer" (server#11293)
  - Use user locale as default in the template (server#11294)
  - Fix expiration code of tokens (server#11302)
  - Add unit test for findLanguageFromLocale (server#11340)
  - 14 scroll fix (activity#295)
  - Update stable14 target versions (files_texteditor#111)
  - Update stable14 target versions (firstrunwizard#80)
  - Update stable14 target versions (gallery#467)
  - Update stable14 target versions (nextcloud_announcements#32)
  - Update stable14 target versions (notifications#158)
  - Update config and babel for ie11 (notifications#161)

-------------------------------------------------------------------
Mon Sep 10 15:04:19 UTC 2018 - ecsos@opensuse.org

- Insert Referrer-Policy in nextcloud.conf

-------------------------------------------------------------------
Thu Sep  6 18:54:35 UTC 2018 - ecsos@opensuse.org

- update to 14.0.0
  No changelog from upstrem. Look instead here:
  https://github.com/nextcloud/server/compare/v13.0.6...v14.0.0

-------------------------------------------------------------------
Fri Aug 31 17:05:06 UTC 2018 - ecsos@opensuse.org

- update to 13.0.6
  - Add sabre plugin to allow anonymous options requests to the dav 
    root (server#10285)
  - Do scan the root storage in background scan (server#10376)
  - Adding test for table schedulingobjects and fixing postgres LOB 
    (server#10552)
  - Fix transfering ownership of a share to user with same id as 
    receiver (server#10565)
  - Make file cache updates more robust (server#10581)
  - Retry smb stat on timeout (server#10591)
  - Use insertIfNotExists to store new mimetypes. (server#10620)
  - Only warn about data lose on password reset if per-user keys 
    are used (server#10646)
  - Update the scope of the lockdownmanager (server#10682)
  - Log entries that are hidden during file listing (server#10698)
  - Forgotten pass fix link (server#10735)
  - Fix comment style in config sample (server#10759)
  - Make sure error_log() always receives a string (server#10760)
  - Fix call to OC.generateUrl for caldav birthday calendar on/off 
    (server#10761)
  - Use the path_hash instead of the path to query the filecache 
    (server#10762)
  - Don't blame random people for background email updates 
    (server#10763)
  - Resolve all group memberships properly (server#10783)
  - Remove unexecutable code (server#10816)
  - Improve URL detection (server#10821)
  - MySQL 8.0+ and MariaDB 10.3+ are large prefix and 
    barracuda by default (server#10823)
  - Disallow negative mtime in dav search (server#10837)

-------------------------------------------------------------------
Tue Jul 24 12:19:49 UTC 2018 - Mathias.Homann@opensuse.org

- update to 13.0.5
  - Fix highlighting of the upload drop zone (server#9837)
  - Apply ldapUserFilter on members of group (server#9839)
  - Make the DELETION of groups match greedy on the groupID 
    (server#9841)
  - Add parent index to share table (server#9843)
  - Log full exception in cron instead of only the message 
    (server#9958)
  - Properly lock the target file on dav upload when not using part
    files (server#9986)
  - LDAP backup server should not be queried when auth fails
    (server#10032)
  - Fix filenames in sharing integration tests (server#10044)
  - Lower log level for quota manipulation cases (server#10076)
  - Let user set avatar in nextcloud if LDAP provides invalid 
    image data (server#10089)
  - Improved logging of smb connection errors (server#10093)
  - Allow admin to disable fetching of avatars as well as 
    a specific attribute (server#10115)
  - Allow to disable encryption (server#10121)
  - Update message shown when unsharing a file (server#10164)
  - Fixed English grammatical error on Settings page.
    (server#10165)
  - Request a valid property for DAV opendir (server#10169)
  - Allow updating the token on session regeneration 
    (server#10170)
  - Prevent lock values from going negative with memcache backend 
    (server#10180)
  - Correctly handle users with numeric user ids (server#10185)
  - Correctly parse the subject parameters for link (un)shares of 
    calendars (server#10188)
  - Fix "parsing" of email-addresses in comments and chat messages 
    (server#10189)
  - Sanitize parameters in createSessionToken() while logging 
    (server#10195)
  - Also retry rename operation on InvalidArgumentException 
    (server#10201)
  - Improve url detection in comments (server#10202)
  - Only bind to ldap if configuration for the first server is set 
    (server#10233)
  - Use download manager from PDF.js to download the file 
    (files_pdfviewer#84)
  - Fix trying to load removed scripts (files_pdfviewer#87)
  - Only pull for new messages if the session is allowed to be kept 
    alive (notifications#138)
  - Always push object data (notifications#139)
  - Add prioritization for Talk (notifications#140)

-------------------------------------------------------------------
Mon Jun 11 16:40:57 UTC 2018 - ecsos@opensuse.org

- update to 13.0.4
  - Allow setting notify credentials in environment (server#9788)
  - Make the token expiration also work for autocasting 0 
    (server#9803)
  - Enable caldav for webdav subtree public-calendars (server#9820)
- This also fix security issues:
  - (boo#1100343, CVE-2018-3762) and (boo#1100344, CVE-2018-3761)

-------------------------------------------------------------------
Thu Jun  7 22:12:29 UTC 2018 - ecsos@opensuse.org

- update to 13.0.3
  - Backport various scss fixes #8777 (server#9259)
  - Fix ellipsis in filename column (server#9344)
  - Replace deprecated sinon reset() call with resetHistory() 
    (server#9358)
  - Issue #9318: catch exceptions in SCSSCacher::resetCache()
    (server#9377)
  - Log lock state on conflict (server#9389)
  - Remove unneeded locks in getCacheEntry (server#9391)
  - Only allow a single concurrent dav write to a file 
    (server#9392)
  - Workflow rules error when changing operation (server#9409)
  - Fix jsunit tests (server#9430)
  - Allow IPv6 database host (server#9432)
  - Add labels for Contacts menu and Settings (server#9433)
  - Get correct version of an app (server#9436)
  - Fix ids of permission checkboxes for shares (server#9453)
  - Fix race condition when preparing upload folder (server#9454)
  - Allow to specify a link to a legal notice (server#9516)
  - Fix for unbound cloned LDAP connections (server#9522)
  - Dont use $info as array when its not an array (server#9525)
  - Improve OAuth (server#9540)
  - Bump theming version for extraordinary release (server#9547)
  - Fix translation bug on lost password page (server#9548)
  - Cleanup locks in scanner on error (server#9566)
  - Bump version for theming again 🙇 (server#9573)
  - Make sure force language is reflected in html lang attribute
    (server#9579)
  - Add privacy link to theming and fix scrollbars (server#9586)
  - Fix settings menu (server#9590)
  - Handle exception while itterating trough smb file listing
    (server#9608)
  - Send invitations for shared calendars (server#9610)
  - Regenerate session id after public share auth (server#9619)
  - Emit event when running ./occ db:add-missing-indices 
    (server#9620)
  - Add PHP missing message to index.php (server#9621)
  - Delete the previews when a version is restored (server#9622)
  - Limit Sinon version to 5.0.7 at most (server#9629)
  - Prepare another theming release including translations for 
    recently added imprint and privacy policy strings 
    (server#9647)
  - Dont open the file on dav HEAD request (server#9649)
  - Fix(AmazonS3): fix loop $result['Contents'] error 
    (server#9650)
  - Fix undefined variables (server#9651)
  - Add search category icon (server#9652)
  - Fix "Invalid argument supplied for foreach()" (server#9654)
  - Do not load calendar/addressbook plugins if not needed 
    (server#9655)
  - Make LargeFileHelper.php faster by avoiding execs as much as 
    possible (server#9656)
  - Improve error reporting and move format parameter to the 
    options (server#9657)
  - The OAuth endpoint needs to support Basic Auth (server#9659)
  - LDAP password renewal fixes (server#9661)
  - Check user state when fetching to avoid dealing with offline 
    objects (server#9662)
  - Make sure the file is readable before attempting to create 
    a preview (server#9668)
  - Fix drone mysqlmb4 tests (server#9672)
  - Make sure the log doesn't try to read from PUT if it can't 
    (server#9694)
  - Allow admins to override FreeBusy capabilities without 
    modifying ShareAPI capabilities (server#9707)
  - Fix the unit tests (server#9712)
  - Fix header nav (server#9727)
  - Fix local users check in contacts menu (server#9732)
  - Don't open the file when handling HEAD requests (3rdparty#99)
  - Do not sanitize markdown output twice (files_texteditor#101)

-------------------------------------------------------------------
Thu Apr 26 16:45:18 UTC 2018 - ecsos@opensuse.org

- update to 13.0.2
  - Show group display names (server#8779)
  - Group existence check works without attribute (like with users)
    (server#8849)
  - The FN is optional, carrying the displayname if present 
    (server#8900)
  - Set "share with" field to the ID of the circle (server#8905)
  - Show EOL warning in the update section (server#8986)
  - Use app version to generate scss filename (server#9015)
  - Update icewind/smb to 2.0.5 (server#9017)
  - Fix search text overlapping close button (server#9019)
  - Clear any theming prefixed cache on cache buster increase 
    (server#9020)
  - Reset encryptionVersion to '1' if a file was stream copied 
    (server#9064)
  - Do not treat is-encrypted as custom property (server#9071)
  - Fix proper permissions for multiple file access (server#9072)
  - When formatting a share node an Empty target is invalid
    (server#9073)
  - Move on with the next user if we found the user on one user 
    back-end (server#9077)
  - Allow usage of Windows 10 WebDav Netdrive (server#9089)
  - Add more logging for the object storage during creation of the 
    buckets (server#9094)
  - Do not convert email addresses with idn_to_ascii if… 
    (server#9095)
  - Fix progress bar hidden before the upload ends (server#9124)
  - Update CRL to include old quicknotes cert (server#9213)
  - Fix user selectable text for public links for text files 
    (server#9230)
  - Provide an option to disable HTML emails (server#9231)
  - Fix appinfo parsing when a single localized option is provided 
    (server#9233)
  - Use multibyte substring (server#9234)
  - Fix webdav support for OneNote clients (server#9236)
  - Fixed files copy/move when in favorites or recent section 
    (server#9238)
  - Don't update personal settings for admins (activity#262)
  - Skip parameters which are not there instead of failing out 
    (activity#265)
  - Bump version 13 (files_pdfviewer#64)
  - Fix info.xml (files_pdfviewer#66)
  - No default enable (files_pdfviewer#67)
  - Fix position of icons in "Share with" input field (gallery#418)
  - Fix "No results found" tooltip (gallery#419)
  - Fix UI while a share is being added (gallery#420)
  - Hide "No results found" tooltip on autocompletion (gallery#424)
  - Fix error while clicking on the share link checkbox 
    (gallery#430)

-------------------------------------------------------------------
Thu Mar 15 16:33:22 UTC 2018 - ecsos@opensuse.org

- update to 13.0.1
  - Dont polute the log on DAV emaillogin (server#8045)
  - Don't perform CSRF check on OCS routes with Bearer auth 
    (server#8099)
  - Use S3Client::upload instead of splitting single/multipart 
    upload ourselves (server#8102)
  - Remove old perl script to update l10n files (server#8145)
  - Scss hardening (server#8156)
  - Do not try to get the jailed path if we can't find the id 
    (server#8177)
  - Handle SSL certificate verifications for others than 
    Let's Encrypt (server#8183)
  - Use a phan version instead of master (server#8195)
  - Repair step to clear frontend related caches (server#8197)
  - Keep previous exception when transforming to dav exception
    (server#8228)
  - Actually return stream from swift (server#8250)
  - Remove invalid link to documentation (server#8253)
  - Fix deleting folders when using s3 external storage  
    (server#8261)
  - Link to NC13 dev manual (server#8264)
  - Better result handling of email search (server#8267)
  - Update CRL to revoke files_rightclick (server#8271)
  - Fix styling issues of guest pages #8155 (server#8286)
  - Remove jquery ui background image (server#8287)
  - Show open graph preview in WhatsApp (server#8309)
  - Make acceptance tests for comments more consistent with the 
    others (server#8395)
  - Fix edit tag textbox size (server#8407)
  - Use TTF fonts for avatar generation (server#8440)
  - Use mb_* string methods to extract first character for 
    generated avatars (server#8470)
  - Show hint in OCS API for user creation (server#8515)
  - Fix hiding and event propagation issues with the user 
    management popover (server#8517)
  - Add some whitespace around change.svg icon (server#8518)
  - Avoid fruitless login attempts (server#8532)
  - Fix retrieval of group members with numerical uids from LDAP 
    (server#8536)
  - Theming: handle not being in the serverroot (server#8554)
  - Ext storage error warning (server#8561)
  - Set autocomplete=new-password for mail share password
    (server#8577)
  - Fix upload button visible on read-only folders (server#8595)
  - Fixed app navigation for IE11 (server#8609)
  - Fix breadcrumbs width calculation (server#8610)
  - Fix comments (and systemtags) when involving users with 
    numerical ids (server#8615)
  - Update commentstabview.js (server#8621)
  - Properly encapsulate require_once for app.php (server#8631)
  - AppData hardening (server#8636)
  - Use hash algo that's robust against collisions (server#8654)
  - Fixed date/time picker on IE11 (server#8663)
  - Use a more widely available method to test s3 settings 
    (server#8667)
  - Use proper lanugage in langauge code (server#8668)
  - Display the proper language strings in setttings (server#8669)
  - Do not create empty userid when attribute does not have allowed
    chars (server#8673)
  - Remove too restrict check for background image/color
    (server#8675)
  - Fix example regex for user agent matching (server#8676)
  - Generate different UIDs for Birthday, Anniversary and Death
    event (server#8678)
  - Don't use double quotes in MySQL queries (server#8680)
  - Log exceptions that happen when writing the app store reply
    to storage (server#8683)
  - Set the correct active navigation entry (server#8685)
  - Fix activities for end2end encryption (server#8686)
  - Filter out the current user when searching for emails too 
    (server#8687)
  - Fix check if theming defaults instance is available 
    (server#8688)
  - Fix undefined index problem (server#8693)
  - Disable part files for object stores (server#8725)
  - Better handling of invisible elements in acceptance tests
    (server#8738)
  - Remove base url from global cache prefix (server#8745)
  - Check if the cached js file exists (server#8746)
  - Sharee email matches not limited (server#8749)
  - Fix integer overflow in ChunkingPlugin (server#8752)
  - Revert wording back to updates (server#8755)
  - Add acceptance tests for permissions on public shared folders 
    (server#8758)
  - Also send file emails in ASAP mode (activity#249)
  - Ensure userids are strings (activity#252)
  - Null coalescing operator is PHP7+ (activity#254)
  - Update PDF.js to 1.9.426 (files_pdfviewer#55)
  - Enable full screen mode for PDF files (files_pdfviewer#59)
  - Fix ACE module files failing to load (files_texteditor#83)
  - Do not keep FileInfoModels returned by "getModelForFile" 
    (files_texteditor#89)
  - Fix share drop down in gallery not properly shown (gallery#394)
  - Fix gallery button hidden in folders without create permission
    (gallery#402)
  - Fix controls position in gallery layout (gallery#405)
  - Removed old code already present thanks to the files app
    (gallery#406)
  - Create "file app" public share links if the slideshow is
    opened from ... (gallery#407)
  - Allow to check against haveibeenpwned.com password list 
    (password_policy#61)

-------------------------------------------------------------------
Tue Feb  6 12:23:12 UTC 2018 - ecsos@opensuse.org

- update to 13.0.0
  Over 1100 changes were merged in the server, with many hundreds 
  more in existing or new apps. The main improvements include:
  * Collaboration features
    - Nextcloud Talk, a private videoconference software integrated 
      with Nextcloud
      - real-time and asynchronous communication with push 
        notifications, calls and chat web and mobile devices
      - Integration in business workflow with calendar invitations 
        and calls directly from Nextcloud Files
      - Screen and note sharing with participant moderation 
        capabilities
      - 100% secure peer-to-peer, end-to-end encrypted calls, 
        mediated by self-hosted server
    - auto-completion of user names in comments and notification 
      to the mentioned user
    - support free/busy scheduling in native calendar applications 
      like Thunderbird Lightning
    - show meeting invites in the calendar
  * End-to-End Encryption
    - can encrypt data on a per-folder level rather than 
      all-or-nothing approach
    - does not require users to remember or exchange passwords
    - does not require re-uploading data upon sharing
    - features an optional off-line administrator recovery key
    - allows full audit logging
    - can be combined with our File Access Control feature so 
      administrator can enforce aspects of End-to-end Encryption
    - protects from identity theft with our Cryptographic Identity 
      Protection feature
    This feature is in Tech Preview for Nextcloud 13 and does not 
    yet implement sharing.
  * User Interface
    - new way of selecting files
    - easy way to quickly copy or move to a location
    - High DPI support
    - admin menu integrated in one list
    - no limitation to file uploads via the web interface
    - user quota in the side bar
    - social sharing (Twitter, G+, Facebook, Diaspora) now features
      a preview
    - improved theming
  * Performance
    - decreased page load times with up to 50% and faster search
    - 80% faster LDAP and up to 10x faster external storage
    - Server-side Encryption performance largely improved
        
   See https://nextcloud.com/changelog/

-------------------------------------------------------------------
Wed Jan 24 15:46:44 UTC 2018 - ecsos@opensuse.org

- update to 12.0.5
  Many fixes were merged, the most important ones include:
  - #7144 Unlock files even if an exception occurs
  - #7322 Set primary action button color to same as theming color
  - #7323 Use the correct root for shared jail when the source 
    storage is also a jail
  - #7353 Fix translation of federation scope menu
  - #7362 Allow to skip data dir permission checks
  - #7407 Check if owner of share exists
  - #7409 Add retry wrapper when reading files from swift
  - #7451 Fix constructor spy in unit test with Sinon 4.1.3
  - #7455 Remove wrong entry in admin_settings that causes 500
  - #7456 CardDAV convertor check should not be to wide
  - #7457 Fix loading icon position in the app menu
  - #7464 Allow getting the filepath when getting cached mounts
  - #7468 Allow 'Nextcloud' in the user agent string of Android
  - #7558 Fix email buttons for white theme
  - #7567 Respect sharing options when searching for Sharees
  - #7568 Fix duplicate session token after remembered login
  - #7577 Check userExists later, 
    saves lookups for appData_INSTANCEID userids
  - #7672 Added additional methods for removal of sensitive info
  - #7688 Fix scss webroot and url rewrite
  - #7717 Throw ServerNotAvailableException when LDAP is caught 
    shutting down
  - #7666 Fix drag shadow not visible when dragging a file on 
    a narrow screen
  - #7674 Do no run SyncJob in cron
  - #7684 Fix inverted app icons on IE11
  - #7694 Don't attempt to translate login names to uids when uids
    are provided
  - #7708 Don't show recurring msg when pages result was turned off
  - #7742 Hide favourite icon in details view if favourite action 
    is not available
  - #7745 Don't lie about preview types
  - #7747 Update of composer
  - #7758 add option to use legacy v2 auth with s3
  - #7759 Use correct L10N files for jsconfig
  - #7757 Wait for the shared link to be set in the acceptance 
    tests
  - gallery/#349 Fix date picker not visible in slideshow sharing 
    dialog
  - activity/#229 Properly construct path of root on file rename
  - #7770 Fix SCSS processing when undoing theming values
  - #7774 Update icewind/smb to 2.0.3
  - #7777 Set height for sidebar icons
  - #7779 Improve zip support
  - #7786 Return correct mount type for federated shares
  - #7792 Fix empty details view after renaming a file
  - #7817 Fix preview when theming changes invertion of icons
  - #7821 Log full exception in cron instead of only the message
  - #7888 Keep all shipped apps enabled because they should be okay
  - #7962 update icewind/smb to 2.0.4

-------------------------------------------------------------------
Tue Dec 19 18:38:20 UTC 2017 - ecsos@opensuse.org

- Nextcloud 12 is not compatible with php ≥ 7.2,
  so php < 7.2 is needed.

-------------------------------------------------------------------
Mon Dec  4 17:13:49 UTC 2017 - ecsos@opensuse.org

- upstream update to version 12.0.4
  * Server
    Over 50 fixes were merged in the server.
    - Improve text: 'you have now' -> 'you now have (server#6464)
    - Fix initializing paged search under some circumstances 
      (server#6502)
    - LDAP: simplify returning the homePath (server#6509)
    - Fix sharer name overlap with filename (server#6524)
    - Allow to close sidebar for text files (server#6525)
    - Fix quota new endpoint 12 (server#6527)
    - Pass new value to triggerChange (server#6528)
    - Throw 101 when an empty group string is provided 
      (server#6547)
    - Contacts menu privacy (server#6554)
    - Add color-border variable (server#6649)
    - Do not stop on scss compilation failure (server#6661)
    - Don't pass User object when uid string is expected 
      (server#6674)
    - Navigate to the root directory when showing the main filelist 
      (server#6689)
    - Fix LDAP User deletion (cleanup) (server#6699)
    - Update aws sdk + s3 improvements (server#6737)
    - Dont run invalid path repair step when upgrading 
      from 11.0.5.2 and later (server#6743)
    - Fix language when trying to change password (server#6751)
    - Fix postgresql tests (server#6792)
    - Also use configured 'cache_path' for new chunking 
      (server#6814)
    - Set s3 part size to 500mb (server#6815)
    - Fix contacts menu for IE11 (server#6823)
    - Still trigger conflict resolution for existing entries when 
      the curre (server#6847)
    - Propagate multipart upload exception when aborting upload 
      (server#6855)
    - Allow to migrate from 10.0.3.3 (server#6878)
    - Timespan check (server#6896)
    - Do not log WebDAV maintenance mode exception (server#6908)
    - Don't reset quota (server#6910)
    - Backport of translation string fixes (server#6935)
    - Fix class name in exception logger plugin (server#6942)
    - Allow quota of 0 again (server#6943)
    - Fix uninitialized variable $this->params (server#6944)
    - Don't add a LIKE condition when it's not needed (server#6945)
    - Fix undefined offset warning when using '/' as external 
      storage root (server#6946)
    - Fix page title not changed (server#6987)
    - Better readability for text on log in page which is directly 
      on backgrounds (server#7028)
    - Translate Grant Access (server#7040)
    - Use fopen directly when reading objects from s3 (server#7079)
    - Improve mimetype detection for object storages (server#7081)
    - Fix seeking on object storage (server#7082)
    - Hide spinner for initial install (server#7095)
    - Ensure uid for calendar objects is unique (server#7096)
    - Revert "Only allow colons in db host for IPv6 addresses 
      (server#7102)
    - Theme flow redirection page (server#7114)
    - Fix icon for security settings (server#7116)
    - If for some reason the json can't be decoded it is not cached
      (server#7118)
    - Improve performance of UserMountCache with external storage 
      folders (server#7120)
    - {J,CS}SResourceLocator: account for symlinks in app path 
      (server#7170)
    - Fix s3 download and touch (server#7186)
    - Touch opertation on object storage, don't create 
      the file cache entry to early (server#7207)
    - Allow migration from upcoming 10.0.4 ownCloud release 
      (server#7245)
    - CSSResourceLocator: handle SCSS in apps outside root 
      (server#7257)
    - only replace permission popupmenu (server#7259)
    - Fix accesslist when a user has an ID only containting 0-9 
      (server#7262)
    - Update CRL due to files_frommail (server#7277)
    - Only in case of $currentAccess the array uses the id as index
      (server#7328)
  * Other
    - Add aws sdk (3rdparty#69)
    - Don't send emails to disabled users (activity#202)
    - Add an option to disable emails completly (activity#206)
    - Make sure the mountPoint property is public before using it 
      (files_accesscontrol#79)
    - Allow to playback m4v files (files_videoplayer#43)
    - Fix notifications order (notifications#93)
    
-------------------------------------------------------------------
Tue Sep 19 15:44:28 UTC 2017 - ecsos@opensuse.org

- upstream update to version 12.0.3
  Nextcloud 12.0.3 delivers a lot of enhancements in various areas 
  including:
    - A number of improvements to email notification templates
    - 2FA enhancements
    - Smarter LDAP password handling
    - File Drop and upload-in-general updates
    - A performance improvement handling large files
  See https://nextcloud.com/changelog/#latest12
  Details: https://github.com/nextcloud/server/pulls?q=is%3Apr+milestone%3A%22Nextcloud+12.0.3%22+is%3Aclosed
  
-------------------------------------------------------------------
Tue Aug 15 09:16:16 UTC 2017 - ecsos@opensuse.org

- upstream update to version 12.0.2
  * Server
    - Minor bugfix release

-------------------------------------------------------------------
Thu Aug 10 19:47:41 UTC 2017 - ecsos@opensuse.org

- upstream update to version 12.0.1
  So many changes. See https://nextcloud.com/changelog/#latest12

-------------------------------------------------------------------
Mon Jul 17 18:32:45 UTC 2017 - ecsos@opensuse.org

- unneeded git-files should not be remove,
  otherwise it throw integrity check failure in some situations.

-------------------------------------------------------------------
Mon May 22 15:28:21 UTC 2017 - ecsos@opensuse.org

- upstream update to version 12.0.0
  no changelog from upstream at this time
  See https://github.com/nextcloud/server/issues?q=is%3Aissue+milestone%3A%22Nextcloud+12.0%22+is%3Aclosed

-------------------------------------------------------------------
Fri Apr 28 22:46:46 UTC 2017 - ecsos@opensuse.org

- fix boo#1036756: package security issue

-------------------------------------------------------------------
Mon Apr 24 18:09:20 UTC 2017 - adamradovits12@hotmail.com

- upstream update to version 11.0.3
  * Server
    - Use the correct principal for shared addressbooks 
	  (server/3608)
    - Fix saving backup codes by using a correct data uri 
	  (server/3652)
    - Update icewind/streams to 0.5.2 (server/32931)
    - Fix string comparison and return docs (server/3665)
    - Typecast shared mount's storage_id to int as documented
      + some refactor to avoid similar bugs (server/3658)
    - Use a proper date format for transfer ownership 
	  (server/3700)
    - DAV sharing permissions should not depend on the order 
	  (server/3722)
    - Add new user agent of windows 10 dav backend 
	  (server/37641)
    - Add back appstoreenabled config switch (server/37671)
    - Call right function after sudo mode (server/3820)
    - Dont allow empty wildcard search (server/3842)
    - Remove single quotes around search query like in 
	  user search (server/3849)
    - Fix mimetype detection on public uploads for the 
	  workflow engine (server/3765)
    - Fix branding and show Nextcloud (server/39691)
    - Fix reshare with user activity message (server/39812)
    - Create correct VCard and return correct error codes 
	  (server/4029)
    - Prevent migration from ownCloud 10 to Nextcloud 11 
	  (server/34151)
    - Make sure transparency is an integer when saving a 
	  calendar (server/4167)
    - Make public links work with master key (server/42071)
    - Don't try to render the avatars if avatars are 
	  disabled (server/4214)
    - Reduce error message text (server/42281)
    - Don't list on public calendar endpoints (server/4229)
    - Fix upload of folders in Chrome (server/4154)
    - Make sure blob columns are correctly converted as 
	  parameters (server/4233)
    - Save the scope of an auth token in the session 
	  (server/4225)
    - Take share by mail into consideration if we calculate 
	  the access list (server/4242)
    - Also add the root of external storages to the file id 
	  list (server/4237)
    - Fix LDAP description (server/42382)
    - Remove the double password confirmation on changing 
	  cron (server/4236)
    - Fix scheduling plugin on legacy caldav endpoint 
	  (server/4235)
    - Directly fix invalid values of DTEND and DTSTART 
	  (server/4234)
    - Make JobList::next() lock free (server/4254)
    - Don't remove owner property for public calendars 
	  (server/4272)
    - Add capabilities for share by mail (server/42511)
    - Dont use the permissions mask while scanning 
	  (server/4278)
    - Add missing maintenance plugin to new DAV endpoint 
	  (server/4290)
    - Fix bug with shared_by for own calendars if shared 
	  (server/4301)
    - Translation string corrected > 1 user (server/4377)
  * Activity
    - Fix activities for "Files drop" on external storages 
	  (activity/118)
  * User_SAML
    - Bump to php-saml 2.10.5 (user_saml/1001)
  * Logreader
    - Small screen layout improvements 
	  (logreader/2bcd915969386ceb77c7f91dfd5fc19fd3212346
    - Fix log filtering 
	  (logreader/4095dfc62dcceb3c59a3f581baa5589737d0e6f3)
    - Greatly speedup log iteration 
	  (logreader/71a4c6849641f821e80d96674c57a69fe7a8aa9e)
    - Search more rows 
	  (logreader/b9d00b5599ac8a76862895266f1c23096391aad8)
    - Stop iterating if we dont have a valid file handle 
	  (logreader/a87a8e653ecae5efef6342e645b98f2878219c87)
    - Don't return a LogIterator on a broken handle 
	  (logreader/39069108f99d463b1cb8bc944f3ef24324b9f43d)
    - More robust log iteration 
	  (logreader/c0eb04d55bf1dee94ef523dae0e3b0e6afc272a6)
    - Use proper iso date format 
	  (logreader/13a31181a6d72d084797a71f49f2c5edee8c8dae)
    - Automatically try to fix some common escape errors from 
	  copy-pasted log entries 
	  (logreader/031db2a7f9b9f8cee42acf6eae7d993d31d4660a)
    - Fix stack trace parsing of incorrectly escaped logentries 
	  (logreader/538667770edfdd48374ef33e9c15498ed98ece60)
    - Highlight entries from the same request when clicking 
	  on an entry 
	  (logreader/2d1ccd0e4cca32220fcbe0b4d79d1cd23f0e73a5)
    - Fix copy paste info searchfield 
	  (logreader/0e91b2f46649a720feb7c3b6b8266b8657db5574)
    - Fix reset search after 0 results 
	  (logreader/50bec8ecf7edd81cfb96a35089283c0d879b41f3)
    - Allow searching for requestId and user 
	  (logreader/7f84e55bb4a1e4086ab0918a6bf58ad3885bbd91)
    - Allow searching in url 
	  (logreader/7833d97cf85fd351d2f7550d67d21bd0c2a815f4)
    - Fix infinite scroll 
	  (logreader/cbe874c6c068b9156ad8456edf31d112da40cbc9)
    - Dont show loading indicator if we already have entries 
	  (logreader/d26a08dc0540126177e8d20c3e243b44c5a399c4)
  * Gallery
    - Fix upload after core changes 
	  (gallery/b4ac4429841cfe2b7ea260dfb37fcde25580143c2)
    - Update JavaScript libraries (gallery/247)

-------------------------------------------------------------------
Thu Mar  2 09:29:20 UTC 2017 - jengelh@inai.de

- Remove empty %postun and redundant %clean.
- Ensure summary/description is neutral.

-------------------------------------------------------------------
Tue Feb 28 22:50:25 UTC 2017 - ecsos@opensuse.org

- upstream update to version 11.0.2
  * Server
    - Use login name to fix password confirm with ldap users 
      (server/2953)
    - Change the row-format before changing the collation 
      (server/3063)
    - Generate correct path for owner and use the display name 
      (server/3080)
    - Markdown support for app descriptions (server/3117)
    - Fix style in comment (server/3143)
    - Escape the name for the jquery selector (server/3138)
    - Define spreed calls (server/3115)
    - LDAP Backend OCS Api (server/3213)
    - Fix Sharing app description (server/3397)
    - Fix shared-as-busy events for owner (server/3363)
    - Use correct theming when returning the defaults (server/3399)
    - Filter out sensitive appconfig values (server/3400)
    - Add transifex config for sharebymail (server/3423)
    - Update the email in the accounts table as well (server/3411)
    - Don't log the password on confirmPassword when LDAP throws an 
      exception (server/3414)
    - Make sure ownCloud 8.2 activities also can get displayed 
      (server/3412)
    - Popovermenu backport (server/3286)
    - Set vendor during install (server/3426)
    - Make sure the file information is available when sending the 
      email (server/3433)
    - Add profile data to provisioning api (server/3259)
    - Fix detection of the new iOS app (server/3431)
    - Add integration tests for legacy DAV endpoints (server/3445)
    - Make sure invalid images don't flood the log file 
      (server/3440)
    - Fix printing backup code (server/3510)
    - Fix cookie name (nctoken instead of octoken) (server/3511)
    - LDAP's checkPassword should only catch when a user was not 
      found (server/3493)
    - Return unknown free space from nullstorage (server/3508)
    - Fix for address book data lost when any user receiving a 
      share is deleted (server/3499)
    - Rename database password toggle (server/3500)
    - Popovermenu files css fix (server/3494)
    - Add screensharing icon (server/3481)
    - Fix misleading wording: searching is affected, not user 
      access (server/3560)
    - Backport of Fix Broken UUID Attribute Detection (server/3528)
  * Activity
    - Make sure integer like names are still strings (activity/103)
    - Fix activities for public uploads (activity/113)
    - Show the parent as target when the file was not renamed 
      (activity/114)
    - Fix activities for "Files drop" on external storages 
      (activity/118)
  * SAML & SSO
    - Setup account later (user_saml/79)
  * Serverinfo
    - Fix SQL syntax error on MariaDB 10.0.27 and 10.1.19 
      (serverinfo/77)
    - Don't throw an error when /proc/meminfo is not readable 
      (serverinfo/76)
  * Survey_Client
    - Fix problem when checking size with dash in DB name 
      (survey_client/50)

-------------------------------------------------------------------
Fri Jan 27 10:18:35 UTC 2017 - guoyunhebrave@gmail.com

- Add php-openssl dependency

-------------------------------------------------------------------
Mon Jan 23 17:58:01 UTC 2017 - ecsos@opensuse.org

- upstream update to version 11.0.1

-------------------------------------------------------------------
Wed Dec 14 17:28:37 UTC 2016 - ecsos@opensuse.org

- upstream update to version 11.0.0

-------------------------------------------------------------------
Fri Sep 30 19:05:50 UTC 2016 - ecsos@opensuse.org

- upstream update to version 10.0.1

-------------------------------------------------------------------
Sat Aug 27 10:27:46 UTC 2016 - ecsos@opensuse.org

- upstream update to version 10.0.0

-------------------------------------------------------------------
Sun Aug  7 16:52:22 UTC 2016 - chris@computersalat.de

- update spec file
  * osc service localrun format_spec_file
  * update Source with full URL
  * simplify deps mainly for openSUSE

-------------------------------------------------------------------
Sat Jul 23 12:33:00 UTC 2016 - ecsos@opensuse.org

- enable HSTS to prevent the warning "The Strict-Transport-Security
  HTTP header is not configured" in admin-page
- turn maintenance:mode off after upgrade

-------------------------------------------------------------------
Thu Jul 21 15:17:28 CEST 2016 - asemen@suse.de

- upstream update to version 9.0.53 (bsc#989998)

-------------------------------------------------------------------
Fri Jul  8 17:31:32 UTC 2016 - ecsos@opensuse.org

- make apache_secure_data more restrictiver
- add missing .user.ini
- move README and README.SELinux to docdor to fix message code 
  integrity check

-------------------------------------------------------------------
Tue Jul  5 15:16:35 CEST 2016 - asemen@suse.de

- upstream update to version 9.0.52

-------------------------------------------------------------------
Fri Jul  1 14:02:22 CEST 2016 - asemen@suse.de

- initial build nextcloud 9.0.51

