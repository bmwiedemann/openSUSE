From 11ad747142f3cd1782d596aea8252db7ecb790f3 Mon Sep 17 00:00:00 2001
From: Jonathan Kang <jonathankang@gnome.org>
Date: Tue, 18 May 2021 08:51:34 +0800
Subject: [PATCH] Add CAP_CHOWN to CapabilityBoundingSet to make teamd work
 properly

https://gitlab.freedesktop.org/NetworkManager/NetworkManager/-/issues/722
---
 data/NetworkManager.service.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: NetworkManager-1.30.4/data/NetworkManager.service.in
===================================================================
--- NetworkManager-1.30.4.orig/data/NetworkManager.service.in
+++ NetworkManager-1.30.4/data/NetworkManager.service.in
@@ -14,7 +14,7 @@ ExecStart=@sbindir@/NetworkManager --no-
 Restart=on-failure
 # NM doesn't want systemd to kill its children for it
 KillMode=process
-CapabilityBoundingSet=CAP_NET_ADMIN CAP_DAC_OVERRIDE CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SETGID CAP_SETUID CAP_SYS_MODULE CAP_AUDIT_WRITE CAP_KILL CAP_SYS_CHROOT CAP_SYS_ADMIN
+CapabilityBoundingSet=CAP_NET_ADMIN CAP_DAC_OVERRIDE CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SETGID CAP_SETUID CAP_SYS_MODULE CAP_AUDIT_WRITE CAP_KILL CAP_SYS_CHROOT CAP_SYS_ADMIN CAP_CHOWN
 
 ProtectSystem=true
 ProtectHome=read-only
