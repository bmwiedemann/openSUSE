Index: NetHack-3.6.7/src/cmd.c
===================================================================
--- NetHack-3.6.7.orig/src/cmd.c
+++ NetHack-3.6.7/src/cmd.c
@@ -5945,6 +5945,16 @@ readchar()
         readchar_queue = click_to_cmd(x, y, mod);
         sym = *readchar_queue++;
     }
+
+	if(sym == 27) { /* ESC (generated by Alt-key) */
+#ifdef REDO
+		sym = in_doagain ? pgetchar() : nh_poskey(&x, &y, &mod);
+#else
+		sym = pgetchar();
+#endif
+		sym |= 0x80;
+	}
+
     return (char) sym;
 }
 
