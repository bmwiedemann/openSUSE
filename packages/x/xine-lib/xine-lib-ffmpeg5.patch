diff -Nur orig-xine-lib-1.2.12/src/combined/ffmpeg/demux_avformat.c xine-lib-1.2.12/src/combined/ffmpeg/demux_avformat.c
--- orig-xine-lib-1.2.12/src/combined/ffmpeg/demux_avformat.c	2022-03-06 17:31:23.000000000 +0100
+++ xine-lib-1.2.12/src/combined/ffmpeg/demux_avformat.c	2022-09-08 08:02:04.756525710 +0200
@@ -30,6 +30,7 @@
 #include <errno.h>
 
 #include <libavformat/avformat.h>
+#include <libavcodec/version.h>
 #include <libavformat/avio.h>
 
 #define LOG_MODULE "libavformat"
diff -Nur orig-xine-lib-1.2.12/src/combined/ffmpeg/input_avio.c xine-lib-1.2.12/src/combined/ffmpeg/input_avio.c
--- orig-xine-lib-1.2.12/src/combined/ffmpeg/input_avio.c	2022-03-06 17:31:23.000000000 +0100
+++ xine-lib-1.2.12/src/combined/ffmpeg/input_avio.c	2022-09-08 08:02:39.896994849 +0200
@@ -29,6 +29,7 @@
 #include <pthread.h>
 
 #include <libavformat/avio.h>
+#include <libavutil/avutil.h>
 
 #define LOG_MODULE "libavio"
 #define LOG_VERBOSE
