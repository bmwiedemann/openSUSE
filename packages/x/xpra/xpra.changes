-------------------------------------------------------------------
Mon Sep  7 11:00:51 UTC 2020 - Callum Farmer <callumjfarmer13@gmail.com>

- Fixes for %_libexecdir changing to /usr/libexec (bsc#1174075)

-------------------------------------------------------------------
Wed Aug 19 12:58:54 UTC 2020 - Luigi Baldoni <aloisio@gmx.com>

- Use proper location of bash in script shebang
- Add runtime requirement

-------------------------------------------------------------------
Wed Aug 19 09:20:53 UTC 2020 - Dominique Leuenberger <dimstar@opensuse.org>

- Use %{_udevrulesdir} consistently throughout the .spec.

-------------------------------------------------------------------
Sat Aug  8 08:24:00 UTC 2020 - aloisio@gmx.com

- Update to version 4.0.3
  * fix server crash caused by use after free in scrolling code
  * fix encryption option overzealously enforced on all socket
    types
  * fix network layer compression errors that can cause
    connections to drop
  * fix printing errors with some shell character encodings
  * fix NVENC h264 stream compatibility with HTML5 client
  * fix windows not getting focused when clicking on title bar
    (HTML5)
  * fix suspend / resume errors with tray windows
  * fix garbled terminal when ssh messages and 'top' client
    conflict
  * fix OpenGL force-enable option not honoured
  * fix tray geometry errors
  * fix socket setup error handler
  * fix minimum video scaling not being honoured via heuristics
  * fix error in main thread verifier (fortunately, never fired)
  * fix archlinux build root stripping
  * fix detection of named-pipe creation errors
  * fix clipboard data sometimes going missing when ownership
    changes
  * fix memory contents of the swscale pixel format object
  * fix csc_swscale converter getting recycled every time
  * fix division by zero errors during window cleanup
  * fix rfb connections missing all screen updates
  * fix toolbox examples when running under wayland
  * fix notification widget wrongly stealing input focus
  * fix support for building with CUDA 11.0
  * fix unshrinkable session-info window
  * fix window resizing errors when non-GUI clients are also
    connected
  * avoid ever using b-frames for text content
  * avoid opengl warning with wayland
  * add extra environment variables to try to disable any server
    side scaling
  * also update mdns records when the session name changes
  * workaround for older versions of python-cryptography
  * use 'text' mode for 'geany' (fixes lossy screen updates)
  * ensure all toolbox windows set a correct and readable window
    title
  * make it possible to specify the path used for saving video
    streams / frames

-------------------------------------------------------------------
Fri Jul 17 22:22:24 UTC 2020 - Markus Ebner <info@ebner-markus.de>

- add python3-opengl, and python3-opengl-accelerate as recommended
  dependencies, to support OpenGL in the client

-------------------------------------------------------------------
Fri Jun  5 11:25:10 UTC 2020 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 4.0.2
  * fix encryption not honoured with TCP sockets upgraded to
    WebSocket
  * fix xpra top client refresh rate via timer
  * fix opengl client info format shown in 'xpra top'
  * fix format of attributes given to glXChooseVisual
  * fix crashes in OpenGL context setup on X11
  * fix race condition in window statistics
  * fix server errors when non-interactive clients are connected
  * fix tray toolbox app
  * fix X11 server key symbol lookup via Xkb
  * html5 fixes:
    + fix missing desktop background
    + client errors painting rgb32 data with a padded rowstride
    + clipboard wrongly clearing data on failures
    + compatibility issues with Internet Explorer
    + missing transparency for windows in focus
    + no windows focused after close
    + connection errors caused by spurious packets
    + error in invalid packet handler
    + AES encrypted connections
    + connection errors with AES and lz4 (disable lz4 for now)
    + packet error with very small paint packets
    + 'insecure passwords' option shown in the wrong cases
    + handle window iconification messages
    + update version in about page
  * fix connection errors with 'None' values in bencoder (ie:
    html5)
  * fix connection errors with websocket connections and AES
    encryption
  * fix duplicate clipboard token sent with MS Windows servers
  * fix window initialization errors causing server startup
    failures
  * remove invalid extra strings from mdns service name
  * workaround bugs in pyxdg / menu configuration
  * add 'terminator' to the 'text' application hint
  * more explicit error message when trying to use python2

-------------------------------------------------------------------
Sun May 17 16:39:00 UTC 2020 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 4.0.1
  * fix missing content-type for some windows
  * fix GTK server crash on exit
  * fix compatibility with newer versions of uglifyjs
  * fix ssh session start and attach on Posix systems
  * fix 'xpra send-file' to use absolute file paths
  * fix MacOS shadow servers failing to accept connections

-------------------------------------------------------------------
Sun May 10 18:10:53 UTC 2020 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 4.0
  * Drop support for:
    + Python 2, GTK2
    + legacy versions (pre 1.0)
    + weak authentication
  * Network, per socket options:
    + authentication and encryption
    + ssl
    + ssh
    + bind options for client
  * make it easier to send files from the server
  * xpra toolbox subcommand
  * xpra help subcommand
  * xpra top new features
  * faster startup
  * signal handling fixes
  * smoother window resizing
  * refactoring and testing
    + unit tests coverage and fixes
    + completely skip loading unused features at runtime
    + get rid of capabilities data after parsing it
    + better module dependency separation
    + don't convert to a string before we need it
  * more useful window and tray title
  * make it easier to source environment
  * disable desktop animations in desktop mode
  * automatic start-or-upgrade, automatic X11 display rescue
  * support MS Windows OpenSSH server to start shadow
  * more selective use of OpenGL acceleration in client
  * expose server OpenGL capabilities
  * cleaner HTML5 syntax

- Refresh xpra-paths.patch

-------------------------------------------------------------------
Tue Apr 14 16:14:15 UTC 2020 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 3.0.9
  * fix HTML5 client XSS
  * fix focus issues
  * fix server hangs and unpainted windows due to invalid
    dimensions
  * fix window icons and cursors visual corruption or crashes
  * fix unbearably slow screen updates when vrefresh value is
    invalid
  * fix client OpenGL crashes with remote starts (run probe
    first)
  * fix keypad regression (AltGr changes, again)
  * fix MS Windows shadow servers
  * fix race condition collecting latency data for session info
  * fix missing pycuda dependency for nvenc on MS Windows
  * fix missing signatures on MS Windows EXE and MSI builds
  * fix scoring of NVENC codec (should be used ahead of sofware
    encoders)
  * fix start menu updates getting lost
  * fix OpenGL diagnostic messages getting cut off
  * fix change of encoding from the system tray
  * fix quality and speed changes from the system tray
  * fix clipboard and popup menu problems with Eclipse
  * fix name of shadow server process on MS Windows, used in log
    file names
  * fix audio query subprocess with MS shadow servers
  * fix unlikely race condition in speaker forwarding shutdown
    sequence
  * fix desktop-fullscreen=yes automatic scaling
  * fix missing bug report data due to uninitialized X11 bindings
  * fix bug report error if we cannot grab a screenshot (ie:
    Wayland)
  * fix error saving binary data with python3 builds of the bug
    report tool
  * fix errors querying the display under Wayland
  * hide scary stacktraces when shutting down ssh proxy commands
  * if we have an ssh password we can use, try that first
  * blacklist VirtualBox's SVGA3D OpenGL driver (fixes black
    windows)
  * don't use webp with image dimensions beyond its limits
  * use regular X11 system tray with i3
  * hide confusing named-pipe prefix in empty output on MS
    Windows
  * HTML5 fixes: invalid IMG tag, reserved keyword, language
    detection, draw debugging, etc
  * don't try to read /proc if not on Posix
  * use a more specific python3 interpreter version
  * update application content-type mappings
  * remove out of date information from man page

-------------------------------------------------------------------
Tue Mar 31 21:08:47 UTC 2020 - aloisio@gmx.com

- Update to version 3.0.8
  * fix handling of dpi command line switch (correctly this
    time?)
  * fix bug report window not getting focus on MacOS
  * fix spurious ssh key warnings with newer versions of paramiko
  * fix AltGr mode with non-X11 clients, layout-group changes
  * fix rare unexpected client exit on MS Windows
  * fix MS Windows clipboard:
    + update failures
    + convert CRLF line endings
  * Clipboard:
    + fix selection not shown as active in menus (MS Windows and
      MacOS)
    + fix spurious warnings when sharing a session
    + fix clipboard reset with python2 builds
    + selection translation for outbound data
    + support client applications that don't use TARGETS (ie:
      Motif)
    + reject invalid targets
  * fix 'xpra upgrade' wrongly updating non-xpra displays
  * fix logging error in client geometry debugging output
  * fix spurious de-iconifications
  * fix handling of server control commands with python3 clients
  * fix UDP backport bug sending control packets
  * fix vfb getting killed on upgrade failure
  * fix proxy server cleanup: force forwarders to terminate
  * fix session info errors during client exit
  * fix printer cleanup errors with invalid UTF8 printer names
  * fix transient-for popup window workaround
  * fix unicode errors saving xpra runner shell script with
    python3
  * better detection of Wayland environments
  * use python3 (if installed) by default on Ubuntu Xenial
  * don't use Xdummy on arm, too slow
  * don't show 'Download' button that we can't honour
  * show all pressed keys according to X11 server in 'xpra info'
  * try harder not to use video for tiny areas

-------------------------------------------------------------------
Sat Mar 14 07:50:10 UTC 2020 - aloisio@gmx.com

- Update to version 3.0.7
  * fix avcodec2 race condition crash
  * fix errors when re-initializing windows (ie: toggling OpenGL
    on or off)
  * fix deiconification error when there are system trays
    forwarded
  * fix missing alpha channel when some windows are first shown
  * fix systemd-run errors: verify it does work before trying to
    use it
  * fix server crashes on SIGINT: shutdown cleanly
  * fix proxy server client connection setup error hanlder
  * fix file authentication handler using a default password
    filename
  * fix directshow errors on local mingw installations
  * fix opengl properties missing from server hello packet
  * fix HTML5 sound-control errors when speaker forwarding is
    disabled
  * fix HTML5 "Terminate" options wrongly enabled in "Connect"
    mode
  * fix clipboard sharing with the MacOS shadow server
  * fix MS Windows clipboard access denied errors
  * fix X11 clipboard error handling: continue processing
  * fix unit tests failures (clipboard, etc)
  * fix bug report clipboard copy and screnshots
  * fix clipboard timeouts when a client disconnects
  * fix mdns cleanup done twice on server exit, causing errors
  * fix malformed XSettings due to invalid color data format
  * fix HMAC hashes exposed, keep only valid options
  * fix 'showconfig' output for boolean values set to 'auto'
  * fix parsing of client display information in legacy format
  * fix validation of size-hints
  * fix cursor saving debug code with GTK3
  * fix keyboard layout group not getting reset on client exit
  * fix some empty keyboard layout group strings parsed as
    non-empty
  * fix keyboard-sync mode not being honoured by servers
  * fix keyboard raw mode
  * fix missing 'perispomeni' key mapping with Python 2 servers
  * add missing debug logging to keyboard mapping
  * more reliable lookup of keycodes when translating (non-X11
    clients)
  * skip bundling some external test modules with binary
    installers
  * avoid spurious background worker warnings on exit
  * make unavoidable comtypes error less scary
  * add 'libreoffice' to the text mode whitelist
  * packaging workarounds for setuptools breakage

-------------------------------------------------------------------
Mon Feb 10 11:20:15 UTC 2020 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 3.0.6
  * fix UDP with Python3
  * fix key mapping issues with non-X11 clients and non-US
    layouts
  * fix notification logging errors during shutdown
  * fix window stacking order with html5 client and override
    redirect windows
  * fix png/P and png/L decoding
  * fix very slow startup on Debian due to missing
    libfakeXinerama
  * fix display scaling notification warning
  * fix errors generating the tray title string
  * fix missing webp modules in 'clean' build target
  * fix some special characters with HTML5 client
  * fix initiate-moveresize with multiple clients
  * fix control commands argument error handling
  * fix unit tests
  * fix window repaint issues: system tray, Python 2 non-opengl
    window spinners
  * fix server errors during client connection cleanup
  * fix spacebar and other characters with tablet input devices
    (ie: mobile browsers)
  * fix unhelpful backtraces when client application windows are
    lost
  * fix for crashes on X11 displays lacking RandR support
  * fix handling of non 24/32-bit png window icons
  * man page connection string fixes
  * disable cpuinfo module - known to cause problems on various
    platforms
  * ignore error and continue when loading version information
    from invalid builds
  * remove executable file permissions on files uploaded to the
    server
  * blacklist 'Intel(R) UHD Graphics 620'
  * use correct location for appdata.xml
  * use Debian location for systemd service config file
  * ensure emacs, gvim and xxdiff always use 'text' mode
  * re-enable pulseaudio memfd (was wrongly disabled in v3.0.0)
  * remove remnants of GTK2 dependencies from non-GTK2 components
  * add missing entry to path information tool

- Refreshed xpra-paths.patch

-------------------------------------------------------------------
Mon Feb  3 16:57:51 UTC 2020 - Dominique Leuenberger <dimstar@opensuse.org>

- BuildRequire pkgconfig(systemd) instead of systemd: allow OBS to
  shortcut through the -mini flavors.

-------------------------------------------------------------------
Tue Jan 28 10:20:29 UTC 2020 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 3.0.5
  * fix fake Xinerama errors with unicode monitor names
  * fix av-sync backport for python2 servers
  * fix errors when the dbus submodule is not installed
  * fix RFB server key handling
  * fix exit code for unsupported sockets
  * fix tray title with openssh and plink SSH backends
  * fix 'xpra upgrade'
  * fix focus problems with OR windows
  * fix wrong client info shown in 'xpra top'
  * fix 'xpra top' error that scrambled the output, flickering
  * fix X11 keyboard query against secondary screens
  * skip trying to load X11 components on non-X11 platforms
  * allow F11 through to the browser to make it easier to go
    fullscreen
  * prevent sshfp dns errors from causing ssh connection failures
  * obscure passwords from log files
  * remove duplicated attribute from xpra info
  * remove unused loggers
  * expose av-sync and webcam client capabilities
  * better wayland mode detection
  * add more missing files to MANIFEST
  * add v4l2 codec files to clean target
  * add logging to gtk display cleanup

- Refreshed xpra-paths.patch to update systemctl location

-------------------------------------------------------------------
Mon Dec 23 13:44:02 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 3.0.4
  * fix av-sync
  * fix X11 property synchronization error due to race condition
  * fix XI2 bindings not loading
  * fix ssh upgrades wrongly claimed as supported when paramiko
    is not installed
  * fix 'wireless' network device detection on Linux
  * fix 'Sound Buffer' graph
  * fix errors caused by window title error handler
  * fix missing 'Packet Encoders' and 'Packet Compressors' with
    python3 clients
  * distinguish certificate verification errors from other ssl
    errors

- Enable ffmpeg encoder for Leap

-------------------------------------------------------------------
Wed Dec 11 07:13:25 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 3.0.3
  * fix clipboard synchronization with HTML5 client
  * fix window repaints with GTK3
  * fix GDK scaling causing window painting issues (force off)
  * fix slow repaint with OpenGL and combined updates (ie:
    scrolling)
  * fix missing video screen updates with 32-bit browsers:
    disable video
  * fix for X11 applications requesting invalid clipboard targets
  * fix "xpra top" errors when the terminal window is too small
  * fix blank xpra dialog windows when closed then shown again
    (ie: server commands)
  * fix compilation on non-i386 32-bit platforms
  * fix platform query errors causing command failures
  * fix Python2 builds: ignore GTK2 deprecation warnings
  * fix X11 property synchronization with Python2 builds
  * fix XSetClassHint call with Python 3
  * fix window move + resize shortcut
  * fix ssh proxy options not preserved when loading session
    files
  * fix error and missing refresh after changing quality or
    speed settings
  * fix NVENC error when pynvml is not installed
  * fix NVENC temporary failure retry code path
  * fix DPI value from the command line with desktop-scaling
  * fix typo in man page
  * fix errors with some odd Python3 builds
    (subprocess.getoutput)
  * fix cursor packets missing encoding attribute
  * fix notification error handling the speaker forwarding error
    message
  * fix incorrect and unhelpful message on connection error
  * make it possible to disable colourspace synchronization
  * show mdns status in xpra info
  * support CUDA 10.2

-------------------------------------------------------------------
Wed Nov 20 19:48:11 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 3.0.2
  * fix clipboard synchronization issue with MS Windows clients
    properly
  * fix Pillow 6.x compatibility with MS Windows packaging
  * fix null bytes in X11 error text properly
  * fix Python 3 servers wrongly re-sending the 'screen'
    attribute
  * fix remote logging failures with some message formats
  * fix lost screen updates
  * fix GTK scaling causing window geometry issues
  * fix HTML5 clipboard data sent from polling events
  * fix CUDA device logging with multiple devices
  * fix 32-bit build errors on xxhash
  * fix RPM jpeg and libyuv dependencies
  * fix OpenGL window not refreshing with Python 3
  * fix OpenGL context held for too long
  * fix SSH connection errors when 'port' is specified in the
    ssh config
  * fix faac and faad2 security issues in MS Windows and MacOS
    builds
  * fix window size hints misapplied with GTK3 on MS Windows and
    Wayland
  * disable OpenGL acceleration on old Intel chipsets
  * disable OpenGL acceleration with GTK3 builds on MS Windows
    (for now, pending bug)
  * show python interpreter version on about dialog
  * re-instante ancient popup window workaround (was disabled by
    mistake)
  * don't use av-synchronization for text and picture content
    types
  * workaround Fedora packaging causing gratuitious conflicts

-------------------------------------------------------------------
Sun Nov  3 10:42:55 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 3.0.1
  * fix clipboard synchronization failures with MS Windows
    clients
  * fix window cleanup errors preventing a clean exit
  * fix launcher error if sharing flag is unset
  * fix window states wrongly getting reset
  * fix SSH password dialog lockups on MS Windows
  * fix authentication module errors (multifile, python3)
  * fix radio buttons on start server dialog (python3)
  * fix error in encoding selection fallback (python3)
  * fix logging error in cups printing backend (python3)
  * fix null bytes in X11 error text (notifications errors)
  * fix keyboard debug logging error
  * fix error querying X11 properties under pure wayland client
  * fix unresponsive appindicator system tray
  * fix GDK window scaling setting wrongly propagated to the
    server
  * fix compilation on Ubuntu Eoan Ermine
  * fix file download failures on MS Windows due to invalid
    characters
  * fix handling of file download errors
  * fix Debian bin path warnings
  * fix error handling in 'xpra top'
  * fix pyobjc API compatibility in OpenGL transparency shim
  * fix out of date PKG OS version requirements
  * fix PKG compatibility with MacOS 10.15 Catalina
  * fix window border color parsing failures causing errors
  * fix OpenGL window paint errors with some drivers
  * make it easier to launch test tools
  * update Python to 3.7.5 on MacOS
  * bump revision to override broken Fedora packaging
  * show Python version in MacOS packages
  * re-enable tooltips on MS Windows
  * update to xxhash 0.7.2
  * consistent use of quotes in endpoint logging

- Spec cleanup

-------------------------------------------------------------------
Wed Oct  2 06:12:07 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 3.0
  * Python 3 port complete, now the default: #1571, #2195
  * much nicer HTML5 client user interface: #2269
  * Window handling:
    + smoother window resizing: #478 (OpenGL)
    + honouring gravity: #2217
    + lock them in readonly mode: #2137
  * xpra top subcommand: #2348
  * faster startup:
    + #2347 faster client startup
    + #2341 faster server startup
  * OpenGL:
    + more reliable driver probing: #2204
    + cursor paint support: #1497
    + transparency on MacOS: #1794
  * Encoding:
    + lossless window scrolling: #1320
    + scrolling acceleration for non-OpenGL backends: #2295
    + harden image parsing: #2279
    + workaround slow video encoder initialization (ie: NVENC)
      using replacement frames: #2048
    + avoid loading codecs we don't need: #2344
    + skip some CUDA devices, speedup enumeration: #2415
  * Clipboard:
    + new native clipboard implementations for all platforms:
      #812
    + HTML5 asynchronous clipboard: #1844
    + HTML5 support for copying images: #2312 (with watermarking)
    + brotli compression for text data: #2289
  * Authentication:
    + modular client authentication handlers: #1796
    + mysql authentication module: #2287
    + generic SQL authentication module: #2288
  * Network:
    + client listen mode: #1022
    + retry to connect until it succeeds or times out: #2346
    + mdns TXT attributes updated at runtime: #2187
    + zeroconf fixes: #2317
    + drop pybonjour: #2297
    + paramiko honours IdentityFile: #2282, handles SIGINT
      better: #2378
    + proxy server fixes for ssl and ssh sockets: #2399, remove
      spurious options: #2193
    + proxy ping and timeouts: #2408
    + proxy dynamic authentication: #2261
  * Automated Testing:
    + test HTML5 client: #2231
    + many new mixin tests: #1773 (and bugs found)
  * start-new-commands is now enabled by default: #2278, and the
    UI allows free text: #2221
  * basic support for native GTK wayland client: #2243
  * forward custom X11 properties: #2311
  * xpra launcher visual feedback during connection: #1421,
    sharing option: #2115
  * "Window" menu on MacOS: #1808

- Refreshed xpra-paths.patch

- Switched build to python 3

-------------------------------------------------------------------
Sat Jul 27 13:08:50 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 2.5.3
  * fix HTML5 MSIE 11 detection
  * fix HTML5 path of audio script for IE
  * fix HTML5 CapsLock and NumLock state detection
  * fix HTML5 desktop server screen size not resizing to match
    window
  * fix shadow servers display resizing not being propagated
  * fix scroll encoding with multi monitor shadow servers
  * fix handling of uncompressed window icon pixel data
  * fix handling of unicode values for desktop names
  * fix remote ssh failures with python3-only installations
  * fix '_monitor' subcommand with python3 clients
  * fix client ping latency calculations
  * fix non-strict ssl host key not honoured with wss connections
  * fix handling of websocket and ssl traffic with unix-domain
    sockets
  * fix ssl and websocket connection upgrades with python3
    servers
  * fix handling of websocket ping packets
  * fix unnecessary delay in initial connection handling
  * fix incorrect disconnections with non-UI clients
  * fix spurious socket warnings
  * fix distro information shown for proxied connections
  * fix invalid mdns records for rfb connections (desktop and
    shadow servers)
  * fix GTK3 signal handling before the main loop is running
  * fix file descriptor leak when running child commands
  * fix clipboard-direction setting not propagated to the client
  * fix clipboard datatype shortcut not taken due to a typo
  * fix clipboard bugs with python3 builds, invalid atoms
  * fix overzealous cleanup code in X11 root property handler
  * fix Xresources debug logging and error handler
  * fix errors during cleanup: close display later
  * fix uinput device mode with python3 servers
  * fix errors if md5 is not available: use sha1
  * fix default build options for RedHat
  * fix typos in man page and docstrings
  * silence annoying atk warnings
  * avoid running invalid lpinfo commands
  * improve compatibility with 'xpra top'
  * make it possible to skip opengl probing during server startup
  * add missing modal-window entry in man page
  * reduce weak RPM dependencies on gnome components

-------------------------------------------------------------------
Fri Jun 14 07:11:10 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 2.5.2
  * fix mmap leak which can cause the client to stop painting
  * fix OpenGL crashes: don't try to use it when probing process
    has crashed
  * fix errors in avahi error handler
  * fix connection errors when loading ssh public keys
  * fix tests being run with the wrong python interpreter version
  * fix systemd-run using the wrong python interpreter version
  * fix start menu with python3 clients
  * fix x264 encoder failing to create a compatible stream for
    the html5 client
  * fix unnecessary xdg menu data in some subcommands
  * fix large xdg menu data causing initial packet size errors
  * fix packet size warning message format
  * fix start menu with python3 clients
  * fix html5 client connection error when xdg-menu data is
    missing
  * fix html5 client compatibility with buggy x264 encoders (as
    above)
  * fix html5 client clipboard packet format
  * fix session info graphs start values
  * fix colour channels swapped with some window icons and
    desktop servers
  * fix slower compression code path wrongly used when av-sync
    is disabled
  * fix icon type attribute (remove dot)
  * fix signal forwarding with python3 servers
  * fix system tray forwarding with python3 servers
  * fix socket attributes name lookup for xpra info
  * fix handling proxy server info requests
  * fix proxy server info errors trying to enumerate sessions
  * fix automatic MTU adjustements with UDP transport
  * fix NVENC compatiblity with library soname found in newer
    installers
  * fix invalid python2 DEB dependency in main meta package
  * fix default config value for opengl attribute
  * fix HTML5 client authentication issue when going through a
    proxy server
  * fix socket errors on startup with bind-ssl
  * fix server dbus service attribute accessor methods
  * fix network jitter injector
  * fix avahi mdns publisher test tool
  * fix zeroconf error when service info is not available
  * fix remote ssh failures with python3-only installations
  * fix automatic interpreter version switching when re-executing
  * fix start-via-proxy exit code handler
  * fix socket-permissions option not being honoured
  * fix error in the codec loader if the first codec attempted
    fails
  * fix error in the codec instantiation leak detection code
  * fix exit hooks not being called with 'exit-with-client'
  * fix RandR build errors with older versions of Cython (ie:
    Xenial)
  * fix GTK3 build of the keyboard test tool on MS Windows
  * fix errors parsing xresources
  * fix handling of xsettings with python3 servers
  * fix font hinting detection with python3
  * fix errors during cleanup if server initialization or
    startup had failed
  * fix pure python3 builds cairo headers used
  * updated package dependencies: recommend python-dns for sshfp
    support

-------------------------------------------------------------------
Fri Apr 26 22:18:38 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 2.5.1
  * fix sending of icons as premultipled ARGB
  * fix compatibility with old versions of python-pillow
  * fix scroll encoding code flow (should be impossible to hit)
  * fix handling of info requests with Python3 servers
  * fix missing option for lock argument in man page
  * fix ssh errors handling authentication failures
  * fix ssh server connections and support 'none' authentication
  * fix start new command menu
  * fix appindicator failures when we fail to locate the default
    icon
  * fix command line tools usage under cygwin and terminal
    emulators
  * fix pointer position on multi-monitor shadow servers
  * fix system tray forwarding with python3 servers
  * fix window icons forwarding (MS Windows and MacOS mostly)
  * fix detection of splash window types
  * fix server startup errors when X11 root properties are
    invalid
  * fix shadow server startup failures on MacOS
  * fix system tray errors during shadow server startup on MacOS
  * fix printing errors with python3 builds and rencode packet
    encoder
  * fix parsing of printer options
  * fix dispatching of printer jobs to clients with python3
    servers
  * fix parsing of key symbol definitions with python3 servers
  * fix compatibility with older versions of GTK3
  * fix proxy video encoders initialization
  * fix 'missing encodings' server error with python3
  * fix spurious clipboard warning when clipboard is disabled
  * disable modal windows by default (was enabled by default
    since v2.3)
  * workaround buggy system trays
  * try harder to prevent hash collisions in scroll encoding
  * skip risky opengl probing when the initial check failed
  * prevent file conflicts with older packages
  * don't use appindicator with Fedora Gnome
  * minor packaging fixes (dates)
  * remove spurious ssh dnssec check logging
  * bump version in cups backend

-------------------------------------------------------------------
Tue Mar 26 14:18:16 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 2.5
  * Python 3 port mostly complete
  * pixel compression and bandwidth management:
    + better recovery from network congestion
    + distinguish refresh from normal updates
    + better tuning for mmap connections
    + heuristics improvements
    + use video encoders more aggressively
    + prevent too many delayed frames with x264
    + better video region detection with opengl content
  * better automatic tuning for client applications
    + based on application categories
    + application supplied hints
    + application window encoding hints
    + using environment variables and disabling video
  * HTML5 client improvements
  * Client improvements:
    + make it easier to start new commands, provide start menu
    + probe OpenGL in a subprocess to detect and workaround
      driver crashes
    + use appindicator if available
  * Server improvements:
    + start command on last client exit
    + honour minimum window size
    + Python 3
    + upgrade-desktop subcommand
  * Network layer:
    + less copying
    + use our own websocket layer
    + make mmap group configurable
    + TCP CORK support on Linux
  * SSH transport:
    + support .ssh/config with paramiko backend
    + connecting via ssh proxy hosts
  * SSHFP with paramiko:
    + clipboard: restrict clipboard data transfers size
  * code cleanups, etc

- Removed python2-opengl requirement (package not available
  and unnecessary since this release)

- Refreshed xpra-paths.patch

-------------------------------------------------------------------
Fri Mar  1 09:31:03 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Enabled OpenGL (fixes boo#1127415)
- Added brotli as build requirement
- Refreshed xpra-paths.patch

-------------------------------------------------------------------
Thu Jan 31 12:22:06 UTC 2019 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 2.4.3
  * fix minor glib timer handle leak and unnecessary timer
    scheduling
  * fix keyboard backwards compatibility with older 1.0 servers
  * fix error in keyboard debug logging
  * fix h264 decoding in HTML5 client
  * fix session info and bug report windows not getting
    dismissed in HTML5 client
  * fix precise wheel motion events with HTML5 client
  * fix clipboard with MacOS GTK2 clients
  * fix swap-keys menu entry wrongly disabled
  * fix potential memory leaks and errors in codecs due to cast
    error
  * fix crashy codecs on MS Windows: disable x264, 32-bit vpx
    with large sizes
  * fix validation errors with some quality and speed control
    commands
  * fix buggy parsing of clipboard-contents packets
  * fix jpeg encoder and decoder library version requirements
    (ie: for CentOS 7.x)
  * fix starting sessions via ssh on Ubuntu (workaround buggy
    systemd-run)
  * fix MS Windows clients handling system tray icons without an
    alpha channel
  * fix error in video exception message formating
  * fix errors handling pointer events with extra relative
    pointer data
  * fix potential string substitution errors with python2
  * fix connection to hosts that resolve to ipv6 only addresses
  * fix dbus mixin attributes initialized twice (wrong values)
  * fix race condition error with network congestion events
  * fix compatibility with newer ArchLinux Xorg path
  * fix exec-auth module timeout not being honoured
  * fix exec-auth wrongly returning success on MacOS
  * workaround SSH errors with Windows Services for Linux
  * reduce impact of fullscreen and maxmimized attributes on
    window refresh rate
  * never lock the batch delay when mmap is enabled

-------------------------------------------------------------------
Wed Dec  5 09:19:57 UTC 2018 - aloisio@gmx.com

- Update to version 2.4.2
  * fix server crash with application setting invalid X11 atoms
  * fix missing windows with some mono applications (ignore
    invalid X11 atoms)
  * fix small X11 memory leak
  * fix encoding of empty areas (hard to trigger)
  * fix client hangs due to signal-watcher (now disabled with
    python2)
  * fix virtual printer cleanup errors
  * fix leaking xvfb processes when displayfd times out
  * fix window size hints not being sanitized correctly
  * fix cpu waste and automatic quality calculations
  * fix statistics used by shadow servers
  * fix error capturing screenshots on MS Windows
  * fix logging error in modifier state change failure code path
  * fix nvenc errors with odd image heights
  * fix over aggressive screen update rectangle merging
  * fix race condition causing the connection cleanup code to
    run twice
  * fix ssh dialog button actions
  * ensure Qt applications use the X11 backend so we can
    intercept them
  * skip unnecessary video tests when mmap is enabled
  * handle property change handlers errors more gracefully
  * avoid recycling video contexts unnecessarily
  * don't flush video encoders when doing a regular content
    refresh

-------------------------------------------------------------------
Sun Nov  4 23:48:14 UTC 2018 - Jan Engelhardt <jengelh@inai.de>

- Make xpra-html5 subpackage noarch
- Speed up find -exec

-------------------------------------------------------------------
Sun Nov  4 14:47:43 UTC 2018 - Luigi Baldoni <aloisio@gmx.com>

- Dropped xpra-rpmlintrc

-------------------------------------------------------------------
Thu Nov  1 07:15:22 UTC 2018 - aloisio@gmx.com

- Update to version 2.4.1
  * fix popup window focus for some Java applications
  * fix popup window focus issue (ie: xterm menu)
  * fix system tray errors when mmap is disabled
  * fix missing codecs (numpy was blocked from loading)
  * fix nvenc compatibility with more python / cython / OS 
    versions
  * fix backwards compatibility in keyboard mapping
  * fix session info errors when connecting to older servers
  * fix man page typo
  * fix default value 'auto' for ssh option, better compatibility
  * fix dead code triggering some debug warnings
  * fix rare race condition when closing a connection
  * fix 'flush' client encoding options parsing
  * fix overzealous clipboard sanitization code
  * fix missing notification messages
  * fix ssh client authentication: try all keys found
  * fix version update check
  * fix usability issues with GTK3, especially on MS Windows
  * fix cython compilation warnings
  * avoid ethtool warning spam
  * use correct headers for building python3 cairo workaround 
    module

-------------------------------------------------------------------
Tue Oct 30 09:31:37 UTC 2018 - Luigi Baldoni <aloisio@gmx.com>

- Added python2-paramiko as recommended runtime dependency
- Spec cleanup

-------------------------------------------------------------------
Fri Oct 26 09:24:17 UTC 2018 - Luigi Baldoni <aloisio@gmx.com>

- Update to version 2.4
  * SSH client integration (paramiko)
  * builtin server support for TCP socket upgrades to SSH
    (paramiko)
  * automatic TCP port allocation
  * expose desktop-sessions as VNC via mdns
  * add zeroconf backend
  * register more URL schemes
  * window content type heuristics configuration
  * use content type it to better tune automatic encoding
    selection
  * automatic video scaling
  * bandwidth-limit management in video encoders
  * HTML5 client mpeg1 and h264 decoding
  * HTML5 client support for forwarding of URL open requests
  * HTML5 client Internet Explorer 11 compatibility
  * HTML5 client toolbar improvements
  * HTML5 fullscreen mode support
  * limit video dimensions to cap CPU and bandwidth usage
  * keyboard layout handling fixes
  * better memory management and resource usage
  * new default GUI welcome screen
  * desktop file for starting shadow servers more easily
  * clipboard synchronization with multiple clients
  * use notifications bubbles for more important events
  * workarounds for running under Wayland with GTK3
  * modal windows enabled by default
  * support xdg base directory specification and socket file time
  * improved python3 support (still client only)
  * multi-window shadow servers on MacOS and MS Windows
  * buildbot upgrade
  * more reliable unit tests
  * fixes and workarounds for Java client applications
  * locally authenticated users can shutdown proxy servers
  * restrict potential privileged information leakage
  * enhanced per-client window filtering
  * remove extra pixel copy in opengl enabled client
  * clip pointer events to the actual window content size
  * new platforms: Ubuntu Cosmic, Fedora 29

- Refreshed xpra-paths.patch

- Spec cleanup

-------------------------------------------------------------------
Mon Oct  8 07:48:43 UTC 2018 - aloisio@gmx.com

- Update to version 2.3.4
  * fix server does not shutdown cleanly (Xvfb not killed)
  * fix signals not emitted (ie: delay-tray command line option)
  * fix client desktop-scaling corner cases
  * fix handling of mixed clicks on system tray and the menu
    entries
  * fix MS Windows shadow server's cursor capture
  * fix URL parsing from launcher (ie: MacOS URL association)
  * fix MacOS crash with GTK3 builds and file chooser
  * fix non-opengl windows missing spinner with GTK3
  * fix RPM license information
  * fix mDNS zeroconf library version on MS Windows with Python 2
  * fix connection errors from making the client launcher exit
  * fix python3 errors in dbus server code
  * fix spurious error messages caused by video pipeline changes
  * fix proxy-video-encoders=all substitution
  * fix unicode string errors with RFB protocol and Python 3
  * fix missing idle and clipboard server information
  * fix .xpra file association with DEB packaging
  * fix pointer polling error with RFB connections (pointer
    going AWOL)
  * fix handling of closed RFB connections
  * fix unmanaged X11 call from shadow servers (potential
    crashes)
  * fix fallback pynotify notification handler
  * fix Python 3 shadow servers with RFB
  * fix Python 3 string errors writing run-xpra scripts
  * fix deadlocks with RFB connections
  * fix missing key mapping errors with RFB clients
  * fix session name not honoured or exposed via mdns for shadow
    servers
  * fix X11 display detection (socket may be owned by root with
    some display managers)
  * fix compatibility with csh and tcsh
  * fix spurious modifier key events from the HTML5 client
  * fix tray icon corruption on MS Windows
  * fix Motif WM hints parsing
  * fix DEB packaging dependencies
  * fix NVENC encoder wrongly exposing encodings which are not
    available
  * fix error running unit tests on MS Windows
  * fix potential file descriptor leak
  * fix valid XAuthority path potentially not found because
    unexpanded
  * fix proxy servers not honouring passwords in connection
    strings
  * fix sqlite authentication backend issue with identical
    usernames
  * support CUDA 10 and optimizations for Volta GPUs
  * Fedora 29 compatibility
  * fix race condition in unit tests which was causing random
    failures
  * add dependency required for running the unit tests with
    rpmbuild
  * prevent repeated clipboard warnings
  * let the server chooose the best initial quality to use
  * add file missing from clean build target
  * add missing entries in man page
  * add missing desktop file icons
  * shadow the current display if none is specified and we find
    more than one display
  * remove unneeded import, spurious debug logging
  * limit the amount of information exposed via the proxy
    server's dbus service
  * support base64 encoded SSL certificate data
  version 2.3.3
  * fix value shown in frame extents warning
  * fix HTML5 relative URLs for window control icons
  * fix HTML5 pointer events missing modifier keys
  * fix parsing errors when no display is specified
  * fix URL parsing with Python 3
  * fix tray setup errors on early client exit
  * fix putty plink PATH lookup issue
  * fix python3 compatibility for printer forwarding script
  * fix python3 alert box on MS Windows
  * fix python3 packaging on MS Windows
  * fix python3 client rendering of transparency with opengl
    disabled
  * fix file descriptor warnings on process exit with MS Windows
    builds
  * fix MS Windows monitor API overflow on 64-bit systems
  * fix compilation error with latest MSYS2 installations
  * fix desktop servers exit code
  * fix network congestion calculations when records expire
  * fix bandwidth warnings caused by slow client picture decoding
  * fix xpra info race condition error during cleanup
  * fix clipboard warnings: don't enable it unless the client
    requests it
  * fix spurious stacktraces caused by focus events on OR windows
  * fix painting of spinners with desktop-scaling and non-opengl
    backends
  * fix 'terminate server when command exits' from html5 client
  * fix SSL socket timeouts in proxy server
  * fix errors starting proxy instances if the user's home
    directory does not exist
  * fix ssh start remote command line compatibility mode
  * fix command line backwards compatibility
  * fix handling of tray geometry and keyboard detection failures
  * fix bandwidth-limit changes from the system tray menu
  * fix system version warnings on MacOS
  * force GTK3 Posix clients to use X11 backend (native Wayland
    crashes)
  * support cx_Freeze 5.x on MS Windows
  * don't require local user accounts with pam logins
  * drop invalid client connections without showing errors
    (desktop mode)
  * support building with Python 3.7 (some features made
    optional until ported over)
  * disable webcam forwarding with MS Windows client (broken
    upstream)
  * add missing RPM dependencies for running unit tests
  * prevent Python Pillow debug log spam
  * don't show spurious import errors during printing subsystem
    cleanup
  * show another possible reason for connection failures
  * make remote ssh command easier to parse
  * abort tests if build fails
  * use free colour profiles in all icon files
  * add missing man page entry for 'forward-xdg-open'
  * add missing files to manifest
  * man page typos

-------------------------------------------------------------------
Tue Jul 31 19:08:58 UTC 2018 - jon@moozaad.co.uk

- added libsystemd build req to fix invalid /etc/default/xpra usage

-------------------------------------------------------------------
Wed Jul 18 21:19:14 UTC 2018 - jon@moozaad.co.uk

- re-added xdummy args as auto detection wasn't enabling it
- reverted to python 2 for server support
- removed python 3 specific patch (cairo)

-------------------------------------------------------------------
Wed Jul 18 20:46:54 UTC 2018 - jon@moozaad.co.uk

- switched to python3
- added webp support
- cleanup spec file of default build options
- now builds on Leap >= 42
- patched broken py3cairo detection
- Removed ffmpeg for <= Leap 15 (requires libav >= 58.18)
- Removed vpx for < Leap 15 (that leaves Leap 42.x with avcodec2 and webp)

-------------------------------------------------------------------
Wed Jul 18 12:43:00 UTC 2018 - aloisio@gmx.com

- Update to version 2.3.2
  * fix notification actions support with shadow servers
  * fix paint errors with reformatted images using outdated
    stride value
  * fix control commands that call window refresh
  * fix broken pipe error when the browser cancels downloading
    the noicon placeholder
  * fix spurious refresh events
  * fix missing bug report data due to path errors
  * fix XAUTHORITY environment variable getting clobbered
  * fix html5 window refresh not throttled when the document is
    not visible
  * fix non-opengl painting of windows with a padding area
  * fix rgb paint of mmap data with the python2 cairo backend
  * fix invalid clipboard toggle requests not ignored
  * fix missing context handler for keymap setup (crash possible)
  * fix proxy server test to use a signal to stop the test
    instance
  * fix invalid exception value in X11 atom bindings
  * fix bandwidth limit client bypass and connection errors
  * fix building CUDA kernels with GCC 8.1
  * fix tray menu setup error when the clipboard is disabled
  * fix GTK3 buffer overflow with non-opengl backend
  * fix startup errors with pulseaudio if XDG_RUNTIME_DIR is
    missing
  * fix clipboard token send error when there are no targets
  * don't overwrite the dynamic system tray icon with the
    default one on startup
  * correctly disable desktop-scaling when mmap is enabled
  * skip repainting pointer overlay when the position is
    unchanged
  * prevent authenticated users from shutting down proxy servers
  * don't turn off notifications when we don't have a forwarder
    instance
  * don't try to log an exception that does not exist
  * allow the user to disable all video encoders and csc modules
  * send missing exception details to server with remote-logging
  * avoid RFB errors if screen capture fails
  * avoid further errors when shadow capture fails
  * recommend the dbus-x11 with the DEB package
  version 2.3.1:
  * fix CentOS / RHEL rpm dependencies for ldap authentication
  * fix spurious notifications warning
  * fix unsynced X11 context access to DPI (potential crash or
    warnings)
  * fix compilation warning in ffmpeg compatibility shim
  * fix filename extension check in launcher
  * fix h264 decoding in html5 client
  * fix menu stacking level in html5 client
  * fix focus issues with html5 client
  * fix socket error race condition during shutdown
  * fix scroll encoding errors on images with modified rowstride
  * fix desktop and shadow servers xinerama sizing issues
  * fix pixel encoding errors at low pixel depths
  * fix pixel-depth 8 wrongly rejected for start-desktop mode
  * fix colour encoding at pixel-depth 8
  * fix systemd warnings and packaging on Ubuntu 16.04
  * fix html5 client errors with audio debugging enabled
  * fix readonly mode bypass
  * fix client failure on servers without a valid desktop size
  * fix VNC connection handling of authentication
  * fix scary X11 desktop server warning with VNC clients
  * fix error in video debug logging
  * fix nvfbc errors during cleanup after initialization failures
  * fix client launcher not exiting on close
  * fix RFB clients causing sessions to be locked
  * fix rare deadlocks in exception handler
  * fix MacOS deprecation warnings
  * fix screen capture test script
  * fix CUDA DLL packaging
  * fix named-pipe errors with MS Windows Python3 and 64-bit
    builds
  * fix MinGW path detection issues
  * fix potential mmap leak with Python3 builds
  * fix screen update errors when XShm is disabled
  * silence GCC warnings when compiling NvFBC on MS Windows
  * increase default bandwidth congestion tolerance
  * remove duplicated DLLs from MS Windows Python3 builds
  * allow debugging via environment variables for all categories
  * don't prompt for the ssh password if we already have it
  * honour CFLAGS and LDFLAGS env vars
  * remove duplicated encoding from vpx encoder
  * add workaround for distributions shipping unpatched distutils
  * increase unit test failure timeout
  version 2.3:
  * stackable authentication modules
  * tcp wrappers authentication module
  * gss, kerberos, ldap and u2f authentication modules
  * request access to the session
  * pulseaudio server per session to prevent audio leaking
  * better network bandwidth utilization and congestion
    management
  * faster encoding and decoding: YUV for webp and jpeg, encoder
    hints, better vsync
  * notifications actions forwarding, custom icons, expose
    warnings
  * upload notification and management
  * shadow servers multi window mode
  * tighter client OS integratioin
  * client window positioning and multi-screen support
  * unique application icon used as tray icon
  * multi stop or attach
  * control start commands
  * forward signals sent to windows client side
  * forward requests to open URLs or files on the server side
  * html5 client improvements: top bar, debugging, etc
  * custom http headers, support content security policy
  * python3 port improvements
  * bug fixes: settings synchronization, macos keyboard mapping,
    etc
  * packaging: switch back to ffmpeg system libraries, support
    GTK3 on macos
  * structural improvements: refactoring, fewer synchronized X11
    calls, etc
  version 2.2:
  * support RFB clients (ie: VNC) with bind-rfb or rfb-upgrade
    options
  * UDP transport (experimental) with bind-udp and
    udp://host:port URLs
  * TCP sockets can be upgrade to Websockets and / or SSL, RFB
  * multiple bind options for all socket types supported: tcp,
    ssl, ws, wss, udp, rfb
  * bandwidth-limit option, support for very low bandwidth
    connections
  * detect network performance characteristics
  * "xpra sessions" browser tool for both mDNS and local sessions
  * support arbitrary resolutions with Xvfb (not with Xdummy yet)
  * new OpenGL backends, with support for GTK3 on most platforms
    and window transparency on MS Windows
  * optimized webp encoding, supported in HTML5 client
  * uinput virtual pointer device for supporting fine grained
    scrolling
  * connection strings now support the standard URI format
    protocol://host:port/
  * rencode is now used by default for the initial packet
  * skip sending audio packets when inactive
  * improved support for non-us keyboard layouts with non-X11
    clients
  * better modifier key support on Mac OS
  * clipboard support with GTK3
  * displayfd command line option
  * cosmetic system tray menu layout changes
  * dbus service for the system wide proxy server (stub)
  * move mmap file to $XDG_RUNTIME_DIR (where applicable)
  * password prompt dialog in client
  * fixed memory leaks

- Refreshed xpra-paths.patch

- Switched to ffmpeg4

-------------------------------------------------------------------
Fri Nov 10 15:57:50 UTC 2017 - aloisio@gmx.com

- Update to version 2.1.3 (see NEWS)
- Refreshed xpra-paths.patch

-------------------------------------------------------------------
Wed Jul 26 06:17:03 UTC 2017 - aloisio@gmx.com

- Update to version 2.1 (see NEWS)

-------------------------------------------------------------------
Tue Sep 22 08:47:31 UTC 2015 - olaf@aepfle.de

- Use pkgconfig for ffmpeg BuildRequires

-------------------------------------------------------------------
Wed Nov 12 10:22:11 UTC 2014 - olaf@aepfle.de

- avoid republish after rebuild of unchanged sources

-------------------------------------------------------------------
Thu May 30 10:05:09 UTC 2013 - pascal.bleser@opensuse.org

- update to 0.9.4

-------------------------------------------------------------------
Tue Apr 24 17:16:39 CET 2012 - pascal.bleser@opensuse.org

- initial version (0.2.0)

