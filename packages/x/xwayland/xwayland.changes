-------------------------------------------------------------------
Tue Dec 14 15:44:46 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- Update to version 21.1.4
  * Fixes for multiple input validation failures in X server extensions:
    + CVE-2021-4008/ZDI-CAN-14192 SProcRenderCompositeGlyphs out-of-bounds access (boo#1193030)
    + CVE-2021-4009/ZDI-CAN 14950 SProcXFixesCreatePointerBarrier out-of-bounds access (boo#1190487)
    + CVE-2021-4010/ZDI-CAN-14951 SProcScreenSaverSuspend out-of-bounds access (boo#1190488)
    + CVE-2021-4011/ZDI-CAN-14952 SwapCreateRegister out-of-bounds access (boo#1190489)
  * This release also includes other fixes such as:
    + Store EGLcontext to avoid superfluous eglMakeCurrent() calls
    + Prefer EGLStream with NVIDIA proprietary driver if both GBM and EGLstream are available

-------------------------------------------------------------------
Mon Nov  8 11:45:16 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- Update to version 21.1.3
  * Most notable change is a fix for the GBM backend to work with
    the Nvidia driver series 495.
- supersedes U_glamor-Fix-handling-of-1-bit-pixmaps.patch

-------------------------------------------------------------------
Thu Oct  7 12:22:22 UTC 2021 - Joan Torres <joan.torres@suse.com>

- Specfile cleanup

-------------------------------------------------------------------
Tue Sep 28 16:22:32 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- U_glamor-Fix-handling-of-1-bit-pixmaps.patch
  * glamor: Fix handling of 1-bit pixmaps; fixes e.g. issues with
    gimp on Wayland (which needs Xwayland) (boo#1189310)

-------------------------------------------------------------------
Mon Sep 27 11:56:41 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- covers jira#SLE/SLE-18653

-------------------------------------------------------------------
Thu Jul 15 18:24:01 UTC 2021 - Macie McKitrick <macie.mckitrick@protonmail.com>

- xwayland pc is required for S390x and S390

-------------------------------------------------------------------
Fri Jul  9 11:19:50 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- Update to version 21.1.2
  * The only change compared to the release candidate is a fix for
    a long standing issue where Xwayland wouldn't send events to
    notify clients of RandR configuration changes in some cases.

-------------------------------------------------------------------
Thu Jul  1 10:16:22 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- Update to version 21.1.1.901 (21.1.2 RC1)
  * It's a bit special, as most of the changes are not the usual 
    stable branch fixes material, but are needed for HW accelerated
    direct rendering with the Nvidia 470 driver (which is currently
    in open beta).
  * changes are mostly specific to the EGLStream backend and do not
    affect the GBM backend. And they make a big difference for users
    of the EGLStream backend.
  * See
      https://lists.fedoraproject.org/archives/list/desktop@lists.fedoraproject.org/thread/BBZVDNST67I2AQOCPSHKYAY6D5Z66JIP/ 
    for more information about testing the EGLStream changes
- enabled Wayland eglstreams (needs new packages egl-wayland and
  eglexternalplatform)

-------------------------------------------------------------------
Tue Apr 13 15:21:03 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- Update to version 21.1.1
  * Fix XChangeFeedbackControl() request underflow (CVE-2021-3472,
    ZDI-CAN-1259, bsc#1180128)

-------------------------------------------------------------------
Mon Apr 12 18:01:05 UTC 2021 - Tobias Klausmann <tobias.klausmann@freenet.de>

- Additionally to not packing /usr/lib64/xorg/protocol.txt, delete it to fix 
  the build 

-------------------------------------------------------------------
Mon Apr 12 10:48:11 UTC 2021 - Callum Farmer <gmbr3@opensuse.org>

- Make vendor name the same as xorg-x11-server

-------------------------------------------------------------------
Mon Apr 12 09:22:12 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- removed conflicting /usr/lib64/xorg/protocol.txt (already in
  xorg-x11-server package)

-------------------------------------------------------------------
Wed Apr  7 08:55:57 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- added summary for -devel package 
- some cleanup

-------------------------------------------------------------------
Wed Mar 17 21:20:29 UTC 2021 - Tobias Klausmann <tobias.klausmann@freenet.de>

- Update to version 21.1.0:
  * meson: Make sure XKM_OUTPUT_DIR has a trailing slash
  * xwayland: Fix LeaveNotify for relative pointer
- Highlights compared to xserver 1.20.10:
  * Xwayland's XVideo support (via glamor) now supports NV12
  * glamor can now accelerate some more RENDER extension formats
  * Xwayland's GLX provider now uses the EGL implementation instead of Mesa's
    swrast_dri.so directly
  * Xwayland can now use the wp_viewport Wayland protocol for up-scaling of
    fullscreen applications setting lower resolutions via the RandR / 
    XFree86-VidModeExtension extensions
  * Xwayland now alternates between multiple buffers for all Wayland surfaces,
    making it less of a special case compared to other Wayland clients
  * Xwayland can now use memfd_create for creating buffers shared with the
    Wayland compositor when glamor hardware acceleration is disabled
  * Xwayland has better support for clients using relative mouse input and 
    keyboard grabs
  * An Xwayland.1 manpage is now installed
  * Xwayland now supports -listenfd, -version and -verbose command line options
  * Xwayland now installs an xwayland.pc file which helps discovering the path
    of the installed Xwayland binary and the features it supports
  * Only meson is supported for building
  * Only Xwayland and Xvfb can be built, only Xwayland can be installed

-------------------------------------------------------------------
Thu Mar  4 09:49:25 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- update to 21.0.99.902
  * second release candidate for the standalone Xwayland 21.1.0 release 
  * meson.build: Keep the protocol version looking like xserver 1.20.x did
  * xwayland: Delay cursor visibility update

-------------------------------------------------------------------
Fri Feb 26 10:25:41 UTC 2021 - Stefan Dirsch <sndirsch@suse.com>

- added Buildrequires to pkgconfig(glproto) and pkgconfig(gl) to 
  fix build on Leap

-------------------------------------------------------------------
Fri Feb 19 13:22:04 UTC 2021 - Tobias Klausmann <tobias.klausmann@freenet.de>

- Initial stand-alone Xwayland package version 21.0.99.901 (boo#1182677)
