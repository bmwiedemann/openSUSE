--- src/xstereograph.c
+++ src/xstereograph.c
@@ -76,7 +76,7 @@
   wid_WH[0]=MakeWindow(msg_popup_title,
              SAME_DISPLAY, EXCLUSIVE_WINDOW);
   wid_WH[1]=MakeTextWidget((char *)data, 0,0,popup_width,popup_height);
-  wid_WH[2]=MakeButton("Okay", MsgPopupOkay, data);
+  wid_WH[2]=MakeButton("Okay", MsgPopupOkay, NULL);
   SetWidgetPos(wid_WH[2],PLACE_UNDER,wid_WH[1],NO_CARE,NULL);
 
   ShowDisplay();
@@ -147,8 +147,8 @@
    wid_config[8] = MakeTextWidget(editor_cmd, 0,1,600,50);
    wid_config[9] = MakeTextWidget(pager_cmd, 0,1,600,50);
    wid_config[10] = MakeTextWidget(img_viewer_cmd, 0,1,600,50);
-   wid_config[11] = MakeButton("OK", CfgOK, data);
-   wid_config[12] = MakeButton("Cancel", CfgCancel, data);
+   wid_config[11] = MakeButton("OK", CfgOK, NULL);
+   wid_config[12] = MakeButton("Cancel", CfgCancel, NULL);
 
    for (i=2; i<=5; i++)
      SetWidgetPos(wid_config[i],PLACE_UNDER,wid_config[i+4],NO_CARE,NULL);
@@ -274,7 +274,7 @@
   char *output;
   char comment[1024];
 
-  output= (char *)GetFile("Math C file to load", mathfile_dir,NULL,data);
+  output= (char *)GetFile("Math C file to load", mathfile_dir,NULL,NULL);
 
   if(output==NULL || *output=='\0') return;
   if(strncmp(output,mathfile_dir,strlen(output)-1)==0) return;
@@ -604,6 +604,7 @@
 }
 
 void BDView(Widget ww, void* data)
+
 {
 FILE *fd;
 char cmd[512];
@@ -612,7 +613,7 @@
    if(fd) 
      fclose(fd);
    else
-     BDGenerate(ww, data);
+     BDGenerate(ww, NULL);
 
    sprintf(cmd,"if [ -r sis-depthmap.png ]; then %s sis-depthmap.png & fi\n",
                img_viewer_cmd);
@@ -626,7 +627,7 @@
    fd=fopen("sis-depthmap.png", "r");
    if(fd==NULL) 
      {
-     BDGenerate(ww, data);
+     BDGenerate(ww, NULL);
      fd=fopen("sis-depthmap.png", "r");
      }
 
@@ -634,7 +635,7 @@
      {
      fclose(fd);
      sprintf(depthmap,"%s/%s",get_current_dir_name(),"sis-depthmap.png");
-     ViewStereogram(ww,data);
+     ViewStereogram(ww,NULL);
      }
 }   
 
@@ -708,11 +709,11 @@
    
    BD = MakeWindow("Depthmap Modeller",SAME_DISPLAY, EXCLUSIVE_WINDOW);
    BDtitle=MakeLabel("Title ");
-   wid_BD[0]=MakeStringEntry(title_str, 360,NULL,data);
+   wid_BD[0]=MakeStringEntry(title_str, 360,NULL,NULL);
    wid_BD[1]=MakeLabel("Width ");
-   wid_BD[2]=MakeStringEntry(width_str,60,NULL,data);
+   wid_BD[2]=MakeStringEntry(width_str,60,NULL,NULL);
    wid_BD[3]=MakeLabel("     Height");
-   wid_BD[4]=MakeStringEntry(height_str,60,NULL,data);
+   wid_BD[4]=MakeStringEntry(height_str,60,NULL,NULL);
    SetWidgetPos(wid_BD[0],PLACE_RIGHT,BDtitle,NO_CARE,NULL);
    for(i=1;i<=4;i++)
      {
@@ -720,27 +721,27 @@
      if(i>1) SetWidgetPos(wid_BD[i],PLACE_RIGHT,wid_BD[i-1],NO_CARE,NULL);
      }
    wid_BD[5]=MakeLabel("x1");
-   wid_BD[6]=MakeStringEntry(x1_str,100,NULL,data);
+   wid_BD[6]=MakeStringEntry(x1_str,100,NULL,NULL);
    wid_BD[7]=MakeLabel("     x2");
-   wid_BD[8]=MakeStringEntry(x2_str,100,NULL,data);
+   wid_BD[8]=MakeStringEntry(x2_str,100,NULL,NULL);
    for(i=5;i<=8;i++)
      {
      SetWidgetPos(wid_BD[i],PLACE_UNDER,wid_BD[1],NO_CARE,NULL);
      if(i>5) SetWidgetPos(wid_BD[i],PLACE_RIGHT,wid_BD[i-1],NO_CARE,NULL);
      }
    wid_BD[9]=MakeLabel("y1");
-   wid_BD[10]=MakeStringEntry(y1_str,100,NULL,data);
+   wid_BD[10]=MakeStringEntry(y1_str,100,NULL,NULL);
    wid_BD[11]=MakeLabel("     y2");
-   wid_BD[12]=MakeStringEntry(y2_str,100,NULL,data);
+   wid_BD[12]=MakeStringEntry(y2_str,100,NULL,NULL);
    for(i=9;i<=12;i++)
      {
      SetWidgetPos(wid_BD[i],PLACE_UNDER,wid_BD[5],NO_CARE,NULL);
      if(i>9) SetWidgetPos(wid_BD[i],PLACE_RIGHT,wid_BD[i-1],NO_CARE,NULL);
      }
    wid_BD[13]=MakeLabel("z1");
-   wid_BD[14]=MakeStringEntry(z1_str,100,NULL,data);
+   wid_BD[14]=MakeStringEntry(z1_str,100,NULL,NULL);
    wid_BD[15]=MakeLabel("     z2");
-   wid_BD[16]=MakeStringEntry(z2_str,100,NULL,data);
+   wid_BD[16]=MakeStringEntry(z2_str,100,NULL,NULL);
    for(i=13;i<=16;i++)
      {
      SetWidgetPos(wid_BD[i],PLACE_UNDER,wid_BD[9],NO_CARE,NULL);
@@ -751,17 +752,17 @@
    wid_BD[18]=MakeTextWidget(z_c_prog, 0,1,640,440);
    for(i=17;i<=18;i++)
      SetWidgetPos(wid_BD[i],PLACE_UNDER,wid_BD[i-1],NO_CARE,NULL);
-   wid_BD[19]=MakeButton("Load", BDLoad, data);
-   wid_BD[20]=MakeButton("Save", BDSave, data);
-   wid_BD[21]=MakeButton("Edit",BDEdit,data);
-   wid_BD[22]=MakeButton("Editor",BDEditor,data);
-   wid_BD[23]=MakeButton("Generate",BDGenerate,data);
-   wid_BD[24]=MakeButton("View",BDView,data);
-   wid_BD[25]=MakeButton("Texture",SelectTexture,data);
-   wid_BD[26]=MakeButton("3D image",BDView3D,data);
+   wid_BD[19]=MakeButton("Load", BDLoad, NULL);
+   wid_BD[20]=MakeButton("Save", BDSave, NULL);
+   wid_BD[21]=MakeButton("Edit",BDEdit,NULL);
+   wid_BD[22]=MakeButton("Editor",BDEditor,NULL);
+   wid_BD[23]=MakeButton("Generate",BDGenerate,NULL);
+   wid_BD[24]=MakeButton("View",BDView,NULL);
+   wid_BD[25]=MakeButton("Texture",SelectTexture,NULL);
+   wid_BD[26]=MakeButton("3D image",BDView3D,NULL);
    wid_BD[27]=MakeButton("Help",MsgPopup,(void *)bd_help);
-   wid_BD[28]=MakeButton("Okay",BDOk,data);
-   wid_BD[29]=MakeButton("Cancel",BDCancel,data);
+   wid_BD[28]=MakeButton("Okay",BDOk,NULL);
+   wid_BD[29]=MakeButton("Cancel",BDCancel,NULL);
 
    for(i=19;i<=29;i++)
      {
@@ -953,8 +954,8 @@
 
    if (strcmp(depthmap, "-")==0) 
    {
-     RandomizeDepthmap(ww,data);
-     if (strcmp(texture, "-")==0) RandomizeTexture(ww,data);
+     RandomizeDepthmap(ww,NULL);
+     if (strcmp(texture, "-")==0) RandomizeTexture(ww,NULL);
    }
 
    sprintf(begincmd, "echo -e \"Executing: stereograph\n"
@@ -1052,7 +1053,6 @@
 {
 static char *args[] = { "-bg", "gray76", "-fn", "7x13bold", NULL };
 
-void *data;
 int i, l, n;
 
    sprintf(rcfile, "%s/%s", getenv("HOME"), ".sisrc");
@@ -1081,9 +1081,9 @@
    MakeMenuItem(wid_main[n], "Man page", About, (int *)&num_ptr[2]);
    MakeMenuItem(wid_main[n], "Copyright", About, (int *)&num_ptr[3]);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,pixmap1);
-   wid_main[++n] = MakeButton("Config ", Config, data);
+   wid_main[++n] = MakeButton("Config ", Config, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);  
-   wid_main[++n] = MakeButton("Modeller", BuildDepthmap, data);
+   wid_main[++n] = MakeButton("Modeller", BuildDepthmap, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);
    /*   wid_main[++n] = MakeButton("Quit", Quit, data);
 	SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);   */
@@ -1093,11 +1093,11 @@
    SetWidgetPixmap(pixmap2, shapes_xpm);
    wid_label[++l] = MakeLabel("Magic object");
    SetWidgetPos(wid_label[l],PLACE_UNDER,pixmap1,PLACE_RIGHT,pixmap2);   
-   wid_main[++n] = MakeButton("Select", SelectDepthmap, data);
+   wid_main[++n] = MakeButton("Select", SelectDepthmap, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,pixmap2);
-   wid_main[++n] = MakeButton("Random ", RandomizeDepthmap, data);
+   wid_main[++n] = MakeButton("Random ", RandomizeDepthmap, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);
-   wid_main[++n] = MakeButton("Preview ", ViewDepthmap, data);
+   wid_main[++n] = MakeButton("Preview ", ViewDepthmap, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);
 
    pixmap3 = MakeLabel("");
@@ -1105,11 +1105,11 @@
    SetWidgetPixmap(pixmap3, cork_xpm);
    wid_label[++l] = MakeLabel("Texture");
    SetWidgetPos(wid_label[l],PLACE_UNDER,pixmap2,PLACE_RIGHT,pixmap3);   
-   wid_main[++n] = MakeButton("Select", SelectTexture, data);
+   wid_main[++n] = MakeButton("Select", SelectTexture, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,pixmap3);
-   wid_main[++n] = MakeButton("Random ", RandomizeTexture, data);
+   wid_main[++n] = MakeButton("Random ", RandomizeTexture, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);
-   wid_main[++n] = MakeButton("Preview ", ViewTexture, data);
+   wid_main[++n] = MakeButton("Preview ", ViewTexture, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);
 
    pixmap4 = MakeLabel("");
@@ -1117,11 +1117,11 @@
    SetWidgetPixmap(pixmap4, question_xpm);
    wid_label[++l] = MakeLabel("Stereogram");
    SetWidgetPos(wid_label[l],PLACE_UNDER,pixmap3,PLACE_RIGHT,pixmap4);   
-   wid_main[++n] = MakeButton("Items ", ShowSelection, data);
+   wid_main[++n] = MakeButton("Items ", ShowSelection, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,pixmap4);
-   wid_main[++n] = MakeButton("Process", ViewLog, data);
+   wid_main[++n] = MakeButton("Process", ViewLog, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);
-   wid_main[++n] = MakeButton("3D image", ViewStereogram, data);
+   wid_main[++n] = MakeButton("3D image", ViewStereogram, NULL);
    SetWidgetPos(wid_main[n],PLACE_UNDER,wid_label[l],PLACE_RIGHT,wid_main[n-1]);
 
    ShowDisplay();
