# HG changeset patch
# User Torsten Jager <t.jager@gmx.de>
# Date 1639694590 -3600
#      Thu Dec 16 23:43:10 2021 +0100
# Node ID f9a98e02460348ca23ca2f5c2b39e62c8758b22d
# Parent  e352b6eef94b6441f4afc86f96abe247acc2a60b
Fix build.

diff -r e352b6eef94b -r f9a98e024603 configure.ac
--- a/configure.ac	Sat Dec 11 19:53:57 2021 +0200
+++ b/configure.ac	Thu Dec 16 23:43:10 2021 +0100
@@ -600,8 +600,10 @@
 ])], [have_attr_iaso=yes], [have_attr_iaso=no])
 AC_MSG_RESULT([$have_attr_iaso])
 if test x"$have_attr_iaso" = x"yes" ; then
-    AC_DEFINE([ATTR_INLINE_ALL_STRINGOPS],
-        [__attribute__ ((__target__ ("inline-all-stringops")))],
+    AC_DEFINE([ATTR_INLINE_ALL_STRINGOPS], [__attribute__ ((__target__ ("inline-all-stringops")))],
+        [Define this to a function attribute that inlines string handling code])
+else
+    AC_DEFINE([ATTR_INLINE_ALL_STRINGOPS], [],
         [Define this to a function attribute that inlines string handling code])
 fi
 
diff -r e352b6eef94b -r f9a98e024603 src/common/utils.h
--- a/src/common/utils.h	Sat Dec 11 19:53:57 2021 +0200
+++ b/src/common/utils.h	Thu Dec 16 23:43:10 2021 +0100
@@ -21,7 +21,7 @@
 #ifndef _COMMON_UTILS_H
 #define _COMMON_UTILS_H
 
-#ifndef HAVE_CONFIG_H
+#ifndef PACKAGE_NAME
 #error config.h not included
 #endif
 
diff -r e352b6eef94b -r f9a98e024603 src/xitk/network.c
--- a/src/xitk/network.c	Sat Dec 11 19:53:57 2021 +0200
+++ b/src/xitk/network.c	Thu Dec 16 23:43:10 2021 +0100
@@ -34,7 +34,9 @@
 
 //#warning IMPLEMENT POST SUPPORT
 
+#ifdef HAVE_CONFIG_H
 #include "config.h"
+#endif
 
 #ifdef HAVE_READLINE
 
