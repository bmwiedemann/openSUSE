# HG changeset patch
# Parent  d2d03d4f6634a54846af7503711ed356c87b1625
# check for libtinfo before falling back to ncurses

Index: xterm-353/aclocal.m4
===================================================================
--- xterm-353.orig/aclocal.m4
+++ xterm-353/aclocal.m4
@@ -885,10 +885,10 @@ AC_CACHE_CHECK(for $cf_test_message func
 cf_save_LIBS="$LIBS"
 cf_cv_lib_tgetent=no
 if test "$cf_full_tgetent" = yes ; then
-	cf_TERMLIB="otermcap termcap termlib ncurses curses"
+	cf_TERMLIB="otermcap termcap termlib tinfo ncurses curses"
 	cf_TERMTST="buffer[[0]] == 0"
 else
-	cf_TERMLIB="termlib ncurses curses"
+	cf_TERMLIB="termlib tinfo ncurses curses"
 	cf_TERMTST="0"
 fi
 for cf_termlib in '' $cf_TERMLIB ; do
Index: xterm-353/configure
===================================================================
--- xterm-353.orig/configure
+++ xterm-353/configure
@@ -6449,10 +6449,10 @@ else
 cf_save_LIBS="$LIBS"
 cf_cv_lib_tgetent=no
 if test "$cf_full_tgetent" = yes ; then
-	cf_TERMLIB="otermcap termcap termlib ncurses curses"
+	cf_TERMLIB="otermcap tinfo termcap termlib ncurses curses"
 	cf_TERMTST="buffer[0] == 0"
 else
-	cf_TERMLIB="termlib ncurses curses"
+	cf_TERMLIB="termlib tinfo ncurses curses"
 	cf_TERMTST="0"
 fi
 for cf_termlib in '' $cf_TERMLIB ; do
