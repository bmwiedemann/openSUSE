From 2be4a625a254d0f9ac888ca47bbaac0c02977bc7 Mon Sep 17 00:00:00 2001
From: Mikolaj Izdebski <mizdebsk@redhat.com>
Date: Fri, 22 Apr 2022 10:59:32 +0200
Subject: [PATCH] Port to Maven 3.8.5

---
 .../xmvn/connector/maven/XMvnModelValidator.java            | 6 ++++++
 xmvn-parent/pom.xml                                         | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/xmvn-connector/src/main/java/org/fedoraproject/xmvn/connector/maven/XMvnModelValidator.java b/xmvn-connector/src/main/java/org/fedoraproject/xmvn/connector/maven/XMvnModelValidator.java
index a3fe4712..d340b91f 100644
--- a/xmvn-connector/src/main/java/org/fedoraproject/xmvn/connector/maven/XMvnModelValidator.java
+++ b/xmvn-connector/src/main/java/org/fedoraproject/xmvn/connector/maven/XMvnModelValidator.java
@@ -27,6 +27,7 @@ import org.apache.maven.model.Model;
 import org.apache.maven.model.Plugin;
 import org.apache.maven.model.building.ModelBuildingRequest;
 import org.apache.maven.model.building.ModelProblemCollector;
+import org.apache.maven.model.interpolation.DefaultModelVersionProcessor;
 import org.apache.maven.model.validation.DefaultModelValidator;
 import org.apache.maven.model.validation.ModelValidator;
 import org.codehaus.plexus.component.annotations.Component;
@@ -52,6 +53,11 @@ public class XMvnModelValidator
     @Requirement
     private Configurator configurator;
 
+    public XMvnModelValidator()
+    {
+        super( new DefaultModelVersionProcessor() );
+    }
+
     @Override
     public void validateEffectiveModel( Model model, ModelBuildingRequest request, ModelProblemCollector problems )
     {
diff --git a/xmvn-parent/pom.xml b/xmvn-parent/pom.xml
index 58ca7dc4..7640ab28 100644
--- a/xmvn-parent/pom.xml
+++ b/xmvn-parent/pom.xml
@@ -81,7 +81,7 @@
     <jcommanderVersion>1.81</jcommanderVersion>
     <mavenInvokerVersion>3.1.0</mavenInvokerVersion>
     <mavenResolverVersion>1.7.1</mavenResolverVersion>
-    <mavenVersion>3.8.1</mavenVersion>
+    <mavenVersion>3.8.5</mavenVersion>
     <plexusClassworldsVersion>2.6.0</plexusClassworldsVersion>
     <plexusUtilsVersion>3.3.0</plexusUtilsVersion>
     <pluginToolsVersion>3.6.1</pluginToolsVersion>
-- 
2.36.1

