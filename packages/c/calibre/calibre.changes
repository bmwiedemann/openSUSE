-------------------------------------------------------------------
Fri Jun 28 09:11:04 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update to 7.13.0
  * New Features
    - When merging books add an option to store discarded or
      replaced covers as an alternate cover in the data folder of
      the target book
    - Generate CSV catalog: Add a button to sort the fields by the
      order in which they appear in the book list
  * Bug Fixes
    - MTP driver: Preserve cover aspect ratio for thumbnail
      generation
    - Fix identifiers not always being merged correctly when
      merging books
    - DOCX Input: Fix extra left padding when converting lists
    - Amazon metadata download: Get title and comments for
      audiobook pages
    - Amazon metadata: When filtering search engine results by
      title ignore words of the title that are purely punctuation
    - When matching books on a device to book in the library assume
      a match if the title and any one author match, 
      dont require all authors to match
    - Update Google Images cover download plugin for website changes
    - When adding new books if the timestamp is specified as
      undefined use the current timestamp
    - Content server: Fix systemd pre-activated socket not working
    - Content server: Fix no KFX download link in OPDS acquisition
      feeds

-------------------------------------------------------------------
Sun Jun 23 09:55:12 UTC 2024 - ecsos <ecsos@opensuse.org>

- Fix build error for Tumbleweed.
  Since version 5.2.0 of python-lxml the new package
  python-lxml_html_clean is needed.

-------------------------------------------------------------------
Fri May 31 06:21:09 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update to 7.12.0
  * New Features
    - E-book polishing: Add option to download external resources
      (images/stylesheets/etc.)
    - Conversion: Add an option under Structure detection to
      automatically fill in blank alt attributes for images that
      have alt text in the image file metadata
    - Content server: Use the book title as the filename for
      downloaded highlights
    - Review downloaded metadata dialog: Add a "Previous" button to
      go back to the last reviewed book
  * Bug Fixes
    - Content server viewer: Fix the bottom of the text being cut
      off on mobile browsers when not in full screen mode.
      Unfortunately, this means the viewer now requires a browser
      no more than two years old.
    - Kindle driver: Increase the size of the cover thumbnails sent
      to the Scribe
    - Kindle output: Fix cover images that contain EXIF data
      without a rotation not displaying on the Kindle lockscreen
    - E-book viewer: Fix ruby tags not excluded when searching for
      text
    - Content server viewer: Fix a regression in the previous
      release that broke searching

-------------------------------------------------------------------
Fri May 24 05:34:55 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update to 7.11.0
  * New Features
    - Kindle driver: Add support for sending cover thumbnails to
      the Kindle Scribe
    - A new options under Preferences->Look & feel to draw covers
      with rounded corners
    - Bulk metadata edit: Add a new tab where you can create rules
      to transform tags/authors/publishers for the selected books
    - Tag browser context menu for Formats now has Open with menu
      items
    - E-book viewer: When hovering over the top/bottom margin show
      a button indicating that a click will open the viewer controls.
      Can be configured via The Headers and footers section of the
      viewer Preferences.
    - Spell check dialog: Also show count of currently displayed words
  * Bug Fixes
    - E-book viewer: Fix searching not ignoring ruby text
    - Edit book: Save the state of the current book when opening
      a new book via File->Open book
    - Edit book: Fix importing a list of words into a user
      dictionary not working
    - EPUB3 metadata: Do not fail to read metadata in the presence
      on invalid calibre user metadata in the OPF file with empty keys
    - Get books: Fix rules to map tags on adding books not being
      applied to books downloaded via Get books
    - Spellcheck dialog: Move the checkbox to hide correctly spelled
      words with the rest of the checkboxes that filter the word list
- Changes from 7.10.0
  * New Features
    - Export of calibre data: Ensure individual part files in the
      exported data are no larger than one gigabyte even if the
      library contains individual files larger than that size.
    - Edit book: Spell check: Add options to exclude words in
      ALL CAPS or with numbers or in camelCase/snake_case from the
      list of words
    - Allow easily inverting the current search via the right click
      menu on the search box
  * Bug Fixes
    - Kobo driver: Fix database unsupported error with newest firmware
    - DOCX Input: Fix text elements containing only whitespace
      being incorrectly ignored
    - Bulk metadata dialog: Do not fail when setting covers from
      ebook files and some of the files have invalid covers

-------------------------------------------------------------------
Fri Apr 19 07:23:34 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update Tumbleweed to 7.9.0
  * New Features
    - Kobo driver: Add support for the new color Kobo devices
    - Edit book: Add a setting to control cursor width under
      Preferences->Editor settings
    - Edit book: Regex-function mode: Show a confirmation popup
      when closing the function editor when there are unsaved changes
  * Bug Fixes
    - Fix undocked Quickview dialog not being restored at startup
    - Windows: Fix an issue where closing a maximized calibre window
      to the system tray and then reconnecting with remote desktop
      would cause a blank calibre window to be displayed

-------------------------------------------------------------------
Fri Apr  5 05:55:04 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update Tumbleweed to 7.8.0
  * New Features
    - E-book viewer: Highlight panel: Allow filtering the shown
      highlights by type of highlight
    - Conversion: Add support for the CSS text-transform property
      when subsetting embedded fonts
    - E-book viewer: Allow displaying the view mode paged/flow in
      the header/footer
    - Book details popup window: Allow dropping of files to add
      formats/set the cover just as for the book details panel
    - Book details: Context menu: Add a menu action to remove the
      associated link
    - DOCX Input: Add role=doc-noteref for links to
      footnotes/endnotes so that they popup in more e-book readers
    - Add a "Mark all selected books" to the Mark action.
    - Add "Hide Empty Categories" to tag browser configuration menu
    - Supernote: Support for new device firmware
    - Sort by tool: Add an action to re-apply the current sort
  * Bug Fixes
    - Grid view cover cache: Fix covers not loading when cache
      entries are stale
    - Conversion: Do not change viewport relative font sizes used
      for SVG text elements
    - Conversion: Fix <style> tags inside <svg> tags not being
      processed
    - Get books: Update Kobo store plugin for website changes
    - EPUB Input: Use a translated name for the cover page

-------------------------------------------------------------------
Thu Mar 14 11:14:30 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update Tumbleweed to 7.7.0
  * New features
    - Trim image: Allow specifying the size of the trim rectangle
      using numbers
    - Full text search: Allow pressing Ctrl+S to select the current
      book in the calibre book list
    - Speed up scrolling through the book list book-by-book by only
      redrawing the book details panel when scrolling pauses
    - Add a tweak under Preferences->Tweaks to set the first day of
      the week in popup calendars used to input dates
  * Bug fixes
    - CHM Input: Handle CHM files with no HHC Table of Contents
    - E-book viewer: Fix a few settings such as pages per screen
      and header/footers not being saved in profiles
    - Full text search: Ignore text inside <ruby> tags when
      indexing books
    - DOCX Output: Preserve spaces around soft hyphens
    - Book details popup: Copy the original cover image to the
      clipboard even when the image is rescaled to fit into view
    - Fix changing disabled colors in the UI color palette
      overriding non-disabled colors
    - Content server: Fix deletion of viewer profiles not working

-------------------------------------------------------------------
Sat Mar  2 10:24:45 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update Tumbleweed to 7.6.0
  * New Features
    - E-book viewer: Allow saving current settings in "profiles"
      that can be quickly and easily swapped between
    - Edit book: Add a shortcut `Ctrl+M` to merge selected files
    - Get books: Add support for Amazon Mexico
    - A new toolbar button to show all available actions in sub
      menus. Can be added via `Preferences->Toolbars & menus`
    - Edit book: Allow selecting multiple books to edit at once,
      opening all selected books in separate editor instances
  * Bug Fixes
    - Cover grid: Fix dragging the mouse while holding shift to
      extend the selection not working well
    - E-book viewer: Fix doing a multi-page selections sometimes
      causing the start of the selection to move backwards
    - Edit book: Live CSS: Fix regression causing incorrect colors
      in calibre 7
    - Windows: Fix a regression in calibre 7 that caused images in
      long text columns to not be displayed in the tooltip for the
      tooltip
    - Fix disabled items in menus having blurry text
    - Content server: Fix a regression in the previous release that
      caused an error when doing a search/sort on some browsers
- Changes from 7.5.1
  * Bug Fixes
    - Version 7.5.1 fixes a bug in 7.5.0 where calibre would not
      start up using dark colors when the system was in dark mode
      on some windows installs and another bug that could cause
      errors when using cover grid mode with covers stored in 
      CMYK colorspace
- Changes from 7.5.0
  * New Features
    - Allow fine tuning the colors used in the calibre interface
      via Preference->Look & feel->Main interface->User interface
      colors
    - Full text search window: Add actions to the context menu to
      open the book at the clicked on result. Also allow using the
      view book shortcut to open the currently selected search result
    - When showing the Full text search dialog, pre populate the
      search box with the contents of the main calibre search box 
      if the main search box contains a simple search
  * Bug Fixes
    - Windows: Fix a regression in 7.0 that caused images referring
      to files on the disk within comments columns to not display 
      in some circumstances
    - E-book viewer: Fix clock showing hour as zero instead
      of 12 between 12 and 1 am/pm
    - Edit book: When wrapping selected text in a tag,
      preserve the selection after wrapping
    - Content server: Fix a periodic spurious error message when
      reading books in offline mode
    - Fix a regression in 7.0 caused by a regression in Qt that
      would result in calibre hanging rarely when using the cover
      browser view
    - Fix custom template functions not useable in save to disk
      templates
    - Fix a regression in 7.2 that caused the popup used for
      editing fields in the book list to be mis-positioned on very
      wide monitors

-------------------------------------------------------------------
Mon Feb 26 09:09:16 UTC 2024 - ecsos <ecsos@opensuse.org>

- Adjustments patch macro for rpm 4.20.

-------------------------------------------------------------------
Fri Jan 19 08:20:58 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update to 7.4.0
  * New Features
    - Add support for the Supernote A6X2
    - Narrow layout: Place the cover browser above the book list
      when the window has a narrow aspect ratio. Can be controlled
      via Preferences->Look & feel->Cover browser
    - Category notes browser: Add a button to search for books in
      the currently selected category
    - Keyboard shortcut to toggle main window layout (Alt+Shift+L)
    - Add the possibility to assign keyboard shortcuts to the tag
      browser sort functions
  * Bug Fixes
    - Fix a regression in the previous release that caused the cover
      browser to not close when it is used as a separate window
    - Fix a regression in the previous release that caused comments
      in the Book details panel to be rendered below rather than at
      the side of the other information
    - Edit book: Fix highlighting of special character not changed
      immediately after it is edited, only after a subsequent action
    - Move Preferences to the left in the default toolbar, making
      it less likely to be hidden behind an expander button on small
      screens

-------------------------------------------------------------------
Fri Jan  5 09:58:40 UTC 2024 - ecsos <ecsos@opensuse.org>

- Update to 7.3.0
  * New Features
    - Tag browser: Allow displaying buttons next to items that have
      notes or links for easy access. To enable these use 
      Preferences->Look & feel->Tag browser
    - Font subsetting: Preserve all OpenType layout features.
      This makes the subset font files larger but ensures there is
      no visual degradation when using the subsetted font files in
      different contexts.
  * Bug Fixes
    - macOS: Fix main calibre window not remembering its size on restart
    - Edit book: Fix the "Show changes" window moving down by a few
      pixels every time it is opened
    - Amazon metadata download: Fixes for various changes to amazon
      website markup
    - E-book viewer: When looking up words via Google in Europe
      pre-approve the GDPR consent cookie
    - Windows: Content server: Fix regression in previous release
      that broke testing for local connections
    - Windows: Fix a regression that caused selections in the Book
      details panel to be invisible

-------------------------------------------------------------------
Wed Dec 20 12:41:38 UTC 2023 - Michal Suchanek <msuchanek@suse.com>

- The headless QPA plugin states minimum cmake 3.21 version requirement in the
  cmakefile and won't build on Leap. Upstream recommends version 3.27.6 to build.
  Add this requirement to the spec file.

-------------------------------------------------------------------
Fri Dec 15 06:10:32 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 7.2.0
  * New Features
    - Content server: Also listen for all incoming IPv6 connections
      by default, not just IPv4
    - Book details: Allow deleting notes from the right click menu
      easily
  * Bug Fixes
    - Windows: Edit book: Fix a crash when using the check book
      tool with a book that contains malformed markup, in calibre 7
    - Windows: Improve flickering at startup due to a Qt regression
      in calibre 7
    - Windows: Fix moving the main window causing popup/floating
      windows to be resized in calibre 7 due to yet another Qt regression
    - Fix detection of existing books on the Tolino Vision 6
    - Linux: Fix external applications not being launched under
      Wayland in calibre 7 because of a bug in Qt
    - Linux: Fix network requests failing under Fedora in calibre 7

-------------------------------------------------------------------
Fri Nov 24 07:31:48 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 7.1.0
  * New Features
    - Notes editor: When pasting HTML with images offer to download
      remote images in the pasted content
  * Bug Fixes
    - Fix regression in 7.0 that broke restore of db from backups
    - Content server: Fix newly added books on homepage not restricted
      to the books the logged in user is allowed to access
    - When starting in system tray do not flash the main window briefly
    - Notes editor: Fix spurious error message when saving a note
      that contains pasted HTML that refers to an image
    - Fix a regression that caused the unknown/unset date to
      incorrectly be displayed/edited as a date in the year AD 101
      in some timezones
    - Comments editor: Fix data file links not working
    - Linux installer: Check that the user has libxcb-cursor.so.0
      installed. If not quit early with an error message asking
      them to install it
    - LRF Output: Fix a regression in 7.0 that broke conversion to LRF

-------------------------------------------------------------------
Fri Nov 17 08:26:09 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 7.7.0
  * New Features
    - For details on the major changes in calibre between 7.0
      and 6.0, see https://calibre-ebook.com/new-in/sixteen
    - The ability to add notes to any author, tag, series, etc.
      in calibre with links and images
    - E-book viewer: Add support for HTML image maps
    - Content server home page: Show the three most recently added
      books in the default library
    - Content server: Add button to return to book details page at
      top level of controls
    - Content server: Book details: Open links in comments fields
      in the same window rather than a new window
    - Add a "Show items in selected books" choice to Manage tags
      and Manage authors
    - Show the previously used language, if any, second in the
      language selection drop down
  * Bug Fixes
    - Metadata download: Fix downloads from Google not working in
      Europe because of the GDPR
    - Fix editing dates with days sometimes off by one day
    - Edit book: Fix highlighting for special characters not
      visible when the cursor is on the line with the special character
    - Fix embedding metadata showing infinite error dialogs on
      windows if a file is locked by another program
    - PDF Output: Fix an error when trying to set header or footer
      with an input document that has invalid content after the
      main body
    - E-book viewer: Read aloud: Fix clicking on empty spaces
      causing read aloud to restart from beginning of chapter
    - Book details: Fix Manage authors via context menu not working
    - E-book viewer: Showing chrome should close an active footnote
      popup first and only show chrome if the user repeats the action
    - Fix very slow metadata updates on some PDF files
    - Catalogs: Do not erase any tags the user adds to a catalog
      book entry when the catalog is re-generated
    - Linux installer: Fix downloading of signatures for older versions
    - Fix editing non-active Virtual library changes sort of book list

-------------------------------------------------------------------
Fri Oct 20 06:36:30 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.29.0
  * New Features
    - E-book viewer: Add a command line flag --new-instance to
      force the viewer to open a new window even if the option to
      always use a single viewer window is set
    - E-book viewer: Image popup: Add a checkbox to remember the
      last used zoom level
  * Bug Fixes
    - Annotations browser: Fix exporting highlights in markdown not
      including all chapter titles for books with only a single
      highlight per chapter or a multi level ToC
    - E-book viewer: Fix a regression that could cause the viewer
      to enter an infinite loop when displaying the result of a
      search that has only one match that is not found
    - E-book viewer: Fix the occasional search result being marked
      as not found even though it is found
    - TXTZ Output plugin: Only keep images if the text format is
      one that can reference images
    - TXTZ Output: Fix cover not being properly identified in the
      generated TXTZ metadata
    - FB2 Input: Fix the "Annotations" section not showing up in
      the Table of Contents
    - Linux: Content server: Do not call listen on pre-activated
      sockets
    - Fix sort order of similarly-named hierarchical categories
    - Fix a regression that broke reading of covers from HTMLZ and
      TXTZ files

-------------------------------------------------------------------
Sat Oct  7 14:10:04 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.28.1
  - Fix a regression that cause errors when merging some book records.

-------------------------------------------------------------------
Fri Oct  6 05:04:22 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.28.0
  * New Features
    - Edit book: Show full path to book being edited in the status bar
    - Edit book: When adding dictionaries allow directly a LibreOffice
      adding the dictionary just by choosing the language
    - Edit book: When saving a copy add some convenience actions to
      edit the copy immediately either in the current editor window
      or a new window
    - E-book viewer: Highlights panel: Allow right clicking to
      export only selected highlights
  * Bug Fixes
    - Edit book: Fix a regression in the previous release that
      caused Text search to sometimes not select matches correctly
    - Edit book: When copying files do it in order so that the
      files are pasted in the same order when pasting into another
      editor instance
    - Edit book: Fix smart tag insert not working correctly if the
      selected text starts with the closing angle bracket of a tag
    - Save to disk: Do not limit the total path length to 240
      characters on non-Windows platforms
    - Fix incorrect cover for AZW3 version of calibre User Manual
    - Content server: Change formatting of book details to match
      new de-emphasized titles based formatting in the main calibre
      program
    - PDF metadata: Fix a regression that broke updating metadata
      in PDF files without an /Info dictionary
    - NOOK driver: For the Glowlight 2023 write the calibre metadata
      files into the NOOK sub-folder as the firmware does not allow
      writing files into the root folder
    - NOOK driver: Fix Glowlight 2023 not being detected on Linux
      and macOS
    - E-book viewer: Make CFI calculation more robust especially on
      pages with very little content
    - E-book viewer: Workaround bug in Chromium where 
      getBoundingClientRect() fails sometimes leading to incorrect 
      calculation of anchor positions
    - Fix errors caused by .DS_Store files inserted into the
      .caltrash directory on macOS if the user happens to open
      .caltrash in Finder

-------------------------------------------------------------------
Fri Sep 22 05:23:46 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.27.0
  * New Features
    - Kobo driver: Support updated firmware
    - Nook driver: Add support for Nook Glowlight Plus 2023
    - Data files manager: Allow drag and drop of files onto the
      list of files to add new files
    - Support 7z archives in addition to ZIP and RAR for automatic
      ebook extraction when adding to calibre
    - Linux/macOS: Fix detection of the Kindle Scribe with MTP
      firmware
    - E-book viewer: Allow clearing list of recently opened books
      from the open button's popup menu itself
    - E-book viewer: Add a link to show the currently viewed book
      in the calibre library (Go to->Metadata in the viewer
      controls to access it)
  * Bug Fixes
    - Book information dialog: Fix a regression that caused
      incorrect color for titles in dark mode
    - E-book viewer: Fix searching does not jump to first match if
      all matches are before current position in book
    - EPUB Output: Fix duplicated title page entry in spine for
      books that define a title page that ends up getting split
    - Allow for-light/dark-theme icon overrides to work for plugin
      icons placed by the user in the override folder
    - PDF Output: Fix background image + text not rendering
      correctly if the same background image is used with different
      text multiple times
    - E-book viewer: Fix section titles in highlights panel being
      incorrectly expanded to full titles when the section has
      multiple highlights
    - Prevent Quickview window from opening in the background
    - Edit book: Fix a regression in the previous release that
      caused an error when doing text based searches

-------------------------------------------------------------------
Fri Sep  8 05:33:02 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.26.0
  * New Features
    - MTP driver: Support the new Kindle Scribe firmware that
      causes it to act as an MTP device instead of USB disk.
      Add "Documents" to the list of default folders to send books to
    - E-book viewer: Add a new option under scrolling behavior to
      control horizontal mouse wheel events jumping to next section
    - Allow full customization of Book details styling via
      Preferences->Look & feel->Book details
  * Bug Fixes
    - Get books: Update ebooks.com plugin for website changes
    - Edit book: Fix searching for non-BMP unicode characters
      highlighting only half the character
    - E-book viewer: Fix displaying more than one page per screen
      causing page layout to be slightly wrong for some books
    - E-book viewer: Fix clicking on links with empty destinations
      hanging the viewer
    - E-book viewer: Fix modifying, then jumping to and then
      modifying the highlight again from the highlights panel
      causing the highlight to be deleted
    - E-book viewer: Fix indication of current section in Table of
      Contents sometimes wrong after changing font size
    - E-book viewer/Content server: Disallow browser native context
      menu when right clicking in sandboxed iframes
    - MTP driver: Ignore top level folders whose names start with a
      leading dot Also ignore AppleDouble files, top level system
      and fonts folders and sdr folders on Kindle devices
    - FB2 Input: use the <p> tag for paragraphs that dont contain
      other block content
    - E-book viewer: Fix clicking on the back/forward buttons not
      working in some situations
    - E-book viewer: Fix scrolling to Table of Contents items that
      are within a single internal file not activating the back button
    - E-book viewer: Fix changing the sans-serif font without also
      changing the monospaced font not working

-------------------------------------------------------------------
Fri Aug 18 06:05:27 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.25.0
  * New Features
    - Book details panel: De-emphasize titles making the actual
      data stand out more
    - Allow using the new manage data files dialog from within the
      edit metadata dialog
    - Trash dialog: Allow right clicking on an entry to save it to
      disk
    - When merging books by drag-and-drop add an option to use the
      dragged cover instead of the cover in the target book
    - Create catalog: Add buttons to easily select all/non/visible
      fields when creating CSV/XML catalogs
    - Preferences->Add your own columns: Add buttons to show/hide
      all columns
  * Bug Fixes
    - Fix a regression in the previous release that broke parsing
      of some ISO-8601 timestamps
    - E-book viewer: Mouse wheel horizontal events should jump
      sections not internal file boundaries
    - Fix Preferences->Add your own columns changing check state on
      moving columns
    - Get books: update various Polish e-book stores for website
      changes
    - E-book viewer: Fix CFI parsing of numbers with trailing zeros
      causing some bookmarks to not work
    - E-book viewer: Show an error when creating a bookmark if the
      bookmark position is not found
    - CBR Input: Fix comics with extremely long internal filenames
      not working on Windows
    - Edit book: Saved searches: Fix incorrect import in generated
      source code for some builtin functions
    - Data file manager: Fix errors on systems with larger font
      sizes
- Now use all calibre upstream desktop files and not the calibre
  desktop files from downstream. Only Name and GenericName entry in
  desktop files are changed.
      
-------------------------------------------------------------------
Fri Aug  4 11:30:54 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.24.0
  * New Features
    - Easily manage the extra data files associated with a book by
      right clicking the edit metadata button and choose
      "Manage data files"
    - Content server: Full text search: Allow searching
      a restricted subset of books
    - E-book viewer: Allow clicking on calibre:// URLs
    - Support fuzzier searching in the Tag browser find allowing
      unaccented characters to match accented ones
  * Bug Fixes
    - DOCX conversion: Preserve underline style and color
    - Fix incorrect sorting of device view after some operations
    - Fix visit content server in browser not working when the
      content server is configured to listen on an IPv6 interface
    - Fix one hour offset in some timezones on Windows for dates
      before 1970
    - Windows: HTML Input: Fix error when trying to add HTML files
      with links to other files that are invalid pathnames
    - Get books: Update various Polish language book stores for
      website changes
- Changes from 6.23.0
  * New Features
    - PDF Output: Add an option to discard the book cover instead
      of inserting it as the first page of the PDF
    - Content server: Allow opening the Book details page for
      a matched book from the Full text search results page
  * Bug Fixes
    - Windows: Fix empty data folder getting created in the
      directory calibre is launched from when changing title/author
      for a book with an existing data folder
    - LIT Output: Fix error converting anything to LIT on Windows
    - Ignore failures to expire old trash during startup
    - Amazon metadata download: Fix retrieval of publisher
      information from amazon.fr
- Comment out building of additional "submodules": iso639, iso3166,
  translations because it needs now external source:
  https://salsa.debian.org/iso-codes-team/iso-codes/-/archive/main/iso-codes-main.zip
  and don't know where to install. 
  Also it rise up an error sometime when run "osc service ra".

-------------------------------------------------------------------
Mon Jul 17 09:01:21 UTC 2023 - Andreas Schwab <schwab@suse.de>

- Build with %{optflags}

-------------------------------------------------------------------
Fri Jun 30 06:54:16 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.22.0
  * New Features
    - Kobo driver: Add support for newest firmware
    - Trash bin: Allow setting removed books to be permanently
      deleted on library close
    - Windows: Nicer error message when file/folder is locked in
      another program
  * Bug Fixes
    - PDF Output: Fix regression that caused large slowdowns when
      converting books with lots of internal HTML files to PDF
    - CHM Input: Fix ToC entries that use fragments not supported
    - E-book viewer: Fix searching for text next to hidden text not
      scrolling to the match
    - E-book viewer: Fix selection popup not showing for some books
      on some platforms when the selection is in the top line
    - DOCX Output: Fix multiple SVG images in the input document
      causing all the SVG images in the output to be just one of
      the input images
    - MOBI Input: Ignore another form of corruption in trailing bytes
- Drop calibre-revert-new-podofo.patch because now podofo 0.10.1
  is needed and can no longer patch to use old podofo version.

-------------------------------------------------------------------
Thu Jun 29 13:06:20 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.21.0
  * New Features
    - DOCX Output: Add support for SVG images
    - E-book viewer: Allow configuring the actions triggered by
      touch gestures
    - DOCX Input: Add support for SVG images
  * Bug Fixes
    - Windows: Fix a regression in the previous release that could
      cause files to be deleted if one of the files/folders was
      open in another program while changing title/author in calibre
    - macOS: Fix extra dock icons visible when doing a job using
      Qt WebEngine such as converting to PDF or searching in Get books
    - macOS and Linux: Fix an error when changing metadata or
      deleting books whose files are owned by another user
    - CHM Input: Yet another regression opening CHM files with
      missing internal files on windows
    - CHM Input: Resolve absolute links to resource files from the
      root of the CHM file
- Changes from 6.20.0
  * Bug Fixes
    - CHM Input: Fix a regression in the previous release that
      broke conversion of CHM files
    - Windows: Make moving files in the calibre library folder more
      robust, locking folders in addition to files, before the start
      of the move
    - Get books: Update Barnes and Noble store plugin for website
      changes
    - Kindle output: Only re-encode JPEG images with EXIF metadata
      if the metadata contains actual transpose operations
    - PDF Output: Fix error when input document contains multiple
      instances of a font some with vertical metrics and some without
    - PDF Output: Fix using CSS Multicolumns for body causing
      conversion to fail when header/footer is specified
    - MOBI Input: Fix a crash when converting some corrupted
      palmdoc compressed MOBI files
    - E-book viewer: Ensure CSS stylesheets are interpreted as UTF-8
- Changes from 6.19.1
  * Bug Fixes
    - 6.19.1 fixes a bug in 6.19.0 that broke the edit metadata dialog
- Changes from 6.19.0
  * New Features
    - HTML Input: Restrict adding of resources like images to only
      files within the folder hierarchy starting at the parent
      folder of the root HTML file Can be controlled by customizing
      the HTML to Zip plugin in Preferences->Plugins or the 
      --allow-local-files-outside-root option to the ebook-convert
      command
  * Bug Fixes
    - PDF Output: Fix regression in previous release causing
      non-English entries to be incorrectly encoded into the PDF
      bookmarks
    - PDF Output: Fix regression in previous release that caused
      blank pages when generating headers or footers
    - Book list: Fix editing-in-place not pre-selecting existing
      text for some column types
    - Amazon.de metadata download: Update for site changes
    - PDF Output: Set /Creator and /Producer in /Info
    - Fix row height incorrect in Manage category dialog when blank
- Changes from 6.18.1
  * Bug Fixes
    - 6.18.1 fixes a regression that broke setting metadata and
      generating PDF files in the macOS and Linux binary builds
- Changes from 6.18.0
  * New Features
    - Cover download: Allowing saving alternate covers to disk or
      in the book's data folder by right clicking on the cover
    - Content server: Allow disabling full text search via the web
      interface
    - When sending books to the device confirm the overwrite if the
      book already exists on the device
    - E-book viewer: Handle horizontal wheel events as section
      jumps in paged mode
    - Comic Input: When grayscaling comic images use 16bit gray
      instead of 8bit for better fidelity
    - Add a new option in Preferences->Searching to disable keyboard
      searching in book list (i.e. you can turn off the behavior
      that pressing a key will jump to the first book whose title
      starts with that letter)
    - Manage categories dialog: Use alternating row colors and
      allow adjusting row height
    - Allow assigning a keyboard shortcut in Preferences->Shortcuts
      to open the data folder of a book
    - Various improvements to syntax highlighting for the Markdown
      long text editor
  * Bug Fixes
    - Fix a regression in 6.16 that broke restoring of the database
    - Tag browser: Fix using F2 to edit items not allowing completion
    - Book details: Fix formatting of text when copying all book
      details in narrow mode
    - Book details: Fix copy all not respecting line breaks in fields
    - Fix a regression in previous release that broke scrolling
      when using the scroll_per_row tweak
    - Fix a regression in the previous release that broke the
      category manager dialog in some situations    
- Add calibre-revert-new-podofo.patch to fix build error with podofo.
- Drop calibre-python_test.patch and disable tests in spec file.
- Comment out mathjax and hyphenation-dictionaries for now.
- Use only python 3.11 to build packages, so Leap can also build.

-------------------------------------------------------------------
Thu Apr 27 09:49:23 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.17.0
  * New features
    - Font subsetting: Add support for WOFF format fonts and CID 
      keyed fonts. Also further reduce file sizes when subsetting
    - Book details: Show a link to open the data files folder when
      data files are present
    - Template language: Add various functions to query the extra
      files associated with a book
    - Edit book: Compress images: Support compression of images in
      the WEBP format as well
    - Comments editor: Add buttons to create links to data files
      and also to folders easily when inserting a link
    - Allow displaying the id, formats and path builtin columns
      via Preferences->Add your own columns
    - Trash bin: Add a button to clear the bin
    - Metadata editor: Use a dedicated editor with preview for
      custom columns that store markdown formatted text
  * Bug fixes
    - Fix a regression in the previous release that could result
      in empty author folders remaining in the library when the
      author of a book is changed
    - Fix the data files associated with a book not being handled
      when using the Merge books and Copy to library functions
    - Fix a regression in the previous release that broke some
      operations in the Manage tags/authors/etc. dialogs
    - Ensure metadata.opf is always written when deleting book
      even if it is not sequenced for backup
  * Improved news sources
    - Scientific American

-------------------------------------------------------------------
Fri Apr 21 05:01:52 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.16.0
  * New Features
    - Allow storing extra data files with a book
    - Allow undoing the deletion of books from the calibre library
    - Kobo driver: Add support for the new Kobo Elipsa 2E
    - Book details: if an item has an associated link then offer
      that link in the item's context menu
  * Bug Fixes
    - Content server viewer: Fix end of chapter content being
      occasionally skipped when scrolling by screen full with
      multiple pages
    - E-book viewer: Fix a regression that caused notes from a
      different highlights to be shown in some situations
    - E-book viewer: Show an error if the user tries to search for
      only punctuation or spaces in the search modes that ignore
      these
    - Fix custom columns not showing in Book details links from
      other libraries

-------------------------------------------------------------------
Sun Apr  9 09:29:50 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.15.1
  - Fixes an issue with the new URL scheme popping up incorrect
    book details windows

-------------------------------------------------------------------
Fri Apr  7 07:28:37 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.15.0
  * New Features
    - Allow adding external links to tags, series, publishers,
      etcetera in addition to authors
    - calibre:// URL scheme: Add support for a new type of URL that
      pops up the metadata of the specified book in a new window
    - EPUB Output: Do not shrink images to fit the screen size by
      default, as modern readers do this themselves well enough.
      Can be controlled via an option in the EPUB Output section of
      the conversion dialog
    - Edit metadata dialog: Add buttons to pop up the category
      editing windows easily
    - Metadata download: Allow specifying rules to transform
      publisher names in addition to author and tag names
    - Edit metadata dialog: Use both a colored border and an icon
      to indicate errors in line edits
    - A new tweak in Preferences->Tweaks to control what program is
      run when clicking on URLs in calibre
  * Bug Fixes
    - E-book viewer: Fix a regression that caused incorrect
      highlight collision detection in some books
    - E-book viewer: Fix images embedded inside SVG tags not
      available for viewing in a pop-up
    - DOCX Input: Do not ignore images that are present as
      fallbacks for a word drawing object
    - Comic Input: When converting grayscaled PNG images to PNG
      ensure output images are stored as indexed PNG
    - Fix active tab not easy to distinguish in dark mode
    - Content server: Fix re-opening book from home page after
      making progress not opening to correct last read position
      when a user is logged in
    - Comments editor: When copying to clipboard, copy clean HTML
      rather than the junk Qt produces
- After many version user-agent-data.json is available again in source.
  So we use it from upstream again, but let the code in spec.

-------------------------------------------------------------------
Thu Mar 16 05:05:45 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.14.1
  * Bug fixes
    - Fix regression in 6.14.0 that caused some generated resources
      to be excluded from the calibre source bundle
    - Fix regression in 6.14.0 that broke using paths with single
      quotes in them for the calibre library
    - Fix ToC Editor on macOS in 6.14.0 not working inside the Edit
      book tool only
  * Improved news sources
    - Strange Horizons
    - The Saturday Paper
    - New Scientist
    - The Mainichi
    - DR Nyheder
    - New York Magazine
    - Bloomberg
    - Deccan Herald

-------------------------------------------------------------------
Sat Mar 11 10:08:34 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.14.0
  * New Features
    - Edit metadata: When setting a cover from comic files allow 
      choosing which page to use as the cover
    - Allow display of columns built from other columns as comments
      in Book details
    - Comments editor: Add a shortcut for "Paste and match style" 
      (Ctrl+Shift+v)
  * Bug Fixes
    - macOS: ToC Editor: Fix mouse becoming unusable when trying to
      create a new entry
    - When computing title sorts strip leading and trailing quotes,
      not just leading quotes
    - Content server viewer: Fix searching only showing results
      from the current chapter onwards
    - Check book: Fix some incorrect line numbers reported in a few
      CSS error messages
- Update to 6.13.0
  * New Features
    - Content server: E-book viewer: Long tapping on an image now
      causes it to be displayed in an internal popup rather than a
      new window as some browsers block the creation of new windows
  * Bug Fixes
    - E-book viewer: Fix some adjacent highlights with nothing in
      between them not being displayed.
    - Content server: Workaround for Safari regression causing
      bookmarks to disappear on reload
    - E-book viewer: Read aloud: Fix a regression in the previous
      release that caused the Read aloud controls to not reappear
      when Read aloud is canceled and restarted
    - E-book viewer: Read aloud: Fix a regression in the previous
      release that caused an error when using Read aloud on a
      chapter with no text, such as the cover page
    - E-book viewer: Fix a regression that caused a spurious error
      on Windows when reading out selected text
    - Fix a regression in calibre 5.0 that broke sorting the device
      view by title if one of the books has an empty title
    - Edit book: Spell Check dialog: Fix second word not getting
      selected when after first word is fixed
    - Improve hover highlight color in tree views
- Update to 6.12.0
  * New Features
    - E-book viewer: Read aloud: On Windows switch to using the
      new Microsoft speech subsystem with access to more voices
    - calibre:// URL scheme: allow specifying a Virtual library for
      show_book URLs
    - Add by ISBN: Allow adding using identifiers other than ISBN
      as well
    - Update bundled Qt to 6.4 this means calibre on macOS is now
      only supported on Big Sur and newer
    - Spell check dialog: Allow up and down arrow keys to work
      regardless of focus
    - Allow multiple Template tester dialogs
  * Bug Fixes
    - Windows MTP device driver: Ignore failure to enumerate
      objects inside non-root folders
    - Book list: Fix a regression in the previous release that
      broke dragging to select multiple books
    - Content server viewer: Fix reload book not actually reloading
      until the browser is also refreshed
    - E-book viewer: Fix occasional false warning about highlight
      being overwritten
    - E-book viewer: Fix detection of selected highlights when all
      text is selected
    - Fix an error when embedding metadata into a large number of
      books
    - When updating metadata in EPUB 2 files and no language is
      specified, do not remove the <dc:language> tag as this causes
      epubcheck to complain. Instead set the language to "und"
    - Wireless device driver: Remove the timeout for initial
      connection
    - Use an icon rather than a color to report errors in fields
      and the search box
    - Conversion dialog: Regex builder: Workaround bug in Qt that
      prevented searching for non breaking spaces in the wizard
      used to test search expressions
    - Spell check dialog: move down after correcting word, not up
    - Get books: Fix Mobileread store plugin not working
- Add mathjax and hyphenation-dictionaries.
- Additional build some "submodules".
- Add separat user-agent-data.json to fix 
  "No such file or directory: '/usr/share/calibre/user-agent-data.json'"
- Use mspack from system and not from calibre upstream.

-------------------------------------------------------------------
Fri Jan  6 08:17:37 UTC 2023 - ecsos <ecsos@opensuse.org>

- Update to 6.11.0
  * New Features
    - Edit book: Check book: Allow automatic fixing of various
      simple CSS errors
    - E-book viewer: When Read aloud is speaking, make the control
      bar translucent so that words under the bar are visible
    - Edit book: Switch to a new library (stylelint) for find
      problems in CSS as the old library was no longer maintained.
    - Edit book: File browser: Allow using keyboard shortcuts to
      re-order the spine
    - calibredb list: Allow specifying multiple fields for --sort-by
    - Check library: Allow opening the book folder easily
  * Bug Fixes
    - Fix windows not being moved onto the current monitor when
      they were previously visible on a removed monitor that was to
      the left of the current monitor
    - Book list: Fix a regression in the previous release that
      broke drag and drop of multiple books
    - Fix detection of Tolino Vision 6 on macOS/Linux
    - Content server: Fix auto full screen not working when
      continuing to read books with user account enabled
    - Edit book: Set semantics: Fix error when setting the "Notes"
      semantic
    - HTMLZ output: Fix images referred to in CSS stylesheets not
      being converted
    - Book details panel: Fix HTML comment tags in the comments
      breaking display of book details
    - Content server home page: When showing recently read books
      from across devices hide the entries for which loading the
      cover fails
    - Windows Text-to-speech: Dont fail to configure if one of the
      voices has no defined language
    - Fix a regression in calibre 5 that broke using a file for the
      --extra-css option of ebook-convert
    - Content server FTS: Fix page header bar not visible
    - Content server: Fix identifiers from third party metadata
      download plugins not becoming clickable links on the book
      details page
    - Edit book: Warn when saving will overwrite a read-only file
    - Fix restoring geometry of maximized/fullscreen dialogs
      forcing them visible
    - Fix a regression in the previous release that caused spurious
      error message when doing some out of band searches
    - Fix a regression in the previous release that broke choosing
      new programs for the Open with function

-------------------------------------------------------------------
Fri Dec 16 06:38:45 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.10.0
  * New features
    - Content server: Add support for searching the full text of
      books. Simply click the FTS link on the search page to start
      a full text search.
    - Content server: When using user accounts, the homepage now
      shows recently read books from any device not just the current
      device
    - Kobo driver: Bump the max supported firmware version
    - Conversion: New Output profile for the Kindle Scribe
    - Check library: Allow ignoring folder names as well as files
      names
  * Bug fixes
    - Edit book: Fix various formatting operations not inserting
      the tags in the correct place in the presence of non-BMP
      characters
    - Edit book: Use instead of for strikethrough
    - Edit book: Fix export saved search to search panel not
      preserving the wrap checkbox state
    - Content server: Redirect the index page to always have
      trailing slash when using URL prefixes
    - Book list: Workaround for change in Qt 6 behavior where
      clicking on an already selected row does not deselect other
      rows
    - Windows: Fix a regression in calibre 6 causing Open With to
      not extract icons from EXE files
  
-------------------------------------------------------------------
Fri Nov 25 06:32:34 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.9.0
  * New Features
    - E-book viewer: When exporting highlights as plain text
      include titles from chapters at all levels not just the first
      level
    - Edit book: Reports: Show the number of words per file in the
      Files section of the report
    - Windows builds: sign DLLs in addition to EXEs to make
      Microsoft's new "Smart App Control" tool happy
    - Sending by email: When adding comments also add series
    - Nook driver: Put files in NOOK/Books instead of NOOK/My Files
      on recent nook devices so they are all listed in one place in
      the NOOK UI
    - calibredb list: Allow using a template as one of the returned
      fields
    - Tag browser: Add context menu action to turn on/off
      sub-categorization for a category
  * Bug Fixes
    - Merging books: Fix title sort not being updated when the
      title is updated
    - Content server viewer: Fix incorrect sorting of highlights in
      the same paragraph
    - Content server viewer: When exporting highlights as text
      include chapter titles
    - Improve rendering of the separator handle dots introduced in
      the previous release
    - Edit book: Fix regression in previous release causing
      applying any container update marking all open image editors
      as modified
    - Fix a regression in the previous release that caused copying
      book details to clipboard to use unix line endings on windows
- Revise Buildrequires and Requires.

-------------------------------------------------------------------
Fri Nov  4 06:09:35 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.8.0
  * New Features
    - Allow customizing the buttons available to the right of the
      search bar in the main calibre window via
      Preferences->Toolbars & menus->The buttons on the searchbar
    - Book details panel: Allow adjusting the space used by the
      cover with a splitter
    - Make splitter handles more visible in the calibre UI style
    - When sending by email to kindle dont include the author in
      the filename as amazon is currently reading the author from
      the file metadata but not the title
  * Bug Fixes
    - Book list: Fix incorrect rendering of yes/no icons when they
      are configured to have only two values
    - Nook driver: Send books to the NOOK folder for the 2021 Nook
      model as well
    - Improve performance in very large libraries of various UI
      operations such as right clicking, marking books, etc.
    - Fix edit metadata dialog not remembering its position and
      improve how calibre restores window position and size on
      multi-monitor systems
    - Conversion: Fix CSS styles applied to SVG elements being
      discarded
    - EPUB Input: Fix empty adobe page number template file causing
      conversion to fail
    - E-book viewer: Fix rendering of comments in metadata display
      when using a dark color scheme
    - AZW3 Input: Fix svg images that use a prefix for the SVG
      namespace not being recognized
    - Edit book: Fix double clicking in the see what changed dialog
      not opening the file in the editor since calibre 6.0
    - Edit book: Fix modified indicator on images not working
      correctly when replacing the image
    - Amazon metadata download: Adapt the plugin for website changes

-------------------------------------------------------------------
Sat Oct 15 09:59:06 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.7.1
  - Fixes a regression in the previous release that broke the
    delete specific format from book function
  
-------------------------------------------------------------------
Fri Oct 14 05:28:53 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.7.0
  * New Features
    - Template language: A new "Python template mode" which allows
      using arbitrary Python code in templates
    - Tag browser: Allow removing format from selected books by
      right clicking on the format in the Tag browser
    - E-book viewer: Ask for confirmation when creating a highlight
      that will overwrite existing highlights
    - Book list: Allow changing column widths via a dedicated
      dialog by right clicking on column headers
  * Bug Fixes
    - E-book viewer: Fix a regression that broke adding of new
      lookup sources
    - E-book viewer: Fix copy to clipboard not ignoring text from
      elements that are marked as non user selectable
    - Content server: When adding books, run all file type plugins
      before reading metadata
    - Edit book: Preview panel: In dark mode when all of the
      background/foreground/link colors are set to "No change" do
      not render the book using dark colors

-------------------------------------------------------------------
Fri Sep 30 15:03:27 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.6.1
  Fixes a regression that caused the Edit metadata window to not
  remember its last used size.
  Note that you will have to resize it once after updating to
  6.6.1, after which the size will be remembered.

-------------------------------------------------------------------
Fri Sep 30 05:25:44 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.6.0
  * New Features
    - Book details: allow displaying multi-valued categories such
      as tags on separate lines via Preferences->Look & feel->Book
      details
    - Tag browser: When searching the Tag browser allow also
      filtering the book list to show only books that match one of
      the categories currently shown in the Tag browser.
    - Edit book: When right clicking on HTML files in EPUB 3 books,
      allow marking them as the Table of Contents (NAV document)
  * Bug Fixes
    - EPUB Output: Fix converting a document with obfuscated fonts
      to EPUB 3 not working
    - Edit book: Fix an error when processing books that contain
      comments inside unknown CSS @ rules
    - Content server: Fix jumping to locations such as bookmarks
      not working on iPhone/iPad running iOS >= 15
    - Font subsetting: Fix :first-line and :first-letter pseudo
      classes not being handled correctly
    - Workaround for Amazon's email delivery service not reading
      metadata from inside ebook files
    - Edit book: File list: Fix pressing Tab key while renaming
      a file not starting the rename of the next file

-------------------------------------------------------------------
Fri Sep 16 05:32:34 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.5.0
  * New Features
    - Kobo driver: support the new Kobo Clara 2e
    - When running calibre with the --with-library command line
      flag and calibre is already running, switch to the specified
      library in calibre
    - E-book viewer: Ask for confirmation when deleting a custom
      highlight style
    - Do not show the virtual libraries tab bar when no virtual
      libraries are present
    - Tag mapper: When specifying the replacement tag allow
      completion from the tags in the currently open library
    - Template language: New functions strcasecmp() and to_hex()
  * Bug Fixes
    - Comments editor: Workaround for Qt inserting invalid
      font-weight when converting a paragraph to a heading
    - E-book viewer: When displaying highlights dont group
      highlights from different chapters when the chapter titles
      are identical
    - Tag browser: Fix error if a User category contains a
      reference to a deleted custom column
    - When sending books by email to the Kindle and PocketBook
      email delivery services use random subject and filenames
      consisting of simple English letters to try to workaround
      various bugs in their email processing code

-------------------------------------------------------------------
Fri Sep  2 14:41:27 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.4.0
  * New Features
    - Conversion pipeline: Add support for !important when
      flattening CSS rules
    - Content server: Use the chapter title as the base bookmark
      name when creating new bookmarks
    - Allow changing the search order when clicking on items in the
      Tag browser (Preferences->Look & feel->Tag browser->Hierarchy
      and searching)
    - Check library: Make vacuuming the full text database optional
      as it is very slow and memory intensive
    - Tag browser: Move the preferences for controlling the order
      and display of categories in the Tag browser from
      Preferences->Tweaks to Preferences->Look & feel->Tag browser
    - User category editor: Hide items not visible in the Tag browser
    - Allow adding a button to show the Manage categories window to
      the toolbars via Preferences->Toolbars & menus
    - Google metadata download: When excluding results from a web
      search because they don't match the specified title/author
      ignore diacritics, accents, etc.
  * Bug Fixes
    - E-book viewer: Lookup: Google dictionary: Add some padding at
      the left and right margins
    - E-book viewer: Lookup word in Google dictionary: Fix meanings
      of some words not being shown in the user's preferred language
    - Fix calibredb backup_metadata --all operating only on dirty
      books not all books
    - Do not VACUUM FTS db when exporting library as it can be very
      slow
    - Windows: Nicer error message when attempting to run
      viewer/editor on machine without MediaPack installed
    - Edit book: Reports: Fix rendering of images in the images
      report table
    - Content server: Fix formatting of dates for custom columns
      using ISO format

-------------------------------------------------------------------
Fri Aug 12 07:08:35 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.3.0
  * New Features
    - E-book viewer: Allow searching for nearby words using a new
      "Nearby words" search mode
    - calibredb: New fts_search and fts_index commands to perform
      full text searching from the command line
    - Image viewing popup: Allow zooming using the standard
      shortcuts of Ctrl+plus/minus
  * Bug Fixes
    - Fix a regression in calibre 6.0 that broke remembering the
      previous sort order for a column
    - Fix a regression in calibre 6.0 that broke processing of very
      high resolution images
    - Full text search: Fix error when using restrict searched
      books and more than 900 books are present in the searched list
    - E-book viewer: Fix parsing of CSS styles with @supports rules
      not working
    - E-book viewer: Speed up initial render of books with lots of
      CSS in

-------------------------------------------------------------------
Fri Jul 29 11:12:51 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.2.1
  - Fixes a regression in 6.2.0 that caused the Read button in the
    Content server to only work for PDF books

-------------------------------------------------------------------
Fri Jul 29 05:47:28 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.2.0
  * New Features
    - Full text search: Ignore soft hyphens when extracting
      searchable text from books. Note that you will have to
      re-index your library to take advantage of this.
    - Content server: Have the Read button open PDF files in the
      browsers builtin PDF viewer rather than the calibre viewer
      since the calibre viewer is not well suited to PDF
    - Kobo driver: Add support for new firmware
    - Create icon theme dialog: Add a checkbox to install the newly
      created theme into calibre
    - Allow re-indexing a book for FTS by right clicking the Book
      details panel
  * Bug Fixes
    - Content server: Workaround for chrome bug causing multiple
      sign in prompts when connecting to the server after
      restarting Chrome
    - Fix a regression in 6.0 that broke rendering of first page of
      EPUB as cover when the EPUB has no actual cover
    - Content server: Fix a regression in 6.0 that caused incorrect
      rendering of comments metadata in the book details panel in
      dark mode
    - FB2 Input: Fix a regression in 6.0 that broke conversion of
      FB2 on macOS
    - Metadata download from Google: Switch to making the queries
      via a Google web search as this finds some books that
      searching via the API does not
    - Book details panel: Fix clicking on items from an enumerated
      column containing ampersands not searching correctly
    - Image editor: Do not allow initial mouse drag to create
      selection rect outside the image bounds
    - E-book viewer: Fix clicking on ToC entries moving keyboard
      focus to the ToC search box when the ToC window is floating
    - Fix a regression in 6.0 that caused the default cover to be
      rendered small in some contexts
    - Various bug fixes related to the new dark/light icon theme
      switching. Make the icons more consistent even when using the
      system theme. Use calibre specific file type icons when using
      the non native file dialogs. Allow creating dark/light
      override icons manually in the configuration folder.
    - Disable the color theme setting when using system style
    - When using a fixed color palette and the system colors are of
      different type enforce the color palette
    - Ignore Qt generated application palette changes when using a
      fixed palette
    - In the icon theme chooser dialog show themes show light and
      dark themes only in the light and dark tabs
    - Welcome wizard: Fix device names not being translated
      correctly leading to the same name being repeated for some
      devices
    - Read aloud: Fix spurious error message on Linux about voices
      not being installed
    - Linux binaries: Bundle brotli and graphite2 as well as Qt
      links against them
    - FTS dialog: When keyboard navigation changes the current item
      ensure it stays visible
    - Binary builds: Fix Qt TLS backends not included
    - Fix Qt WebEngine creating cache folders outside of the
      calibre cache directory
- Rebase calibre-python_test.patch.

-------------------------------------------------------------------
Sat Jul 16 10:03:19 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.1.0
  * New Features
    - Full text search: Add a button to re-index a book, useful if
      the book's contents have been changed outside calibre
    - Search queries now support quoting using "docstrings" for
      easier escaping
    - Linux installer: Check for libEGL as the QtGui module in Qt 6
      links against it and many Linux servers dont have it installed
  * Bug Fixes
    - macOS: Blacklist older versions of the DeDRM plugin as they
      caused crashes and failures to add books.
    - Fix a regression in 6.0 that caused crashes in the Manage
      authors dialog
    - Fix a regression in 6.0 that broke touch screen interaction
    - Fix a regression in 6.0 that caused a few checkboxes to stop
      working
    - Linux: Fix a regression in 6.0 that broke handling of mouse
      clicks on some Wayland systems with a touchpad
    - ToC Editor: Fix a regression in 6.0 that broke styling/images
      in the preview panel
    - Windows: Fix window titlebars not dark in dark mode
    - Full text search: Show a warning when indexing/searching a 
      library on an FAT drive
    - News download: Do not add aborted/failed article titles to
      the comments metadata
    - Full text search: Fix books edited with the Edit book tool
      not being automatically re-indexed
    - HTML Input: Fix handling of deeply nested files on Windows
    - Fix a regression preventing using a non-integer value for the
      tweak to change book details font size
    - Fix moving library not moving the full text search index
    - Fix some custom icons in the calibre config directory not
      overriding the theme/builtin icons
    - Linux installer: Fix glibc version check also being done when
      installing older versions
    - Windows installer: Refuse to install on Windows 8 as thanks
      to Qt 6 calibre 6 does not work on Windows 8
    - Update the BigBookSearch metadata plugin for website changes

-------------------------------------------------------------------
Mon Jul 11 06:18:00 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 6.0.0
  * New Features
    - For details on the major changes in calibre between
      6.0 and 5.0, see https://calibre-ebook.com/new-in/fifteen
    - Full text search: You can now search the entire text of all
      books in your calibre library
    - Support for new CPU architectures: Apple Silicon and ARM64 on
      Linux. Support for 32bit CPUs has been dropped because Qt 6
      does not support them
    - Dark mode in calibre is now controlled via a setting in
      Preferences->Look & feel rather than an environment variable
    - Allow choosing different icon themes for light and dark mode
      in Preferences->Look & feel
    - Upgrade calibre to use Qt 6. This means that some no longer
      maintained third party plugins may not work, though most
      plugins have already been ported
- Rebase calibre-python_test.patch.
- Correct requires versions.
- Add missing requires.

-------------------------------------------------------------------
Thu Jun 30 14:44:51 UTC 2022 - Dominique Leuenberger <dimstar@opensuse.org>

- Fix BuildRequires for pkgconfig(Qt5Sensors): also require that
  one >= 5.15.2, like all the others (was = 5.15.2).

-------------------------------------------------------------------
Fri Jun 17 09:06:09 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update ot 5.44.0
  * New Features
    - Amazon metadata download: Add an option to prefer the Kindle
      edition when multiple book types are returned by the search
      (Preferences->Metadata download->Configure the Amazon plugin)
    - Kobo driver: Support for updated firmwareecho
    - Allow customizing how yes/no columns are displayed
      (Preferences->Add your own columns)
    - Manage tags dialog: If tags are present in the add tags input
      when OK is clicked, add them automatically, without needing
      to click the plus button first
  * Bug Fixes
    - Edit book: Live CSS: Fix @namespace rules causing jumping to
      rule definition to go to the wrong definition
    - Workaround for Apple bug in macOS 13 that prevents device
      detection
    - Dont use commas in filenames when sending to pbsync and
      kindle email addresses
    - Edit book: When quitting while a save is in progress and the
      save completes while the confirmation popup is visible,
      dont abort the quit.
- Rebase calibre-python_test.patch to disable zeroconf test,
  because newest python-zeroconf from openSUSE rise up an error.
  
-------------------------------------------------------------------
Fri May 27 09:17:04 UTC 2022 - ecsos <ecsos@opensuse.org>

-Update to 5.43.0 
  * New Features
    - Kobo driver: Allow using templates to generate collections
    - Book details popup: Double clicking on the cover now uses
      calibre's internal image viewer. Right click on the cover
      to open it with another program.
  * Bug Fixes
    - Fix Book details blank when switching from device view
      to library view
    - TXT Input: Fix a regression in 5.39 that caused the option
      to remove indents also removing blank lines
    - E-book viewer: Fix incorrect sorting of highlights from the
      first internal file of a book

-------------------------------------------------------------------
Tue May  3 08:30:26 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.42.0
  * New features
    - E-book viewer: Ignore accents when doing a search
    - Book list searching: Ignore punctuation when searching.
      So that, for example, Gravitys will match Gravity's
    - Show the text used for marking books in the tooltip
  * Bug fixes
    - Edit book: Reduce memory consumption by the checkpoint system
      when doing operations that involve parsing all book files
    - Amazon metadata download: Fix titles starting with [ being
      ignored
    - Edit metadata dialog: Undo not working correctly in
      identifiers field
    - Fix viewing LRF files not working
    - PDF Output: Fix an error on some invalid CSS in the input
      document
    - Linux binary: Workaround for Qt WebEngine not working on
      systems with glibc > 2.33
  * New news sources
    - Caravan Magazine (Hindi) by Areet Mahadevan
    - LWN (Free) by yodha8
    - IEEE Spectrum Magazine by yodha8
    - Financial Times by Kovid Goyal
    - Cosmos Magazine by yodha8
  * Improved news sources
    - New Yorker
    - OMG! Ubuntu!
    - ACM Queue
    - CACM
    - Science News
    - Quanta Magazine
    - Outlook Magazine
    - Indian Express

-------------------------------------------------------------------
Sun Apr 24 08:34:47 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.41.0
  * New Features
    - Allow creating multiple types of temporary marks (pins) by
      right clicking the mark books button (which can be added to
      the calibre toolbar via Preferences->Toolbars & menus)
    - Kobo driver: Support updated firmware
    - Show a popup message when a Kindle is connected mentioning
      the Amazon cover bug and how to workaround it
    - Edit book: Table of Contents tool: Allow using the title
      attribute on headings tags to get the text for table of
      contents entries
    - When creating a custom column to display real numbers allow
      specifying th enumber of decimal digits to display
    - Amazon metadata download: Add support for amazon.in country
      website
  * Bug Fixes
    - Edit book: Fix AltGr+{ not working on some keyboard layouts
    - TXT Input: Fix rare failure to convert some large TXT files
      with non-ascii text
    - Get books: Update English language Amazon plugins for website
      changes

-------------------------------------------------------------------
Fri Apr  1 05:25:23 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.40.0
  * New Features
    - Content server viewer: Allow editing bookmarks
    - Read covers from CBC comic files
    - Allow filtering authors/tags when creating virtual library
      based on them
    - Add a copy button to the image view popup
    - Template language: Support for nested functions and a string
      concatenation operator
  * Bug Fixes
    - DOCX Output: Fix a comment immediately after a
    - tag breaking the conversion
    - Standalone ToC editor: Fix spurious error message if left
      open for more than two minutes
    - Fix search-as-you-type triggers extra search after manual
      confirmation

-------------------------------------------------------------------
Sun Mar 20 09:23:46 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.39.1
  * Bug Fixes
  - Fixes a couple of regressions that broke case change in the
    Bulk metadata edit dialog and remembering column widths in the
    book list on some systems.

-------------------------------------------------------------------
Fri Mar 18 14:48:32 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.39.0
  * New Features
    - E-book viewer: Allow scrolling of the ToC, highlights,
      bookmarks, etc. with touch gestures
    - Edit metadata dialog: When using the change case operations
      if some text is selected, only operate on the selected text
    - Use atomic writes for the config files ensures no partial
      data is written in case of crash/powerloss
  * Bug Fixes
    - Content server: Fix reading of books with thousands of
      internal files not working in the Chrome browser
    - Catalog generation: Fix a rare crash when generating very
      large catalogs
    - Edit/Polish book: Fix hardcoded Unicode ligatures not being
      preserved in AZW3 format books
    - Fix automatic searches causing search box to lose focus when
      search as you type is enabled in Preferences->Searching
    - Edit book: Check book: Auto fix package identifier being empty
    - Amazon metadata download: Fix getting series info from amazon.jp
    - Edit book: Insert hyperlinks: When sorting anchors on
      elements without any text content, use the anchor itself
    - Edit book: Make the saved search panel freely resizable
    - Edit book: When dragging to select a region or adjust the
      selection fix mouse moving outside the image causing the
      region to no longer be adjusted

-------------------------------------------------------------------
Fri Mar  4 06:06:36 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.38.0
  * New Features
    - E-book viewer: When displaying estimated time to completion
      for reading a book, remember the reading rate the next time
      the book is opened
    - Dark theme: Highlight the current cell in the book list with
      a darker background and different foreground to make it more
      obvious
    - An option to disable editing composite columns in the main
      book list when Tabbing through them (Preferences->Look & 
      feel->Edit metadata)
  * Bug Fixes
    - Tag editor: Fix regression in previous release that caused
      double clicking on tags to not work on non Linux platforms
    - Copy to library: Fix annotations not being copied
    - Edit book: Spell check: Fix words after a comment not being
      checked
    - PDF Output: Fix conversion failing if there are ToC entries
      pointing to removed content
    - E-book viewer: Fix an error when opening books with MathML
      for the second time if the last read position was at a MathML
      element
    - Edit book: Fix double clicking to select a word also
      selecting smart quotes surrounding the word
    - EPUB 3 metadata: Fix non-integer series index being sometimes
      represented using exponential notation
- Revision of the dependencies/requires versions.

-------------------------------------------------------------------
Fri Feb 18 06:20:05 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.37.0
  * New Features
    - Book details: Add actions to trim the cover to the
      right-click menu
    - Allow removing multiple email addresses at once in
      Preferences->Sharing by email
    - Book details: Use a better mono-spaced font on Windows by
      default
    - Add a tweak in Preferences->Tweaks to change the behavior of
      the Tab key when completing entries
    - Edit metadata: In "All in one" mode add an adjustable
      splitter between the cover and formats boxes
  * Bug Fixes
    - Textile output: Dont fail if input document has invalid
      padding or margin specifications
    - E-book viewer: Fix image display window not remembering its
      size and settings when run from within calibre
    - E-book viewer: Fix setting to use roman numerals for series
      not being respected
    - Edit book: When saving a copy do not fail if the original
      file has no write permissions
    - Embed fonts tool: Create when missing
    - Tag editor: Improve performance when very large number of
      tags present

-------------------------------------------------------------------
Fri Feb  4 07:55:53 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.36.0
  * New Features
    - Edit metadata dialog: Allow controlling which custom columns
      are present in this dialog via Preferences->Look & feel->Edit
      metadata
    - Edit metadata dialog: Allow manually sizing the various
      sections of the dialog in "All on 1 tab" mode
    - Edit book: Spell checking: Update the bundled English and
      Spanish dictionaries
    - BibTeX catalogs: Support tags like custom columns
  * Bug Fixes
    - Amazon metadata download: Fix paragraphs in the comments
      being merged
    - Amazon.de metadata download: Fix published date and series
      information not being fetched for some books
    - Email delivery: Fix sending email via Hotmail not working
      since this week because Microsoft changed the SMTP server
      name
    - Do not remove articles for titles in the Polish language
    - E-book viewer: When using Read aloud do not automatically
      lookup the highlighted word until read aloud is paused or
      stopped
    - E-book viewer: Fix Ctrl+p shortcut for printing not working
    - Show an error when viewing a specific format and the file is
      missing
    - Edit book: Fix renaming of classes that start/end with non
      word characters not working
    - Edit book: Preview panel: Fix hyphenation at end of line
      being rendered as boxes on macOS
    - Fix incorrect selection size displayed in Trim image dialog
      when image is scaled down to fit
    - Edit book: Fix pasting files from another editor instance
      failing if a file with the same name already exists
    - When reviewing metadata if the newly downloaded metadata has
      no language but there is an existing language, ensure it is
      preserved

-------------------------------------------------------------------
Fri Jan 21 06:35:32 UTC 2022 - ecsos <ecsos@opensuse.org>

- Update to 5.35.0
  * New Features
    - Coloring/icon rules: Allow creating a rule for date columns
      that matches *today*
    - Kobo driver: Add support for new firmware
    - Content server: Show total number of results when searching
      for books
  * Bug Fixes
    - E-book viewer: Fix searching for text near the end of
      a chapter sometimes not working
    - E-book viewer: Fix auto hyphenation on macOS not rendering
      the hyphens correctly
    - Edit book: Reports: Fix thumbnails of SVG images not rendered
    - ODT metadata: Support reading tags from multiple elements
    - LRF Input: Fix a regression in calibre 5 that broke parsing
      of some LRF files
    - MOBI output: Dont fail if input document contains invalid %
      based lengths
    - AZW3 Input: Handle AZW3 files with incorrect TAGX Offset INDX
      header fields
    - Comic conversion: Fix conversion of comic images that are
      stored as grayscale images in JPEG format not working when
      converting to PDF with image processing turned off
    - calibredb catalog: Fix --ids and --search options not working
      for CSV/XML catalogs
    - Tag browser: Fix the find box not using all available width
    - E-book viewer: Remove books that do not exist from the
      recently opened book list
    - Completion popups: Fix display of items containing line
      breaks
    - Fix line breaks in custom column descriptions not being
      rendered in their tooltips
    - Fix Preferences->Searching->Clear search histories not taking
      effect till a restart for some search boxes
    - Hierarchical entries in user category may not merge correctly
      in tag browser

-------------------------------------------------------------------
Fri Dec 17 06:52:03 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.34.0
  * New Features
    - Happy holidays to everyone!
    - Driver for the new Nook Glowlight 4
    - Edit book: Spell check tool: Add an exclude files button to 
      exclude some files from being     checked
    - EPUB/MOBI Catalogs: Increase the maximum thumbnail size to
      3 inches from 2 inches
    - Allow creating a shortcut in Preferences->Shortcuts->Edit
      metadata to paste metadata ignoring the value of the 
      exclude_fields tweak
    - E-book viewer: Displays links marked up as glossary and 
      bibliography links as popups
    - Add a tweak in Preferences->Tweaks to provide the sort value
      for undefined numbers
  * Bug Fixes
    - Edit book: Fix pressing F8 to jump to next misspelled word 
      not working after last word in current file
    - Fix PDB E-reader output broken in calibre 5
    - Edit book: Reports: Include descendant selectors that use 
      classes when counting class usage
    - E-book viewer: Fix an error when opening some books with 
      highlights that span in-line text formatting
    - MTP driver: Do not send the calibre device db files to the 
      root folder on the Supernote A5 x as it fails
    - ToC Editor: Workaround an occasional error when closing on
      Windows if the file being edited is in a DropBox/antivirus
      prone folder
    - Fix a regression in the previous release that broke creating
      new keyboard shortcuts
    - Comments editor: When flowing the tool bar onto multiple
      lines do not split up groups of buttons
    - Various compatibility fixes for Python 3.10 used by some
      Linux distributions
- Fix wrong path for init_calibre.py

-------------------------------------------------------------------
Sat Dec  4 10:32:11 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.33.2
  - Fixes a couple of regressions that broke the toolbar in the
    popup comments editor dialog and rendering of the download
    metadata button in the edit metadata dialog on Windows,
    as well as reading files from MTP devices on Windows

-------------------------------------------------------------------
Sat Dec  4 08:26:43 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.33.1
  - Fixes a couple of regressions that broke the toolbar in the
    popup comments editor dialog and rendering of the download
    metadata button in the edit metadata dialog on windows

-------------------------------------------------------------------
Fri Dec  3 06:24:44 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.33.0
  * New Features
    - Allow changing the icon used for calibre libraries. Right
      click the library icon in calibre and choose "Change the icon
      for this library"
    - Comments editor: Use a single line for all three toolbars if
      they fit
    - Edit book: Allow merging HTML files by drag and drop of the
      files onto another HTML file
    - Kobo driver: Add support for listing purchased audiobooks
    - Edit metadata all-in-one mode: The cover and formats column
      now gives as much vertical space as possible to the cover
      image
    - Add books dialog: When a non-book file type is added the next
      time the dialog is used, preselect the "All files" filter
    - calibre-server --manage-users: Allow managing users while the
      server is running and also add actions to automate changing
      user account restrictions
    - EPUB 3 metadata: If the book contains a "subtitle" append it
      to the main title when reading metadata
  * Bug Fixes
    - E-book viewer: Fix an occasional hang on startup at
      "Loading section"
    - Get books: Update the Kobo plugin for website changes
    - Bulk edit metadata dialog: Fix changing the search mode
      resetting other fields
    - E-book viewer: Fix sorting of highlights incorrect in books
      that use HTML ids with a hyphen in them
    - PDF Output: Fix the option to break long words at the ends of
      lines causing boxes to be rendered at the end fo the line on
      macOS with some fonts
    - Google metadata plugin: When searching by ISBN if no results
      are found retry using an alternate query syntax

-------------------------------------------------------------------
Fri Nov 12 06:40:13 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.32.0
  * New Features
    - Edit book: Add a tool to transform HTML tags based on rules
      (Tools->Transform HTML)
    - Driver for the new Tolino Vision 6
    - Kobo driver: Add support for the latest firmware released
      last week
    - When picking a random book ensure recently chosen books are
      not re-selected
    - Icon theme chooser dialog: Allow right clicking on a theme to
      visit its homepage
  * Bug Fixes
    - Amazon metadata download: Add support for more markup
      variations in amazon's sites that could prevent the fetching
      of ratings, comments and series metadata for some books
    - Google search: Add support for new beta search results page
      markup that was preventing using cached Google pages to
      search for Amazon metadata
    - PDF Output: Fix the option to preserve cover aspect ratio
      being ignored when converting comics
    - DOCX Input: Sanitize image filenames more strictly to
      workaround broken EPUB software
    - Linux binary: Fix file dialogs not working on Fedora 35 under
      KDE
    - When sending email to the Kindle and PocketBook sync services
      use ASCII filenames as there have been some reports of issues
      with non-ASCII filenames with these services.
    - Book Details: Fix missing copy options on composite columns
    - Ask for confirmation when deleting covers from books

-------------------------------------------------------------------
Fri Oct 29 10:11:24 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.31.1
  * Bug fixes
    - Fixes a bug in an HTML serialization library calibre uses
      that broke a few things, such as the comments editor tool in
      the metadata dialog

-------------------------------------------------------------------
Fri Oct 29 08:53:49 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.31.0
  * New features
    - Kindle driver: Support the new Kindle PaperWhite 2021
    - Add an option under Preferences->Behavior to have calibre
      recognize numbers when sorting (this was previously under
      Preferences->Tweaks)
    - E-book viewer: Add a button to directly open the viewer help
      section in the calibre user manual to the viewer controls
    - E-book viewer: Prevent the display from sleeping when using
      auto-scroll or read aloud modes (Implemented only on Windows
      and macOS)
    - Edit book: Set semantics tool: Add support for EPUB 3 landmarks
    - Add an entry to the Connect/share menu to open the content
      server in a local browser when it is running
  * Bug fixes
    - Content server: Fix some OPDS feeds failing with non-ASCII
      content
    - Tag browser: Fix incorrect first letter partitioning when
      enabling numeric collation of items that start with a number

-------------------------------------------------------------------
Fri Oct 22 05:28:38 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.30.0
  * New Features
    - Add support for the new Kobo Sage and Libra 2 e-book reader
      devices
    - E-book viewer: Read aloud: Allow right clicking to play/pause
      reading
    - Sending books by e-mail: Preserve non-English characters in
      attached filenames
    - Tab browser: Allow searching for sub-categories by right
      clicking on them
  * Bug Fixes
    - E-book viewer: Fix cover and full screen images not centered
      in paged mode when more than one page is displayed per screen
    - ToC Editor: Ignore in succession clicks on the OK and Cancel
      buttons to avoid accidentally closing the window when
      finishing creating a new entry
    - Comments editor: Fix the formatting buttons not showing the
      current state correctly and fix some keyboard shortcuts not
      working when more than one comments editor is present in a
      single window
    - Tag browser: Fix renaming of User categories in Virtual
      libraries
    - Make removing large numbers of custom column icons easier

-------------------------------------------------------------------
Fri Oct  8 05:31:22 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.29.0
  * New Features
    - Allow drag and drop of books onto formats in the Tag browser
      to convert them to that format
    - Allow creating sorts based on multiple columns (Add the Sort
      action to the toolbar via Preferences->Toolbars & menus)
    - Edit book: When changing a paragraph to a heading if the
      cursor is adjacent to a paragraph tag but not inside any tags
      other than body, use the adjacent tag
  * Bug Fixes
    - Auto adding: Run relevant plugins before reading metadata
      from the book. Matches behavior of manual adding
    - Content server: Fix category collapse by partition not
      working
    - Prevent Tab from causing focus to leave the Tag browser
    - Edit book: See what changed: Fix non-BMP unicode characters
      causing highlighting of changed words to be slightly
      misplaced
    - PDF Output: Fix a regression that broke conversion of comics
      that contain 1-bit images
    - Edit book: Fix pressing Ctrl+Tab inserting a tab at the start
      of a line instead of switching tabs
    - Fix a regression in the previous release that caused
      identifiers set by some plugins to not be saved in the
      database
    - Template language: Fix nesting composite columns sometimes
      failing

-------------------------------------------------------------------
Fri Sep 24 07:23:12 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.28.0
  * New Features
    - Edit metadata dialog: Customize cover generation: Allow
      saving and loading cover generation settings as "themes"
    - E-book viewer: Allow pressing the 0-9 keys to apply a quick
      highlight style
    - Book details panel: While clicking tags/authors/etc. holding
      down the Ctrl+Shift modifier keys now add the tag to the
      current search with "AND" instead of "OR" when using only Ctrl
    - Add an option to the preferences drop down menu to restart
      calibre without third party plugins
  * Bug Fixes
    - Edit book: When renaming classes in style sheets only
      recognize class names preceded by a period
    - E-book viewer: Fix lookup in Google partially hidden due to
      change in Google results page markup
    - Conversion dialog: Search replace expression builder: Fix
      incorrect search result highlighting when non-BMP unicode
      characters are present in the text
    - E-book viewer: Fix popup footnote blank when the footnote
      link points to a tag
    - E-book viewer: Fix jumping to highlights in text that occurs
      after a line break and newline character not working in paged
      mode
    - Kindle Output: Strip EXIF metadata from JPEG images as the
      Kindle renderer has issues with it

-------------------------------------------------------------------
Fri Sep 10 04:47:31 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.27.0
  * New Features
    - When adding markdown (.md) or textile (.textile) files that
      contain references to images, automatically add them as txtz
      with the images
  * Bug Fixes
    - DOCX Output: Correctly convert soft hyphens in the input
      document to DOCX soft hyphens
    - DOCX Input: Fix a bookmark at the end of a paragraph causing
      the bookmark at the start of the paragraph to be skipped
    - Edit book: Spell check: Fix EPUB 3 nav document not being
      spell checked when not in the spine
    - PDF Output: Fix a rare failure when the input document has
      a ToC item pointing to the last page
    - Windows: Fix a regression in calibre 5 that caused drag and
      drop from WinZip to not work
    - TXT Output: Fix a regression in calibre 5 that caused the max
      line length option to not work
    - When auto converting added TXT files with image references to
      TXTZ use a full markdown parser to detect markdown images

-------------------------------------------------------------------
Fri Aug 27 08:34:15 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.26.0
  * New Features
    - Dark color scheme: Use a darker blue for highlighted items
  * Bug Fixes
    - Content server book viewer: Show a message when a search
      finds no matches
    - MOBI Output: Fix JPEG images without any JFIF metadata not
      being rendered on the Kindle
    - Comic input: Fix single color images having their colors
      changed by normalization
    - E-book viewer: Fix creating multiple highlights in a single
      paragraph that also contains some extra text formatting at
      the start causing the second and subsequent highlights to
      malfunction
    - Edit book: Fix a regression in the previous release that
      broke the options in the Remove unused CSS dialog

-------------------------------------------------------------------
Fri Aug 13 07:49:15 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.25.0
  * New Features
    - Edit/Polish book: Remove unused CSS now also removes
      unreferenced stylesheets
    - E-book viewer: Add some CSS variables and classes that allow
      writing calibre specific CSS in ebooks.
      See https://manual.calibre-ebook.com/viewer.html#designing-your-book-to-work-well-with-the-calibre-viewer
    - A new framework plugins can use to be notified about changes
      to calibre libraries
    - Edit metadata dialog: When pasting into the identifiers field
      if the clipboard contains a URL paste it directly as a URL
      identifier
  * Bug Fixes
    - E-book viewer: When displaying popup footnotes use the same
      writing direction as the main text for the footnote popups
      size and header
    - E-book viewer: Improve the text layout when looking up words
      in Google
    - Content server viewer: Fix read aloud not working on mobile
      browsers
    
-------------------------------------------------------------------
Fri Jul 30 10:34:27 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.24.0
  * New Features
    - Conversion: Insert metadata as jacket: Allow adding timestamp
      and publisher fields. Also allow controlling the formatting
      of date/time fields
    - Cover browser: Add an option to view the central book by
      double clicking instead of single clicking (Preferences->
      Look & feel->Cover browser)
    - Tag browser: Add actions to the configure menu to toggle the
      display of counts and average rating
    - Tag browser: Allow plugins to add entries to the context menu
  * Bug Fixes
    - fetch-ebook-metadata: Fix an error when using the --cover
      option and no cover is found
    - HTML Input: Fix the presence of BookDesigner markup causing
      conversion to fail
    - TXT Input: Dont fail if the txt file references a directory
      as a resosource

-------------------------------------------------------------------
Fri Jul  9 08:34:12 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.23.0
  * New Features
    - Annotations browser: Show highlight color in the preview panel
    - TXTZ format: Store type of text formatting in the metadata
      and use it automatically when converting from TXTZ
    - Edit metadata dialog: Allow holding Ctrl and clicking the
      item editor buttons to instead open the manage dialog
  * Bug Fixes
    - Annotations browser: Fix searching for words in languages
      such as Chinese that do not have word delimiters not working
    - News download: Fix URLs with spaces in them not being
      downloaded since calibre 5.0
    - When searching for books by an author from the manage authors
      dialog, use exact matches
    - MOBI Output: Fix invalid color specification as plain numbers
      causing conversion to fail
    - MOBI Output: Fix invalid text indent specification causing
      conversion to fail
    - Linux: Drop the unmaintained dbus-python in favor of jeepney
      for DBUS
    - Edit book: Workaround for Qt bug that caused the panel sizes
      in the editor to not be remembered across sessions

-------------------------------------------------------------------
Fri Jun 25 05:42:57 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.22.0
  * New Features
    - E-book viewer: Allow clicking links in popup footnotes
    - Main book list: Scroll per pixel rather than per item by
      default. Can be returned to previous behavior via 
      Preferences->Tweaks->Control behavior of book list
    - Linux: Drop support for the global menu bar
   * Bug Fixes
    - E-book viewer: Fix font sizes specified in absolute units not
      being honored in locales where the decimal separator is not
      the period
    - E-book viewer: Fix searching for short strings in text with
      lots of similar entries displaying incorrect matches
    - MOBI Output: Fix using percentage units for margins resulting
      in too large margins when using the tablet output profile
    - E-book viewer: Fix back button not working after jumping to
      a bookmark
    - Content server: OPDS feed: Fix incorrect up URL in category
      group feeds
    - Content server: Fix a regression in the previous release that
      broke editing of series metadata
    - E-book viewer: Fix scrolling backwards by screen-fulls not
      working with very large page margins.
    - MOBI Input: Fix a regression in calibre 5 that broke
      processing of Haodoo format files
    - Conversion: Fix the smarten punctuation option not applying
      to inserted jacket page

-------------------------------------------------------------------
Fri Jun 11 13:53:53 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.21.0
  * New Features
    - Driver for the new Kobo Ellipsa
    - Content server: When editing metadata for fields that take
      multiple values, make it easier to remove individual values
      by simply tapping a button
    - Browser viewer: Make current color scheme setting propagate
      to all devices automatically when using user accounts
    - E-book viewer: Image popup: Show the image resolution in the
      popup window's titlebar
  * Bug Fixes
    - HTML Input: Fix handling of @import rules in stylesheets
      nested more than one level deep
    - Fix viewer search context menu to clear searches not clearing
      search settings
    - E-book viewer image popup: Fix full screen button in
      incorrect state when starting in full screen

-------------------------------------------------------------------
Fri Jun  4 07:15:34 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.20.0
  * New Features
    - E-book viewer: Highlights: Make URLs in the notes for
      highlights clickable
    - Book details: Ctrl-clicking on tags now adds them to the
      existing search instead of replacing it
    - E-book viewer: Allow using the back button to return from
      jumping to a search result
  * Bug Fixes
    - Get books: Fix the Kobo store plugin for changes to the
      website
    - Edit book: Fix non breaking spaces in snippets being
      converted to normal spaces
    - ToC Editor: Fix a regression that caused changes to not be
      saved on machines where running a worker process takes more
      than ten seconds
    - Fix error when changing the "Search the net" URLs for the
      Content server

-------------------------------------------------------------------
Fri May 28 12:43:24 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.19.0
  * New Features
    - E-book viewer: Add a preference under Scrolling behavior to
      reverse the tap zones used to turn pages. So tapping on the
      left goes forward and the right backward
  * Bug Fixes
    - E-book viewer: Fix regression in 5.15 that caused incorrect
      display of font sizes that contain a period and use absolute
      units
    - PDF Output: Fix font kerning issues with some TrueType fonts
    - Edit book: Fix a regression in 5.18 that broke
      editing/creating saved searches
    - Windows: Fix for standalone ToC Editor not working on systems
      where Qt WebEngine causes a crash at exit
    - Windows MTP driver: When scanning an MTP device such as an
      Android phone ignore folders that Windows fails to enumerate
      instead of failing with an error
    - ToC Editor: Fix a regression that broke choosing split points
      in some XHTML files
    - PDB Input: Fix a regression in calibre 5 that broke
      processing some plucker format PDB files
    - Edit book: Fix sorting in spell check dialog on language
      broken for books that have unknown languages
    - Annotations browser: Fix a typo that broke sorting for
      highlights
    - Annotations browser: When showing a highlight preserve
      paragraph boundaries for multi-paragraph highlights
    - Viewer highlights panel: Fix the "Edit notes" link not saving
      the changes
    - E-book viewer: When using a right click/shift-click to adjust
      the selection, move the section boundary that is closer to
      the click point

-------------------------------------------------------------------
Fri May 21 10:57:36 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.18.0
  * New Features
    - Content server viewer: Improved search functionality
      Searching can now be done for whole words and regular
      expressions. And all search results are listed at once with
      some context for easy navigation.
    - E-book viewer: Allow fullscreening the image popup
    - E-book viewer: Allow expanding/collapsing all items in the
      Table of Contents at a particular level by right clicking on
      one item of that level and choosing the option to
      expand/collapse
    - E-book viewer: Add shortcuts shift+home and shift+end to
       extend current selection to start/end of line
    - Book details: When creating rules to convert identifiers to
      URLs allow using {id_unquoted} to avoid quoting the
      identifier value
    - Review downloaded metadata: Allow double clicking on a cover
      to see it at a larger size
    - Annotations browser: Add a Refresh button
  * Bug Fixes
    - Edit book: Fix ctrl-clicking on a class name jumping to the
      wrong CSS rule if the stylesheet contains top level comments
    - Fix search and replace on identifiers not working if the
      replaced value has colons
    - Annotations browser: Sort the entries in order of position in
      book
    - ToC editor: Dark mode: Fix colors in location selection panel
      not dark
    - E-book viewer: Fix right or shift-clicking to extend
      selection not shrinking selection when the click is inside
      the selection
    - Avoid spurious errors on multiple simultaneous calibre
      launches
    - E-book viewer: Ignore mouse scroll events that would turn
      pages when editing notes
    - E-book viewer: Fix sorting bookmarks by title not working
    - Windows WPD driver: Fix an error reading the filesystem on
      some MTP based devices

-------------------------------------------------------------------
Fri Apr 30 05:47:57 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.17.0
  * New Features
    - E-book viewer: Image popup: Allow dragging with the mouse to
      pan the image
    - Sort button: Allow selecting which columns are in the popup
      sort menu
    - E-book viewer: When suggesting a default bookmark title,
      use the name of the current chapter
    - E-book viewer: When searching the Table of Contents allow
      holding the Shift key to search backwards
    - E-book viewer: Add a shortcut Ctrl+0 to restore default font
      size
  * Bug Fixes
    - Windows MTP driver: Rewrite parts of the driver in the hope
      of fixing some rare and hard to reproduce crashes
    - Windows MTP driver: Set modified and created times when
      putting files/folders on device. Also read modified time
      correctly.
    - Windows: E-book viewer: Fix switching away from viewer while
      in full screen and switching back causing some corruption
      until the page is scrolled
    - Fix a regression in the previous release that caused errors
      when editing empty date values
    - Get books: Update Gutenberg plugin for website changes
    - E-book viewer: The quick highlight button should replace the
      style of an existing highlight, when one is selected
    - Elide long items in the middle when showing the completion
      popup for tags, to make it easier to use with hierarchical
      tags
    - E-book viewer: Read aloud: Fix soft hyphens causing read
      aloud words to be broken up
    - E-book viewer: Right clicking when text is selected should
      extend the selection instead of doing nothing
    - Fix settings in the ToC Editor tool being forgotten when
      calibre is closed
    - DOCX Output: Fix conversion failing if the input document has
      missing images
    - Content server viewer: Fix mouse wheel scrolling not working
      on the box used to edit notes for highlights
    - E-book viewer: Fix read aloud word tracking in flow mode not
      very reliable
    - E-book viewer: Fix navigation shortcuts not working in Read
      aloud mode

-------------------------------------------------------------------
Mon Apr 19 05:37:04 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.16.1
  * Bug Fixes
    - CHM Input: Fix handling of some CHM files that use non-ASCII
      internal filenames and dont specify a character encoding in
      their metadata
    - Fix a regression in the previous release that prevented
      calibre from starting if there was a failure in a third party
      plugin
    - Content server viewer: Fix a regression in the previous that
      broke handling of URLs in stylesheets
    - Fix a regression in the previous release that broke changing
      sections in the convert single book dialog after changing the
      input or output formats
    - Fix using 'is set' rules not working for column rules with
      rating values
    - E-book viewer: Fix a regression in 5.15 that causes the
      viewer to ignore page-break CSS properties (in 5.16.1)
    - Fix a regression that broke using stored templates (in 5.16.1)
    - Fix auto scroll books shortcut not working in standalone
      cover browser window (in 5.16.1)
    - E-book viewer: Fix jumping to previous section sometimes not
      working in flow mode (in 5.16.1)
    - E-book viewer: Fix a regression in 5.15 that broke changing
      keyboard shortcuts in the viewer preferences (in 5.16.1)
    - E-book viewer: Fix a regression in 5.15 that broke using the
      delete key to delete highlights (in 5.16.1)

-------------------------------------------------------------------
Sat Apr 17 08:41:55 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.16.0
  * Bug Fixes
    - CHM Input: Fix handling of some CHM files that use non-ASCII
      internal filenames and dont specify a character encoding in
      their metadata
    - Fix a regression in the previous release that prevented
      calibre from starting if there was a failure in a third party
      plugin
    - Content server viewer: Fix a regression in the previous that
      broke handling of URLs in stylesheets
    - Fix a regression in the previous release that broke changing
      sections in the convert single book dialog after changing the
      input or output formats
    - Fix using 'is set' rules not working for column rules with
      rating values

-------------------------------------------------------------------
Fri Apr 16 05:44:24 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.15.0
  * New Features
    - Allow auto scrolling through the list of books by pressing 
      the X key or right clicking on the cover browser
    - E-book viewer: Speed up first time open for EPUB files with 
      lots of styling
    - E-book viewer preferences: Allow searching for keyboard
      shortcuts
    - Edit book: Allow editing WEBP images
    - Various improvements to the template language, see 
      https://www.mobileread.com/forums/showthread.php?t=337573
    - E-book viewer: Show the current progress percentage in the 
      bottom bar of the viewer controls. This can be customized in 
      the viewer preferences under Headers and footers
    - E-book viewer: Add an option under Preferences->Miscellaneous
      to not restore open panels such as Search, Table of Contents
      etc on restart
    - When exporting highlights as text or markdown also output top
      level chapter titles
    - Allow downloading metadata from amazon.se
    - Preferences->Tweaks: Allow specifying that calibre should
      open the book details window when double clicking on a book
    - MOBI Output: Convert WebP images to PNG so they work with
      Amazon's software
    - DOCX Input: When converting embedded fonts, replace spaces in
      the filename with underscores to keep the execrable epubcheck
      happy
    - E-book viewer: Selection bar: Add keyboard shortcuts for all
      buttons. Hover over a button in the bar to see the shortcut
  * Bug Fixes
    - FB2 Output: Fix a regression in calibre 5 that caused
      paragraphs containing only non-breaking spaces to be removed
    - Metadata comments editor: Fix setting block alignment
      destroying other block level properties
    - E-book viewer: Fix margins not being adjusted immediately
      when preferences are changed
    - Edit book: Upgrade book internals: Fix skipping the NCX
      removal dialog not remembering the chosen option
    - Conversion: When specifying a line-height do not apply it to
      the tag, as it is pointless and causes the execrable
      epubcheck to complain
    - E-book viewer: Improve scrolling behavior when extending the
      selection using keyboard shortcuts
    - E-book viewer: Fix read percent for HTML files that are
      rendered in a single screen being 0% rather than 100%
    - E-book viewer: Highlights panel: Do not expand all sections
      when adding/deleting/modifying highlights
    - CHM Input: Fix a regression in calibre 5.0 that broke opening
      of some files that dont specify a character encoding
    - EPUB2 metadata: Read ISBNs in identifier elements without
      schemes if they are valid ISBNs and no properly identified
      isbns are present
    - Update Amazon metadata plugin for changes to amazon websites
    - Edit book: Fix detection of class names containing
      hyphens/underscores
- Rebase calibre-setup.install.py.diff.

-------------------------------------------------------------------
Fri Mar 26 06:42:35 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.14.0
  * New Features
    - Edit book: When right clicking on a class in a HTML file, add
      an option to rename the class throughout the book
    - Adding from ISBN: Add an option to check if there are
      existing books with the specified ISBNs already in the
      library
    - Template tester: Instead of next/last, the template tester
      now shows the template values for selected books
    - Content server: Allow swiping left and right to show
      next/previous book on the book details page
    - E-book viewer: Make the commonly used shift+arrow key
      shortcuts for modifying selections using the keyboard work.
      Also add shorcuts for selecting by character, line and
      paragraph.
  * Bug Fixes
    - MOBI Output: Fix latest kindle firmware not displaying select
      publisher font option for calibre produced azw3 files
    - E-book viewer: Fix errors when viewing books with mathematics
      that are split over multiple internal files
    - Content server viewer: Fix highlights not sorted correctly in
      the highlights panel
    - Get books: Fix smashwords plugin not working because of
      website changes
    - Improve the performance of QuickView especially when using
      composite columns
    - Improve performance of the virtual_libraries() template
      function
    - Browser viewer: Fix Go to Location not working for positions
    - E-book viewer: Fix searching in the Table of Contents not
      working
    - E-book viewer: In paged mode, fix scrolling not working
      correctly when margins are set to zero
    - E-book viewer: Fix incorrect ToC navigation in books that
      link the entries to inline tags that wrap block tags that
      span multiple pages
    - Category editor: Searching in library shouldn't automatically
      opens Quickview
    - Conversion: Fix a hang caused by long sequences of non-word
      characters when heuristics are enabled, either explicitly or
      for some input formats such as TXT
    - Fix a regression in calibre 5 that broke --explode-book and
      --implode-book actions for calibre-debug.exe
    - Fix a regression in calibre 5 that broke setting metadata in
      RTF files

-------------------------------------------------------------------
Wed Mar 10 09:20:28 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.13.0
  * New Features
    - E-book Viewer: Allow editing the current book by pressing
      Ctrl+d or adding a button for it to the viewer tool bar
    - Edit book: Add a command line flag to allow selecting the
      specified text when opening a book
    - Edit metadata dialog: When trimming covers, show the size of
      the current trim region
  * Bug Fixes
    - Fix a regression in the previous release that broke sending
      of emails with text longer than 900 characters
    - E-book viewer: Fix using keyboard to extend selection not
      turning pages
    - Fix searching for items from the Manage dialog not working
      correctly
    - PDF input: Replace paragraph separator characters with spaces

-------------------------------------------------------------------
Fri Feb 26 06:37:58 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.12.0
  * New Features
    - E-book viewer: When searching start the search from the
      current position, jumping to the first match at or after the
      current page
    - E-book viewer: Have the Table of Contents view automatically
      scroll to keep the chapter being read currently visible
    - Various improvements to the calibre template language, see 
      https://www.mobileread.com/forums/showthread.php?t=337573
    - Edit book: File browser: Show total size of items in category
      when hovering over category with mouse
    - Kobo driver: Add support for latest firmware and also an
      option to choose the color used for cover letterboxing
  * Bug Fixes
    - E-book viewer: Fix selection popup bar sometimes going off
      screen when dragging up to the top line of text
    - Get books: Update the Biblio and Chitanka stores for website
      changes
    - Edit book: Fix editing of JavaScript files not working

-------------------------------------------------------------------
Fri Feb 12 06:44:32 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.11.0
  * New Features
    - Edit book: Add a tool to split the tag at the current cursor
      position, creating a new tag with the same style and class
      attributes. To add the tool go to the Toolbars section in the
      editor preferences
    - E-book viewer: Show the URL when hovering over external links
    - E-book viewer: Redesign the reference mode to also work on 
      touch screens without a mouse. Now in reference mode 
      paragraph numbers are displayed for all paragraphs
    - Edit book: Allow Ctrl-clicking on class names to jump to the
      first style rule that matches the tag and class
    - Content server: When browsing highlights for a book allow
      selecting multiple highlights to delete or export quickly
    - Allow creating keyboard shortcuts to copy show and view URLs
      for selected books to clipboard
    - calibredb: Add a timeout option to control the timeout when 
      connecting to the calibre server
  * Bug Fixes
    - Content server: Fix dragging selection handles not working in
      Safari
    - E-book viewer: Fix links with a href of "#" not working
    - E-book viewer: Hide the controls when clicking the back or 
      forward buttons
    - E-book viewer: When jumping to a highlight using the 
      highlights panel, the back button should return to position 
      before jump
    - E-book viewer: Fix incorrect tooltip when hovering over 
      a section title in the search results list
    - HTMLZ Output: Fix a regression in calibre 5 that broke 
      creating HTMLZ documents when using the option to place CSS 
      inline

-------------------------------------------------------------------
Fri Jan 22 17:18:22 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.10.1
  * Bug Fixes
    - Fixes a regression in 5.10.0 that broke conversion when
      including metadata as a jacket page and using long text 
      custom columns

-------------------------------------------------------------------
Fri Jan 22 11:22:02 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.10.0
  * New Features
    - Bulk metadata edit: Add a new control to compress the cover
      image files for all selected books
    - Add support for the CB7 comic file file format
    - E-book viewer: Allow adding a button to the selection bar
      that copies thecurrently selected text along with a 
      calibre:// URL to show the text in the book
    - Conversion: Insert metadata: Allow showing identifiers such
      as ISBN in the jacket page template
    - Conversion: Insert metadata: Allow hiding entries in the 
      jacket template when they are not present in the metadata
    - calibre-server --manage-users: Add a scriptable interface: 
      calibre-server --manage-users -- help
    - E-book viewer: Add keyboard shortcuts to copy the current
      location to the clipboard
    - E-book viewer: Highlight all currently visible Table of
      Contents entries, not just the first
    - Add a new tweak under Preferences->Tweaks->Author sort name
      algorithm to optionally recognizecommon surname prefixes such
      as von, van, de, etc. when generating sort names.
  * Bug Fixes
    - E-book viewer: Move read aloud pop-up bar to the bottom of
      the screen in flow mode
    - E-book viewer: Fix scrolling with two fingers on touch pad on
      macOS not smooth
    - PDF Output: When converting fixed layout input documents fix
      anchors inserted for navigation sometimes being rendered as
      blue boxes
    - Edit book: Remove unused CSS: Fix selectors that don't match
      from CSS rules containing multiple selectors not being
      removed
    - Bulk metadata download: Fix series number not being changes
      if the series is the same as the existing series
    - E-book viewer: Fix a regression that caused non-HTML
      descriptions to not be displayed in the metadata page
    - E-book viewer: Fix clock being displayed in 24 hr format on 
      some systems even though system locale is set to use 12 hr
      format.
    - Bulk metadata edit: Fix regression that inverted the meaning
      of the case sensitivity setting in the Search & replace tab
    - calibredb list: Fix incorrect output when redirecting to file

-------------------------------------------------------------------
Fri Jan  8 10:09:46 UTC 2021 - ecsos <ecsos@opensuse.org>

- Update to 5.9.0
  * New Features
    - Annotations: Allow exporting highlights and bookmarks in 
      Markdown format, with a link to open the book at the 
      highlight location
    - Content server viewer: Allow exporting all highlights
    - Icon rules editor: Add a button to open the icons folder
Quickview: Dropdown menu for all selectable columns
  * Bug Fixes
    - Fix a regression that caused the Content server to crash if 
      a client closed a connection during a file transfer on macOS
      and Linux.
    - LRF Output: Fix conversion broken in calibre 5 when font size
      rescaling is active
    - E-book viewer: Cancel any speech in progress when hiding the
      selection popup bar after triggering the speak aloud action
      on it
    - Color/icon rules editor: Fix duplicate rule button not
      working correctly
    - Fix dropping files onto book details causing an error if the
      confirmation dialog is disabled

-------------------------------------------------------------------
Thu Dec 24 13:25:25 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 5.8.1
  - Fixes a couple of regressions that broke the Save to disk 
    function and changing Page layout settings in the viewer.

-------------------------------------------------------------------
Thu Dec 24 07:31:03 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 5.8.0
  * New Features
    - Happy holidays to all calibre users!
    - E-book Viewer: Add a mode to follow links with only the 
      keyboard (triggered by Alt+f)
    - Edit book: A new option to show a configurable number lines 
      above the current line when syncing the position of the
      preview panel to the current position in the code editor 
      (under Preview settings in the Editor preferences).
    - Windows: Automatically resolve shortcuts (.lnk files) when 
      adding books to calibre.
    - Content server viewer: Don't enter fullscreen mode 
      automatically when reading on desktop like devices (this can
      be controlled via a setting in in the viewer preferences 
      under Page layout)
    - E-book Viewer tool bar: Add a select all action and a Read 
      aloud action (can be added by right clicking the tool bar and
      configuring it)
    - Template/formatter enhancements: Add a 'for' statement and 
      add the ability for a developer to pass extra information to
      a template.
    - Rules editors for icon/coloring rules: Add a button to 
      duplicate rules and to convert a rule to advanced template
      mode
  * Bug Fixes
    - Content server viewer: Fix regression in 5.0 that broke 
      scrolling on iOS
    - E-book viewer: Fix error when scrolling to some search 
      results in flow mode
    - AZW3 Input: Fix rare AID based links not working.
    - E-book viewer: Fix clock in header/footer not using system 
      time format
    - Windows: Fix Read aloud not working with books that have
      a single large internal text file, such as MOBI or DOCX books
    - PDF Output: Fix a regression causing conversion to fail when
      typesetting Chinese text
    - Amazon metadata download: Fix no results being found when
      using the auto or google server because of a change in the 
      markup of the Google search results page.

-------------------------------------------------------------------
Sat Dec 12 10:51:19 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 5.7.2
  - No changelog from upstream.

-------------------------------------------------------------------
Sat Dec 12 10:20:30 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 5.7.1
  - Fix regression in 5.7.0 causing failure to start if one of the 
    previously used libraries had a stored path ending in a slash.
  
-------------------------------------------------------------------
Fri Dec 11 06:39:26 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 5.7.0
  * New Features
    - E-book viewer: Add a "Read aloud" function that works via the
      operating system's Text-to-speech engine.
    - A new busy spinner for waiting animations
    - Edit metadata: Add buttons to easily set yes/no fields also
      shortcut to clear the field.
  * Bug Fixes
    - PDF Output: Fix a regression in the previous release that
      broke text rendering for some fonts due to a bug in Qt 
      WebEngine.
    - PDF Output: Fix conversion failing when adding header/footer
      and the input document defines margins/padding on the tag.
    - Windows: Fix the case of library names in copied 
      calibre:// links sometimes incorrect.
    - AZW3 Input: Fix a regression in calibre 5 that broke 
      processing of files with inline flow replacements.
    - Fix hiding and showing book details panel changes its size
      by a pixel or two.
    - Get books: Fix amazon.fr not working because of website
      changes.
    - Bulk metadata search/replace: Fix text transform function not
      being applied to the test result in character mode
    - Book list: Improve rendering of column headers when they dont
      fit, by eliding them instead of just cutting off rendering.
    - Fix template function "first_non_empty" fails if no argument
      evaluates non-empty
- Fix some requirements and versions.

-------------------------------------------------------------------
Fri Nov 27 06:41:00 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 5.6.0
  * New Features
    - Edit book: Show a non-modal popup for a few seconds to allow
      undoing file delete operations
    - Device books view: Add an action to the context menu to 
      easily jump to the matching book in the calibre library view
    - Add ability to undo Generate cover in the Edit metadata 
      screen, by long clicking the Generate cover button
    - Edit book: Allow adding tags to the list of tags for the
      insert tag button
    - calibredb add: New option --automerge to automatically merge
      duplicates
    - Add an edit notes action to the context menu in the viewer 
      highlights panel
    - Content server viewer: Allow viewing images in a new window
      by right clicking them, matches the calibre builtin viewer
      behavior
    - Book details window: Allow opening the edit metadata window
      using either the keyboard shortcut or the context menu
    - Allow copying the current search as a calibre:// URL by right
      clicking the search box
    - Book details panel: Add entries to copy calibre:// links for
      the current book to the context menu
    - Edit book: Upgrade book: Ask whether to keep the NCX based
      Table of Contents
  * Bug Fixes
    - Windows: Fix calibre portable launcher not working correctly
      from root directory in calibre 5.5
    - macOS: Fix rendering of space after punctuation incorrect in
      Big Sur
    - DOCX Input: When converting images placed using the obsolete
      VML markup default them to being inline rather than block
      images
    - Metadata edit dialog: Fix keyboard shortcuts for 
      bold/italic/underline not working when more than one comments
      editor widget is present on a single tab
    - When using calibre://show-book URLs and the book is not
      found, clear any Virtual library or search restriction and
      then show the book
    - macOS: Fix calibre:// URLs not working from other documents
    - Fix calibre:// URL search action not changing library if
      needed
    - annotation_count() template function displaying value for
      deleted annotations
    - Edit book: Fix syntax highlighting not recognizing ends-with
      selector

-------------------------------------------------------------------
Sat Nov 14 19:37:48 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to Version 5.5.0
  * Support the calibre:// URL scheme
    Clicking on calibre:// URLs can be used to have calibre perform 
    various actions.For details, see: https://
    manual.calibre-ebook.com/url_scheme.html
  * Viewer: Show calibre:// URL for current book in the Goto-
    >Location panel
  * Edit book: Add an action to the right click menu for tabs to 
    close tabs to the right of the current tab.
    Closes tickets: 1902518
  * Add ability to copy tag, publisher and author in Book details    
    panel by right-clicking
    Closes tickets: 1902413
  * Annotations browser: Add a context menu for common actions.
    Closes tickets: 1902326
  * Annotations browser: Show a dot for highlights with notes.
    Closes tickets: 1899839
  * Edit book: Saved searches panel: Allow copying the current 
    saved search to the regular search panel by clicking the Export 
    button.
    Closes tickets: 1902227
  * Viewer: back and forward buttons on the mouse now trigger the 
    back and forward actions
  * Option to mark all books with annotations/bookmarks
    Closes tickets: 1902313
  * Various minor improvements to how keyboard focus is handled in 
    the Tag browser
  Bug fixes
  * Edit book: Fix regression in calibre 5 that caused an error  
    when managing user dictionaries.
    Closes tickets: 1903294
  * Viewer: Fix previous/next buttons iterating over removed 
    bookmarks
    Closes tickets: 1903831
  * Welcome wizard: Fix changing the language causing a empty 
    folder to be created.
    Closes tickets: 1903825
  * Viewer: Fix regression causing custom shortcuts with shift key 
    pressed not working
    Closes tickets: 1903699
  * Viewer: In dark mode when showing images with transparency in t
    the popup use a light background color as most images are 
    designed with a light background color in mind.
    Closes tickets: 1903423
  * Fix a regression in the previous release that broke conversion 
    of DJVU files
    Closes tickets: 1903428
  * Metadata edit: "Set to Undefined" button missing on integer 
    columns.
    Closes tickets: 1903363
  * Entry remains underlined in Tag Browser after clearing filter
    Closes tickets: 1903086
  * XML Catalogs: Fix languages field missing
    Closes tickets: 1902126
  * Fix a regression that broke loading of third party plugins that 
    are encoded in an encoding other than UTF-8
  Improved news sources
  * Spectator Magazine 

-------------------------------------------------------------------
Thu Nov  5 11:25:30 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Upate to Version 5.4.2
  New features
  * Windows: Allow adding of books to calibre from directories 
    whose path length is larger than 260 characters
    Closes tickets: 1900761
  * Tag browser: Add an option in Preferences->Look & feel->Tag 
    browser to allow the tag browser to get keyboard focus
  * Tag browser: Allow editing the set of permissible values and 
    colors for a custom column with fixed values, by right 
    clicking on it.
  * Edit metadata dialog: Make most custom metadata controls use 
    only a single line.
    Elide the names of custom columns that are longer than a fixed   
    width, instead of using multiple lines.Configurable via 
    Preferences->Tweaks->Edit metadata custom column label length
  * Edit book: Remove unused CSS: Add an option to merge CSS rules 
    that have identical properties
  * Book details window: Double clicking on the cover now shows it 
    in the default system image viewer.
    Closes tickets: 1901379
  * News download: Allow passing username/password in feed URLs.
    Closes tickets: 1900874    
  * Open with: Allow renaming Open with applications.
    Closes tickets: 1900890    
  Bug fixes
  * Viewer: Fix jumping to search result not always working in 
    flow mode.
    Closes tickets: 1900868    
  * Get Books: Update Google and Gutenberg plugins for website 
    changes
    Viewer: Fix keyboard shortcuts using ctrl+alt+letter key not 
    working on Windows.
    Closes tickets: 1900946    
  * Viewer: Fix keyboard shortcuts to shrink/grow selection not 
    working.
    Closes tickets: 1900942    
  * Viewer: Fix keyboard shortcut to toggle highlights panel not 
    working when the highlights panel is itself focused.
    Closes tickets: 1900938    
  * Viewer: handle editing of missing highlights more gracefully
    Closes tickets: 1900358    
  * Drivers: Fix regression in calibre 5 that broke connecting to 
    SONY devices
    Closes tickets: 1901289    
  * Open with: On Linux when reading names from .desktop files, 
    use the first matching language
    Closes tickets: 1901276    
  * Conversion: Fix a regression in calibre 5 that broke 
    conversion of some malformed CSS stylesheets.
    Closes tickets: 1901593    
  * Conversion: Fix a regression in calibre 5 that broke 
    processing of some PDB files with images.
    Closes tickets: 1901957    
  * Conversion: Fix regression in calibre 5 in the handling of 
    @import() rules in stylesheets that import from directories 
    above themselves.
    Closes tickets: 1901278    
  * Content server: Fix various controls on the book details page 
    not working when viewing a random book.
    Closes tickets: 1901232, 1901230    
  * Tag browser: Fix a crash when renaming a saved search to a 
    value that already exists.
    Closes tickets: 1901273    
  * Tag browser: Fix renaming of custom column with fixed set of 
    values not working.
    Closes tickets: 1900921    
  * Fix a regression in calibre 5 that broke auto-sync of 
    generated catalogs to devices.
    Closes tickets: 1901630    
  * Fix setting rating via ebook-meta command line tool broken in 
    calibre 5.
    Closes tickets: 1901113    
  * When boolean columns are set to bistate, checking "show 
    checkmarks" results in all non-boolean values being shown as 
    false
    Closes tickets: 190009    
  * Spell check: Fix using non UTF-8 dictionaries broken in 
    calibre 5
  * Fix a rare issue where restarting calibre from within the 
    program would fail.
  * Version 5.4.2 fixes bugs in 5.4.0 that prevented calibre from 
    starting on macOS and from choosing save file names on 
    Windows.
  Improved news sources
  * Psychology Today
  * Washington Post
  * LifeHacker
  * The Atlantic
  * New York Review of Books
- Release: 5.3
  New features
  * Tag browser: When grouping items by first letter if adjacent 
    letters have few entries combine them into a single group.
    Can be controlled via an option in Preferences->Look & feel-
    >Tag browser to combine 'first letters' together if there are 
    a small number of items under adjacent letters    
  * Viewer: Allow displaying the current page / total pages in the 
    header/footer. Useful in paged mode to see exactly how many 
    pages are left.
    Closes tickets: 1899163    
  * Viewer search panel: Show more result context in a tooltip 
    when hovering over a search result.
    Closes tickets: 1899834    
  * DOCX Input: Add support for Word controls used to rotate or 
    flip images
    Only works with output formats such as EPUB that support CSS 
    transforms
  * Viewer image pop-up: Allow maximizing/minimizing the window.    
    Closes tickets: 1899762
  * Edit metadata dialog: Use only a single line for custom column 
    date fields
  * Add an item to search for categories to the category editor 
    context menu.
    Closes tickets: 1899341
  * Category editor: Add a right click menu to change case of the 
    selected entries.
    Closes tickets: 1899316
  Bug fixes
  * Fix a regression in 5.0 that caused performance of dialogs 
    that contain title/series/tags edit fields to be very poor 
    with large libraries.
    Closes tickets: 1898221    
  * Fix a regression in 5.0 that caused some pop-up menus to 
    appear on the wrong monitor in multi-monitor setups
  * E-book viewer: Fix scrolling past the end of chapter 
    boundaries not working in books that have negative margins
  * Edit metadata dialog: fix incorrect rendering of custom column 
    names that start with emoji.
    Closes tickets: 1899466    
  * Quickview: Fix nothing shown after clearing the search.
    Closes tickets: 1899318    
  * Dark mode: Fix radio buttons having no outline.
    Closes tickets: 1900022    
  * Annotations browser: When showing a book in the calibre    
    library that is not currently visible, display an error.
    Closes tickets: 1900066    
  New news sources
  * Deutsche Welle by VoHe
  Improved news sources
  * Reuters
- Preparation for multiple python3 flavors in Tumbleweed:
  * Remove singlespec python-rpm-macro declarations, we only use
    the default python3 flavor
  * See gh#openSUSE/python-rpm-macros#66
    gh#openSUSE/python-rpm-macros#74 and co.

-------------------------------------------------------------------
Mon Oct 12 15:04:40 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to Version 5.2.0
  new features:
  * Browse annotations: Add a check box to restrict the displayed 
    annotations to only the books currently selected in the calibre 
    library.
  * Allow storing and calling functions in the calibre template 
    language (Preferences->Template functions)
  * Add a shortcut (Shift+V) to open the last read book.
  bug fixes:
  * Fix import errors with some third party plugin on Windows
  * Viewer: Fix toolbar show controls button not working when no 
    book is open.
  * Viewer: Fix incorrect positioning of context menu for viewer 
    toolbar.
  * MOBI Input: Fix regression that broke reading of some 
    documents
  * Bulk metadata search and replace: Fix some regular expression 
    causing errors with the new regex engine
  * Fix a regression that broke application of plugboards when 
    sending by e-mail
  * ODT Input: Fix a regression that broke conversion of ODT files 
    with footnotes.
  * Viewer: Fix mouse wheel not working while selection bar is 
    visible
  * Viewer: Fix selection popup bar not always close to mouse when 
    ending select-to-drag
  * Fix calibre-server not exiting on Ctrl+c on Windows
  * Content server OPDS feeds: Fix error if the metadata for a book 
    contains particular unicode characters.
  * Edit book: Reports tool: Fix a regression that broke sorting.
  * HTMLZ Output: Fix an error when converting a document that has 
    SVG images
- version: 5.1.0
  new features:
  * Enhancement: allow using templates in search expressions
  * Viewer lookup panel: Add a checkbox to disable automatic update 
    of lookup when the selected text changes.
  * Viewer: Allow skipping the confirmation when using the remove 
    highlight button in the popup bar.
  bug fixes:
  * ToC Editor: Fix bulk rename of entries not working
  * Linux: Fix right clicking on system tray icon not working
  * Fix User category based searches unreliable dues to caching 
    issues
  * PDF Output: Dont fail if the input document has an html file 
    identified as the cover
  * Catalog generation: Fix a regression that broke generating  
    catalogs if books with no comments are present.
  * Windows: Fix error on first run of calibre after install/
    upgrade
  * Viewer: Fix copy to clipboard button in toolbar not working
  * Viewer: Fix copy to clipboard not copying text as HTML to 
    clipboard in addition to plain text
  * macOS: Fix some drop down menus such as in the ToC editor and 
    cover generation in the Edit metadata dialog not working

-------------------------------------------------------------------
Sun Sep 27 20:00:33 UTC 2020 - Benjamin Greiner <code@bnavigator.de>

- Update to Version 5.0.1
  * For details on the major changes in calibre between 
    4.0 and 5.0, see https://calibre-ebook.com/new-in/fourteen
  * E-book viewer: Add support for highlighting
    https://manual.calibre-ebook.com/viewer.html#highlighting-text
  * E-book viewer: Add support for right-to-left and 
    vertical text
  * Switch calibre to Python 3. This means that some no 
    longer maintained third party plugins will not work. 
    See https://www.mobileread.com/forums/showthread.php?t=326405
  * Dark mode support for the Content server and E-book 
    viewer user interfaces
  * Content server's in-browser viewer now supports 
    bookmarking. Bookmarks and highlights are auto-synced 
    across devices.
  * Regular expression engine used for searching the book 
    list and reading metadata from filenames has been made 
    more powerful.
  * Version 5.0.1 fixes a bug in 5.0.0 that broke 
    connecting to devices on macOS

-------------------------------------------------------------------
Sat Aug 22 14:56:39 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.23.0
  * New Features
    - Kobo driver: Add support for new firmware. Also add 
      recognition of 'Kobo Plus' subscription books
    - Edit book: Allow customizing the base background/foreground 
      and link colors for the preview window.
    - Quickview panel: Add actions to the context menu to search 
      for book in library, open in viewer, etc.
    - Allow forcing calibre to remember the column width for the On
      device column by right clicking the header of the column
    - Template language: Add functions to perform math operations 
      to convert fractional numbers to integers
  * Bug Fixes
    - Content server: Fix Esc key not working in several views.
    - Fix unable to delete default value for custom columns of 
      boolean type, once set
    - EPUB Output: When splitting dont consider files with only 
      a single character empty
    - Comments editor: Fix syntax coloring for HTML view in dark 
      mode
    - Book list: When a series column is not wide enough, elide 
      text in the middle so that the series number is visible
    
-------------------------------------------------------------------
Fri Jul 31 08:05:36 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.22.0
  * New Features
    - Edit book: In dark mode, make the preview panel also dark.
    - PDF Output: Headers/footers: Allow displaying the current
      page number and total number of pages in the top level 
      section/chapter.
    - Edit book: Show EPUB version in window title
    - Allow testing if a number column is set or not set in 
      coloring/icon/emblem rules.
    - Viewer: Add a setting to control how many pixels a scroll 
      wheel should generate before triggering a page turn
  * Bug Fixes
    - Edit book: Fix a regression in the previous release that 
      caused poor performance when editing large files.
    - DOCX Input: Leave undefined text colors in the input document
      as undefined
    - Viewer: Fix using a very small font step size not working.
    - Font scanner: Also scan the new win 10 local font paths
    - Viewer: Fix typing values in font size adjust control not
      working

-------------------------------------------------------------------
Thu Jul 16 19:25:22 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.21.0
  * New Features
    - Kobo driver: Add support for the new Kobo Nia
    - Cover grid: Vertically center covers that are smaller than 
      the available space.
    - Quickview panel: Add a checkbox to easily toggle if virtual
      libraries are respected.
    - When creating custom columns allow specifying a default value
      to be applied to new books for that column
  * Bug Fixes
    - Edit book: Fix initial sync of preview panel to cursor 
      position sometimes not working when a new HTML file is opened
      for editing
    - Fix changed author sort name not being used when adding 
      another book by the author to the library.
    - Cover browser: improve rendering of text with heavily hinted
      fonts.
    - Viewer: Fix CBC comic files not being viewed correctly. 
      Note that you have to reload the book via the viewer controls
      to apply the fix.
    - Viewer: Fix Table of Contents not correct for comics.
    - Viewer: Ignore the zero width non-joiner character in 
      searches
    - Viewer: Fix a regression in the previous release that broke
      reading of books with mathematics and also tags without href
      attributes.
    - Cover grid: When using a background image do not scroll it
      with the covers.

-------------------------------------------------------------------
Fri Jul  3 05:51:30 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.20.0
  * New Features
    - Edit book: Preview: Support displaying mathematics
    - Kobo driver: Add support for the latest firmware version
    - Allow copy/pasting dates from columns having different date 
      display formats.
    - Book details panel: When right clicking on tags/authors/etc.
      allow finding them in the Tag browser easily.
    - Allow selecting individual items to delete in the Check
      library dialog.
    - Add an option to the wireless device driver to ignore device
      free space when sending books.
  * Bug Fixes
    - Viewer: Fix turning pages in paged mode with a high precision
      touchpad to generate scroll events too fast
    - Edit book: Fix pasting files from another editor instance
      causing unsaved changes in open editors to be lost.
    - Tag browser: Do not show counts for searches as they are 
      always zero
    - Check library: Do not abort if there are folders in the 
      library that calibre does not have permission to access.
    - Amazon metadata download: Fix download of ratings not working
      from amazon.co.jp

-------------------------------------------------------------------
Fri Jun 19 05:41:22 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.19.0
  * New Features
    - Manage authors dialog: Improve performance in very large
      libraries
  * Bug Fixes
    - Book details panel: Fix a regression that caused right
      clicking on an author name to manage it not opening with that
      name selected.
    - calibredb set_metadata: When converting a string into
      a datetime if the string is a full ISO 8601 date with
      timezone do not adjust the date to make it timezone neutral.
    - Edit book: Fix Check book spuriously reporting incorrect mime
      type warnings for fonts after upgrading a book from EPUB 2 to
      EPUB 3.
    - Book details panel: Dont show sizes less than 0.01MB as zero.
    - Viewer: Fix jump to previous section not working when viewer 
      is on last section

-------------------------------------------------------------------
Fri Jun  5 05:46:59 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.18.0
  * New Features
    - Viewer: Search panel: Add a button to return to the position
      the book was at before doing a search.
    - Tag browser: Improve handling of hierarchical tags
    - Viewer: In flow mode, implement drag scrolling.
    - Tag browser: Allow Manage Tags to open to a selected letter
      when clicking on a letter.
    - Viewer: Show number of search results in title of search panel.
    - Content server: In the book list hovering over the library
      name now shows the total number of books in the library.
  * Bug Fixes
    - Fix a regression in the previous release that broke the copy
      and recalculate author sort buttons.
    - Book details: Fix extra margin to the right of the metadata
      fields.
    - Cover grid: Show text under books that have no cover as well.
    - When merging metadata, if a custom column has type multiple
      in the new data and some other type in the old data, 
      ignore the old data instead of failing
    - macOS: When using the single instance option of the viewer, 
      crashes should not require a restart of the computer to use
      the viewer again.
    - Windows: Fix an error when changing title/author for books in
      a library whose name contains characters not encodeable in 
      the current code page
    - Windows: Fix amazon metadata download failing when accented
      characters in search query
    - Comments editor: Fix shortcuts for bold/italic not working
      when toolbars are hidden
- Drop db7007a25faefb0cc90e64dda1c0793393b9512d.patch, because
  it is now in upstream.

-------------------------------------------------------------------
Thu Jun  4 12:21:50 UTC 2020 - Ismail Dnmez <idonmez@suse.com>

- Add db7007a25faefb0cc90e64dda1c0793393b9512d.patch from upstream
  to fix build with Qt 5.15

-------------------------------------------------------------------
Sat May 23 08:17:05 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.17.0
  * New Features
    - Add a workaround for Amazon destroying cover thumbnails on 
      e-ink Kindles.
    - Viewer: Group search results by section
    - Viewer: When the search results panel is expanded, show more
      context
    - Tag browser: Add options in Preferences->Look & feel->Tag
      browser to hide empty categories and also to have the Find in
      the Tag browser show all matches instead of jumping from
      match to match.
    - Tag browser: The Find function for searching for items in the
      Tag browser can now do exact matching by using = as a prefix.
    - Manage tags/authors/etc dialogs: Allow searching and
      filtering the list of items.
    - Book details panel contenxt menu: Add an action to open the 
      Book details window.
    - Viewer: Add Next and Previous buttons in the bookmarks panel.
    - Conversion: Change the default white-space CSS for
      tags to pre-wrap as this suits ebooks better
  * Bug Fixes
    - Edit Book: Fix default CSS template not quoting the charset,
      causing Check book to complain about the CSS.
    - Fix a regression in the previous release that broke the 
      losslessly compress images tool when the image filenames had
      upper case characters on Windows.
    - Fix a regression that broke drag and drop of images from 
      browsers to the book details panel on some platforms.
    - FB2 metadata: Fix setting dates before 1900 failing
    - Fix Bookeen Diva HD not being detected.

-------------------------------------------------------------------
Fri May 15 05:33:11 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.16.0
  * New Features
    - Viewer/Edit book fuzzy search: Ignore soft hyphens and 
      zero-width joiner characters when searching for text.
    - Tag browser: Allow adding/removing tags/authors/etc. to the 
      currently selected book by right clicking on that tag and 
      choosing "Apply to selected books".
    - Kobo driver: Add support for updated firmware
    - Manage categories dialog: When editing a value with multiple
      values selected, change them all
    - Book list column header context menu: Add an entry to resize
      the column to fit its current contents.
    - Show completions when editing tags/authors/series etc in the
      Tag browser and Manage tags dialog.
    - Quickview: Double clicking an item now searches for it
    - Comments editor: Add an action to the context menu to smarten
      punctuation.
    - FB2 metadata: Add support for setting publisher and publish
      year
  * Bug Fixes
    - Edit book: Fix compress images losslessly failing for a few
      images on windows when there are a lot of images in the book.
    - Fix a regression in 4.13 that broke the user category editor
      for all custom columns.
    - Viewer: Fix font size changes not applying to monospaced
      fonts.

-------------------------------------------------------------------
Sat May  2 07:51:35 UTC 2020 - ecsos <ecsos@opensuse.org>

- Update to 4.15.0
  * New features
    - Viewer: Improve the interface for changing font sizes
    - Viewer: Add a keyboard shortcut (Ctrl+Alt+b) for adding
      a bookmark
  * Bug fixes
    - Bulk metadata edit: Fix a regression causing scrollbars to
      not appear in Custom metadata tab.
    - Closes tickets: 1875090
    - Viewer: Fix a regression that broke searching in flow mode.
    - Closes tickets: 1874877
    - BibTeX Catalog: Dont output comment describing the catalog as
      Zotero fails to process it.
    - Closes tickets: 1876302
    - Linux: Fix uninstaller not working on Linux distros that have
      no python symlink.
    - Closes tickets: 1876164
    - Viewer: Fix zoom step size setting ignored.
    - Closes tickets: 1875840
    - Viewer: Fix text that has font sizes specified using keywords
      not being scaleable by the viewer's font size controls.
    - Closes tickets: 1875021
    - Viewer: Fix LRF files not opening
    - MOBI metadata: When reading author sort from MOBI files,
      construct the final value from all author fields
    - macOS: hide accelerator key underlines since they dont work
      anyway as Apple does not believe in them
    - macOS: Fix keyboard shortcuts for select all, copy and paste
      not working in file dialogs.
    - Closes tickets: 1874499
  * Improved news sources
    - The Nation
    - Animal Politico

-------------------------------------------------------------------
Fri Apr 24 04:58:29 UTC 2020 - ecsos@opensuse.org

- Update to 4.14.0
   * New Features:
    - title: "Viewer: Add an option to have taps turn by screen
      fulls instead of pages, under Scrolling behavior"
    - title: "Viewer: Allow double clicking or long tapping on
      images to view then in a new window." tickets: [1872759]
    - title: "Edit Book: Add a new fuzzy search mode in which
      typographical quotes and various space types are matched by
      the plain equivalents"
    - title: "Content server: Add a new setting to allow 
      un-authenticated users from specific IP addresses to make
      changes to the calibre library"
    - title: "Quick view: Double click in a column to show that
      column in the main book list"
  * Bug Fixes:
    - title: "Book details panel: Fix copy path to file not copying
      full path to file when right clicking on a format entry"
    - title: "Windows: Fix error when applying hyphenation in bulk
      with Polish books." tickets: [1873949]
    - title: "macOS: Fix selecting applications that use binary
      plist files such as Kindle.app with Open With not working."
      tickets: [1873972]
    - title: "DOCX Output: Fix images that use URL unsafe 
      characters in their filenames being dropped during 
      conversion." tickets: [1873571]
    - title: "DOCX Output: Fix internal links not working when
      converted files contain URL unsafe characters in their
      filenames"
    - title: "Viewer: Fix view image popup not remembering its
      geometry"
    - title: "Viewer: Allow leading and trailing whitespace in
      search expressions"
    - title: "HTMLZ Output: Fix SVG images that use xlink:href not
      working." tickets: [1869856]
    - title: "Windows: Fix drag and drop from SMB shares to the
      edit metadata dialog formats list not working." 
      tickets: [1869471]
    - title: "Comments editor: Dont insert blank lines between list
      elements"
    - title: "Allow using Quick view from the Book grid view."
      tickets: [1869550]
    - title: "Fix tri-state booleans not working with color/icon
      rules and undefined values" tickets: [1873106]
  * Improved Recipes:
    - London Review of Books
    - Seattle Times
    - MIT Technology Review
    - Zeit Online
    - Handelsblatt
    - Spectator Magazine
    - Spektrum der Wissenschaft
  * New Recipes:
    - title: "Heise ct and iX"
      author: Ralf Hein
    - title: "Saechsische Zeitung"
      author: by epubli
- Cleanup requires and buildrequires python packages in spec.

-------------------------------------------------------------------
Fri Mar 27 09:04:36 UTC 2020 - ecsos@opensuse.org

- Update to 4.13.0
  * New Features
   - Edit book: When searching in normal mode, have spaces in the
     search expression match multiple spaces and line breaks in 
     the text.
   - When running calibre-portable.exe popup a more useful error
     message if it is placed in a location with a too long path.
   - Edit book: Allow skipping confirmation dialog when marking 
     non-first file as cover page
   - Add a shortcut [Ctrl+Alt+p] to switch to the previously opened
     library.
  * Bug Fixes
   - Viewer: Fix searching in flow mode not scrolling to display
     the search results.
   - Viewer search: Fix jumping to next match sometimes selecting
     previous match if the searched for expression occurs with 
     identical context in multiple places.
   - Viewer: Ensure there is no bleed between pages when using
     single page per screen
   - Fix shift click not working reliably in the book list
   - Fix edit open with applications not working from files browser
     in editor
   - MOBI Input: Upshift non-animated GIF to PNG as it is a more
     widely supported format
   - MOBI Input: Dont auto-convert images in PNG/GIF formats to
     JPEG
   - MOBI Output: Improve conversion of PNG images with 
     transparency to GIF
   - Check Book: Do not fail if non-UTF-8 stylesheets are present
     in the book.
   - Viewer: Maximum font size for margin text should be the body
     font size not hardcoded to 12px
   - PDF Output: Ignore glyph size mismatches when merging fonts
     for TTF.

-------------------------------------------------------------------
Fri Mar  6 09:43:52 UTC 2020 - ecsos@opensuse.org

- Update to 4.12.0
  * New features:
    - title: "Kobo driver: Add support for new firmware with the 
      series list on the device"
    - title: "Automatically extract the source DOCX file from 
      Kindle Create KPF files when adding them to calibre. If you
      prefer to preserve the KPF file you can disable the KPF 
      Extract plugin in Preferences->Plugins"
    - title: "Content server: Add a button to delete all locally
      cached books." tickets: [1864305]
    - title: "Edit Book: Allow selecting the contents of a tag with
      Ctrl+Alt+t"
    - title: "Viewer: Save current position after 3 seconds of last
      position change. Useful if the viewer crashes on resume from
      sleep."
    - title: "Viewer: Add a keyboard shortcut (Ctrl+w) to toggle
      the scrollbar." tickets: [1864356]
    - title: "Viewer: Keyboard shortcuts to change number of 
      columns (Ctrl+[ and Ctrl+])"
  * Bug fixes:
    - title: "Fix the Douban metadata download plugin"
      tickets: [1853091]
    - title: "Viewer: Fix searching in Regex and Whole words mode 
      not working well."
    - title: "Viewer: Fix searching for multiple words in fixed
      layout books not working." tickets: [1863464]
    - title: "RTF Input: Fix handling of RTF files with invalid
      encoded text." tickets: [1864719]
    - title: "PDF Output: Add a hangcheck for loading HTML if there
      is no progress for sixty seconds abort" tickets: [1865380]
    - title: 'Viewer: When starting without a book allowing 
      quitting the viewer by clicking the close button on the 
      "Open book" page' tickets: [1864343]
  * Improved recipes:
    - Wired
    - ABC News Australia

  * New recipes:
    - title: Spectator Australia
      author: James Cridland

-------------------------------------------------------------------
Sun Feb 23 10:42:00 UTC 2020 - ecsos@opensuse.org

- Update to 4.11.2
  * Bug fixes:
    - title: "4.11.2 fixes a couple of regressions that broke the 
      New bookmark button in the viewer and scrolling in the 
      content server library view. Also fixes calculation of 
      default column widths in viewer not changing when font size
      is changed."

-------------------------------------------------------------------
Fri Feb 21 16:54:31 UTC 2020 - ecsos@opensuse.org

- Update to 4.11.1
  - No changelog from upstream.

-------------------------------------------------------------------
Fri Feb 21 09:09:49 UTC 2020 - ecsos@opensuse.org

- Update to 4.11.0
  * New features:
    - title: "Viewer: Allow right clicking on the scrollbar to
      easily access commonly used scrolling shortcuts"
    - title: "Edit book: Preview panel: Allow right clicking on
      images to edit them"
    - title: "Add a new Quick select action to quickly select a
      virtual library with a few keystrokes. Activated by Ctrl+t
      or the Virtual library menu"
    - title: "Viewer: Calculate default column widths based on
      current font size"
    - title: "Viewer: Add a control to quit the viewer useful on
      touchscreens."
    - title: "Viewer: Add shortcut for showing metadata (Ctrl+n)"
  * Bug fixes:
    - title: "Viewer: Fix a regression that broke detection of
      pop-up footnotes using EPUB 3 markup"
    - title: "Viewer: Fix current reading position not preserved
      when changing preferences and auto scroll is active."
    - title: "Viewer: Fix stopping autoscroll at end of chapter
      not stopping next chapter jump."
    - title: "Fix for viewer window going off screen even when not
      restoring window geometry"
    - title: "Edit book: Fix syntax highlighting for
      break-(before|after)"
    - title: "Fix drag and drop of some image files onto edit
      metadata dialog not working"
    - title: "Conversion pipeline: Fix styles applied via selectors
      to the <html> element being ignored"
    - title: "Bulk metadata edit: Fix clear series not resetting
      series index"
    - title: "Fix clicking on author name in book details panel to
      search in Goodreads not working if author has more than two
      parts in his name"
  * Improved recipes:
    - New York Times

-------------------------------------------------------------------
Fri Feb  7 10:20:42 UTC 2020 - ecsos@opensuse.org

- Update to 4.10.1
  * New features:
    - title: Viewer: When searching have single and double quotes 
      match their curly variants as well.
  * Bug fixes:
    - title: Fix a regression that caused the edit metadata
      individually and convert individually actions to use the bulk
      actions when multiple books are selected.
    - title: Linux: Fix a crash caused by broken/incompatible 
      CUPS Qt system plugin.
    - title: Viewer: Fix search shortcut button not focusing search
      input if the search panel is placed in a tab or a floating
      window
    - title: Update Google Images cover download plugin for 
      website markup changes
    - title: Catalog generation: Ignore invalid pubdates
    - title: Viewer: Stop autoscroll when changing page layout
      mode.
    - title: zipfile: Fix regression that broke handling of 
      zipfiles with internal filenames not encoded in UTF-8.
    - title: Check Book: Turn off unique headings CSS warning
    - title: DOCX Output: When a list item contains a nested list
      but no text, it should be output as an empty list item.
  * Improved recipes:
    - The New Yorker
    - Financiele Dagblad

-------------------------------------------------------------------
Thu Jan 23 17:47:40 UTC 2020 - ecsos@opensuse.org

- Update to 4.9.1
  * Bug Fixes:
    - title: "version 4.9.1 fixes a couple of regressions in 4.9.0
      with Check Book reporting false positives and an error when 
      using the source editing view in the comments editor"
  * Improved Recipes:
    - Liberty Times

-------------------------------------------------------------------
Thu Jan 23 11:08:07 UTC 2020 - Paolo Stivanin <info@paolostivanin.com>

- Update to 4.9.0
  * New features:
    - improved search functionality
    - Edit book: The Check book function has a new, improved
      CSS checker with support for CSS 3
    - Edit book: Add an "Open with" action to the context menu
      of the files browser to easily open files with external
      programs.
    - Viewer toolbar: Add button to easily change color schemes
  * Bug gixes:
    - Comments editor: Fix inserted blank paragraph being rendered
      as two lines.
    - PDF Output: Fix conversion of files containing <canvas> 
      elements failing.
    - Viewer: Fix failure to open some books that contain 
      unparseable URLs.
    - Viewer: Fix data displayed in side margins getting moved out
      of position when mouse hovers over side margin.
    - Book details panel: When right clicking to save the cover,
      replace invalid characters in the suggested filename
    - Fix harmless error popup when adding SSL key/certificate in
      server settings
    - Dark mode: Fix colors in remove all formats except dialog
  
-------------------------------------------------------------------
Thu Jan  9 12:13:29 UTC 2020 - Eric Schirra ecsos@opensuse.org

- Calibre now running with python3
  Change many things in spec.
- Add Patch calibre-python_test.patch to run python test in %check

-------------------------------------------------------------------
Fri Jan  3 10:31:52 UTC 2020 - ecsos@opensuse.org

- Update to 4.8.0
  * New Features
    - Viewer in flow mode: Add auto-scrolling which can be 
      triggered from the viewer controls and also make smooth 
      scrolling by pressing down the arrow keys configurable
    - Viewer: Allow showing data in left and right margins in 
      addition to headers/footers.
    - Viewer: Allow right clicking in the lookup panel to zoom 
      in/out.
    - Viewer: Allow setting colors for the margins when creating 
      new color schemes in Preferences->Colors
    - Viewer: Ctrl+, to show preferences
  * Bug Fixes
    - PDF Output: Fix extracting text from generated PDFs not 
      working if more than 100 characters per font are used in the
      text.
    - macOS: Fix viewer controls not using system UI font
    - Viewer: Fix images not being rendered at certain sizes when
      they are the only content on the page in paged mode with 
      single page per screen.
    - Viewer: Fix svg links not working.
    - Viewer: Fix a bug that could allow maliciously crafted EPUB 
      files to read data from files on the computer. Thanks to 
      dozernz for discovering this attack vector.
    - macOS: Fix regression in previous release that caused link 
      color to be light blue even when not using dark color themes
    - RTF Output: Fix a regression that slowed down conversion of
      images.
    - Server viewer: Make the Exit full screen action available in
      viewer controls.
    - Viewer: Fix error when trying to change more than a single
      keyboard shortcut at once
    - Fix typo causing a harmless error message when downloading 
      covers and only a single cover is found

-------------------------------------------------------------------
Fri Dec 27 13:14:35 UTC 2019 - ecsos@opensuse.org

- Update to 4.7.0
  * New Features
    - macOS: Use transient scrollbars unless they are disabled in 
      system preferences
    - Viewer toolbar: Add actions for next and previous section. 
      They are not added to the toolbar by default, customize it to
      add them.
    - Viewer: Add an option to keep the toolbar visible in full 
      screen mode (Viewer Preferences->Miscellaneous)
    - Viewer: Allow modifying the current selection using 
      Ctrl+Shift+Arrow.
    - Book details: Add an option in Preferences->Look & 
      feel->Book details to show a heading for the comments in the
      book details panel
    - Edit book: Spell check: Ignore soft hyphens in words
    - Viewer: In multiple pages per screen mode, When paging back 
      to a chapter we have just paged forward from return to the
      exact position we left from in terms of number of blank 
      trailing pages displayed.
    - Viewer: Add a setting under Preferences->Colors to control 
      when the viewer will override all book colors or not.
  * Bug Fixes
    - Viewer: Fix flick scrolling in flow mode jumping to next 
      chapter.
    - Windows: Possible fix for some windows appearing off screen 
      on multi-monitor setups
    - macOS: Fix PDF Output not working when running ebook-convert
      via symlink on the command line.
    - PDF Output: Ignore upto 8 byte glyph data size mismatches 
      when merging identical glyphs.
    - Edit Book: Spell Check: Fix words surrounded by narrow 
      non-breaking spaces being incorrectly detected as mis-spelled
    - Get books: Update various Polish language stores
    - macOS: Fix drag and drop to re-arrange items in the viewer
      toolbar not working
    - PDF Output: When an inline image is placed alone inside 
      a block tag, ensure that it is not split over two pages.
    - ToC editor: Fix generate from links not working correctly 
      when links have no fragments.
    - PDF Output: Dont dedup images that cannot be uncompressed
    - Advanced search dialog: Fix an error when closing dialog if 
      on the second tab and no field is focused

-------------------------------------------------------------------
Thu Dec 12 21:33:12 UTC 2019 - ecsos@opensuse.org

- Update to 4.6.0
  * New Features
  - Polish books tool: Add a setting to add or remove soft hyphens
    from the book text
  - Viewer: Re-enable the old reference mode from calibre 3.x
  * Bug Fixes
  - PDF Output: Fix the option to break long words at the end of
    lines not working since calibre 4.
  - DOCX Input: Fix incorrect font sizes for footnote references in
    paragraphs that have text with multiple font sizes.
  - DOCX Input: Avoid nested tags for footnote references
  - Viewer: Fix max text width/height settings not being applied
    correctly on window resize.
  - Viewer: Auto-expand entries in the Table of Contents when
    viewing the corresponding location in the book.
  - Viewer: When creating a new bookmark, if there is selected
    text use it as the default bookmark title.

-------------------------------------------------------------------
Fri Nov 29 09:21:47 UTC 2019 - ecsos@opensuse.org

- Update to 4.5.0
  New features
  - title: "Driver for the new PocketBook Inkpad X"
  - title: "Driver for the new Bookeen Diva HD"
  - title: "PDF Output: Add an option to shift text horizontally on
    odd/even pages."
  - title: "Image viewing popup dialog: Add a checkbox to fit image
    to window."
  - title: "Edit book: Create @font-face rules when importing 
    multiple font files into book automatically, similar to how it
    is done when importing a single font file."
  Bug fixes
  - title: "PDF Output: Fix incorrect rendering if the input 
    document has too many anchors."
  - title: "Fix a regression that could cause window layout
    settings to sometimes not be saved during shutdown"
  Improved recipes
  - "L'express"
  - The Toronto Star

-------------------------------------------------------------------
Fri Nov 22 10:34:08 UTC 2019 - ecsos@opensuse.org

- Update to 4.4.0
  New features
  - Viewer: Allow customizing what actions appear on the toolbar 
    (Preferences->Miscellaneous->Customize toolbar).
  - Viewer: The --open-at command line argument now allows matching
    on ToC hrefs as well as titles
  - Book details window: Show path to book in cover tooltip.
  - Book details popup window: Add Open with actions to context 
    menu when right clicking the cover image.
  - Edit book: Check book: Mark empty id attributes in the OPF as 
    errors.
  - Viewer: Add a shortcut (Ctrl+F11) to toggle the toolbar
  - Bulk metadata download review dialog: When clicking cancel ask 
    for confirmation if some books have already been reviewed
  Bug fixes
  - PDF Output: Fix an error when using fonts with vertical metrics.
  - Viewer: Fix flickering when scrollbar is enabled and the 
    header/footer is too wide for the screen.
  - PDF Output: Improve handling of images that do not fit on a 
    page.
  - Viewer: In paged mode break long text without spaces at 
    arbitrary points instead of overflowing to the next page.
  - Viewer: Fix hang when using --open-at with single instance 
    viewer and the specified location is already open.
  - Viewer: Fix opening .txt files in the standalone viewer leaving
    behind a temporary index.html file in the directory of the txt
    file.
  - Linux: Make some cache removal code robust against un-decodeable
    filenames in the cache directories
  - Viewer: Fix scrolling of panels in preferences causing 
    artifacts.
  - Viewer: improve appearance of controls on small screens.
  - Move close button in viewer preferences to left to match the
    rest of the content server UI.
  - Viewer: Fix restoring user stylesheet to default not being 
    applied until a viewer restart
  - Viewer: Do not wait for loading of <link> tags that are not
    stylesheets.
  - Viewer: When using the system color theme only override link 
    colors in the book if the theme is dark.
  Improved recipes
  - The Atlantic
  - LifeHacker

-------------------------------------------------------------------
Fri Nov  8 06:42:02 UTC 2019 - ecsos@opensuse.org

- Update to 4.3.0
  New features
  - Viewer: Halve the time taken to prepare large EPUB files for
    first open
  - Viewer: Add an optional toolbar with common actions turn it on
    under Preferences->Miscellaneous
  - Viewer: Change the default color scheme to "System" which 
    matches the colors used by the rest of calibre/the operating 
    system. Also means the colors change automatically when the 
    system color theme changes.
  - Viewer: Add a keyboard shortcut ; to go to a book location or
    position
  - Viewer: Add a control to easily reset the interface to 
    defaults
  - Viewer: Allow also using --open-at with book positions
  - Viewer: Add command line option to force reloading of books
  Bug fixes
  - Content server: Fix conversion of comics not working.
  - Book details: Allow right click to copy author links and 
    identifiers
  - Book details: Fix removal of identifiers via right click not
    working
  - Book details: Fix clicking on tags etc not generating exact 
    match searches
  - Viewer: When resizing and the resizing back to the old size 
    ensure we return to the same page in paged mode.
  - Duplicates dialog: Sort sub-list of matching books already in 
    calibre by author for easier inspection.
  - PDF Output: Fix links that go to destinations in the same file 
    not working.
  - Viewer: Fix changes to keyboard shortcuts not being applied 
    until viewer is restarted.
  - DOCX Input: Fix AlternateContent blocks rendering both choice 
    and fallback sections.
  - macOS: Fix unable to re-arrange entries in the CSV catalog list.
  - Windows: fix UTF-16/truncated output when reporting unhandled 
    exceptions
  - Viewer: Fix mouse wheel not working when mouse is over page 
    margins.
  - Linux: Install bash completions as individual files for each 
    calibre binary
  - Content server: Fix download button not working with non-ebook 
    formats.
  - Fix a crash in popup completion lists if the mouse is over the 
    list and list is scrolled with the keyboard
  - Viewer: Fix rare exception when navigating to a CFI.
  - Viewer: Ignore failures printing console message when the viewer
    is launched with broken stderr.
  - Amazon metadata: Fix failure to get published date from audible
    book pages.
  - Viewer: Fix shortcuts preferences not being translated
  - Tag browser: Fix incorrect text color when using dark theme 
    for hovered item
  - Fix crash if canceling the icon theme download while covers are
    downloading
  - Viewer: Fix non-ASCII content in stylesheets not being 
    interpreted correctly.
  - Viewer/Content server: Fix history for completion popups such 
    as search bars not being stored correctly.
  - PDF Output: When a link with a fragment points to a 
    non-existent anchor link to the top of the file instead of not 
    linking at all
  - PDF Output: Fix standard svg fullscreen image markup not 
    working
  - PDF Output: Fix some books with full screen images failing to 
    convert.
  Improved recipes
  - Clarin
  - Various Polish news sources

-------------------------------------------------------------------
Fri Oct 18 09:07:56 UTC 2019 - ecsos@opensuse.org

- Update to 4.2.0
  New features
  - macOS: Various improvements to dark mode support"
  - Viewer: Dont generate covers for books that dont have a cover.
    Note that because of this all previously opened books will again
    be prepared for first time reading.
  - Viewer: Restore print to PDF functionality
  - Viewer: Allow also jumping to book positions in Goto->Location
  - Content server: When adding books and a duplicate is suspected
    provide more information about what books match the duplicate
  - FB2 Output: Speed up conversion of images and handle external
    links
  - Viewer: If the book has no ToC try to generate one from 
    headings, if any.
  - Viewer: Improve rendering of comics. No blank pages after large 
    images or after every image in multi-page mode.
  - Viewer: Make it easier to use the bookmarks panel with only
    keyboard.
  - Viewer: Set the classes calibre-viewer-paginated and 
    calibre-viewer-scrolling on the <body> tag in Paged and Flow 
    modes. This allows the User styles to target these modes, 
    if needed.
  - Viewer: Use the same loading spinner as is used by the rest of
    calibre
  Bug fixes
  - Edit book: Fix a crash when editing CSS files caused by a 
    behavior change in Qt 5.13.
  - Fix a regression in 4.0 that broke rendering of PDF covers for
    PDF files that used JPEG2000 compression.
  - Viewer: Fix a regression in 4.1 that broke creating new color
    schemes
  - Viewer: Fix error while viewing books with a comment after a 
    <meta> tag.
  - Viewer: Fix an error when processing a CFI with an invalid 
    text offset.
  - Viewer: Fix scrolling backwards to previous chapter not always 
    scrolling to the end of the chapter, if the chapter loads 
    external resources.
  - Viewer: Fix hang on books with namespaced attributes on <html> 
    that do not belong to a known ebook namespace.
  - Viewer: Fix search history not persisting between viewer 
    restarts.
  - Viewer: Fix scrollbar showing up on initial book open even if 
    disabled in preferences.
  - Viewer: Fix rendering of books with mathematics failing
  - Viewer: When changing between individual sections/chapters in 
    the book, only render the new chapter after loading is complete
  - Viewer: Fix scrolling by screenfuls not working correctly in 
    flow mode
  - EPUB 2 metadata: Fix obfuscated fonts being broken when updating
    metadata if the file uses Adobe font obfuscation and the 
    identifier with the key has an uppercase UUID scheme name.
  - Viewer: Fix right clicking on margins not showing controls
  - Viewer: Preselect text in search box when showing it.
  - Viewer: Fix SVG images that use xlink:href to refer to paths 
    not being displayed.
  - Content server: Fix detection of iOS on iPAD with iOS 13 which 
    defaults to desktop mode
  - Metadata jacket: Fix <br> tags in the comments not being rendered 
    correctly when inserting the comments into the jacket page.
  - Viewer: Show nicer error message for DRMed books
  - Viewer: Fix preferences under Scrolling behavior not being saved
    correctly
  - Viewer: Fix remembered position sometimes off by one page in 
    paged mode.
  - Viewer: restrict max size of margin page turn indicators to 
    25px rather than 75px
  - Viewer: Dont flash the home page before loading a book if 
    a book has been specified
  - Viewer: Fix ctrl+m shortcut not working on windows
  - Content server: Fix regression that caused series name in book
    details view not not be blue to indicate it is clickable
  Improved recipes
  - Various Polish news sources
  - Il Sole 24 Ore
   
-------------------------------------------------------------------
Tue Oct  8 11:19:55 UTC 2019 - ecsos@opensuse.org

- Update to 4.1.0
  New features
  - Viewer: Add an option to have a scrollbar (under Scrolling in
    the viewer preferences)
  - Viewer: Allow showing the 'position in book', as was displayed
    in the top left of the viewer in calibre 3, in the header or
    footer of the viewer.
  - Viewer: Add options to control scrolling using the mouse in
    paged mode.
  - Viewer: Allow copying images by right clicking on them.
  - Viewer: Add a preference under Miscellaneous to allow only
    a single instance of the viewer
  - Viewer: Add keyboard shortcuts to toggle between paged mode and
    flow mode and to quit
  - Content server: Make the book size useable in custom book list
    templates.
  - Edit metadata: Use a border rather than background color to 
    indicate correct title and author sort values.
     Works better with dark themes.
  - Kobo driver: Support for new firmware
  Bug fixes
  - Viewer: Fix a couple of bugs in flow mode. Scrolling to anchors
    was not working and remembering last read position was not
    working
  - Viewer: Fix text after comments not being rendered. Note that
    the book has to be reloaded if already viewed for the fix 
    to apply.
  - Viewer: Fix loading progress screen sometimes getting stuck if
    changing pages rapidly.
  - Viewer: Fix failing to open books if path to cache contains
    symbolic links.
  - Viewer: When restoring from fullscreen go back to maximized
    state if window was maximized when entering full screen.
  - Viewer: Fix shortcut changes not being applied after pressing
    OK if shortcut list is closed by pressing Esc.
  - Fix a regression that broke reading metadata from ODT files
    that do not have keywords.
  - PDF Output: Fix a bug that prevented the first style property
    in the header or footer template from being applied
  - PDF Output: Fix error with a few embedded TTF fonts.
  - Edit book: Font manager: Fix removing embedded font failing
    if @font-face rule has no src.
  - Viewer: Hide the browser provided scrollbar that flashes
    momentarily on page load.
  - Viewer: Fix clicking on margins causing keyboard shortcuts to
    not work until the main text is clicked on again
  - Comments editor: Workaround for Qt converting ids into anchors
  - Possible workaround for some windows machines where the viewer
    is getting access denied errors while renaming a directory
  - Viewer: When there is empty text for an header footer section
    render it as blank instead of moving the remaining sections to
    the left
  Improved news sources
  - Fortune Magazine

-------------------------------------------------------------------
Sat Oct  5 11:15:30 UTC 2019 - Ismail Dnmez <idonmez@suse.com>

- Update to 4.0.0
  New Features
  - For details on the major changes in calibre between 3.0 and
    4.0, see https://calibre-ebook.com/new-in/thirteen
  - A completely re-written E-book viewer with an emphasis on
    presenting the book text, distraction free
- Add BuildRequires on hunspell
- Add BuildRequires and Requires on new dependency:
  python-qtwebengine-qt5

-------------------------------------------------------------------
Fri Sep 13 07:26:08 UTC 2019 - ecsos@opensuse.org

- Update to 3.48.0
  New Features
  - Driver for Kobo Libra H2O
  Bug Fixes
  - kobo driver: Fix some annotations getting missed for kepubs
  Improved news sources
  - Boston Globe
  - Scientific American

-------------------------------------------------------------------
Mon Sep  2 09:12:41 UTC 2019 - ecsos@opensuse.org

- Update to 3.47.1
  Bug Fixes
  - Fixes an error when using internet lookup from the book details
     panel and the e-book viewer, and also the tweak to control
     number of columns in the edit metadata dialog not working.

-------------------------------------------------------------------
Fri Aug 30 07:59:32 UTC 2019 - ecsos@opensuse.org

- Update to 3.47.0
  New Features
  - HTML metadata: Support reading identifiers from HTML files
  - Preferences->Ignored devices: Add a button to reset the list of
    devices that calibre is allowed to manage
  Bug Fixes
  - macOS: Fix a regression that could cause a crash on exit if any
    books were deleted while calibre was running.
  - Content server OPDS: Handle form encoded search queries.
  - Fix an error when adding files from clipboard and file is of
    unknown type
  - Speed up restoring original format by doing a rename rather 
    than a copy and re-add.
  - EPUB 3: Fix setting metadata in EPUB 3 files without a title 
    not working
  - PML Input: Modernize the generated HTML a bit.
  - HTMLZ Output: Fix svg content from HTML files that contain only
    SVG being removed.
  - Content server: Fix OPDS feed for category based browsing 
    listing restricted books, even though these books cannot be 
    actually downloaded.
  - Preserve tag order when reading metadata from MOBI files
  - Add missing 'language' field to ComicBookInfo metadata for .CBR
    files.
  - LIT Output: Fix regression in 3.41 caused by py3 porting that
    broke conversion of some files to LIT.

-------------------------------------------------------------------
Mon Aug 26 14:37:02 UTC 2019 - Ismail Dnmez <idonmez@suse.com>

- Remove manual Requires on libicu as the correct runtime dependency
  is already produced by rpm boo#1148183

-------------------------------------------------------------------
Fri Jul 19 07:13:17 UTC 2019 - ecsos@opensuse.org

- update to 3.46.0
  Bug fixes
  - Manage tags dialog: When searching for a tag also search the 
    \"Was\" column to see if the original tag name matches.
  - Windows: Fix calibre-server --manage-users not working 
    correctly.
  - MOBI Input: Fix conversion of MOBI files with malformed markup
    and embedded <guide> tags not working.
  - Edit book: Allow the search expression history to remember very
    short terms and also preserve leading and trailing whitespace.
  - Fix a regression in 3.45 that broke conversion of SVG images 
    when converting to formats such as MOBI that do not support 
    SVG.
  - Fix a regression in 3.45 that broke parsing of old-style .py 
    config files.

-------------------------------------------------------------------
Fri Jul 12 17:16:36 UTC 2019 - ecsos@opensuse.org

- update to 3.45.2
  Bug fixes
  - Fix a Windows-specific regression in 3.45.0 that prevented 
    calibre from starting on non UTF-8 locales with non-ASCII 
    usernames. Closes tickets: 1836360

-------------------------------------------------------------------
Fri Jul 12 09:08:32 UTC 2019 - ecsos@opensuse.org

- update to 3.45.1
  Bug fixes
  - Fix a Windows-specific regression in 3.45.0 that caused various
    errors in the viewer and editor. Closes tickets: 1836294

-------------------------------------------------------------------
Fri Jul 12 05:48:05 UTC 2019 - ecsos@opensuse.org

- update to 3.45.0
  New features
  - Content server: Allow adding or removing formats to a book via 
    the edit metadata page. Closes tickets: 1831304
  - ToC Editor: Allow user to control whether duplicate headings 
    are included or not when generating ToC from headings
  - Advanced search dialog: Remember the last focused field in the 
    search by title/authors tab
  - Conversion: Performance improvement for books that have many 
    HTML files that all include the same CSS stylesheets
  - Kobo driver: Add options to more precisely control the 
    generation of cover images, to reduce size and enhance quality
  - Support subtitle in Douban metadata plugin
  Bug fixes
  - Linux: Workaround for bug in recent Linux kernels that causes
    the Kindle to eject after calibre connects to it. 
    Closes tickets: 1834641
  - DOCX Input: When autodetecting the Table of Contents from 
    headings, work even if the headings use numbering.
    Closes tickets: 1834661
  - EPUB Output: If there are no guide elements do not output an 
    empty guide tag. Makes epubcheck happy.
    Closes tickets: 1835560
  - Workaround for sortByColumn being partially broken in Qt 5.13.0
    Closes tickets: 1834989
  - Fix a regression that broke the per_lang_title_sort_articles
    tweak. Closes tickets: 1834329
  - Sending email: Fix an error on some windows machines with 
    non-ASCII hostnames
  - EPUB Output: When generating EPUB 3 preserve the old style meta
    tag to identify the cover as Google Play Books does not 
    recognize EPUB 3 cover markup. Closes tickets: 1832660
  - Create catalog: Fix handling of the tilde character in BiBTeX
    catalogs. Closes tickets: 1832726
  - News downloads: Fix incorrect font sizes for some text in the
    index pages. Closes tickets: 1832628
  - Comic Input: Fix incorrect processing of comics with pages that
    have the same file names in different folders when using the 
    "No process" option. Closes tickets: 1831487
  - CHM Input: Fix a regression that broke processing of some CHM 
    files. Closes tickets: 1831511
  - Edit book: When auto-closing tags on typing </, fix 
    occasionally incorrect tag being closed in large files becaus
    e syntax highlighting has not completed
  - Kobo driver: Fix for ContentType not being defined error for 
    extension-less non kepub files on a Kobo
  - Content server: Book details page: Do not display empty rows 
    for undefined dates
  - Get books: Update Google books and amazon plugins for markup 
    changes
  - Edit book: Text search: Fix searching for a single character 
    backwards not working
  New news sources
  - Aviation International News by Jose Ortiz
  Improved news sources
  - Art and Letters Daily
  - The Wall Street Journal
  - Barrons
  - Newsweek
- Drop patches calibre-fix-qt5.13-compat.patch and 
  calibre-fix-qt5.13-sortByColumn.patch because now in upstream.

-------------------------------------------------------------------
Tue Jul  2 15:27:14 UTC 2019 - Ave Milia <avemilia@protonmail.com>

- workaround Qt 5.13 regression in QTableView::sortByColumn()
  * calibre-fix-qt5.13-sortByColumn.patch

-------------------------------------------------------------------
Sun Jun 30 17:28:41 UTC 2019 - Ave Milia <avemilia@protonmail.com>

- fix compilation against Qt 5.13
  * calibre-fix-qt5.13-compat.patch

-------------------------------------------------------------------
Fri May 31 07:28:21 UTC 2019 - ecsos@opensuse.org

- update to 3.44.0
  New Features
  - Driver for the new NOOK Glowlight Plus
  - Driver for updated Kobo firmware
  Bug Fixes
  - Amazon metadata plugin: Fix searching the Amazon servers 
    directly not working because of changed markup

-------------------------------------------------------------------
Wed May 29 15:13:27 UTC 2019 - ecsos@opensuse.org

- Fix boo#1136317: Added some missing requirements and versions.

-------------------------------------------------------------------
Tue May 28 14:46:31 UTC 2019 - ecsos@opensuse.org

- update to 3.43.0
  New Features
  - Kobo driver: Support for new Kobo firmware
  - Edit metadata dialog: Remember relative sizes of the cover and 
    comments editors.
  Bug Fixes
  - PDF Output: Fix hang when converting some documents.
  - Handle newlines when serializing to csr files
  - Fix searching in manage tags throws away all changes
  - Fix a regression in the previous release that broke using the
    wireless device driver with the device_for_template option
  - Fix metadata download from Amazon stripping accents from 
    comments text in the binary builds
  - Amazon metadata download: Fix some downloads failing when 
    a mobile user agent is randomnly selected.
  - LRF Input: Fix a regression that broke parsing LRF files.
  - PDF Input: Workaround for pdftohtml not always producing valid
    UTF-8.

-------------------------------------------------------------------
Mon Apr 29 16:18:18 UTC 2019 - ecsos@opensuse.org

- update to 3.42.0
  Bug Fixes
  - Conversion: Transform styles: When using regular expressions 
    fix substitution groups not working.
  - Fix a regression in the previous release that caused the 
    conversion of HTML to text in comments when output to catalogs 
    or converting downloaded metadata to behave slightly 
    differently.
  - Edit book: Fix beautify not handling and tags correctly.
  - DOCX Input: Fix cross-references using the 'fldSimple' markup 
    not being recognized by calibre.
  - EPUB/MOBI Catalogs: Fix a regression in the previous release 
    that caused ampersands and middle-dots to appear as HTML 
    entities in the output.
  - Prevent a malformed tweaks.json file from stopping calibre 
    startup
  - Fix a regression that broke completion for ebook-convert
  - News fetching: Fix a regression that broke removal of 
    attributes/javascript/srcset because of bugs in the new 
    BeautifulSoup
  - TXT Output: Fix Vietnamese  character being stripped from 
    output.
  - E-book viewer: Fix specifying a non-existen location 
    via --open-at causing viewer to hang

-------------------------------------------------------------------
Sun Apr 21 09:33:54 UTC 2019 - ecsos@opensuse.org

- update to 3.41.3
  New Features
  - Kobo driver: Support for new firmware
  - Content server: Add an option to control which book list mode 
    is used by default for new users (Preferences->Sharing over the 
    net->Choose book list mode)
  - Content server: Allow clicking on book cover in details page to 
    read the book.
  - Amazon metadata plugin: Add a option to use the mobi-asin to 
    find books.
  - E-book viewer: Allow specifying ToC hrefs via the --open-at 
    command line parameter.
  - Tag Mapper: Allow Title-casing of tags.
  - Manage authors dialog: Add an entry to the right click menu to 
    show books by the current author in the main book list.
  - Lots of internal changes to calibre's codebase to prepare it 
    for Python 3 support.
  Bug Fixes
  - Content server: Fix links to external resources in book details 
    and the viewer not working
  - Content server: Fix using a bookmark to load the book list not 
    working if server is password protected.
  - Content server: Book details page: Fix close button not going 
    back to book list after using Next/previous buttons.
  - Kobo driver: Fix update device metadata setting not being 
    saved. Also fix book language not being set correctly on newer 
    firmware.
  - PDF Output: Fix 'stroke-dasharray' lines in SVG images in the
    input document not being rendered correctly.
  - Fix searching for authors on amazon not working because of 
    a change in the amazon URL structure.
  - Cover grid: Check for cover size change due to screen scale 
    change on every paint event and invalidate cache if there is 
    a change.
  - Edit book: Fix Option key + ; not working in the editor.
  - Edit book: Fix pasting images into a book with no Images folder
    not working correctly.
  - Confirm cancel on library restore dialog
  - EPUB/MOBI Catalogs: Fix presets not being applied for some 
    options.
  - Fix using --insert-metadata with ebook-convert not inserting 
    the title and author metadata from the source document
  - Adding books: When adding with auto-merge and auto-convert
    enabled, also run conversions for books into which the added 
    files are merged.
  - Versions 3.41.1, 3.41.2, 3.41.3 fix various regressions in the
    previous release that affect a few people.

-------------------------------------------------------------------
Sat Mar  9 10:15:39 UTC 2019 - ecsos@opensuse.org

- update to 3.40.1
  New Features
  - TXT Input: Use markdown 3.0 with support for new extensions 
    such as code highlighting and smarten punctuation.
  - Book details panel: Allow editing the identifiers for the book 
    by right clicking on the existing Ids.
  - Content server: Allow specifying custom URLs for the 
    'Search the internet' feature via 
    Preferences->Sharing over the net->Search the internet.
  - Tag browser: Category editor: Add a checkbox to restrict the 
    entries shown to only those present in the current Virtual 
    library
  - Allow adding files to selected book records from the clipboard.
    To use copy a file from windows explorer, right click the Add 
    books button and choose: Add files to selected books from 
    clipboard
  - Tag browser: When right clicking on a saved search add a menu
    option to search using the raw search expression.
  - Tag browser: Have pressing the Enter key find the next match.
  - Windows: Add a button to Preferences->Sharing over the net to 
    set calibre to run when the computer starts
  Bug Fixes
  - Fix a regression in the previous release that broke Copy to 
    library and delete after when copying a duplicated book.
  - Edit book: Fix pasting of image from clipboard using (Ctrl-V)
    not working
  - Content server: Fix {id} not working in the custom list 
    template
  - EPUB/MOBI Catalogs: Fix presets not saving title and format 
    information.
  - macOS: Respect the system setting for text insertion cursor 
    blink time
  - FB2 Output: Fix comments from the input document not present in 
    the output.
  - calibredb: Fix adding books with an OPF file to a remote server
    not picking up the cover specified in the OPF file
  - TXT Input: Fix option to remove indents at the start of lines 
    breaking conversion of markdown documents.
  - EPUB/MOBI Catalog generation: Allow matching empty fields in 
    exclusion rules.
  - EPUB/MOBI Catalogs: Fix multiple books with the same title but 
    different authors in a genre not being listed.
  - Update the Get Books and metadata Amazon.com plugins to handle 
    changes to the markup on the Amazon results page
  - Version 3.40.1 fixes a bug in 3.40.0 that could prevent calibre 
    starting when using a custom date column

-------------------------------------------------------------------
Sat Feb  2 09:32:50 UTC 2019 - ecsos@opensuse.org

- update to 3.39.1
  New Features
  - Content server: Implement the "Copy to library" function. 
    To use it click the three dots in the top right corner of a 
    book's page and choose "Copy to library"
  - Content server: Add Next/Previous buttons to the book details 
    page
  Bug Fixes
  - Content server: Fix editing metadata that affects multiple 
    books causing all the metadata for all the books to become the 
    same.
  - Open With: Fix using .bat files as the program not working.
  - ZIP Output: Fix an error when building the ToC on macOS for 
    some books with non-ASCII ToC entries
  - Edit book: Check book: Follow recent releases of epubcheck in 
    expecting .ttf files to have the mime-type 
    application/vnd.ms-opentype in EPUB 3 books
  - Fix font mime-types not being auto-corrected when upgrading
    EPUBs from 2 to 3
  - Content server: Try to detect if a book file has been edited 
    outside of calibre and serve the updated copy
  - Fix merging books not updating author if the source book has no 
    title
  - Content server: Fix heading for custom comments columns being 
    duplicated in the book details page
  - Fix editing of dates not working is the date format is set to 
    iso.
  - Version 3.39.1 fixes a bug in 3.39.0 that broke copy to library
    for books that have saved conversion options

-------------------------------------------------------------------
Fri Jan 18 21:23:13 UTC 2019 - ecsos@opensuse.org

- update to 3.38.1
  New Features
  - Tag browser: When using the Find function have unaccented 
    characters match their accented equivalents, if the setting for
    it is set in Preferences->Searching
  - DOCX Input: When converting indices, put each sub-entry on its 
    own line.
  - Edit book: Insert hyperlink: Add history for the template
  - Edit book: Insert hyperlink: Add a few more variables for the 
    link template: _SOURCE_FILENAME_, _DEST_FILENAME_ and _ANCHOR_
  Bug Fixes
  - Catalogs: Set the language of created catalogs to the calibre 
    interface language instead of English
  - DOCX Input: Do not display section breaks that have a numbering 
    style applied to them.
  - Content server: Fix listening on :: not also listening on IPv4 
    interfaces on Windows
  - DOCX Output: Fix heading styles that have the same font size as
    body text getting incorrect font sizes after conversion.
  - EPUB/MOBI Catalogs: Fix prefix rules not working when calibre 
    UI language is something other than English
  - EPUB/MOBI Catalogs: Fix exclusion by tag not working for tags 
    that have spaces in them
  - Subset fonts: Fix error when trying to subset unicode 
    characters that require two UTF-16 code points on Windows.
  - Content server: Fix option to restrict displayed user field not
    working in the /opds view
  - Tag browser: Fix incorrect icon for user categories.
  - PDF Output: Fix conversion failing when fonts with non-English 
    names are used.
  - 3.38.1 fixes a typo in 3.38.0 that caused the Polish books 
    function to not work when polishing small numbers of books

-------------------------------------------------------------------
Sat Jan  5 10:08:41 UTC 2019 - ecsos@opensuse.org

- update to 3.37.0
  Bug Fixes
  - calibredb: Fix adding books from directories to a remote server
    running on Windows not working
  - Edit Book: Fix style attribute on tags not being preserved when
    editing AZW3 files.
  - Get Books: Use an external browser for Google Books
  - Saving to disk: Fix errors on Linux/macOS if the title/authors 
    are long enough to make individual path components larger than 
    255 characters.
  - PDF Input: Fix non-breaking spaces represented as entities in 
    the output of pdftohtml, which breaks some search/replace 
    expressions
  - Edit book: Fix a crash when mousing over links in an instance 
    of the editor launched standalone on macOS Mojave
  - Conversion: When converting with font size rescaling disabled, 
    convert font size names to rem unit rather than pt units.
  - Windows: When registering calibre programs as possible handlers 
    for various file types, dont set the AllowSilentDefaultTakeOver 
    registry key
  - macOS: PDF Output: Fix bold fonts not working on Mojave.
    Content server: Fix strings with double quotes not being 
    translated.
- Change BuildRequires from python-cssutil to python-css-parser.

-------------------------------------------------------------------
Fri Dec 21 19:23:51 UTC 2018 - ecsos@opensuse.org

- update to 3.36.0
  New Features
  - Kobo driver: Add supported for newly released firmware update
  Bug Fixes
  - Kobo driver: Fix a regression in the last release that caused 
    book title to appear as unknown if metadata management was set 
    to manual in calibre.
  - PDF Output: Do not fail if one of the fonts from the source 
    document has no name metadata

-------------------------------------------------------------------
Fri Dec  7 18:40:03 UTC 2018 - ecsos@opensuse.org

- update to 3.35.0
  New Features
  - Edit book: Insert hyperlink: Allow specifying a template to 
    control the markup that is inserted for the hyperlink.
  - Metadata download: Add an option (in Preferences->Metadata 
    download) to keep multiple results from individual metadata 
    sources, useful if you prefer to pick the best result by hand 
    and use only one or two metadata sources.
  - Kobo driver: Add an option to directly update metadata in the
    Kobo device database, instead of waiting for the Kobo to 
    update the database after disconnecting. 
    (Preferences->Plugins->Customize the Kobo device plugin)
  Bug Fixes
  - E-book viewer: Fix a regression that broke viewing of HTMLZ
    files
  - Edit book: Fix suggestions in completion popup not being
    sorted.
  - Windows: Fix restarting calibre with system tray icon enabled 
    causing duplicate defunct icons in the tray.

-------------------------------------------------------------------
Thu Nov  8 15:42:47 UTC 2018 - ecsos@opensuse.org

- update to 3.34.0
  New Features
  - Support for the new Kindle Paperwhite 2018
  - Metadata plugboards: Allow defining plugboards that modify 
    comments metadata as well
  - E-book viewer: Add a keyboard shortcut (Ctrl+M) for toggling 
    between paged and flow mode
  Bug Fixes
  - EPUB Input: Handle invalid EPUB files that have their NCX 
    documents in the spine.
  - EPUB3 Input: Handle EPUB 3 files that incorrectly use EPUB 2
    markup to identify cover images.
  - Content server: Fix --url-prefix feature not working with book
    conversion

-------------------------------------------------------------------
Sun Oct 21 07:45:03 UTC 2018 - <ecsos@opensuse.org>

- change require version for python-msgpack from 0.5.6 to 0.5.4 
  so calibre can build for Leap 15.1

-------------------------------------------------------------------
Fri Oct 19 14:32:26 UTC 2018 - ecsos@opensuse.org

- update to 3.33.1
  New Features
  - Driver for the new Kobo Forma
  - PDF Output: Add a new 'page number map' setting to easily 
    modify page numbers as needed in headers/fotters and the 
    generated inline table of contents.
  - Edit book: Insert image: remember size of displayed thumbnails.
  - Edit book: Compress images losslessly: Remember the last used 
    compression quality for jpeg compression.
  Bug Fixes
  - CHM Input: Fix a regression in the previous release that broke 
    processing of CHM files.
  - Fix clearing of metadata download author and tag map rules not
    working
  - Fix notifications from calibre being displayed as "Others" on 
    the GNOME desktop
- Drop Patch calibre-UnicodeEncodeError-build.patch, 
  because now in upstream

-------------------------------------------------------------------
Fri Sep 28 20:28:12 UTC 2018 - ecsos@opensuse.org

- update to 3.32.0
  New Features
  - Edit book: Insert image dialog: Add buttons to change the image
    thumbnail size.
  - Book details panel: Allow right clicking on a format to open it 
    in the calibre editor
  - Edit metadata dialog: Allow viewing or editing specific formats
    by right clicking the format in the formats list
  - When creating a metadata jacket allow HTML in custom long text 
    columns
  - Content server: When editing metadata add a button to remove 
    the existing cover. Note that after removing the cover
    a auto-generated cover is displayed instead. You might need to 
    hit refresh in your browser to see the change.
  - Content server: Date edit: Add buttons to clear the date or set
    it to today's date
  Bug Fixes
  - When showing books on the device, disable keyboard shortcuts 
    for actions that operate on library books
  - Content server: Custom List: Fix a zero series index being 
    displayed as one
  - Content server: Fix covers not being updated in downloaded 
    copies of some books.
  - PDF Output: Fix an error that could occur in rare circumstances
    when using the option to read page margins from the input 
    document
  - Edit book: Check book: Fix an error if a filename contains 
    a % character
  - PDF Output: Fix CSS opacity property causing text to not be 
    rendered. Now opacity is ignored, as it is unsupported by
    Qt WebKit.
  - Create custom column dialog: Ensure that the format numbers 
    field is always visible
- Add calibre-UnicodeEncodeError-build.patch 
  to fix UnicodeEncodeError build error 

-------------------------------------------------------------------
Fri Sep  7 15:13:52 UTC 2018 - ecsos@opensuse.org

- update to 3.31.0
  New Features
  - Book list: Allow changing the font used for any column to bold 
    and/or italic by right clicking on the column header and 
    choosing 'Change font style'.
  - fetch-ebook-metadata.exe: Allow specifying identifiers other 
    than just ISBN
  - Amazon metadata download: Add support for Amazon Australia 
    (can be configured via Preferences->Metadata download->
    customize the amazon metadata source)
  - Table of Contents Edit tool: When generating from XPath's add 
    a checkbox to control if duplicate entries at the same level 
    are added or not.
  - Edit book: Allow disabling the popup to show changes after 
    running the Fix HTML and Beautify all files tools.
  Bug Fixes
  - DOCX Input: Fix figures in newer Word documents being duplicated.
  - Content server: Disable offline access if application cache is 
    not available, rather than failing.
  - DOCX Output: Workaround for broken CSS that uses -o-pre-wrap 
    for the white-space property
  - Metadata download: Remove the option to lookup first edition 
    dates as the service used to get the data no longer exists

-------------------------------------------------------------------
Sat Aug 25 08:39:14 UTC 2018 - ecsos@opensuse.org

- update to 3.30.0
  New Features
  - ToC Editor: When generating ToCs using headings/XPath ignore 
    duplicate entries at the same level that have the same text.
  - Windows: The default calibre library location is now not in 
    My Documents but instead in the user home folder, to avoid 
    issues with OneDrive auto-syncing calibre libraries
  - Kobo driver: Support for new firmware version
  - Add a tweak (in Preferences->Tweaks) to allow skipping network
    check on news download
  - Edit metadata dialog: Show a confirmation dialog on cancel if 
    some changes have been made.
  Bug Fixes
  - Downloaded metadata review dialog: Fix a regression in the last
    release that broke the revert buttons
  - E-book viewer: Fix clicking links in the footnote popup 
    ignoring the anchor part of the link.
  - ToC editor: Fix generating toc entries from links not working 
    for links that start with #
  - HTML Input: Collapse multiple spaces in filenames when 
    sanitizing them.
  - Edit book: Remove matching tag: Fix incorrect removal if the 
    remove matching function is triggered in rapid succession
  - Edit book: Fix some links in the file being split not being 
    adjusted when splitting HTML files.
  - Fix a crash when using some third party plugins and enabling
    the "two lines for text under icons" option
  - Make the create catalog dialog freely resizable
  - DOCX Input: Fix an error when converting some DOCX files with  
    inherited fonts.

-------------------------------------------------------------------
Tue Aug 14 14:24:46 UTC 2018 - toddrme2178@gmail.com

- Remove unneeded Python dependencies.
- Use bundled BeautifulSoup.
  BeautifulSoup is unmaintained upstream, so using the internal
  version is the safest option.
- Add missing dependencies.
- spec files cleanups

-------------------------------------------------------------------
Mon Aug 13 22:16:18 UTC 2018 - carmen@carmenbianca.eu

- Individually link to Liberation font files to speed up launch
  time [bsc#1104597]

-------------------------------------------------------------------
Fri Aug 10 09:20:09 UTC 2018 - ecsos@opensuse.org

- update to 3.29.0
  New Features
  - Add a option to draw a grid in the main book list 
    (Preferences->Look & feel)
  - Edit book: Allow removing the currently highlighted tag
    (while keeping its contents) by pressing Ctrl+>. You can also 
    add a tool to do it via Preferences->Toolbars
  - Content server: When defining a color scheme for the in browser 
    viewer allow specifying the link color as well as the
    foreground and background.
  - Edit book: Show a popup after a fix all html/beautify all files
    so the user can easily see what was changed, if needed.
  - Kindle driver: Create cover thumbnails on the device when 
    transferring KFX format books
  - Edit Book: Recognize numbers in image names in the 
    'Insert image' dialog
  Bug Fixes
  - Content server: Display custom comments field on the book 
    details page in the same order as in the calibre GUI
  - Edit book: Fix open image editors not being updated when image
    file is replaced
  - Fix keyboard shortcuts for Edit book tools created from plugins 
    not working
  - PDF Output: Fix error when trying to convert books that do not
    specify a language in their metadata.
  - Browser viewer: Fix inability to open books that contain 
    zero-byte stylesheets/images

-------------------------------------------------------------------
Fri Jul 20 15:01:27 UTC 2018 - ecsos@opensuse.org

- update to 3.28.0
  New Features
  - Allow creating rules to transform author names when adding 
    books to calibre. 
    Accessible via Preferences->Adding books->Adding actions
  - Add a similar author mapper tool to manipulate author names in 
    the existing library. Accessible via Preferences->Toolbars
  - Add a similar author mapper tool for metadata downloading, 
    accessible via Preferences->Metadata download
  - Comments Editor: Add options to change the case of the selected 
    text to the right click menu
  - Edit book: When sorting non text files in the File list
    recognize numbers in the file names
  Bug Fixes
  - calibredb catalog: Recognize file extensions even when they are 
    not lowercase

-------------------------------------------------------------------
Fri Jul  6 17:53:53 UTC 2018 - ecsos@opensuse.org

- update to 3.27.1
  New Features
  - Content server: Allow conversion of books
  - Kobo driver: Add support for new firmware
  - Bulk metadata edit dialog: Add an "edit tags" button for tags 
    like custom columns.
  - Add an option in Preferences->Look & feel to disable the new 
    'drag and drop to merge books feature'
  - E-book viewer: Add a shortcut (Ctrl+Alt+B) to toggle the 
    bookmarks panel.
  - Edit book: Add a copy to clipboard button on the various report
    dialogs
  - Edit book: Add a shortcut (Ctrl+Alt+Down) to edit the next file 
    in the book spine.
  - calibre-smtp: Verify relay server TLS certificates by default.
    New option --dont-verify-server-certificate to restore old 
    behavior.
  Bug Fixes
  - Version 3.27.1 fixes a build error in 3.27.0 that caused 
    calibre not to start on macOS older than High Sierra
  - Conversion: Fix a regression in the previous release that
    caused conversion of EPUB 3 to EPUB 3 to fail.
  - Fix detection of the Bookeen NolimbookXL on macOS and Linux
  - Fix a regression that broke the fetching of annotations from 
    Kobo and Kindle devices.
  - DOCX Input: Fix failure to convert some DOCX files that use 
    Symbol fonts.
  - When exporting very large libraries fix failures due to busy 
    errors.
  - Fix commas not working in identifiers that are transformed 
    to URLs via rules.
  - Review downloaded metadata: Fix cancel button on the confirm
    reject all dialog not working.
  - Kindle Fire driver: Send books by default to the "kindle" 
    folder instead of the "Books" folder to workaround a change in 
    the Fire firmware that causes the Kindle to not recognize files
    in the Books folder.
  - Linux installer: Also fix the execute bits in the umask if the 
    user runs the installer with a umask that prevents files from 
    being world executable.
  - Sort the entries in the show column menu alphabetically.

-------------------------------------------------------------------
Fri Jun 15 11:01:19 UTC 2018 - ecsos@opensuse.org

- update to 3.26.1
  New Features
  - Book list: Allow drag and drop of books onto other books to 
    merge the book records.
  - Check Book: External link checker: Also check HTML anchors 
    (the part after the # in the link). Can be turned off via 
    a checkbox at the bottom of the link checker window.
  - Edit Book: Preview panel: Show previews when editing SVG files
  - Edit book: When downloading external resources, also convert
    data URLs into files.
  - E-book viewer: When the controls are hidden show the progress 
    in the window title.
  - Library Quick switch menu: Highlight the previously switched 
    from library in bold.
  Bug Fixes
  - PDF Input: Fix a regression in 3.24 that caused conversion of 
    PDF to be significantly worse.
  - E-book viewer: Fix very slow loading for HTML files with
    very many images on Linux.
  - Content server: Fix a regression in 3.14 that removed
    the separator between books in the detailed list view mode.
  - Edit book: Fix SVG files not being beautified by the Beautify 
    all files tool
  - Edit book: Fix searching in selected files not searching SVG 
    files
  - Fix Tweaks help string not being displayed translated
  - Edit metadata dialog: Fix distorted rendering of some labels 
    in the custom metadata tab in rare circumstances.
  - version 3.26.1 prevents dropping of a book onto itself from 
    triggering the merge dialog, which should reduce accidental 
    triggers

-------------------------------------------------------------------
Fri Jun  1 16:21:30 UTC 2018 - ecsos@opensuse.org

- update to 3.25.0
  New Features
  - Kobo driver: Support the new Clara HD
  - PDF Output: Add an option to use page margins from the input 
    document, specified via @page CSS rules.
  Bug Fixes
  - Fix option to "show text under buttons only if there is 
    enough space" not working well with the option to use 
    "two lines for the text under the buttons".
  - Update notification: When both calibre and plugin updates are 
    available and the user updates only the plugins, fix the 
    restart calibre button not working.
  - E-book viewer: Fix printing of comics (cbz/cbr files) not 
    working.
  - EPUB3 Input: Fix Table of Contents not being recognized for
    some EPUB 3 books that placed their nav document in-side 
    a sub-folder.

-------------------------------------------------------------------
Mon May 28 15:21:49 UTC 2018 - ecsos@opensuse.org

- update to 3.24.2
  - Version 3.24.2 fixes a bug in the new EPUB 3 output 
    functionality that prevented conversion of non-EPUB 3 books
    to EPUB 3

-------------------------------------------------------------------
Sat May 26 08:14:58 UTC 2018 - ecsos@opensuse.org

- update to 3.24.1
  - Version 3.24.1 fixes a regression in the 3.24 in the editor 
    that caused syncing between the editor and the Preview 
    panel/Live CSS panel to not work correctly

-------------------------------------------------------------------
Fri May 25 14:51:49 UTC 2018 - ecsos@opensuse.org

- update to 3.24.0
  New Features
  - Conversion: EPUB Output: Add an option to output EPUB 3 files.
  - PDF Output: Add an option to break long words at the ends of 
    lines.
  - PDF Output: Allow using images in the header/footer templates
  - Add an option to use two lines for the text under the toolbar 
    button in Preferences->Look & feel
  - Edit book: Spell check: Update the number of misspelled 
    words/total words displayed when correcting/ignoring words.
  - Edit book: Fix HTML: Automatically resolve private entities
  - Improve formatting of help in Preferences->Tweaks
  - ToC Editor: Allow undo for renaming single items as well.
  Bug Fixes
  - PDF Output: Strip zero-width space characters from the text as
    their presence prevents searching from working
  - DOCX Output: Fix tags not being converted correctly.
  - DOCX Input: Fix incorrect conversion of a framed block that 
    contains a list.
  - Conversion: Fix private entities that use the same name as an 
    HTML entity not being handled correctly
  - Viewer: Fix HTML files with private entities displaying an 
    artifact at the top
  - Edit book: Check book: Show an error for HTML files with 
    private entities
  - EPUB3 Input: Fix titlepage being referred to in the nav causing
    two titlepage entries in the final book.
  - Fix throbber buttons not being perfectly aligned inside 
    toolbars
  - Quickview: Fix sizes not being displayed.
  - Edit book: Compress images tool: Do not mark the book as 
    changed if no images could be further compressed.
  - Book list split-view: Fix horizontal scroll position of split 
    view can change when changing the current column in one view.
  - Fix Bookeen Saga not being recognized on macOS/Linux.
  - Edit metadata dialog: Fix undo last trim not working for 
    automatic trims.
  - Content server: Fix series field blank in Italian translation
  - BeautifulSoup: Port fix from upstream for outputting bare 
    ampersands in strings.
  - calibredb add: Run the input plugins before reading metadata 
    instead of after.

-------------------------------------------------------------------
Thu May 24 08:47:29 UTC 2018 - kbabioch@suse.com

- Use OpenPGP signature provided upstream
- Added source to calibre.keyring, which contains the key from the author
- Used https for all URLs in the specfile 

-------------------------------------------------------------------
Mon May 14 09:26:14 UTC 2018 - tchvatal@suse.com

- Drop dependency on python-pypdf as we remove this package
  * The calibre does not depend on it since 2014 anyway

-------------------------------------------------------------------
Fri May  4 17:49:39 UTC 2018 - ecsos@opensuse.org

- update to 3.23.0
  New Features
  - Kobo driver: Add support for new firmware
  - Book polishing: Add an option to upgrade EPUB 2 to EPUB 3
  - DOCX Input: Convert text written with dingbat fonts such as 
    Wingding or Symbol correctly.
  - When choosing the page to use as a cover from a PDF file, 
    add a button to render more pages, if needed
  - TXT Input: Add support for embedded images that use relative 
    URLs when converting markdown or textile. Note that this will
    only work if you are - converting using the ebook-convert 
    command line tool as the main calibre program moves files 
    around, so relative references will not be valid.
  - Edit book: Insert special character: Add an option to select 
    if searching should match all words or any of the words
  - Edit book: Insert special character: When searching by name 
    match prefixes in addition to whole words. So you can now type
    "horiz" to match "horizontal".
  - Linux installer: Simplify the command used to install calibre 
    and add support for Ubuntu 18.04 which is missing a default 
    python executable
  - When upgrading EPUB 2 to EPUB 3 add the 'epub' namespace to 
    all HTML files, for convenience.
  Bug Fixes
  - Edit Book: Fix an error caused by a landmark entry in EPUB 3
    files that has an tag without an href attribute.
  - Edit Book: Fix names for some control characters not being 
    displayed in the status bar
  - Searching: Fix A (B) not being treated as A AND (B)
  - Kobo driver: Add an option to not maintain bookmarks/read 
    status/etc. when resending a book already on the device.
  - DOCX Input: Ignore complex script font styles. Fixes conversion 
    of documents that specify only complex script styles and no
    simple script styles.
  - When updating EPUB 2 to EPUB 3 ensure only a single dc:date 
    element is present in the OPF

-------------------------------------------------------------------
Sat Apr 21 08:14:41 UTC 2018 - ecsos@opensuse.org

- update to 3.22.1
  New Features
  - Edit book: Add a tool to upgrade books from EPUB 2 to EPUB 3 
    (Tools->Upgrade book internals)
  - Add support for the FBZ format (zipped FB2)
  - Kindle driver: Change the height of generated thumbnails to 
    500px, needed for the Oasis 2017
  - Edit book: When bulk renaming files add an option to rename by
    the order in which the files appear in the book.
  - Polishing: Recognize titlepages that are marked as covers in
    the EPUB 3 landmarks section
  - Edit Book: Automatically updated the modified timestamp in the 
    OPF when saving EPUB 3 books.
  - Remove the ISBNDB metadata plugin as ISBNDB no longer allows 
    free lookups.
  Bug Fixes
  - EPUB 3 metadata: If the book defines more than one author sort
    value for an author use the first instead of the last
  - Check Book: Dont warn for nav document not in spine in EPUB 3 
    books
  - Linux installer: Fix umask question not working with the 
    recommended install command because stdin is a pipe
  - Browser viewer: Show an error message when trying to use the 
    Sync function without being logged in
  - When setting cover from a PDF file and the user clicks cancel, 
    do not delete the existing cover

-------------------------------------------------------------------
Sun Apr  8 12:32:43 UTC 2018 - ecsos@opensuse.org

- update to 3.21.0
  New Features
  - Browser viewer: Allow showing the time left in the current
    chapter/book in the header and footer areas of the book.
  - Manage tags dialog: Searching now shows all matching tags and 
    there is an undo button to undo changes.
  - Add an output profile for the Kindle Oasis 2017
  Bug Fixes
  - Content server: Fix adding/deleting books and editing metadata 
    not updating the main calibre book list automatically.
  - Viewer: When doing a dictionary lookup, remove soft hyphens 
    from the word, if any are present.
  - Edit metadata dialog: Fix tab order for buttons to the left 
    of the title and author
  - Trim cover dialog: Remove the redundant Trim & OK button, 
    instead have the OK button trim automatically if there is 
    a selection.
  - Update Amazon metadata plugin for a website change
  - Content server: Fix translations not being updated without 
    clearing the browser cache
  - Content server: Fix switching from translations to no 
    translations not working
  - Content server: When updating interface data do not transmit
    translations if they have not been changed. Saves ~30-60KB
    bandwidth when using non-English interface language.

-------------------------------------------------------------------
Sat Mar 24 09:12:50 UTC 2018 - ecsos@opensuse.org

- update to 3.20.0
  New Features
  - Content server: Allow editing the metadata of books from the 
    book details page
  - Kobo driver: Recognize Kobo Aura 2 with new firmware 
    (4.6.10188)
  Bug Fixes
  - When reading metadata from HTML also recognize as being 
    comments

-------------------------------------------------------------------
Fri Mar  9 18:47:57 UTC 2018 - ecsos@opensuse.org

- update to 3.19.0
  New Features
  - Driver for the new PocketBook 740
  - Allow using relative URLs in comments type metadata. 
    The relative URLs are interpreted relative to the book folder
    in the calibre library
  - Edit book: Reports: Do not show characters from the HTML markup
    in the characters report.
  - Allow adding the Virtual library button to any toolbar/menu via
    Preferences->Toolbars & menus
  Bug Fixes
  - Server: Fix server becoming unresponsive if a client sends 
    invalid SSL data at exactly the right moment
  - Conversion heuristics: Make unwrapping recognize Georgian
    letters as well.
  - Make de-serialization of stored conversion options safe against
    maliciously crafted input
  - E-book viewer: Change the file format used to import/export 
    bookmarks to use JSON. This prevents malicious bookmarks files
    from causing code execution.
  - Make the history completion for the search and replace edit box 
    case-sensitive.
  - PDF Output: When the input document contains multiple anchors 
    with the same value, use the first anchor rather than the last.
    This follows browser behavior.
  - FB2 Input: Add to content to silence the useless epubcheck
  
-------------------------------------------------------------------
Sat Feb 24 09:26:56 UTC 2018 - ecsos@opensuse.org

- update to 3.18.0
  New Features
  - Browser viewer: Allow long tapping a word to look it up in 
    a dictionary or search the internet for it.
  Bug Fixes
  - Conversion: Handle the deprecated type attribute on tags.
  - Fix metadata download from amazon stopped working because of 
    a website change
  - Fix re-ordering of columns causing split book splitter state 
    not being restored on restart
  - Fix errors when using strftime with unicode strings on 
    non-utf-8 windows systems.
  - Split book view: Fix vertical scroll position of the two views 
    getting out of sync after doing some searches.
  - Fix some edit widget appearing in the wrong place when editing 
    in the right hand panel of the new split book list.
  - Portable build: Fix cache directory not always being 
    auto-created
  - Workaround for Qt 5.10 on Linux resetting the global font, 
    preventing custom interface font settings from working

-------------------------------------------------------------------
Fri Feb  9 18:50:04 UTC 2018 - ecsos@opensuse.org

- update to 3.17.0
  New Features
  - Allow splitting the book list, by right clicking on the column
    headers and choosing 'Split the book list'
  - Store temporary files used by the editor and viewer in the 
    cache directory to try to prevent errors caused by 
    'file cleaner' programs deleting temporary files still in use
  Bug Fixes
  - EPUB3 Input: Fix HTML covers and titlepages that are marked 
    using the deprecated element not being recognized.
  - Bulk metadata edit: Fix regression in 3.13 that made it 
    impossible to use the Force numbering checkbox for custom 
    series
  - Conversion: Fix the valign attribute on tags not being honored
  - E-book viewer: Fix the 'Copy' keyboard shortcut/context menu 
    action not working on some Windows systems
  - E-book viewer: Make the semi-transparent background for viewing 
    metadata a little more opaque.

-------------------------------------------------------------------
Sat Jan 27 09:46:46 UTC 2018 - ecsos@opensuse.org

- update to 3.16.0
  New Features
  - Content server: Allow adding and deleting of books using 
    the web interface
  - Allow removing the close button from tabs in the Virtual 
    library tab bar. Right click the tab bar and choose 'Lock tabs' 
    to do that.
  - calibredb export: Add --progress option
  - Bulk metadata editing: Show progress bars to track progress of 
    the operation
  - Content server: When downloading books from the server send 
    both the ASCII and full Unicode file names. Browsers that 
    support RFC 6266 can make use of the unicode file name.
  - Content server: Show a warning popup on Apple devices when 
    the user tries to search with an expression containing smart 
    quotes, since Apple devices now automatically replace quotes 
    with smart quotes when typing.
  Bug Fixes
  - DOCX Output: Fix links without anchors in the input document 
    not being converted correctly.
  - calibredb: Fix a regression that broke reading of passwords 
    from stdin
  - Edit book: Fix an error when saving files with filenames that 
    cannot be encoded using the system codepage on Windows
  - Pasting metadata: Fix excluding title and authors not working

-------------------------------------------------------------------
Wed Jan 24 12:43:56 UTC 2018 - pgajdos@suse.com

- do not require liberation2-fonts, it is dead [bsc#1077375] 
  [rh#856239]

-------------------------------------------------------------------
Sat Jan 13 14:56:10 UTC 2018 - wbauer@tmo.at

- Drop useless build requirement on poppler to make it build again.
  Such a package doesn't exist since ages, libpoppler provided
  "poppler" until recently but there should be no need to
  explicitly BuildRequire that anyway.

-------------------------------------------------------------------
Fri Jan  5 19:24:27 UTC 2018 - ecsos@opensuse.org

- update to 3.15.0
  New Features
  - Browser viewer: Allow customizing what information is displayed 
    in the header and footer areas. Access Preferences from the 
    viewer controls to change.
  - Add support for MTP devices on FreeBSD
  - ToC editor: Add more case changing operations to the right 
    click menu
  - Content server: Redirect pre 2.x book URLs to new 3.x URLs via 
    a JavaScript redirect
  - Content server: Allow opening entries in the book list in a new 
    tab via middle click/right click
  - Add a tweak in Preferences->Tweaks to exclude some fields when 
    using the Edit metadata->Copy/paste actions
  - Linux: Allow using calibre-tray.png in the calibre resources 
    folder to override the system tray icon.
  Bug Fixes
  - Browser viewer: Fix goto next/previous section actions not
    working when the sections are in different individual HTML 
    files.
  - Edit book/Book polishing: When compressing images and the 
    compressed image is larger thant he original, use the original
    image.
  - PDF input: Fix conversion of multi-level PDF Outline causing 
    duplicate entries in the Table of Contents.
  - Edit book: Fix incorrect EPUB 3 declarations being added to the
    OPF file when adding covers to an EPUB 2 book
  - Edit book: Fix backspace key un-indenting instead of deleting 
    even when text is selected if the cursor is at the start of the 
    line
  - Tag browser: Fix position not bing preserved when deleting 
    books.
  - Edit Book: Use the cache directory rather than the temp 
    directory to store working files. Hopefully prevents temp file
    cleaners from destroying books.
  - EPUB input: Handle books that erroneously set the mimetype for
    font files to text/plain
  - AZW3 input: Do not fail to process files with invalid internal
    flow references.
  - When updating plugins, do not show the dialog asking which 
    toolbar to put the plugin, even if the user has removed the
    plugin for all toolbars.
  - Content server: Fix using the Clear logs button preventing the 
    server from restarting until calibre itself is restarted.

-------------------------------------------------------------------
Sat Dec 16 15:14:50 UTC 2017 - ecsos@opensuse.org

- update to 3.14.0
  New Features
  - User manual: A new quick reference primer for regular 
    expression syntax 
    https://manual.calibre-ebook.com/regexp_quick_reference.html
  - Content server: Allow viewing the book metadata while reading 
    a book. In the viewer controls, tap Goto and then Metadata to
    see the metadata.
  - Kobo driver: Add support for new firmware
  - Bulk metadata edit: Allow choosing the algorithm used for 
    changing the case of titles
  - Get books: The koobe.pl store plugin has now become the
    Swiat Ebookow store plugin
  - Allow Copy/paste of book metadata from the main book list. 
    Right click the Edit metadata button to access these actions.
  - Allow disabling the confirmation popup when opening the 
    containing folder of many books at once.
  Bug Fixes
  - Nook driver: Fix books sent via calibre not appearing under 
    My Files on the Glowlight 3 Plus
  - Get Books: Update Mills & Boon, publio, empik, legimi, woblink 
    and beam-ebooks.de plugins for website changes
  - Book polishing: Do not scan book for font usage when subsetting 
    if no embedded fonts are available.
  - Content server: Open links in the comments section from the 
    book details page in new windows.
  - Choose English as the User interface language when a locale 
    related environment variable is set to the C locale
  - Linux installer: A nicer error message if the user tries to run 
    the installer on an ARM machine

-------------------------------------------------------------------
Fri Dec  1 11:04:59 UTC 2017 - ecsos@opensuse.org

- update to 3.13.0
  New Features
  - Driver for the new Bq Cervantes 4
  - Edit book: Auto-generate links to existing stylesheets when
    adding a new HTML file.
  - Add a button to easily clear server logs in 
    Preferences->Sharing over the net->Show server logs.
  - Catalog generation: Store the list of fields to be used in 
    generating CSV/XML catalogs per library.
  - Bulk metadata edit: Make the custom series controls similar to 
    the builtin series ones, with the same set of features
  - Edit book: Pre-select existing cover image (if any) in add 
    cover dialog
  - Make the Manage saved searches dialog a little easier for new 
    users.
  - Add a tweak to control behavior of Enter on the book list
  - Content server: Fix random book button on book details page 
    multiplying.
  - Edit Book: Bulk file rename dialog: Remember last used prefix 
    for renaming files
  Bug Fixes
  - Tag browser: Fix use of the tweak to control order of items in 
    the Tag browser causing unexpected expansion of items after
    editing metadata.
  - Content server: Improve rendering of tags/categories with long 
    words on small screens.
  - Fix first added saved search not appearing in Tag browser until
    calibre restart.
  - When checking added books for duplicates, also check on the 
    language field. So books with the same title/authors but 
    different languages are not considered duplicates.
  - Edit Book: Spell check should not fail if there are non-HTML 
    files in the spine
  - Conversion: Fix an error when using the embed_all_fonts option
    with certain books
  - Save to disk: Dont error out if the user deletes all formats 
    to be saved.
  - Linux binary: Fix calibre not starting on systems where 
    QT_QPA_PLATFORM is set to use wayland

-------------------------------------------------------------------
Sat Nov 11 10:47:18 UTC 2017 - ecsos@opensuse.org

- update to 3.12.0
  New Features
  - Driver for the new Nook Glowlight 3
  - Allow configuring the metadata fields displayed in the popup 
    book details window. To configure, simply click the 'Configure' 
    link at the bottom of the window.
  - Wireless driver: Allow specifying extra file formats 
    (unknown to calibre) to send
  Bug Fixes
  - Fix a regression that caused clicking the clear button in the 
    main search bar to not unapply the current search until enter
    is pressed.
  - Linux: Fix a regression causing calibre to fail to start on 
    systems with no DBUS session bus
  - Browser viewer: Fix body font being forced to sans-serif, 
    overriding in book and user stylesheet settings
  - Fix sending email failing of the computer's FQDN is set 
    to a single period.

-------------------------------------------------------------------
Thu Nov  2 17:25:08 UTC 2017 - ecsos@opensuse.org

- update to 3.11.1
  New Features
  - Kindle driver: Add support for the new Kindle Oasis
  - Browser viewer: Allow the user to specify a CSS style sheet to 
    control the look and feel of the text
  - Edit book spell check: In the list of suggestions show the 
    original word in italics.
  - Edit Book: When adding a new HTML file, add it after the file 
    being currently edited instead of at the end.
  - Column coloring: Add a contains rule type.
  - Book details panel: Allow saving the displayed cover to disk 
    via the right click context menu.
  Bug Fixes
  - Browser viewer: Fix font size and color scheme settings not 
    being respected in the footnote popup
  - DOCX Output: Fix comments/XML processing instructions in the 
    middle of text causing text to be skipped.
  - Book details panel: Fix metadata field titles not being top 
    aligned
  - Linux: Fix long startup delay on systems that do not have 
    a desktop notification service running
  - 3.11.1 fixes a couple of regression in 3.11.0 that broke 
    configuring Get books and creating catalogs

-------------------------------------------------------------------
Sat Oct 21 08:16:20 UTC 2017 - ecsos@opensuse.org

- update to 3.10.0
  New Features
  - Browser viewer: Show footnotes in a popup window. Similar to 
    the popup footnote functionality in the calibre viewer.
  - Content server: Add an option to control the timeout for making 
    AJAX queries to the server.
  Bug Fixes
  - Fix regression that broke Preferences->Conversion->Common 
    options in version 3.9
  - Server: Fix adding expressions to the search always using AND 
    instead of respecting the setting to use OR or AND.
  - Browser viewer: Fix a regression that caused loading more than 
    one book in the same session or using the back/forward browser
    buttons to require refreshing the browser.
  - Jobs list: Fix killing of job killing the wrong job if other 
    jobs are completed while waiting for kill confirmation.
  - DOCX Output: Fix preserve cover aspect ratio option still 
    distorting the aspect ratio slightly.

-------------------------------------------------------------------
Sun Oct  8 11:48:40 UTC 2017 - ecsos@opensuse.org

- fix build error for Tumbleweed

-------------------------------------------------------------------
Sat Oct  7 23:51:57 UTC 2017 - jengelh@inai.de

- Avoid running fdupes across partition boundaries.
- Remove irrelevant parts from description.

-------------------------------------------------------------------
Sat Oct  7 09:28:21 UTC 2017 - ecsos@opensuse.org

- update to 3.9.0
  New Features
  - Remove the Connect to iTunes function since Apple has removed 
    that functionality from iTunes
  - Kobo driver: Support for new firmware
  - Allow changing the icons in yes/no columns via column icon 
    rules.
  - Quickview panel: Add a context menu with a "View" action to 
    the book table.
  - Make the elapsed time display in the jobs dialog more human 
    friendly.
  Bug Fixes
  - EPUB Input: Fix styles in existing titlepage not being 
    flattened when the titlepage is preserved during conversion.
  - Fix conversion of grayscale JPEG-XR images not working
  - Update the douban metadata download plugin to match changes to 
    the website
  - DOCX Output: Fix the preserve cover aspect ratio option not 
    visible

-------------------------------------------------------------------
Sat Sep 23 08:15:16 UTC 2017 - ecsos@opensuse.org

- update to 3.8.0
  New Features
  - Bulk metadata edit dialog: Add an action to set metadata from 
    e-book files.
  - Server: Add an option to control the number of books displayed 
    per page in the browser (Preferences->Sharing over the 
    net->Advanced).
  - DOCX Output: Add an option to preserve the cover aspect ratio 
    in the output document.
  - Book details panel: An option to control the layout of the 
    panel in 'Narrow' mode (Preferences->Look & feel->Book details)
  - If the --start-in-tray option is specified, create a tray icon 
    even if the configuration option to enable tray icons is off.
  Bug Fixes
  - Possible fix for issue with pinning calibre to taskbar on 
    windows. Note that as an unfortunate side-effect, you will have
    to unpin and re-pin calibre to the taskbar after updating.
  - DOCX Output: Fix text immediately after a hidden tag not being 
    included.
  - Fix a regression that broke fetching of metadata from Douban
  - Cover grid: Fix Shift+arrow keys to manipulate selection not 
    working.
  - Editor snippets: Dont lose the last selected word when the user 
    triggers a non-existent snippet.
  - Book details popup window: Show the cover size in the bottom 
    right corner if the option to show cover size in the Book 
    details panel is set.
  - Linux: Fix regression that broke using calibre on some older 
    VNC servers
  - Browser viewer: Do not fail if the book contains javascript 
    that has errors.
  - Linux: Fix file open dialog on older KDE desktops not working
    correctly.
  - Update Ozon.ru metadata plugin for website changes.
  - LIT Input: Fix a buffer overflow caused by malformed LIT files.
  - Conversion: Expand -epub-writing-mode to -webkit-writing-mode 
    and writing-mode properties for maximum compatibility.
  - Linux: Fix SONY PRS-650 not being detected

-------------------------------------------------------------------
Sat Aug 26 08:16:16 UTC 2017 - ecsos@opensuse.org

- update to 3.7.0
  New Features
  - Allow searching for books in a virtual library using a new 
    'vl:' prefix
  - Server: Show file sizes in the tooltips for the download 
    buttons.
  - Server: Reduce the grid view minimum cover thumbnail size from 
    150px to 105px
  - Narrow layout: Fix wasted space to the left of the comments in 
    the Book details panel
  Bug Fixes
  - Server: Fix downloading files via the list of formats not 
    working when launching calibre from the home screen on iOS
  - Browser viewer: Fix controls help overlay not being displayed 
    the first time the viewer is used
  - MOBI Output: Fix a regression causing a crash for some input 
    documents that specify text-transform or font-variant CSS 
    properties.
  - DOCX Input: Fix framed lists being rendered with the frame 
    inside the bullets instead of outside it.
  - Fix a regression that could cause conversion to crash when 
    using the first-letter CSS pseudo selector and outputting to 
    MOBI or DOCX.
  - Conversion: Fix remove first image option not working for comic 
    input with the disable comic processing option.
  - Server: Fix tooltip not working in the cover grid view.
  - Workaround for Qt bug that prevented using the shift and ctrl 
    keys with the touchscreen
  - Linux: fix native KDE file dialog not working on older systems
  - Linux: Fix KDE dialogs not supporting multiple file name filter
    groups
  - Fix libraries being sorted alphabetically by full path rather 
    than just library name
  - Server: Allow hyphens in user names
  - calibredb.exe: Fix misleading error message when connecting to 
    a server with incorrect username or password

-------------------------------------------------------------------
Fri Aug  4 12:16:42 UTC 2017 - ecsos@opensuse.org

- update to 3.6.0
  New Features
  - Linux: Use native file dialogs via zenity or kdialog, 
    if available
  - Copy to library: Add an action to show a dialog that allows for 
    easy selection of libraries for copy/move. Useful when there 
    are a large number of libraries to choose from.
  - Server: Allow deleting a downloaded book from the "Browse all 
    downloaded books" screen
  Bug Fixes
  - Hopefully fix an issue with the book list jumping around when
    using the mouse on some computers
  - E-book viewer: Change the default fonts on windows to the 
    Liberation font family. This matches the other platforms and 
    avoids rendering issues with Times New Roman.
  - DOCX Output: Convert images placed by themselves inside block 
    tags as block images rather than inline images.
  - Fix a typo that broke the download of a few news sources
  - ebook-viewer.exe: Fix --continue-reading not working
  - Fix non XML safe characters in feed descriptions causing news
    download to fail.
  - Browser viewer: Fix books that contain broken links with 
    unicode characters in their paths not working.
  - Quickview: Fix regression in previous release that broke the 
    'Lock quickview' control

-------------------------------------------------------------------
Fri Jul 28 14:31:04 UTC 2017 - ecsos@opensuse.org

- update to 3.5.0
  New Features
  - Server: Add a new 'custom' mode for the book list, where you 
    can specify exactly what metadata fields are displayed, 
    via a template (see Preferences->Sharing over the 
    net->Book list template)
  - Speed up HTML parsing by an order of magnitude, by switching 
    from html5lib to html5-parser
  - Add support for touch screens to the main calibre book list. 
    You can now flick to scroll, tap to select and double-tap to 
    view books.
  - Server: Add an option to ban IP addresses if there are too many
    failed login attempts
  - calibre-debug: Change the --explode-book action to only create
    the exploded directory and not rebuild the file. 
    Add a new --implode-book action to rebuild the file,separately.
  - Book details panel: Add Manage authors/series/tags/etc. to the 
    menu when right clicking on the item
  - Kobo driver: Update for new firmware
  Bug Fixes
  - PDF Output: Fix a regression in 2.82 that caused conversion of 
    comics to PDF files to have successive images become smaller 
    and smaller in some circumstances.
  - PDF Output: Fix a regression in 2.83 that caused occasional 
    blank pages at the end of chapters when using headers/footers.
  - Get books: Update store plugins for ebook.nl and the various 
    amazon websites
  - Edit book: Hide editor toolbars if they are empty.
  - Server: Fix failed login attempts using digest auth not being 
    logged to the main log
  - Quickview: for non-text fields, sort on native values instead 
    of text.
  - Fix hidden search bar state not being restored on calibre 
    restart.
  - Fix option to not save cover separately when using Save to disk 
    not working.
  - Server: Fix an error on browsers that do not support blob 
    storage in IndexedDB.
  - Comic input: Fix a bug in the normalize image filter that 
    caused a crash when converting comics that contain a page with
    only a single color.
  - Edit Book: Handle non-normalized unicode characters in file
    names better

-------------------------------------------------------------------
Fri Jul 14 15:14:14 UTC 2017 - ecsos@opensuse.org

- update to 3.4.0
  New Features
  - Edit book: Allow exporting all selected files to the computer 
    from the 'File browser' by right clicking and choosing 
    'Export selected files'
  - Server: When returning to the search page, remember the last 
    used state of the Tag browser
  - Template language: Allow the in_list() functions to return 
    different values depending on what is found
  - Add a configurable shortcut to move the focus from Quickview to 
    the book list
  Bug Fixes
  - Conversion: When inserting the publication year in the metadata 
    jacket, do so in the local time zone, so it matches what is 
    displayed in the main calibre program.
  - Server OPDS feeds: Fix incorrect counts in letter categories 
    when there are lowercase names.
  - Edit book: Fix 'Show details' button not visible when doing
    'Replace all' rather than 'Count all'
  - Nook driver: Remove the % character from filenames sent to the 
    Nook.
  - Fix calibre startup crash caused by Quickview when the applied 
    virtual library is empty (has no books).

-------------------------------------------------------------------
Sat Jul  8 07:46:33 UTC 2017 - ecsos@opensuse.org

- update to 3.3.0
  New Features
  - Quickview panel: Allow opening and closing the panel via the 
    Layout button in the bottom right corner.
  - Book details panel: Allow right clicking on author names to 
    search for books by the author on Amazon.
  - Edit book: When doing a Replace/Count all with multiple 
    searches add a 'Show details' button on the result dialog that 
    shows the individual counts for each search.
  - Comments editor: Add a button to easily insert separators 
    (i.e. tags) when editing comments
  Bug Fixes
  - Browser viewer: Fix back/forward buttons not working correctly 
    when clicking on links that lead to different internal files 
    in the book.
  - Server: Fix using 'Show more books' button and then changing 
    list mode setting causing resulting book list to be incomplete
  - Server: Fix changing sort/search in the /mobile view only 
    working with the default library.
  - DOCX Input: Fix alt and title attributes for some images not 
    being preserved
  - Amazon metadata download: Change the default source from Bing 
    to Google as the Bing cache seems to be having trouble at the
    moment
  - ISBNDB metadata download: Ignore SSL errors when contacting 
    isbndb.com as they seem to have no intention of fixing their 
    broken SSL certificate
  - Conversion: Fix heuristics processing incorrectly removing some
    tags.
  - Handle non-ASCII binary strings in the 
    author_name_prefix/suffix tweaks.

-------------------------------------------------------------------
Fri Jun 30 17:18:08 UTC 2017 - ecsos@opensuse.org

- update to 3.2.1
  Bug Fixes
  - 3.2.1 has a fix for an issue that broke mouse wheel scrolling 
    in the cover grid view

- update to 3.2.0
  New Features
  - Server: Allow logged in users to change their passwords by 
    clicking the user icon in the top right corner of the home 
    screen.
  - macOS: Add headless support: calibre command-line utilities can 
    now run on macOS machines without a screen
  Bug Fixes
  - Viewer: Fix incorrect display of pages in paged mode for books 
    that override the box-sizing CSS property on the element.
  - Server: Fix timeout errors when using SSL (particularly common
    when running the server on windows)
  - Linux: Fix slow mouse wheel scrolling in Cover grid because of 
    Qt bug
  - Blacklist the iOS Reader applications and Marvin XD plugins as 
    they were preventing calibre from starting up and they have not
    worked in a long time anyway, since Apple restricted USB access 
    to their iOS devices
  - Fix for in-program restart not working on some Windows 10 Home 
    machines
  - EPUB3 metadata: Fix handling of elements with multiple roles.
  - Server: Disallow client initiated SSL renegotiation
  - Windows: Try to prevent windows from showing the annoying 
    'no disk in drive' error messages at calibre startup if one of 
    the calibre libraries is on a removable disk that is missing 
    from the system

-------------------------------------------------------------------
Fri Jun 23 14:53:07 UTC 2017 - ecsos@opensuse.org

- update to 3.1.1
  New Features
  - Edit metadata dialog: Allow right clicking the Paste ISBN 
    button to instead paste an identifier with a different prefix.
  - Tag browser: Add an option to control the spacing between items
  - Add an option in Preferences->Look & feel to show individual 
    layout buttons in the status bar, as was the case in 
    calibre 2.x
  - Edit metadata dialog: Add buttons to easily set/clear Yes/no 
    columns
  - Support for RAR 5.0 format RAR and CBR files
  Bug Fixes
  - Version 3.1.1 fixes a regression in 3.1.0 that prevented the 
    standalone calibre-server.exe from working on Windows and macOS
  - Content server: Fix various bugs in the SSL implementation 
    causing aborted transfers when enabling SSL in the server
  - Content server: Fix connections not being closed after 
    errors/timeouts on the server side
  - Fix an error during startup on Windows systems where the home
    directory is in a character encoding different from the system 
    encoding
  - Edit book: Fix escaping of text for regular expression searches 
    unnecessarily escaping spaces
  - Get Books: Search the entire catalog, including restricted 
    books
  - Fix regression in previous release that caused the Tag browser 
    view to jump around when renaming items
  - Splash screen: Fix text vertical overlap for some systems/font 
    sizes
  - Server: --daemonize option should not be present on Windows and 
    macOS as it does not work on those platforms
  - macOS: Fix some keyboard shortcuts not working in calibre 3.0
  - Server interface: Fix error in the Browse all downloaded page 
    when the book list mode is set to detailed list
  - Get books: Update amazon.fr and ebooks.com plugins for website 
    changes
  - Content server: Fix for home screen being empty if the path to 
    the calibre library has a trailing slash.
  - Content server: Fix the new server interface not working with 
    the --url-prefix option when the trailing slash is omitted on 
    the URL used in the browser.
  - Google images metadata download plugin: Fix for change in
    website causing no covers to be downloaded

-------------------------------------------------------------------
Fri Jun 16 14:57:01 UTC 2017 - ecsos@opensuse.org

- update to 3.0.0
  New Features
  - For details on the major changes in calibre between 2.0 and 
    3.0, see https://calibre-ebook.com/new-in/twelve
  - A completely re-written Content server with support for reading 
    books in-browser on your phone/tablet. Also works in offline 
    mode.
  - Support for high resolution (Retina screens)
  - A new splash screen to celebrate the release of calibre 3
  - Minor tweaking of the main user interface to emphasize the core 
    features
  Bug Fixes
  - Kobo driver: Fix for detection of some devices, with SD card 
    not working on macOS
  - Tag browser: Fix preservation of state when recounting and the 
    visible categories have changed.
  - CHM Input: Handle CHM files that have missing or empty root 
    files.
  - Fix Page flips options box in viewer preferences bot being laid
    out properly
  - Fix initial down arrow in search box jumping two places
  - Fix editing the authors via the book list not respecting the 
    tweak to control author name splitting
  - E-book viewer: Fix external links not working in the footnote 
    popup panel
  - Fix a regression that broke command line completion in bash
- remove patch 0001-compatibility-with-qt5-5.9.0.patch, because it 
  is now in upstream

-------------------------------------------------------------------
Thu Jun 15 09:42:17 UTC 2017 - alarrosa@suse.com

- Add 0001-compatibility-with-qt5-5.9.0.patch from upstream to fix
  a build failure with Qt 5.9.0 .

-------------------------------------------------------------------
Sat May 13 08:46:54 UTC 2017 - ecsos@opensuse.org

- update to 2.85.1
  Bug Fixes
  - contains a fix for a regression that cause the Open with action
    to go missing from the right click menu of the Book details 
    panel

- update to 2.85.0
  New Features
  - Book details panel: Allow right click to search the internet 
    for the current book
  - Book details panel: Allow right clicking on an author name to 
    search the internet for works by that author
  - Book details panel: Clicking an author name now searches 
    Goodreads by default instead of Wikipedia. Can be changed in 
    Preferences->Look & feel->Book details
  - Kobo driver: Add support for the Kobo Auro H2O Edition 2
  Bug Fixes
  - PDF Output: Fix a regression in the previous release that broke
    conversion to PDF for some files.
  - DOCX Output: Fix lengths specified in percentage of page size 
    not being converted correctly.
  - DOCX Output: Fix some hyperlinks not working in word because 
    the bookmark name is longer than forty characters.
  - DOCX Output: Prevent images from being larger than the page
    size.
  - Comic Input: Fix the number of colors control not allowing 
    values less than 8
  - Kobo driver: Fix main memory and Card A being swapped on some 
    systems
  - Kobo driver: Fix the ignore collections option being 
    accidentally case-insensitive
  - Preferences->Toolbars: Show an error message when the user 
    tries to remove either the Preferences or Location Manager
    buttons instead of just silently adding them back.

-------------------------------------------------------------------
Fri May  5 19:04:01 UTC 2017 - ecsos@opensuse.org

- update to 2.84.0
  New Features
  - Kindle driver: Also delete book thumbnails from the system 
    directory when deleting books.
  - Conversion: Use the same regular expression engine as is used 
    by the Edit Book tool. The new engine has much better support 
    for Unicode characters/character classes.
  - Edit Book: Add keyboard shortcuts to jump to opening and 
    closing tags (Ctrl+{ and Ctrl+})
  - Add API to pre-process image data in recipes easily
  - fetch-ebook-metadata: add option to use only a single metadata 
    plugin
  Bug Fixes
  - E-book viewer: Fix a regression in the previous release that
    broke printing from inside the viewer.
  - DOCX Output: When the input document contains paragraphs inside
    a block with a background color preserve the background color 
    in the resulting paragraphs in the DOCX document.
  - DOCX Output: Fix links to empty inline tags not working.
  - DOCX Input: Fix links that point to anchors placed in empty 
    paragraphs not working.
  - PDF Output: Do not crash when unable to find page for link 
    destination, instead use previous page.
  - Edit Book: Fix sorting by language in Report->Words not working
  - Edit Book: Fix drag and drop of multiple items in the 
    File Browser causing item order to be reversed.
  - Get Books: Update Baen store plugin for website changes
  - Linux: When adding books from directories ignore files that 
    have undecodable names.
  - AZW3: Preserve the primary-writing-mode EXTH header field when 
    round-tripping AZW3 files. Should fix editing/conversion of 
    RTL AZW3 files causing page turning to become left-to-right on 
    the Kindle
  - AZW3 Output: Set the primary-writing-mode EXTH header when the 
    input document has page-progression-direction set to RTL as 
    this is apparently required on newer Kindle firmware for 
    right-to-left page turning
  - Fix a misbehaving wireless device connection can cause calibre 
    to hang when opening the Connect/Share menu.

-------------------------------------------------------------------
Sun Apr 23 13:29:18 UTC 2017 - ecsos@opensuse.org

- update to 2.83.0
  New Features
  - PDF Output: Default to generating PDFs with a page size of 
    letter instead of taking the page size from the output profile.
  - PDF/DOCX Output: Add separate, pdf/docx specific, page margin 
    settings that override the common settings.
  - Table of Contents tool: Add an undo button
  - Metadata jacket: Show custom rating columns using stars
  - Metadata jacket: Change formatting of series to match that used 
    by the book details panel. Also allow access to the raw series 
    name and number when customizing the jacket template.
  - calibredb check_library: Vacuum database when running the check
  - Check Book: Add a check for empty identifier elements
  Bug Fixes
  - Edit book/Book polishing: When adding a cover to an EPUB 3.0 
    file set the svg property if a SVG cover wrapper is used
  - Refresh the book list when a User Category is added/edited.
  - EPUB metadata: Fix deleting ISBN from EPUB file could result in
    an EPUB file without a package identifier if the ISBN was used 
    as the package identifier.
  - Amazon metadata download: Fix title and author names being bold
    in the downloaded comments when using bing to get amazon 
    metadata.
  - PDF Output: Fix a regression that broke PDF Output for 
    documents containing mathematics.
  - E-book viewer: Fix a regression that broke the "Clear recently
    read books" action in the viewer

-------------------------------------------------------------------
Sat Mar 18 09:56:30 UTC 2017 - ecsos@opensuse.org

- update to 2.82.0
  New Features
  - Edit Book: Saved Searches: Add keyboard shortcut 
    (Alt+Up/Down Arrow) to move selected searches
  Bug Fixes
  - Fix a typo in the previous release that caused dynamically 
    updated metadata source plugins to stop working.
  - Catalog generation: Ignore tags with commas in them when 
    generating genres
  - News download: Do not use Microsoft user agents as more and 
    more websites are serving JPEG XR images to these browsers
  - Amazon metadata download: Fix spurious results when searching 
    for books that are not present on amazon using a search engine.
  - Get Books: Fix free samples being detected as independent books 
    when searching OPDS based stores such as Feedbooks.
  - Edit Book: Saved Searches: Preserve selection when using arrows 
    to move multiple items
  - Fix template formatter functions not being reloaded after 
    a check library operation
  - Fix an error during shutdown caused by some library closed
    plugins

-------------------------------------------------------------------
Fri Mar 10 18:11:02 UTC 2017 - ecsos@opensuse.org

- update to 2.81.0
  New Features
  - Amazon metadata download: Allow downloading amazon metadata 
    from multiple sources. You can now configure the Amazon plugin 
    via Preferences->Metadata download to use either the amazon 
    servers, or various search engine caches to get the metadata. 
    Should help with the recent CAPTCHA problems when downloading 
    metadata from amazon
  - Kobo driver: Add support for new firmware
  - Edit Book: Spell Check dialog: Always add the original word as
    one of the spelling corrections, so that small edits to the 
    word can be made easily.
  - Edit Book: Saved searched Dialog: Allow re-arranging the saved 
    searches using drag and drop.
  - Implement auto update of builtin metadata download plugins, 
    just as for recipes and Get Books plugins. Needed as the 
    websites they get data from often change.
  - Edit Book: When inserting full screen images, use the actual 
    image dimensions in the generated SVG code, when available
  - Linux installer: Check that the umask is suitable before 
    running the installer. Should fix breakage on systems where 
    users have changed the user umask but neglected to also alter 
    it for sudo
  - Bulk metadata edit: Remove the control to delete specific
    formats as it is redundant. This functionality is already 
    present by right clicking the Remove books button
  Bug Fixes
  - TXT Input: When detecting the encoding of txt files only use 
    the first four kilobytes of text. Fixes excessively slow
    conversion of very large text files.
  - Get Books: Fix price not being displayed for books from Amazon
    dues to website changes
  - GetBooks: Update Google Books plugin for website changes
  - E-book viewer: Fix slow startup when recently opened files are 
    on a slow/malfunctioning networked filesystem.
  - Google metadata download: Fix metadata not being found when the 
    title of the book includes a sub-title
  - Improve downloading of covers from the google books metadata 
    source
  - News download: Fix a bug that could cause a crash when 
    downloading an SVG image.
  - Edit book: Fix a regression that caused pasting copied text 
    from programs that generate both HTML and plain text when 
    copying to paste the HTML in preference to the plain text

-------------------------------------------------------------------
Fri Feb 24 18:25:08 UTC 2017 - ecsos@opensuse.org

- update to 2.80.0
  New Features
  - Add support for sideloading of KFX files created with the 
    third-party KFX calibre plugin
  - Edit book: Allow drag and drop of image files, stylesheets and 
    html files into the editor to insert the appropriate  and tags
    and add the files to the book automatically.
  - Kobo driver: Add support for updated firmware
  - Edit Book: Spell Check: If there are no suggestions fill the 
    suggested word box with the original word.
  - Viewer: add a shortcut (Ctrl+F11) to show/hide toolbars.
  Bug Fixes
  - PDF Output: Fix courier font not being rendered when converting 
    on windows.
  - E-mail delivery: Add a Message-ID header when sending emails. 
    Reduces probability of mails sent from calibre being marked as 
    spam
  - Save to disk: Fix path shortening being applied to entire save 
    template even when saving to singe directory.
  - Get Books: Update the Virualo and Publi store plugins for 
    website changes
  - Viewer: Fix regression that caused slow opening of some books
    with missing font/css/image files
  - Viewer: Pressing Ctrl+F in fullscreen mode should show the 
    controls.
  - Edit book: Do not allow creating multiple new files whose names 
    differ only by case.
  - Viewer: Use heuristics to try to detect comics encoded as fixed
    layout EPUBs to ensure they are displayed as intended.

-------------------------------------------------------------------
Fri Feb 10 15:50:57 UTC 2017 - ecsos@opensuse.org

- update to 2.79.0
  New Features
  - Windows: Make recently opened books show up in the jump lists
    for the standalone viewer and editor programs
  - OS X/Linux: Show an informational popup message when an Android 
    device is plugged in that needs the user to tap Allow for the
    connection to work.
  - Conversion: Log options that are different from the defaults 
    separately, for easy reference
  Bug Fixes
  - Conversion: Fix regression that broke conversion of some epub 
    files when using the 'Remove first image' option.
  - Get Books: Update Kobo plugin for website changes
  - Windows MTP driver: Fix error when enumerating device storage 
    not being reported during debug device detection
  - Tag Browser: When dragging and dropping a book onto a series 
    increment the series number.
  - Fix crash when generating covers with Qt 5.8 on linux
  - Fix Get Books result list and jobs list not being populated on 
    Qt 5.8
  - Fix importing rules in the coloring/icon rules dialog not 
    enabling the apply button
- rebase patch calibre-setup.install.py.diff

-------------------------------------------------------------------
Fri Feb  3 23:28:38 UTC 2017 - zaitor@opensuse.org

- Add conditional liberation2-fonts BuildRequires and Recommends
  for Tumbleweed, it is better suited for the version of freetype2
  we have available.

-------------------------------------------------------------------
Tue Jan 31 12:31:15 UTC 2017 - cornelis@solcon.nl

- Fix boo#1022710: upgrade from 13.2 to Leap error

-------------------------------------------------------------------
Fri Jan 27 16:28:35 UTC 2017 - ecsos@opensuse.org

- update to 2.78.0
  New Features
  - View button: Add an action to the right click menu that always 
    opens the book with the calibre viewer, regardless of the
    preferences
  - Kobo driver: Update to support the newest firmware from Kobo
  - E-book viewer: Allow opening a specific item from the Table of 
    Contents via the --open-at command line parameter.
  - Amazon metadata download: Add support for downloading from 
    amazon.ca
  Bug Fixes
  - Edit Book: Do not condense CSS rules when saving AZW3 files 
    regardless of the value of Preferences->Common Options->Look & 
    Feel->Expand CSS
  - EPUB Output: Fix a duplicate id created in rare circumstances 
    when splitting on page breaks.
  - DOCX Input: Fix error when converting documents that have
    images pointing to web resources.
  - E-book viewer: Fix a regression that caused an increase in load 
    times when loading the individual HTML files inside an EPUB
    book.
  - Fix setting a similar books search to use the formats field in 
    Preferences->Searching resulting in an error.
  - Kobo driver: Fix incorrect cover size being uploaded to the 
    Glo HD
  - E-book viewer: Fix 'View Image' right click menu action not 
    available for svg files included via  tags.
  - HTML Input: Remove the # character from input filenames, for
    maximum compatibility.
  - Edit Book: Fix spell check treating the unicode hyphen (U+2010) 
    differently from the normal hyphen (U+002d).

-------------------------------------------------------------------
Mon Jan 23 09:07:07 UTC 2017 - cornelis@solcon.nl

- Make requirements for python-qt5 and python-sip tighter to avoid
  random crashes when these libraries are updated (see e.g.
  boo#1011610 and
  https://lists.opensuse.org/opensuse-factory/2017-01/msg00390.html)

-------------------------------------------------------------------
Fri Jan 13 16:24:11 UTC 2017 - ecsos@opensuse.org

- update to 2.77.0
  Bug Fixes
  - Conversion: Fix changing the cover image not updating 
    references to the old cover image inside SVG wrappers.
  - E-book viewer: Fix a regression that caused clicking links in
    the footnote popup window to stop working
  - Edit Book: Fix importing DOCX file as new book not setting the 
    version attribute in the OPF
  - Kindle driver: Fix some newer KFX books not being recognized 
    on e-ink kindles, because of a change in how metadata is stored 
    in the KFX format
  - DOCX Output: Fix missing tag causing conversion to fail.
  - Edit Book: Fix group references causing errors when used in 
    replace string in the normal mode search and replace
  - Edit Book: Fix Check Book reporting a spurious mime/type mismatch 
    error after replacing a file with a file having a different
    mime type.
  - Amazon metadata download: Fix detection of series not working 
    for some books due to changes in the amazon website
  - Fix Nook HD+ not being detected on windows
  - Edit Book: Ensure keyboard focus stays with Files Browser when
    renaming files.
- Drop patch reproducible.patch because now in upstream

-------------------------------------------------------------------
Sun Jan  1 21:25:32 UTC 2017 - ecsos@opensuse.org

- update to 2.76.0
  Bug Fixes
  - E-book viewer: Fix a regression in the previous release that 
    broke the viewer on systems where the temporary directory is a 
    symlink (common on OSX).
  - EPUB Input: Fix EPUB2 files that specify a cover image via a 
    tag but not in the not getting a cover when converted to PDF
  - PDF Output: Fix conversion failure when input document contains 
    first page with no renderable content.
  - Editor: Fix incorrect handling of some regular expressions in 
    the Search tool.
  - OS X: Fix dynamically generated context menus, such as the sort 
    by menu not working.
  - Fix a crash when running with assertions turned on in Qt.
  - Edit Book: Reports tool: Fix an error when right clicking on 
    items in the Links view.

-------------------------------------------------------------------
Sun Dec 25 17:15:41 UTC 2016 - ecsos@opensuse.org

- update to 2.75.1
  Bug Fixes
  - Version 2.75.1 has fixes for a regression in 2.75.0 that broke 
  the Live CSS feature in the editor and caused some minor problems 
  in the viewer

-------------------------------------------------------------------
Fri Dec 23 08:43:55 UTC 2016 - ecsos@opensuse.org

- update to 2.75.0
  New Features
  - Happy Holidays everyone!
  - Add support for new Kobo firmware version 4.2
  - Allow using amazon_in, amazon_au, amazon_com identifiers in the 
    Book details panel.
  Bug Fixes
  - Kobo driver: Fix incorrectly sized covers being sent to some 
    Kobo devices
  - E-book viewer: Prevent javascript in the book from accessing 
    files on the computer using XMLHttpRequest.
  - Edit Book: Fix the 'Search ignoring markup tool' not ignoring 
    comments/processing instructions, etc.
  - CSS Transforms: Fix 'is'/'is not' rules not matching 
    currentColor.
  - E-book viewer: Make the swipe up gesture move to next section
    instead of previous section.
  - Edit Book: Allow the Spell Check dialog and the search panel 
    to be made much narrower than before.
  - Edit Book: Fix customize template window not freely resizable
    on windows.
  - Edit Book: Fix newlines not being matched by the 
    'Search ignoring markup' tool.
  - EPUB Input: Fix incorrect handling of html files that are in 
    a folder above the OPF file.
- remove obsolet calibre07 because it is now removed in obs.

-------------------------------------------------------------------
Wed Dec 14 08:38:25 UTC 2016 - cornelis@solcon.nl

- python-Pygments is not a build requirement, but only required at
  runtime: remove BuildRequires: python-Pygments

-------------------------------------------------------------------
Sat Dec 10 07:28:18 UTC 2016 - ecsos@opensuse.org

- set liberation-fonts to Recommends
- use PIL-fork python-Pillow instead python-imaging

-------------------------------------------------------------------
Fri Dec  9 15:58:23 UTC 2016 - ecsos@opensuse.org

- Update to 2.74.0:
  New Features
  - Amazon metadata download: Allow downloading from amazon.cn as 
    well. To use go to Preferences->Metadata download and customize 
    the amazon plugin to download from amazon.cn
  - Edit Book: Allow disabling the 'Files already arranged into 
    folders' message popup
  Bug Fixes
  - Edit Book: Fix selected text not being fully highlighted when 
    using the solarized color schemes.
  - calibredb: Fix CSV output for the check_library command not 
    being properly escaped
  - Fix subsetting of fonts whose names start with 'and' not 
    working
  - Fix a regression in 2.72 that broke the --start-in-tray command 
    line option.
  - Fix third party plugins that create dynamic context menus not 
    working in linux
  - DOCX Input: Fix images wider than 50% of the page width being 
    incorrectly right aligned even when anchored to the center of 
    the page.
  - Catalog generation: Ensure all citation keys in BiBTeX catalogs
    have only ascii characters.
  - Get Books: Update ebookpoint and legimi plugins for website 
    changes
  - EPUB3 metadata: Ensure updating metadata never produces empty 
    dc:contributor elements.
  - DOCX Output: Fix an error when converting tables with spanning
    cells.
  - Nicer error message if the user tries to import data while the 
    content server is running
- add calibre-rpmlintrc to prevent rpmlint-errors
- rebase calibre.changes

-------------------------------------------------------------------
Tue Nov 29 09:01:05 UTC 2016 - cornelis@solcon.nl

- Update to 2.73.0:
  New Features
  - Add a preference in Preferences->Look & Feel to hide the row 
    numbers in the main book list.
  - Allow Export/Import of column coloring and icon rules.
  - Edit Book: Allow bulk changing of file extension for selected 
    files by right clicking ont he selected files in the file
    browser.
  - Edit Book: Check Book: Add a check for nav documents that 
    contain no ToC in EPUB 3 books
  - Edit Book: Check Book: Add a test to check if the embedded 
    fonts in the book have their embedding permissions enabled
  Bug Fixes
  - Pressing the up arrow in an date edit with undefined value 
    should jump to the current date rather than Feb 101
  - EPUB Input: When an invalid nav based ToC is used in an 
    EPUB 3.0 document that also has a fallback NCX ToC, use the 
    fallback ToC.
  - Fix a regression that broke the icon theme creation tool in the 
    previous release
  - Fix insert character dialog not reflowing characters on resize. 
    Also only allow the search bar in the dialog to get input focus

-------------------------------------------------------------------
Sat Nov 19 10:53:40 UTC 2016 - ecsos@opensuse.org

- update to 2.72.0
  New Features
  - Font embedding: Implement automatic embedding for fonts with 
    non-normal stretch and weight values such as 
    Condensed/Light/Extra Bold fonts
  - Allow aborting an in-progress Copy-to-library action.
  - Edit Book: When adding a font file via File->New automatically 
    generate the appropriate @font-face rule and copy it to the 
    clipboard so that it can be easily inserted into the 
    appropriate CSS files.
  - Edit Book: Check Book: Add a warning for links with the : 
    character in them on windows
  - Conversion: When converting markdown documents recognize basic
    metadata in the markdown document formatted as per the markdown 
    metadata extension.
  - Edit Book: Spell Check dialog: Various small usability 
    enhancements -- preserve position in word list on refresh, 
    ensure that new current word is highlighted after changing a 
    word, etc.
  - Edit Book: Flash the taskbar icon after beautify all files 
    completes.
  Bug Fixes
  - Fix creating an empty library with the same structure as 
    current library not creating custom columns on the first 
    restart after creating the new custom columns.
  - Edit Book: Dont fail to rename files on windows if there is a 
    link containing the colon character.
  - PDF Output: Dont fail if one of the embedded fonts has no names
  - Edit Book: When downloading external resources, ensure the 
    generated filenames are valid.
  - Windows: Fix file extension not being added automatically when 
    missing in save dialogs.
  - Fix calibre not opening full-screen in windows tablet mode.
  - Edit Book: Fix check external links tool not detecting changes 
    that have not yet been saved
  - Generate covers: Fix & in the series causing incorrect 
    formatting of series number.
  - Edit Book: Fix a regression in the last release that broke the 
    Arrange into folders tool when arranging into sub-folders of 
    a folder that does not exist.
- remove build support for openSUSE 13.1 in spec

-------------------------------------------------------------------
Fri Nov  4 21:21:10 UTC 2016 - cornelis@solcon.nl

- Update to 2.71.0:
  New Features
  - calibre's tenth birthday edition!
  - A new set of icons for calibre
  - A short video commemorating the occasion: 
    https://youtu.be/Q95NfFKc0v8
  - Book details panel: Add a copy all action to the right click 
    menu.
  Bug Fixes
  - Get Books: Update ebookpoint and woblink store plugins for 
    website changes
  - Edit Book: When un-marking text auto-change the 'search where' 
    location to what it was before text was marked rather than
    'current file'.
  - Automatic adding: Show an error if the user specifies a folder
    whose name starts with a dot or underscore.
  - OS X: Fix a regression that caused incorrect display of the 
    icon in pop-up message boxes when using a Retina display.
  - Kobo driver: Fix an error when migrating very old settings
  - Kobo driver: Fix a regression that broke handling of reading 
    status for devices running old 1.9x versions of the Kobo
    firmware
  - Edit Book: When using the arrange into folders tool do not 
    change the case of already existing folders in the book.

-------------------------------------------------------------------
Fri Oct 28 20:04:22 UTC 2016 - aloisio@gmx.com

- Update to version 2.70.0:
  New Features
  - Edit Book: Add a tool to download external resources 
    (images/stylesheets/etc.) that are not included in the book.
  - Make custom columns available in the Alter Tag Browser->Manage 
    categories sub menu
  Bug Fixes
  - Conversion: Fix incorrect resolution of references to resources
    in HTML files that exist in a folder level above the OPF file. 
    This could lead to styles being incorrectly processed in such
    HTML files.
  - Get Books: Update the amazon store plugins for website changes
  - Update ozon.ru metadata download plugin to fix searching for 
    books by ISBN
  - Edit Book: Fix a regression in the previous release that broke 
    the preferences dialog for changing color schemes.
  - Edit Book: Better error message when user tries to open a Check
    Book item that refers to a file that has been deleted since the 
    last time Check Book was run.

- Dropped Fix-editing-color-schemes.patch,
  Update-amazon-store-plugin.patch and
  Update-db-version-kobo-driver.patch now included upstream

-------------------------------------------------------------------
Mon Oct 17 11:03:45 UTC 2016 - jengelh@inai.de

- Drop manual library require; it is autodetected

-------------------------------------------------------------------
Thu Oct 13 08:16:51 UTC 2016 - cornelis@solcon.nl

- Added Fix-editing-color-schemes.patch to fix dialog for editing
  color-schemes (lp#1629294)
- Added Update-amazon-store-plugin.patch because of Amazon website
  changes
- Added Update-db-version-kobo-driver.patch to make sure calibre is
  working correctly with kobo firmware

-------------------------------------------------------------------
Fri Sep 30 10:52:39 UTC 2016 - cornelis@solcon.nl

- Update to 2.69.0:
  New Features
  - Kobo driver: Support for firmware version 4.1 and Overdrive 
    books on the device
  - Edit Book: Highlight class names inside HTML tags
  - Bulk metadata edit dialog: Allow search & replace to work for
    ratings columns as well.
  Bug Fixes
  - Fix downloading of metadata from ozon.ru, which broke due to 
    website changes
  - Kobo driver: Fix delete of empty collections
  - Kobo driver: Fix book previews being sometimes detected as 
    actual books
  - Cover Browser: Fix setting an empty template for the title 
    causes an error
  - Edit Book: On windows do not trigger shortcuts when using the 
    right Alt (AltGr) key. This allows it to be used for entering 
    special characters instead.
  - Edit Book: Auto-add file extension when using the Save a Copy 
    dialog if it is missing.
  - Linux: Fix calibre not launching when used with some old VNC 
    server implementations
  - Fix some news downloads in east asian languages not working
    because the truncation of article descriptions could cause 
    invalid UTF-16 bytes in the string
  - Fix incorrect timezone when editing custom date columns 
    directly in the book list

-------------------------------------------------------------------
Fri Sep 16 12:49:11 UTC 2016 - cornelis@solcon.nl

- Update to 2.68.0:
  New Features
  - Add a tweak to Preferences->Tweaks to control the list of 
    servers calibre considers public email servers
  Bug Fixes
  - Content server: Fix a regression in the previous release that 
    broke the OPDS feeds for libraries with no custom columns
  - Edit metadata dialog: Fix auto-generation/validation of author
    sort values not working when only changing case of the author
    name.
  - A nicer error message when calibre fails to create the 
    temporary directory.
  - Fix dates being set to empty in bulk search/replace not 
    becoming UNDEFINED
  - Edit metadata dialog: Make pressing up on an undefined numeric 
    field set the value to zero instead of -99999.
  - Conversion: Handle corrupted JPEG files that have valid headers
    but invalid data.
  - Conversion: Improve detection of input documents that use 
    uppercase tag/attribute names.
  - Fix regression in previous release that caused incorrect 
    display of ratings in the side panel of the metadata download 
    dialog
  - Get Books: Update publio and virtualo store plugins for website 
    changes
  - Fix reading metadata from PDF files broken by poppler >= 0.47.0
  - Change the application name set in Qt to calibre from libprs500

-------------------------------------------------------------------
Thu Sep  8 08:41:49 UTC 2016 - cornelis@solcon.nl

- Update to 2.67.0:
  New Features
  - Allow creating custom rating columns that support half-stars 
    via Preferences->Add your own columns
  - Tag Browser: Add an option in Preferences->Look & Feel->Tag 
    Browser to turn off the display of counts in the Tag Browser
  - Tag browser: Show the book counts on the right edge of the Tag
    Browser
  - Cover Browser: Allow any metadata field to be used as the 
    sub-title, not just the rating
  - Edit Book: A new tool to sort the rules in a CSS stylesheet. 
    To use it add it to the toolbar for CSS editors
  - Edit Book: The Remove Unused CSS tool now has an option to also
    merge CSS rules that have identical selectors
  - Add a tweak in Preferences->Tweaks to exclude some images types 
    from being treated a covers when dropped onto the Book Details 
    panel.
  - Allow reading more image formats as covers (All images will be
    converted to JPEG when stored).
  - Content server: OPDS feeds: Change the value of  for entries in
    the acquisition feed to be the last modified date for the book.
    Also make the size and last modified timestamp available as
    attributes in the acquisition links. Useful for integration 
    with third party applications.
  - Kobo driver: Add support for firmware version 4 available on 
    the new Kobo Aura One
  Bug Fixes
  - ODT Input: Add support for continued lists.
  - Edit Book: Fix high-dpi rendering of emblems in the File 
    Browser
  - Fix regression in previous release that caused wide column 
    icons to be scaled incorrectly
  - Metadata download dialog: Fix https links in the download 
    summary not working
  - DOCX Output: Handle nested display:table tags with no rows.
  - PDF Output: Fix OpenType fonts with CFF font data not 
    embeddable on windows

-------------------------------------------------------------------
Fri Sep  2 07:23:22 UTC 2016 - cornelis@solcon.nl

- Update to 2.66.0:
  New Features
  - A simplified calibre logo
  - Edit Book: Allow restricting a search to the files currently 
    open for editing
  - Driver for the PocketBook Touch HD
  - Kobo driver: Add support for firmware version 3.20
  Bug Fixes
  - DOCX Input: Fix right-to-left alignment not working for 
    footnotes.
  - Sending email: Allow setting up a mail relay that uses 
    encryption without a username and password.
  - Linux: Fix calibre not working when the username is non-ASCII.
  - DOCX Output: Ignore invalid text-indent values in the input 
    document instead of erroring out.
  - Portable Installer: Auto-create the installation folder 
    specified on the command line if it does not exist
  - Kobo driver: Fix the ignore collections in option not working
  - More user interface fixes for high DPI screens
  - DOCX Input: Fix a regression in the previous release that could 
    cause invalid values to be output for the text-align CSS 
    property

-------------------------------------------------------------------
Fri Aug 26 18:46:32 UTC 2016 - cornelis@solcon.nl

- Update to 2.65.1:
  * Devices:
    - Driver for Kobo Aura One and Aura Edition 2
    - Kobo driver: Add an option to ignore some collections on the
      device. The specified collections will not be touched by the
      driver.
  * For details see http://calibre-ebook.com/whats-new
-------------------------------------------------------------------
Sat Aug 26 09:43:08 UTC 2016 - ecsos@opensuse.org

- update to 2.65.0
  New Features
  - Driver for Kobo Aura One and Aura Edition 2
  - Kobo driver: Add an option to ignore some collections on the 
    device. The specified collections will not be touched by the 
    driver.
  - Add an option in Preferences->Searching to make searching 
    case-sensitive
  - DOCX Input: Add support for right-to-left text/tables
  Bug Fixes
  - Fix some icons/images in the user interface looking blurred in 
    environments with High DPI scaling enabled, such as OS X retina 
    screens
  - DOCX Input: Fix images that have the # character in their 
    filenames not being converted correctly.
  - ToC wizard: Fix generating toc from headings/xpath yielding 
    unexpected results when tags are present out of sequence
  - Edit Book: Fix drag and drop of text replacing non-breaking 
    spaces with normal spaces
  - E-book viewer: Fix duplicate names in hyphenation dictionary
    chooser.
  - Fix a regression in the previous release that caused the 
    completion popups for some custom column types in the book list
    to stop working

-------------------------------------------------------------------
Thu Aug 25 08:55:03 UTC 2016 - cornelis@solcon.nl

- Remove calibre-appdata-add-name-summary.patch (upstreamed)

-------------------------------------------------------------------
Thu Aug 25 08:28:00 UTC 2016 - cornelis@solcon.nl

- Update to 2.64.0:
  New Features
  - Custom columns: Add a new 'Short text' column type that behaves 
    like the builtin title column
  - Edit book: Function mode: Allow appending text to the end of 
    the marked text when running function mode search/replace on 
    marked text
  - PDF Output: Add a new variable _TOP_LEVEL_SECTION_ for use in 
    header/footer templates that resolves to the current top-most 
    section in the Table of Contents
  - Linux/OSX: Shutdown gracefully on receiving the interrupt or 
    terminate Unix signals
  Bug Fixes
  - PDF Output: Fix a regression that caused the last page of a 
    chapter to sometimes be dropped from the output
  - Do not show an error if the user tries to quit calibre while 
    editing a cell in the book list. Instead, just silently abort 
    the edit.
  - E-book viewer: Fix 0px margins and percentage margins not being 
    respected when the option to override book margins is turned 
    off.
  - Book Details: Do not show the 'Copy link' context menu item 
    unless there is an actual link at the cursor location.
  - Get Books: Update store plugin for nexto

-------------------------------------------------------------------
Wed Aug 24 07:48:25 UTC 2016 - tchvatal@suse.com

- Remove 2nd part of the update disabling as it breaks with new code
  now user can click and get the notification, but still it won't
  be at least done automatically bnc#993644
  * calibre-no-update.diff

-------------------------------------------------------------------
Tue Jul 26 10:14:51 UTC 2016 - cornelis@solcon.nl

- Update to 2.63.0:
  New Features
  - News download: Allow controlling which periodicals are 
    automatically sent to a specific email in Preferences->Sharing 
    by email
  - Edit Book: Update regex engine to support Unicode 9.0
  Bug Fixes
  - Edit metadata dialog: Fix pasting ISBN from clipboard not 
    stripping garbage characters after a valid ISBN.
  - Edit Book: Also refresh the Preview and Live CSS panels after 
    performing any action that changes files other than the 
    currently displayed file.
  - E-book viewer: Fix the show metadata button not reading EPUB 3
    metadata
  - MOBI Output: Fix not being rendered as full-width in old MOBI 
    files
  - CSV Catalog output: Fix incorrect formatting of is_multiple 
    custom columns.
  - CSV Catalog Output: Separate multiple authors with & instead of 
    comma. Fixes problems when the author name contains commas.
  - EPUB 3 metadata: Fix updating metadata in EPUB 3 files not 
    overwriting existing authors.
  - Fix duplicate detection when adding books not working when the
    book title has leading or trailing whitespace
  - Book details panel: Pick the color used for links from the 
    current system color theme
  - Windows: Fix file selection dialogs blurry on HiDPI monitors

-------------------------------------------------------------------
Mon Jul 25 17:40:57 UTC 2016 - badshah400@gmail.com

- Fix calibre-appdata-add-name-summary.patch so that description
  paragraphs do not show up elsewhere (boo#990425).

-------------------------------------------------------------------
Fri Jul 15 20:02:55 UTC 2016 - badshah400@gmail.com

- Make calibre show up in Software Centres:
  + Appdata file references calibre-gui.desktop; besides
    .appdata.xml filename should necessarily match that of
    .desktop file for the app to show up in Software Centres.
    Rename .desktop file to achieve this.
  + Remove all appdata.xml files but the main one, we do not
    install the corresponding .desktop files, so these are vetoed
    by appstream-builder anyway.
  + Own appdata dir (/use/share/appdata) to prevent build failures
    on openSUSE <= 13.2.
- Add calibre-appdata-add-name-summary.patch to add summary and
  name fields to the appdata, calibre does not show up in software
  centres otherwise.

-------------------------------------------------------------------
Fri Jul  8 08:26:32 UTC 2016 - cornelis@solcon.nl

- Update to 2.62.0:
  New Features
  - EPUB metadata: Support for reading and writing EPUB 3 specific 
    metadata. Now when processing EPUB 3 files, calibre will 
    generate/use EPUB 3 specific metadata constructs when 
    available, for example for series.
  - Recognize the newest Kindle model, that started shipping today.
  Bug Fixes
  - Tag Mapper: Allow specifying a space as the split character 
    when creating a split tags rule
  - Tag mapper: Fix upper case characters not working in 'contains' 
    rules
  - Smarten punctuation: Fix double dashes and triple dots being 
    smartened even inside attribute values.
  - HTML Input: Sanitize semi-colons from HTML filenames as they 
    can cause problems with other EPUB consuming software.
  - EPUB Input: Speed up reading of the book spine from the OPF 
    file for books with a very large number of entries in the spine
  - Edit Book: Reports: Characters: Fix sorting by count and name 
    not working.
  - Fix KoboTouch configuration migration not working for older 
    settings

-------------------------------------------------------------------
Sun Jul  3 11:28:25 UTC 2016 - cornelis@solcon.nl

- Update to 2.61.0:
  New Features
  - Driver for FNAC (re-branded Bq) with new firmware.
  - Edit Book: Check Book: Add an auto fix action to remove all 
    links to a missing resource (such as a deleted stylesheet) 
    automatically.
  Bug Fixes
  - Edit Book: Check Book: Fix incorrect handling of font family 
    names with spaces in them that are not quoted.
  - E-book viewer: Fix Qt 5.7 breaking mouse wheel scrolling
  - Kobo driver: Fix a regression in the last release that broke
    connecting to older devices
  - Get Books: Fix detection of book formats broken for the Legimi 
    plugin by a website change
  - Update builtin metadata source ozon.ru to handle website 
    changes
  - Font subsetting: Fix incorrect handling of fonts whose names 
    are included in font rules without quotes
  - Fix ebook-viewer broken when running the binary calibre release 
    on systems with very old versions of glibc

-------------------------------------------------------------------
Fri Jun 24 08:17:15 UTC 2016 - cornelis@solcon.nl

- Update to 2.60.0:
  New Features
  - Edit metadata: In the drop down list for languages, show the 
    five most recently used languages first.
  - Edit Book: Check Book: Add a check for missing navigation 
    documents in EPUB 3 books
  - Kobo driver: Improved configuration dialog for the Kobo Touch 
    device driver
  - Copy to Library: Do not abort the copy process if only some 
    books fail to copy, instead report which books failed and copy
    the rest.
  - News download: Make all relative links (those starting with /) 
    absolute. Useful when reading on a device that supports web
    browsing.
  - EPUB metadata: Add an option to disable adding of cover images 
    to EPUB files that declare no cover image in their metadata 
    (Preferences->Plugins->Customize the Set EPUB metadata plugin)
  Bug Fixes
  - ToC Editor: Fix ToC detection in EPUB 3 files with only an NCX
    and no nav not working
  - E-book viewer: In paged mode, when the window is toggled 
    between full screen and window, repeatedly, preserve the 
    position more accurately.
  - E-book viewer: Fix incorrect page turning when multiple pages 
    are displayed on screen for books that wrap all their content 
    in a single 100% height tag.
  - Fix a regression that broke scheduling a new news download in
    timezones west of GMT
  - Edit Book: Fix undocked windows not resizable on OS X
  - Fix a regression in 2.57 that broke rescaling of images to fit
    the output profile screen size during conversion.
  - Fix for file dialogs not working on windows when non-ascii 
    environment variables are present
  - HTML Input: Fix error when converting HTML file with URL
    encoded filename.

-------------------------------------------------------------------
Wed Jun 22 14:03:41 UTC 2016 - cornelis@solcon.nl

- Update to 2.59.0:
  New Features
  - Amazon metadata download: Download the series information when
    available from amazon.com
  - Amazon metadata download: Recognize common patterns of 
    embedding the series name after the title and remove it 
    automatically
  - Edit Book: Add support for EPUB 3 to the Table of Contents 
    tool. Now when editing EPUB 3 files using the tool will 
    automatically generate both the EPUB 3 navigation document and 
    the NCX table of contents for backwards compatibility.
  - EPUB Input: Implement reading of Table of Contents from EPUB 
    3 files that do not specify a fallback NCX ToC
  - EPUB metadata: When setting a cover image for an EPUB file that
    has no metadata cover image defined, add the new cover image as
    a pure metadata cover instead of aborting.
  Bug Fixes
  - Fix crash on exit if any plugins have loaded code that raises
    exceptions during shutdown.
  - Copy to library: Speed up checking for duplicates when copying
    multiple books to a large library.
  - Get Books: Update Smashwords plugin for website changes.
  - Edit Book: Fix a bug in the new text search facility that could
    cause searches to fail when searching from the current cursor
    position instead of the top of the file.
  - Bulk conversion dialog: Fix page margin settings being ignored 
    when converting to DOCX
  - Make the default shortcut for remove books Backspace on OS X 
    since many mac keyboards have no delete key and the backspace 
    key is labelled as delete
  - Edit Book: Check Book: Do not warn if a cover image is not 
    referenced in the text
  - E-book viewer: Fix a bug that could cause incorrect rendering 
    of chapter titles in some rare circumstances.
  - Windows console output: Handle consoles with non black and 
    white color scheme correctly
  - Fix a regression in 2.57 that caused auto-removal of borders 
    from covers to become much less proficient at detecting borders
  - Fix a regression in 2.57 that broke grayscaling of images

-------------------------------------------------------------------
Fri Jun  3 09:38:08 UTC 2016 - cornelis@solcon.nl

- Update to 2.58.0:
  New Features
  - Edit Book: A text search tool to conveniently search for text 
    even if it crosses multiple HTML tags (Search->Search ignoring 
    HTML markup)
  - OSX: Allow drag and drop of file onto viewer dock icon to view 
    file
  Bug Fixes
  - Workaround for incompatibility between Qt 5.5+ and Ubuntu that
    caused the context menu for the book list to flicker.
  - Windows: Workaround for explorer shell extensions on windows
    that write to stdout
  - Edit Book: When jumping to next occurrence of a word, 
    take language into account
  - Edit Book: Fix import of words into user dictionary not working
  - Fix use of non-ascii characters in identifiers causing an error
    when identifier rules are used.
  - Fix a regression that caused the paste from clipboard button 
    to paste two times in the Add books from ISBN dialog
  - Fix for incompatibility with PyQt 5.6

-------------------------------------------------------------------
Thu Jun  2 11:10:44 UTC 2016 - cornelis@solcon.nl

- Replace Build and BuildRequires python-imaging with python-Pillow,
  which has long replaced python-imaging.

-------------------------------------------------------------------
Tue May 24 12:59:30 UTC 2016 - cornelis@solcon.nl

- Dropped calibre-2.57.1-pillow.patch (came originally from fedora
  to fix issues with python-pillow, but has been dropped since then)
- Removed Suggests: python-pillow

-------------------------------------------------------------------
Sun May 22 21:21:17 UTC 2016 - cornelis@solcon.nl

- Update to 2.57.1:
  Bug Fixes
  - Version 2.57.1 is a hotfix to fix a regression that broke 
    conversion of ODT files in 2.57.0

- Update calibre-0.9.38-pillow.patch to calibre-2.57.1-pillow.patch
- Remove ImageMagick from Requires, because calibre no longer
  depends on it (but keep it as BuildRequires because "convert" is
  used in the spec file). 

-------------------------------------------------------------------
Fri May 20 14:57:52 UTC 2016 - ecsos@opensuse.org

- update to 2.57.0
  New Features
  - Driver for the Bq Cervantes 3
  - A new "Ornamental" cover design for the "Generate cover" 
    feature
  - Windows: Use a helper process that does not load any calibre 
    DLLs to display file open/save dialogs. This should fix most
    crashes caused by poorly designed windows shell extensions.
  - Allow pressing Alt+O as a shortcut for click the OK button in 
    the Add from ISBN dialog.
  - Remove the calibre dependency on ImageMagick -- reduces calibre
    install size by ~ 15MB
  - Edit book: Add a new image filter: Normalize -- to improve the 
    contrast in images
  - Edit book: Add a filter to make images look like oil paintings
  - Use 'Not rated' for zero stars in all rating spin boxes
  Bug Fixes
  - Edit Book: Fix a crash in the Insert Link tool if one of the 
    HTML files contains an empty id.
  - Fix tag like custom columns not sorted when displayed in the 
    Book Details panel.
  - Fix transient window shown during Edit Book startup
  - Preserve booklist horizontal scroll position when merging 
    books.
  - Google Images metadata download plugin: Fix error when 
    searching for books with non-English characters in the title or 
    author names.
  - Template language: Fix an error formatting dates when the 
    underlying date does not have a day.
  - Preferences->Keyboard: Fix unable to use Alt+A and Alt+S as
    custom shortcuts.

-------------------------------------------------------------------
Fri Apr 29 09:42:18 UTC 2016 - cornelis@solcon.nl

- Update to 2.56.0:
  New Features
  - Edit Book: Add an option to show full file paths in the Files
    Browser instead of just the file name 
    (in Preferences->Main window)
  - Allow creating a keyboard shortcut to minimize the calibre 
    window (Preferences->Keyboard->Miscellaneous).
  Bug Fixes
  - Fix the Google Images based cover download plugin not working
    because of changes to Google's image search service
  - E-book viewer: Prevent the TAB key from causing partial 
    scrolling in paged mode.
  - Book details panel: Fix regression in previous release that 
    broke url:http|... style identifiers
  - OS X: Redirect stdout/stderr to /dev/null instead of ASL since 
    ASL is flaky on some OS X machines. This should prevent errors 
    in third party plugins that print a lot of debug messages even 
    when not in debug mode
  - Fix for OS X upgrade 10.11.4 breaking detection of Kobo devices
    on some systems
  - Edit Book: Fix filename being duplicated in the Files Browser 
    when multiple files with the same name are present.
  - PDF Output: Make fix for blank page at end of HTML file also 
    work when headers/footers are specified

-------------------------------------------------------------------
Fri Apr 15 21:10:59 UTC 2016 - cornelis@solcon.nl

- Update to 2.55.0:
  New Features
  - Allow creation of rules to convert arbitrary identifiers into 
    clickable links in the book details panel 
    (Prefrences->Look & Feel->Book details)
  - Tag mapper: A new rule type 'split' allows you to easily split 
    tags on a character
  - Make the shutting down message an overlay so it is less 
    disruptive
  - Allow right clicking on Virtual Library tabs to edit/delete 
    the virtual library.
  - Tag mapper: Add a button to edit the list of tags in a tag
    mapper rule using the tag editor dialog.
  Bug Fixes
  - Conversion: Fix the obsolete HTML align=center markup (produced 
    by Microsoft Word) not working for tables.
  - Font subsetting: When font-variant: small-caps is used include 
    the capital letters as well, in case either the font or the 
    renderer do not support OpenType smcp.
  - Font subsetting: Implement support for text-transform.
  - Fix the target book entry in the book list not being refreshed 
    after merging books. Only matters if you have a column based on 
    book formats.
  - E-book viewer: Fix a link that has some text along with a 
    superscript/subscript being incorrectly detected as a footnote 
    link
  - Fix device detection on windows failing if the registry entries 
    for the device contain a very long item.
  - Edit Book: Fix an extra colon being added when setting the 
    'notes' semantic
  - Ensure that author folder names are never windows reserved 
    names
  - E-book viewer: When displaying an EPUB 3 document that uses 
    epub:switch to provide a fallback for MathML content, prevent 
    both the MathML and fallback from being shown together.
  - PDF Output: When displaying an EPUB 3 document that uses 
    epub:switch to provide a fallback for MathML content, prevent 
    both the MathML and fallback from being rendered together.
  - Fix exception in custom column preferences when the column
    lookup key is changed
  - Catalog generation: Do not crash is a book in the library has 
    no uuid.

-------------------------------------------------------------------
Fri Apr  1 17:32:44 UTC 2016 - ecsos@opensuse.org

- update to 2.54.0
  New Features
  - Edit metadata in bulk dialog: Allow configuring the types of 
    generated covers.
  - E-book viewer: Make the detection of note boundaries for popup 
    footnotes a little more robust
  - E-book viewer: Add options to control the amount the mouse 
    wheel and arrow keys scroll by in flow mode
  - When running the content server do not hide the main calibre 
    window during shutdown until the content server has stopped. 
    Show a shutting down message in the window so that the user 
    knows what is happening.
  - Edit Book: Check Book: Add a check for empty links
  - DOCX Input: When the document has a Table of Contents created
    using the Word Table of Contents tool, keep a reference to it 
    in the metadata. This is useful when converting to old style 
    MOBI and you want to precisely control placement of the ToC.
  Bug Fixes
  - Fix auto-mounting of some types of devices not working on 
    FreeBSD
  - calibredb add: Fix the --cover option not working if the book 
    being added has its own cover.
  - E-book viewer: Fix mathematics being typeset at too small a 
    font size on windows
  - PDF Output: Fix occasional blank pages erroneously inserted 
    in the text (at the end of an internal html file).
  - Book details panel: Fix url:file:// identifiers not becoming
    links
  - Fix fetch news dialog not rendering properly on HiDPI screens
  - Fix a hard to trigger crash introduced in the previous release 
    when using the conversion dialog

-------------------------------------------------------------------
Fri Mar 11 14:47:42 UTC 2016 - cornelis@solcon.nl

- Update to 2.53.0:
  New Features
  - Edit Book: A new tool to transform book styling using easy to 
    create rules.
  - Conversion: Allow creating rules to transform styles during
    conversion, as above. Available in the conversion dialog at 
    'Look & Feel->Transform style'
  - Edit metadata dialog: Make the hide toolbars right click menu 
    action persistent. Also fix very large number of custom fields 
    causing the basic metadata tab to not be aligned properly
  - Portable Installer: Do not ask to launch calibre when running 
    an automated install. Automated installs will now never launch 
    calibre.
  Bug Fixes
  - E-book viewer: Hide list numbers for popup footnotes when the 
    footnotes are use as the number are likely to be incorrect.
  - DOCX Input: Ignore the hidden bookmark Word 2010 inserts to 
    enable the go to last edit feature.
  - Fix keyboard focus lost after merging book records
  - E-book viewer: Handle  
  - Edit Book: Fix spelling correction suggestions not being shown 
    when using the context menu key with the cursor at the end of 
    the word

-------------------------------------------------------------------
Tue Mar  8 17:54:43 UTC 2016 - bwiedemann@suse.com

- Add reproducible.patch and drop png timestamps to fix build compare

-------------------------------------------------------------------
Fri Feb 26 15:34:03 UTC 2016 - cornelis@solcon.nl

- Update to 2.52.0:
  New Features
  - Allow creating rules to ignore files when adding books based 
    on the filename
  - calibredb add: Allow specifying filters to control adding of 
    books from directories
  - E-book viewer: Allow copying the Table of Contents to the 
    clipboard by right clicking on it.
  Bug Fixes
  - FB2 metadata: Ignore invalid (unidentifiable) cover images.
  - FB2 metadata: Fix error when adding books with non-numeric 
    series numbers.
  - DOCX Input: Fix handling of toggle properties such as 
    bold/italic/strikethrough/etc. when specified as document 
    defaults.
  - Conversion pipeline: Add support for the q CSS length unit

-------------------------------------------------------------------
Fri Feb 12 10:38:55 UTC 2016 - cornelis@solcon.nl

- Update to 2.51.0:
  New Features
  - Add an action to the context menu for the search bar to paste 
    and instantly execute the search.
  - When adding multiple books from a single directory, added the 
    books in order of the last modified time of the book files.
  Bug Fixes
  - Fix a regression in 2.50 that prevented a small number of 
    devices from being detected on windows
  - PDF metadata: Workaround for PDF files with corrupted XMP 
    metadata packets, generated by Nitro PDF.
  - Edit Book Beautify: Do not beautify the insides of heading/p 
    tags even when they are the only child of body
  - Amazon metadata download: Fix published date not being 
    downloaded from amazon.it
  - Fix a regression in 2.50 that broke the user created device 
    driver feature on windows
  - EPUB Input: Fix error when processing EPUB files that uses 
    non-ascii characters for their unique ids.
  - When reading the cover from comic files, ignore any image files
    inside __MACOSX/ directories.
  - Fix calibre on OS X unable to connect to sites that support 
    only TLS >= 1.1. Also update the version of Qt bundled on 
    OS X to 5.5.1

-------------------------------------------------------------------
Fri Jan 29 20:05:08 UTC 2016 - ecsos@opensuse.org

- update to 2.50.1
  New Features
  - Change the way that devices are detected on Windows. This fixes 
    device detection problems on some Windows 10 computers
  - Edit Book: When inserting images, add an option to insert the 
    image as a full page image
  - DOCX Input: Add support for framed text created by setting the
    same border style on neighboring paragraphs.
  - Update PocketBook 650 driver for latest firmware revision
  Bug Fixes
  - DOCX Input: Fix empty paragraphs with borders being rendered 
    with an empty line inside the borders
  - ODT Input: Fix fallback PNG images generated by 
    LibreOffice 4.x for SVG images not being ignored
  - Fix restore library failing on some windows systems with 
    non-ascii library paths
  - Edit Book: Fix error when merging an empty HTML document or one 
    that contains only text and no tags.
  - Fix failure to add FB2 files that contain published dates.
  - Use a private certificate when downloading plugins via HTTPS. 
    This fixes errors on some windows machines that have missing 
    root certificates.
  - Fix tag editor not working correctly for comma-separated custom 
    columns
  - Fix existing rating not being removed when using Polish Books 
    or Embed Metadata tools on EPUB files.

-------------------------------------------------------------------
Fri Jan 29 16:55:34 UTC 2016 - cornelis@solcon.nl

- Update to 2.50.0:
  New Features
  * Change the way that devices are detected on Windows. This fixes
    device detection problems on some Windows 10 computers.
  * Edit Book: When inserting images, add an option to insert the
    image as a full page image.
  * DOCX Input: Add support for framed text created by setting the
    same border style on neighboring paragraphs (lp#1526663).
  * Update PocketBook 650 driver for latest firmware revision
    (lp#1535801).
  Bug Fixes
  * DOCX Input: Fix empty paragraphs with borders being rendered
    with an empty line inside the borders.
  * ODT Input: Fix fallback PNG images generated by LibreOffice 4.x
    for SVG images not being ignored.
  * Fix restore library failing on some windows systems with non-
    ascii library paths.
  * Edit Book: Fix error when merging an empty HTML document or one
    that contains only text and no tags (lp#1535427).
  * Fix failure to add FB2 files that contain published dates
    (lp#1535007).
  * Use a private certificate when downloading plugins via HTTPS.
    This fixes errors on some windows machines that have missing
    root certificates.
  * Fix tag editor not working correctly for comma-separated custom
    columns.
  * Fix existing rating not being removed when using Polish Books
    or Embed Metadata tools on EPUB files (lp#1534597).
  Improved news sources
  * New Scientist
  * FAZ.net
  * Scientific American
  * Business World Magazine
  * Houston Chronicle

-------------------------------------------------------------------
Fri Jan 15 08:51:43 UTC 2016 - cornelis@solcon.nl

- Update to 2.49.0:
  * A new tool to easily export and import all calibre data --
    books, settings and plugins.
  * Get Books: Add plugins for Amazon Australia and Amazon India.
    Also restore the Amazon EU plugins (lp#1526089).
  * PDF Input: Fix conversion of PDF documents that contain ASCII
    control codes in their outlines not working (lp#1527697).
  * Driver for Energy Ereader Screenlight (lp#1529108).
  * E-book viewer: Add an option to allow only a single book to be
    viewed at a time. Trying to view a second book will cause it to
    replace the currently viewed book (lp#1526504).
  * Kobo driver: Add support for the new firmware 3.19.5761.
  * Get Books: Update plugins for various Polish language book stores
    to handle changes to the website.
  * Amazon metadata download: Handle a change in the amazon website
    that prevented review metadata from being downloaded.
  * Download calibre plugins securely using HTTPS.
  * MOBI Output: Try to autofix corrupted PNG images in the input
    document (lp#1531738).
  * Nook Glowlight Plus: Send files by default to the NOOK/My Files
    folder (lp#1531394).
  * E-book viewer: Fix failure to view comic files that contain
    non-ASCII characters int heir internal filenames (lp#1530517).
  * And more, for details see http://calibre-ebook.com/whats-new

-------------------------------------------------------------------
Fri Jan  1 16:04:03 UTC 2016 - ecsos@opensuse.org

- update to 2.48.0
  New Features
  - Driver for Energy Ereader Screenlight.
  - DOCX Input: Add option to have superscripts/subscripts 
    converted so that they do not affect the line height of the 
    line containing them.
  - New option to hide empty categories in Tag Browser 
    (Preferences->Look & Feel->Tag Browser)
  Bug Fixes
  - Image compression: Fix spurious zero byte .bak files being 
    created when compressing png images    inside epub files
  - Image compression: Fix bug that could cause zero byte images
    files/or file in use errors when compressing images
  - Fix some icons not being themeable
  - E-book viewer: When using heuristics to detect footnote links 
    check for vertical-align set to top and bottom as well as sub 
    and super
  - Book details panel: Display data in right-to-left format when
    the calibre interface language is set to a right-to-left 
    language such as Hebrew or Arabic

-------------------------------------------------------------------
Mon Dec 21 06:28:22 UTC 2015 - ecsos@opensuse.org

- update to 2.47.0
  New Features
  - A new tool to easily export and import all calibre data -- 
    books, settings and plugins
  - Get Books: Add plugins for Amazon Australia and Amazon India. 
    Also restore the Amazon EU plugins.
  Bug Fixes
  - PDF Input: Fix conversion of PDF documents that contain ASCII 
    control codes in their outlines not working.
  - Edit book: Fix image compression utilities opening a new 
    console per invocation on windows
  - Image compression: If the compression tools return a zero byte
    image ignore it and use the original image
  - Fix a regression that caused book titles in the Book Details 
    panel to become clickable

-------------------------------------------------------------------
Wed Dec 16 14:39:33 UTC 2015 - cornelis@solcon.nl

- Require python-Pygments only for factory: the version in Leap is
  not high enough.

-------------------------------------------------------------------
Mon Dec 14 15:43:18 UTC 2015 - cornelis@solcon.nl

- Updated BuildRequires and Requires to the latest requirements
  (this should prevent bugs like #boo935943).

-------------------------------------------------------------------
Sun Dec 13 13:13:03 UTC 2015 - cornelis@solcon.nl

- Update to 2.46.0:
  New Features
  - PDF Input: Add support for PDF outlines (bookmarks), 
    if present, they are used as the metadata Table of Contents.
  - Book polishing: Add tool to losslessly compress images in the 
    book in order to reduce its filesize, without affecting image 
    quality
  - Edit Book: Add a new tool to compress images in the book 
    losslessly, accessed from the Tools menu
  - Kobo driver: add support for new Kobo firmware
  - Bulk metadata edit dialog: Allow entering fractional numbers 
    into the series number start with control.
  - Speed up moving libraries by using hardlinks instead of file 
    copies when moving to a location on the same filesystem
  - Get Books: Disable the Amazon EU stores, at Amazon's request
  Bug Fixes
  - Fix moving libraries via calibre leaving behind a copy of the 
    metadata_db_prefs_backup.json file in the original library 
    folder
  - MOBI Input: Warn about corrupted trailing data entries, instead 
    of aborting. Getting some, even partially corrupted text is 
    better than no text.
  - Book details: Fix single value custom text column not 
    clickable.
  - Saving to disk: Fix custom date column being rendered in GMT 
    instead of the local time zone when used in a save to disk 
    template.

-------------------------------------------------------------------
Sat Nov 28 00:02:09 UTC 2015 - cornelis@solcon.nl

- Update to 2.45.0:
  New Features
  - Cover browser: Allow customizing the text that appears under 
    the covers with a template in Preferences->Look & Feel->
    Cover browser
  - When sending books without a cover to the device, generate a 
    cover with book metadata instead of using the blank book icon
  - Preferenes->Add your own columns: Show more information about 
    existing columns
  Bug Fixes
  - PDF Output: Handle input documents with fonts that do not have
    either postscript or full name information.
  - DOCX Input: Handle numbering styles that use non-decimal number
    formats and custom templates.
  - Allow restoring of corrupted library to work even if the 
    metadata.db file is missing from the library folder
  - Bulk metadata dialog: Fix renaming a custom series via search 
    and replace causing the series index to be reset to 1.
  - Bulk metadata dialog: Fix search and replace not working for 
    text like custom columns if the column contains only a single 
    value.
  - Content server: Fix next and previous links not working in the 
    mobile view when using a search query that includes url unsafe
    characters.
  - Update Amazon metadata download plugin to handle amazon.com
    website change that was preventing any metadata from being 
    downloaded
  - Edit Book: Fix error when trying to add words to user 
    dictionary for a book with a language that has no dictionary 
    available.
  - Tag browser: Fix various bugs in how grouped search terms are 
    displayed. Also fix counts and average rating for items in user 
    categories
  - When using copy to library also create missing composite 
    columns in the destination library.

-------------------------------------------------------------------
Sun Nov 15 08:04:31 UTC 2015 - ecsos@opensuse.org

- update to 2.44.1
  Bug Fixes
  - Update the version of libpng bundled with calibre to fix a 
    security vulnerability in libpng

-------------------------------------------------------------------
Fri Nov 13 08:31:45 UTC 2015 - ecsos@opensuse.org

- update to 2.44.0
  New Features
  - Allow setting the cover for a book from one of the book's 
    formats by right clicking on the format in the Book details 
    panel.
  - Allow drag and drop of all file types onto the book details 
    panel and the format list in the edit metadata dialog.
  - Edit Book: When inserting an image into the current document, 
    add a button to paste the image from the clipboard
  - Edit Book: Change the suggested prefix for bulk renaming of 
    files depending on the type of files being renamed.
  - On Linux, use the system tray icon from the system theme, if 
    available
  Bug Fixes
  - Fix for error when connecting to some Android phones/tablets 
    that have an SD card on OS X and Linux
  - Linux build: Fix problem with pointing hand mouse cursor not 
    using the system theme on some Linux systems
  - Fix the device view state not being saved when a connected 
    device is ejected/disconnected
  - Edit Book: Fix saving fails if the original file is deleted 
    during editing session
  - E-book viewer: When doing a search do not match text in 
    comments, attributes and inappropriate tags, such as

-------------------------------------------------------------------
Sat Nov  7 12:31:51 UTC 2015 - cornelis@solcon.nl

- Update to 2.43.0:
  New Features
  - Edit Book: Add a 'Smart Comment' tool to easily 
    comment/uncomment text
  - Tag mapper: Add new rule types to upper-case, lower-case or 
    capitalize tags
  - Markdown input: Allow the 'extra' convenience extension as a 
    shortcut for enabling multiple other extensions. Also add the 
    Attribute List and Admonition extensions. Finally, update the 
    markdown library used by calibre
  Bug Fixes
  - Amazon metadata download: Fix for website change at amazon.com 
    that prevented ratings from being downloaded.
  - Tag mapper: Prevent cycles in the replacement rules from 
    causing the tag mapper to hang
  - Do not fail on windows systems where the system function to get 
    the users home folder fails
  - E-book viewer: Set the foreground color as well as the 
    background color for the reference mode popup. Makes it legible 
    even when the user specifies a different color theme for the 
    viewer.

-------------------------------------------------------------------
Fri Oct 30 18:22:53 UTC 2015 - ecsos@opensuse.org

- update to 2.42.0
  New Features
  - Driver for the new NookGlowlight Plus. This device only allows 
    sending of files inside the NOOK folder, so calibre now follows 
    that limitation.
  - When converting AZW4 files to PDF, skip the conversion and
    simply unwrap the PDF file already embedded inside the AZW4 
    file.
  - Metadata download review dialog: Add an option to mark rejected 
    books in the main book list after the review is completed.
  - Edit Book: Spell check dialog: Add a button to undo the last 
    spelling change
  Bug Fixes
  - Edit metadata dialog: When downloading metadata with download 
    of authors turned off, do not regenerate the author sort field 
    after the download.
  - Fix a regression that broke the heuristic used to detect cover
    images in some EPUB files that do not specify their cover 
    metadata.
  - Edit Book File List: Fix pre-selection of filename when 
    renaming a file in the root
  - Tag mapper: Fix bug when replacement tag has comma in it and
    the replacement rule is not the last rule

-------------------------------------------------------------------
Fri Oct 16 08:03:19 UTC 2015 - cornelis@solcon.nl

- Update to 2.41.0:
  New Features
  - Edit Book: Allow editing an unzipped EPUB (a folder) as a book
  - Edit Book: Allow easily removing items from the popup menu for 
    the 'Insert tag' button
  - Make Tag Browser more useable with keyboard shortcuts. 
    Configure the keyboard shortcuts in Preferences->Keyboard->Tag 
    Browser
  - ToC editor: Add context menu item to change selected entries 
    to upper case
  Bug Fixes
  - Edit Book: Preview panel: Render in XHTML mode. Fixes svg
    elements using a global svg namespace not rendering.
  - Tag Browser: Fix clicking on first-letter groups for series not 
    working
  - DOCX Output: Ignore corrupted images in the input instead of 
    erroring out on them.
  - E-book viewer: Fix keyboard shortcut to toggle table of 
    contents not working when ToC window is made floating.
  - Allow ebook-metadata to work with read-only files when no 
    options are specified to change metadata.
  - Tag mapper: When the replacement tag contains commas, create 
    multiple tags instead of replacing the comma with a semi-colon.
  - HTMLZ Output: Set the HTML

-------------------------------------------------------------------
Fri Oct  2 21:10:43 UTC 2015 - cornelis@solcon.nl

- Update to 2.40.0:
  New Features
  - A new tool to apply Tag mapper rules to existing books in the 
    library. To use it, go to Preferences->Toolbars and add the tool 
    to the toolbar.
  - Kindle driver: Detect books in Amazon's new KFX format present
    on e-ink kindles.
  Bug Fixes
  - TXT Output: Do not fail when input contains HTML comments with 
    double hyphens in the comment text.
  - E-book polishing: Show a confirmation if the user selects both 
    the add and remove jacket actions.
  - Edit Book: Fix order of checkboxes in filter style information 
    tool is random
  - PDB Input: Ingore malformed metadata records.
  - Revert change in previous release to workaround broken xdg-open 
    on linux. Apparently xdg-open is so badly broken that working 
    around it is not possible.
  - ZIP Output: Fix system encoding being used instead of UTF-8 for 
    html files.

-------------------------------------------------------------------
Wed Sep 30 08:47:44 UTC 2015 - cornelis@solcon.nl

- Update to 2.39.0:
  New Features
  - Implement tag mapping to automatically filter/transform tags 
    when adding books or downloading metadata
  - Kobo driver: Support for newly firmware version 3.18
  - Edit Book: Add a setting to control icon size for the toolbars 
    (Preferences->Toolbars)
  Bug Fixes
  - Edit Book: Check Book: Fix automatic correction of missing 
    unique id sometimes not working
  - Edit Book: Fix (hopefully) View->Browse images in books 
    sometimes not showing changed images
  - CBZ metadata: Do not fail to read metadata if the volume is not 
    a valid number.
  - Content server: Fix error in /mobile page if one of the books 
    has metadata with ascii control codes in it.
  - Linux: Workaround for systems with broken xdg-open 
    implementations that do not unquote urls before passing them 
    to applications
  - Get Books: Update cdp.pl store for website changes
  - HTMLZ Output: Fix HTML files being created with system encoding 
    instead of UTF-8.

-------------------------------------------------------------------
Fri Sep 11 18:43:59 UTC 2015 - cornelis@solcon.nl

- Update to 2.38.0:
  New Features
  - Add support for Kobo Touch 2
  - Edit Book: Add a tool to check external links (links pointing 
    to websites). Can be accessed via Tools->Check external links
  - Edit Book: Add an option to turn off drag and drop editing of 
    text (Preferences->Editor)
  - Two new icon themes: Primo+ and Black Edition 
    (Preferences->Look & Feel->Change icon theme)
  Bug Fixes
  - Copy to Library: Fix author sort/link values not being copied 
    when copying a book with an author not present in the
    destination library.
  - When inserting metadata jackets do not set media for the 
    stylesheet. This prevented the stylesheet from working with 
    some reader devices.
  - Copy to library: Fix conversion options not being copied when 
    copying books between libraries

-------------------------------------------------------------------
Tue Sep  8 13:53:55 UTC 2015 - cornelis@solcon.nl

- Update to 2.37.1:
  New Features
  - Driver for the Lark Freebook reader device
  - A redesigned busy spinner -- why should icons get all the love?
  - When merging book records, show more information about the 
    target book record. Closes tickets: 1490343
  - A new icon theme 'Dark Blue' (Preferences->Look & Feel->Change 
    icon theme)
  - Add a check box to control copying ebook files when duplicating 
    book records via the Add Empty Book dialog
  Bug Fixes
  - Edit Book: Check Book: Fix automatic fixing of unsafe ids not 
    working if the file containing the unsafe also needs to be 
    fixed for an unsafe filename. Closes tickets: 1491728
  - E-book viewer: Informative error message for themes button when 
    no themes have been created
  - Fix a regression that caused the library switch entries at the 
    bottom of the library menu to not work when there are many 
    libraries. Closes tickets: 1490096
  - Get Books: Update Amazon EU store plugins for website changes

-------------------------------------------------------------------
Fri Aug 28 19:41:56 UTC 2015 - cornelis@solcon.nl

- Update to 2.36.0:
  New Features
  - Icon themes: Change the calibre icons easily via icon themes
  - When adding empty books to the library also allow creating 
    duplicates of the current book, with all metadata copied. 
    To use right click the Add Books button and select 
    'Add Empty Books'
  - Driver for the Unusual Sapiens V2 and Adlibris Letto readers.
  - Kobo driver: Add support for firmware 3.17.3
  - E-book viewer: Add a command line option to open the previously 
    read book when starting up.
  - Edit Book: Live CSS: Allow copying of CSS rules by right 
    clicking on the Live CSS panel.
  - Linux installer: Install application and mimetype icons in 
    multiple sizes
  Bug Fixes
  - Amazon metadata download: Support for yet another variant of 
    amazon cover image markup
  - E-book viewer: Fix --open-at sometimes giving inaccurate 
    results (depends on speed of book loading)
  - EPUB Metadata: Add workaround for bug in PocketBook firmware 
    which causes it to fail to read series metadata if the series 
    number is declared before the series.
  - Fix user defined template functions leaking from one library 
    to another when switching libraries/using copy to library.
  - Fix a regression in the previous release that could cause the 
    marked books icon to be incorrectly rendered next to the row number
  - Edit Book: Check Book: Fix incorrect links that consist only 
    of an anchor and no filename not being detected.
  - AZW3 Output: Fix large tables (with many columns) not rendering
    correctly on Kindles.

-------------------------------------------------------------------
Tue Aug 25 09:31:45 UTC 2015 - ecsos@opensuse.org

- update to 2.35.0
  New Features
  - Kobo driver: Add support for the new firmware version 3.17
  - E-book viewer: Allow setting the number of pages per screen 
    separately for portrait and landscape modes.
  Bug Fixes
  - DOCX Input: Fix a regression in the previous release that broke 
    conversion of some documents that specify vertical alignment in 
    absolute units
  - Book list: Fix the current row number being partially cutoff on 
    some windows 10 machines.
  - Fix 'stopping content server' message popping up repeatedly 
    even when it is closed while the content server has not fully 
    stopped
  - Conversion: Fix error when converting a file that uses media 
    queries with comments in the media selector.

-------------------------------------------------------------------
Fri Aug  7 08:14:09 UTC 2015 - ecsos@opensuse.org

- update to 2.34.0 
  New Features
  - Amazon metadata download: Add support for amazon.nl. To use it 
    go to Preferences->Metadata download and configure the amazon
    plugin to use Netherlands as the source.
  - Catalogs: Add an option to not add the generated catalog to the
    library.
  - E-book viewer: Improve performance of hyphenation (by updating 
    the version of the hyphenation library it uses)
  Bug Fixes
  - DOCX Input: Add support for text whose vertical position is 
    adjusted by offsets from the baseline
  - DOCX Output: Handle length and percentage values for 
    vertical-align in the input document.
  - Edit Book: Check Book: Fix automatic correction of invalid ids
    not updating the idrefs in the spine for ids in the manifest of 
    the OPF file.
  - E-book viewer: Fix printing to PDF could result in filenames 
    with characters not supported by windows
  - E-book viewer: Also fix a bug in the hyphenation algorithm that
    could cause the word 'undefined' to be mangled during 
    hyphenation.
  - ODT Input: Fix custom styles with a dot in their name not being 
    inherited.

-------------------------------------------------------------------
Sun Jul 26 17:16:50 UTC 2015 - ecsos@opensuse.org

- fix plugins error, python >= 2.7.9 is mandatory

-------------------------------------------------------------------
Fri Jul 24 13:46:41 UTC 2015 - ecsos@opensuse.org

- update to 2.33.0
  New Features
  - Driver for SONY DPT-S1.
  - Edit Book: When showing suggestions for mis-spelled words, 
    also show suggestions from user created word lists
  - Edit Book: Check Book: Add a check for "invalid" ids
  Bug Fixes
  - Conversion: Ignore stylesheets linked via media queries that 
    use device specific features.
  - Fix covers not being read from some TXTZ files.
  - ODT Input: Add support for numbered lists that do not start
    numbering at 1.

-------------------------------------------------------------------
Thu Jul 23 17:03:04 UTC 2015 - cornelis@solcon.nl

- Update to 2.32.1:
  Bug Fixes
  - There was a regression in 2.32.0 that caused conversion to PDF 
    to fail, the fix for this was released in 2.32.1

-------------------------------------------------------------------
Fri Jul 17 14:47:31 UTC 2015 - ecsos@opensuse.org

- update to 2.32.0
  New Features
  - E-book viewer: Automatically save the current reading position 
    every ten seconds. Prevents loss of reading position on 
    crash/forced shutdown.
  - Edit Book: Check Book: Add checks for missing OPF version and 
    toc references and for text placed directly inside the  tag
  - calibredb: Add a new search sub-command that can be used to 
    generate a list of book ids from a search expression
  - Tag Editor: Place the keyboard focus on the last edited field.
  - Edit metadata dialog: When clicking Next and Previous preserve 
    the current tab of the edit comments widget.
  - Linux: Various fixes to make calibre work when compiled against
    the latest versions of Qt and PyQt
  - Edit Book: Allow drag and drop of files onto dock icon on OS X
  Bug Fixes
  - E-book viewer: Fix a regression in the previous release that
    caused the maximum text width setting in full screen mode to be
    ignored when switching from normal to full screen.
  - Fix error in template dialog when using {id} in send to device 
    preferences.
  - Edit Book/Book polishing: Fix EPUB books with opf files that 
    use a non-default namespace for the OPF namespace being 
    corrupted.
  - OS X: Workaround for Qt 5 regression that causes any errors 
    during startup to be hidden behind the splash screen.
  - Conversion: Fix incorrect relative URLs being generated when 
    an HTML or CSS file is placed higher in the folder hierarchy 
    than the opf file.
  - FB2 Output: Fix error when using the sectionize with toc option 
    and the input documents Table of Contents contains multiple 
    items pointing to the same HTML file.
  - Conversion: Fix error when input document contains a font size 
    exactly one point away from the base size.
  - Device drivers: Handle devices with undecodeable filenames in 
    their filesystem. Simply ignore those files.
  - Fix Cmd+Left/Right keyboard shortcut not working when editing 
    items in the book list on OS X.
  - Fix corrupted text in the jobs list on some non-English windows 
    installs
  - Edit Book: Workaround for a Qt regression that caused 
    'See what changed' after a search and replace on OS X causing 
    the application to become unresponsive.
  - Edit Book: Fix smarten punctuation not working for books with 
    non-ascii characters in internal file names on OS X

-------------------------------------------------------------------
Mon Jul  6 02:52:09 UTC 2015 - badshah400@gmail.com

- Generate the application icon in different sizes and install
  into hicolor-icon-theme dir; improves icon look on HiDPI
  displays.
- Use post(un) scripts to update desktop database (needed when
  installing a .desktop entry) and icon-theme cache (for hicolor
  icon-theme).
- Drop external .png image and corresponding installed icon from
  /usr/share/pixmaps; no longer needed.

-------------------------------------------------------------------
Sun Jun 28 17:23:35 UTC 2015 - cornelis@solcon.nl

- Update to version 2.31.0:
  New Features
  - E-book viewer: Make the search engine used for searching for 
    selected text configurable (in the Miscellaneous section 
    of the viewer preferences)
  Bug Fixes
  - E-book viewer: Fix dragging to select text with the mouse 
    causing the page to slide sideways in paged mode, if the mouse 
    leaves the text area.
  - E-book viewer: Fix transitioning between full screen mode and 
    normal mode sometimes causing current position to not be 
    preserved.
  - AZW3 Input: Ignore incorrect text encoding (incorrectly encoded 
    bytes are now replaced by placeholders) instead of erroring out.
  - Get Books: Update Legimi and CDP store plugins for website 
    changes
  - Fix Cybook Nolimbook not being detected in linux and OS X.
  - DOCX Output: Fix internal hyperlinks being ignored when they 
    point to a HTML file whose  element has an id.
  - Edit Book: Fix groups in replace template being interpreted 
    backwards when search direction is up
  - Searching: When search as you type is active, do not change 
    automatically change focus to the book list when searching, 
    unless the user presses Enter.
  - Font subsetting: Fix subsetting removing some needed ligatures 
    when subsetting some Arabic fonts
  - Prevent errors when testing email sending even if stderr on the 
    host machine is broken

-------------------------------------------------------------------
Fri Jun  5 14:37:26 UTC 2015 - cornelis@solcon.nl

- Update to version 2.30.0:
  New Features
  - An option to auto-convert a book on adding even if it is 
    already in the output format (Preferences->Adding Books).
  - E-book viewer: If there are entries in the Table of Contents 
    that are long enough to be truncated, display the full text 
    in a popup menu when the mouse hovers over the item.
  - News download: Add support for turning off SSL certificate 
    verification in individual recipes
  - Kobo driver: Support for upcoming firmware version 3.16
  Bug Fixes
  - DOCX Output: Fix aspect ratio of images being distorted when 
    the input document specifies image width but not height or 
    vice-versa.
  - DOCX Output: Fix extra page breaks being inserted in some 
    situations.
  - LIT Input: Fix smarten punctuation not working for text 
    (as opposed to HTML) based LIT files.
  - EPUB metadata: Fix extraction of cover image from EPUB 3 files 
    that do not use EPUB 2 backward compatible markup and that have 
    incorrect cover page markup as well.
  - Book details panel: On windows use only \ as a path separator 
    when copying file paths
  - Edit Book: Fix Saved searches panel not working well with very 
    long search/replace expressions
  - OS X: Fix changing preferences causing 'Email to selected 
    recipients...' appearing multiple times in the Connect/Share 
    menu.

-------------------------------------------------------------------
Mon Jun  1 11:13:26 UTC 2015 - cornelis@solcon.nl

- Added BuildRequires: libopenssl-devel to fix build

-------------------------------------------------------------------
Mon Jun  1 10:44:57 UTC 2015 - cornelis@solcon.nl

- Update to version 2.29.0:
  New Features
  - Allow opening the full Tag Editor dialog directly from the book 
    list by holding down the Shift key while starting an edit 
    of a tag-like field. For example, click on the tags field 
    for a book and press Shift-F2
  - Tag Browser: Allow undoing the deletion of items in the Manage 
    categories window
  - calibredb add: Allow setting arbitrary identifiers, not just 
    ISBN.
  - Add a 'Retry' button to the news download failed error message.
  Bug Fixes
  - DOCX Output: Detect the common idiom of placing centered images 
    as inline images inside a containing centered block and render 
    the resulting image as a floating centered image in the DOCX 
    file.
  - DOCX Output: Fix incorrect handling of bold/italic in 
    paragraphs where the majority of text is either bold or italic 
    instead of normal
  - Table of Contents editor: Fix save/load of settings in the 
    XPath wizard not working across restarts
  - Get Books: Update the Kobo Store plugin for website changes

-------------------------------------------------------------------
Thu May 28 22:15:52 UTC 2015 - cornelis@solcon.nl

- Update to version 2.28.0:
  New Features
  - Conversion of all ebook formats to Microsoft Word (DOCX) files
  - Add keyboard shortcuts (Ctrl+Right, Ctrl+Left) to switch 
    between virtual library tabs.
  - When sending email using GMX pause for five minutes between 
    books, to prevent GMX from blocking the account. The delay can 
    be configured via Preferences->Tweaks
  Bug Fixes
  - Open With: Fix application icons in XDG_DATA_HOME on linux not 
    being found and fix unhandled error when choosing 
    non-executable files as applications.
  - AZW3 Output: Remove duplicate anchors to workaround some Kindle 
    renderers using the last occurrence of an anchor as the target 
    instead of the first.
  - Fix language definition on body tag being ignored during 
    conversion
  - Edit book: When importing multiple files into the book, import 
    them in the order sorted by their filenames instead of in 
    random order
  - E-book viewer: Fix print to pdf not working on some windows 
    systems with non-ascii usernames and non-utf-8 system locales. 
    Also make the print to pdf dialog a little easier to use.
  - Edit Book: Fix TOC editor window not remembering its last used 
    size

-------------------------------------------------------------------
Fri May  1 19:04:22 UTC 2015 - cornelis@solcon.nl

- Update to version 2.27.0:
  New Features
  - Edit metadata dialog: Add a clear button for the publisher.
  - DOCX Input: Add option to not insert page breaks between 
    endnotes.
  - calibredb list: Allow outputting the book languages as well.
  - Italian translation of Quick Start Guide
  - Embed metadata: When embedding metadata fails for some books, 
    add an option to show the failed books in the book list
  - Animate the main toolbar when a device is 
    connected/disconnected, to indicate that the contents of the 
    toolbar have changed
  Bug Fixes
  - E-book viewer: When printing, print to a PDF file instead of 
    directly to the printer. This fixes printing not working on 
    some systems.
  - AZW3 Input: Handle kindlegen produced azw3 files that do not 
    use normal HTML anchors for linking.
  - Fix too many open files errors that could occur in a 
    few places on OS X
  - Do not allow user to hide all columns in book list via the 
    context menu, as restoring them becomes difficult

-------------------------------------------------------------------
Mon Apr 27 20:29:54 UTC 2015 - cornelis@solcon.nl

- Update to version 2.26.0:
  New Features
  - Driver for the soon to be released Kobo Glo HD
  Bug Fixes
  - Do not use a separate process to draw the splash screen. 
    This might fix the issue of calibre randomly freezing on 
    startup on a few windows systems
  - MOBI Ouput: Fix :first-letter applied to elements containing 
    a comment causing conversion to fail
  - Properly display names of libraries containing the ampersand 
    character.
  - When sorting filenames in comics treat the file extension as 
    a secondary sort key. Fixes xyz.jpg sorting before xyz_1.jpg
  - Fix a regression in 2.25 that broke the search & replace wizard 
    in the conversion dialog when converting a book with multiple 
    formats
  - Content server: Fix errors when library contains enough virtual 
    libraries to cause grouping.
  - Manage tags dialog: Fix setting a tag to empty causes an 
    unhandled error.
  - E-book viewer: Fix a regression that caused the viewer to 
    occasionally skip the last page in a chapter when displaying 
    more than one pages per screen and scrolling by screen
  - Edit Book: Fix open OPF file not being refreshed when deleting 
    items from the file browser.

-------------------------------------------------------------------
Sat Apr 18 10:18:04 UTC 2015 - cornelis@solcon.nl

- Update to version 2.25.0:
  New Features
  - Edit Book: Make embedding fonts using the manage fonts dialog 
    easier. You can now double click on a font family to see what 
    faces for that family area available on your computer and 
    install new fonts directly from the dialog.
  - Book Details panel: Allow deleting tags/series/publisher/etc. 
  by right clicking on the link in the book details panel.
  - E-book viewer: Allow expanding/collapsing all items in the 
    Table of Contents view by right clicking
  - When using the View specific format action add an 'Open With' 
    button to choose a specific program to view the specified format
  - Fetch News: Add API to allow recipe writers to easily resolve 
    internal links to point to the downloaded versions of articles
  - DOCX Input: Add support for DOCX files created by Word 2013 in 
    'Strict' mode
  - When getting cover from comic files, use smart filename sorting 
    to find the first filename, recognizing numbers inside the 
    filenames.
  Bug Fixes
  - E-book viewer: When displaying multiple pages per screen fix 
    whole screen scrolling so that it works as expected even at 
    the end of the file, when their might be fewer pages left than 
    would fill the screen.
  - DOCX Input: Automatically resize large images used as bullets 
    in lists, to compensate for the fact that HTML renderers do not 
    do this.
  - Book list: Prevent yes/no columns from making the minimum row 
    height too large.
  - Template language: Fix raw_field() function returning incorrect 
    values for lists
  - Edit book: Fix book locale changing when OPF edited if OPF 
    contains a country code in addition to a language code
  - Edit Book: Fix escaped HTML tags in the comments metadata being 
    reported as mis-spelled words.
  - Edit Book: Fix regression that caused copying of non-breaking 
    spaces to not work when using the keyboard shortcuts
  - Open With: Fix open with not working for programs from the 
    Microsoft Office suite

-------------------------------------------------------------------
Mon Apr 13 08:21:37 UTC 2015 - cornelis@solcon.nl

- Update to version 2.24.0:
  New Features
  - E-book viewer: Add an option to not save the bookmarks inside 
    EPUB files, under the Miscellaneous section of the viewer 
    preferences
  - Manage User Categories: Allow restricting the visible items 
    to only those present in the current Virtual Library (if any)
  - Book details panel: Allow copying full path to ebook files by 
    right clicking on the format link.
  Bug Fixes
  - Edit Book: Fix GIF format images being corrupted when using the 
    builtin image editor to make changes to them.
  - Edit Book: When dragging and dropping files to re-order them in 
    the file browser, fix the final order being dependent on the 
    order the files were selected in.
  - Conversion: Fix error when converting a document that contains 
    an invalid function based CSS selector without parentheses.
  - Edit Book: Fix regression that caused pressing Alt+X to type 
    unicode characters to not work
  - Device view: Preserve position in list of books when deleting 
    books from the device view
  - Make the context menu for the book details popup window work 
    the same way as for the book details panel
  - Get Books: Update amazon store plugin for website changes
  - PDF Metadata: When choosing between reading metadata from the 
    Info dict and the XMP block, consider both the MetadataData and 
    the ModifyDate in the XMP block, since there exist PDF metadata 
    writing tools that update one and not the other.
  - Fix a regression that caused ebook viewer to remember the state
    of the Table of Contents panel when quitting on OS X.
  - Prevent Enter key on Manage authors/tags/etc. dialogs from 
    closing the dialog.

-------------------------------------------------------------------
Sat Apr  4 15:15:42 UTC 2015 - cornelis@solcon.nl

- Update to version 2.23.0:
  New Features
  - Allow adding an empty ebook in various formats to existing book 
    records by right clicking the Add Books button
  - Add ability to create additional empty formats to the 
    'Add empty book' command
  - News download: Add API to cleanly abort the download of an 
    article during the preprocess stage based on the 
    article's contents.
  - Update the version of Qt bundled with calibre to 5.4.1. 
    This fixes various minor bugs, most notably, improving text 
    rendering on linux.
  Bug Fixes
  - MOBI Input: Fix links not working in viewer for MOBI files that 
    contain anchors placed on linebreak elements.
  - Book details panel: Fix copying Path link by right clicking on 
    it not working.
  - Fix a regression that caused importing of a single book from a 
    directory to fail if the directory has no ebook files in it
  - Column Icons: Fix apostrophes in icon filenames causing errors.
  - Edit Book: Fix a regression that caused Remove unused CSS to 
    fail on invalid CSS selectors, instead of ignoring them
  - Open With: Fix open with failing to get list of default 
    programs on windows if the registry contains missing ProgIDs.

-------------------------------------------------------------------
Sun Mar 22 21:22:11 UTC 2015 - cornelis@solcon.nl

- Update to version 2.22.0:
  New Features
  - Book List: When editing data in the book list directly, expand 
    the editor widget to use all available width if the data does 
    not fit inside the current column width
  - Edit Book: When re-opening a previously edited book, restore 
    all open files and the cursor position. Can be disabled in 
    Preferences->Main Window
  - Advanced search builder: Allow using days/weeks/months/years
    when building a date based search with number of days ago.
  - Amazon metadata download: Speedup metadata download from 
    amazon.com when an ASIN is specified by trying the product page 
    directly first instead of running a search.
  - Implement updating metadata in DOCX files
  Bug Fixes
  - ODT Input: Add support for intra-document cross-references.
  - PDF Output: Fix incorrect encoding of ASCII control characters 
    and some Chines characters in metadata and Table of Contents 
    strings.
  - Amazon metadata download: Work around amazon server problems 
    where it does not return Kindle Editions in search results when 
    not logged in.
  - Fix Manage Authors dialog causing current search in the book 
    list to be cleared.
  - Conversion: Fix a regression in 2.21 that caused conversion 
    to fail for books with invalid pseudo-class CSS selectors.
  - Content server: Fix OPDS categories not showing books for 
    composite column categories if the column contains a colon.
  - Single convert dialog: Only write metadata updates if metadata 
    actually changed. Also show a nicer error message when a file 
    is locked by another process.
  - Open With: Fix error when scanning for default programs 
    on windows for some file types
  - Edit Book: Fix Preview panel sometimes not working when opening 
    multiple html files one after the other very quickly

-------------------------------------------------------------------
Mon Mar 16 10:35:44 UTC 2015 - cornelis@solcon.nl

- Update to version 2.21.0:
  New Features
  - Allow opening ebook files and covers in external applications 
    by simply right clicking on them in the Book Details panel.
  - Tag Browser: Make rename and delete for items in the 
    Tag Browser restrict themselves to the current Virtual Library 
    (if any). There is also an additional menu entry you can use to 
    rename and delete across all books while in a Virtual Library.
  - Conversion: Use a new (written from scratch) implementation of
    CSS Level 3 selectors that fixes various bugs in handling of 
    the more advanced/uncommon CSS selectors such as 
    nth-last-child()
  - Edit Book: Allow restoring of disabled confirmation prompts in 
    preferences and add a confirmation when removing saved searches
  - Edit ToC button: Remember the last used ebook formats
  Bug Fixes
  - E-book viewer: Fix regression that prevented pasting of text 
    with formatting from the viewer.
  - Table of Contents Editor: Fix selecting a location inside 
    a file and then clicking on another file causes the previous 
    location to be used in the new file.
  - DOCX Input: Fix incorrect bold font weight being used for 
    heading styles even if the style definition does not specify 
    bold.
  - AZW3 Input: Fix a bug that prevented conversion of AZW3 files 
    that contained an empty CSS media block.
  - PDF Output: Fix incorrect rendering of text in elements that 
    use font-variant:small-caps and also have children.
  - Get Books: Update Amazon Europe, Empik and CDP store plugins
  - PDF Output: Fix incorrect conversion of source document that 
    specify dir='rtl' on the root element.
  - PDF Output: Ignore unparseable links instead of aborting the 
    conversion on them.
  - Fix reading metadata from filenames tester not working for 
    dates before 1900.
  - Linux binary install: Fix SSL CA certificates not being 
    detected on Fedora based distributions
  - Books list: Fix column alignment incorrectly propagating when 
    changing libraries
  - FB2 Input: Do not put a border around images
  - Fixes for various incompatibilities with (Py)Qt 5.4.1 which is 
    used by some calibre distro packages on linux
  - Fix error when running calibredb backup_metadata on a library 
    that contains book records with no path information
  - Edit Book: Fix extra search being hidden when removing 
    a saved search
  - Fix a regression in 2.20 that prevented some changes to 
    per-library preferences from being saved
  - Linux installer: Do not register application/octet-stream as 
    one of the mimetypes calibre can handle

-------------------------------------------------------------------
Sat Feb 21 09:09:42 UTC 2015 - cornelis@solcon.nl

- Update to version 2.20.0:
  New Features
  - ODT Input: Add backlinks for footnotes/endnotes and improve 
    their formatting.
  - Windows: When running on windows 8 and newer register with 
    default programs so that users can more easily select calibre 
    or its viewer/editor as the default program to launch 
    ebook files.
  - Make publishers in the book details panel clickable.
  - Edit Book spell check: For mis-spelled words of the form 
    one:two offer one: two as a suggested correction.
  Bug Fixes
  - Fix a regression that caused incorrect results when searching 
    on numeric or date fields with relational operators.
  - DOCX Input: Fix regression in 2.19 that broke handling of text 
    with leading or trailing non-breaking 
    spaces/en-spaces/quad-spaces.
  - Amazon metadata download: Update plugin for website changes to 
    Amazon Brazil.
  - E-book viewer: Fix footnote popup window not displaying entire 
    footnote if footnote contains element with page-break-after set
  - Edit Book: Reports tool: Fix double clicking on an unused image 
    causing an error
  - Tag Browser: Fix incorrect grouping of words starting with 
    graphemes, such as ash.
  - Conversion: Ignore incorrectly URL encoded links instead of 
    erroring out on them.
  - E-book viewer: Remove soft-hyphens when copying text to 
    clipboard

-------------------------------------------------------------------
Wed Feb 11 21:26:08 UTC 2015 - cornelis@solcon.nl

- Update to version 2.19.0:
  New Features
  - Quick view window: Allow the quickview window to be docked 
    into the main calibre window.
  - Add empty book: Allow setting the title as well as the author 
    and series for the added empty book records
  - Windows driver for Grammata Papyre 602.
  - Edit Book: Add an option to turn off auto-completion 
    of closing tags
  - Allow adding a description for custom columns.
  - Book Details panel: Allow any identifier of the form url+number 
    to become a clickable link. 
    For example: url1:http://example.com
  Bug Fixes
  - Conversion: Convert entities that reference non-BMP unicode 
    codepoints on Windows and OS X correctly. 
    Linux was not affected by this bug.
  - Edit Book: Do not autocomplete the closing tag wen typing 
    the / key inside an existing tag.
  - Fix Booken Lev e-book reader not being detected in OS X and 
    Linux.
  - DOCX Input: Change handling of sequences of space characters 
    to more closely follow Microsoft Word.
  - Edit Book: Fix Table of Contents editor not remembering its 
    saved state across calibre sessions
  - Edit book: Disallow drag and drop of documents onto the preview
    panel to workaround crashing bug in Qt.
  - E-book viewer: Fix current page not being preserved when 
    opening and then immediately closing the footnote window.
  - PDF Output: Fix incorrect encoding for some chinese characters 
    in the PDF Outline (Table of Contents)

-------------------------------------------------------------------
Fri Jan 30 19:16:41 UTC 2015 - cornelis@solcon.nl

- Update to version 2.18.0:
  New Features
  - Edit Book: Add 'Style Classes' and 'Links' report pages to the 
    Reports tool
  - Tag browser: Allow expanding all children of a node by right 
    clicking and choosing 'Expand All'
  - Preferences: Re-arrange the controls to avoid needing to move 
    the mouse from the top to the bottom of the dialog when closing 
    the dialog after making some changes
  Bug Fixes
  - Save to Disk: Fix a bug where when multiple books are being 
    saved to disk, if the save to disk template results in 
    identical filenames, the filenames were not being properly 
    disambiguated.
  - Preferences: Use a dialog instead of a main window to 
    workaround Qt's poor handling of full screen mode on 
    OS X Yosemite.

-------------------------------------------------------------------
Fri Jan 23 17:40:12 UTC 2015 - cornelis@solcon.nl

- Update to version 2.17.0:
  New Features
  - Edit Book: A new reports tool that shows a summary of files, 
    images, words, characters and styles used in the book.
  - Edit Book: Allow adding the 'Manage Snippets' action to the 
    toolbar, for easy access
  Bug Fixes
  - Update Ozon.ru metadata download plugin for website changes.
  - E-book viewer: Fix regression in 'flow' mode that caused 
    horizontal scrollbar to be rendered as vertical.
  - Fix a regression that prevented adding of books from 
    sub-folders if the folder contained only an OPF file and 
    no actual ebook files.

-------------------------------------------------------------------
Tue Jan 13 13:54:27 UTC 2015 - cornelis@solcon.nl

- Update to version 2.16.0:
  New Features
  - Edit Book: Add support for snippets -- small pieces of text 
    that are often re-used.
  Bug Fixes
  - Edit Book: When importing files and the book has an orphaned 
    entry in the manifest for that file, but the file itself is 
    not present, rename the file instead of erroring out.
  - Book Details panel: Fix author links with URL schemes other 
    than http or file preventing context menu from working.
  - PDF Output: Make the minimum height for headers and 
    footers scale with the base font size
  - Fix a typo that prevented the Cybook Muse from being detected 
    on some computers.
  - Fix regression in 2.15 that broke calibre on OS X 10.7 and 10.8

-------------------------------------------------------------------
Wed Jan  7 11:33:55 UTC 2015 - tchvatal@suse.com

- Update no-update patch to actually inverse the logic and let
  user override it:
  * calibre-no-update.diff
- Do not use bundled beautifulsoup
- No need to build without strict aliasing

-------------------------------------------------------------------
Wed Jan  7 10:25:49 UTC 2015 - tchvatal@suse.cz

- Remove code that unpacks csselect directly as it was 12.2 only
  which is obsolete for quite time already

-------------------------------------------------------------------
Tue Jan  6 12:35:02 UTC 2015 - cornelis@solcon.nl

- Removed liberation fonts from package (boo#911756)

-------------------------------------------------------------------
Sat Jan  3 00:32:57 UTC 2015 - cornelis@solcon.nl

- Update to version 2.15.0:
  New Features
  - Edit Book: Add auto-completion for links.
  - Edit Book Function mode: Add builtin functions to change 
    case of text, ignoring HTML tags in the matched text
  - Edit Book - Check Book: Allow auto-fixing of file not in 
    spine errors
  - Driver for Papyre 624 ml
  - Conversion: Convert images encoded as data URIs in the input 
    document into normal images, as some ebook reader software 
    cannot handle data URIs.
  Bug Fixes
  - AZW3 Input: Handle AZW3 files that contain Amazon specific 
    CSS media queries.
  - Fix regression that broke the markdown-calibre command
  - Edit Book - Show what changed: Fix scrollbar sometimes 
    not visible if the differences contain a few, very long lines. 
    Also fix the line numbers being partially obscured on 
    some systems (depending on the font used).
  - Edit Book: Fix a regression that caused the Home key to 
    not move to the start of the line on lines containing 
    un-indented tags
  - Get Books: Update the Amazon (US) plugin for website changes.
  - MOBI Input: Fix incorrect conversion of MOBI files that wrap 
    their content inside  anchor tags.

-------------------------------------------------------------------
Sat Dec 27 13:52:12 UTC 2014 - cornelis@solcon.nl

- Update to version 2.14.0:
  New Features
  - Metadata review dialog: Automatically insert series number when 
    selecting a series from the completion dropdown. Also if the 
    user does not specify a series number, use 1 as the default, 
    instead of not setting the series.
  Bug Fixes
  - Fix regression that broke error reporting for save to disk 
    for books that contain no formats.
  - Metadata download: Fix metadata download not working for titles 
    that contain a apostrophes in languages other than English.
  - Fix deleting a book from both the library and the device 
    causing the next selected book to be incorrect, when the 
    library is sorted by the On Device column.
  - FB2 Output: Fix generation of FB2 sections based on 
    a multi-level Table of Contents in the input document.
  - Tolino Shine driver: Fix option to swap main memory and SD card 
    not working on OS X.
  - FB2 Input: Workaround for broken FB2 files produced 
    by convertonlinefree.com.
  - OS X: Workaround for OS X installs that have incorrect 
    permissions set on their home directories. calibre will now no 
    longer refuse to start on such machines.
  - MOBI Input: Dont crash on corrupted JPG images.
  - Fix column icons not displaying for custom comments type columns
  - Metadata review dialog: Show a confirmation for the 'Reject all
    remaining' button.

-------------------------------------------------------------------
Wed Dec 24 22:13:08 UTC 2014 - hrvoje.senjan@gmail.com

- Harden required Qt5Core and Qt5Gui library versions: Qt's private
  headers are not under BC guarantee, and can break it even with
  patch releases

-------------------------------------------------------------------
Fri Dec 19 15:45:39 UTC 2014 - cornelis@solcon.nl

- Update to version 2.13.0:
  New Features
  - Driver for the new CYBOOK MUSE ebook reader
  - Edit metadata dialog: Allow editing identifiers in a dedicated 
    window by right clicking on the identifiers edit box.
  - Allow generating a cover from metadata by right clicking the 
    cover are in the book details panel also.
  - Content server: Server KEPUB files with the extension kepub.epu
    when connecting to the browser on Kobo devices
  - Kobo driver: Add support for new firmware version 3.12
  - Edit metadata dialog: Add a keyboard shortcut to swap title 
    and author [Alt+Down]
  Bug Fixes
  - Save to disk: Fix a regression that prevented saving of files 
    into the root of a drive on Windows
  - FB2 Input: Add support for FB2 books that incorrectly use 
    the FictionBook 2.1 XML schema.
  - Fix command line arguments not being ignored on windows and 
    linux when restarting calibre.
  - E-book viewer: Fix sorting of bookmarks by position in book 
    not working on windows and OS X.
  - Kobo driver: Fix bookmarks not being deleted from device when 
    deleting books on the device
  - Edit book: Fix auto-complete of closing tag not working when 
    typing the closing tag at just before a word 
    (the word would become the closing tag name).
  - calibredb: Fix list --for-machine ignoring custom columns
  - Edit book/Book polishing: Fix subsetting of fonts whose 
    @font-face rules use the local() or format() CSS functions 
    not working
  - Edit book: Fix regression that broke typing of XML entities for
    ampersand, less-than and greater-than
  - Edit Book: Do not change the current selected text when right 
    clicking on a mis-spelled word

-------------------------------------------------------------------
Fri Nov 28 21:59:31 UTC 2014 - cornelis@solcon.nl

- Update to version 2.12.0:
  New Features
  - Edit Book: Automatically complete the closing tag in HTML/XML 
    files when typing  
  - Edit Book: Implement auto-indent, now when pressing the Enter 
    key to start a new line, the new line's indentation is 
    automatically created
  - Driver for the Verso E71b ebook reader
  - Redesigned the 'Add a custom news source' dialog to make it 
    easier to use, with a more powerful python editor
  - Make translations of the User Manual available in many 
    different languages (fully or partially translated). Click the 
    'Change Language' link in the sidebar of the manual to change 
    the language
  - Edit Book: Search & Replace function mode: Add a new function 
    annotation (replace.file_order) to control what order multiple 
    files are processed in, when doing Replace All. See the User 
    Manual for details.
  Bug Fixes
  - Get Books: Update Woblink store plugin for website changes
  - Book polishing: Ignore zero byte font files in the ebook 
    instead of erroring out on them when subsetting fonts.
  - E-book viewer: Tighten heuristic used to detect footnote 
    links. Do not consider a link that is the only content inside 
    a block level tag as an endnote link, even if it is linked 
    back to from its destination.
  - Update the version of libimobiledevice shipped in the Linux 
    and OS X builds to 1.1.7, should help with some connection 
    issues to Apple devices
  - PDF Output: Add support for font-family aliasing in @font-face 
    rules.

-------------------------------------------------------------------
Sat Nov 22 18:06:25 UTC 2014 - cornelis@solcon.nl

- Update to version 2.11.0:
  New Features
  - Edit Book: Add a new 'function mode' for the Search and 
    Replace tool
  Bug Fixes
  - DOCX Input: Add support for multilingual documents.
  - Edit metadata dialog: Fix date fields being displayed in the 
    UTC timezone instead of the local timezone, causing the day 
    to be off by one in some timezones.
  - Conversion/Book polishing: Fix ampersands in 
    title/series/publisher/author not being properly escaped.
  - Update the bundled version of libimobiledevice on windows, 
    so that the iOS Reader plugin can connect to iOS 
    8 devices again
  - Fix a regression in 2.10 that causes Adding books from 
    sub-folders, one book per folder to incorrectly add OPF files 
    present in the sub-folders as an extra format.
  - Fix a regression in 2.10 that caused changes in 
    Preferences->Adding books to not work for the next 
    immediate add
  - Fix Ctrl-R while in debug mode not restarting in debug mode 
    properly
  - Fix regression in evaluating composite columns that use other 
    composite columns.

-------------------------------------------------------------------
Mon Nov 17 11:25:09 UTC 2014 - cornelis@solcon.nl

- Update to version 2.10.0:
  New Features
  - Driver for the PocketBook Lux 2 with latest firmware.
  - Review downloaded metadata: Add suggestions for the tags, 
    authors, publishers and series fields. Suggestions will pop-up 
    as you type.
  - Add Books: Improve performance when adding large numbers of 
    books at once
  - Add Books: Allow adding books from multiple ZIP/RAR archives, 
    each containing many books, by right clicking on the Add Books 
    and choosing 'Add from Archive'
  - Metadata download: Prioritize results that have the same 
    language as the current calibre user interface language
  - Edit Book: Make the CSS used for styling the generated HTML Table 
    of Contents user customizable via http://manual.calibre-ebook.com/
    customize.html#overriding-icons-templates-et-cetera
  Bug Fixes
  - E-book viewer: Fix popup footnotes not working on windows
  - Fix saving of searches that use the backslash to escape special 
    characters not working
  - Save to disk: When multiple books end up with the same file 
    name because they have the same metadata, automatically adjust 
    the filename to make it unique.
  - Fix ebook editor global menu not working on Unity when 
    started from inside calibre
  - Get Books: Update the Amazon European store plugins for 
    website changes
  - Edit Book: Fix handling of XML unsafe characters 
    (like <, > and &) inside

-------------------------------------------------------------------
Sat Nov  8 22:53:08 UTC 2014 - cornelis@solcon.nl

- Updated calibre-no-update.diff

-------------------------------------------------------------------
Sat Nov  8 22:36:08 UTC 2014 - cornelis@solcon.nl

- Update to version 2.9.0:
  New Features
  - E-book viewer: Show footnotes in a separate popup window
  - Cover Grid: Improve scroll wheel based scrolling.
  - Get Books: Add the Bubok Portugal store
  - Performance improvement for large libraries that using custom 
    columns built with templates
  - Review downloaded metadata dialog: Allow merging tags by long 
    clicking the revert button
  Bug Fixes
  - Fix a regression in 2.8 that caused the clear button next to 
    date fields to set the date to Jan 101 instead of undefined.
  - Linux: Fix Unity global menu bar stops working after minimizing 
    calibre to the dock or the system tray.
  - Sanitize the ImageMagick environment variables before launching 
    external utilities.
  - Prevent stale 'On Device' info (from the previous connection) 
    from showing during subsequent device connections
  - Conversion: Add workaround for converting EPUB files with 
    syntactically invalid (probably hand edited) OPF files.
  - Fix e-book viewer not displaying cover from HTMLZ files.
  - Conversion: Handle input documents with crazy 
    font sizes (1000pt +)

-------------------------------------------------------------------
Mon Nov  3 08:24:52 UTC 2014 - cornelis@solcon.nl

- Update to version 2.8.0:
  New Features
  - Linux: Add support for the global menubar in Ubuntu Unity 
    (The menu that is displayed in the top most on screen bar). 
    It now works both with the main calibre program and the 
    e-book editor. You can customize what appears in the menubar 
    via Preferences->Toolbars
  - Get Books: Add a new store, Bubok (bubok.es)
  - Driver for Tolino Vision 2.
  - Review downloaded metadata: Allow merging downloaded and current 
    identifiers by long-clicking the revert button.
  - Template language: New function user_categories() to return 
    the list of User Categories for a given book 
    (only works in the GUI).
  - E-book viewer: Add an option to prevent tapping on the page 
    from turning pages.
  Bug Fixes
  - Re-enable the system tray icon on linux. System tray icons now 
    work in any desktop environment that supports the StatusNotifier 
    spec, such as Ubuntu Unity, KDE 4+, GNOME 3, etc.
  - System tray icon: On windows if the calibre window is minimized,
    fix clicking on the system tray icon not restoring the window.
  - E-book viewer: Clear history when reloading the book, to avoid 
    errors, since the locations pointed to by the history may no 
    longer be valid anyway
  - Linux: Force use of GNOME button layout for dialogs when 
    running under the GNOME, UNITY or MATE desktop environments
  - Check Book: Silence incorrect warning about guide references 
    to cover image in AZW3 Format
  - Fix text entry widgets' popup completion window not working 
    well with windows on-screen keyboard.
  - Edit Book: Fix links that are absolute paths causing crashes 
    in windows
  - Fix the read metadata from format button in the edit metadata 
    dialog not working for FB2 files.

-------------------------------------------------------------------
Sun Oct 26 13:53:14 UTC 2014 - cornelis@solcon.nl

- Update to version 2.7.0:
  New Features
    - Support for the new Kindle Voyage
    - The notification for the completion of background jobs, 
      such as bulk metadata download, has been redesigned to 
      not interrupt your work. It now waits in the lower 
      right corner of the main window until you are ready 
      to deal with it
    - Insert metadata as jacket page: Make the invisible tags used 
      for searching across books format better, by giving them 
      their own table row.
    - Book details panel: Show custom column values for numeric 
      columns even when the value is zero
    - Allow clearing of date and number type fields by right 
      clicking and choosing clear when editing the fields in 
      the book list or edit metadata dialog
  Bug Fixes
    - MOBI/AZW3 Output: When converting an EPUB document that 
      specifies an SVG image as its cover image, convert the cover 
      to JPEG as the Kindle cannot handle SVG cover images.
    - AZW3 Input: Fix crash when processing AZW3 files that contain 
      certain SVG images dies to a bug in ImageMagick.
    - Conversion: Ignore un-parseable links when trying to generate 
      ToC from links, instead of aborting the conversion.
    - Edit metadata dialog: Fix window title not changing when 
      using the Next/previous buttons if the books being edited 
      have the same title.
    - Fix regression in previous release that prevented arrow 
      keys/tab key from working in completion popups on OSX.

- Started cleaning up of BuildRequires and Requires
- Removed most shebangs reported by rpmlint

-------------------------------------------------------------------
Sat Oct 18 11:45:14 UTC 2014 - ecsos@opensuse.org

- Update to 2.4.0:
  New Features
    - An all new random cover generation algorithm, which generates 
      covers using many different color schemes and cover styles
      Now when you click the Generate cover button in the Edit 
      Metadata dialog a cover based on the book metadata is 
      generated using random colors and styles. You can customize 
      the random cover generation by long clicking the Generate 
      Cover button, which will popup a dialog where you can create 
      new color schemes and customize other aspects of the 
      generated cover as well.
    - Edit Book: Redesign the saved searches pop-up as a dockable 
      window. Editing saved searches now happens inline and the 
      global search/replace keyboard shortcuts work in the saved 
      searches window
    - Edit book: Change the text of the 'Mark selected text'menu 
      entry depending on whether it will mark or unmark the text
    - Edit metadata dialog: Allow undoing a metadata download by 
      long-clicking the Download metadata button and choosing 
      "Undo last metadata download"
    - Edit metadata dialog: Allow undoing the changes to individual 
      fields by right clicking on the field and selecting Undo 
      after a metadata download.
      Closes tickets: 1223367
    - Download metadata dialog: Allow using Enter key to select 
      cover and left/right keys to move between metadata results.
      Closes tickets: 1369178
    - Fix the row numbers in the book list remaining wide when 
      switching libraries if some books were marked before 
      the switch.
      Closes tickets: 1369152
    - Fix keyboard focus not going to cover grid after doing 
      a search.
      Closes tickets: 1369160
    - DOCX Input: Support for the keepNext paragraph property 
      to keep successive paragraphs on the same page.
    - Template language: New template functions: raw_list() 
      to return the items in a list such as tags without any 
      sorting/formatting applied to them; author_sorts() to return 
      the author sort strings from the authors table for 
      the authors in the book.
  Bug Fixes
    - Fix a regression in 2.3 that broke creation of collections 
      on the device when metadata management was set to manual.
      Closes tickets: 1371976
    - E-book viewer: Fix displaying multiple pages per screen not 
      working in calibre 2.x with some books, 
      due to a change in Qt 5.
      Closes tickets: 1372066
    - E-book viewer: Fix unintuitive behavior of back and forward 
      buttons when going all the way back to the first item 
      in the history.
      Closes tickets: 1367992
    - Conversion: Do not allow default (user-agent) style rules 
      to ever override style rules defined in the input document, 
      regardless of CSS selector specificity.
      Closes tickets: 1369753
    - Workaround for Qt 5 regression that broke selecting multiple 
      icons in Preferences->Column icon rules
    - Fix tags with angle brackets not being displayed in the 
      Book Details panel
  New news sources
    - Hurriyet Daily News and Al Monitor by spswerling
    - VICE News by Adrian Tennessee
    - Jagran Josh by Krittika Goyal
  Improved news sources
    - Today's Zaman
    - Wall Street Journal
    - High Country News

- Update to 2.3.0:
  New Features
    - Cover Grid: Dynamically adjust the size of the in memory 
      cover thumbnail cache based on the window size to ensure 
      flicker free rendering even on very large screens.
      Closes tickets: 1367211
    - Template tester: Remember last used template
    - Get Books: When downloading books show a popup message 
      telling the user that the books will be added to the calibre 
      library automatically, to help new users understand what is 
      happening. The popup message can be disabled.
    - E-book viewer: Try to detect when a chapter has a page break 
      before the start of the chapter's text resulting in a leading 
      blank page and override the page break.
      Closes tickets: 1366074
  Bug Fixes
    - Edit metadata dialog: Fix the author sort field not being 
      marked red initially when the author sort does not match the 
      author due to a Qt 5 behavior change.
      Closes tickets: 1367943
    - OS X: Fix restarting of calibre not working if calibre.app 
      is placed in a location with spaces in the path
    - Fix regression that caused calibre running in debug mode on 
      OS X to not have a menubar or dock icon
    - Get Books: Fix downloading ebooks from Project Gutenberg via 
      the builtin browser not working because of changes to 
      the Project Gutenberg website.
      Closes tickets: 1366240
    - Get Books: Update Gutenberg plugin for changes to the 
      Project Gutenberg website.
      Closes tickets: 1366245
  Improved news sources
    - Strategy+Business
    - Dawn
    - American Thinker
    - Anchorage Daily News
    - Financial Times

- Update to 2.2.0:
  New Features
    - Kindle driver: Add option to not overwrite existing 
      page number (apnx) files on the device when sending books 
      to the device
    - Kindle driver: Add option to allow customization of the 
      page number (apnx) generation algorithm based on values 
      in a custom column
    - Metadata jacket: Allow customizing the jacket template 
      to show the tags in alphabetical order
    - View specific format window: If a conversion finishes in the 
      background making a new format available, update the window.
      Closes tickets: 1363416
    - E-book viewer: Automatically hide the mouse cursor if the 
      mouse has not been used for a few seconds. This prevents the 
      mouse cursor from obscuring text underneath it. The cursor 
      will reappear automatically when you move the mouse.
    - Driver for SurfPad 3.
      Closes tickets: 1363025
  Bug Fixes
    - Conversion: Fix incorrect conversion of CSS when the input 
      document uses the same CSS class name in both upper 
      and lower case.
      Closes tickets: 1328552
    - Workaround for Qt 5 behavior change on OS X which prevented 
      error handling during startup on OS X to not work
    - DOCX Input: Fix non-breaking hyphens being ignored
    - Workaround for Qt 5 bug that causes text copied to the
      c lipboard to be lost when quitting the viewer on windows.
    - When detecting the encoding of HTML documents, if the 
      document contains multiple charset declarations, prefer the 
      HTML 5 syntax to the HTML 4 syntax.
      Closes tickets: 1364961
    - E-book viewer: Fix text not being reflowed when resizing the 
      viewer window and only the height changes.
    - Fix merging of book records not working correctly for custom 
      columns of type text with fixed set of permitted values. 
      Null values were incorrectly overwriting non-null values.
    - Creation of custom news sources failing on a computer on 
      which no custom news sources have been previously created.
      Closes tickets: 1363666
    - Workaround for Qt 5 on windows bug that makes the selected 
      indication for items in any list/table disappear when 
      the widget loses focus
      Closes tickets: 1363420
    - Fix regression in 2.1 that prevented the saved column layout 
      from being applied.
      Closes tickets: 1363470
    - Edit Book: Fix the Check Book tool leaking threads
    - Edit Book: Fix editor hanging when quitting during a 
      background save operation and the save operation completes 
      before the warning dialog is dismissed.
      Closes tickets: 1363122
    - Fix a regression in calibre 2.0 that caused setting the value 
      of a custom number column to zero via the book list to clear 
      the field instead.
      Closes tickets: 1363076
    - Check Book: Fix an error caused by empty style tags when 
      auto-renaming mismatched font names.
      Closes tickets: 1363028
    - When using the Embed Metadata or Polish Books tools to update 
      metadata, fix custom columns values not being cleared in 
      the book file even if they have been cleared in calibre
  New news sources
    - The Hollywood Reporter by Darko Miletic
  Improved news sources
    - Common Dreams
    - LA Times
    - Spektrum der Wissenschaft
    - cracked.com

- Update to 2.1.0:
  New Features
    - Prevent calibre from installing or running on Windows XP as 
      there have been many reports of Qt 5 crashing on Windows XP 
      and Windows XP is now no longer supported by Microsoft. 
      If you are on Windows XP, please stay with calibre 1.48 until 
      you are ready to upgrade your windows. 
      Apologies for the inconvenience.
    - Kobo driver: Add support for new Kobo Aura H2O and 
      firmware 3.8.0
    - Driver for HTC C.
      Closes tickets: 1360678
    - Add a new tool to easily test templates. Go to 
      Preferences->Toolbars to add the tool to one of 
      the calibre toolbars.
      Closes tickets: 1360550
    - EPUB and MOBI catalog generation: Allow using the full 
      template language including all custom columns
  Bug Fixes
    - E-book viewer: Fix soft-hyphens causing rendering artifacts 
      with some fonts due to a bug in Qt 5
    - OS X: Workaround for Qt 5 bug that causes the popup menu on 
      the author to author sort button in the edit metadata dialog 
      to not respond if the mouse button if not released once 
      before clicking menu entries.
      Closes tickets: 1362338
    - Book list: Fix Ctrl+Home/End not selecting the first/last book
    - PDF Output: Fix header and footer templates not working in 
      calibre 2.0
      Closes tickets: 1361483
    - OS X: Workaround for Qt 5 bug that caused many keyboard 
      shortcuts to not work in OS X
    - Workaround for Qt 5 regression causing custom colors in 
      color chooser dialogs to not be remembered between 
      calibre sessions
    - Conversion: Fix error when converting EPUB/HTML files that 
      contain invalid margin or padding declarations.
      Closes tickets: 1360842
    - Fix for calibre 2.0 crashing on startup on some linux systems 
      when used with --detach
    - E-book viewer: When right clicking on an image to view it in 
      its own popup window, fix the rotate button not working 
      correctly with the zoom buttons
    - Workaround for Qt 5 bug causing crash when running jobs 
      (conversion to PDF or MOBI; reading metadata from an EPUB 
      without a cover) that require Qt WebKit on Ubuntu.
      Closes tickets: 1360693
    - OS X: Fix background jobs stealing input focus if they 
      require the use of Qt WebKit
    - Preferences->Metadata plugboards: Show plugboards for 
      disabled devices and formats whose metadata writer plugins 
      have been disabled.
      Closes tickets: 1360766
    - Fix calibre 2.0 not using system color scheme on windows and 
      OS X
    - Fix regression in calibre 2.0 that caused crashes when using 
      drag and drop to re-order virtual library tabs
    - Linux: Disable the optional system tray icon because of bugs 
      in the system tray icon implementation in Qt 5 on linux.
      Closes tickets: 1360652
    - E-book viewer: Fix navigating to a bookmark not updating the 
      displayed page number.
      Closes tickets: 1360621
    - Fix the 'unified title and toolbar on OS X' tweak causing 
      calibre to fail to work because of a bug in PyQt5
    - E-book viewer: Fix a regression in 2.0 that changed the speed 
      of scrolling with the mouse wheel in flow mode
    - Edit book: Workaround for regression in Qt 5 that causes 
      typing the Cmd+some letter to generate text in the editor 
      instead of being ignored.
    - Book polishing: Fix EPUB files with corrupted ZIP central 
      directories not working and leaving behind detritus in 
      the current working directory.
      Closes tickets: 1360385
    - Edit Book: Workaround for Qt 5 regression that caused the 
      'See what changed' tool to freeze the editor when closing 
      the window showing the changes.
    - Fix regression in 2.0 that broke viewing of LRF format ebooks.
      Closes tickets: 1360332
    - Fix for a Qt 5 regression that caused the Copy to Library 
      right click menu to be empty on OS X.
      Closes tickets: 1360069

- Update to 2.0:
  New Features
    - For a summary of the major changes in calibre between 
      1.0 and 2.0, see http://calibre-ebook.com/new-in/eleven
    - Add support for MTP devices (Android phones/tablets) on OS X
    - Update the version of Qt used by calibre to Qt 5. This fixes 
      various longstanding bugs in calibre that were caused by bugs 
      in Qt 4.
    - Edit Book: Make the edit saved search/add saved search popup 
      window non-modal.
      Closes tickets: 1354785
    - Tag Browser: Show format specific icons for the format 
      entries in the Tag Browser
    - Library check: Add buttons to conveniently mark all 
      fixable/deletable items.
      Closes tickets: 1353954
  Bug Fixes
    - E-book viewer: Reloading the book now re-opens it at the 
      current position even if the option to remember position when 
      quitting is turned off
    - E-book viewer: Remove extra spacing between document and 
      scrollbars. This is particularly noticeable when using a dark 
      theme for the viewer.
    - PDF Output: Fix balanced parentheses in the text of items in 
      the Table of Contents not being rendered properly by some 
      PDF viewers.
      Closes tickets: 1358443
    - Edit book: Abort terminal save on save error instead of 
      quitting editor
    - Get Books: Update the Project Gutenberg plugin for website 
      changes
    - Plugin loading: When multiple plugin classes are present in 
      the __init__.py namespace, use the one with the qualified 
      name that has the least components
    - Edit Book: Prevent long saved searches from making the saved 
      search dialog too wide
    - Comic Input: Sort pages placed in sub-folders correctly 
      (as long as all pages have the same number of parent folders).
    - Conversion: Fix the word @page in a comment inside a 
      stylesheet with no following {} causing the rest of the 
      stylesheet to be ignored.
    - Fix comparing AZW3 to ORIGINAL_AZW3 from the book details 
      panel not working
      Closes tickets: 1354624
  New news sources
    - General Knowledge Today by Kanika G
    - BBC Arabic by logophile777
  Improved news sources
    - TIME Magazine
    - The Atlantic
    - Down to Earth
    - Heraldo de Aragon
    - Radikal (Turkey)
    - Wired Daily Edition
    - Orange County Register

-------------------------------------------------------------------
Fri Oct 17 19:04:43 UTC 2014 - cornelis@solcon.nl

- Update to version 2.6.0:
  New Features
    -Catalogs: CSV Output: Allow changing the order of fields 
     in the generated CSV catalog by using drag and drop to 
     re-arrange the fields in the create catalog dialog.
     Closes tickets: 1379048
    -Edit metadata dialog: When editing metadata individually for 
     multiple books, popup a confirmation if the user clicks OK 
     before finishing the editing of all the books.
     Closes tickets: 1378072
    - Allow configuring a keyboard shortcut to toggle highlighting 
      of search results via Preferences->Keyboard 
      (under Miscellaneous).
      Closes tickets: 1380528
    - Edit Book: Saved searches window: Remember the last used 
      values for where to search and search direction
    - E-book viewer: Allow right clicking on the toolbar buttons 
      to popup the optional menus, useful when using the viewer 
      on a touch screen.
      Closes tickets: 1380359
    - E-book viewer: Add a keyboard shortcut to toggle the Table 
      of Contents [Ctrl+T]
    - Performance improvement when renaming/deleting large numbers 
      of items via the Manage Tags/Series/Publishers/etc dialogs
    - Kobo driver: Update to support soon to be released firmware 
      update from Kobo
  Bug Fixes
    - Amazon metadata download: Update the amazon metadata download 
      plugin to handle changes to the amazon.com website.
      Closes tickets: 1379305
    - AZW3 Output: Ignore invalid attribute names in the input 
      document rather than aborting the conversion on them.
    - Book details panel: Fix custom columns built from other 
      columns with tag like values not clickable in the 
      book details panel.
      Closes tickets: 1381323
    - Edit Book: Fix changing the editor undo/redo keyboard 
      shortcuts not preventing the old shortcuts from working.
    - CSV Catalogs: Output all custom datetime columns in the local 
      timezone to match the format for builtin columns
    - E-book viewer: When looking up words in the dictionary for 
      a book that has no language set, use the current calibre 
      interface language
    - Fix comments editor widget in the edit metadata dialog 
      swallowing Tab key presses, preventing the use of the 
      keyboard to move between widgets. You can use Ctrl+Tab to 
      insert literal tabs
    - OS X: Workaround for regression in Qt 5 that causes pressing 
      the Esc key to close the entire window instead of the current 
      completion popup
    - Fix Advanced search dialog not being sized correctly if the 
      user selects a larger than normal interface font.
      Closes tickets: 1378045
    - E-book viewer: Fix page turning by clicking in the margins 
      in full screen mode (when displaying more than one page 
      per screen) not working because of a Qt 5 behavior change.
  Improved news sources
    - nrcnext
    - Wall Street Journal
    - Smithsonian Magazine
    - Sueddeutsche Zeitung mobil

-------------------------------------------------------------------
Tue Oct  7 13:12:59 UTC 2014 - cornelis@solcon.nl

- Update to 2.5.0:
  New Features
    - E-book viewer: Allow changing the website that is used as 
      a dictionary for looking up words in the viewer. Click the 
      Preferences button in the viewer and choose the dictionaries 
      tab to customize the website.
    - Edit book/Book polishing: When embedding fonts or subsetting 
      embedded fonts, handle the :first-letter and :first-line 
      pseudo-element style rules.
      Closes tickets: 1373649
    - Windows driver for Trekstor Pyrus 2 LED.
      Closes tickets: 1376018
  Bug Fixes
    - Fix a typo preventing calibre from recognizing the new 
      Kobo Aura H2O
    - Edit Book: Spell Check: Fix replaced words coming back into 
      the list when toggling the "Show only misspelled words" setting
    - Edit Book: Spell Check: Fix replacing a word with multiple 
      words causing the replacements to show up erroneously in the 
      list of misspelled words
      Closes tickets: 1370294
    - Edit Book: Fix leading or trailing hyphens on words being 
      ignored when spell checking.
      Closes tickets: 1370288
    - E-book viewer: Fix a regression, caused by a Qt 5 behavior 
      change, that caused incorrect colors to be shown when viewing 
      MOBI files that use CSS 3 color specifications internally.
    - MOBI Output: Handle input documents that use CSS 3 syntax for 
      colors by converting the color to the #RRGGBB format required 
      for MOBI
    - Tag Browser: Fix drag and drop of books onto a language not 
      setting the language.
      Closes tickets: 1373504
    - Tag Browser: When renaming an item that is currently being 
      searched for, remove the search indicator, as the search will 
      no longer match the renamed item.
      Closes tickets: 1374624
    - Bulk metadata edit: Fix getting cover from EPUB files that 
      have no cover image by rendering the first page as the cover 
      not working.
      Closes tickets: 1374243
    - Custom cover generation: Fix disabled color schemes not being 
      saved
      Closes tickets: 1374337
    - Wireless device driver: Fix a regression in 2.4 that caused 
      book matching to run slowly when connecting to calibre 
      companion
  Improved news sources
    - Sueddeutsche Zeitung
    - The Hindu
    - Carta

- Removed the obsolete Obsolete/Provides for calibre07 and calibre-icons-branding
- Updated BuildRequires for Qt 5
- Changed Requires: liberation-fonts into Recommends

-------------------------------------------------------------------
Sun Sep 21 14:09:54 UTC 2014 - cornelis@solcon.nl

- Updated to 1.48.0 (last version for qt4):
  New Features
    - E-book viewer: Make the list of bookmarks a dockable window 
      that can be kept open while reading the book
    - E-book viewer: Make the Table of Contents panel 
      a dockable window so it can be moved around and even made 
      into a separate floating window
    - E-book viewer: Allow reloading the current book 
      by pressing F5 or Ctrl+R
    - Edit Book: Allow changing the case of selected text by right 
      clicking and choosing the appropriate change case action.
    - Driver for Kiano Booky Light.
    - calibredb list: Have --for-machine dump the output in JSON 
      instead of using ASCII separators, as most scripting 
      languages have JSON parsers builtin
    - zsh completion: Complete filenames inside epub files 
      for ebook-edit
    - ebook-edit: Allow specifying multiple internal files to open 
      and get rid of the no longer needed --edit-file option
  Bug Fixes
    - Fix over-aggressive caching causing multiple cover grid 
      emblem rules to not work.
    - Edit Book: Fix position syncing and Live CSS not working 
      if the opening tag is split over multiple lines
    - EPUB metadata: When updating the language in an EPUB file, 
      preserve the country code, if the new language is the same 
      as the original language in the EPUB file.
    - Edit Book: Fix choosing default dictionary based on language 
      tag in the OPF ignoring the country code
    - Edit Book: Fix a regression that caused clicking on links 
      in the preview panel that lead to destinations in the same 
      HTML file popping up a spurious error message.
    - Fix regression that caused tags to not be sorted when 
      displayed in the book details panel.
    - Edit Book: More robust implementation of current 
      tag detection for Live CSS. 
      Now uses the same logic as matching tag highlighting.
    - Edit Book: When highlighting the tag the cursor is currently 
      inside, if the cursor is inside the definition of an 
      opening tag, highlight that tag rather than its parent.
    - Edit Book: Check Book: Do not run the rest of the checks 
      if parsing errors are found, to prevent the checkers 
      from raising unhandled errors

- Update calibre-no-update.diff and add annotation for reason patch

-------------------------------------------------------------------
Fri Jul 25 15:17:04 UTC 2014 - ecsos@opensuse.org

- update to 1.46.0
  New Features
    - Edit Book: Add support for third party plugins to extend 
      the editors functionality.
    - calibredb list: Add a --for-machine option that causes 
      the output to be made in a form more easily parsed 
      programmatically (it uses ASCII field and record separators)
    - Book details panel: Automatically convert ISSN identifiers 
      into links to the periodicals page on worldcat.org
    - Edit Book: When re-arranging the toolbars inside an 
      individual file editor, save the new toolbar layout 
      so that it is re-used in the future. Also apply the 
      changed layout to all open editors of the same type.
    - Edit Book: Make the undo/redo/cut/copy/paste buttons 
      on the editor toolbar also configurable, so they can be 
      removed via Preferences->Toolbars, if needed.
    - Edit Book: Allow editing xpgt (Adobe Page Template) files 
      as XML.
    - Edit Book: Allow the action to launch the 
      saved searches dialog to be added to the global toolbars
    - Book details panel: Add an option to make clicking on 
      the author name search the calibre library for the author 
      instead of opening the wikipedia page for the author. 
      To use it got to Preferences->Look & Feel->Book Details.
  Bug Fixes
    - Fix published date not being merged when merging book records
    - Embed metadata tool: Fix error when trying to embed metadata 
      in corrupted MOBI files or files of other types 
      that are marked as MOBI in the library
    - Edit Book: Make the warning dialog that pops up when you try 
      to quit while the editor is saving changes in the background 
      a little more clear.
    - When generating covers, do not render soft-hyphens 
      in the text as hyphens.
    - Conversion: Fix a bug processing the CSS font shorthand 
      property when the line-height is specified in 
      em or percentage units
    - calibre-customize: When building plugins from a directory, 
      exclude known version control subdirectories

-------------------------------------------------------------------
Fri Jul 18 17:32:53 UTC 2014 - ecsos@opensuse.org

- update to 1.45.0
  New Features
    - Edit Book: Add in-context help for HTML and CSS
    - Book details panel: Make series and tags clickable. Clicking 
      on them will search the calibre library for all books in the 
      same series/ having the same tag
    - Edit metadata dialog: Improve performance by only writing 
      changed fields to the database when clicking OK or Next
    - AZW3 Input: When converting from AZW3 files, use the high 
      quality version of the image if the source AZW3 file 
      contains both low and high quality images. These dual azw3 
      files are produced by kindlegen 2.9
    - Edit Book: When right clicking on a link in the editor add a 
      menu entry to open the link
    - Edit Book: Search and replace panel: Add arrows to open the 
      list of recently used search and replace expressions
    - Driver for Motorola Milestone X2.
  Bug Fixes
    - AZW3: Preserve the page-progression-direction property when 
      converting/editing/polishing AZW3 files
    - AZW3 Input: Workaround broken AZW3 files produced by 
      kindlegen that use uppercase attribute names.
    - PDF metadata: When updating the XMP metadata in PDF files, 
      compress the XMP block written to the PDF. This is 
      particularly useful when the PDF file has an existing XMP 
      metadata block with very large amounts of data in it.
    - Fix searches on Yes/No columns using the terms ('blank', 
      'checked', 'unchecked') not working on non-English calibre 
      installs
    - Edit metadata dialog: Do not auto change the title sort 
      field when clicking OK if the title was changed. Instead the 
      title sort field must be changed explicitly.
    - Linux binary installer: Fix regression that caused ZSH 
      completion to not be installed
    - Edit Book: Spell check: When suggesting alternative for a 
      hyphenated word, ensure the first suggestion is the word 
      formed by removing the hyphen, if that is a valid word
    - Get Books: Update the Woblink plugin to handle changes to 
      the woblink website
    - Edit Book: Fix replacement of hyphenated words in the spell 
      checker not working
    - Edit Book: Fix live syntax highlighting of links not being 
      updated correctly after renaming an open file
    - Edit Book: Fix regression that caused crash while syntax 
      highlighting CSS stylesheets that contain url() tokens 
      without enclosing quotes
    - Linux binary: Do not fail on system with invalid locale 
      info. Instead default to using the UTF-8 encoding on these 
      systems.

-------------------------------------------------------------------
Fri Jul 11 15:36:56 UTC 2014 - ecsos@opensuse.org

- update to 1.44.0
  New Features
  - Edit Book: Syntax highlight links, images, stylesheet includes, 
    etc. Links that point to missing files are marked as errors. 
    You can Ctrl + click on a highlighted link to jump to the file 
    it points to directly.
  - Edit Book: Check Book: Add a check for manifest items missing 
    href attributes.
  - When clicking in the search box, select all existing text, 
    for easy replacement.
  - Edit Book: Add buttons to change the text alignment 
    of the current paragraph. If you do not see them, 
    go to Preferences->Toolbars and add them 
    to the Text formatting actions toolbar.
  - Improve performance of rendering the book list when lots of 
    column coloring rules are used
  - Kobo driver: Support for new firmware version 3.5
  Bug Fixes
  - Edit Book/Book polishing: Do not auto-resolve @import rules 
    in AZW3 files. Also do not add a @namespace rule to all stylesheets 
    that contain tag selectors.
  - Edit book/Book polishing: Preserve the class attribute on the 
    tag in AZW3 format files.
  - Edit Book: Fix inline spell check context menu not working 
    when triggered by context menu key or a right clicking 
    at the right edge of the word.
  - Fix some font directories from fonts.conf being ignored 
    on linux when scanning the system for installed fonts.
  - Edit book: Spell checker: Treat hyphenated words as 
    single words for spell checking
  - Edit Book: When using the spell check dialog to change words, 
    detect any changes made to open files outside the spell check dialog 
    and automatically integrate them, to prevent those changes 
    from being lost.
  - Update driver for Tolino Shine to handle new firmware
  - Book polishing: When changing the cover in an EPUB file, 
    place the newly created cover image in the same folder 
    as other images in the book, rather than the root
  - Linux installer: Use pkg-config to get the location for installing 
    the calibre bash completion scripts. 
    pkg-config is used only when installing to /usr.

-------------------------------------------------------------------
Fri Jul  4 14:47:09 UTC 2014 - ecsos@opensuse.org

- update to 1.43.0
  New Features
  - Add a wizard for easily searching date fields in your library. 
    To use it click the advanced search button to the left 
    of the search field. 
    Allows you to search for books whose date is older/newer 
    than a specified date or less/more than a number of days 
    from today and so on.
  - Driver for Onyx T68.
  - When reading metadata from file names, allow setting the comments 
    field as well, in addition to title/authros/publisher/series/etc.
  Bug Fixes
  - Fix a regression in the previous release that broke 
    changing Save to Disk preferences
  - Recognize leading articles for the Esperanto language 
    when auto-generating title sorts. 
  - Edit Book: Fix a regression that caused syncing 
    of the preview panel to the editor cursor position 
    to not work when the cursor is positioned on a blank line 
    in between two tag definitions
  - Metadata download: Round the downloaded ratings so that, 
    for example, 3.6 stars becomes 4 stars instead of 3 stars.
  - Edit Book: Fix a crash when performing some image editing 
    operations on 64 bit calibre builds
  - Recognize additional leading articles in the titles 
    of Italian language books
  - Edit Book: Fix an occasional spurious error message 
    when using the Live CSS feature

-------------------------------------------------------------------
Fri Jun 27 14:06:17 UTC 2014 - ecsos@opensuse.org

- update to 1.42.0
  New Features
  - Edit Book: new tool to easily add a cover to the book. 
    It automatically generates the HTML wrapper and takes 
    care of marking the covers files as covers in the OPF.
  - Edit Book: Improve the performance of inline spell checking, 
    especially noticeable when editing large HTML files 
    (over 100KB in size).
  - Edit Book: Run syntax highlighting in the background, 
    reducing user interface latency when editing large files
  - Template language: Add a new function (group_re) to use grouping 
    regular expressions with groups, where you can replace 
    the matched groups with result of another template.
  - Edit Book: Check Book: Add a check for HTML files 
    with non UTF-8 encoding declarations
  - Edit Book: Spell check dialog: Add an option to make filtering 
    the word list case sensitive
  Bug Fixes
  - Get Books: Fix integration with ebook.de broken by website changes
  - MOBI Input: Preserve the dc:rights metadata during conversion.
  - Edit Book: Fix non-BMP unicode characters causing matching tag 
    highlighting to be slightly off on linux
  - Edit Book: When editing HTML files that have charset encoding 
    declarations, automatically change the declared encoding (if any) 
    to UTF-8 on save, since the editor always saves files 
    in the UTF-8 encoding.
  - Edit Book: Fix various problems when editing EPUB files 
    with non-ascii internal filenames on OS X.
  - Edit Book: Remove unused CSS: Fix an error if an HTML file 
    links to a missing stylesheet

-------------------------------------------------------------------
Sat Jun 21 07:30:25 UTC 2014 - ecsos@opensuse.org

- update to 1.41.0
  New Features
  - New tool to set metadata in the actual book files 
    in the calibre library from the updated metadata 
    in the calibre database.
  - calibredb: Add a new 'embed_metadata' command to update 
    metadata in the actual book files in the calibre library 
    from the calibre database.
  - Edit Book: Allow customization of toolbars
  - Add empty book: When adding empty book records to the library, 
    add an option to also create empty EPUB files. 
    Useful if you intend to subsequently edit these files 
    with the calibre editor. You can access the add empty books 
    feature by right clicking the Add Books button.
  - Edit book: Remove unused CSS: Add an option to also remove 
    unused class attributes from the HTML
  - Edit book: Check Book: Add checks for empty HTML/XML/CSS/image 
    files in the book.
  - Edit Book: Check Book: Add checks for links whose fragment 
    (the part after the #) points to a location that does not exist
  Bug Fixes
  - RTF metadata: Add proper support for unicode characters 
    when reading and writing metadata to RTF files
  - RTF metadata: Fix failure to write metadata to RTF files 
    that do not already have an \info block
  - Edit Book: Remove unused CSS: Handle @import rules 
    when checking for unused CSS
  - Edit Book: Remove unused css: Prevent failure when book has 
    invalid items marked as stylesheets
  - calibredb: Fix set_metadata not working for the series_index 
    field.

-------------------------------------------------------------------
Fri Jun 13 09:08:21 UTC 2014 - ecsos@opensuse.org

- remove cssselect for openSUSE 12.2 from spec

-------------------------------------------------------------------
Fri Jun 13 08:15:31 UTC 2014 - ecsos@opensuse.org

- update to 1.40.0
  New Features
  - Edit Book: Add a new tool to manage fonts. Allows easily 
    changing/removing/embedding fonts in the entire book. 
    To use it go to Tools->Manage Fonts
  - Edit Book: Allow the color of the links in the Live CSS panel 
    to be themed.
  - E-book viewer: Add a keyboard shortcut to bookmark current location.
  Bug Fixes
  - Edit Book: Check book: When auto-changing font name to match 
    actual name in font file, also change the font name in shorthand 
    font declarations
  - Edit Book/Book polishing: Fix embedding all referenced fonts 
    not catching fonts that are only specified via style attributes 
    and not in any stylesheets.
  - Conversion: Fix normalization of CSS shorthand font property 
    not working when multiple font families are specified in the same 
    shorthand property
  - Edit Book: Live CSS: Fix clicking on link to go to style definition 
    not working if the stylesheet contains CSS 3 @media queries 
    or @font-face rules
  - Edit Book: When importing DOCX files, set the media type 
    for html files correctly
  - Edit Book: Fix import of DOCX files that contain 
    no Table of Contents not working.
  - Portable installer: Fix a crash if the user selects a destination 
    for the portable install that does not have enough disk space.
  - Fix date column not showing date added when adding zip/rar files 
    that contain an OPF with a calibre timestamp in its metadata
  - Sony driver: Fix SONY annotation app not working with files 
    sent to the device by calibre
  - Linux build: Fix regression that caused opening PDF files 
    (or any externally viewed files) preventing calibre from being 
    restarted as long as the external viewer is not shutdown.
  - Edit book: Fix changing underline style to none when creating 
    a custom color scheme causes error.
  - Check Book: Fix empty (zero byte) XML files causing 
    check book to fail.
  - Check Book: Fix combination of mismatching font family names 
    and a font-family declaration with an invalid value 
    (such as a dimension) causing auto fixing of errors to fail.

-------------------------------------------------------------------
Thu May 29 09:38:13 UTC 2014 - ecsos@opensuse.org

- update to 1.39.0
  New Features
  - Edit Book: Allow creation of custom color schemes 
    for the editor (Preferences->Editor settings)
  - Check Book: When reporting unmanifested file warnings, 
    allow auto fixing by adding the file to the manifest 
    if it is referenced elsewhere or removing the file if it is not.
  - Edit book: Preview panel: Allow syncing of position more accurately 
    when there are multiple tags on the same source code line
  - Edit book: Live CSS: Indicate which CSS properties are overridden 
    by higher priority rules
  - Kindle driver: When generating page numbers automatically, 
    add an additional method to detect page boundaries, 
    using the presence of tags in the source of the book. 
    You can use this setting by right clicking on the Kindle icon 
    in calibre when the kindle is connected and choosing customize 
    this device.
  Bug Fixes
  - Virtual Libraries: If the user selects a virtual library whose tab 
    has been closed via the Virtual Library button, re-open the tab 
    instead of displaying the virtual library in the All Books tab.
  - DOCX Input: Fix a regression that broke conversion of documents 
    with an index that contains fields with special page text.
  - Edit Book: When editing a book in a language for which 
    no dictionary is installed, consider all words 
    to be correctly spelt, rather than misspelt.

-------------------------------------------------------------------
Sat May 24 10:34:08 UTC 2014 - ecsos@opensuse.org

- update for faenza-icons v1.2

-------------------------------------------------------------------
Fri May 23 14:53:26 UTC 2014 - ecsos@opensuse.org

- update to 1.38.0
  New Features
  - Edit Book: A 'Live CSS' tool that shows all the style rules 
    for the tag you are currently editing.
  - Add an option to hide the book rating in the cover browser 
    (Preferences->Look & Feel->Cover Browser).
  - DOCX Input: if no language is defined in the metadata, 
    use the language specified in the document default style.
  Bug Fixes
  - Edit book: Fix regression that sometimes caused incorrect 
    syntax highlighting when non-breaking spaces/typographic hyphens 
    are present in the text.
  - Fix a regression that broke the compare books tool 
    when used outside the book editor.
  - Get Books: Update the Woblink plugin to handle changes 
    to the Woblink website
  - DOCX Input: Workaround buggy version of Microsoft Word 
    converting newlines in the document summary into _x000d_. 
    They are now ignored when reading metadata from docx files.
  - Edit book: Fix Check Book failing if a binary file such as an image 
    or font is mislabelled in the OPF as being a text file.
  - OS X Build: Fix a bug that was preventing multiple instances of 
    calibre being used by different user accounts on the same computer.
  - Edit book: Dont show an error message when trying to use 
    quick open with no book open
  - Content server: Add .ibooks (note the trailing s) 
    as an allowed format as well.
  - Edit Book: Fix an error when running the Check Book tool 
    on files with empty

-------------------------------------------------------------------
Fri May 16 07:58:58 UTC 2014 - saigkill@opensuse.org

- updated to 1.37

- New features:
  o Edit Book: Live spell checking in the code view. Now spelling errors
    are highlighted in the code view for convenient correction as you
    type. This can be turned off via Preferences->Editor.
  o E-book viewer: When using the tap and hold gesture on a touchscreen,
    allow lookup of the word currently under the finger in the dictionary
    or online.
  o Edit Book: Allow putting the editor into replace mode by pressing the
    Insert key
  o Content server: Add more descriptive titles to the OPDS feeds, where
    possible.
  o Edit Book: Update the Table of Contents view automatically when the
    ncx file is edited.
  o Edit book: Insert tag button: Allow entering attributes along with the
    tag name to make it easy to repeatedly insert, for example, .
  o Windows driver for Woxter Scriba 190.
  o Edit Book: Add an entry to the context menu of the preview panel to
    open external URLs when a link is right clicked on
- Bug fixes:
  o Edit Book: Fix error in the Check Book tool when items in the opf have
    paths starting with a leading slash.
  o Book polishing: Fix publisher field in epub not being cleared when
    updating metadata.
  o Kobo driver: Update to handle changes to annotation processing in
    newer Kobo firmware.
  o DOCX Input: Handle docx files with index fields that have their field
    names incorrectly lower cased.
  o Edit book: Fix incorrect syntax highlighting on linux if the text
    contains non-BMP unicode characters.
  o Edit book: Fix regression that caused an error when trying to edit
    files with no defined syntax, such as plain .txt files.

-------------------------------------------------------------------
Sat May  3 14:23:55 UTC 2014 - saigkill@opensuse.org

- updated to 1.35

- New features:
  o Edit Book: Redesign the syntax highlighter to improve performance for
    large documents and extended editing sessions.
  o Edit book: Make cursor movement smooth by not highlighting matching
    tags while the cursor is moving. Only match highlighting tags if the
    cursor stays still for a time.
  o Spellcheck dialog: Indicate whether a word is ignored in the
    Misspelled column
  o Spellcheck dialog: Pressing Ctrl+C on the words list copies only
    selected words, regardless of current cell
  o Add a copy to clipboard action to the context menu for the spell check
    dialog
  o Edit book: Fix save button incorrectly disabled after a failed save 

- Bug fixes:
  o Edit Book: Fix an error when merging CSS stylesheets that contain
    @charset rules
  o Edit book: Fix extra invalid entries being generated in the manifest
    when editing an AZW3 file that has no images.
  o Edit book: Fix a hang when editing an HTML or XML file with text of
    the form  Fix regression that prevented the ebook editor from starting
    on linux systems with locale set to 'C'
  o DOCX Input: Fix formatting of the generated Index when the index is
    complex, i.e. with lots of references to the same item, multiple level
    of sub-items, etc.
  o Smarten punctuation: Fix a double quote preceded by a hyphen at the
    end of a sentence (before the start of the next tag) being converted
    into an opening quote instead of closing quote.
  o News download: Fix very long URLs for links to pages causing errors on
    windows because of max path length restrictions.
  o Edit book: Fix saved search dialog causing high CPU usage
  o Edit book: Fix importing of Lithuanian dictionary from OpenOffice,
    that does not specify a country code.

-------------------------------------------------------------------
Sun Apr 27 14:52:09 UTC 2014 - saigkill@opensuse.org

- updated to 1.34
- New features:
  o E-book viewer: When in flow mode, handle swiping on the touchscreen
    differently. Swiping now scrolls line by line in flow mode instead of
    page by page. If you wish to scroll page by page in flow mode, tap
    instead of swiping.
  o Conversion: Preserve all guide entries that are of a type present in
    the EPUB 2.0 specification. These entries are used by newer Kindle
    readers to populate the Go To jump list
  o When adding MOBI files if the author name is in LN, FN format, auto
    change it to FN LN format, as the MOBI format has no author sort
    field. This behavior can be disabled by setting
  o Preferences->Tweaks->Author sort name algorithm to copy.
  o Spellcheck: When checking French text list all words that have the
    same stem as a single word. So j'aime and aime are listed as a single
    word.
  o Spell check: Add a context (right click) menu that allows for quick
    operations on all selected words
  o Manage user dictionaries: Add a button to import a list of words in
    bulk into the user dictionary
  o Spell check dialog: Allow sorting words case sensitively 
- Bug fixes:
  o EPUB Input: Fix incorrect handling of obfuscated fonts using the IDPF
    obfuscation algorithm when the epub unique identifier starts with
    urn:uuid
  o Edit book: Fix obfuscated fonts in EPUB files not being handled
    correctly when editing the book (obfuscated fonts would get corrupted
    when making changes).
  o Edit book: Fix a bug that caused spell checking to fail when using the
    builtin spanish dictionary
  o Spell check: Fix replacing a word and then replacing the new word
    again not working without doing a refresh in between
  o Spell check: Fix language declarations not being respected for nested
    tags.
  o Spell check: Fix 'Show next occurrence' sometimes showing the word in
    an incorrect location, for example in an attribute where spell check
    is not performed.
  o Allow import of dictionaries that deviate from the spec in minor ways
  o Edit Book: Fix the Show next occurrence button in the spell check
    dialog sometimes failing to show next occurrence
  o OS X: Detect the users default interface language correctly. Also fix
    parsing of ambiguous dates in mm/dd vs dd/mm formats, based on the
    users locale settings in OS X.

-------------------------------------------------------------------
Sun Apr 20 19:39:41 UTC 2014 - saigkill@opensuse.org

- updated to 1.33
- New features:
  o Edit book: Add a tool to check spellings, access it via Tools->Check
    spelling
  o Kobo driver: Support firmware version 3.3
  o Device driver for Tolino Vision on windows
- Bug fixes
  o Amazon metadata download: Fix Editorial Reviews not downloading into
    the comments section for some books
  o DOCX Input: Fix some text highlighting colors in the DOCX file not
    being correctly translated during conversion.
  o Wireless device driver: Fix incorrect syncing behavior when book
    matching is run for a second time while connected. This happens when
    the user changes the library or selects 'Update cached metadata on
    device'.
  o Searching: Fix searching by date not using the system locale to
    interpret dd/mm vs mm/dd dates on windows 

-------------------------------------------------------------------
Sun Apr 13 17:39:22 UTC 2014 - saigkill@opensuse.org

- Updated to 1.32
- New features:
  o Fetch news: Allow automatically creating custom news sources by
    importing OPML files. Many RSS news reader programs can export their
    list of RSS feeds in the OPML format.
  o Conversion: When inserting metadata as a jacket page, alter the font
    sizes in the jacket so that the sizes match the sizes used in the rest
    of the book. Also pretty print the generated jacket HTML.
  o Allow searching for books by id and uuid using the id: and uuid:
    prefixes
  o Allow specifying arbitrary colors for column coloring rules
- Bug fixes:
  o Update the version of openssl shipped in the binary builds (the
    version in the windows 64bit build was vulnerable to the Heartbleed
    bug)
  o Edit Book: Fix book being marked as modified even when no actual
    changes were done by various automated tools such as Smarten
    Punctuation, Subset Fonts, etc.
  o Fix ebook-device cp -f failing when destination file already exists
    Ensure that the rendered dates in the book list and edit metadata
    dialogs are always in the same language as the calibre interface,
    regardless of system language setting
  o Edit metadata dialog: Remember window size for the cover download
    window
  o DOCX Input: Dont fail on DOCX files that contain pages with zero
    effective width.
  o Content server: Fix page not found error when clicking on a category
    that has only a single item in it
  o Send books to the Books folder for the Tolino Vision, as it cannot
    find books placed outside this folder
  o Edit book: Fix error when beautifying HTML files that contain
    un-indented

-------------------------------------------------------------------
Sun Mar 23 12:03:01 UTC 2014 - saigkill@opensuse.org

- Added download_tarball.sh for downloading the original tarball from
  download.calibre-ebook.com, updating versionnumber in the specfile
  and trigger osc vc
- New Features
  o Edit Book: Add support for saved searches. Click Search->Saved
    Searches to bring up a dialog where you can create and manage saved
    searches
  o Edit Book: New tool to specify semantics in EPUB books (semantics are
    items in the guide such as preface, title-page, dedication, etc.). To
    use it, go to Tools->Set Semantics
  o Edit Book: Preview panel: Add a copy selected text action to the
    context menu
  o Edit Book: When inserting hyperlinks, allow specifying the text for
    the hyperlink in the insert hyperlink dialog 
- Bug fixes
  o Fix a regression in the previous release that broke downloading
    metadata for authors with a double initial such as R. A. Salvatore.
  o Edit book: When generating inline Table of Contents, mark it as such
    in the guide section of the OPF.
  o E-book viewer: Fix right margin for last page in a chapter sometimes
    disappearing when changing font size.
  o Edit Book: Fix saving of empty files not working
  o Edit book: Fix a regression in the previous release that broke saving
    a copy of the current book on linux and OS X
  o Edit book: Fix syntax highlighting in HTML files breaks if the closing
    of a comment or processing instruction is at the start of a new line.
  o Edit book: Fix check book failing in the presence of empty 
  o Catalogs: Fix handling of tristate boolean custom columns when
    creating EPUB/MOBI catalogs.
  o Linux build: Workaround for systems that have broken libc
    implementations that change the behavior of truncate() on file
    descriptors with O_APPEND set.

-------------------------------------------------------------------
Sun Mar 16 19:58:08 UTC 2014 - andreas.stieger@gmx.de

- change to unchanged upstream tarball for calibre and cssselect
- add source URLs
- remove generate-tarball.sh, the script did nothing but recreate
  the tarball since r145
- remove spec comments to that effect that are no longer in line
  with what the script is actually doing
- remove conditionals around Sources

-------------------------------------------------------------------
Sat Mar  8 20:00:31 UTC 2014 - saigkill@opensuse.org

- update to 1.27.0
- New Features:
  * An option to add multiple books from inside a ZIP or RAR file. Right
    click the Add Books button and choose 'Add multiple books from
    archive'.
  * Database backend: Make the database backend more robust when the
    calibre library is placed on flaky filesystems. Now when an I/O error
    occurs while writing to the database, the connection to the database
    is closed and re-opened and the operation is retried.
  * DJVU Input: Speedup extraction of text from DJVU files by implementing
    the BZZ decoder algorithm in C 
- New Bugfixes:
  * MOBI Input: Fix empty  tags not being handled correctly in rare cases
    when the markup is bad enough to be parsed only using the fallback
    HTML parser.
  * Edit book: Fix column number of cursor shown in the bottom right being
    one less than it should be.
  * Edit book: Fix names for non-BMP unicode character (Such as emoticons)
    not being displayed in the lower right corner. Also allow these
    characters to be searched for by name in the Insert special character
    tool.
  * Do not show system tray notification popups while analyzing books on
    device, as they can be slow on systems that display multiple messages
    serially instead of replacing the last message
  * Linux installer script: Do not use the filesystem to pass the
    downloaded tarball to tar as it is possible for malicious code running
    on the users computer to alter the download file between signature
    verification and calling tar to extract the files.
  * DJVU Input: When extracting embedded txt from TXTz sections in DJVU
    files, fix incorrect extraction of txt when the djvutxt external
    program is not present.
  * Edit Book: Fix import HTML file as new book not working on OS X
  * Wireless device driver: Fix a regression that prevented it form
    working with the Calibre Sync Android app.
  * Fix a regression in 1.26 that caused width and height attributes on
    tags to generate CSS width and height properties without a 'px' suffix
  * Linux binary installer: Fix an error when using proxies and python 3
    with the new installer script
  * Edit book: When exporting files, fill the choose filename popup with
    the name of the file being exported as the default name
  * Make the new Linux installer script compatible with python 2.6.

-------------------------------------------------------------------
Sun Mar  2 11:05:28 UTC 2014 - saigkill@opensuse.org

- update to 1.26.0
- New Features:
  * Edit Book: Allow direct importing of HTML or DOCX files as new books
    without doing a full conversion. Use File->Import HTML or DOCX to
    import a file as a new EPUB book with minimal changes from the
    original.
  * Linux binary installer: Various improvements to the binary installer.
    It now creates an un-installer (calibre-uninstall) that will remove
    all files created by the installer. It also no longer asks for the
    installation directory. If you wish to change that, you need to
    specify it in the installation command itself. Also the installer is
    now downloaded securely via HTTPS from github and verifies the
    signature of the installed files. Finally, it can be used to create an
    isolated install, that only makes changes to files in the installation
    directory and does not require root privileges.
  * Metadata download: Add an option to merge the downloaded comments into
    existing comments, instead of overwriting (Preferences->Metadata
    download).
  * Edit book: Add an option to automatically beautify individual files
    whenever they are opened for editing. Look under 'Editor Settings' in
    the Edit Book Preferences.
  * Bulk metadata download: When reviewing downloaded metadata allow
    hiding the controls on the comments box by right clicking in the
    comments area. Useful on smaller screens.
  * E-book viewer: When displaying metadata for the book, also display
    custom column metadata
- Bug Fixes:
  * Smarten punctuation: Correct handling for decade abbreviations like
    '60s and measurements in feet and inches like 1' 2".
  * EPUB Output: If the output profile is set to one of the Nook profiles,
    do not use shorthand CSS properties as the Nook cannot handle them.
  * Conversion: Fix incorrect CSS being generated when converting files
    that have  tags with width or height attributes that contain
    fractional numbers.
  * Edit Book: When editing EPUB files, and a file is added in META-INF/
    do not automatically add it to the manifest. Also do not warn about
    unmanifested files inside META-INF/ since a few vendors (Apple)
    require non standard files in that location.
  * Fix Book details popup window not being updated when editing metadata
    in the main window
  * Edit book: Fix editor not marking the book as modified when doing a
    Replace All that does not affect any currently open files.
  * Windows: Use a separate worker process to move files to the recycle
    bin. Fixes the problem of the recycle bin icon not being updated when
    deleting books into an empty recycle bin. Also avoids the overhead of
    launching a new, short-lived worker process for every delete.
  * calibredb: When deleting books/formats wait for deleted files to be
    moved to recycle bin, before quitting
  * RTF Output: Fix invalid RTF being produced when the text contains a
    double backslash.
  * Edit book: Fix option to disable showing the character before cursor
    not working
  * Get Books: Update various store plugins to account for changes to the
    store websites
  * Fix virtual library names with ampersands in them not being displayed
    correctly in the virtual library menu and tab bar

-------------------------------------------------------------------
Mon Feb 10 19:25:35 UTC 2014 - saigkill@opensuse.org

- update to 1.23.0
- added /usr/share/appdata to specfile
- New features:
  * Edit Book: Highlight the closest surrounding tag when editing HTML/XML
  * Edit Book: Add a tool to easily change the current paragraph (the
    paragraph containing the cursor) to a heading. Simply click the button
    with 'H1' on it and choose the heading level you want the current
    paragraph changed to.
  * Edit Book: When running Replace All add a button to the replaced
    message to show exactly what changes were done and allow them to be
    undone
  * Edit book: When checking book, detect case mismatches between links
    and the filenames of the files they point to and offer to auto-correct
    the links
  * Adding books: Implement a copy to clipboard button for when duplicates
    are found during the adding process. Useful if you wish to review the
    list of duplicates later.
  * Linux installer: Install appdata files for integration with software
    stores.
  * Edit book: Auto add a checkpoint when the book is first opened for
    editing 
- Bug fixes
  * Edit Book: Fix a bug in AZW3 support that could cause images/fonts to
    get mixed up when saving and re-opening the book multiple times.
  * Edit Book: Fix individual find and replace not working in regex mode
    if the search expression uses lookbehind/lookahead operators
  * Compare books: Fix unchanged lines at the start of a change block
    being sometimes marked with a blue background, even though they
    contain no changes
  * Compare books: Fix incorrect scrolling when viewing all text and a
    large amount of text is present after the final change.
  * PDF Output: Fix a zero division error when the transformation matrix
    has a zero diagonal
  * calibredb add_custom_column: Fix a spurious error message when adding
    custom columns caused by the new db backend
  * calibredb list: Fix error if one of the requested fields is empty for
    all requested books
  * calibredb set_metadata: Fix setting series_index with the -f argument
    not working
  * Markdown input: Fix handling of very large files.
  * Edit book: Do not create savepoints when no changes are performed by
    automated tools such as smarten punctuation, remove unused css etc.
  * Edit Book: Fix a bug that would cause an error when a global operation
    like find/replace or polishing fails.
  * Metadata download: Workaround edelweiss.com no longer being able to
    search by author name. Search only by titles and filter the results
    returned by edelweiss to only include matching authors.
  * HTML 5 parser: Preserve non-core namespace declarations on the  tag
  * Workaround broken file chooser dialog on Ubuntu that does not
    auto-insert the specified extension.
  * Compare books: Fix error when previously different files become
    identical after beautifying
  * Edit Book: Fix subsetting embedded fonts not processing fonts included
    in a stylesheet that is itself referenced only by an @import rule
  * Edit Book: Fix the remove unused css tool changing the namespace
    prefix used for the XHTML namespace in the CSS sheet, if any
  * Conversion: Fix CSS selectors using the epub namespace being ignored
  * Compare books: Fix double clicking in the right panel not opening the
    correct file in the editor

-------------------------------------------------------------------
Fri Jan 31 20:57:27 UTC 2014 - saigkill@opensuse.org

- update to 1.22.0
- New features:
  * A new tool to compare ebook files, showing the differences in their
    underlying text, styles and images side by side
  * Edit book: Add a tool to view the list of checkpoints and compare the
    current state of the book to the state at the specified checkpoint. To
    use it click View->Checkpoints
  * Edit book: Add a tool to compare the book being currently edited with
    another file. To use it go to File->Compare to other book
  * Allow comparing the ORIGINAL_EPUB version of a book to the EPUB
    version by right clicking on the ORIGINAL_EPUB format in the book
    details panel. And the same for ORIGINAL_AZW3 and AZW3 formats.
  * Edit Book: Add a button to show the changes after various automated
    tools are run such as: remove unused CSS, subset embedded fonts,
    smarten punctuation, etc.
  * Edit Book: Add check for spine items with incorrect media-type
    specified in the manifest
  * Edit Book: Enable editing of page map XML files
  * DOCX Input: Improve handling of text boxes. Text boxes are still not
    supported, but they no longer cause errors or duplicate content when
    embedded inside paragraphs.
  * Edit Book: Add check for links that point to directories in the book
    instead of files.
  * Edit Book: Show the filename of the currently edited file in the title
    bar. 
- Bug fixes
  * Edit Book: Fix unused CSS removal tool inserting namespace declaration
    at the top of the stylesheet
  * Edit book: Fix cover not being updated from the current cover in the
    calibre library when using Edit Book. Note that you can turn off
    metadata updating via Preferences->calibre Integration in the Edit
    Book Preferences.
  * Conversion: Add support for

-------------------------------------------------------------------
Mon Jan 27 12:48:15 UTC 2014 - saigkill@opensuse.org

- update to 1.21.0
- New features:
  * Edit book: Add a tool to automatically remove all unused CSS rules.
  * Useful for books created from templates that can have large numbers of
    CSS rules that dont match any actual content. Available via
    Tools->Remove unused CSS.
  * Edit book: Add a tool to split HTML files at multiple locations
    automatically. To use it, right click in the file and choose 'Split at
    multiple locations'. Useful if you want to split at all heading tags
    or all tags having a certain class and so on.
  * Book polishing: Add an option to automatically remove all unused CSS
    rules, works the same as the tool for Edit book, above.
  * Driver for ImCoSys imcoV6L
  * Edit book: Allow editing of .plist files as XML 
- Bug fixes:
  * Metadata download: Fix downloading of metadata from Edelweiss not
    working because of website changes
  * Ebook viewer: Do not override the background color specified in the
    book if the user has not set a background color in the viewer
    preferences
  * Edit book: Handle EPUB files that erroneously list the OPF itself in
    the OPF manifest with an incorrect mime type
  * Edit book: Prevent arrange into folders tool from moving files inside
    the META-INF folder

-------------------------------------------------------------------
Sat Jan 18 11:28:06 UTC 2014 - saigkill@opensuse.org

- update to 1.20.0
- New features:
  * Edit book: Add a new tool to automatically arrange all files in the
    book into folders based on their type. Access it via Tools->Arrange
    into folders.
  * Edit book: Add various validity checks for OPF files when running the
    Check Book tool.
  * Edit book: Add checks for duplicate ids in HTML/OPF/NCX files
  * Edit book: Add checks for filenames containing URL unsafe characters
    to the Check Book tool
  * Conversion: Allow getting text for entries in the Table of Contents
    from tag attributes. 
- Bug fixes:
  * AZW3 Output: When converting EPUB files that include an HTML titlepage
    and no external cover is specified, ensure that the Go to cover action
    on the Kindle goes to the cover image and not the HTML titlepage.
  * Prevent setting an incorrect value for compression quality in the
    wireless driver causing an error
  * Show a busy cursor while calibre is working on matching books on the
    device to books in the library, which can take a while if the user has
    a lot of books on the device.
  * iTunes driver: Retry automatically a few times when failing to send
    multiple book to iTunes.
  * HTML Input: Fix UTF-16/32 encoded files that are linked to from the
    parent file not being properly processed.
  * EPUB Output: Fix splitting of large HTML files removing all child tags
    from inside tags.
  * Edit book: Fix tab characters not being identified in the lower right
    corner.

-------------------------------------------------------------------
Fri Jan 10 11:44:25 UTC 2014 - saigkill@opensuse.org

- update to 1.19.0
- New features
  * Edit book: A new tool to insert special characters into the text,
    available via Edit->Insert special character. Supports all unicode
    characters (over 60,000 of them). See
    http://manual.calibre-ebook.com/edit.html#inserting-special-characters
  * Edit book: When searching for text in the editor, center the found
    text on screen
  * Driver for teXet TB-146SE.
  * Edit book: Show tooltips in the File Browser for 'special' files, such
    as the cover, opf, ncx, etc.
  * Edit book: When checking book, check for entries in the OPF whose
    mimetype does not match the file extension. 
- Bug fixes
  * Edit book: Fix marking a file as titlepage not working if the opf does
    not contain a  section.
  * Edit book: Fix errors when working on HTML files that parse as valid
    XML, but do not have the correct XHTML namespace.
  * Fix typing non-English characters using an input method (key
    composing) in the author/tags/etc fields in the metadata dialog not
    working.
  * Edit book: Fix error when merging html files that include a currently
    opened file and a non-html file is also open
  * Fix unnecessary error popup during shutdown if the wireless device
    driver is running and mdns de-registration fails.
  * Add L and D as recognized articles when automatically computing sort
    strings for French.
  * Edit book: Fix changing mimetypes in the opf file not being detected
    when closing the opf file or running any automated tool like Check
    Book

-------------------------------------------------------------------
Sat Jan  4 19:36:30 UTC 2014 - saigkill@opensuse.org

- updated to 1.18.0
- New features
  * Add an option to control how completion works when editing
    authors/tags/series/etc.
  * Edit book: Add a check for too large HTML files when running the check
    book tool.
  * Conversion: Sort the CSS rules in the output stylesheet using a
    'natural' sort algorithm, so that calibre2 sorts before calibre10.
  * Cybook Orizon driver: Upload cover thumbnails in the correct format
    and add an option to control what directory books are sent to on the
    SD card
  * Portable installer: Do not ask the user for confirmation when
    upgrading an existing installation during an automated install
    Linux/OS X driver for Trekstor Pyrus LED
  * Driver for Tagus Lux 
- Bug fixes
  * MOBI Output: When text indent is specified as a percentage in the
    input document, prevent the generated MOBI from having too large an
    indent if the user chooses a large output profile like tablet.
  * Edit book: Fix live replacement of entities not working on some non-US
    keyboard layouts.
  * Fix titlecasing of words not capitalizing the first letter, if the
    first letter is not an English character.
  * Edit book: Ensure that multiple edit book windows are grouped in a
    separate group from viewer windows in the Windows 7 taskbar. Also
    change the icon color to blue to more easily distinguish it from the
    viewer icon
  * Edit book: Fix a bug in the regex engine that calibre uses that could
    cause various incorrect results in some special circumstances.
  * Edit book: Replace buggy Qt supplied actions in the context menu for
    the editor widget with properly implemented ones
  * Book list: Fix sorting on fields that are not viewable as columns not
    being restored on calibre restart. Also fix sorting on the Title field
    via the right click menu not being restored.
  * Windows 64bit build: Fix corrupted images in MOBI files causing crash.
  * Edit book: Prettify html in newly created books.
  * AZW3 Input: Handle azw3 files that contain some empty individual HTML
    files
  * Comic Input: Fix a regression to comic input in 1.15 that could cause
    some comics to be rendered as black or white pages.

-------------------------------------------------------------------
Mon Dec 30 12:04:44 UTC 2013 - saigkill@opensuse.org

- updated to 1.17.0
- New features
  * Merry Christmas everyone! Early release this week, as I will be
    travelling.
  * Edit book: Allow drag and drop of images onto the image editor
  * Edit book: Allow import of multiple files at once, via File->Import
    files into book
  * Edit book: Show the name of the current character to the left of the
    cursor in the status bar. Can be turned off via Preferences.
  * Edit book: Automatically replace HTML entities as they are typed. This
    can be turned off in the Preferences.
  * ToC Editor: Allow bulk renaming of items. Simply select the items you
    want to rename, right click and choose bulk rename. Useful if, for
    instance, you want to rename all the items to be Chapter 1, Chapter 2
    and so on.
  * Edit book: Allow linking of stylesheets into HTML files automatically.
  * Right click on the selected HTML files in the File browser and choose
    'Link stylesheets' to have the  tags for the sheets automatically
    inserted.
  * Edit book: When deleting files, automatically remove all entries that
    refer to them from the ToC 
- Bug Fixes
  * ToC Editor: When auto-generating the table of contents from headings
    or XPath, if an element is at the top of the file, link only to the
    file instead of to the element.
  * Edit book: When splitting files, name the newly created file with a
    _split suffix.
  * Edit book: Fix position syncing incorrect when in HTML files that
    contain  tags with charset encoding declarations over more than a
    single line
  * Edit book: Automatic correction of font family names not quoting
    family names with spaces in them if the original, incorrect family
    name did not have a space.
  * Title casing: Fix presence of some non-English characters or smart
    punctuation causing all-caps text to not be properly titlecased
  * Edit book: Fix a bug preventing marking an image as cover in a book
    that previously had no cover
  * Edit book: Fix a typo causing the preferences for which windows occupy
    which corners to not work
  * Edit book: Fix crash that happens sometimes when deleting multiple
    files.
  * Edit book: Handle EPUB files which contain opf files with no  tags
  * Edit book: Fix deleting a file that is currently open in an editor,
    not auto-closing the editor
  * DOCX Input: Fix error when converting DOCX file that contains only
    image based links and no text based links.

-------------------------------------------------------------------
Sat Dec 21 23:20:01 UTC 2013 - saigkill@opensuse.org

- updated to version 1.16.0
- New features:
  * Edit book: Add a tool to browse all images in the book with their
    thumbnails. Useful for visually locating an image. To launch it, use
    View->Browse images in book.
  * Edit book: Allow creation of new, empty books via File->Create new
    book
  * Edit book: Add buttons to easily create formatting such as
    bold/italic/colors/etc. when editing HTML files
  * Edit book: Add button to easily insert  tag while editing HTML
  * Edit book: Add options to change the default font families/sizes for
    the preview panel
  * Edit book: Allow customizing which dockable windows occupy the four
    dock corners via Edit->Preferences. You can now also choose to have
    more than one row of windows in a given dock area. 
Bug fixes:
  * Edit book: When editing AZW3 files with no images in them, do not
    incorrectly display a number of binary records from the AZW3 file as
    'unknown' miscellaneous files
  * Edit book: Fix marking image as cover not working for AZW3 files if
    the file did not previously have a cover
  * AZW3 Output: Do not refuse to create the ToC if it has only a single
    entry
  * Edit book: Fix crashes when processing some books that contain
    malformed markup on OS X and windows 64bit machines
  * Edit book: Fix error when renaming the html file currently displayed
    in the preview panel and that file is not the file being currently
    edited
  * Edit book: Fix crash when editing books that have links to absolute
    paths.
  * Edit book: Fix book not being marked as modified after editing the ToC
  * Edit book: When syncing the position of the preview panel to the
    cursor in the editor and the cursor is at or before the  tag set the
    position of the preview panel to the top of the file, so that the top
    margin of the body tag is seen easily.
  * Edit book: Fix trying to import an html file/css file via the add new
    file button always resulting in a blank file
  * Edit book: Fix replacing a file with another file with exactly the
    same filename causing an error.
  * Edit book: Have the ToC view refresh itself after any major operation
    on the book
  * Edit book: Fix pasting in the image editor not working

-------------------------------------------------------------------
Sat Dec 14 14:43:25 UTC 2013 - saigkill@opensuse.org

- updated to version 1.15.0
- New features:
  o A new book editor, capable of editing files in the EPUB and AZW3
    (Kindle) formats
  o Edit metadata dialog: In the tag editor, allow easy filtering of the
    lists of available and applied tags.
  o Driver for Onyx Boox C65. 
- Bug fixes:
  o Kobo driver: Fix book covers not showing for sideloaded kepubs on the
    book details screen, with newer Kobo firmware.
  o Content server: Popup a more useful error when clicking on the cover
    of a book that has no formats to view.
  o Cover grid: Fix text showing 'None' for rating fields for books with
    no rating
  o Cover grid: Set text color based on the background color/image being
    used.
  o Metadata editor: Fix removing formatting for comments not removing
    background colors.
  o EPUB Output: Remove name attribute from  tags (replacing with id) to
    keep the asinine epubcheck happy

-------------------------------------------------------------------
Mon Dec  9 19:05:42 UTC 2013 - alinm.elena@gmail.com

- updated to version 1.14.0
- New features:
  o Edit metadata dialog: Add the ability to trim covers manually, 
    if automatic trimming is not satisfactory.
    Closes tickets: 1256054
  o You can now show any metadata field below the covers in the 
    cover grid view, not just title. To change the displayed field 
    go to Preferences->Look & Feel->Cover Grid.
  o Allow searching for plugins by name in the install new 
    plugins dialog
  o Kobo driver: Allow sending kepubs to older kobo devices as well, 
    also add support for firmware 3.10
    Closes tickets: 1257972, 1257143
  o Allow viewer plugins to customize the viewer's user interface
- Bug Fixes:
  o Table of Contents Editor: Handle generating ToC from headings 
    if the first heading level in the document is not h1 or the 
    document skips some intermediate heading levels
  o Update the metadata download and Get Books plugins for ozon.ru
  o Fix sending by email not working on computers with non-ascii hostnames.
    Closes tickets: 1256549
  o Wireless driver: Fix launching programs from within calibre causing 
    the wireless driver port to remain in use even after calibre is shutdown.
    Closes tickets: 1256198
- Improved news sources
  o Kommersant
  o Pocket
  o Heraldo de Aragon
  o National Geographic Magazine
  o Los Angeles Times
  o Boerse Online
  o Reuters- 

-------------------------------------------------------------------
Sun Dec  1 12:23:14 UTC 2013 - saigkill@opensuse.org

- updated to version 1.13
- New features:
  o Edit metadata dialog: Facilitate editing the authors for books that
    have a large number of authors, by using a dedicated 'Edit authors'
    tool, which you can launch by right clicking the authors in the edit
    metadata dialog and selecting 'Edit authors'.
  o Conversion: Fix specifying shorthand properties in filter css not
    working. Now all shorthand properties automatically filter out all the
    properties they are shorthand for.
  o Kobo driver: support new firmware version 3.0.1
  o Wireless device driver: Cache metadata on a per device basis. 
-Bug fixes:
  o Metadata download: Update code to get covers via google image search
    to handle changes to the google website.
  o Searching: When searching for identifiers, fix searching for values
    that contain colons not working. Also fix escaped parentheses not
    being parsed correctly.
  o Match books on device: Fix parentheses in book titles not being
    escaped when searching for matches.
  o Match books on device: Fix thumbnail in device metadata cache not
    being updated when matching books.
  o File open dialogs; If the previously used initial directory, no longer
    exists, use a directory one level up.
  o EPUB Output: Strip -- from inside comments, as some ebook reading apps
    cannot handle them.
  o Fix a regression in the previous release that broke the Kobo third
    party plugins
  o Fix QuickView windows not staying on top on some linux systems
  o Fixes for website changes for various Get Books Polish language stores
  o Metadata download dialog: Fix current cover not copyable to clipboard
  o Fix an incorrect translation of the language 'Polish'

-------------------------------------------------------------------
Sun Nov 24 11:47:33 UTC 2013 - saigkill@opensuse.org

- updated to version 1.12
- New features:
  o Auto adding: Option to add files of all types, not just ebooks. You
    can now tell calibre to auto add all file types, instead of just known
    ebooks via Preferences->Adding books->Automatic adding.
  o Quick view: Show the title/author/series columns in the same order as
    in the main book list.
  o Update Kobo driver to allow sending kepubs
  o Allow right clicking on covers to copy them in the metadata cover
    download dialog. 
- Bug fixes:
  o Titlecase: Fix incorrect title casing for some non-English words.
  o Kobo driver: Fix errors when using rating or numerical custom columns
    to create shelves.
  o E-book viewer: Allow searching to work with hyphenation enabled,
    provided you are searching for whole words. Searching for partial
    words may still not work. For robust searching, turn off hyphenation
    in the viewer preferences.
  o Get books: Update the B&N UK store plugin to handle changes to the B&N
    UK website
  o Apply changes being edited when clicking apply in the email
    preferences list.
  o Fix crash on linux systems whose fontconfig configuration includes
    paths to in an undecodable encoding.
  o Fix editing custom column values in the book list not allowing change
    of case.
  o Kobo driver: Fix latest firmware update for Kobo Wifi causing calibre
    to not recognize it.
  o Content server: Fix virtual libraries with an ampersand in their names
    not working

-------------------------------------------------------------------
Sun Nov 10 18:48:11 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- added Suggests: python-Pillow 

-------------------------------------------------------------------
Sat Nov  9 19:59:43 UTC 2013 - saigkill@opensuse.org

- added a python-pillow patch for calibre

-------------------------------------------------------------------
Sat Nov  9 08:45:10 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 1.10
- New features
  o Conversion: Treat .docm the same as .docx files, ignoring any macros
    in the file.
  o EPUB Output: Auto convert CMYK images to RGB. Works around the
    inability of Adobe Digital Editions to display CMYK images.
  o Quickview: Add a checkbox to lock the quickview window so that it does
    not change while moving around in the main book list 
- Bug fixes
  o Fix number of marked books shown in the drop down menu of the Mark
  o Books action not being updated when marked books are deleted (as
    opposed to being unmarked).
  o Book list: Preserve the current column when using Ctrl+Home or
    Ctrl+End shortcuts
  o Booklist: Fix using Page Up/Down keys moving book list by one row too
    many.
  o Metadata download: Do not auto trim downloaded covers as trimming can
    sometimes have undesirable effects.
  o Template language: Fix zero valued series indices not formatting
    correctly
  o Fix a regression in 1.9 that broke bibtex catalog creation
  o Quickview: Auto-close the quickview window when changing libraries.
    You have to open it again in the new library.
  o Linux binary build: Update the bundled version of zlib to fix library
    compatibility on some newer linux distros that have libpng16 compiled
    to require newer zlib versions

-------------------------------------------------------------------
Fri Nov  1 16:57:29 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 1.9
- New features
  o Drivers for the new Nook Glowlight, Lenovo IdeaPad and Kindle Fire HDX
    (linux)
  o Add an option to check for duplicates (books with the same
    title/author) when copying between libraries. Option is under
Preferences->Adding books.
  o Content server: Display book title on details page. Also put the most
    important fields (authors/series/tags) at the top.
  o When developing recipes using the command line, allow specifying the
    number of feeds and articles when using the --test parameter.
  o PDF Output: Option to control title of generated Table of Contents
  o PDF metadata: If one of the keywords in the PDF is a valid ISBN, use
    it as the ISBN for the book 
- Bug fixes
  o Amazon metadata download: Fix spurious ratings being returned for
    unrated books.
  o Bulk metadata edit: Only clear series if the clear series checkbox is
    checked. Also add a clear checkbox for publishers, so that publishers
    can be removed.
  o Use for the inserted Table of Contents title for the MOBI and PDF formats
    as well as the EPUB and AZW3 formats.
  o Fix comments editor in review metadata becoming too small on small
    screens.
  o DOCX Input: Fix hyperlink showing as underlined even if the hyperlink
    style in word is set to not show underlines.
  o E-book viewer: Remember the size of the 'Inspect' window used to
    examine the book's code.
  o Wireless driver: Fix bug that prevented different formats of the same
    book on the device from being recognized
  o Bulk metadata download: When downloading only covers and some covers
    fail, do not show the failed books while reviewing downloaded
    metadata.
  o BibTeX catalogs: Strip unmatched braces to prevent generation of
    invalid .bib file.

-------------------------------------------------------------------
Sun Oct 27 19:39:57 UTC 2013 - Sascha Manns <saigkill@opensuse.org> - 1.8.0

- updated to 1.8
- New Features:
  o DOCX Input: Support linked (as opposed to embedded) images, if the
    linked image is found on the local computer.
  o FB2 Input: Add support for note and cite back references. Link pairs
    of type="note" and type="cite" now automatically generate the correct
    back reference.
  o When automerging books during during an add, include the author as
    well as the title in the report of merged books.
  o OS X Mavericks (10.9) breaks connecting to iTunes and iBooks on iOS
    devices. For more details see:
    http://www.mobileread.com/forums/showthread.php?t=215624
- Bug Fixes: 
  o OS X: Fix system tray notifications causing crashes on some OS X 10.9
    (Mavericks) systems (those that had Growl installed at some point).
  o OSX: Fix font size in completion popups too small on Mavericks (I
    hope)
  o PDF Output: Fix rendering of some semi-transparent images. All
    semi-transparent images are now rendered using soft masks.
  o MOBI Output: Fix text marked with white-space:pre-wrap causing the
    Kindle to break lines at arbitrary points inside words.
  o FB2 Input: Fix a regression that broke conversion of FB2 files with
    paragraphs having both a style and an id attribute.
  o TXT Input: Ensure that

-------------------------------------------------------------------
Mon Oct 21 11:43:57 UTC 2013 - Sascha Manns <saigkill@opensuse.org> -1.7.0

- updated to 1.7
- New Features:
  o Cover grid: Allow using images as the background for the cover grid.
  o To choose an image, go to Preferences->Look & Feel->Cover Grid.
  o An option to mark newly added books with a temporary mark. Option is
    in Preferences->Adding books.
  o Edit metadata dialog: Allow turning off the cover size displayed in
    the bottom right corner of the cover by right clicking the cover and
    choosing 'Hide cover size'. It can be restored the same way.
- Bug Fixes:
  o Conversion: If both embed font family and the filter css option to
    remove fonts are set, do not remove the font specified by the embed
    font family option.
  o Fix a few remaining situations that could cause formats column to show
    an error message about SHLock
  o Make deleting books to recycle bin more robust. Ensure that the
    temporary directory created during the move to recycle bin process is
    not left behind in case of errors.
  o Windows: Check if the books' files are in use before deleting
  o Fix custom device driver swap main and card option not working. Also
    fix swapping not happening for a few devices on linux
  o Edit metadata dialog: The Edit metadata dialog currently limits its
    max size based on the geometry of the smallest attached screen. Change
    that to use the geometry of the screen on which it will be shown.
  o HTMLZ Output: Fix

-------------------------------------------------------------------
Thu Sep 26 08:01:20 UTC 2013 - Sascha Manns <saigkill@opensuse.org> - 1.5.0

- updated to 1.5
- New Features
  o Driver for Woxter Scriba
  o Bulk metadata edit: Allow setting the comments for all selected books
    and also allow cloning the covers. Cloning covers means that the cover
    of the first selected book will be set for all other selected books. 
- Bug Fixes
  o Windows: Improved device ejection code. Eject individual drives before
    trying to eject the device. This fixes incomplete ejection with the
    Nook devices.
  o Catalogs: fix exclude tags rules not working in non-English locales
    when creating catalogs in EPUB/MOBI formats.
  o Kobo driver: Fix reading status being cleared when connecting to a
  o Kobo with older firmware and metadata management set to automatic.
  o Content server: Sort virtual libraries by name
  o DOCX Input: Convert tabs in the docx file into non-breaking spaces in
    the output document. Note that custom tab stops are not supported.
  o Conversion: Handle the style attribute on the  tag
  o Handle databases with invalid ratings link tables
  o DOCX Input: Handle DOCX files with missing referenced styles
  o Update amazon metadata download plugin for changes to the Amazon
    website

-------------------------------------------------------------------
Sat Sep 21 08:10:38 UTC 2013 - Sascha Manns <saigkill@opensuse.org> - 1.4.0

- removed make linux_mount_helper from spec because it is removed from
  upstream with patch 7d54d25844efebfb3d6de2bb2b9af77dbf72d8b8 

-------------------------------------------------------------------
Fri Sep 20 21:53:57 UTC 2013 - Sascha Manns <saigkill@opensuse.org> 

- updated to 1.4
- New Features
  o Column icons: Allow the use of multiple icons with column icon rules.
  o Kobo driver: Add support for new cover handling in Kobo Aura with
    updated firmware
  o Driver for Icarus Essence
  o Show a warning when attempting to copy books between libraries that do
    not have the same set of custom columns.
  o EPUB/AZW3 Output: Use shorthand forms for margin, padding and border
    CSS properties, where possible
  o Allow colons in identifier values, needed for using URIs as
    identifiers
  o Comments editor: Allow treating arbitrary URLs as images
  o Show full path of library under mouse in status bar when
    switching/renaming/deleting libraries via the calibre library button.
  o DOCX Input: Add support for embedded EMF images that are just wrappers
    around an actual raster image.
- Bug Fixes
  o Conversion: Fix font subsetting not working for large fonts with more
    than 4000 glyphs, such as CJK fonts
  o HTML Input: Fix a regression that broke processing of HTML files that
    contain meta tags with dc: namespaced attribute values.
  o Fix switching to an empty virtual library not blanking the book
    details panel
  o Keep position when deleting tags in the tag editor
  o Book details panel: Render custom comments fields the same as the
    builtin comments field. In particular this fixes problems caused by
    wide text and images in custom comments fields.
  o Metadata jackets: Do not error out when using a custom template with
    some custom fields that are not present.
  o AZW3 Output: Dont choke on invalid (undecodable) links in the input
    document
  o Cover grid: Respect the double click on library view tweak
  o Fix covers set by drag and drop or pasting in the edit metadata dialog
    showing compression artifacts due to aggressive jpeg compression
  o Conversion: Fix a bug that could cause incorrect border values to be
    used when cascading, shorthand border CSS is present.
  o Fix regression in 1.3 that caused the book list to not track the
    current book when using Next/Previous in the edit metadata dialog.

-------------------------------------------------------------------
Thu Sep 19 11:21:15 UTC 2013 - toddrme2178@gmail.com

- Clean up spec file formatting
- Make sure BuildRequires and Requires are consistent
- Remove python-sip(api) = 9.2 dependency, it cannot be satisfied 
  anymore and is apparently no longer necessary anyway
- Remove redundant imagesdir
- Add version for icon provides/obsoletes to avoid self-conflict

-------------------------------------------------------------------
Sat Sep 14 10:31:31 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 1.3
- New Features
  o When doing searches or switching between virtual libraries in the main
    book list, preserve the current book. The currently selected book will
    remain visible if it is present in the results of the search or the
    selected virtual library.
  o Drivers for Oppo Find 5 and PocketBook Mini 515 
- Bug Fixes
  o DOCX Input: Handle numbered paragraphs where the numbering is
    specified in the paragraph style, instead of on the paragraph
    directly. Also support the use of arbitrary, styled text for bullets.
  o DOCX Input: Fix a single line break at the end of a paragraph not
    being rendered as a blank line.
  o DOCX Input: Fix extra top/bottom margins around headings when the
    heading style in word does not specify any top/bottom margins.
  o DOCX Input: Handle images in footnotes and endnotes.
  o ODT Input: Only treat the first image as a cover if it is of suitable
    size, instead of any image in the document.
  o Book polishing: Do not leave behind the old comments when updating
    metadata if the comments have been deleted in calibre.
  o PDF Output: Fix non-breaking space characters incorrectly rendered in
    PDF outline.
  o Content server: Fix error in opds feed after using virtual libraries
    in the main server.
  o Do not scroll the book list horizontally after editing metadata.
  o New database backend: Handle databases that contain multiple
    tags/series/publishers/etc. that differ only in case.

-------------------------------------------------------------------
Sat Sep  7 05:39:40 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- reintegrated upstream icons into the main package. Because the other
  iconset doesn't work correctly. 

-------------------------------------------------------------------
Fri Sep  6 17:30:50 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- update to 1.2
- New Features
  o Conversion: Add support for the CSS3 rem font size unit
  o MTP devices, such as Android tablets/phones: Allow ignoring any folder
    on the device, not just top level folders. For newly connected
    devices, also scan /Android/data/com.amazon.kindle for books by
    default (newer versions of the Kindle app place downloaded files
    there).
  o Speed up sorting when the book list is showing a restricted set of
    books, such as when the results of a search are displayed or a virtual
    library is used.
  o Edit metadata dialog: Add an undo option for the Trim cover button. 
- Bug fixes
  o Amazon metadata download: Update to handle website changes at
    amazon.com
  o PDF Output: Workaround a bug in the library calibre uses to render
  o HTML to PDF that caused text in some documents that used small-caps
    fonts to not render correctly.
  o Kobo driver: When a sideloaded kepub is added from a Kobo device to
    the calibre library, it is added as an epub, but the file copied is
    corrupt.
  o Fix changing the user interface language in the welcome wizard causing
    some parts of the interface to remain in the old language until
    calibre is restarted.
  o Fix regression in 1.0 that broke setting author names with the |
    character in them.
  o Content server: When running from inside the main calibre program, do
    not restrict the books shown based on the current virtual library in
    the main program. If you wish to restrict the books shown in the
    content server, use Preferences->Sharing over the net.
  o Output dates in the local timezone instead of UTC when generating CSV
    catalogs
  o Library maintenance: When doing a check library instead of dumping the
    database to SQL and restoring it, run a VACUUM. This works around
    various bugs in the dump and restore capabilities of apsw.
  o Edit metadata dialog: Fix adding an image to an empty comments block
    not working
  o Conversion: Fix font declarations with invalid font-family values
    causing conversion to abort when subsetting is enabled.
  o MOBI Output: Fix conversion of some super/sub scripts failling if they
    are the first or last element in a paragraph.
  o New database backend: Various improvements to make the backend more
    robust against databases with invalid/corrupt data in them.

-------------------------------------------------------------------
Tue Sep  3 17:45:38 UTC 2013 - jw@suse.com

- suggestion from bnc#831983#c12 added:
  Requires: python-sip(api) = 9.2

-------------------------------------------------------------------
Mon Sep  2 12:08:24 UTC 2013 - jw@suse.com

- added Requires: python-apsw (and as BuildRequires too, to catch the errors early)

-------------------------------------------------------------------
Sat Aug 31 15:45:50 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 1.1
- New Features
  o Rewrite the HTML metadata parser to make it faster and more robust.
  o Book list: When sorting on a currently unsorted column, use the last
    applied sort for that column, instead of always sorting in ascending
    order.
  o PocketBook driver: Scan for books files in the entire device not just
    in the 'books' folder
-Bug Fixes
  o Fix a regression in 1.0 that could cause the dates in custom date-type
    columns to change in some timezones when using the edit metadata
    dialog to make unrelated changes.
  o When replacing formats in a book with a very long title+authors on
    windows, calibre could leave behind the old format file, because the
    filename shortening algorithm has changed. Handle that case.
  o Fix content server giving an error if you return to the top level page
    after using the virtual libraries.
  o Fix calibredb not updating the running calibre instance properly in
    1.0
  o Fix a regression in 1.0 that broke splitting of multiple valued field
    like tags into many items during a rename.
  o Fix a regression in 1.0 that caused an error when trying to set values
    for tags with the same item repeated, with different case.
  o Fix a regression that broke downloading news when output format is set
    to PDF
  o Creating a catalog with an already existing catalog in the library
    would cause a temporary duplicate entry in the book list. Also fix the
    author sort for catalogs generated in the AZW3 format not being
    correct.
  o EPUB metadata: When changing the title in an EPUB 2.0 file that has
    multiple titles, remove the extra titles.
  o Fix a regression in 1.0 that caused Search and Replace in the bulk
    metadata edit dialog to be much slower than before
  o Fix a regression in 1.0 that caused incorrect sorting and searching on
    some composite columns (columns built from other columns).
  o Fix a regression in 1.0 that prevented the moving of libraries inside
    calibre
  o Virtual Library tabs: If the user activates a hidden tab via the
  o Virtual Library button, change the name of the All Books tab to
    reflect the hidden virtual library.
  o Ignore text records in the database that are damaged, instead of
    erroring out. Lets the rest of the data be used.
  o Fix regression that broke calibredb catalog when sorting on the id
    field.
  o HTML Input: Handle malformed OPF files when converting. 
  o Ensure that the Formats custom column (if present) is updated when a
    new format is created as a result of a conversion.
  o Fix a bug in 1.0 that broke the Check Library function on computers
    with non-English locales.
  o Content server: Fix blank username causing error on startup.
  o Fix sorting of book list by multi-valued fields like tags not correct
    in the new backend.

-------------------------------------------------------------------
Sat Aug 24 10:53:37 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 1.0
- New Features
  o A new 'cover grid' view of the books in your calibre library
  o A new, faster database backend
  o For a summary of the major changes in calibre between 0.9 and 1.0, see
    http://calibre-ebook.com/new-in/ten
  o RTF Input: Add option to ignore WMF images iinstead of replacing them
    with a placeholder.
  o Content server: Make virtual libraries available as searches from the
    start page. They work just like saved searches, clicking on a virtual
    library will show you all the books in that virtual library. 
- Bug Fixes
  o Remove extra, useless 'language' entry in metadata download
    configuration dialog
  o Kobo driver: Display device collections even if the driver is
    configured to not manage shelves on the device.
  o Fix typo in calibre.desktop file on linux
  o Edit metadata dialog: Disable OK button while results are being
    downloaded.
  o In OS X 10.8 Apple stopped redirecting stdout/stderr to Console.app
    for applications launched by launch services. Re-enable the
    redirection, useful for debugging.
  o Fix virtual library tabs not being updated when using VL button

-------------------------------------------------------------------
Sat Aug 17 19:59:52 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- Updated to 0.9.44
- New Features
  o Add an option to display all virtual libraries as tabs above the book
    list.
  o An improved cover trimming algorithm to automatically detect and
    remove borders and extra space from the edge of cover images. To try
    it use the 'Trim' button in the edit metadata dialog. This can
    sometimes remove too much so if you dont like the result, just click
    cancel. You can make the algorithm more or less aggressive via
    Preferences->Tweaks
  o Allow customizing the comic metadata reader plugin via
    Preferences->Plugins to read the series index from either the volume
    or the issue number of the comic.
  o Linux MTP driver: Add ids for some newer devices.
  o Add a trim cover option to the bulk metadata edit dialog
  o Make the book information dialog user resizable, with a splitter
    between the cover and the info panel. Also change the background of
    the cover panel for books that have been marked using the Temp marker
    plugin.
  o Driver for Samsung Galaxy Young Android phone 
-Bug Fixes
 o PDF Output: Do not abort conversion if the document being converted
   has an HTML cover (found in some broken EPUB files).
 o RTF Input: When converting RTF files with no codepage, use the input
   encoding setting as the codepage.

-------------------------------------------------------------------
Fri Aug  9 12:56:29 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- Updated to 0.9.43
- New Features
  o TXT Input: Allow using various markdown extensions for more features
    when converting markdown formatted txt files. See
    http://pythonhosted.org/Markdown/extensions/index.html for details.
  o Sending by email: Allow sending by email to an arbitrary combination
    of email address. Access it via the 'Select recipients' menu entry in
    the Email To menu.
  o A new 'Sort By' action for the right click menu. This allows sorting
    on all columns in the library, not just the visible columns. To use it
    go to Preferences->Toolbars and add it to 'The context menu for books
    in the calibre library'
  o Allow adding images into the comments field, by clicking on the insert
    link button in the comments editor in the edit metadata dialog.
  o Allow skipping the confirm bulk reconvert dialog
  o EPUB Input: If the EPUB file identifies an actual cover image in
    addition to the titlepage html file, use the cover image instead of
    rendering the titlepage. This is faster and has the advantage that an
  o EPUB to EPUB conversion preserves internal cover structure.
  o Get Books: Improve searching by removing punctuation from
    title/authors before matching. 
- Bug Fixes
  o Conversion: Fix empty inline tags that are the second child of a
    paragraph causing text change location.
  o Fix book count in tooltip of choose library button not updating
  o Kobo driver: When deleting shelves that have been synced, the Activity
    entry for the shelf was not being deleted. This left a tile for the
    shelf on the home screen of the Glo and AuraHD.
  o Comments editor: The Insert Link button has no effect until the user
    clicks inside the comments box, therefore disable it until it is
    ready, to prevent confusion.
  o Get Books: Update various Polish store plugins

-------------------------------------------------------------------
Fri Aug  2 06:11:21 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- Updated to 0.9.42
- New Features 
  o When downloading metadata from Amazon, convert the amazon categories
    into tags. You can turn this off by going to Preferences->Metadata
    download and configuring the Amazon source.
  o Kobo driver: Add an option to modify the styling in books being sent
    to the device, based on a template on the device.
  o Get Books: Add support for two more Polish ebook stores: cdp.pl and
    ebooki.allegro.pl
  o calibredb: Add a new clone command to create clones of libraries with
    the same custom columns, virtual libraries, etc. as the current
    library.
- Bug Fixes
  o MOBI metadata: Do not fail to set metadata in MOBI files if they have
    EXTH fields with NULL pointers to a cover or thumbnail.
  o Fix editing of book metadata failing when its timestamp is out of
    range for the system.
  o Fix renaming a user category to the same name it already has erases
    the user category.
  o Fix drag 'n drop of cover onto conversion dialog not working
  o Device drivers: Explicitly fsync() all files when writing to devices,
    to reduce chances of file corruption if the device is disconnected
    while jobs are running
  o Fix calibre not appearing in Ubuntu's 'Open with..' menu

-------------------------------------------------------------------
Fri Jul 19 12:17:28 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- New Features
  o EPUB Output: Add an option to insert an inline Table of Contents into
    the main text.
  o Driver for LG Android phone
  o When matching books in the library against the device manually,
    pre-fill the search field with the book title 
- Bug Fixes
  o PDF Input: Fix a regression that caused some images to be flipped when
    converting PDF files that use image rotation operators.
  o Fix regression that caused incorrect font size in dropcaps generated
    by the DOCX input plugin
  o Get Books: Fix searching for title and author returning some extra
    matches, if the title starts with an article like the, a or an.
  o PDF Output: Fix extra blank page being inserted at the start of the
    chapter when converting some epub files from feedbooks
  o PDF Output: Workaround bug in WebKit's getBoundingClientRect() method
    that could cause links to occasionally point to incorrect locations.
  o E-book viewer: Fix a bug that could cause the reported position to be
    incorrect immediately after opening a previously opened book. This
    also fixes the Back button not working if a link is clicked on the
    page immediately after opening the book.
  o Fix memory card not being detected for Elonex 621 on Windows
  o Fix regression in last release that broke auto-conversion of ebooks
    when sending to device/sending by email.
  o Get Books: Update amazon plugins for website changes
  o Allow using non-ascii chars in email passwords.

-------------------------------------------------------------------
Sat Jul  6 12:43:29 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- New Features
  o Book polishing: Add option to embed all referenced fonts when
    polishing books using the 'Polish Books' tool.
  o DOCX Input: Add support for clickable (hyperlinked) images
  o DOCX Input: Insert page breaks at the start of every new section
  o Drivers for Trekstor Pyrus Maxi and PocketBook Surfpad 2
  o DOCX Input: Add support for horizontal rules created by typing three
    hyphens and pressing enter.
- Bug fixes
  o Fix detection of SD Card in some PRS-T2N devices
  o MOBI Input: Fix a regression that broke parsing of MOBI files with
    malformed markup that also used entities for apostrophes.
  o Get Books: Update Woblink store plugin
  o Metadata download dialog: Prevent the buttons from being re-ordered
   when the Next button is clicked.
  o PDF Output: Fix links that point to URLs with query parameters being
    mangled by the conversion process.
  o DOCX Input: Fix links pointing to locations in the same document that
    contain multiple, redundant bookmarks not working.
  o EPUB/AZW3 Output: Fix splitting on page-break-after with plain text
    immediately following the split point causing the text to be added
    before rather than after the split point.
  o DOCX Input: handle bookmarks defined at the paragraph level
  o DOCX Input: Handle hyperlinks created as fields

-------------------------------------------------------------------
Wed Jun 26 16:05:07 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- New Features
  o DOCX Input: Support for Table of Contents created using the Word Table
    of Contents tool. calibre now first looks for such a Table of Contents
    and only if one is not found does it generate a ToC from headings.
  o DOCX Input: Add support for images used as bullets in lists
  o DOCX Input: If a large image that looks like a cover is present at the
    start of the document, remove it and use it as the cover of the output
    ebook. This can be turned off under the DOCX Input section of the
    conversion dialog.
  o When dropping files onto the Book Details panel, ask for confirmation
    before adding the files to the book. The confirmation can be disabled.
  o News download: Add the 'downloaded from' link at the bottom of every
    article when using a touchscreen output profile (like the Tablet
    profile).
  o E-book viewer: Change the bookmark button to always popup a menu when
    clicked, makes accessing existing bookmarks easier.
  o After a bulk metadata download, focus the review button on the popup
    notification, instead of the OK button.- 

- Bug Fixes
  o DOCX Input: Hide text that has been marked as not being visible in the
    web view in Word.
  o DOCX Input: When converting docx files with large numbers of unnamed
    images, do not crash on windows.
  o DOCX Input: Add support for the Word setting 'No space between
    paragraphs with the same style'.
  o MOBI Output: Fix rendering of SVG images that embed large raster
    images in 64bit calibre installs.
  o HTMLZ Output: Fix handling of images with URL unsafe filenames.
  o Fix unable to change the case of a previously used search because of
    the search history.
  o When searching allow use of uppercase location names, such as AUTHOR
    instead of author, automatically lowercasing them.
  o DOCX metadata: When reading covers from DOCX files use the first image
    as specified in the actual markup instead of just the first image in
    the container.
  o Kobo driver: Fix a regression when deleting empty shelves on Kobo
    devices with older firmware.
  o Do not show builtin plugins in the get new plugins dialog If a builtin
    plugin with the same name as a third party plugin exists, then the
  o builtin plagin was displayed in the get new plugins dialog as
    installed (happened with the new DOCX Input plugin).
  o Apple driver: When in synchronous mode (direct to iBooks), disable PDF
    transfers, as we can't update metadata in iTunes. Not sure when this
    started, but as of iTunes 11.0.4 it's broken.
  o Get Books: Fix error when using internal browser on some systems

-------------------------------------------------------------------
Fri May 10 14:45:23 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- New Features
  o Kobo driver: Add support for showing 'Archived' books on the device.
  o Also up the supported firmware version to 2.5.3.
  o Driver for Blackberry 9790
  o Add a tweak to turn off the highlighting of the book count when using
    a virtual library (Preferences->Tweaks)
  o Add a button to clear the viewer search history in the viewer
  o Preferences, under Miscellaneous
  o Add keyboard shortcuts to clear the virtual Library and the additional
    restriction (Ctrl+Esc and Alt+Esc). Also use Shift+Esc to bring
    keyboard focus back tot he book list. Can be changed under
    Preferences->Keyboard
  o Docx metadata: Read the language of the file, if present 
- New bugfixes
  o Kobo driver: Fix unable to read SD card on OS X/Linux
  o Content server: Fix unable to download ORIGINAL_* formats
  o Fix regression that broke searching for terms containing a quote mark
  o Fix regression that broke conversion of txt files when no input
    encoding is specified
  o When changing to a virtual library, refresh the Book Details panel.
  o Fix regression that caused searching for user categories to break.
  o Fix error when downloading only covers and reviewing downloaded
    metadata.
  o MOBI metadata: Strip XML unsafe unicode codepoints when reading
    metadata from MOBI files.
  o Txt Input: Use the gbk encoding for txt files with detected encoding
    of gb2312.
  o When pressing Ctrl+Home/End preserve the horizontal scroll position in
    the book list

-------------------------------------------------------------------
Fri Apr 26 10:21:57 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 0.9.28
- New features
  o Virtual Libraries: Easily partition your large calibre library into
    smaller 'virtual' libraries
  o Book details panel: Allow copying of links in the book details panel
    by right clicking on them.
  o Kobo driver: Add support for the new Kobo Aura HD and firmware version
    2.5.0
  o Metadata download: When showing downloaded covers, allow right
    clicking on a cover to view a full size version.
  o Driver for Easy player cyber book e touch and Droid 4
  o Edit ToC: Allow the size of the panels in the location view to be
    adjusted
  o When copying to a library by path, make it more efficient to choose
    between moving and copying
  o When checking if a zip/rar file is a comic or contains a single ebook
    to be auto-extracted, ignore thumbs.db files inside the archive 
- Bug fixes
  o EPUB Input: Fix handling of EPUB files that contain images with
    non-ascii filenames.
  o Device driver: Detect Laser EB720 with newer firmware.
  o Fix bug in Danish translation causing books with language Ingush being
    incorrectly translated as Engelsk
  o PDF Output: Fix hyperlinks not working when converting an EPUB whose
    individual files have names with URL unsafe characters.
  o Book polishing: Fix inserting cover into an epub with no cover could
    lead to incorrect guide entry if the opf is not at the root of the
    epub.
  o ZIP Output: Fix links containing backslashes on windows
  o Fix polishing of AZW3 files not working on OS X.
  o Polishing books: Fix polishing erroring out if the book being polished
    has no cover
  o RTF Input: Add partial support for hyperlinks to web resources.
  o Fix book details panel showing incorrect info after deleting books
    from a connected device

-------------------------------------------------------------------
Tue Apr  2 06:41:26 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- New features
  o Automatic adding: When checking for duplicates is enabled, use the
    same duplicates found dialog as is used during manual adding.
  o ToC Editor: Allow searching to find a location quickly when browsing
    through the book to select a location for a ToC item
  o ToC Editor: Add a button to quickly flatten the entire table of
    contents
  o Conversion: When converting a single book to EPUB or AZW3, add an
    option to automatically launch the Table of Contents editor after the
    conversion completes. Found under the Table of Contents section of the
    conversion dialog. 
- Bug fixes
  o calibredb: Nicer error messages when user provides invalid input
  o News download: Always use the .jpg extension for jpeg images as
    apparently Moon+ Reader cannot handle .jpeg
  o Fix Book Details popup keyboard navigation doesn't work on a Mac
  o Fix a regression that caused the case of the book files to not be
    changed when changing the case of the title/author on case insensitive
    filesystems

-------------------------------------------------------------------
Sat Mar 23 10:46:18 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 0.9.24
- New Features:
  o ToC Editor: Allow auto-generation of Table of Contents entries from
    headings and/or links in the book
  o EPUB/MOBI Catalogs: Allow saving used settings as presets which can be
    loaded easily later.
  o Indicate which columns are custom columns when selecting columns in
    the Preferences
  o News download: Add an option recipe authors can set to have calibre
    automatically reduce the size of downloaded images by lowering their
    quality 
- Bug Fixes:
  o News download: Fix a regression in 0.9.23 that prevented
    oldest_article from working with some RSS feeds.
  o Conversion: handle the :before and :after pseudo CSS selectors
    correctly
  o AZW3 Output: Handle the case of the  reference to a ToC containing an
    anchor correctly.
  o BiBTeX catalogs: Fix ISBN not being output and the library_name field
    causing catalog generation to fail
  o Conversion: Add support for CSS stylesheets that wrap their rules
    inside a @media rule.
  o Cover browser: Fix scrolling not working for books after the 32678'th
    book in a large library.
  o Linux: Update bundled libmtp version
  o Clear the Book details panel when the current search returns no
    matches.
  o Fix a regression that broke creation of advanced column coloring rules
  o Amazon metadata download: Handle cover images loaded via javascript on
    the amazon.de site
  o Nicer error message when exporting a generated csv catalog to a file
    open in another program on windows.
  o Fix ebook-convert -h showing ANSI escape codes in the windows command
    prompt

-------------------------------------------------------------------
Mon Mar  4 19:44:13 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- fixed bnc#805421 (hope it)
- commented out the removing of the font folder

-------------------------------------------------------------------
Sun Mar  3 11:42:21 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 0.9.21
- New Features:
  o Content server: When browsing random books, add a button to the book
    page to get another random book.
  o Kobo driver: Update cover uploading for Kobo firmware 2.3.1 and later.
  o Add a tweak under Preferences->Tweaks to try to recoginze numbers
    inside text fields like title when sorting. This will cause Book 2 to
    sort before Book 100. However, it is slower and can have trouble when
    the text starts with a number. If you want numeric sorting you should
    use the series field for it.
  o Get Books: Update the Amazon and Foyles store plugins
  o Add a setting in Preferences->Tweaks that controls the sorting of the
  o Copy to Library and Quick Switch menus. If the number of libraries is
    larger than the set value, the lists are sorted alphabetically instead
    of by frequency of use.
  o Driver for Iriver Story EB12.
  o Edit metadata dialog: When pasting in copied text into the comments
    area, you can now choose to discard all formatting. Right click on the
    comments area and select 'Paste and Match style' which will paste the
    copied text as plain text formatted in the current style.
  o Book polishing: Make updating cover a separate option, so you can now
    update metadata without updating the cover.
  o Linux build: Install zsh completion for the calibre command line
    utilities
- Bug Fixes:
  o Conversion: Do not rescale fonts sizes/adjust line heights for text
    based drop caps defined using a separate  tag (drop caps defined using
    :first-letter were already handled correctly)
  o E-book viewer: Fix clicking links going to slightly incorrect
    locations in some books.
  o E-book viewer: Fix rendering of pages for right-to-left text in paged
    mode is reversed.
  o E-book viewer: Fix bug in rendering prefixed svg tags in the cover
    pages of some EPUB files.
  o PDF Output: Do not error out when embedding a font that calibre cannot
    subset, instead embed the full font
  o Book polishing: Fix bug that caused the ORIGINAL_EPUB format to be
    replaced by the EPUB format when polishing a book with both
    ORIGINA_EPUB and EPUB
  o Polishing books: Ignore unsupported fonts instead of erroring out on
    them.
  o Make bulk edit of custom columns respect the "apply changes" checkbox
    even if the value to set has not changed

-------------------------------------------------------------------
Sat Feb 23 09:28:55 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- updated to 0.9.20
- New Features:
  o Book polishing: Add an option to smarten punctuation in the book when
    polishing
  o Book polishing: Add an option to delete all saved settings to the load
    saved settings button
  o Book polishing: Remember the last used settings
  o Book polishing: Add a checkbox to enable/disable the detailed
    polishing report
  o Add a separate tweak in Preferences-Tweaks for saving backups of files
    when polishing. That way you can have calibre save backups while
    converting EPUB->EPUB and not while polishing, if you so desire.
  o Content server: Allow clicking on the book cover to download it.
  o Useful on small screen devices where clicking the Get button may be
    difficult
  o Driver for Energy Systems C4 Touch. 

- Bug fixes:
  o E-book viewer: Fix a bug that could cause the back button in the
  o viewer to skip a location
    When tweaking/polishing an azw3 file that does not have an identified
    content ToC, do not auto-generate one.
  o Book polishing: Use the actual cover image dimensions when creating
    the svg wrapper for the cover image.
  o Book polishing: Do not error out on epub files containing an
    iTunesMetadata.plist file.
  o Book polishing: Fix trying to polish more than 5 books at a time not
    working
  o Content server: Add workaround for bug in latest release of Google
  o Chrome that causes it to not work with book lists containing some
    utf-8 characters
  o E-book viewer: When viewing EPUB files, do not parse html as xhtml
    even if it has svg tags embedded. This allows malformed XHTML files to
    still be viewed.
  o Bulk metadata edit Search & recplace: Update the sample values when
    changing the type of identifier to search on
  o Fix recipes with the / character in their names not useable from the
    command line
  o News download: Fix regression that broke downloading of images in gif
    format
  o EPUB/AZW3 Output: When splitting the output html on page breaks,
    handle page-break-after rules correctly, the pre split point html
    should contain the full element
  o Fix stdout/stderr redirection temp files not being deleted when
    restarting calibre from within calibre on windows
  o E-book viewer: When viewing epub files that have their cover marked as
    non-linear, show the cover at the start of the book instead of the
    end.
  o EPUB Input: Fix handling of cover references with fragments in the
    urls

-------------------------------------------------------------------
Wed Feb 13 18:40:59 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- added Prefer: calibre-icons-branding-upstream 

-------------------------------------------------------------------
Thu Jan 31 19:58:05 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- removed hardcoded *-icons-branding-upstream. Used instead
  *-icons-branding 

-------------------------------------------------------------------
Tue Jan 29 20:31:13 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- Hardcoded Requires: 0.9.16 for icons subpackage 

-------------------------------------------------------------------
Tue Jan 29 12:56:42 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- added BuildArch: noarch to calibre-icons-branding-upstream
- defined _bversion right before accessing the subpackage 

-------------------------------------------------------------------
Mon Jan 28 12:28:39 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- Set calibre-icons-branding-upstream Version to 1.0 (like the faenza
  one) 

-------------------------------------------------------------------
Mon Jan 28 12:01:04 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- added Requires: calibre-icons-branding 

-------------------------------------------------------------------
Mon Jan 28 11:52:16 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- splitted the GUI-Icons into calibre-icons-branding-upstream. Also
  created a calibre-icons-branding-faenza.
So Users can choose their prefered icons. 


-------------------------------------------------------------------
Fri Jan 25 13:24:27 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- Updated to 0.9.16
- New Features:
  o News download: Add support for logging in to sites that require
    javascript for their logins.
  o News download: Do not convert all downloaded images to JPG format.
  o This fixes the problem of PNG images with transparent backgrounds
    being rendered with black backgrounds
  o CHM Input: Support hierarchical table of contents. Do not generate an
    inline table of contents when a metadata table of contents is present.
  o Also correctly decode the text in the table of contents
  o Get Books: Add the beam-ebooks.de store
  o Make custom yes/no columns using icons put text values under the
    icons.
  o Driver for LG E400 and SayCoolA710
  o Speed up device connection when there are lots of books on the device
    by not generating cover thumbnails unless they are actually needed.
  o Have the metadata download dialog remember its last used size. 

- Bug fixes:
  o Fix deleting a custom column that was used in a column coloring rule
    makes the column coloring preferences panel unusable
  o Store caches outside the config directory for non-portable calibre
    installs
  o PDF Output: Dont crash if the user has a font on his system that is
    missing the OS/2 table
  o Conversion: Do not error out because of an error in user supplied
    search replace rules.
  o Conversion: Replace all non-ascii characters in CSS class names, as
    they cause problems with some broken EPUB renderers.
  o Do not choke when reading metadata from MOBI files with incorrectly
    encoded metadata fields
  o Conversion: Preserve ToC entries that point nowhere instead of causing
    them to point to a non-existent file
  o E-book viewer: Allow entries in the Table of Contents that do not
    point anywhere, instead of just ignoring them.
  o Content server: Fix the 'Previous' link in the mobile version of the
    content server webpage skipping an entry


-------------------------------------------------------------------
Tue Jan 22 20:53:24 UTC 2013 - tchvatal@suse.com

- I am unable to trigger bugs with sip 4.14 so removing the
  restriction. Also just triggering rebuild in obs should fix the
  issue I think.


-------------------------------------------------------------------
Fri Jan 18 16:59:03 UTC 2013 - tchvatal@suse.com

- Add dependency over python-cssselect wrt bnc#788151.

-------------------------------------------------------------------
Tue Jan 15 10:08:26 UTC 2013 - toms@opensuse.org

- Added Requires and BuildRequires for poppler-tools as suggested
  by Ciaran. Thanks!

-------------------------------------------------------------------
Mon Jan 14 20:09:44 UTC 2013 - jw@suse.com

- Symlinked /usr/share/fonts/truetype, so that fonts are found.
  Workaround for https://bugs.launchpad.net/ubuntu/+source/calibre/+bug/1037168
- added Requires: python-sip <= 4.13.2, because 4.14 triggers another bug:
  http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=616372

-------------------------------------------------------------------
Thu Jan 10 17:17:19 UTC 2013 - toddrme2178@gmail.com

- Add  buildrequires which is not a hard dependency
- Cleaned up spec file formatting with spec-cleaner
- Fixed shebangs on python files (rpmlint warning)
- Provide obsoleted calibre07 (rpmlint warning)
- Make sure optflags are set properly

-------------------------------------------------------------------
Fri Jan  4 13:08:02 UTC 2013 - Sascha Manns <saigkill@opensuse.org>

- update to 0.9.13
- New Features:
  o Complete rewrite of the PDF Output engine, to support links and fix
    various bugs
  o Show disabled device plugins in Preferences->Ignored Devices
  o Get Books: Fix Smashwords, Google books and B&N stores. Add Nook UK
    store
  o Allow series numbers lower than -100 for custom series columns.
  o Add mass storage driver for rockhip based android smart phones
  o Add a clear ratings button to the edit metadata dialog 
- Bug Fixes:
  o PDF Output: Fix custom page sizes not working on OS X
  o PDF Output: Fix embedding of many fonts not supported (note that
    embedding of OpenType fonts with Postscript outlines is still not
    supported on windows, though it is supported on other operating
    systems)
  o PDF Output: Fix crashes converting some books to PDF on OS X
  o HTML Input: Handle entities inside href attributes when following the
    links in an HTML file.
  o Content server: Fix custom icons not used for sub categories
  o Force use of non-unicode constants in compiled templates. Fixes a
    problem with regular expression character classes and probably other
    things.
  o Kobo driver: Do not error out if there are invalid dates in the device
    database
  o Content server: Fix for non-unicode hostnames when using mDNS

-------------------------------------------------------------------
Tue Dec 25 14:14:58 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- update to 0.9.11
- New Features:
  o Merry Christmas and Happy Holidays to all 
    When connecting to MTP devices such as the Kindle Fire HD or the Nook
    HD, speed up the process by ignoring some folders.
  o Allow changing the icons for categories in the Tag Browser. Right
    click on a category and choose 'Change category icon'.
  o Allow setting the color of all columns with a single rule in
  o Preferences->Look & Feel->Column Coloring
  o MOBI: When reading metadata from mobi files, put the contents of the
  o ASIN field into an identifier named mobi-asin. Note that this value is
    not used when downloading metadata as it is not possible to know which
    (country specific) amazon website the ASIN comes from. 
- Bug Fixes:
  o Windows build: Fix a regression in 0.9.9 that caused calibre to not
    start on some windows system that were missing the VC.90 dlls (some
    older XP systems)
  o Kobo driver: Workaround for invalid shelves created by bugs in the
    Kobo server
  o Metadata download: Fix cover downloading from non-US amazon sites
    broken by a website change.
-------------------------------------------------------------------
Fri Dec 14 11:31:03 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- update to 0.9.10
- New Features:
  o Drivers for Nextbook Premium 8 se, HTC Desire X and Emerson EM 543 
- Bug Fixes:
  o Fix rich text delegate not working with Qt compiled in debug mode.
  o When deleting all books in the library, blank the book details panel
  o Conversion: Fix malformed values in the bgcolor attribute causing
    conversion to abort
  o Conversion: Fix heuristics applying incorrect style in some
    circumstances
  o Possible fix for 64bit calibre not starting up on some Windows systems

-------------------------------------------------------------------
Sun Dec  9 11:24:37 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- updated to 0.9.9
- New Features:
  o Content server: Make the identifiers in each books metadata
    clickable 
- Bug Fixes:
  o EPUB Input: Fix an infinite loop while trying to recover a damaged
    EPUB file.
  o KF8 Input: Fix handling of links in files that link to the obsolete
    tags instead of tags with an id attribute.
  o Conversion: Fix a bug in removal of invalid entries from the spine,
    where not all invalid entries were removed, causing conversion to
    fail.
  o KF8 Input: Ignore invalid flow references in the KF8 document instead
    of erroring out on them.
  o Fix command line output on linux systems with incorrect LANG/LC_TYPE
    env vars.
  o KF8 Input: Fix page breaks specified using the data-AmznPageBreak
    attribute being ignored by calibre.
  o PDF Output: Fix custom size field not accepting fractional numbers as
    sizes
  o Get Books: Update libre.de and publio for website changes
  o Wireless driver: Increase timeout interval, and when allocating a
    random port try 9090 first

-------------------------------------------------------------------
Fri Nov 30 11:43:08 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- updated to 0.9.8
- New Features:
  o Add an option to show the cover size in the book details panel on the
    right. Option is in Preferences->Look & Feel->Book Details
  o Kobo driver: Add support for firmware 2.2. Also add an option to send
    series information to the device.
  o Catalogs: Allow using custom columns as the source for Genres when
    generating catalogs
  o When the user asks calibre to convert a book, show a small animation
    to make highlight that the convert job has been queued to run in the
    background
  o Add support for the notification center in OS X 10.8
  o calibredb: Add an option to specify the cover to use when adding books
    with calibredb add.
  o EPUB Input: Add support for EPUB files with broken central directory
    records *and* data descriptors
  o Comic metadata: Support reading metadata from cbr files. Also read the
  o comments and published date info from the metadata.
  o Speed up processing of RAR and CBR files by avoiding an extra file
    copy
  o Add driver for Nexus 10 on linux. 

- Bug Fixes:
  o KF8 Input: Handle invalid KF8 files with links pointing to
    non-existent locations and incorrect values in the div table.
  o Viewer: Fix handling of empty self closing tags.
  o Fix use of {formats} in save to disk templates. Fix some formatter
    functions causing plugboards to not validate.
  o Fix calibre quitting when minimized to system tray and an update
    available message is shown and then closed.
  o Viewer: Fix vertical margin at the top of the first page of a chapter
    incorrect in a certain rare circumstance (first child of body being an
    empty paragraph).
  o E-book viewer: Fix bug that caused the default language for
    hyphenation to be ignored for books that do not specify a language

-------------------------------------------------------------------
Mon Nov 26 09:24:50 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- updated to 0.9.7
- New Features:
  o Edit metadata dialog: Show the size of the current book cover in the
    edit metadata dialog.
  o Get Books: Allow easy searching by title and author in addition to any
    keyword, to prevent large numbers of spurious matches.
  o An option to automatically convert any added book to the current
    output format, found under Preferences->Adding books
  o E-book viewer: Allow viewing tables in a separate popup window by
    right clicking on the table and selecting 'View table'. Useful for
    reference books that have lots of large tables.
  o Catalogs: Add the current library name as an available field when
    generating catalogs in csv/xml format.
  o Enable colored text in the output from the command line tools on
    windows
  o E-book viewer: Add an option to hide the help message when entering
    full screen mode
  o E-book viewer: Add an option to always start the viewer in full screen
    mode
  o E-book viewer: Add many more controls to the context menu,
    particularly useful in full screen mode
  o E-book viewer: Allow easy searching of the selected word or phrase in
    google via the context menu
  o Add a new type of FileType plugin, postimport, that runs after a book
    has been added to the database.
  o Get Books: Remove Gandalf store, add Publio store. Update the Legimi
    store plugin for website changes 
- Bug Fixes:
  o Conversion: Correctly handle values of left and right for the
    deprecated align attribute of images, mapping them to the CSS float
    property instead of to text-align.
  o MOBI Output: When generating joint MOBI6/KF8 files do not set
    incorrect display CSS values for tables in the KF8 part
  o Connect to iTunes: Ignore AAC audio files.
  o E-book viewer: Fix restoring from fullscreen not respecting maximized
    window state
  o Fix rows in the device books view sometimes being too high
  o Catalogs: Fixed a problem occurring when merging comments with a
    custom field whose type is a list.
  o Linux binary: Use exec in the wrapper shell scripts that are used to
    set env vars and launch calibre utilities.
  o E-book viewer: Fix blank pages after every page when viewing some
    comic files in paged mode
  o E-book viewer: When printing, respect the specified page range.
  o Font subsetting: Parse the GSUB table for glyph substitution rules and
    do not remove any glyphs that could act as substitutes. Keep zero
    length glyphs like the glyphs for non printable characters when
    subsetting TrueType outlines.
  o Smarten punctuation: Fix self closing script tags causing smarten
    punctuation to fail

-------------------------------------------------------------------
Tue Nov  6 09:50:56 UTC 2012 - cedric.devillers@gmail.com

- Add conditionals for bnc#788151 fix. This should only be done for opensuse 12.2
  Earlier versions are not affected and the later should have it fixed by proper packaging of dependencies.

-------------------------------------------------------------------
Mon Nov  5 15:18:29 UTC 2012 - cedric.devillers@gmail.com

- Add cssselect as private code to fix bnc#788151

-------------------------------------------------------------------
Mon Nov  5 14:16:54 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- updated to 0.9.5
- New Features:
  o Font embedding: Add support for the CSS 3 Fonts module, which means
    you can embed font families that have more that the usual four faces,
    with the full set of font-stretch and font-weight variations. Of
    course, whether the fonts actually show up on a reader will depend on
    the readers' support for CSS 3.
  o Sharing by email: Allow specifying an 'alias' or friendly name by
    which to identify each email recipient.
  o Embedding fonts: Allow adding ttf/otf font files to calibre directly
    to be used for embedding. That way the fonts do not have to be
    installed system wide. You can add a font to calibre via the 'Add
    fonts' button in the font chooser dialog for embedding fonts.
  o E-book viewer: Add the ability to rotate images to the popup image
    viewer.
  o Generate cover: Speedup searching the system for a font that can
    render special characters
  o A new custom font scanner to locate all fonts on the system. Faster
    and less crash prone that fontconfig/freetype
  o Font family chooser: Show the faces available for a family when
    clicking on the family

- Bug fixes
  o Get Books: Fix eHarlequin and Kobo stores.
  o Kobo driver: Fix a bug that could cause the on device book matching to
    fail in certain circumstances.
  o Kobo driver: When using a SD card do not delete shelves that contain
    on books on the card (there might be books in the shelf in the main
    memory).
  o Workaround for bug in the windows API CreateHardLink function that
    breaks using calibre libraries on some networked filesystems.
  o Template editor: Use dummy metadata instead of blank/unknown values
  o Windows: abort setting of title/author if any of the books' files are
    in use. Results in less surprising behavior than before, when the
    title/author would be changed, but the on disk location would not.

-------------------------------------------------------------------
Sat Oct 27 11:31:56 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- Updated to 0.9.4
- New Features:
  o Conversion: Add an option to embed a font family into the book.
  o When changing the title/author of a book, use hard links instead of
    copying the books' files, for a large speedup. Only works on
    filesystems that support hardlinks.
  o Linux installer: Resume interrupted downloads and verify the SHA-512
    signature of the downloaded file before installing it. 
- Bug Fixes:
  o Windows: Check if any of the files of a book are in use before
    changing the title/author, this prevents the creation of duplicate
    files if one of the files is open in another program
  o Kobo driver: Fix the ondevice status for some books getting lost.
  o Catalogs: Fix regression that broke use of prefix rules.
  o Tag Browser: Fix sorting incorrect for accented letters
  o Make the bundled Liberation fonts available on all platforms for
    embedding
  o Use mimetype for fonts from the EPUB 3 specification
  o Get Books: Handle website change that broke the SONY Store plugin
  o Generate cover: If the default font cannot render characters in the
    metadata (for example for east asian languages) try to automatically
    find a font on the system that is capable of rendering the characters
  o Fix regression that broke certain types of CSS selectors.
  o Use font-weight:bold instead of font-weight:bolder for the  and  tags
    as ADE cant handle bolder when embedded fonts are used

-------------------------------------------------------------------
Tue Oct 23 13:48:30 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- added: export LANG="en_US.UTF8" to %%build section cause of trouble
  since the regular build 

-------------------------------------------------------------------
Sun Oct 21 05:25:54 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- update to 0.9.3:
- New features:
  o Conversion: Add support for CSS 3 selectors by switching to the new
    cssselect module
  o Drivers for the WayteQ xBook and the Topwise Android tablet
  o Add an output profile for the Kindle PaperWhite
  o Kobo driver: Improve performance when a large number of shelves are
    created on the device.
  o Catalogs: Put catalog sections at top level of ToC for EPUB/AZW3
    catalogs.
  o Adding books: When duplicates are found, show the list of possible
    duplicates in calibre with title and author. 

- Bug fixes:
  o KF8 Input: Fix conversion/viewing of KF8 files generated with the
    unreleased? kindlegen 2.7.
  o Kindle driver: Increase the size of the cover thumbnails sent by
    calibre to the device. This fixes the problem of cover thumbnails not
    showing up on the PaperWhite
  o MTP driver: Fix sorting on the title column of the device view.
  o Catalogs: Fix regression that caused authors and titles to be be
    incorrectly listed under symbols on OSX < 10.8.
  o Catalogs: Fix error when generating catalog in non English locale and
    the user has specified a prefix rule using a Yes/no column.
  o E-book viewer: Remove the reload entry from the context menu as it is
    not supported in paged mode.

-------------------------------------------------------------------
Sat Oct 13 13:26:04 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- update to 0.9.2:
- New features:
  * Wireless driver: Speed up deleting of multiple books
  * E-book viewer: Add options to hide the scrollbar and show reading
    position in full screen mode.
  * News download: Add a field to allow recipe authors to tell calibre to
    remove duplicate articles that a re present in more than one section
    from the download.
  * Metadata download: Turn off the use of the published date for the
    earliest edition a book as the published date. The earliest edition
    was identified via worldcat.org, which has rather poor data, leading
    to the occasional incorrect result. If you want this feature back, you
    can turn it on again via Preferences->Metadata download. 
- Bug fixes:
  * ODT Input: More workarounds for the image positioning markup produced
    by newer versions of LibreOffice.
  * Metadata download dialog: Fix selected cover being changed when covers
    are re-sorted after download completes
  * MTP driver: Ignore errors when getting the driveinfo.calibre file from
    the device and simply regenerate it
  * E-book viewer: Use the system locale settings to display the 24/12
    hour clock in full screen mode
  * Content Server: Make OPDS initial page respect the fields to display
    tweak
  * Fix regression that caused calibre to not use OPF files when adding
    books recursively from directories with multiple books per directory
  * KF8 Output: Fix handling of input documents that have URL unsafe
    characters in the file names of their images.
  * Fix enumeration type custom column not being merged.

-------------------------------------------------------------------
Sat Sep 29 09:31:18 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- update 0.9.0
- new features:
  o For a summary of the major changes in calibre between 0.8 and 0.9, see
    http://calibre-ebook.com/new-in/nine 
- bug fixes:
  o KF8 Output: Fix handling of & < and > entities in the text. They were
    sometimes being incorrectly unescaped.
  o Calibre portable: Add a manifest to the portable installer exe to
    prevent the application compatibility wizard from warning about a
    possible failed installation on windows 7. Also fixes installer
    requiring admin privileges on some computers
  o EPUB metadata: Fix book producer not being set when updating EPUB
    metadata
  o EPUB metadata: Fix incorrect namespace on the role attribute of  tags
    when updating the metadata in EPUB
  o Get Books: Fix incorrect price retrieval from ebooks.com.
  o MTP windows driver: Fix main memory and storage card sometimes swapped
  o PDF Output: On windows, remove any embedded fonts before generating
    the PDF as on windows, Qt generates image based PDFs when embedded
    fonts are present.
  o MTP windows driver: Do not try to connect to unsuitable devices such
    as the iPhone.
  o KF8 Input: Handle files that use non ascii paths/anchor names in the
    guide entries.

-------------------------------------------------------------------
Tue Sep 25 16:45:25 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- update to 0.8.70
- new features:
  o Support for connecting MTP (non disk based) devices via USB, such as
    the Nexus 7 and the Kindle Fire HD (Windows Vista and newer and Linux
    only)
  o Calibre Portable: Create a new installer that does not require
    manually unzipping the Calibre Portable folder. Instead just run the
    installer and point it to the location you want to install to.
  o Calibre Portable: Add support for multiple libraries created inside
    the 'Calibre Portable' folder.
  o In the main book list when editing a blank published date, use a
    default value of Jan 2000 so that changing the date it easier
  o Template language: Add function approximate_formats() to get list of
    formats saved in the db for a book as opposed to the formats that
    actually exist on disk
  o Template language: Add a couple of new functions to get the path to
    individual book formats and the calibre library as a whole
  o Drivers for HTC Flyer and Trekstor 4ink 

- bug fixes:
  o Conversion: Do not error out when tags have unparseable color
    attributes.
  o AZW3 Output: Do not error out if the input document contains embedded
    fonts of less than 1040 bytes.
  o Catalogs: Fix AZW3 output not properly indexed
  o Get Books: Remove Beam Books due to lack of response to issues with
    the store.
  o Windows: Ignore drives A: and B: when scanning for the drives
    belonging to a device
  o Kindle driver: Fix generation of apnx files for newer kindle firmware.
  o News download: If the output format is set to azw3, generate
    periodicals in mobi format as amazon does not support azw3
    periodicals.

-------------------------------------------------------------------
Mon Sep 10 06:39:26 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- update to 0.8.68
- New features
  o Drivers for the Nokia N9, Viewsonic 7e, Prestigio PER3274B and Coby
    Kyros 7035 
  o Add a tutorial on creating catalogs to the User Manual and a link to
    it in the create catalogs dialog
  o Wireless device connections: Add an option to force calibre to listen
    on a particular IP address. Access it by customizing the plugin in
    Preferences->Plugins
  o Android driver: Add an extra customization option to configure the
    directory to which ebooks are sent on the storage cards.
  o Add an option under Preferences->Look & Feel->Book Details to hide the
    cover in the book details panel
  o The Calibre Companion Android app that allows wireless connection of
    Android device to calibre is out of beta. See
    https://play.google.com/store/apps/details?id=com.multipie.calibreandroid 
- Bug fixes
  o Fix sorting by author not working in the device view in calibre when
    connected to iTunes
  o Fix using the 'configure this device' menu action not validating
    settings
  o Device drivers: Ignore corrupted entries in metadata.calibre, instead
    of raising an error
  o PDF Output: Do not error out when generating an outline which points
    to pages that have been removed.
  o PDF Output: Fix incorrect page numbers being generated in the outline
    when converting some books
  o PDF Output: Reduce memory consumption when writing out the PDF file,
    by using a stream
  o EPUB metadata: When there are multiple  tags use the one with the
    earliest date as the published date

-------------------------------------------------------------------
Sat Sep  1 10:38:29 UTC 2012 - Sascha Manns <saigkill@opensuse.org>

- update to 0.8.67
- New Features
  o PDF Output: Generate a PDF Outline based on the Table of Contents of
    the input document
  o Conversion: Add an option under Structure Detection to set the 'Start
    reading at' metadata with an XPath expression.
  o Speed up changing the title and author of files with books larger than
    3MB by avoiding an unnecessary extra copy.
  o Wireless device driver: Make detecting and connecting to devices
    easier on networks where mdns is disabled
  o PDF Output: Allow choosing the default font family and size when
    generating PDF files (under PDF Options) in the conversion dialog
  o Metadata dialog: Comments editor: Allow specifying the name of a link
    when using the insert link button.
  o Remove the unmaintained pdfmanipulate command line utility. There are
    many other tools that provide similar functionality, for example,
    pdftk and podofo 
- Bug Fixes
  o Catalogs: Fix regression that broke sorting of non series title
    before series titles
  o PDF Output: Do not create duplicate embedded fonts in the PDF for
    every individual HTML file in the input document
  o Fix regression that broke DnD of files having a # character in their
    names to the book details panel
  o PDF Output: Allow generating PDF files with more than 512 pages on
    windows.
  o Fix minor bug in handling of the completion popups when using the
    next/previous buttons in the edit metadata dialog

-------------------------------------------------------------------
Sat Aug 25 10:23:36 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.66
- New Features:
  o Ebook viewer: Support the display of mathematics in e-books. Supports both
    embedded TeX and MathML
  o Drivers for SONY PRS-T2, Freelander PD10 and Coolreader Tablet
  o Wireless device connections: Use a streamed mode for improved
    networking performance leading to much less time spent sending
    metadata to/from the device. Also make it easier to specify a fixed
    port directly in the dialog used to start the connection.
  o Get books: Add ebooksgratuitis.com 

- Bug Fixes:
  o PDF Output: Handle input epub documents with filenames starting with a
    dot. Also do not hang if there is an unhandled error.
  o Get Books: Update B&N plugin to handle changes to the B&N website
  o Content server: Fix regression that caused the port being advertised
    via BonJour to be incorrect if the user changed the port for the
    server.

-------------------------------------------------------------------
Sat Aug 18 08:10:31 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.65
- New Features:
  o A new wireless device driver. This allows connecting wirelessly to a
    device running a 'smart' calibre client
  o MOBI Output: Add an option to control the type of MOBI file produced,
    to the MOBI Output conversion options. You can now generate an old
  o MOBI6, a new KF8 or a joint MOBI6/KF8 file. By default, MOBI6 files
   are generated. This replaces the previous use of a tweak.
  o E-book viewer: Make paged mode the default. You can go back to the old
    flow mode by clicking the button with the yellow scroll in the top
    right corner of the viewer.
  o Driver for COBY kYROS MID7042 and Samsung Galaxy Ace S5839i 

- Bug Fixes:
  o Update version of poppler bundled with calibre to fix reading covers
    from some PDF files
  o Get Books: Fix clicking of results from Diesel books when there is
    only a single result not working
  o Improve detection of system language on first run of calibre
    When finding the next series index and the last series index is a
    fractional number, use the next largest integer, instead of just
    adding 1
  o Fix exception when saving a search/replace when no saved
    search/replace had been opened previously in the bulk search/replace
    dialog
  o Fix restore database not restoring entries for the original_* formats
  o Fix first run wizard not allowing empty email sending settings
  o Do not error out when setting the cover for a book that has no folders
    in the library.
  o Conversion pipeline: Ignore unparseable values in the color attribute
    of font tags, instead of erroring out on them.
  o Catalogs: Fix regression that broke creation of catalogs while a
    device is connected
  o Fix --with-library=/whatever not working for calibredb list

-------------------------------------------------------------------
Sun Aug 12 11:47:11 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.64
- New Features:
  o E-book viewer: Allow viewing images in the book in a separate pop-up
    window by right clicking on the image. Useful if you want to keep some
    image, like a map to the side while reading the book.
  o Catalogs: Allow generation of catalogs in AZW3 format. Also add more
    powerful configuration options to exclude books and set prefixes. See
    http://www.mobileread.com/forums/showthread.php?t=187298 for details.
  o Generate a PDF version of the User Manual 

- Bug Fixes:
  o News download: Fix broken handling of nesting for HTML 5 tags when
    parsing with BeautifulSoup
  o EPUB: Handle files in the EPUB that have semi-colons in their file
    names. This means in particular using URL escaping when creating the
    NCX as ADE cannot handle unescaped semi-colons in the NCX.
  o Conversion pipeline: Ignore unparseable CSS instead of erroring out on
    it.
  o When setting up a column coloring rule based on the languages column,
    allow entry of localized language names instead of only ISO codes
  o Catalogs: Generate cover for mobi/azw3 catalogs
  o Update the last modified column record of a book, whenever a format is
    added to the book.
  o E-book viewer: Fix line scrolling stops at breaks option not working
    in paged mode
  o MOBI Output: Fix ToC at start option having no effect when converting
    some input documents that have an out-of-spine ToC.
  o Catalog Generation: When generating EPUB/MOBI catalogs add more
    flexible rules for excluding books. Also add rules to customize the
    prefix characters used.
  o Make setting published date using metadata search/replace more robust.
  o Tag Browser: Flatten the display of sub-groups when sort by is not set
    to 'name'.
  o Fix isbn:false not matching if other identifiers are attached to the
    book.

-------------------------------------------------------------------
Sat Aug  4 09:02:00 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.63
- New Features:
  o E-book viewer: Allow quick saving and loading of viewer settings as
    'themes'.
  o Ebook-viewer: Add a restore defaults button to the viewer preferences
    dialog
  o E-book viewer: Add simple settings for text and background colors
  o Add an entry to save to disk when right clicking a format in the book
    details panel
  o ODT metadata: Read first image as the metadata cover from ODT files.
    Also allow ODT authors to set custom properties for extended metadata.
  o E-book viewer and PDF Output: Resize images that are longer than the
    page to fit onto a single page 
- Bug fixes:
  o KF8 Output: Fix bug where some calibre generated KF8 files would cause
    the Amazon KF8 viewer on the Touch to go to into an infinite loop when
    using the next page function
  o News download: Add support for  tags that link to SVG images.
  o Update podofo to 0.9.1 in all binary builds, to fix corruption of some
  o PDFs when updating metadata.
  o Catalog generation: Handle authors whose last name is a number.
  o KF8 Input: Handle html entities in the NCX toc entries correctly
  o Fix a calibre crash that affected some windows installs
  o MOBI Output: Normalize unicode strings before writing to file, to
    workaround lack of support for non-normal unicode in Amazon's MOBI
    renderer.
  o EPUB Input: Handle files that have duplicate entries in the spine
  o Fix regression in Kobo driver that caused the on device column to not
    be updated after deleting books

-------------------------------------------------------------------
Sun Jul  8 16:25:53 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.59
- New Features
  o Drivers for Samsung SGH-T989 and Sony Ericsson Sola
  o Conversion pipeline: When removing the first image, also remove the
    html file the image is found in, if that file has no other content.
  o Allows this option to be used to remove covers from EPUB files without
    leaving behind a blank page.
  o Content server: Add a navigation panel at the bottom of each page.
  o calibredb: Add a backup_metadata command to manually run the backup to
    opf from the command line
  o User defined driver: Add option to swap main memory and card a.
  o Add new option to the series_index_auto_increment tweak, no_change,
    that causes calibre not to change the series_index when the series is
    changed
- Bug Fixes
  o PDF Output: Resize large images so that they do not get off at the
    right edge of the page.
  o On linux ensure that WM_CLASS for the main calibre GUI is set to
    'calibre-gui' to match the name of the calibre-gui.desktop file. This
    is apparently required by the GNOME 3 shell.
  o Update ICU in all builds to version 49.1
  o Tag browser: Fix regression that broke drag and drop between user
    categories in the tag browser
    When copying to library and deleting after copy, do not place deleted
    files in recycle bin, as this is redundant and slow (they have already
    been copied into another library)
  o Fix yes/no fields with value of No not showing up in the book details
    panel
  o Catalogs: Better sorting for non English languages
  o Get Books: Fix Foyles UK, Weightless books, ebooks.com and ozon.ru
  o CHM Input: Fix handling of chm files that split their html into
    multiple sub-directories.

-------------------------------------------------------------------
Sat Jun 30 13:41:42 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.58
- New Features
  o Add some texture to calibre generated covers
  o Drivers for Sogo SS-4370, HTC G2 and Lenovo ThinkPad Tablet
  o Add search to the Manage tags/series/etc. dialogs
  o News download: Add support for images embedded in the HTML
  o calibre -s now waits for calibre to shutdown 

- Bug Fixes
  o Workaround for iTunes breaking scripting with version 10.6.3 on OS X.
  o EPUB Input: When there are multiple elements of the same type in the
  o OPF guide, use the first rather than the last element.
  o Windows: Disable the new UI style if the color depth of the desktop is
    less than 32 bits per pixel
  o ISBNDB metadata plugin: Return results even though they have no
    comments
  o More robust handling of EINTR during IPC
  o Metadata download: Support for amazon's new results page markup
  o EPUB Output: Fix a bug that could cause corrupted output when doing an
    EPUB/OEB to EPUB conversion if the input EPUB had multiple files with
    the same name
  o KF8 Output: Fix a couple of bugs that could lead to generation of
    invalid KF8 files.

-------------------------------------------------------------------
Fri Jun 22 17:54:25 UTC 2012 - Sascha.Manns@open-slx.de

- update 0.8.57
- New Features
  o PDF Output: Full pagination support. No more cutoff bottom line.
  o calibredb add now prints out the ids of added books
  o Kobo Vox driver: Add support for new Google Play firmware
  o Driver for Prestigio PMP5097PRO
  o Add option to disable tooltips in the book list under
    Preferences->Look & Feel
  o When customizing builtin recipes download the latest version of the
    recipe to customize instead of using the possibly out of date bundled
    version 

- Bug fixes
  o PDF Output: Use the cover from the input document when no cover is
    specified during a conversion
  o E-book Viewer: Printing now has proper pagination with top and bottom
    margins no lines partially cut-off at the bottom and full style
    retention
  o KF8 Input: Handle files with incorrectly encoded guide type entries.
  o E-book viewer: Disable hyphenation on windows xp as Qt WebKit barfs on
    soft hyphens on windows XP
  o Handle OS X systems with invalid palette colors.
  o Tag Browser: Fix regression that broke partitioning of hierarchical
    categories.
  o LRF Output: Handle negative page margins
  o Template language: Fix arithmetic functions to tolerate the value
    'None' as returned by raw_field()
  o Fix custom title sort set in the edit metadata dialog getting reset by
    the conversion dialog

-------------------------------------------------------------------
Sat Jun 16 13:05:35 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.56
- New Features
  o Make the new calibre style default on Windows and OS X.
  o Get Books: Add the new SONY Reader store
  o Read metadata from .docx (Microsoft Word) files
  o Allow customizing the behavior of the searching for similar books by
    right clicking the book. You can now tell calibre to search different
    columns than the traditional author/series/publisher/tags/etc. in
    Preferences->Searching
  o Add option to restore alternating row colors to the Tag Browser under
    Preferences->Look & Feel->Tag Browser
  o Update to Qt 4.8.2 on windows compiled with link time code generation
    for a small performance boost 

- Bug Fixes
  o Get Books: Update plugins to handle website changes at ebooks.com,
    project gutenberg, and virtualo
  o AZW3 Output: Fix TOC at start option not working
  o AZW3 Output: Close self closing script/style/title/head tags
    explicitly as they cause problems in webkit based renderers like the
    Kindle Fire and calibre's viewers.
  o Fix the current_library_name() template function not updating after a
    library switch
  o AZW3 Output: Handle the case of a link pointing to the last line of
    text in the document.
  o Fix regression in 0.8.55 that broke highlighting of items matching a
    search in the Tag Browser
  o News download: Handle query only relative URLs

-------------------------------------------------------------------
Tue Jun 12 18:42:27 UTC 2012 - coolo@suse.com

- update to 0.8.55
- New Features
   Add a new 'Calibre style' interface look that is more modern than the 
   default look. You can select it via Preferences->Look & Feel->User 
   interface style.
   New, subtler look for the Tag Browser
   Driver for Trekstor Pyrus and Pantech Android Tablet
   Closes tickets: 1008946 , 1007929 

   Conversion pipeline: Handle guide elements with incorrectly cased hrefs. 
   Also handle guide elements of type coverimagestandard and thumbimagestandard.
   Allow user to customize trekstor plugin to send books into sub directories.
   Closes tickets: 1007646 

   EPUB Input: Add support for EPUB files that use the IDPF font obfuscation algorithm.
   Closes tickets: 1008810 

   Save single format to disk: Only show the format available in the selected books.
   Closes tickets: 1007287 

   Bug Fixes

   MOBI Output: When using the insert metadata at start of book option, 
   do not use a table to layout the metadata, as the Kindle Fire crashes 
   when rendering the table.
   Closes tickets: 1002119 

-------------------------------------------------------------------
Sun May 27 08:19:51 UTC 2012 - Sascha.Manns@open-slx.de

- updated to 0.8.53
- New Features
  o Kindle Touch/4 driver: Upload cover thumbnails when sending books to
    device by USB to workaround Amazon bug of not displaying covers for
    sync-enabled books
  o Support for updating metadata in FB2 files
  o Set a different background color when choosing formats to not delete
    as opposed to choosing format to delete.
  o E-book viewer: Add an option to prevent the up and down arrow keys
    from scrolling past page breaks
  o Get Books: Remove ebookshoppe.com at the website's request 

- Bug Fixes
  o PDF Input: Support image rotation commands in PDF files. Fixes the
    long standing problem of some images being flipped when converting
    from PDF in calibre.
  o Fix a regression in 0.8.51 that caused conversion to HTMLZ to not have
    any CSS
  o Get Books: Fix website change at kobo.com causing prices not to be
    found
  o Edit the time in the 24 hour clock when calibre's interface language
    is set to German.
  o MOBI Output: When generating joint KF8/MOBI6 .mobi files set the text
    length field in the MOBI 6 header correctly. 
  o ODT Input: More workarounds for LibreOffice 3.5's habit of inserting
    pointless margin:100% directives everywhere.
  o Fix regression that broke smarten punctuation when quotes were next to
    html tags.
  o Fix published date from ozon.ru wrong in some timezones
  o Catalogs: Handle the use of custom columns with non-ascii names
    correctly
  o Conversion pipeline: Remove the attempt to detect and autocorrect if
    text will go off the left edge of the page, as it was a rather crude
    heuristic. Also do not remove fake margins if the book uses negative
    text indents on the margined elements.
  o KF8 Output: Set offsets to tags in the skeleton the same way kindlegen
    does. Also linearize non linear ToCs to ensure section to section
    jumping works.
  o Conversion pipeline: Use correct default value of 'inherit' for
    font-family and font-size when normalizing the shorthand font
    property.
  o When running python scripts via calibre-debug ensure that user plugins
    are loaded

-------------------------------------------------------------------
Tue May 22 10:45:23 UTC 2012 - idonmez@suse.com

- Add calibre-poppler-0.20.patch to fix build with poppler 0.20 

-------------------------------------------------------------------
Mon May 21 15:46:29 UTC 2012 - mail@philipp-wagner.com

- Require python-cssutils 0.9.9+
  (see http://www.mobileread.com/forums/showthread.php?t=177318) 

-------------------------------------------------------------------
Sun May 20 11:31:51 UTC 2012 - Sascha.Manns@open-slx.de

- updated to 0.8.52
- New Features
  - EPUB Input: When setting the cover for a book that identifies its
    cover image, but not the html wrapper around the cover, try to detect
    and remove that wrapper automatically.
  - When deleting books of a specific format, show the number of books
    with each format available
  - Linux install: No longer create MAN pages as all utilities have more
    comprehensive command line --help anyway
  - Add a tweak Preferences->Tweaks to control the default choice of
    format for the Tweak Book feature
  - Conversion: Allow setting negative page margins. A negative page
    margin means that calibre will not specify any page margin in the
    output document (for formats that support this)
- Bug Fixes
  - Tweak book: Fix handling of covers when tweaking KF8 books
  - KF8 Output: Handle input documents with out of sequence ToC entries.
  - Note that currently section jumping in the KF8 output produced by
    calibre for such files does not work.
  - Edit metadata dialog: Fix the edit values button for custom tag-like
    columns showing a unneeded warning about changed values
  - EPUB Output: Be a little more conservative when removing  tags. Only
    remove them if they have actual forms inside. 
  - EPUB Input: Correctly update the Cover entry in the ToC even when the
    entry has a fragment reference. 
  - Update ImagMagick DLLs in all calibre binary builds to fix security
    vulnerabilities in ImageMagick
  - Advanced search dialog: Fix equals and regex matching not being
    applied for custom column searches.
  - RTF Input: Handle old RTF files that have commands without braces.
  - Get Books: Diesel, fix results not showing when only a single match is
    found
  - Get Books: Fix DRM status indicators for Kobo and Diesel stores. Fix
    smashwords not returning results.
  - Fix regression in 0.8.51 that broke viewing of LIT and some EPUB files

-------------------------------------------------------------------
Sun May 13 18:16:42 UTC 2012 - Sascha.Manns@open-slx.de

- updated to 0.8.48
- New Features
  - When switching libraries preserve the position and selected books if
    you switch back to a previously opened library.
  - Conversion pipeline: Filter out the useless font-face rules inserted
    by Microsoft Word for every font on the system
  - Driver for Motorola XT875 and Pandigital SuperNova
  - Add a colour swatch the the dialog for creating column coloring rules,
    to ease selection of colors
  - EPUB Output: Consolidate internal CSS generated by calibre into
    external stylesheets for ease of editing the EPUB
  - List EPUB and MOBI at the top of the dropdown list fo formats to
    convert to, as they are the most common choices
- Bug Fixes
  - E-book viewer: Improve performance when switching between normal and
    fullscreen views.
  - Edit metadata dialog: When running download metadata do not insert
    duplicate tags into the list of tags
  - KF8 Input: Do not error out if the file has a few invalidly encoded
    bytes.
  - Fix download of news in AZW3 format not working
  - Pocketbook driver: Update for new PB 611 firmware.
  - ebook-convert: Error out if the user prvides extra command line args
    instead of silently ignoring them
  - EPUB Output: Do not self close any container tags to prevent artifacts
    when EPUBs are viewed using buggy browser based viewers.
  - Fix regression in 0.8.50 that broke the conversion of HTML files that
    contained non-ascii font-face declarations, typically produced by
    Microsoft Word
 
-------------------------------------------------------------------
Sat Apr 28 20:17:34 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.48
- Features
  * Experimental support for generating Amazon's new KF8 format MOBI files
  * Upgrade to using cssutils 0.9.9 for CSS parsing. Improved speed and
    robustness.
  * Show cover size in a tooltip in the conversion dialog
  * Driver for Nook Simple Touch with Glow Light 
- Bugfixes
  * Heuristics: When italicizing words do not operate on words not in
    between HTML tags.
  * Fix (I hope) the bulk metadata download process crashing for some
    people on OS X when clicking the Yes button to apply the updates.
  * Fix tooltip not being updated in the book details panel when pasting
    in a new cover
  * Cover Browser: Wrap the title on space only, not in between words.
  * Edit metadata dialog: If a permission denied error occurs when
    clicking the next or prev buttons, stay on the current book.
  * Fix heuristics not removing unnecessary hyphens from the end of lines.

-------------------------------------------------------------------
Sat Apr 21 05:38:56 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.48
- New Features
  * Conversion: The search and replace feature has been completely
    revamped.
  * Support for the new '.azw3' files that Amazon recently started
    generating. calibre will now detect them as ebooks. It can also
    view/convert them, if they are DRM free.
  * Drivers for Samsung Galaxy ACE GT-S5830L and HTC One X
- Bug Fixes
  * Get Books: Support the new website design of Barnes & Noble
  * T1 driver: Fix books sent to SD card sometimes resulting problems when
    deleted.
  * Do not allow author names to be set to blank via the Manage authors
    function. Blank authors are now automatically set to 'Unknown'
  * MOBI Output: Handle background color specified on  and  in addition to
    tags.
  * MOBI Output: Fix underline style applied to parent element not getting
    inherited by  children. 

-------------------------------------------------------------------
Fri Apr  6 08:31:33 UTC 2012 - Sascha.Manns@open-slx.de

- added Patch calibre-no-update.diff for disabling Autoupdate Searcher 

-------------------------------------------------------------------
Fri Apr  6 08:01:03 UTC 2012 - Sascha.Manns@open-slx.de

- update to 4.8.46
- New Features:
  * Auto adding: When automatically adding files from a folder,
    automatically convert the files to the current output format after
    adding. This can be turned off via Preferences->Adding
    Books->Automatic Adding.
  * E-book viewer: When reading a MOBI file that is actually a KF8 book,
    show the format as being KF8
  * Content server: Workaround for android stock browser not support HTTP
    AUTH.
  * Edit metadata dialog: Change the remove unused series button to a
  * clear series button (as the remove unused series function is now
    automatic)
  * Driver for PocketBook 622. 
- Bug Fixes:
  * Run metadata downloads in a separate process to workaround memory
    leaks in third party plugins. Also removes the need to break up bulk
    metadata downloads into 100 book batches.
  * Make tag browser filtering work when capital letters are entered.
  * EPUB metadata: Ignore urn:isbn: prefix from ISBN declaration when
    reading metadata
  * Get books: Fix feedbooks store not showing all available formats
  * KF8 Input: When the KF8 book has no metadata ToC, try to extract the
    ToC from the HTML instead.
  * Fix regression that broke access to Preferences via the Preferences
    item in the calibre menu on OS X
  * Fix bug that ignored metadata specified on the command line when using
    calibredb add
-------------------------------------------------------------------
Sat Mar 31 13:14:12 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.45 

-------------------------------------------------------------------
Mon Mar 12 10:46:59 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.42
- New Features
  - Support for reading Amazon's new KF8 format
  - Add a tweak to Preferences->Tweaks to control the font size used in
    the book details panel
  - Allow specifying a list of file types to exclude when automatically
    adding files from a folder
  - Show ratings in the book details panel as stars. Also allow the user
    to change the alignment of the ratings column in the main books list.
    No longer display the stars in blue, instead their color can be
    customized via the column coloring rules, like any other column
    When setting metadata in EPUB ensure that the  tag has its name
    attribute first. Needed for the Nook.
  - Drivers for Novo 7, LG G2x and Zenithink T-280
  - Update linux binaries to Qt 4.8.0 

- Bug Fixes
  - Fix some rar files causing crashes on OS X (updated libunrar.dylib in
    the OS X build)
  - MOBI Output: Ignore the Table of Contents pointed to by the guide, if
    it contains no links
  - ODT Input: Ignore margin declaration in ODT styles if more specific
    margin-* declarations are present
  - Conversion pipeline: Fix @import rules in CSS stylesheets that have
    comments on their first few lines being ignored.
  - EPUB Input: When extracting the contents of epub files on windows, do
    not error out if one or more of the components in the epub file have
    filepaths containing characters that are invalid for the windows
    filesystem, instead, just replace those characters, since those
    entries are likely to be errors in the zip container anyway.
  - Textile output: Fix issue with blockquotes and sentences getting
    removed.
  - MOBI Output: When using the prefer author sort conversion option,
    handle multiple authors better.
  - Fix regression in 0.8.41 that broke direct connection to iDevices in
    windows
  - Fix the download bulk metadata completed popup causing a crash if the
    Esc key is pressed.
  - Fix rating values doubled in CSV/XML catalogs
  - EPUB Input: Remove non markup documents from the spine automatically,
    instead of erroring out
    When formatting ratings in templates, etc., do not have an unnecessary
    .0
  - Calibre portable: Do not allow calibre portable to run if it is placed
    in a location whose path is too long. Also hide the library location
    setup in the welcome wizard when running the portable build.
  - Fix regression in 0.8.41 that broke calibre if the TMP or TEMP
    environment variable is set to the root of a drive.
  - Fix display of ratings type custom fields in the content server

-------------------------------------------------------------------
Sun Mar  4 20:40:26 UTC 2012 - Sascha.Manns@open-slx.de

- update to 0.8.41
- New Features

  * Driver for Sony Experia Play 4G Closes tickets: 938831 [External link]
  * News download system: Allow use of __future__ in recipes, and do
not change line numbers of code in the recipe when compiling it
  * Use the My Documents folder as the default location for the
Calibre Library folder on first start in windows Closes tickets: 934840 [External link]
  * Add a tweak to Preferences->Tweaks to control the order in which
categories appear in the Tag Browser
  * Tag Browser: Add an entry to the right click menu to quickly
delete tags Closes tickets: 934509 [External link]
  * Amazon metadata download: Try to scrape series information from
the amazon details page. Note that currently very few books have
series info available. Often the page for hardcover will have series,
but the Kindle edition will not. In such cases calibre may or may not
find the series, depending on which page it ends up using.
  * Content server: Add favicon to OPDS feeds. Closes tickets: 934731 [External link]

- Bug Fixes

  * RTF Input: Fix some WMF images embedded in RTF files being
distorted on conversion. Closes tickets: 934167 [External link]
  * Fix long standing bug preventing calibre from working on east
asian windows installs when the user name in windows has non-ascii
characters Closes tickets: 937389 [External link]
  * Get Books: Fix Baen Webscription and O'Reilly stores. Fix price
detection for Google Books
  * MOBI Output: When the same anchor is present more than once in the
input document, use the first occurrence rather than the last one. Closes tickets: 934031 [External link]
  * Use the 'default cover font' tweak when generating default
masthead images as well Closes tickets: 939256 [External link]
  * Fix content server does not correctly display custom field of type
'rating' Closes tickets: 938303 [External link]
  * Fix welcome wizard does not save send-from email info unless
send-to field is filled Closes tickets: 937087 [External link]
  * When reading metadata from odt files, use initial-creator in
preference to creator for setting the author field Closes tickets: 934564 [External link]
  * Fix conversion erroring out when the input document has very long
and thin images Closes tickets: 935234 [External link]

- New news sources

  * La pausa caffe by faber1971
  * Various Polish news sources by fenuks

- Improved news sources

  * The Sun
  * Various Polish news sources
  * Mediapart

-------------------------------------------------------------------
Mon Feb 13 10:44:46 UTC 2012 - coolo@suse.com

- patch license to follow spdx.org standard

-------------------------------------------------------------------
Sat Feb 11 20:32:26 UTC 2012 - Sascha.Manns@open-slx.de

- New Features:
  * Auto-adding: Add an option to check for duplicates when auto adding.
  * Content server: Export a second record via mDNS that points to the
    full OPDS feed in addition to the one pointing to the Stanza feed. The
    new record is of type _calibre._tcp.
  * Allow specifying a set of categories that are not partitioned even if
    they contain a large number of items in the Tag Browser. Preference is
    available under Look & Feel->Tag Browser
  * Allow setting a URL prefix for the content server that run embedded in
    the calibre GUI as well.
  * Allow output of identifiers data in CSV/XML/BiBTeX catalogs
  * Driver for Motorola Droid XT910, Nokia E71 and HTC EVO 3D.
  * Cut down the time taken to launch worker processes by 40%
  * You can now configure the calibre settings for the currently connected
    device by right clicking on the device icon in the toolbar, instead of
    having to go through Preferences->Plugins 

- Bug Fixes:
  * Auto-adding: Do not add incomplete files when files are downloaded
    directly into the auto add folder.
  * When running multiple delete from device jobs, fix the device view
    sometimes marking the wrong books as being deleted, after the first
    delete job completes.
  * MOBI Input: Handle files that have spurious closing  and/or  tags in
    their markup.
  * RTF Input: Strip out false color specifications, as they cause
    artifacts when converted to MOBI

-------------------------------------------------------------------
Fri Feb  3 11:45:33 UTC 2012 - Sascha.Manns@open-slx.de

- New Features:
  * Implement the ability to automatically add books to calibre from a
    specified folder.
  * Conversion: When automatically inserting page breaks, do not put a
    page break before a
    or 
    tag if it is immediately preceded by another 
    or 
    tag.
  * Driver for EZReader T730 and Pint-of-View PlayTab Pro

- Bug Fixes:
  * Fix device entry not visible in menubar even when it has been added
    via Preferences->Toolbars.
  * Fix metadata plugboards not applied when auto sending news by email
  * Fix regression in 0.8.34 that broke recipes that used skip_ad_pages()
    but not get_browser(). 
  * Restore device support on FreeBSD, by using HAL
  * Get books: Show no more than 10 results from the Gandalf store
  * Content server: Fix metadata not being updated when sending for some
    MOBI files.
  * Heuristic processing: Fix the italicize common patterns algorithm
    breaking on some HTML markup.
  * When trying to find an ebook inside a zip file, do not fail if the zip
    file itself contains other zip files.
  * EPUB Input: Handle EPUBs with duplicate entries in the manifest.
  * MOBI Input: Handle files that have extra  tags sprinkled through out
    their markup.

-------------------------------------------------------------------
Fri Jan 20 07:50:18 UTC 2012 - toms@opensuse.org

- Fixed generate-tarball.sh
- updated to 0.8.35 (20 Jan, 2011):
  * New Features
    . Decrease startup time for large libraries with at least one
      composite custom column by reading format info on demand
    . When automatically deleting news older than x days, from the
      calibre library, only delete the book if it both has the tag
      News and the author calibre. This prevents accidental deletion
      of books tagged with News by the user.
    . Driver for Infibeam Pi 2
    . Add a Tag Editor for tags like custom columns to the edit metadata dialog

  * Bug Fixes
    . E-book viewer: Fix regression in 0.8.35 that caused viewer to
      raise an error on books that did not define a language
    . Content server: Fix grouping for categories based on custom columns.
    . Closes tickets: 919011
    . Edit metadata dialog: When setting the series from a format or
      via metadata download, ensure that the series index is not automatically 
      changed, when closing the dialog.
    . Closes tickets: 918751
    . When reading metadata from Topaz (azw1) files, handle non ascii metadata correctly.
    . Closes tickets: 917419
    . CHM Input: Do not choke on CHM files with non ascii internal 
      filenames on windows.
    . Closes tickets: 917696
    . Fix reading metadata from CHM files with non-ascii titles
    . Fix HTML 5 parser choking on comments
    . If calibre is started from a directory that does not exist, automatically 
      use the home directory as the working directory, instead of crashing
    . Fix iriver story HD Wi-Fi device and external SD card swapped
    . Closes tickets: 916364 [External link]
    . Content server: Fix ugly URLs for specific format download in the book 
      details and permalink panels
    . When adding FB2 files do not set the date field from the metadata in the file


-------------------------------------------------------------------
Mon Dec 26 22:13:24 UTC 2011 - Sascha.Manns@open-slx.de

- updated to 0.8.32
- New Features
  - Linux: When deleting books, send them to the recycle bin, instead
    of permanently deleting. This is the same behavior as on Windows and
    OS X.
  - Add a checkbox to allow users to disable the popup that asks if
    books should be auto-converted before sending to device
  - Drivers for Droid Razr, Samsung GT-I9003 and Bookeen Odyssey
    Closes tickets: 906356 [External link] , 906056 [External link] ,
    905862 [External link]
  - Allow passing multiple filenames as command line arguments to
    calibre, to add multiple books. Closes tickets: 907968 [External link]

- Bug Fixes
  - MOBI Output: Fix regression in 0.8.30 that caused the use of
    hidden heading elements for the TOC to generate links in the wrong
    place.
    Closes tickets: 907156 [External link]
  - EPUB Output: Ensure directories have the correct permissions bits
    set when unzipping an epub with unzip on Unix
  - Fix bottom most shortcuts in keyboard shortcuts for viewer not
    editable
  - EPUB Output: Fix handling of self closing <audio> tags.
    Closes tickets: 906521 [External link]
  - MOBI Input: Map invalid <o:p> tags to <p> tags before parsing, to
    handle broken nesting.
    Closes tickets: 905715 [External link]
  - Conversion pipeline: HTML5 parsing: Fix handling of XML
    namespaces. Fixes regression in 0.8.30 that caused some articles in
    some news downloads to appear blank when viewed in Adobe Digital
    Editions based readers
  - Get Books: Gandalf store, fix price and cover detection
  - EPUB Output: Fix the Flatten filenames option in EPUB Output
    causing duplicated manifest ids in rare cases.
    Closes tickets: 905692 [External link]
  - When adding books via ISBN, show the user the list of invalid
    ISBNs that will be ignored, if any, before starting the add operation.
    Closes tickets: 905690 [External link]
  - Fix unsmarten punctuation conversion option broken in 0.8.31.
    Closes tickets: 905596 [External link]
  - Fix broken evaluation of composite columns in save-to-disk

-------------------------------------------------------------------
Tue Nov 15 07:50:19 UTC 2011 - toms@suse.de

- updated to 0.8.26
  * New Features
    . Tweak to control sorting of date type columns. You can choose
      to have them sorted only by displayed fields
    . Driver for the Trekstor 3.0
    . Performance improvements when evaluating templates, and in
      particular general program mode templates

  * Bug Fixes
    . ODT Input: When converting to EPUB improve handling of large 
      images placed inside small frames, to prevent them from obscuring text.
    . Closes tickets: 860272, 884759
    . EPUB Input: Automatically strip entries of type application/text from 
      the spine. Apparently there are EPUB production tools out there that create them.
      Closes tickets: 884792
    . Keep the startup splash screen visible until the GUI has fully completed initializing.
      Closes tickets: 885827
    . ODT Input: Fix handling of span tags containing only whitespace.
      Closes tickets: 887311
    . On windows when changing title or author via the main book list, handle the 
      case of one of the books files being open in another program more gracefully.
      Closes tickets: 880585
    . When adding a format to an existing book record, ensure that no changes are 
      made to the database until after the file operations have succeeded.
    . Fix bug that prevented configuring which fields to download metadata for when
      adding books by ISBN
      Closes tickets: 856076
    . Fix Japanese characters not being crrectly displayed on index pages in news
      downloads for the SONY T1
      Closes tickets: 888029
    . Get Books: Fix booleans in search expressions not working in non-English 
      calibre versions
      Closes tickets: 887554
    . Fix a bug in the support for hours/minutes/seconds in datetime format strings
      Closes tickets: 887412
    . Treat an author_sort value of 'Unknown' the same way as unknown authors are
      treated in template processing
    . Detect SD card in Kobo Vox
    . Amazon metadata download: Workaround for change in Amazon website causing 
      some books to have incorrect ratings downloaded

New news sources

    Techtarget by Julio Map


-------------------------------------------------------------------
Mon Oct 24 19:07:54 UTC 2011 - Sascha.Manns@open-slx.de

- updated to 0.8.23
- New Features:
  - Drivers for T-Mobile Move, new Pandigital Novel, New Onyx Boox and Freescale MX 515
  - SONY T1 driver: Support for periodicals and better timezone detection
  - Add a remove cover entry to the right click menu of the cover display in the right panel
- Bug Fixes:
  - Amazon metadata download: Fix for change in Amazon website that broke downloading metadata.
  - MOBI metadata: When reading titles from MOBI files only use the title in the PDB header if there is no long title in the EXTH header
  - Fix regression that broke use of complex custom columns in save to disk templates.
  - Fix regression that broke reading metadata from CHM files
  - Fix a bug that broke conversion of some zipped up HTML files with non ascii filenames on certain windows installs.
  - RTF Input: Fix bug in handling of paragraph separators.
  - Fix a regression that broke downloading certain periodicals for the Kindle.
  - Fix regression that broke updating of covers inside ebook files when saving to disk
  - Fix regression breaking editing the 'show in tag browser' checkbox in custom column setup editing
  - Fix typo that broke stopping selected jobs in 0.8.22

-------------------------------------------------------------------
Mon Oct 24 19:04:48 UTC 2011 - Sascha.Manns@open-slx.de

- removed calibre-poppler.diff because it is already included in the Source 

-------------------------------------------------------------------
Tue Oct  4 15:07:51 UTC 2011 - Sascha.Manns@open-slx.de

- updated to 0.8.21
- New Features
  - A Tips and Tricks blog at http://blog.calibre-ebook.com to introduce 
    less well known calibre features in a simple way
  - News download: Add list of articles in the downloaded issue to the 
    comments metadata of the generated ebook. Makes it possible to 
    search for a particular article in the calibre library.
  - Toolbar buttons: You can now also right click the buttons to bring 
    the popup of extra actions, in addition to clicking the small arrow 
    next to the button.
  - Amazon metadata download plugin: Add option to download metadata 
    from amazon.es
  - Driver for Vizio and iRobot A9 Android tablets
  - When switching to/starting with a library with a corrupted database, 
    offer the user the option of rebuilding the database instead of erroring out.
  - Template language: Add list_equals function
  - Add a special output profile for the PocketBook 900 as it does not 
    resize images correctly by itself 

- Bug fixes
  - A Tips and Tricks blog at http://blog.calibre-ebook.com to introduce 
    less well known calibre features in a simple way
  - News download: Add list of articles in the downloaded issue to the 
    comments metadata of the generated ebook. Makes it possible to search for 
    a particular article in the calibre library.
  - Toolbar buttons: You can now also right click the buttons to bring the popup
    of extra actions, in addition to clicking the small arrow next to the button.
  - Amazon metadata download plugin: Add option to download metadata from 
    amazon.es
  - Driver for Vizio and iRobot A9 Android tablets
  - When switching to/starting with a library with a corrupted database, offer 
    the user the option of rebuilding the database instead of erroring out.
  - Template language: Add list_equals function
  - Add a special output profile for the PocketBook 900 as it does not resize 
    images correctly by itself

-------------------------------------------------------------------
Mon Sep 26 13:59:07 UTC 2011 - vuntz@opensuse.org

- Update calibre-poppler.diff after discussion with upstream
  poppler.

-------------------------------------------------------------------
Mon Sep 26 10:41:30 UTC 2011 - coolo@suse.com

- add work around for new poppler version

-------------------------------------------------------------------
Mon Sep 26 09:21:53 UTC 2011 - coolo@suse.com

- update to 0.8.20
  new features:
    - MOBI Output: Map a larger set of font names to 
      sans-serif/monospace font in the MOBI file
    - Get Books: Allow searching on the DRM column in the results.
    - Manage tags/series/etc dialog: Add a was column to show the 
      old value when changing values.
    - Template language: Add new functions to manipulate language codes
  bug fixes:
    - MOBI Output: Don't set cdetype when option to enable sharing 
      instead of syncing is specified. This fixes the option.
    - Conversion pipeline: Fix crash caused by empty <style> elements.
    - Get Books: Fix Woblink store
    - MOBI Input: Correctly handle MOBI files that have been passed 
      through a DRM removal tool that leaves the DRM fields in the header.
    - Fix typo preventing the updating of metadata in MOBI files 
      serverd by the content server
    - Get Books: Handle non ASCII filenames for downloaded books
    - When generating the title sort string and stripping a leading 
      article, strip leading punctuation that remains after removing the article
    - Fix downloading metadata in the Edit metadata dialog could 
      result in off by one day published dates, in timezones behind GMT
    - Fix handing of title_sort and custom columns when creating a BiBTeX catalog.
    - TXT Markdown Input: Change handling of _ to work mid word.
    - Fix Check library reporting unknown files ad both missing an unknown
    - Search/Replace: Permit .* to match empty tag like columns.

-------------------------------------------------------------------
Tue Sep 20 14:33:12 UTC 2011 - Sascha.Manns@open-slx.de

- updated to 0.8.19
- New Features:
  o Driver for Sony Ericsson Xperia Arc
  o MOBI Output: Add option in Preferences->Output Options->MOBI 
    Output to enable the share via Facebook feature for calibre 
    produced MOBI files. Note that enabling this disables the sync 
    last read position across multiple devices feature.
  o Content server: Update metadata when sending MOBI as well as EPUB files
  o News download: Add an auto_cleanup_keep variable that allows 
    recipe writers to tell the auto cleanup to never remove a specified element
  o Conversion: Remove paragraph spacing: If you set the indent size 
    negative, calibre will now leave the indents specified in the input document 

- Bug Fixes:
  o Fix regression in 0.8.18 that broke PDF Output
  o MOBI Output: Revert change in 0.8.18 that marked news downloads 
    with a single section as blogs, as the Kindle does not auto archive them
  o PDF output on OSX now generates proper non image based documents
  o RTF Input: Fix handling of internal links and underlined text
  o Fix language sometimes not getting set when downloading metadata in the edit metadata dialog
  o Fix regression that broke killing of multiple jobs
  o Fix bug processing author names with initials when downloading metadata from ozon.ru.
  o Fix a memory leak in the Copy to library operation which also fixes the metadata.db being held open in the destination library
  o Keyboard shortcuts: Allow use of symbol keys like >,*,etc.
  o EPUB Output: When splitting be a little cleverer about discarding 'empty' pages

-------------------------------------------------------------------
Wed Aug 31 14:31:13 UTC 2011 - Sascha.Manns@open-slx.de

- reported incorrect-fsf-adress to upstream with Bug lp#837986
  (https://bugs.launchpad.net/calibre/+bug/837986 

-------------------------------------------------------------------
Wed Aug 31 10:00:17 UTC 2011 - Sascha.Manns@open-slx.de

- updated to version 0.8.16
- New Features
  o News download: Add algorithms to automatically clean up downloaded
    HTML
  o Add an option to Preferences->Look and Feel->Cover Browser to show the
    cover browser full screen. When showing the cover browser in a
    separate window, you can make it fullscreen by pressing the F11 key.
  o Show the languages currently used at the top of the drop down list of
    languages
  o When automatically computing author sort from author's name, if the
    name contains certain words like Inc., Company, Team, etc. use the
    author name as the sort string directly. The list of such words can be
    controlled via Preferences->Tweaks.
  o Add a search for individual tweaks to Preferences->Tweaks
  o Drivers for a few new android phones 

- Bug Fixes
  o Fix line unwrapping algorithms to account for some central
    European characters as well.
  o Switch to using more modern language names/translations from the
    iso-codes package
  o Allow cases insensitive entering of language names for convenience.
  o When adding a text indent to paragraphs as part of the remove spacing
    between paragraphs transformation, do not add an indent to paragraphs
    that are directly centered or right aligned.
  o Conversion pipeline: More robust handling of case insensitive tag and
    class css selectors
  o MOBI Output: Add support for the start attribute on 
    tags
  o When adding books that have no language specified, do not
    automatically set the language to calibre's interface language.
  o Fix use of tag browser to search for languages when calibre is
    translated to a non English language
  o When downloading news, set the language field correctly
  o Fix languages field in the Edit metadata dialog too wide
  o Fix setting of languages that have commas in their names broken
  o FB2 Input: When convert FB2 files, read the cover from the FB2 file
    correctly.

-------------------------------------------------------------------
Sat Aug 20 12:55:33 UTC 2011 - Sascha.Manns@open-slx.de

- updated to version 0.8.15
- New Features:
  o Add a 'languages' metadata field.
  o Get Books: Add XinXii store.
  o Metadata download plugin for ozon.ru, enabled only when user selects
    russian as their language in the welcome wizard.
  o Bambook driver: Allow direct transfer of PDF files to Bambook devices
  o Driver for Coby MID7015A and Asus EEE Note
  o Edit metadata dialog: The keyboard shortcut Ctrl+D can now be used to
    trigger a metadata download. Also show the row number of the book
    being edited in the titlebar
  o Add an option to not preserve the date when using the 'Copy to
    Library' function (found in Preferences->Adding books) 

- Bug Fixs:
  o Linux binary: Use readlink -f rather than readlink -e in the launcher
    scripts so that they work with recent releases of busybox
  o When bulk downloading metadata for more than 100 books at a time,
    automatically split up the download into batches of 100.
  o When deleting books from the Kindle also delete 'sidecar' .apnx and
    .ph1 files as the kindle does not clean them up automatically
  o Fix a subtle bug in the device drivers that caused calibre to lose
    track of some books on the device if you used author_sort in the send
    to device template and your books have author sort values that differ
    only in case.
  o Fix scene break character pattern not saved in conversion preferences
  o Keyboard shortcuts: Fix a bug triggered by some third party plugins
    that made the keyboard preferences unusable in OS X.
  o Search box: Fix completion no longer working after using Tag Browser
    to do a search. Also ensure that completer popup is always hidden when
    a search is performed.
  o Fix pressing Enter in the search box causes the same search to be
    executed twice in the plugins and keyboard shortcuts preferences
    panels
  o Catalog generation: Fix error creating epub/mobi catalogs on non UTF-8
    windows systems when the metadata contained non ASCII characters

-------------------------------------------------------------------
Sun Aug 14 15:46:24 UTC 2011 - Sascha.Manns@open-slx.de

- New Features:
  o Make the keyboard shortcuts used by the main calibre interface user
    customizable, via Preferences->Advanced->Keyboard
  o When switching libraries, if the library no longer exists, give the
    user a chance to specify a new location for the library, in case it
    was moved, before forgetting it.
  o Template language: Add strcat and strlen builtin functions. 

- Bug fixes:
  o The various options to control how automerging works when adding books
    now also apply when copying a book from one library to another.
  o Ebook viewer: Respond to key presses even when the book display area
    does not have keyboard focus
  o Allow integer and float column values to go to -999999. -1000000 is
    the value of 'undefined'.
  o Fix in calibre browser not working for the Open books store in Get
    Books.
  o Fix regression in 0.8.13 that caused incorrect title/author for
    downloaded news if you turned off reading metadata from file contents
    in Preferences->Adding books
  o Save to disk: When saving to a single directory, handle the case of
    the save to disk template containing path separators inside template
    expression correctly.
  o Get Books: Always read metadata from the file contents, ignoring the
    setting in Preferences->Adding books
  o Fix merge_metadata to not overwrite non-text fields ('bool', 'int',
    'float', 'rating', 'datetime') that have a value of zero/false instead
    of None.

-------------------------------------------------------------------
Wed Aug 10 14:26:44 UTC 2011 - Sascha.Manns@open-slx.de

- New Features
  o Add a new action 'Pick Random Book' that can be added to the toolbar
    via Preferences->Toolbars.
  o Driver for Droid X2
  o PDF metadata: Support reading/writing of tags from the Keywords field
    in PDF files.
  o MOBI Input: Speedup reading of HUFF/CDIC compressed files
  o MOBI Output: Add a command line option --extract-to that uses the
    inspect MOBI tool to extract the created MOBI file to the specified
    directory
  o Template language: Add a few new functions to manipulate lists
    (list_difference, list_intersection, list_sort)
  o Make the Manage Tags/Publishers/etc. dialog show a column with counts
    for each item, to easily sort by number of items
  o MOBI Output: Generate navpoints for items at every level in the TOC,
    not just the deepest level 

- Bug Fixes
  o MOBI Output: Remove option to choose masthead font as the font
    selection control causes crashes on some windows systems
  o MOBI Output: Fix bug that caused paragraphs that had only a non
    breaking space as text before the first child element to be removed.
  o Display undefined dates properly in the Book details panel.
  o Fix regression that broke deleting of books from first generation
    Kobos with un-upgraded firmware
  o Get books: Fix Gutenberg store and improvements to chitanka.info and
    e-knigni.net
  o News download: Support https proxies
  o Check library did not know about original_* files
  o Fix crash caused by having very large numbers of authors > 100 for a
    book

-------------------------------------------------------------------
Fri Jul 29 19:22:10 UTC 2011 - Sascha.Manns@open-slx.de

- New Features
  o Content server: Return the correct last modified date when serving
    ebook files. Also allow getting of book metadata as /get/opf/
  o Driver for the COBY MP977
  o Get Books: Remove epub bud store. Add Ozon.ru and e-knigni.net stores.
  o Fix broken amazon UK and DE stores.
  o Add a new tweak to Preferences->Tweaks that allows auto generation of
    series numbers when importing books with a series name, but no number
- Bug Fixes
  o Fix a regression in 0.8.11 that broke calibre on linux systems that
    use a file system encoding that cannot support cyrillic characters
  o Fix long titles not wrapping in cover browser
  o When adding books, handle the case of files without read permission
    more gracefully.
  o When changing metadata in EPUB files do not use the opf: namespace
    prefix on newly created elements. Apparently, FBReaderJ doesn't
    understand XML namespaces.
  o Prevent metadata download from returning published dates earlier than
    101 A.D.
  o Fix a bug where dates before 101AD in the database could cause errors
  o Fix an error in the book details panel if the user sets the default
    author link to blank

-------------------------------------------------------------------
Wed Jul 27 08:20:22 UTC 2011 - Sascha.Manns@open-slx.de

- updated to Version 0.8.11
  - New Features
    o When doing a conversion from some format to the same format, save the
      original file
    o Conversion pipeline: Add an option to control the height of the blank
      lines inserted by calibre
    o Drivers for bq DaVinci, Samsung Galaxy ACE GT-S5830 and Medion
      e-reader
    o Get Books: Add stores Chitanka and Bookoteka. Remove epubbuy.de at
      store's request
    o Content server: Add a link at the bottom of the mobile interface to
      switch to the full interface.
    o Update the kindle icon shown when a Kindle is connected to use a
      picture of the Kindle 3
    o MOBI Output: When converting epub documents that have a start element
      in their guide, use it to mark the starting position at which the MOBI
      file will be opened.
    o News download: Add a default Accept header to all requests 

  - Bug Fixes
    o Fix regression that broke loading translations from .po files in the
      working directory
    o Fix conversion dialog not allowing series numbers larger than 9999
    o Conversion pipeline: When adding/removing entries to the manifest,
      ignore unparseable URLs instead of erroring out on them
    o SD Card in Azbooka not being detected
    o Conversion pipeline: Strip out large blocks of contiguous space (more
      than 10000 contiguous blanks) as these slow down the conversion
      process and are almost always indicative of an error in the input
      document.
    o ebook-convert: Abort if a keyboard interrupt is raised during parsing
    o Regex builder: Show a nicer error message when the user has the file
      open in another program on windows.
    o When converting in the GUI, set all identifiers present in the book's
      metadata in the output file, if the output format supports them.

-------------------------------------------------------------------
Wed Jul 20 06:10:20 UTC 2011 - Sascha.Manns@open-slx.de

- updated to Version 0.8.10
  - New Features
    * Add a right click menu to the cover browser. It allows you to view a
      book, edit metadata etc. from within the cover browser. The menu can
      be customized in Preferences->Toolbars
    * Allow selecting and stopping multiple jobs at once in the jobs window
    * When editing metadata directly in the book list, have a little pop up
      menu so that all existing values can be accessed by mouse only. For
      example, when you edit authors, you can use the mouse to select an
      existing author.
    * Get Books: Add ebook.nl and fix price parsing for the legimi store
    * Drivers for Samsung Infuse and Motorola XPERT
    * Tag Browser: Make hierarchical items work in group searched terms.         

  - Bug Fixes
    * Allow setting numbers larger than 99 in custom series columns
    * Fix a bug that caused the same news download sent via a USB connection
    * to the device on two different days resulting in a duplicate on the
      device
    * Ensure English in the list of interface languages in Preferences is
      always listed in English, so that it does not become hard to find
    * SNB Output: Fix bug in handling unicode file names
    * Fix sorting problem in manage categories. Fix poor performance problem
    * when dropping multiple books onto a user category.
    * Remove 'empty field' error dialogs in bulk search/replace, instead
      setting the fields to their default value.
    * Fix regression that broke communicating with Kobo devices using
      outdated firmware
    * LRF Input: Fix conversion of LRF files with non ascii titles on some
      windows systems

-------------------------------------------------------------------
Mon Jul 11 20:47:49 UTC 2011 - Sascha.Manns@open-slx.de

- updated to Version 0.8.9
  - New Features
	* Kobo Touch: Display Preview Tag for book previews on the device
	* Improved display of grouped search terms in Tag Browser
	* When adding HTML files to calibre, add an option to process links in
	  breadth first rather than depth first order. Access it via
	  Preferences->Plugins and customize the HTML to ZIP plugin
	* Conversion pipeline: Add option to control if duplicate entries are
	  allowed when generating the Table of Contents from links.
	* Metadata download: When merging results, if the query to the xisbn
	  service hangs, wait no more than 10 seconds. Also try harder to
	  preserve the month when downlaoding published date. Do not throw away
          isbnless results if there are some sources that return isbns and some
	  that do not.
	* Get Books: Remove OpenLibrary since it has the same files as
	  archive.org. Allow direct downloading from Project Gutenberg.
	* Add functions to the template language that allow getting the last
	  modified time and size of the individual format files for a book. Also
          add a has_cover() function.
 - Bug Fixes
	* Fix true/false searches dont work on device views
	* Fix renaming of collections in device views
	* Fix regression that broke the use of the device_db plugboard
	* Kobo driver: Hide Expired Book Status for deleted books. Also fix
	  regression that broke connecting to Kobo devices running very old
          firmware.
	* Fix bug in 0.8.8 that could cause the metadata.db to be left in an
	  unusable state if calibre is interrupted at just the wrong moment or
	  if the db is stored in dropbox
	* Fix sorting of composite custom columns that display numbers. 

-------------------------------------------------------------------
Sun Jul  3 06:53:54 UTC 2011 - Sascha.Manns@open-slx.de

- added automatic osc add for the new Sourcepackage into
  generate-tarball.sh 

-------------------------------------------------------------------
Sun Jul  3 06:49:03 UTC 2011 - Sascha.Manns@open-slx.de

- updated to Version 0.8.8
- New Features
  o Make author names in the Book Details panel clickable. Clicking them
    takes you to the wikipedia page for the author by default. You may
    have to tell calibre to display author names in the Book details panel
    first via Preferences->Look & Feel->Book details. You can change the
    link for individual authors by right clicking on the author's name in
    the Tag Browser and selecting Manage Authors.
  o Get Books: Add 'Open Books' as an available book source
  o Get Books: When a free download is available for a search result, for
    example, for public domain books, allow direct download of the book
    into your calibre library.
  o Support for detecting and mounting reader devices on FreeBSD.
  o When creating a composite custom column, allow the use of HTML to
    create links and other markup that display in the Book details panel
  o Add the swap_around_comma function to the template language.
  o Drivers for HTC G2, Advent Vega, iRiver Story HD, Lark FreeMe and
    Moovyman mp7
  o Quick View: Survives changing libraries. Also allow sorting by series
    index as well as name.
  o Connect to iTunes: Add an option to control how the driver works
    depending on whether you have iTunes setup to copy files to its media
    directory or not. Set this option by customizing the Apple driver in
    Preferences->Plugins. Having iTunes copy media to its storage folder
    is no longer neccessary. See
    http://www.mobileread.com/forums/showthread.php?t=118559 for details
    Remove the delete library functionality from calibre, instead you can
    now remove a library, so calibre will forget about it, but you have to
    delete the files manually 

- Bug Fixes
  o Fix a regression introduced in 0.8.7 in the Tag Browser that could
    cause calibre to crash after performing various actions
  o Fix an unhandled error when deleting all saved searches
  o Fix row numbers in a previous selection being incorrect after a sort
  o operation.
  o Fix ISBN identifier type not recognized if it is in upper case
  o Fix a regression in 0.8.7 that broke reading metadata from MOBI files
    in the Edit metadata dialog.
  o Fix handling of filenames that have an even number of periods before
    the file extension.
  o Fix lack of thread saefty in template format system, that could lead
    to incorrect template evaluation in some cases.
  o Fix conversion to PDB when the input document has no text
  o Fix clicking on first letter of author names generating incorrect
    search.
  o Also fix updating bulk metadata in custom column causing unnneccessary
    Tag Browser refreshes.
  o Fix a regression in 0.8.7 that broke renaming items via the Tag
    Browser
  o Fix a regression in 0.8.7 that caused the regex builder wizard to fail
    with LIT files as the input

-------------------------------------------------------------------
Wed Jun 29 18:34:55 UTC 2011 - toms@suse.de

- Added suggestion from bnc#702918 to support Sony prs350 devices
  Thanks to Mathias Homann!
- Localization files are integrated into a locales.zip which makes
  it difficult to install into separate locale directory.
  Furthermore, it seems to be interconnected with other functions
  which makes it a lot of work to remove that.
  => Leave it in the locale.zip for the time being

-------------------------------------------------------------------
Sun Jun 26 12:56:51 UTC 2011 - Sascha.Manns@open-slx.de

- updated to version 0.8.7
- New Features
  o Connect to iTunes: You now need to tell iTunes to keep its own copy of
    every ebook. Do this in iTunes by going to Preferences->Advanced and
    setting the 'Copy files to iTunes Media folder when adding to library'
    option. To learn about why this is necessary, see:
    http://www.mobileread.com/forums/showthread.php?t=140260
  o Add a couple of date related functions to the calibre template
    langauge to get 'todays' date and create text based on the value of a
    date type field
  o Improved reading of metadata from FB2 files, with support for reading
    isbns, tags, published date, etc.
  o Driver for the Imagine IMEB5
  o Show the currently used network proxies in Preferences->Miscellaneous
  o Kobo Touch driver: Show Favorites as a device collection. Various
    other minor fixes.
  o Content server now sends the Content-Disposition header when sending
    ebook files.
  o Allow search and replace on comments custom columns.
  o Add a new action 'Quick View' to show the books in your library by the
    author/tags/series/etc. of the currently selected book, in a separate
    window. You can add it to your toolbar or right click menu by going to
    Preferences->Toolbars.
  o Get Books: Add libri.de as a book source. Fix a bug that caused some
    books downloads to fail. Fixes to the Legimi and beam-ebooks.de stores

- Bug Fixes
  o Fix a memory leak that could result in the leaking of several MB of
    memory with large libraries
  o Fix the read metadata from format button in the edit metadata dialog
    using the wrong timezone when setting published date
  o Generating catalog: Fix occassional file in use errors when generating
    catalogs on windows
  o Fix clicking on News in Tag Browser not working in non English
    locales.
  o HTML Input: Fix a regression in 0.8.6 that caused CSS stylesheets to
    be ignored
  o Fix a regression that caused restore database to stop working on some
    windows sytems
  o EPUB Output: Convert tags with text in them into  as ADE cannot handle them. 

-------------------------------------------------------------------
Tue Jun 14 06:59:31 UTC 2011 - toms@suse.de

- Removed calibre-cssutils.diff patch as it is integrated in the
  sources now

-------------------------------------------------------------------
Mon Jun 13 19:24:06 UTC 2011 - saigkill@opensuse.org

- uploaded source for 0.8.4 but the l18n Patch and the CSS Patch needs
  to be updated. But i haven't enough experience to do that. 

-------------------------------------------------------------------
Tue Jun  7 08:47:18 UTC 2011 - saigkill@opensuse.org

- updated to version 0.8.4
- New Features:
  o New and much simpler interface for specifying column coloring via
    Preferences->Look & Feel->Column Coloring
  o Driver for Trekstor eBook Player 5M, Samsung Galaxy SII I9100,
    Motorola Defy and miBuk GAMMA 6.2
  o Get Books: Add EpubBud, WH Smits and E-book Shoppe stores
  o When deleting 'all formats except ...', do not delete if it leaves a
    book with no formats
  o Change default toolbar to make it a little more new user friendly. The
    icons have been re-arranged and now the text is always visiblke by
    default. You can change that in Preferences->Look & Feeel and
    Preferences->Toolbar
  o Windows installer: Remember and use previous settings for installing
    desktop icons, adding to path, etc. This makes the installer a little
    slower, complaints should go to Microsoft.
  o Template language: Add str_in_list and on_device formatter functions.
  o Make debugging templates a little easier
  o Allow the user to specify formatting for number type custom columns 

- Bug fixes:
  o Fix typo in NOOK TSR driver that prevented it from working on windows
  o Fix quotes in identifiers causing Tag Browser to be blank.
  o Speedup auto complete when there are lots of items (>2500) the
    downside being that non ASCII characters are not sorted correctly. The
    threshold can be controlled via Preferences->Tweaks
  o RTF Output: Fix handling of curly brackets
  o Fix searching in Get Books not working with non ASCII characters
  o Fix excessive memory consumption when moving very large files during a
    metadata change
  o Fix series index being overwritten even when series is turned off in
    bulk metadata download
  o Fix regression in templates where id and other non standard fields no
    longer worked.
  o EPUB Output: Fix crash caused by ids with non-ascii characters in them
  o Try to preserve the timestamps of files in a ZIP container
  o After adding books always select the most recently added book.

-------------------------------------------------------------------
Tue May 31 13:04:54 UTC 2011 - fsundermeyer@opensuse.org

- spec file changes:
  * added dependencies on python(-devel) >= 2.7.1
  * obsoletes calibre07

-------------------------------------------------------------------
Sat May 14 21:56:49 UTC 2011 - saigkill@opensuse.org

- updated to version 0.8.1
- New Features:
  o Add Amazon DE, Beam EBooks, Beam DE, Weightless Books, Wizards Tower
    Books to the list of ebook stores searched by Get Books
  o TXT output: All new Textile output with much greater preservation of
    formatting from the input document
  o Migrate metadata plugin for Douban Books to the 0.8 API
  o Driver for Dell Streak on windows
  o Add menu items to Get Books action to search by title and author of
    current book
  o Add title_sort as available field to CSV/XML catalogs
  o Add a context menu to the manage authors dialog
  o Add a button to paste isbn into the identifiers field in the edit
    metadata dialog automatically 
- Bug Fixes:
    o Amazon metadata download plugin: Fix links being stripped from
      comments. Also fix ratings/isbn not being parsed from kindle edition
      pages.
    o Fix one source of segfaults on shutdown in the linux binary builds.
    o Allow the use of condensed/expanded fonts as interface fonts
    o EPUB Input: Ignore missing cover file when converting, instead of
      erroring out.
    o Fix custom identifier being erased by metadata download
    o Fix regression that broke various things when using Japanese language
      calibre on windows
    o RTF Input: Handle null color codes correctly
    o ODT Input: Handle inline special styles defined on  tags.
    o Fix error when pressing next previous button with an empty search in
      the Plugins preferences
    o Ignore 'Unknown' author when downloading metadata.
    o Fix timezone bug when setting dates in the edit metadata dialog
    o Fix ebook-convert not recognizing output paths starting with ..

-------------------------------------------------------------------
Sun May  1 12:45:40 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.59
- New Features:
    o Support for converting and reading metadata from Plucker format
      PDB files
    o The metadata that is displayed in the book details panel on the right
      is now completely configurable via Preferences->Look & Feel
    o Add a column that shows the date when the metadata of a book record
      was last modified in calibre. To see the column, right click on the
      column headers in calibre and select Show column->Modified. Note that
      the dates may be incorrect for books added with older versions of
      calibre.
    o Add command line option to shutdown running calibre
    o CHM Input: Store extracted files in the input/ sub dir for easy
      debugging when --debug-pipeline is specified
    o Add a popup menu to the 'Create saved search button' to allow easy
      deleting of saved searches 
- Bug Fixes:
    o Fix regression that broke converting to LIT in 0.7.57
    o Conversion pipeline: Remove encoding declarations from input HTML
      documents to guarantee that there is only a single encoding
      declaration in the output HTML.
    o Correctly parenthesize searches that are used to make search
      restrictions
    o Fix ratings in save to disk templates not being divided by 2
    o TXT to EPUB: Underlined words (following quotes?) fail to become
      italics
    o Fix template function source code unavailable when not running calibre
      from source
    o Fix adding html books from the top of a deep folder hierarchy very
      slow
    o Only set language in MOBI metadata if it is not null
    o Fix 'count-of' searches (e.g., tags:#>3).
    o Fix regression that broke connection to iTunes in some cases
    o Fix buggy regex that made converting PDFs with the string
      ****************** very slow
    o Fix Ctrl+L shortcut to lookup word not working in ebook viewer
    o Fix regression that broke searching on boolean columns
    o Fixes a bug in 0.7.58 that caused too small fonts when
      converting to MOBI for the Kindle. Apologies.
    o Apple driver: Handle invalid EPUBs that do not contain an OPF file

-------------------------------------------------------------------
Mon Apr 25 15:58:55 UTC 2011 - bjorn.lie@gmail.com

- Removed unnecessary dep on hal - bnc(#689588)

-------------------------------------------------------------------
Sat Apr 23 11:12:55 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.57
- New Features
    o Launch worker processes on demand instead of keeping a pool of them in
      memory. Reduces memory footprint.
    o Use the visual formatting of the Table of Contents to try to
      automatically create a multi-level TOC when converting/viewing MOBI
      files.
    o Add a new function booksize() to the template language to get the
      value of the size column in calibre.
    o Add support for using metadata plugboards with the content server
      (only with the epub format)
    o Change default algorithm for automatically computing author sort to be
      more intelligent and handle the case when the author name has a comma
      in it
    o Show cover size in the tooltips of the book details panel and book
      details popup window
- Bug Fixes
    o Dragging and dropping a cover onto the book details panel did not
      change the cover size
    o Fix non-escaped '|' when searching for commas in authors using
      REGEXP_MATCH
    o Fix ratings in templates being multiplied by 2
    o Fix adding a comma to custom series values when using completion.
    o CHM Input: Another workaround for a Microsoft mess.
    o Fix job count in the spinner not always being updated when a job
      completes
    o Changing case only of a title does not update title sort 

-------------------------------------------------------------------
Wed Apr 20 07:04:40 UTC 2011 - toms@suse.de

- Updated to version 0.7.56
- New Features
  o This is primarily a bug fix release that fixes a bug in 0.7.55 
    that caused calibre to rescan the files on the device every 
    time the device is connected. If you updated to 0.7.55 it is 
    highly recommended you update to 0.7.56
  o Device driver for Coby Kyros
  o  Remove the quick access to search options from next to the 
     search bar, as we now have a separate search highlights toggle
     button
  o MOBI Output: Ensure that MOBI files always have 8KB worth of
    null bytes at the end of record 0. This appears to be necessary
    for Amazon to be able to add DRM to calibre generated MOBI files
    sent to their publishing service.
  o Add a tool to inspect MOBI files. To use: calibre-debug -m file.mobi

- Bug Fixes
  o Fixed regression taht caused calibre to rescan files on the device 
    on every reconnect
  o Fix donate button causing the toolbar to be too large on OS X
  o MOBI Input: Fix detection of Table of Contents for MOBI files that 
    have a page break between the location designated as the Table of 
    Contents and the actual table of contents.
    => Closes tickets: 763504 [External link]
  o Comic Input: Fix handling of some CBZ files that have wrongly encoded 
    non ASCII filenames on windows.
    => Closes tickets: 763280 [External link]
  o PML Input: Fix multi-line chapter title causing a spurious page break
    => Closes tickets: 763238 [External link]
  o EPUB Input: Speed up processing of files with very large manifest/spines
    Fix regression that broke cover:False searches in 0.7.55

- Improved news sources
    Suedduetsche Zeitung
    Irish Times
    Big Oven
    NSPM
 

-------------------------------------------------------------------
Sun Apr 10 12:17:45 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.54
- New Features
    o New output format, HTMLZ which is a single HTML file with its
      associated images/stylesheets in a zipped up file
    o When dealing with ZIP/RAR archives, use the file header rather than
      the file extension to detrmine the file type, when possible. This
      fixes the common case of CBZ files being actually cbr files and vice
      versa
    o Support for the Motorola Atrix
    o Allow the icons in the toolbar to be turned off completely via
      Preferences->Look & Feel
    o When downloading metadata use the gzip transfer encoding when possible
      for a speedup. 
- Bug Fixes
   o Conversion pipeline: Workaround for bug in lxml that causes a massive
     mem leak on windows and OS X when the input document contains non
     ASCII CSS selectors.
   o Conversion pipeline: Handle inline

-------------------------------------------------------------------
Sat Apr  2 14:24:38 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.53
- New Features
    o Email delivery: You can now specify a subject that calibre will use
      when sending emails per email account, configured in
      Preferences->Sending by email. The subject is a template of the same
      kind used in Save to Disk, etc. So you can specift the
      title/authors/series/whatever in the template.
    o Apple driver: When an iDevice is detected, inform the user about the
      Connect to iTunes method instead of trying to connect directly to the
      device, as the latter can be buggy. See
      http://www.mobileread.com/forums/showthread.php?t=127883 for details
    o SONY driver: Search for books on the device in all directories not
      just database/media/books. This can be turned off by customizing the
    o SONY plugin in Preferences->Plugins
    o EPUB Output: Remove any margins specified via an Adobe page template
      in the input document. This means that the margins specified in
      calibre are more likely to be the actual margins used.
    o When reading metadata from filenames, allow publisher and published
      date to be read from the filename
    o Remove the option to show a second tool bar from Preferences->Look &
      Feel. Instead go to Preferences->Toolbars and add items to the second
      toolbar to control exactly what is visible there.
    o Add a tweak that can be used to have the calibre content server listen
      for IPv6 connections.
    o When clicking Next or Previous in the edit metadata dialog, then
      active book in the main book list is also changed
    o Remember the previously used setting for Match all/Match any under the
    o Tag Browser when calibre restarts
    o FB2 Output: Option to set the FB2 genre explicitly.
    o Plugin developers: calibre now has a new plugin API, see
      http://calibre-ebook.com/user_manual/creating_plugins.html Your
      existing plugins should continue to work, but it would be good to test
      them to make sure. 

- Bug Fixes
    o Fix text color in the search bar set to black instead of the system
      font color
    o Workaround for Word bug where Word uses gb2312 as the encoding when
      exporting CHinese docs to HTML istead of gbk
    o Make sorting on the device view faster and more robust.
    o E-book viewer: Fix viewer losing place in very long single file
      documents when window resized.
    o MOBI Output: Workaround for Amazon's MOBI renderer not rendering top
      margins on ul and ol tags.
    o EPUB Input: Workaround for invalid EPUBs produced by someone named
      'ibooks, Inc.'.
    o RTF Input: Handle RTF files with too many levels of list nesting.

-------------------------------------------------------------------
Wed Mar 30 07:36:50 UTC 2011 - saigkill@opensuse.org

- removed sed hack for wrong-end-of-line-encoding. Looks like it isn't
  longer needed. 

-------------------------------------------------------------------
Wed Mar 30 07:26:13 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.52
- Bug Fixes
    o Fixes a typo in 0.7.51 that broke the downloading of some news.
      Apologies. 

-------------------------------------------------------------------
Fri Mar 25 06:59:00 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.51
- New Features
    o Conversion: Detect and remove fake page margins that are specified as
      a margin on (nearly) every paragraph.
    o Windows build: All the python code and recipes are now put into zip
      files. This should decrease the amount of time the windows installer
      spends 'calculating free space'
    o OSX and Linux: Add a setting in Preferences->Behavior to control the
      priority with which calibre worker processes run. This setting was
      already available on windows.
    o Driver for HTC Thunderbolt, T-Mobile Optimus, Archos 43 and Blackberry
      OS6
    o A new 'authors type' custom column
    o When building calibre from source note that calibre now absolutely
      requires python >= 2.7
    o Add the keyboard shortcut: Ctrl+Shift+R to restart calibre in debug
      mode
- Bug Fixes
    o Fix dragging and dropping lots of books from the book list to the Tag
      Browser was broken
    o Change the shebang in the calibre launcher script on linux to
      explicitly use python2 rather than python
    o When adding formats do not corrupt the added file if the user tries to
      add an existing format to itself
    o Fix drag and drop to add files that contain the # character in the
      filename
    o Tag editor shouldn't add empty tags
    o MOBI Input: Handle MOBI files that have a too large 'number of
      records' field in their headers.
    o News download: Update RSS feedparser module to latest version
    o Various fixes to the zipfile module in calibre to handle 64 bit
      zipfiles and bring it up to date with the zip file module in the
      python stdlib
    o News download: Handle titles with ASCII control codes in them.
    o Make search hierarchies show simple names instead of compound ones.
    o Fix commas in author names being converted to pipe symbols in the book
      details window
    o Fix PocketBook can't always find epub cover image to create thumbnail

-------------------------------------------------------------------
Fri Mar 18 23:12:29 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.50
- added short fix for RPMLINTs "wrong-end-of-line-encoding"
- New Features
    o Add 'Read a random book' to the view menu
    o Add option to show composite columns in the tag browser.
    o Add a tweak in Preferences->Tweaks to control where news that is
      automatically uploaded to a reader is sent.
    o Do not also show text in composite columns when showing an icon
    o Add a menu item to clear the last viewed books history in the ebook
      viewer
    o Kobo driver: Add support for the 'Closed' collection
    o Add rename/delete saved search options to Tag browser context menu
    o Make searches in the tag browser a possible hierarchical field
    o Allow using empty username and password when setting up an SMTP relay 

- Bug Fixes
    o Fix regression in 0.7.49 that broke deleting of news downloads older
      than x days.
    o Restore the ability to remove missing formats from metadata.db to the
    o Check Library operation
    o EPUB metadata: Read ISBN from Penguin epubs that dont correctly
      specify it
    o Conversion pipeline: Handle the case where the ncx file is incorrectly
      given an HTML mimetype
    o Make numpad navigation keys work in viewer
    o Fix ratings not being downloaded from Amazon
    o Content server: Add workaround for Internet Explorer not supporting
      the ' entity.
    o Conversion pipeline: When detecting chapters/toc links from HTML
      normalize spaces and increase maximum TOC title length to 1000
      characters from 100 characters.
    o Fix regression that broke Search and Replace on custom fields
    o Fix regression that caused currently selected row to be unfocussed int
      he device view when updataing metadata
    o Coversion S&R: Do not strip leading and trailing whitespace from the
      search and replace expressions in the GUI

-------------------------------------------------------------------
Sat Mar 12 22:22:39 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.49
- New Features
    - News download: More flexible news downlaod scheduling. You can now
      schedule by days of the week, days of the month and an interval, which
      can be as small as an hour for news sources that change rapidly
    - Improved support for dragging and dropping cover images directly from
      web browsers into calibre.
    - Add shortcuts of Alt+Left and Alt+Right for the next and previous
      buttons in the edit metadata dialog.
    - When adding a GUI plugin, prompt the user for where the plugin should
      be displayed
    - Conversion: When using the Level x Table of Contents options, support
      the case when the level 1,2,3 items are spread over multiple HTML
      files.
    - Support for the Optimus V
    - FB2 Input: Support for tables
    - Display a checkmark/cross next to 'true' and 'false' items in custom
      columns. Controlled via Preferences->Add a custom column
    - Catalog generation: Reuse cover from existing catalog, allows the use
      of a custom cover for catalogs
    - When setting covers in calibre, resize to fit within a maximum size of
      (1200, 1600), to prevent slowdowns due to extra large covers. This
      size can be controlled via Preferences->Tweaks. 

- Bug Fixes
    - Fix long standing bug that caused errors when saving books to disk if
      the book metadata has certain chinese/russian characters on windows.
    - The fix required some changes to how unicode paths are handled in
      calibre, so it might have broken something else. If so, please open a
      ticket.
    - Custom recipes: Store custom recipes in the calibre config directory
      instead of the library database. This allows scheduling of custom
      recipes to work with multiple libraries. Note that you may have to
      re-schedule any existing custom recipes.
    - Restore the ability to do search and replace on ISBN. Use the
      'identifiers' field with type isbn to do this
    - Fix amazon metadata download plugin not working with ISBN-13 and
      social metadata not downloading if the supplied ISBN 10 is not for an
      edition available on Amazon
    - Workaround for openlibrary blocking the user agent used by calibre,
      preventing cover downloads from that site
    - FB2 Output: Add sequence to metadata. Fix bugs with author names. Fix
      bug where  elements were put inside tags.
    - Conversion pipeline: If the input HTML document uses uppercase tag and
      attribute names, convert them to lowercase
    - RTF Input: Fix space after unicode quote character being incorrectly
      removed
    - Fix regression that broke the ebook-device command line program in the
      previous release
    - Fix custom columns with numbers not allowing entry of positive numbers
      of 64-bit machines
    - Fix regression that caused focus to be lost when editing metadata in
      the device view
    - CHM Input: If an input encoding is specified, use it rather than
      trying to detect the encoding of the text in the CHM file.
    - Fix regression that caused the viewer to forget its window size and
      other attributes when launched from within calibre, after calibre is
      restarted.
    - News download: Fix regression that caused the delay parameter in
      recipes to not actually delay downloads.
    - Conversion pipeline: When converting the :first-letter pseudo CSS
      selector to a  follow W3C rules for handling leading punctuation
      characters.
    - Fix regression that caused clicking saved searches in the Tag Browser
      to not work
    - Comic Input: Fix conversion failing when output profile is set to
      Tablet Output
    - Replace leading periods in all path components generated by calibre
      with underscores
    - Search and replace preferences: Prevent very long strings from causing
      the wizard button to get pushed off the screen
    - Content server: Fix regression that caused various metadata to be
      missing in the book details view.
    - Apple driver: Ignore invalid EPUBs when sending to iTunes

-------------------------------------------------------------------
Mon Mar  7 18:50:17 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.48 
- New Features
  - Changes to the internal database structure used by calibre
  - Launch of a new website that catalogues DRM free ebooks.
    http://drmfree.calibre-ebook.com
  - News download: Add an option to keep at most x issues of a particular
    periodical in the calibre library. Use the Advanced tab in the Fetch
    news dialog for your news source to set this option.
  - You can now right click on the cover in the book details panel to
    copy/paste a new cover.
  - Add an entry to the add books drop down menu to easily add formats to
    an existing book record
  - Tag browser: Clicking on a nested category now searches for the
    category alone. Clicking twice searches for the category and all its
    descendants and so on.
  - Add a button to the Manage authors dialog to copy author sort values
    to author
  - Decrease startup times on large libraries by using a faster algorithm
    to parse stored dates
  - Add quick create links to easily create custom columns of commonly
    used types to the add custom column dialog
  - Allow drag drop of images to change cover in book details window.
  - Device susbsytem: Create a drive info file named driveinfo.calibre in
    the root of each device drive for USB connected devices. This file
    contains various useful data. API Change: The open method of the
    device plugins now accepts an extra parameter library_uuid which is
    the id of the calibre library connected tot eh device
- Bug Fixes
  - Conversion pipeline: Fix regression in 0.7.46 that caused loss of some
    CSS information when converting HTML produced by Microsoft Word. Also
    remove empty tags from microsoft namespaces when parsing HTML
  - Try harder to ensure that the worker log temporary files are deleted
    in windows
  - CHM Input: Handle CHM files that dont specify a topics file.
  - Fix regression that caused memory leak in Tag Browser. This would show
    up as the memory usage of calibre increasing when switching libraries.
  - Fix bug that caused preferences->behavior to not show the output
    format set by the welcome wizard, and instead default to showing EPUB
  - Fix bug that caused wrong books to be deleted from library if you
    choose 'delete from library and device' while the library is sorted by
    the On device column
  - MOBI Input: Ignore all ASCII control codes except CR, NL and Tab.

-------------------------------------------------------------------
Mon Feb 28 22:29:48 UTC 2011 - saigkill@opensuse.org

- update to version 0.7.47
- New Features
    o Tag Browser: Support the creation of nested User Categories
    o Disable Kent District Library plugin to download series information.
    o The website could not handle the load calibre's 2 million users put on
    o it. You can manually re-enable it if you really want series
      information, but it is very slow
    o Drivers for the Wexler T7001, Archos 7, Wink and Xperia X10
    o Comic Input: Add option to not add links to individual pages to the
    o Table of Contents when converting CBC files
    o EPUB Output: Try to ensure that the cover image always has an
      id='cover' to workaround Nook cover reading bug.
    o ODT input: Update odfpy library to latest version, adds support for
      bookmarks
    o EPUB Output: Remove unnecessary CSS page breaks as they confuse the
      latest release of iBooks
- Bug Fixes
    o Fix regression in 0.7.46 that broke creating date and composite custom
      columns
    o Linux binary build: Fix ImageMagick trying to load system modules
      instead of bundled modules
    o Kobo driver: Handle missing firmware version file
    o ODT Input: Do not force the background color to white.
    o MOBI Input: Do not speciy text-align for every paragraph. Fixes
      text-align inheritance issues for newer MOBIs with nested divs.
    o EPUB Output: Do not set the file-as attribute on title elements in the
    o OPF as the current OPF spec does not support file-as. Instead use a
      calibre extension to OPF.
    o Content server: Fix regression that broke browsing User Categories via
      OPDS
    o Update the book details panel after adding books incase automerge is
      turned on and the current book is affected
    o FB2 Output: Fix paragraph spacing sometime incorrect.
    o Tag Browser: Fix generation of search query for authors with quote
      characters in their names
    o Fix bug that could cause download of cover/social metadata from Amazon
      to sometimes fail
    o LRF Input: Workaround for broken LRF files from BookDesigner that have
      incomplete TextStyle elements 

-------------------------------------------------------------------
Wed Feb 23 15:32:13 UTC 2011 - saigkill@opensuse.org

- updated to Version 0.7.46
- New Features:
  - Replace LibraryThing cover download plugin with a new plugin to
    download covers from Amazon
  - Kindle driver: Add an option to turn off sending page number
    information. Also add an option to use a more accurate but slower
    algorithm to calculate page numbers.
  - E-book viewer: Maintain a list of recently opened books (to see the
    list click the arrow next to the open button
  - Improve performance of device connection with huge libraries.
  - Add a button ot the search preferences to clear search history.
  - Device driver customization: Allow user to tell calibre to send any
  - ebook format to the device rather than just the list of formats that
  - calibre thinks the device will support
  - Metadata search and replace: Allow case changes and also fix search
    and replace when the destination field is a tags like field
  - FB2 Input: Add support for super and sub-scripts
  - When converting non english texts to english for filenames, use the
    users currect calibre interface language. This allows
  - Japanese/Korean/Vietnamese characters to be correctly converted.
  - Previously they were assumed to be Chinese.
  - Content server: Make the authors/series/tags/publisher/etc. in the
    book details box clickable so that similar books can be found easily.
  - Dragging from book list: Only start drag if user clicks on an already
    selected item. Makes multi-selecting with the mouse easier
  - Move the grouped search terms option from tweaks to the Search
  - Customization prefrences. Also allow grouped search terms to be
    displayed in the Tag browser
  - When adding .txt files, if they reference images, autoconvert them to
    a txtz file containing all referenced images. This is simliar to the
    way HTML files are converted to ZIP
  - MOBI Output: Partially support CSS vertical-align length values,
    converting them to  or  tags. Also support vertical-align for images
  - TXT Input: New paragraph-type option (off) to disable modifying the
    paragraph structure.
  - Device driver for the Kendo/Yifang M7 and the Wolder Mibuk Life
  - For people building calibre from source, note that calibre now
    requires SIP >= 4.12 to build 

- Bug fixes:
  - Fix main memory and storage card for Cybook Orizon being swapped with
    some firmwares
  - Fix regression that broke deleting items from the Manage X dialogs.
  - Disable driver for Huawei android tablet/phones as Huawei for some
    reason seems to think that using the same USB ids for devices and USB
    sticks is a good idea. This would cause calibre to try to connect to
    the USB stick as a device continuously
  - MOBI Output: Normalize unicode strings when writing metadata to MOBI
    files as the Kindle cannot handle non-normalized unicode.
  - Fix regression that broke completion of tags with special characters
  - Conversion pipeline: Discard invalid CSS generated by Microsoft
    products before parsing. Should improve performance when converting
  - HTML from Word in particular.
  - Fix completion popups in the edit metadata dialog partially obscuring
    text in windows 7
  - Allow the left panel of the tweaksdialog to be resized
  - Fix reported number of books in library sometimes incorrect when using
    restrictions
  - PML Output: Don't write Cn tags when we are within a heading. Put
    images in DropBook required image subfolder. Remove Cn tags written
    inside of x and Xn tags.
  - Kobo driver: Handle Kobo databases that contain corrupted strings that
  - cannot be decoded from UTF-8
  - Adding from ISBN: Show a progress dialog for record creation as well
    as metadata download.
  - PDB Input: Fix some TOCs not being detected
  - Heuristics: Fix italicize patterns sometime breaking HTML tags.
  - When trying to detect the encoding of html, do not use more than the
    first 50KB so that detection is not too slow
  - Fix regresion that caused calibre to loose track of whether the
    content server is running if the content server is started from the
    preferences
  - Smarten punctuation: Handle non breaking spaces used as indents when
    converting opening quotes
  - Catalog generation: Do not abort on author sort mismatches when
    generating an EPUB catalog
  - When editing emtadata by clicking on the book list, remove leading and
    trailing whitespace
  - Fix typo that removed the date format tweaks from the new style tweaks
    interface
  - TXTZ Input: Fix images being lost
  - TXT Input: Rename none formatting-type to plain to correspond to the
    output option.
  - Conversion pipeline: Correctly handle align attribute on img tags.
  - Fix regression that caused completion in authors/series/tags fields on
  - OS X to return extra text.
  - Heuristics processing: Fix bug in italicize regeps that could cuase a
    scenebreak consisting of multiple underscores to be prefixed by the
    word None.

-------------------------------------------------------------------
Wed Feb 16 15:53:05 UTC 2011 - fsundermeyer@opensuse.org

- Another spec file fix (requirement should have been libicu rather
  than icu)
- Now all requirements noted on the calibre home page should be
  matched. As a consequence, calibre will only install on
  openSUSEFactory, since it requires libicu >= 4.4.0. That
  requirement cannot be matched on 11.3, since OpenOffice and
  others require libicu 4.2.x

-------------------------------------------------------------------
Tue Feb 15 13:25:17 UTC 2011 - fsundermeyer@opensuse.org

- version numbers for python-sip-devel and python-sip differ;
  corrected versiion number in Buildrequires for python-sip-devel
  to >= 4.12  
- added more missing dependencies and minimum versions according to
  http://calibre-ebook.com/download_linux

-------------------------------------------------------------------
Tue Feb 15 13:17:03 UTC 2011 - fsundermeyer@opensuse.org

- added missing minimal version number ( >= 4.12.1 ) to python-sip
  Require statements in spec file  

-------------------------------------------------------------------
Sun Feb 13 09:26:06 UTC 2011 - saigkill@opensuse.org

- updated to Version 0.7.45
  o New Features
    o Add plugin to download series information from the Kent District Library
    o Kindle driver: When uploading MOBI files to the device, upload page 
      number information as well (used by the not yet released Kindle 3.1 firmware)
    o When automatically sending news to device, send to main memory 
      preferentially, if it has enough space.
    o Allow customization of which metadata fields are searched by default (click 
      the preferences icon next to the search box)
    o New format TXTZ: which is a zip file containing the TXT file and associated 
      images + metadata. calibre can convert to and from this format and 
      read/write metadata to it.
    o New option to control how automerge handles duplicate formats 
      when adding books to your calibre library. See Preferences->Adding 
      books
    o Driver for Nokia X6, Nexus S, WiBook, MyTouch 4G and Huawei 
      Ideos S7
    o Nicer interface for editing tweaksAdd tweak to remove yellow 
      lines from edges of book listCompletion: Restore adding of comma 
      at end after completion for tags type fields. 
    o Add a tweak to control if an & is added after completion for author 
      type fieldsTurn search as you type off by default for searching the 
      book list. You can turn it on by clicking the preferences button 
      next to the search bar.
    o TXT Input: Add option to remove indents and fix bug where spaces were 
      not retained properly.
  o Bug Fixes
    o Fix a regression in 0.7.44 that could cause setting authors to fail 
      in windows when the author name is very long
    o E-book viewer: Fix bug that could cause the bottom of chapters to 
      get cut-off if the topmost element had a large top margin.
    o Fix regression that caused a spurious error message after moving a 
      library. Also ensure that the entries in the Copy to Library menu 
      are updated after a library is moved/renamed/deleted.
    o PML Input: New handling of t and T tags. T's that do not start the 
      line are ignored. t's that start and end the line use a margin for 
      the text block
    o News download: Remove all invalid ASCII control characters from 
      article descriptions as they cause XML parsing to fail
    o MOBI Output: Fix bug that was discarding non breaking spaces at 
      the start of a paragraph when they were followed immediately by a tag.
    o LIT Input: Fix a regression in handling LIT files that contain 
      txt rather than html data
    o Fix bug in search box in the plugins dialog
    o Fix renaming of categories via the Tag Browser
    o Content server: Do not send mobile version to iPad
    o Fix undefined publication date appearing in book jacket as 101
    o Heuristics: Fix issue with invalid markup from italicize patterns.
    o TXT Input: De-hyphenate textile and markdown inpu as well. Fix inline toc not showing all items.
    o RTF Input: More encoding token splitting fixes.
    o Fix regression that broke the convenience Email to xxx entry in the connect share menu.
    o Fix editing of series type custom columns in the book list.

-------------------------------------------------------------------
Fri Feb 11 12:46:26 UTC 2011 - fsundermeyer@opensuse.org

- added missing (Build)Requires: sqlite3 / sqlite3-devel to
  spec file  

-------------------------------------------------------------------
Wed Feb  9 23:56:35 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.44
  - New Features
    o Nook Color driver: Send downloaded news to the My Files/Magazines
      folder on the Nook Color. Also when getting the list of books on the
      device look at all folders in My Files, not just My Files/Books.
    o MOBI Output: Use the book uuid as the ASIN field and set cdetype to
    o EBOK to allow Amazon furthest read tracking to work with calibre
      generated MOBI files.
    o Comic input: Add an option to override the image size in the generated
      comic. Useful if you have a device whose screen size is not coverred
      by one of the available output profiles.
    o Add a restore database option to the Library maintenance menu in the
      GUI
    o TXT Output: Allow output in the textile markup language
    o PML Output: Create multi-level Table of Contents
    o Driver for the Archos 7O
    o Search and Replace in the Bulk metadata dialog can now operate on the
      title_sort field as well
    o Allow changing the case of authors/tags/series etc. via the edit
      metadata dialog
    o Connect/share menu: Re-organize to make it a little less easy to
      select email and delete instead of just email by mistake
    o Heuristics: Improved Scene break detection and add option to control
      what scene breaks are replaced by.
    o SONY driver: Add option to not preserve aspect ratio of cover
      thumbnails.
    o BiBTeX catalog: Add on device column when available
    o Add search to the plugin preferences dialog
  - Bug Fixes
    o Fix a bug that could cause fiels to be lost when changing metadata on
      east asian windows installs if the title and/or author is very long.
    o Tag browser: Fix searching with items in a user category not owrking
      if the main category is hidden
    o Make completion for author/series/tags/etc. fields less disruptive
    o Fix regression that broke the content server when user
      categories/custom columns are present
    o Catalog generation: Handle user supplied templates more robustly
    o Move the Tags to apply to newly added books option into
      Preferences->Adding books
    o Workaround for bug in Qt on OS X that caused crashes when reading
      metedata from two or more EPUB files with HTML covers that used
    o embedded fonts. Now the embedded fonts are ignored on OS X.
    o Fix regression that broke the use of the group searched terms tweak
    o Fix template program regression triggered by recursively calling the
      processor
    o Fix mimetype sent by content server for PDB files
    o OPF: Write title_sort as a calibre custom metadata field rather than
      as a file-as attribute on the title. This conforms to the OPF spec
    o SONY driver: Fix thumbnails being sent to SD card are sent to the
      wrong location. Also use correct thumbnail size so that the SONY does
      not regenerate the thumbnail on disconnect
    o Do not discard the result of a conversion if the user opens the edit
      metadata dialog while the conversion is running
    o CHM Input: When the chm file lacks a hhc, lookf for index.html instead
    o EPUB Input: Filter some invalid media types from the spine
    o RTF Input: More encoding handlig fixes.
    o Linux binary build: Restore functioning of CALIBRE_DEVELOP_FROM, which
      was accidentally removed a few versions ago
    o RTF Output: Retain html headings as rtf headings when converting to
      rtf. Also fix output of italics.
    o LIT Input: Fix regression that broke handling of LIT files that
      contain txt data instead of html
    o MOBI Input: Handle more non printing ASCII codes
    o Handle empty cover files more gracefully
    o Catalog geenration: Fix error when Pocketbook is connected and trying
      to geenrate catalog
    o Heuristics: Italicize common cases, reduce false positives.
    o Fix regression that caused reporting of device connection errors to
      break 

-------------------------------------------------------------------
Fri Jan 28 23:34:03 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.43
- New Features
  o Ask for confirmation when stopping running jobs
  o Combine the database integrity check and library check into a single
    menu item. Also nicer implementation of the db integrity check.
  o BiBTeX Catalog: Add option to include file paths in the catalog.
  o Create 'generic' output profiles and generic devices in the welcome
    wizard
  o Bulk metadata edit: Custom column widgets all have an apply checkbox
    next to them.
  o Only use LibraryThing to download metadata if the user provides a
    library thing username and password. Since LT doesn't like web
    scraping
  o Allow renaming of user categories in the manage categories dialog.
  o Also allow searching for books in a category from the Tag Browser by
    right clicking ona a category
  o Folder device plugin: Add option to disable the use of sub folders
  o Allow saving/loading of search and replace expressions in the bulk
    metadata edit dialog.
  o Remeber previously used regular expression in the add books
    preferences dialog
  o Search and replace wizard: Cache the previously used input document.
  o Pressing Esc clears the current search in the main book list
  o Preselct right formats when using send specific format to device
  o Regex wizard gets find next and previous match buttons
- Bug Fixes
  o Do not allow customization of user interface plugins until calibre is
    restarted
  o EPUB Output: When using preserve cover aspect ratio, use the actual
    image sizes in the SVG template as otherwise ADE doesn't fully
    preserve the aspect ratio
  o Fix completion on a word with a trailing space causing the first
    letter to be duplicated in the edit metadata dialog
  o PML Input: PML x and Xn tags don't indent properly in TOC. Also handle
    invalid T markup and retain soft scene breaks
  o TXT Input: Retain whitespace at the beginning of lines. Don't preserve
    spaces in heuristic processing. Detect and retain soft scene breaks.
  o Fix Adding empty book - cover browser doesn't update
  o When generating author sort string ignore trailing Inc.
  o When converting HTML/ZIP files do not leave temporary files that are
    only deleted on application shutdown.
  o Don't crash if the prefs stored in the db are corrupted
  o Catalog generation: Do not use inline-block CSS as apparently Adobe
  o Digital Editions cannot handle it.
  o Fix extra spaces being inserted into TOC title when reading TOC from
    OPF guide element.
  o Remember window size for bulk metadata edit and catalog generation
    dialogs
  o Heuristics, italicize common cases: Enhance pattern matching to match
    punctuation after pattern.
  o Fix regression in converting HTML files that have ASCII-encoded non
    unicode characters inside their 

-------------------------------------------------------------------
Sun Jan 23 17:47:14 UTC 2011 - saigkill@opensuse.org

- updated to version 0.7.42
- New Features
  o 0.7.42 is a re-release of 0.7.41, because conversion to MOBI was 
    broken in 0.7.41
  o Conversions: Replace the remove header/footer options with a 
    more geenric search replace option, that allows you to not 
    only remove but also replace text
  o Conversion: The preprocess html option has now become a new 
    'Heuristic Processing' option which allows you to control 
    exactly which heuristics are used
  o Conversion: Various improvements to Heuristic Processing 
    (used to be preprocess HTML)
  o When adding empty books to calibre, optionally set the 
    author to the author of the currently selected book
  o Device drivers for the Archos 101, SmatQ T7 and Acer Lumiread
  o Catalog generation: Make By Authors optional
  o Allow bulk editing of Date and Published columns.
  o Add a little button to clear date and published values to 
    the edit metadata dialogs
  o When adding books by ISBN, allow the specification of special 
    tags that will be added to the new book entries
  o Completion on multiple authors
  o Add AZW to default list of internally viewed formats, a I am 
    tired of getting tickets about it
  o Nicer error message when catalog generation fails
  o Add capitalize option to context menus in the edit metadata dialog

- Bug Fixes
  o RTF Input: Fix regression in 0.7.40 that broke conversion of some 
    old style RTF files
  o Fix Tag editor forgets position
  o When converting books in the calibre GUI, override metadata from 
    the input document, even when empty.
  o Fix memory leak when switching libraries
  o RTF Output: Fix incorrent spacing between letters.
  o Catalog generation: Add composite columns to Merge Comments 
    eligible types
  o Add a confirmation when closing the add a custom news source 
    dialog.
  o Another workaround for LibraryThing UA sniffing that was 
    preventing series metadata download, sigh.
  o PD Novel driver: Put books on the SD card into the eBooks folder
  o When shortening filepaths to conform to windows path length 
    limitations, remove text from the middle of each component instead 
    of the ends.
  o Make completion in most places case insensitive
  o Fix regression that caused the N key to stop working when editing 
    a Yes/no column
  o Email: Fix bug when connecting to SMTP relays that use MD5 auth
  o MOBI Output: Fix bug that could cause a link pointing to the start 
    of a section to go to a point later in the section is the section 
    contained an empty id attribute
  o When auto converting books and the device is unplugged, do not 
    raise an error.
  o Ebook-viewer: Display cover when viewing FB2 files
  o MOBI Input: Special case handling of emptu div tags with a defined 
    height used as paragraph separators.
  o Fix sorting of author names into sub categories by first letter in 
    the Tag Browser when the first letter has diacritics
  o Fix regression in 0.7.40 that caused commas in author names to 
    become | when converting/saving to disk
  o Fix view specific format on a book with no formats gives an error

-------------------------------------------------------------------
Fri Jan 21 09:44:08 UTC 2011 - toms@suse.de

- Fixed vulnerability bug bnc#664505: 
  VUL-0: calibre: XSS and file disclosure (also mentioned in the
  changelog entry below)
- Updated to 0.7.40:
  New Features
    * A new 'highlight matches' search mode
      "There is now a checkbox next to the search bar named
      'Highlight'. If you check it, searching will highlight all
       matched books instead of filtering the book list to all
       matched books."
    * RTF Input: Improved support for conversion of images. The bug
       where some images were shrunk should no longer happen
    * Template language: Allow you to create your own formatting
      functions. Accessible via Preferences->Advanced->Template
      functions
    * News download: Convert various HTML 5 tags into <div> to 
      support readers that cannot handle HTML 5 tags
    * RTF metadata: Add support for publisher and tags.
      Closes tickets: 6657 [External link]
    * BibTeX catalog: Add support for custom columns
    * TXT Input: Support for textile markup
    * Various minor tweaks to improve usability of Preferences->
      Plugins
    * TXT Output: Convert <hr> to scene break marker.
    * Support for the Archos 70
    * SONY Driver: Add an option to automatically refresh the
      covers on every connect. Accessible via: Preferences->
      Plugins->Device interface plugins
    * Add access to the larger template editor from plugboards via
      context menu.
    * Speed improvement when connecting a large library to a device
    * Speedup when searching on multiple words in a large library
    * TXT Input: Add a heauristic formatting processor

  Bug Fixes
    * Fix bug that caused automatic news removal to remove any book 
      that has a tag that contains the word 'news' instead of only 
      books that have the tag News
    * Refactor the downloading social metadata message box to allow
      canceling.
      Closes tickets: 8234
    * Kobo drive does not deal with Null value in DateCreated column
      Closes tickets: 8308
    * MOBI Input: Fix regression that caused images placed inside svg
      tags to be discarded
    * Fix selecting Tablet output profile would actually select the
      Samsung Galaxy S profile
    * Catalog generation: Fix a condition that could cause TOCs to
       not be properly generated in MOBI format catalogs
      Closes tickets: 8295
    * Zip file reading: Be more tolerant when a zip file has a damaged 
      file directory
    * RTF Input: Various code cleanups. Go back to trying to handle 
      unicode mappings without pre-processing. This will mean that some 
      RTF files that used to convert, won't anymore. Please open 
      tickets and attach them.
      Closes tickets: 8171
    * ImageMagick: When identifying an image don't read the entire image
    * FB2 Output: Add cover to FB2 metadata.
    * Fix inability to customize builting recipe when more than one 
      recipe has the same name
      Closes tickets: 8281
    * RTF Input: Fix regression that broke the Preprocess HTML option
    * Fix XSS vulnerability in content server.
      Closes tickets:
    * TXT Output: Clean up and produce consistant output. Spacing around 
      headings. Headings are not indented when using the remove 
      paragraph spacing option.
    * Catalog generation: Handle invalid covers gracefully
    * Email settings: Before displaying the email test dialog warn the 
      user that it will expose their email password
    * PDB Output: Fix regression that caused some PDB files to not work 
      with other software
      Closes tickets: 8231 

  New news sources
    * Yakima Herald and Tri-City Herald by Laura Gjovaag
    * Wichita Eagle by Jason Cameron
    * Pressthink and Zero Hedge by Darko Miletic
    * tyzden by zemiak
    * El Correo by desUBIKado
    * Cicero by mad
    * El Publico by Gerardo Diez

  Improved news sources
    * Financial Times UK
    * Globe and Mail
    * Wired Daily
    * MIT Technology Review
    * MSNBC
    * expansion.com
    * New York Times
    * Heraldo de Aragon
    * Exiled online
 

-------------------------------------------------------------------
Fri Jan 14 22:15:01 UTC 2011 - fsundermeyer@opensuse.org

- reformatted complete calibre.changes file:
  openSUSE:Factory requires a linewidth < 70
  (refer to the dashed lines for linewidth) 

-------------------------------------------------------------------
Thu Jan 13 09:35:04 UTC 2011 - fsundermeyer@opensuse.org

- removed Require: python-django-tagging since it is no longer
  needed (searched the calibre sources for "tagging" and "django")

- added packages that are only required, to BuildRequires, too,
  because 

  Requires should always be a subset of BuildRequires. If there
  are packages that are only Required 
  * there is no way to check whether these packages are available
    in the given repositories unless you install the package (the
    build environment only contains packages from the given
    repositories and the project 
  * the project's repository might become inconsistent, because
    Required packages do not block a build. So a package might get
    published, although a Required package does not build

-------------------------------------------------------------------
Wed Jan 12 16:01:20 UTC 2011 - fsundermeyer@opensuse.org

- another Requires fix

-------------------------------------------------------------------
Wed Jan 12 15:38:19 UTC 2011 - fsundermeyer@opensuse.org

- fixed Requires; made Buildrequires/Requires section in spec file
  readable 

-------------------------------------------------------------------
Wed Jan 12 10:24:30 UTC 2011 - fsundermeyer@opensuse.org

- added a patch so calibre works with python-cssutils 0.9.8
  (needs to be removed once calibre officially switches to the new
   python-cssutils version)
- fixed a minor spec-file error

-------------------------------------------------------------------
Tue Jan 11 15:06:14 UTC 2011 - fsundermeyer@opensuse.org

- general project changes:
  * removed all packages alre3ady provided by targets
  * remaining packages only build for the targets where they are
    needed
  * python packages now all link to devel:languages:python
  * podofo now links to graphics
  * removed obsolete 11.1 build target
  * removed 11.3 KDE_Factory build target

- calibre changes:
  * fixed various issues in the spec file - now builds for Factory
  * cleaned up the spec file
  * added rpmlintrc (no need to remove all the shebangs)
  * generate-tarball.sh uses a tmp dir now and is less verbose
  * updated to new version 0.7.38
    Changelog see http://calibre-ebook.com/whats-new 

-------------------------------------------------------------------
Fri Jan  7 10:26:59 UTC 2011 - saigkill@opensuse.org

- added %%dir %%{_datadir}/locale/* for 11.1 & 11.2 

-------------------------------------------------------------------
Fri Dec 24 11:17:22 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.35
- New Features
   o Add a simple to use Rich text editor for comments to the
     edit metadata dialog.
   o E-book viewer: Add a right click menu item 'Inspect'
     that allows you to inspect the underlying HTML/CSS
     source of the currently displayed content
   o When deleting books from the library if a device is
     connected and the books are also present on the device
     ask the user if the books should be deleted from the
     device, the library, or both.
   o Add device drivers for Trekstore eBook Player 7, Sanda
     Bambook, ALuratek Color, Samsung Galaxy, LG Optimus,
     Motorola Droid 2 and Sunstech EB700
   o Add an entry to the menu of the calibre library button
     to select a random book from your calibre library 
   o SONY driver: Add a couple of special extra collections
     for all books by author and all books by title, to
     workaround the broken sorting on newer SONY models. To
     enable these collections, go to
     Preferences->Plugins->Device Interface plugins and
     customize the SONY plugin. 
   o Edit metadata dialog: When downloading metadata, make
     the table of matching books sortable 
   o Add a success message after a database integrity check
     completes successfully 
   o Search and replace: When using regular expression mode,
     add a special input field '{template}' that allows use
     the templating language to create complex input
     fields. Also allow setting of series_index by search and
     replace using the same syntax as in the book list,
     namely, Series Name [series number] 
   o Bulk metadata edit: Add option to automatically set
     cover from the cover present in the actual ebook files 
   o E-book viewer: Show format of current book in the title
     bar.
   o Add a tweak to control how author names are displayed in
     the Tag Browser and Content Server
   o FB2 Output: Restore sectionizing functionality
- Bug Fixes
   o When in narrow layout, reserve 40% of available width in
     the book details panel for series/formats/etc and use
     the rest for comments
   o PDB Input: Fix failure to block-indent PML sections
   o Tag browser: When renaming items dont reset the library
     view and try not to scroll the Tag Browser itself
   o Conversion pipeline: Fix broken link rewriting for
     inline CSS embedded in HTML
   o Fix regression in 0.7.34 that broke recipes using
     extra_css to link to SONY device fonts
   o SONY driver: Don't upload thumbnails as they slow down
     post disconnect processing on older models
   o Content server: Fix a bug that allowed remote users to
     read arbitrary png/gif/js/css/html files
   o On X11 initialize fontconfig in the GUI thread as Qt
     also uses fontconfig internally and fontconfig is not
     thread safe. Fixes a few random crashes on calibre
     strartup
   o When using the remove specific format actions, only show
     available formats in the selected books
   o Linux binary build: If setting system default locale
     fails, try setting locale to en_US.UTF-8 instead
   o Have the title sort tweak respected everywhere
   o PocketBook 701 driver: Swap the main memory and card
     drives on windows
   o Fix regression in templating that caused series_index to
     be shown even when book had no series
   o Content server: Fix regressiont hat broke browsing by
     rating
   o Content server OPDS feeds: Fix parsing of author names
     as XML

-------------------------------------------------------------------
Sat Dec 18 00:20:48 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.34
- New Features
   o Page turn animations in the e-book viewer
   o Conversion pipeline: Add an option to set the minimum line
     height of all elemnts as a percentage of the computed font
     size. By default, calibre now sets the line height to 120% of
     the computed font size.
   o Large speedup in startup times and post metadata edit wait
     for large libraries
   o Allow changing the font used in the calibre interface via
     Preferences->Look and feel
   o Allow editing of the title sort value for a book via the
     edit metadata dialog
   o Disable the cover cache. This means that if you are running
     calibre on an underpowered machine, you might notice some slow
     down in the cover browser. On the other hand, calibre's memory
     consumption is reduced.
   o You can now restart calibre in debug mode by clicking the
     arrow next to the Preferences button. In debug mode, after you
     quit calibre, a diagnostic log will popup
   o When creating a new calibre library add an option to copy
     the custom column, saved searches, etc from the current
     library.
   o Add more tweaks to control how the next available series
     number is calculated.
   o Add a tweak to control layout of the custom metadata tab in
     the edit metadata dialog
   o Apple driver: Set series number as track number on windows
     when sending books to iTunes
   o Drivers for PocketBook 701 and Samsung E65
   o E-book viewer: Add option to have the mouse wheel flip pages
   o Add a load_resources method to the InterfaceAction and
     Plugin classes to facilitate loading of resources from plugin
     ZIP files
   o E-book viewer: Add option to not remember position in book
     when quitting.
   o When sorting the book list, keep the current book visible
     after the sort completes.
   o EPUB Output: Add an option to flatten the EPUB file
     structure, specially for FBReaderJ.
   o EPUB Output: Ensure all files inside the generated EPUB have
     unique filenames, to support broken EPUB readers like Stanza,
     Aldiko, FBReader and Sigil
   o FB2 Output: Add support for some 2.1 style tags.
   o Bulk metadata edit: Add options to delete cover/generate
     default cover.
   o Fix a regression in 0.7.33 that broke updating covers in
     ebook files when saving to disk.
   o Don't refresh the Tag browser if it is hidden. Speeds up
     metadata editing with large libraries, if you hide the Tag
     Browser.
   o MOBI Output: Add option to ignore margins in input document
   o Kobo driver: Add support for 1.8.x firmware
-Bug Fixes
   o Fix various memory leaks introduced in the last couple of
     releases
   o EPUB metadata: When rendering first page as the cover,
     handle embedded svg correctly.
   o Disable multiple library support when the
     CALIBRE_OVERRIDE_DATABASE_PATH env var is set
   o Content server: Fix bug that could cause saved search based
     restrictions to not exclude all books
   o Topaz metadata: Read metadata correctly from Topaz files
     that have MOBI file extensions
   o MOBI Input: Handle the (rare) MOBI files that do not specify
     per paragraph text indents correctly.
   o MOBI metadata reader: Handle invalid PRC files with spurious
     image_offset headers
   o Fix drag/drop of new cover to book detail panel does not
     update cover browser
   o Do not open the book details dialog when double click on the
     scrollbars in the book details panel
   o Templates: Fix {tags} not working when no tags are present
   o HTML metadata: Fix regression that broke parsing of some
     meta tags
   o Preferences: Add tooltips to buddy labels as well.
   o Content server: Fix handling of root URL when using
     --url-prefix
   o Ensure that the default encoding used by python is never
     ASCII (needed when running a non frozen version of calibre on
     linux)

-------------------------------------------------------------------
Sun Dec 12 10:42:19 UTC 2010 - toms@suse.de

- SPEC: Added build requirements for libicu-devel 

-------------------------------------------------------------------
Fri Dec 10 23:33:23 UTC 2010 - saigkill@opensuse.org

- updated to version 0.7.33
- New Features
   o Language sensitive sorting
   o Add an action to merge only formats and leave metadata alone
     (Shift+Alt+M)
   o Add a tweak to control which custom columns are displayed in
     the Book details panel.
   o Implement a more sophisticated 'functional programming'
     template language. See the User Manual for details.
   o Speed up deleting of large numbers of books and show
     progress while doing so
   o Adding books: Dont refresh the Tag Browser while adding
     multiple books. Should speed up the adding of large numbers of
     books.
   o Edit metadata dialog: When trying to download metadata, if
     there are multiple matches indicate which matches have a cover
     and summary in the list. Also add an option to automatically
     download the cover of the selected match.
   o Drivers for the HTC Legend and Samsung Epic
   o FB2 Output: Convert SVG images in the input document to
     raster images
   o News download: Localize the navigation bars in the
     downloaded news to the language the user has selected for
     their calibre interface
- Bug Fixes
   o Various fixes to the Title Case function
   o Content server: Fix --url-prefix being ignored for links at
     the Top level
   o News download: When generating periodicals for the SONY use
     the local timezone in the SONY specific metadata
   o Fix bug in cover cache that could cause it to keep a large
     number of covers in memory. Showed up when adding large
     numbers of books to calibre.
   o Adding books: Run in the main thread to prevent unfortunate
     interactions with the metadata backup. Also fix regression
     that broke the Abort button.
   o Fix a crash on OS X if OK is clicked inthe edit metadata
     button while downloading a cover
   o E-book viewer: Fix a regression that prevented booksmarks
     from working with some EPUB files
   o Save to disk: Refactor to not open a database connection in
     the worker process. Also fix a bug that could lead to save
     failures not being reported.
   o Fix regression in 0.7.32 that broke opening formats in the
     ebook viewer from the edit metadata dialog
   o FB2 Output: Generate output 100% compliant with the FB2 spec
   o Fix Saved search dropdown box looses selected search
   o TXT Output: Fix an issue where the br to space conversion
     was not being handled properly. 

-------------------------------------------------------------------
Sat Dec  4 18:58:31 UTC 2010 - saigkill@opensuse.org

- updated to version 0.7.32
- New Features
   o All new linux binary build. With updated libraries and
     replacing cx_Freeze with my own C python launcher code.
   o Edit metadata dialog: Add Next and Previous buttons and show
     cover size in tooltip
   o A new custom column type: Enumeration. This column can take
   one of a user defined set of values.
   o PML Output: Add option to reduce image sizes/bit depth to
     allow PML Output to be used with DropBook
   o TXT Output: Add option to generate Markdown output. Turn
     tags into spaces.
   o Add a count function to the template language. Make
     author_sort searchable. 
   o Various consistency and usability enhancements to the search
     box.
   o Driver for samsung fascinate and PocketBook 902
   o FB2 Output: Add option to create FB2 sections based on
     internal file structure of input file (useful for EPUB files
     that have been split on chapter boundaries). Also add options
     to mark h1/h2/h3 tags as section titles in the FB2 file.
   o Metadata jacket: Add publisher information to jacket.
   o Catalog generation: Allow use of custom columns as well as
     tags to indicate read books. Note that your previously saved
     read books setting will be lost.
   o Bulk metadata edit dialog: Add an Apply button to allow you
     to perform multiple operations in sequence
   o Allow drag and drop of books onto user categories. If you
     drag a book from a particular column (say authors) and drop it
     onto a user category, the column value will be added to the
     user category. So for authors, the authros will be added to
     the user category.
   o Check Library can now check and repair the has_cover cache
   o Allow GUI plugins to be distributed in ZIP files. See
     http://www.mobileread.com/forums/showthread.php?t=108774
   o Allow searching by the number of
     tags/authors/formats/etc. See User Manual for details.
   o Tiny speed up when loading large libraries and make various
     metadata editing tasks a little faster by reducing the number
     of times the Tag Browser is refreshed
- Bug Fixes
   o E-book viewer: Fix broken backwards searching
   o Fix custom ratings column values being displayed incorrectly
     in book details area
   o Fix book details dialog not using internal viewer to view
     ebooks
   o MOBI Output: When the input document does not explicitly
     specify a size for images, set the size to be the natural size
   of the image. This works around Amazon's *truly wonderful*
     MOBI renderer's tendency to expand images that do not have a
     width and height specified.
   o Conversion pipeline: Fix bug that caused height/width
     specified in %/em of screen size to be incorrectly calculated
     by a factor of 72./DPI
   o Conversion pipeline: Respect max-width and max-height when
     calculating the effective size of an element
   o Conversion pipeline: Do not override CSS for images with the
     value of the img width/height attributes, unless no CSS is
     specified for the image
   o E-book viewer: Resize automatically to fit on smaller
     screens
   o Use the same MIME database on all platforms that calibre
     runs on, works around python 2.7's crazy insistence on reading
     MIME data from the registry
   o Kobo driver: Allow html, txt and rtf documents to be deleted
   o Always overwrite title/author metadata when downloading
     metadata for books added by ISBN
   o Nook Color profile: Reduce screen height to 900px
   o Fix regression that broke RTF conversion on some linux
     systems
   o Fix bug that could break searching after copying and
     deleting a book from the current library

-------------------------------------------------------------------
Sat Nov 27 23:50:52 UTC 2010 - toms@suse.de

- spec file: Added export of CFLAGS variable
- update to 0.7.31
- Bug Fixes
    * Fix various regressions in the calibre windows build caused
      by the switch to python 2.7. If you are on windows and 
      upgraded to 0.7.30, it is highly recommended that you 
      upgrade to 0.7.31. If you are not on windows, you can ignore
      0.7.31
      Closes tickets: 7685, 7694, 7691
      
-------------------------------------------------------------------
Sat Nov 27 16:13:57 UTC 2010 - saigkill@opensuse.org

- update to 0.7.30
- New Features
   o Support for Acer Lumiread and PocketBook Pro 602
   o When importing by ISBN also allow the specification of a
     file to be imported.
   o E-mail sending: Email sends are now regular jobs that can be
     accessed from the jobs list. Also when sending using
     gmail/hotmail send at most one email every five minutes to
     avoid trigerring their spam controls. Failed sends are now
     retried one more time, automatically.
   o Content server: When a category contains only one item, go
     directly to the book list instead of forcing the user to click
   on that one item
   o E-mail sending: Allow unencrypted connections to SMTP relay
   o Improve startup times for large libraries by caching the
     has_cover check
   o Update windows binary build to use python 2.7
   o Metadata and cover download plugins from Nicebooks (disabled
     by default)
- Bug Fixes
   o MOBI Input: Fix bug in cleanup regex that broke parsing of
     escaped XML declarations.
   o Content server: Fix bug when user has custom
     categories/columns with non ascii names
   o RTF Output: Handle non breaking spaces correctly
   o Conversion pipeline: When rasterizing SVG images workaround
     incorrect handinlg of percentage height specifications in
     QSvgRenderer.
   o News download: Update version of feedparser used to parse
     RSS feeds.
   o Tag Browser: Allow user to restore hidden categories by a
     right click even is all categories have been hidden
   o TXT/RTF Output: Handle XML processing instructions embedded
     in content correctly.
   o MOBI Input: Workarounds for lack of nesting rules between
     block and inline tags
   o E-book viewer: Load all hyphenation patterns to support
     multi-lingual books
   o E-book viewer: Fix incorrect lang names being used in
     hyphenation
   o Check to see that the result file from a conversion is not
     empty before adding it, protects against the case where the
     conversion process crashes and the GUI adds a zero byte file
     to the book record
   o E-book viewer: More sophisticated algorithm to resize images
     to fit viewer window. Should preserve aspect ratio in more
     cases
   o Remove unneccessary calls to set_path when creating book
     records. Speeds up record creation by about 30% on my system
   o Speedup for bibtex catalog generation.
   o Kobo driver: Fix missing table in deleting books process for
     Kobo WiFi and Kobo-O 1.8 Beta
   o RTF Input: Preserve scene breaks in the form of empty
     paragraphs. Preprocessing: Improvements to chapter detection
   o Fix custom recipe not sorted by title
   o Kobo driver: Fix bug in managing the Im_Reading category on
     windows

-------------------------------------------------------------------
Sat Nov 20 12:25:59 UTC 2010 - saigkill@opensuse.org

- update to 0,7,29
- New Features
   o OSX binary build is now based on Qt 4.7. Also, the build is
     now Intel only and requires at least OS X 10.5.2. If you are
   on a PowerPC machine or an older OS X version, do not upgrade
   o Content server: Allow direct navigation to a set of books in
     the book list.
   o OS X: When deleting books, put the files into the recycle
     bin instead of deleting them permanently
   o Add button to easy configure Hotmail as email relay. Also
     improve usability of easy config buttons
   o Kobo driver: Support Currently_Reading category
   o Catalog generation: Thumbnail caching, wishlist, improved
     description layout.
   o Support for the Cybook Orizon
- Bug Fixes
   o Fix restore to defaults in preferences incorrectly setting
     PDF unwrap factor to 0.0
   o PDF Input: Fix unwrapping of accented characters
   o Do not display dialogs asking for confirmation or showing
     conversion errors when calibre is minimized to system tray
   o calibre server: Fix regression that broke digest
     authentication when the calibre interface language was set to
     non English
   o EPUB Output: Do not raise an error for invalid embedded
     fonts in the input document.
   o RTF Input: Improved conversion of tables, with support for
     border styles on table cells
   o E-book viewer: Fix regression that broke hyphenation. Also
     add more language patterns for hyphenation
   o SONY driver: Fix cover thumbnails being uploaded to wrong
     directory on windows
   o Fix UnicodeDecodeError when displaying a failed metadata
     fetch message
   o Bulk metadata edit: Speed up remove all tags operation
   o MOBI Output: Specify image sizes in pixels instead of em to
     accomodate Amazon's @#$%#@! MOBI renderer
   o Fix bug preventing customizing of builtin recipes if they
     are not ascii encoded
   o SONY XML cache: Handle case where XML db contains reference
     to a file that does not exist gracefully 

-------------------------------------------------------------------
Sat Nov 13 09:21:32 UTC 2010 - saigkill@opensuse.org

- Update to 0.7.28
- New Features:
   o Update the version of the grahical toolkit (Qt 4.7.1) used
     in the calibre binary builds on windows and linux. This should
     result in a significant speed up for the calibre ebook viewer 
   o Driver for Nook Color, Eken M001
   o Add a tweak to turn off double clicking to open viewer
   o Catalog generation: Add indication when a book has no
     formats
   o Advanced search dialog: Add a tab to allow searching
     particular metadata fields easily
   o Conversion pipeline: When using the Level x Table of
     Contents expressions, if a tag is empty but has a non-empty
     title attribute, use that instead of ignoring the tag
- Bug Fixes:
   o Comic metadata reader: Sort filenames aplhabetically when
     choosing an image for the cover
   o Bulk convert dialog: Hide useless restore defaults button.
   o Conversion pipeline: Handle input documents that encode null
     bytes as HTML entities correctly
   o Fix some SONY readers not being detected on windows
   o MOBI Input: Fix images missing when converting MOBI news
     downloads created with Mobipocket reader
   o ODT Input: Handle hyperlinks to headings that have truncated
     destination specifiers correctly
   o Sony driver: Ignore invalid strings when updating XML
     database
   o Content Server: Add day to displayed date in /mobile book
     listing
   o MOBI Input: Do not generate filenames with only extensions
     if the MOBI file has no internal name
   o MOBI Input: Handle files that has the record sizes set
     incorrectly to a long integer
   o Fix not enough vertical space for text in the preferences
     dialog category listing
   o Remove 'sort' from Search and replace destination fields and
     add it to source fields. S&R is no longer marked experimental
   o Edit metadata dialog: Save dialog geometry on reject as well
     as on accept
   o E-book viewer: Fix clicking entries in TOC that point to the
     currently loaded flow not scrolling view to the top of the
     document
   o Fix bug in regex used to extract charset from  tags
   o MOBI Output: Add support for the  tag 

-------------------------------------------------------------------
Mon Nov  8 09:17:37 UTC 2010 - saigkill@opensuse.org

- Update to 0.7.27 

   - New Features
   o The book list behavior has changed
   o Added a new HTML output format plugin, which converts the
     input document to a ZIP file. The zip file contains HTML
     pages suitable for display in a website
   o Support for iRiver Cover Story and Digma Q600
   o Add a search button (labelled Go!) to explicitly run a
     search with the text currently in the quick search box 
   o Add author to the calibre geenrated book jacket
   o Add the title of the destination book to the merge dialog
     warning message
   o calibre-server: Make auto reload control separate from
     --devlop with a new command line option --auto-reload
- Bug Fixes
   o Fix book details panel not being updated after a
     delete-merge
   o Fix clicking in the search box launches a search if you
     have search as you type enabled
   o Use a browser widget to display book details for more
     robustness and better performance when vieweing large HTML
     comments
   o Fix cover browser not updated after copy to library and
     delete
   o Fix regression that broke sending non calibre EPUB files to
     the iPad. Also handle failure to set cover in iTunes
     gracefully
   o News download: Workaround lack of thread safety in python
     mechanize, causing corrupted network packets (degrading
     network performance) on Ubuntu Maverick 64bit kernels
   o Convert comments to HTML for book details panel in separate
     thread to make scrolling through the book list faster when
     large comments are present
   o calibre-server: Fix regression that broke --daemonize
   o EPUB Input: Handle ncx files that have  elements with no
     content correctly.
   o SNBOutput: Fixed a bug in handling pre tag
   o MOBI Output: Don't ignore hidden anchors.
   o Fix switching libraries and generating a catalog could
     generate a catalog for the wrong library
   o MOBI Output: Fix regression that broke conversion of
     anchors inside superscripts/subscripts.
   o Content server: Fix various minor bugs
   o Amazon metadata download plugin: Make it more robust and
     add option to auto convert HTML to text
   o Re-arrange send to device menu to make it harder to
     accidentally trigger the send and delete actions

-------------------------------------------------------------------
Sun Oct 31 15:33:56 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.26
- New Features
   o Check library: Allow wildcards in ignore names field
- Bug Fixes
   o Fix regression in 0.7.25 that broke reading metadata from
     filenames. 
   o Fix regression in 0.7.25 that caused original files to be
     mistakenly removed when adding books recursively 
   o Fix long series/publisher causing edit metadata in bulk
     dialog to become very large 
   o Only add SONY periodical code to downloaded news if output
     profile is set to one of the SONY reader profiles. This is
     needed because the ever delightful Stanza crashes and burns
     when an EPUB has the periodical code  

-------------------------------------------------------------------
Tue Oct 26 20:35:20 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.24
- New Features:
   o Content server: New interface that allows browsing via
     categories, similar to the Tag Browser in the calibre
     interface.
   o Support for the SNB e-book format, used by the Bambook
     e-book reader
   o Driver for the Wifi Kobo
   o Edit metadata dialog: If metadata is downloaded
     successfully, set focus to download cover button
   o News download system: Allow recipes with optional
     subscriptions
   o Templates: Improve the smarten function
   o Linux device mounting: Use udisks, if it is available, to
     mount devices, so that I no longer have to hear bug reports
     from users using distro packages that have crippled
     calibre-mount-helper. You can turn off udisks by setting the
     environment variable CALIBRE_DISABLE_UDISKS=1
   o Implement Drag'n'drop to tags in user categories
   o Ebook viewer: Add command line option to start in full
     screen mode
   o Set completion mode on search boxes to popup completion
   o Update version of jQuery used in content server and
     viewer. Required a little hackery in the viewer, hopefully
     nothing broke
- Bug Fixes:
   o Linux device drivers: Ignore read only partition exported by
     the device
   o E-book viewer: Fix scrolling down with mouse wheel not
     always reaching bottom in windows
   o Smarten punctuation: Fix bug in handling of comments and 

-------------------------------------------------------------------
Tue Oct 12 18:03:51 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.23
- New Features:
   o Drag and drop to Tag Browser. You can use this to
     conveniently add tags, set series/publisher etc for a group of
     books
   o Allow switching of library even when a device is connected
   o Support for the PD Novel running Kobo
   o Move check library integrity from preferences to drop down
     menu accessed by clicking arrow next to calibre icon
   o Nicer, non-blocking update available notification
   o E-Book viewer: If you choose to remeber last used window
     size, the state of the Table of Contents view is also
     remembered
   o Allow moving as well as copying of books to another library
   o Apple devices: Add support for plugboards
   o Allow DJVU to be sent to the DR1000
- Bug Fixes:
   o Searching: Fix search expression parser to allow use of
     escaped double quotes in the search expression
   o When saving cover images don't re-encode the image data
     unless absolutely neccessary. This prevents information loss
     due to JPEG re-compression
   o Fix regression that broke setting of metadata for some
     MOBI/AZW/PRC files
   o Fix regression in last release that could cause download of
     metadata for multiple files to only download the metadata for
     a few of them
   o MOBI Output: More tweaking of the margin handling to yield
     results closer to the input document.
   o Device drivers: Fix regression that could cause geenration of
     invalid metadata.calibre cache files
   o Fix saving to disk with ISBN in filename
   o Fix another regression in the ISBNdb.com metadata download
     plugin
   o Fix dragging to not interfere with multi-selection. Also dont
     allow drag and drop from the library to itself
   o CHM input: handle another class of broken CHM files 

-------------------------------------------------------------------
Mon Oct  4 07:57:55 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.22
- New Features
   o Drag and drop books from your calibre library
   o There were many minor bug fixes for various bugs caused by
     the major changes in 0.7.21. So if you have updated to 0.7.21,
     it is highly recommended you update to 0.7.22
   o Driver for the VelocityMicro ebook reader device
   o Add a tweak to control how articles in titles are processed
     during sorting
   o Add a new format type 'device_db' to plugboards to control
     the metadata displayed in book lists on SONY devices.
- Bug Fixes
   o Fix ISBN not being read from filenames in 0.7.21
   o Fix instant Search for text not found causes unhandled
     exception when conversion jobs are running
   o Fix removing a publisher causes an error in 0.7.21
   o MOBI Output: Fix some images being distorted in 0.7.21
   o Fix regression that broke bulk conversion of books without
     covers in 0.7.21
   o Fix regression that broke add and set_metadata commands in
     calibredb in 0.7.21
   o Workaround for Qt bug in file open dialogs in linux that
     causes multiple file selection to ignore files with two or
     more spaces in the file name
   o Conversion pipeline: Fix regression in 0.7.21 that broke
     conversion of LIT/EPUB documents that specified no title in
     their OPF files
   o Fix regression that broke iPad driver in 0.7.21- 

-------------------------------------------------------------------
Sun Oct  3 17:35:21 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.21
- New Features
   o Automatic backup of the calibre metadata database
   o Virtual columns
   o calibre templates now much more powerful
   o Metadata plugboards: Allow you to perform sophisticated
     transformations on the metadata of a book when exporting it
     from the calibre library.
   o User defined columns are now fully integrated into calibre
   o Driver for the jetBook Mini
   o Add tweaks to control which custom columns the content
     server displays.
   o Bulk downloading of metadata/covers now shows progress and
     can be canceled
   o New plugin to download covers from douban.com. It is
     disabled by default and must be enabled via
     Preferences->Advanced->Plugins->Cover download plugins
   o Add option to change titles to title case in the Bulk
     metadata edit dialog
   o Add option to bulk metadata edit dialog to force series
     renumbering to start with a specified value
- Bug Fixes
   o Fix various bugs that could lead to stale files being left
     in the calbre library when editing title/author metadata on
     windows
   o Fix various regression in the preprocess and de-hyphenation
     code that broke conversion of some files, especially PDF
   ones.
   o Alex driver: Fix books not being placed in sub
     directories. Send covers. And allow sending of FB2
   o MOBI Output: Fix bug that could caused left margins in the
     MOBI file to have twice the size of the left margins in the
     input document, when viewed on the pathetic Kindle MOBI
     renderer
   o MOBI Input: Interpret blockquotes as having a left margin of
     2em not 1em to reflect recent Amazon practice
   o MOBI Output: Remove transparencies from images. Pathetic
     Kindle MOBI renderer strikes again
   o Revert removal of inline toc from news downloaded in MOBI
     format as this makes it unusable with the pathetic Kindle For
     PC application
   o Content server: Remove special characters from filenames in
     download links to accomodate broken browsers like the one in
     the Kindle
   o Conversion pipeline: When rescaling images, dont replace gif
     image data with jpeg data
   o EPUB Input: Ignore OPF files in the EPUB whose names start
     with a period
   o RTF Output: Handle a larger set of broken images in the
     input document
   o epub-fix: Handle dates before 1900
   o Welcome wizard: Prevent the user from choosing a non empty
     folder as her calibre library
   o Automatically enable the Douban metadata download plugins if
     the user choose chinese as the interface language in the
     welcome wizard
   o Linux DBUS notifier: Fix causing freezes on some DBUS
     implementations
   o Workaround for windows limitation when reading from network
     sockets. Should fix issues with large files in calibre
     libraries on network shares.

-------------------------------------------------------------------
Sun Sep 26 11:37:46 UTC 2010 - saigkill@opensuse.org

- updated to version 0.7.20
- New Features
   o Tweak epub feature.
   o Add button to Edit metadata dialog to trim borders from the
    cover
   o Kobo driver: Add support for setting the ReadStatus to Read
    and correctly deal with empty collections
   o Improved algorithm for removal of hyphens during
    pre-processing
   o EPUB metadata: Don't read timestamp value from epubs as I am
    sick of closing bugs about adding books and having the Date
    not be today.
   o After bulk edit metadata, reselect previously selected
    books.
- Bug Fixes
   o Fix regression in 0.7.19 that broke the By Author and By
    Title category listing in Stanza/Aldiko feeds.
   o MOBI Output: Fix regression that broke sections list in
    downloaded periodicals on Kindle for non-english news sources 
   o News download: Rationalize cover processing.
   o Cover cache: load images only in the GUI thread to prevent
    stale files being leftover by set_path due to Windows file
    locking
   o Database: Make renaming of folders on case change more
    robust
   o When adding/replacing files to/in EPUB files, set the GPF
    bit for all files in the archive, to prevent unzip from
    complaining in linux
   o Plugin loading: Handle encoding declarations in .py files
    correctly
   o MOBI input: Another corner case
   o IPC: Store results file in the calibre temp dir and also
    dont die if for some reason removing result file fails. Should
    make adding/saving more robust
   o Database: Fix regression that caused has_cover to create
    empty directories unneccessarily
   o Detection of Alex on unix
   o News download: Don't add inline table of contents when
    downloading news for the Kindle
   o Add prologue and epilogue to default chapter detection regex
   o Kobo driver: Fix issue where books that are read were
    getting their status reset to Unread
   o Device drivers: Fix occassional false positive when matching
    books on device with books in the calibre library
   o Content server: Making serving of large files more
    efficient.
   o GUI device detection: Handle case when user yanks connected
    device before device connection handler is called.
   o Strip leading/trailing whitespace when setting metadata
    using the edit metadata dialog
   o KOBO: Editing the Im_Reading list with SD Card installed
    fixed 

-------------------------------------------------------------------
Sat Sep 18 12:13:04 UTC 2010 - saigkill@opensuse.org

- uppdated to 0.7.19
- New Features
   o The ability to perform search and replace via regular
    expressions in the Bulk Edit metadata dialog
   o Add an option to have calibre automatically convert straight
    quotes to curly quotes. Also handles em/en-dashes 
    and ellipses. Found under 'Look & Feel' in the conversion
    options
   o Greatly improve sorting performance on large libraries.
   o Drivers for the SONY PRS-350/PRS-650 and the Sovos E-reader
   o Kobo driver: Add management of the I'm Reading list on Kobo
    via an Im_Reading tag in calibre. See
    http://www.mobileread.com/forums/showthread.php?t=98906 for
    details
   o Conversion pipeline: Add an option to control how hard line
    breaks are removed during preprocessing. See the Structure
    Detection section in the conversion options
   o In the Edit metadata dialog, indicate whether the author
    sort value matches the author value, using a background color
   o Add an option to split the toolbar into two toolbars in
    Preferences->Interface->Look and Feel
   o EPUB Output: Improved design of the 'jacket' page created by
    calibre when using the 'Insert metadata at start of book'
   option
   o PDF Input: Improve line unwrapping, handling of
    hyphens/dashes and quotes. Also handle more specially encoded
    non ASCII characters
- Bug Fixes
   o Fix regression in filename shortening that caused loss of
    filename extension
   o Fix various regressions that could be triggered when using
    search restrictions and/or multi-sorts and connecting a device
   o Database: Fix possible race condition in windows when
    changing title/author during move of book files, that could
    lead to old files not being deleted
   o Conversion pipeline: Don't die if rescaling of image raises
    an exception, just ignore and continue
   o Database: Update has_cover cache when setting/removing
    covers so that the search returns correct results. Also fix an
    exception that could occur when adding books with a db that
    has been upgraded from very old SQL.
   o Workaround for bug that affects some windows installs
    causing white backgrounds on default covers to be rendered as
    yellow
   o Fix handling of non-ASCII chars when rendering series in
    default EPUB cover
   o Fix --start-in-tray switch displays hidden windows in
    metacity, xfwm4 and compiz
   o Conversion pipeline: When setting margins on  explicitly set
    padding to 0 to override and existing padding in the input
    document
   o CHM Input: Ignore missing image files in the input document
   o News download: Fix bug that could break some downloads in
    non ASCII locales
   o TXT Output: When using preserve spaces, output tab
    characters as a sequence of four non-breaking spaces as some
    readers dont handle the 09 char code.
   o PDB Input: Fix bug in conversion of TOC in some PML files 

-------------------------------------------------------------------
Sat Sep 11 13:01:41 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.18
- New Features
   o All new Preferences dialog, with nicer layout and the
    ability to restore settings to defaults
   o Add series info when available to generated cover. Also
    auto-resize the logo on the cover to ensure all text fits
   o On device column: Now indicates when multiple copies of the
    same book are present on the device
   o Driver for the Gemei GM2000
   o Extract fb2 files from zip container when adding to
    calibre. Can be disables by disabling the Archive Extract file
    type plugin.
   o Switch to using raster icons for a small speedup in startup
    time
- Bug Fixes
   o On device column: Fix matching bug when multiple books in
    the library have the same title and author
   o Content server: Use /mobile version for Kindle browser
   o E-book viewer: When adding a bookmark, a default name is
    generated
   o Hide visible menus before clearing toolbar.
   o Batch conversion: Don't overwrite the insert page break
    before setting
   o Catalog generation: Fixed improper title display in catalog
    when title contains ':'. Added 'ondevice' field to CSV/XML
    catalog output (only with connected
    device|folder|iTunes). Added optional 'Series' section to
    generated catalogs with hyperlinks between books and
    series. Tweaks to catalog formatting. 
   o Fix regression when checking database integrity with custom
    columns introduced in 0.7.17
   o Sending email: Ignore geenric records when trying to resolve
    domain
   o Fix a bug where the open state of the splitter was not being
    saved on shutdown if the splitter had been closed at startup
    and was opened by dragging the center line
   o MOBI Output: Fix bug generating index when chapter names
    contained non ASCII characters
   o PDF Input: Fix handling of more non ascii characters
   o Content server: Triple AJAX timeout for main book list to 30
    seconds
   o Use ImageMagick instead of Qt to generate thumbnails when
    sending covers to device. Should fix corrupted nook covers on
    some windows installs
   o FB2 Output: Improve creation of sections and fix a couple of
    bugs that could result in invalid output 

-------------------------------------------------------------------
Sat Sep  4 09:09:35 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.17
- New Features
   o Content server: Show custom column data in the book listing
   o Add preference to automatically set a tag when adding books
    (Preferences->General)
   o Add a tweak to create compound search terms. Show error
    message in tooltip when user inputs an invalid search query.
   o Managing multiple libraries: Allow renaming/deleting
    libraries from the Choose library menu
   o Searching on series index is now possible. See the User
    Manual for details.
- Bug Fixes
   o Fix regression in 0.7.16 that broke conversion of HTML files
    with preprocess turned on
   o MOBI Output: When converting an input document that
    specifies an inline TOC in the  but not in the , add it
    correctly. Fixes #6661 (Conversion to MOBI fails to create
    TOC)
   o JetBook driver: Only use JetBook naming scheme for txt, pdf
    and fb2 files.
   o Copy to library action now respects merge preferences
   o Fix bug in email sending when using an SSL connection
   o Kobo driver: Fix bug that prevented metadata caching from
    working correctly
   o Fix regression in 0.7.16 that caused calibre to forget its
    preferences on each restart for new installs on linux
   o News downloads: Cut off long downloaded from URLs 

-------------------------------------------------------------------
Sat Aug 28 14:10:29 UTC 2010 - saigkill@opensuse.org

- updated to 0.7.16
- New Features
   o Driver for the Kindle 3
   o Users can now customize what actions appear in the toolbar
    and context menus via Preferences->Interface->Toolbars
   o Draw a thin broder around the cover in the edit metadata
    dialog.
   o Create (almost) all temporary files in a subdirectory so as
    not to clutter up temp directory
   o FB2 Output: Add option to try to generate FB2 sections from
    the TOC. This may or may not work, depending on the file, so
    use with care.
   o Add an option to remove all tags from selected books in the
    bulk metadata editor.
   o Add a tweak to control how the dates in the Date column are
    formatted.
- Bug Fixes
   o Fix regression in 0.7.15 that broke the Similar books action
    and the add books to library from device action
   o Add ZIP and RAR to the input format order preferences.
   o Update podofo in all binary builds to 0.8.2. Should fix bug
    where setting metadata in some PDF files would cause file
    truncation.
   o Add/remove header wizard: When running on PDF input, replace
    non breaking spaces with normal spaces, since it is hard to
    write regexps to match non breaking spaces with the regex
    builder wizard.
   o Fix crash is user tries to switch libraries whiel a device
    is being detected
   o Title sort now ignores leading quite character. Only applies
    to newly added books.
   o Conversion pipeline: Don't fail if parsing extra css raises
    an exception. Instead just ignore it.
   o SONY driver: Use the tz field (available in newer readers)
    to set timestamps correctly, when available.
   o Shortening file paths: Handle the case of very long
    filenames with periods in them. 

-------------------------------------------------------------------
Tue Aug 24 14:26:35 UTC 2010 - saigkill@opensuse.org

- placed python-django-tagging, python-imaging and python-genshi to
  our Repository.
- added ImageMagick, python-django-tagging, python-imaging and
  python-genshi to Requires. 

-------------------------------------------------------------------
Tue Aug 24 11:08:44 UTC 2010 - saigkill@opensuse.org

- placed python-cherrypy to our Repo
- added python-cherrypy to Requires and BuildRequires 

-------------------------------------------------------------------
Tue Aug 24 09:33:04 UTC 2010 - saigkill@opensuse.org

- placed python-pypdf into our Repository
- added python-pypdf as Requires and BuildRequires 

-------------------------------------------------------------------
Mon Aug 23 16:30:11 UTC 2010 - saigkill@opensuse.org

- removed calibre-rpmlintrc
- linked python-odfpy to home:thomas-schraitle:calibre
- added python-odfpy to Requires and BuildRequires 

-------------------------------------------------------------------
Mon Aug 23 06:33:06 UTC 2010 - toms@suse.de

- Require liberation-fonts

-------------------------------------------------------------------
Sun Aug 22 15:31:40 UTC 2010 - saigkill@opensuse.org

- Update to 0.7.15:
  * New Features
   o Multiple library support: Various improvements to make using
    multiple calibre libraries easier.
   o Content server: Allow setting a restriction so that the
    server shares only some of the books in the library.
   o Speed up metadata editing. Small speed up for single book
    editing and major speedup for bulk editing.
   o Drivers for the Kogan and Spectra e-book readers and the
    Samsung Captivate
   o Allow calibredb to manage saved searches stored in the
    library.
   o Add a tweak to automatically connect to a folder on
    startup. Accessible via Preferences->Advanced->Tweaks
   o You can specify a restriction based on a saved search to be
    applied on calibre startup
   o All actions in toolbar/context menus have been refactored to
    become plugins
 * Bug Fixes
   o Content server: Fix Saved Search and User Category handling
    in the OPDS feeds.
   o Fix regression that broke reading covers from CBR files
   o Fix regression in 0.7.13 that broke Comic Input when image
   output format was set to JPEG
   o Fix Comic Input default settings not being used when bulk
    converting comics
   o SONY driver: Fix series order being lost when metadata
    management is set to manual
   o Fix behavior of Tag Browser and search restictions when
    switching libraries
   o Do not allow the user to override the default tweaks or the
    hyphenate javascript. Also if a file is not found, do not use
    the user location as the default base.
   o Catalog generation: Changed default regex for genre tags to
    allow punctuation within genre tags.
   o Linux environment: Use a temporary dir as the config
    directory if write access to the normal config directory is
    unavailable. Can be overriden by using the
    CALIBRE_CONFIG_DIRECTORY environment variable
   o Jobs window now remebers its size and can be launched by a
    keyboard shortcut (Alt+Shift+J)
   o Fixing regression that broke clicking on links in the Book
    Details window
   o Parallel job management: Do not allow new jobs to start when
    all cores are used.
   o Fix a bug that could cause the jobs window to show details
    for the wrong job
   o Workaround for PyQt4/util-linux conflict on gentoo 

-------------------------------------------------------------------
Mon Aug  9 11:44:52 UTC 2010 - saigkill@opensuse.org

- Update to 0.7.13:
  * New Features
   o Add a button to the edit metadata dialog to generate a cover
     based on the book metadata 
   o When using series or title in a save template to generate a
     file path, remove leading prepositions. This behavior can be
     controlled via a tweak. 
   o News download: When downloading news for the Kindle, do not
     add date to the title, to allow the Kindle's periodical
     archiving to work.
   o Content Server OPDS feeds: Grouping of items by first
     alphabet is now case-insensitive. 
   o Do not allow the user to use save to disk to save files into
     the calibre library
   o Switch to a new C based API for using ImageMagick. More
     robust and a minor speedup when doing image manipulations
   o Move cover downloading to a plugin based API. You can now add
     new cover sources to calibre using plugins.
  * Bug Fixes
   o Content server OPDS feeds: Handle the case when the author
     field is blank
   o TXT Input: Strip out illegal chars from txt files.
   o Save to disk/send to device templates: Always render
     {series_index} as an empty string when the book has no series.
   o PD Novel driver: Remove covers when deleting books 

-------------------------------------------------------------------
Fri Aug  6 11:43:13 UTC 2010 - toms@suse.de

- Corrected SPEC file:
  Used chmod to remove any x flag for the recipes files in
  resources/recipes/

-------------------------------------------------------------------
Sat Jul 31 09:22:33 UTC 2010 - saigkill@opensuse.org

- Updated to Version 0.7.12:
  * New Features
   o EPUB metadata: When setting metadata in an EPUB file, if it
    has a well defined image based cover, update it
   o Support for Droid X, Samsung Vibrant and Promedia ebook
    reader
   o Add entry to Connect/share menu to conveniently stop and
    start the Content Server
   o News download: Make the navbars on the section index pages
    more useful, adding links to net and previous section
   o Add a button to reset confirm dialogs to
    Preferences->General
  * Bug Fixes
   o Fix crash in edit metadata dialog if you click OK before
    cover download completes
   o Kobo driver: Show a warning when the user tries to
    export/view .kobo files. Also add support for the new sofroot
    vendor id
   o Update check. Do not be fooled by a redirecting proxy when
    checking for new version
   o Add book count to tooltip of library button in toolbar
   o Content server: When serving OPDS feeds send the correct
    content-type header.
   o PDF Output: Don't insert blank pages before every individual
    HTML file in the ebook.
   o Fix saving of cover when path to book folder contains non
    ascii characters
   o Fix regression that broke showing send to actions for
    multiple email accounts
   o Fix bug in handlling of hexadecimal entities
   o SONY driver: More fixes to handle broken media.xml files
   o Linux installer: Fix rendering of viewer icon and restrict
    all icons to 128x128 since GNOME can't handle large icons
   o RTF Input: Fix handling of hard linebreaks
   o RTF Output: Fix regression that broke rendering of bold and
    italic text- 
   o Fix a typo that caused a harmless error message after
    setting preferences
   o Linux build system: No longer search for poppler-qt4
    libraries as they are not needed

-------------------------------------------------------------------
Sun Jul 25 16:13:29 UTC 2010 - saigkill@opensuse.org

- updated to Version 0.7.10:
  * New Features
   o Allow user customization of static resources such as icons
    and templates
   o Split the 'Send to device' button into two buttons,
    'Connect/share' and 'Send to device'. The new 'Send to device'
    button will now only be available when a device is connected.
   o Store column layout, saved searches and user categories
    seprately per calibre library. This makes it possible to
    easily switch between libraries with different custom column
    setups
   o See the last modofied date for each format in the edit
    metadata dialog via a tooltip
   o PD Novel driver: Add support for uploading cover thumbnails
    to device
   o More sophisticated metadata extraction from HTML files
  * Bug Fixes
   o Fix problems with a few windows installs caused by the
    upgrade to Qt 4.6.3 in the previous release. These would
    manifest as a not working Add Books button, or deletes not
    actually deleting files, etc.
   o Restore configurability of toolbar, which was temporarily
    removed in 0.7.9. You can once again set icon size via
    Preferences->Interface
   o Fix regression in iTunes driver in 0.7.9 when sending series
    info
   o Search: Fix parsing of search terms that contain a word that
    starts with 'and' or 'or' and is not the first word
   o When merging records also merge metadata in custom columns
   o When scrolling to show a particular row, handle the case
    when the first column is a custom column
   o Fix SD card detection for The Augen Book
   o CHM Input: Fix a couple of bugs that could cause crashes
   o Conversion pipeline: Handle zero width elements with non
    zero indents gracefully 

-------------------------------------------------------------------
Mon Jul  5 13:09:49 UTC 2010 - toms@suse.de

- Corrected spec file:
  * Corrected version number
  * Removed calibre-src.calibre.linux.py.diff

-------------------------------------------------------------------
Sun Jul  4 11:41:30 UTC 2010 - saigkill@opensuse.org

Updated to Version 0.7.7:
- New Features
   o Support for the Nokia E52
   o Searching on the size column
   o iTunes driver: Add option to disable cover fetching for
     speeding up the fetching of large book collections
- Bug Fixes
   o SONY driver: Only update metadata when books are sent to
     device.
   o TXT Input: Ensure the generated html is splittable
   o Fix infinite loop in default cover generation.
   o HTML Input: Fix a parsing bug that was triggered in rare
     conditions
   o HTML2Zip plugin: Do not replace ligatures
   o iTunes driver: Fix transmission of non integral series numbers
   o Simplify implementation of cover caching and ensure cover
     browser is updated when covers are changed
   o PDF metadata: Fix last character corrupted when setting
     metadata in encrypted files.
   o PDF metadata: Update the version of PoDoFo used to set
     metadata to 0.8.1. Hopefully that means more PDF files will work
   o Device drivers: Speedup for dumping metadata cache to devices
   on Windows XP
   o EPUB Output: Ensure that language setting is conformant to the
     specs
   o MOBI Output: Fix a memory leak and a crash in the palmdoc
     compression routine
   o Metadata download: Fix a regressiont at resulted in a failed
     download for some books

-------------------------------------------------------------------
Mon Jun 28 16:38:40 UTC 2010 - saigkill@opensuse.org

Update to Version 0.7.6:
- New Features:
   o Add support for the new firmware of the Azbooka
   o A few speedups for calibre startup, should add up to a few
     seconds of startup time on slower machines
   o Support for the Sweem MM300
   o Add keyboard shorcut for Download metadata and covers
- Bug Fixes:
   o Fix regression in 0.7.5 that broke conversion of malformed
     HTML files (like those Microsoft Word outputs)
   o Don't download tags from librarything, as the tagging there
     is not very good
   o Add mimetype for FB2 so that it can be served by the content
     server
   o Ensure cover is not resized to less than the available space
     in the Edit Meta Information dialog
   o SONY driver: Only update collections when sending book to
     device for the first time
   o calibre should now work on windows when the location for the
     library contains non-ascii characters
   o Cover browser once again distorts instead of cropping covers
     that have an incorrect aspect ratio
   o ISBNDb metadata plugin: Fix bug causing only first page of
     results to be fetched
   o Move iTunes driver to the bottom so that it doesn't interfere
     with device detection for people that have iphones and an
     ereader plugged in 

-------------------------------------------------------------------
Sat Jun 26 07:54:38 UTC 2010 - saigkill@opensuse.org

Updated to Version 0.7.5:
- New Features
   o New driver for the Kobo featuring closer integration with the
     device.
   o Support for the Dell Streak, Eken Android tablet and the
     Astak Mentor EB600
   o New series type custom column
   o Add option in Send to device menu to connect to iTunes
     without any iDevice (experimental)
   o iPad driver: Make setting iTunes Category from series
     optional. News download now optimizations for iPad output.
   o Add option to disable book cover animation
   o Edit meta information dialog: Remember last used size and
     splitter position.
   o Metadata download: If any results have a published date,
     ensure they all do
   o SONY driver: Add a preference setting in
     Preferences->Add/Save->Send to device to control how
     colelctions are managed on the device by calibre
   o Metadata download: Filter out non book results. Also sort
     results by availability of covers for the isbn
   o Bulk editing for device collections in the device view via
     the context menu
- Bug Fixes
   o When converting books using the calibre GUI, set the language
     of the output book to be the same as the language of the User
     Interface, instead of undefined. Fixes use of dictionary in
     iBooks
   o PDF Output: Fix setting top/bottom margnis has no effect
   o Conversion pipeline: Fix typo causing remove footer regex to
     always fail
   o Handle device being yanked with queued device jobs gracefully
   o Conversion pipeline: Handle deeply nested XML structures
   o Conversion pipeline: Fix handling of lists with a specified
     left margin
   o Restore workaround for ADE buggy rendering of anchors as
     links. However, make it overridable by extra CSS
   o Fix LibraryThing metadata download plugin
   o Fix multiple ratings displayed in Tag Browser for some legacy
     databases
   o Fix invocation of postprocess file type plugins plugins
   o HTML Input: Handle @import directives in linked css files.
   o HTML Input: Handle absolute paths in resource links on
     windows correctly.
   o E-book viewer: Handle font-face rules specify multiple
     families to be substituted
   o Cover browser: Set aspect ratio of covers to 3:4 instead of
     2:3. Crop rather than distort covers whoose aspect ratio is
     different from this. Antialias the rendering of the central
     cover
   o Reset Tag browser if the text in the search box is edited
   o Fix detection of SD card in Samsung Galaxy windows driver- 

-------------------------------------------------------------------
Sun Jun 20 09:51:46 UTC 2010 - saigkill@opensuse.org

Updated to Version 0.7.4:
- Bug Fixes
   o Fix regression in 0.7.3 that broke creating custom columns of
     rating or text types
   o Fix cover browser breaking if you click on a book in the book
     list while cover browser is animated
   o Fix a bug that could be triggered with the new book details
     pane if a book has a zero size cover
   o SONY driver: Fix bug preventing the editing of collections in
     the device view

-------------------------------------------------------------------
Fri Jun 18 22:10:22 UTC 2010 - saigkill@opensuse.org

Updated to Version 0.7.3:
- New Features:
  o The Tag Browser now display an average rating for each item
  o Editable author sort for each author
  o When downloading metadata, also get series information from
    librarything.com
  o Redesign of the Book Details pane
  o New User Interface layouts
  o You can now add books directly from the device to the calibre
    library by right clicking on the books in the device views
  o iPad driver: Create category from series preferentially, also
    handle series sorting
  o SONY driver: Add an option to use author_sort instead of
    author when sending to device
  o Hitting Enter in the search box now causes the search to be
    re-run
  o Boox driver: Make destination directory for books customizable
  o Add plugin to download metadata from douban.com. Disabled by
    default.
  o OS X/linux driver for PocketBook 301
  o Support for the Samsung Galaxy and Sigmatek EBK52
  o On startup do not focus the search bar. Instead you can acces
    the search bar easily by pressing the / key or the standard
    search keyboard shortcut for your operating system
- Bug Fixes:
  o iPad driver: Various bug fixes
  o Kobo Output profile: Adjust the screen dimensions when
    converting comics
  o Fix using Preferences when a device is connected causes items
    in device menu to be disabled
  o CHM Input: Skip files whoose names are too long for windows
  o Brighten up calibre icon on dark backgrounds
  o Ignore 'Unknown' in title/autors when downloading metadata
  o Fix regression that broke various entries in the menus -
    Preferences, Open containing folder and Edit metadata
    individually
  o EPUB metadata: Handle comma separated entries in  tags
    correctly
  o MOBI Output: Fix underlines not being rendered
  o EPUB Output: Remove workaround for old versions of Adobe
    Digital Editions' faulty rendering of links in html. calibre no
    longer forces links to be blue and underlined
  o Fix a bug that could cause the show pane buttons to not show
    hidden panes
  o Fix Tag Editor does not reflect recently changed data in Tag
    Catagory Text Box
  o Content server: Fix sorting of books by authors instead of
    author_sort in the main and mobile views
  o Cover cache: Resize covers larger than 600x800 in the cover
    cache to reduce memory consumption in the GUI
  o EPUB Output: Default cover is generated is now generated as a
    JPEG instead of PNG32, reducing size by an order of magnitude.
  o Cover Browser: Scale text size with height of cover
    browser. Only show a reflection of half the cover. Also restore
    rendering quality after regression in 0.7.1
  o Book list: Do not let the default layout have any column wider
    than 350 pixels 

-------------------------------------------------------------------
Tue Jun  8 15:37:18 UTC 2010 - toms@suse.de

Updated to version 0.7.1:
- New Features
  * Content server: Add option to control category grouping in
   oPDS feeds
  * Make the book details pane occupy the full lower part of the
    window
  * Add true and false searches for date based columns

- Bug Fixes
  * iPad driver: Various bug fixes.
  * SONY driver: Fix Launcher partition being detected as storage
    card in linux
  * Fix news downloading breaking on windows systems with local
    encoding other than UTF-8.
  * SONY driver: Fix problem caused by null titles
  * Make the new splash screen not always stay on top
  * When setting an image with transparent pixels as the book
    cover, overlay it on a white background first. Fixes
    transparent covers getting random backgrounds.
  * Content server: Fix stanza integration when entering the
    server URL my hand

- Improved news sources
  * Gizmodo
  * Vreme


-------------------------------------------------------------------
Sat Jun  5 19:22:10 UTC 2010 - toms@suse.de

- Updated to version 0.7.0
  * User Interface improvements 
  * Device driver improvements 
  * Performance improvements 
  * Improvements in the conversion and metadata engines 
  * Creation of catalogs 
  * E-book viewer improvements 
  * USB syncing with the iPad 
  * Incompatible changes 

- SPEC file changes:
  * removed udev rule
  * Recreated calibre-no-update-manpage.diff

-------------------------------------------------------------------
Sat May 29 23:12:26 UTC 2010 - saigkill@opensuse.org

- updated to version 0.6.55
- New Features
   o Support for the Nokia E71X
   o EPUB Output: Generate a default one entry TOC if no TOC is
     present. This allows the EPUB to pass epubcheck and work on the
     Kobo
   o Kobo driver: Add support for storage card
   o PDF Output: Improved cover and comic handling
   o EPUB metadata: When setting authors, always move the new
     dc:creator element to the top so broken implementations don't
     get confused
- Bug Fixes
   o Make the HTML shown in the regex builder closer to that
     actually processed by the conversion pipeline.
   o Fix tab ordering in Bulk edit meta information dialog
   o EPUB Input: Ignore __MACOSX directories inside the EPUB file
   o EPUB Input: Raise an appropriate error for DTBook EPUB files
   o EPUB Output: Use correct SVG code when not preserving aspect
     ratio for covers
   o Use PNP drive number based sorting on windows when the device
     has identical main memory and card ids 

-------------------------------------------------------------------
Sun May 16 17:59:29 UTC 2010 - saigkill@opensuse.org

- changed BuildRequires to newer podofo version 

-------------------------------------------------------------------
Sun May 16 15:25:48 UTC 2010 - saigkill@opensuse.org

- update to version 0.6.53
- New Features

   o Clean up GUI initialization and add support for restoring
     corrupted databases automatically
   o Make proxy detection more robust on windows and OS X. calibre
     now queries OS X Network Settigns if no environment variables
     are set. Also handle proxies with a trailing slash correctly
   o Add EPUB advanced formatting demo to User Manual
   o Support for the Booq Avant, Azbooka and the Samsung GT-I5700
   o Backwards search in the E-book viewer
   o calibredb: Add ability to create empty books in the
     database.
   o Conversion pipeline: Support for the :first-letter pseudo
     selector
   o Interpret a Keyboard interrupt (Ctrl+C) as a request to quit
     the main GUI
   o CBC Input: Handle comics.txt encoded in UTF-16 with a BOM
- Bug Fixes
   o HTML Input: Fix silly bug in case sensitivity detection
   o Kobo driver: Show all sideloaded content on the device.
   o EPUB metadata: Fix bug with relative apths in encryption
     detection when reading cover
   o E-book viewer: Fix next page scrolling when current document
     is just a little more than a screenfull. Also use a more robust
     method to insert blank space at the end of the document when
     the last screenfull is partially empty.
   o EPUB metadata: Allow deletion of series/tags/isbn from EPUB
     files when Saving to Disk
   o Fix regression that caused temporary blank line at the bottom
   of the books list when adding duplicates
   o Add icon for RTF
   o Amazon metadata: If ISBN is not found, don't report an error
     message.
   o EPUB Input: Fix typo that caused incorrect processing of EPUB
     files with more than one identifier element and encrypted fonts
   o Fix bug that caused send to device to send multiple copies to
     the device if you had previously used Prefrences
   o Linux prs 500 udev rule: Use SUBSYSTEMS instead of the
     deprecated BUS
   o PML2PMLZ plugin: Actually compress the PML file stored in the
     PMLZ archive
   o SONY drivers: Fix regression that broke collection ordering
     by series when sending to device. And fix another rare error
     condition.
   o CHM Input: Regression that broke CHM conversion on OS X.
   o Fix PDB created in Dropbook not convertable by Calibre 

-------------------------------------------------------------------
Tue May 11 06:12:49 UTC 2010 - toms@suse.de

- Fixed man problem (again)
- Merged %exclude pattern for calibre-uninstall from hgraeber

-------------------------------------------------------------------
Sat May  8 09:34:39 UTC 2010 - saigkill@opensuse.org

- updated to Version 0.6.52
- New Features

   o Support for the Kobo Reader and the HTC Desire
   o PDB Input: Add support for PDB files created with incorrect
     encodings
   o EPUB Output: Make the file size splitting algorithm more
     intelligent. If a split results in a tree that is very small,
     choose another split point.
   o Add an entry to the Fetch News menu to fetch all scheduled
     news
   o MOBI Output: When inserting metadata, hide the searchable
     version of the tags (append with ttt). They are still
     searchable, but not visible. 

- Bug Fixes
   o HTML Input: Handle case sensitive file systems on OS X
   o EPUB Output: When rescaling PNG images, write out the
     rescaled data in PNG format as ADE cannot handle JPEG data in
     a PNG file
   o SONY drivers: Fix corner case that could cause errors when
     transferring books with series to the device.
   o Allow users to set the content server port to < 1025 (system
     ports) with a warning.
   o Don't popup an error message when adding books if the cover
     is not a valid image
   o SONY drivers: Fix bug that prevented detection SD cards that
     had the Sony Reader/database folders, but no cache.xml
   o EPUB Input: Handle invalid EPUB files that have manifest
     entries pointing to non existent files
   o Fix the get cover/metadata from specific format buttons when
     the user has chosen to read metadata only from filenames
   o Conversion pipeline: More robust conversion of HTML tags to
     text when detecting structure
   o Fix 'Open containing folder' does not work if the path name
     contains '#'

-------------------------------------------------------------------
Wed May  5 07:25:00 UTC 2010 - toms@suse.de

SPEC:
- Corrected packager in calibre/src/calibre/utils/help2man.py
  from bz2 -> gzip
- "Renamed" file *.patch -> *.diff

-------------------------------------------------------------------
Mon May  3 21:20:54 UTC 2010 - saigkill@opensuse.org

- fixed rpmlint Errors (Manpage bz2 Errors)
- disabled automatic information service 

-------------------------------------------------------------------
Sun May  2 04:44:35 UTC 2010 - saigkill@opensuse.org

- Updated to Version 0.6.51
- fixed broken build of openSUSE 11.1 

-------------------------------------------------------------------
Wed Apr 28 12:29:52 UTC 2010 - toms@suse.de

- Dealing with locale problems:
  . Fixed locale files: Use /usr/share/locale/LANG/LC_MESSAGE
    instead of /usr/share/calibre/...
  . Renamed locale messages.mo -> calibre.mo
  . Removed qt.qm. Depends on
    /usr/share/qt4/translations/qt_LANG.qm now

TODO: Fix manpage warnings

-------------------------------------------------------------------
Tue Apr 27 11:14:00 UTC 2010 - saigkill@opensuse.org

- updated to version 0.6.49
- changed tar.gz -> tar.bz2 

-------------------------------------------------------------------
Tue Apr 20 06:30:30 UTC 2010 - toms@suse.de

- tar.gz -> .tar.bz2

-------------------------------------------------------------------
Mon Apr 19 15:57:35 UTC 2010 - saigkill@opensuse.org

- Updated to Version 0.6.48
- Added lang Package
- fixed some rpmlint Issues 

-------------------------------------------------------------------
Sat Mar 13 21:32:13 UTC 2010 - toms@suse.de

- Update 0.6.45 (11 Mar, 2010)
  New Features
    * Option for more aggressive duplicates detection when adding
      books
       Closes tickets: 5016
      "There is now an option in Preferences->Add/Save that will
       cause calibre to try to detect duplicates based on title
       and author similarity. If a duplicate is found, calibre
       will automatically merge files intot he existing entry,
       instead of creating a new one."
    * Support for setting metadata in Topaz files and getting pdf
      anntations from a Kindle
    * ODT Input: Fix handling of mixed ordered and un-ordered
      lists
    * Support for the Samsung Moment
      Closes tickets: 5077

  Bug Fixes
    * Fix generated list of formats when generating catalog in CSV
      format
      Closes tickets: 5092
    * CHM metadata: Fix unicode handling
      Closes tickets: 5080
    * Iriver story driver: Put uploads into the Books directory
    * Improved iRex DR800 support
      Closes tickets: 5082
    * When creating ZIP/EPUB files encode all file names in UTF-8
      and set the UTF-8 bit marker. When extracting from a
      ZIP/EPUB file, if the UTF-8 bit marker is not set, still
      assume that the file name is encoded in UTF-8. If UTF-8
      decoding fails try to detect character encoding using
      chardet. This is because  most ZIP/EPUB files calibre comes
      across seem to be utf-8  encoded.

  New news sources
    * TAZ DigiABO by Lars Jacob
    * Elsevier.nl by Darko Miletic
    * News Observer by Krittika Goyal
    * Comics.com by Starson17


-------------------------------------------------------------------
Thu Feb  4 20:53:58 UTC 2010 - toms@suse.de

- Update 0.6.37 (01 Feb, 2010)
  New Features
   * E-book viewer: Add support for viewing SVG images
   * Add category of Recently added books when generating catalog
     in e-book format
   * OS X: Allow adding of books to calibre via drag and drop on
     the calibre dock icon
   * Add support for masthead images when downloading news for
     the Kindle
   * MOBI metadata: Allow setting of metadata in old PRC files
     without EXTH headers as well
 
     Bug Fixes
   * Changing the date in Dutch
         Closes tickets: 4732
   * Fix regression that broke sending files to unupdated PRS
     500s
   * MOBI Input: Ignore width and height percentage measures for
     <img> tags.
     Closes tickets: 4726
   * EPUB Output: Remove <img> tags that point to the internet
     for their images as this causes the ever delicate ADE to
     crash.
     Closes tickets: 4692
    * Comic Input: Handle UTF-8 BOM file names
      Closes tickets: 4721
    * Fix bug preventing the the use of indices when setting save
      tn title as text optional
    * Fix error while sending book with non-ascii character in
      title/author to device on linux
      Closes tickets: 4690
    * Fix reset cover in edit meta information dialog does not
      actually remove cover
      Closes tickets: 4731

  New news sources
    * Kamera Bild by Darko Miletic
    * The Online Photographer by Darko Miletic
    * The Luminous Landscape by Darko Miletic
    * Slovo by Abelturd
    * Various Danish newspapers by Darko Miletic
    * Heraldo de Aragon by Lorenzo Vigentini
    * Orange County Register by Lorenzi Vigentini
    * Open Left by Xanthan Gum
    * Michelle Malkin by Walt Anthony
    * The Metro Montreal by Jerry Clapperton
    * The Gazette by Jerry Clapperton
    * Macleans Magazine by Nick Redding
    * NY Time Sunday Book Review by Krittika Goyal
    * Various Italian newspapers by Lorenzo Vigentini

  Improved news sources
    * The Irish Times
    * Washington Post
    * NIN
    * The Discover Magazine
    * Pagina 12


-------------------------------------------------------------------
Mon Nov 16 21:42:54 UTC 2009 - toms@suse.de

- Update 0.6.24 (16 Nov, 2009)
  * Device drivers: Ignore files on the device when there is a file
    system/file name encoding error
  * Add option to download only social metadata. Fixes #4015
    (Option to Update Only Parts of Metadata)
  * New recipe for The Havard Business Review
  * Conversion pipeline: Respect UTF-8/32 BOM mark when decoding
    files in addition to UTF-16 BOM. Fixes #4025 (ebook convert
    chokes on a complex CSS file)
  * Fix #4028 (Social Metadata Bulk Bug)
  * Fix #4022 (Incorrect Rating in Bulk)
  * calibredb list: Do not URL encode the href fields for the
    stanza output format 
  * Update bundled odfpy library for conversion of ODT files to
    version 0.9.2 
  * Fix #3944 (More than 2 rating stars not fit in the rating
    column after resize) 
  * Fix pml parsing changes as they break PDB eReader input
    badly.
  * New recipe for Fokke en Sukke cartoon by kwetal
  * Output resolved conversion options in conversion log
  * Implement #3885 (Allow bulk swap Author and Title tags)
  * Restore all sections to the Guardian newspaper download
  * Bulk conversion: Add option to disable using per-book settings
    from a previous conversion
  * Improved recipe for The Philadelphia Inquirer
  * Social metadata download: If the user specifies that they
    don't want social metadata, don't get tags from the basic
    metadata sources either


-------------------------------------------------------------------
Mon Nov 16 20:54:48 UTC 2009 - toms@suse.de

- Corrected Spec file and removed rpmlint warnings
  TODO: deal with language *.mo files

-------------------------------------------------------------------
Thu Nov 12 08:37:03 UTC 2009 - toms@suse.de

- Updating to 0.6.21. RPM is not ready yet, just testing...

-------------------------------------------------------------------
Fri Aug  7 17:37:27 CEST 2009 - toms@suse.de

- Update 0.6.5 (03 Aug, 2009):
  * PML Input: Various fixes
  * Fix #3057 (Viewer Cuts Off MOBI File)
  * EPUB Output: Pass through font-face rules. Fixes #3042 
    (Calibre ignores extra_css in recipe)
  * Fix downloading of news that has non-English characters in its
    title on windows. Fixes #3005 (RSS Fetching from zaobao.com
    still fail) 
  * Fix #3061 (TOC not created converting from FB2)
  * Fix #3059 (Blows up real good parsing a Mobipocket file)
  * Fix #3028 (Field "Published" below 1900 make catalog empty on
    iPhone) 
  * Fix #3047 (Metadata on device, fall back to file name)
  * Fix detection of Be Book on windows when no storage card is
    present.
    Fixes #2974 (Be Book not reconized)
  * Stanza feed: Show newly added books first
  * Fix #3050 (FB2 Output error)
  * Switch to using poppler to read PDF metadata. Hopefully is
    faster/more stable. Fixes #3041 (version 0.6.3 doesnt delete
    temp files)

-------------------------------------------------------------------
Sun Aug  2 16:45:46 CEST 2009 - toms@suse.de

Update to version 0.6.4 (31 Jul, 2009): 
* Initial implementation of aq driver for the Irex Illiad
* Add OS X support to the Illiad DR1000 driver
* Fix #3019 (Problem converting prc to epub)
* EPUB Output: Remove hyperlinks with no content as they cause
  rendering artifacts in browser based renderers
* Fix #3010 (Special characters in tags are not escaped)
* Handle author names that end with a period correctly when saving
  a single format to disk
* Fix #2997 (Be Book)
* Fix #3016 (lxml.etree._Element' object has no attribute 'href)
* Fix #3022 (Receiving error during convert from pdf to any file)
* Various fixes form conversion from PML and PDF
* Improved Newsweek recipe (thanks to GRiker)
* RTF Input: Support extraction of images (JPEG/PNG only)
* Fix #3009 (PRS500 won't connect)
* Refactor the device driver system to support devices from
  manufacturers that don't bother to assign unique ids to their
  devices. Preliminary drivers for CyBook? Opus (windows/os x) and
  Cool-er (windows only)
* Implement searching the calibre catalog in the Stanza.
  Fixes #3014 (Support searching from stanza) 


-------------------------------------------------------------------
Tue Jul 28 09:32:05 CEST 2009 - toms@suse.de

Update to version 0.6.2 (27 Jul, 2009);
* EPUB Output: Fix default cover page to display correctly in
  Adobe Digital Editions 
* Make reading of metadata from files on the device configurable
  (via Preferences->Plugins->Device Interface plugins). If turned
  off, it will make loading the list of books on the device much
  faster. Also make storing of e-books into sub folders on the
  device configurable. 
* Add an output profile for the 5-inch Jet Book?. Fix #2950
  (ebook-meta.exe 0.6.0 doesn't work at all) 
* Fix #2920 (Ebook viewer not working) 
* Fix #2807 ("Reset Quick Search" button does not reset the status
  of the tag toggle switches) 
* Fix #2904 (created epub from odt file, tested in epubcheck,
  errors on images) 
* Fix #2954 (No header, extra line at bottom.) 
* Fix one final case that could cause 'Unknown' to show up in the
  authors list even when authors are specified 
* Fix #2953 (missing &#236;) 
* Make handling of malformed/fragmentary HTML more robust 
* EPUB Output: Fix generated OPF to be compatible with the asinine
  epubchecker. Also fix bug that was causing the default cover to
  use the date even when authors are present.

SPEC file changes:
* Requires now podofo and libpodofo0_6_99-devel
* Requires python-qt4-devel >= 4.5.0
* Added patch for src/calibre/utils/fonts/fontconfig.c


-------------------------------------------------------------------
Sun May 31 10:38:00 CET 2009 - toms@suse.de

Update to version 0.5.14 (29 May, 2009)
* New recipe for Electrolese by Oliver Niesner. Also updated
  recipes for Heise, Sueddeutsche and ZDnet
* Fix #2515 (eBook Viewer cannot open TAZ epub file)
* New recipe for PHD Cmics by Rafardeon
* New recipe for Carta by Oliver Niesner
* Updated recipe for The New Yorker
* Fix #2497 (Scientific American recipe not working)
* Fix #2489 (handle softbreaks in RTF files)
* Implement #2478 (Updated recipe Vreme)
* Fix title of Sueddeutsche recipe and fix generation of MAN pages
  in unicode environments


-------------------------------------------------------------------
Wed May 27 08:50:00 CET 2009 - toms@suse.de

Update to version 0.5.13 (21 May, 2009)
* Updated recipe ro the Times Online
* Add genshi license
* Fix Newsweek recipe for redesigned site
* Fix #2449 (Crashing on mac os X 10.5.7 when cancel metadata search)
* Fix #2450 (Crash on send to PRS-700)
* New recipe for slashdot
* Fix #2475 (Calibre 0.5.12 Conversion Error)
* Fix #2465 (Calibre fails after running Globe Trotter? Connect on
  OS X 10.5)
* Various Hungarian news recipes by Ezmegaz

(Skipped versions 0.5.8 to 0.5.12)


-------------------------------------------------------------------
Fri Apr 17 23:06:00 CET 2009 - toms@suse.de

Update to version 0.5.7 (15 Apr, 2009)
* Handle periods better when reading metadata from filenames
* New recipe for Moneynews by Darko Miletic
* Updated recipes for Linux devices and Toms Hardware (German)
* Implement #2096 (Move deleted books in the trash folder)
* Allow single click fetching of covers in the Edit metadata
  dialog. Now calibre will automatically try to get the ISBN
  needed to fetch the cover based on title and author of the
  book.
* Fix #2257 (Updated recipes with fixes for epub image problem)
* Support for writing metadata to PDF files (thanks to John
  Schember)
* New recipe for Der Standard by Gerhard Aigner
* Fix #2258 (cancel button not wide enough)
* Device drivers: Do not check for ebooks in subdirectories on
  devices that do not support subdirectories
* Fix #2255 (calibre does not handle images with comma in their
  name)
* New recipe for Hessisch Niederschsische Allgemeine by Oliver
  Neissner
* Speed up reading of metadata from MOBI files (thanks to John
  Schember)
* Fix #2261 (Conversion metadata problem)
* Implement #2277 (Remove empty feeds when fetching news with
  recipes)
* New recipe for Die Presse by Gerhard Aigner
* Fix #2252 (--profile should resize pictures too)
* Fix #2273 (Little bug in Calibra Server)
* Fix #2283 (Updated recipe Vreme)
* Implement a --add-simple-plugin option for calibre-debug that
  makes it easy to add calibre plugins distributed as .py files
* MOBI Output: Fix regression that was preventing the creation of
  pagebreaks between the contents of different HTML files in the
  input.
* Fix #2256 (Interresting bug with epub format)
* New recipe for NZZ Online by Darko Miletic

-------------------------------------------------------------------
Thu Apr 09 16:01:00 CET 2009 - toms@suse.de

Update to version 0.5.6 (08 Apr, 2009)
* Preliminary support for the Netronix EB600
* MOBI Input: Strip null characters. Fixes #2242 (Calibre only
  converts first chapter of document)
* Fix #2061 (Proper locale support)
* Fix #2202 (Can't Manually Set Series to Book 0)
* Speed up adding books to an already large collection
* Fix #2240 (New Yorker download has issues)
* Fix #2205 (Ebook viewer doesn't start if no book selected)
* New recipe for the Arizona Star by Darko Miletic
* New recipe for MSDN Magazine by Darko Miletic
* Fix #2217 (New recipe: Corriere della Sera (Italian and English))
* Remove recipe for The International Herald Tribune, since the
  paper no longer exists
* Fix #2236 (Updated Tom's Hardware recipe)
* Fix #2204 ("Delete news when sent" does not work)


-------------------------------------------------------------------
Tue Apr 07 12:51:00 CET 2009 - toms@suse.de

Update to version 0.5.5 (02 Apr, 2009):
* Fix stream descrambling in lrf2lrs
* Fix bug causing dates for downloaded news to be in Spanish. Fixes
  #2198 (Bug fix of recipe La Prensa - Nicaragua)
* Fix regression in windows that was causing downloaded news to
  not have a cover
* Fix #2200 (Recipe update: Exiled online)
* Fix #2193 (PRS-700 epub flow_size crash)


-------------------------------------------------------------------
Wed Apr 01 08:44:00 CET 2009 - toms@suse.de

Update to version 0.5.4 (01 April 2009):
* Fix #2177 (Google ePub TOC)
* Implement #2173 (New recipes)
* Fix #2175 (Error when trying to open ebook viewer)
* New recipe for La Prensa Nicaragua by Darko Miletic
* Add a button to test email settings in the Preferences dialog,
  should help with debugging email problems.
* Fix #2144 (Calibre not searching by title/author when using
  Google Books API)
* Fix bug in ebook viewer that could cause it to hang wen finding
  a bookmark
* Fix #2182 (I would like larger margins)
* Fix nasty bug that was preventing the use of a mail server to
  send email
* Fix #2168 (Recipe update - B92)
* Fix #2186 (Remove eMail button does not work)
* Fix #2174 (Error with epub viewer)
* EPUB Output: Have the GUI use a UUID for package identifier when
  creating EPUBs


-------------------------------------------------------------------
Tue Mar 31 09:44:00 CET 2009 - toms@suse.de

Update to version 0.5.3 (25 Mar, 2009):
* Fix #2115 (Some Kindle Metadata Still Wrong)
* Disable on-device editing of metadata in the GUI for devices
  that don't support it (all the non SONY devices)
* MOBI Output: Fix Time recipe --> MOBI
* Fix #2128 (Google Books Fetch Metadata Fails With Apostrophe In
  Title)
* Calibre now depends on dnspython for email delivery. Also remove
  python 2.5 builds as it is no longer officially supported,
  though calibre will probably continue to run on it for a little
  while longer.
* Fix #2152 (Typo in GUI)
* Fix EPUB output of Spiegel Online
* Fix error message in OSX when dragging and dropping a cover onto
  the edit metadata dialog
* Fix #2137 (New recipes for Bosnian newspapers)
* Fix #2121 (Remove before Add when editing tags in bulk)
* Updated FAZ.NET recipe to produce EPUB that does not crash the
  SONY readers.
* PDF Input: Replace non-breaking spaces with normal spaces. Fixes
  #2104 (epub justification problems with converted pdf)
* Support for email ebooks from calibre to your device. To use
  setup Email delivery in the preferences and then click the arrow
  next to the Send to Device button. Still experimental, so report
  bugs.
* Implement #2151 (New recipe for new portal "24 sata")
* Fix #2130 (Calibre Stops Reading MOBI Files)
* Improved user feedback when downloading covers
* Fix #2129 (.prc to MOBI causes TOC links to break)


-------------------------------------------------------------------
Wed Mar 25 08:37:00 CET 2009 - toms@suse.de

Update to version 0.5.2 (19 Mar, 2009):
* Fix #2100 (Zipped HTML to Epub conversion error)
* New recipe for Adventure Gamers? by Darko Miletic
* Disable the no subscription version of the NYTimes, since it no
  longer works
* Don't add empty Table of Contents to MOBI files
* New recipe for politico.com by Darko Miletic
* Updated recipe for Sueddeutsche
* Implement support for reading metadata from Amazon Topaz books
* Fix #2066 (Attribute Error?: 'Book Header?' object has no
  attribute 'first_image_index')
* Advertise the calibre Stanza server on Bonjour. Now accessing
  your calibre EPUB collection in Stanza should be automatic on
  your home network.
* Fix #2058 (Calibre reads Kindle metadata wrong)
* Re-arrange buttons to put the most frequently used ones first
* Fix #2084 (Updated New Scientist recipe)
* Fix #2076 (Error during Recursive Search)
* Calibre now searches the Google Books database ina ddition to
  isbndb.com for book metadata
* Fix #2098 (PRS-505 stating "Page Error!" when trying to open an
  ePub file)
* New recipe for Instapaper by Darko Miletic
* Fix #2074 (Clicking "table of contents" on a "lit")
* Add vim like shortcuts to ebook-viewer for scrolling. Fixes
  #2083 (Add Keyboard shorcuts to Viewer)
* Fix #2101 (Croatian News recipe pack)
* New recipe for Monde Durable by Darko Miletic
* EPUB Output: Replace <center> tags with <div> tags since
  <center> is not valid XHTML
* MOBI Output: Fix FAZ.NET feed conversion to MOBI


-------------------------------------------------------------------
Sun Mar 15 21:37:00 CET 2009 - toms@suse.de

Update to version 0.5.1 (13 Mar, 2009):
* Fix #2031 (Ebook viewer)
* Advertise the calibre content server for Stanza via Bon Jour?,
  needs testing
* New recipe for The Daily Mail UK by RufusA. Fix #998 (HTML2LRF
  and empty headings)
* Fix regression with loading custom recipes that use future imports
* Fix #2025 (Many LIT file covers detected sideways)
* Add a no subscription needed version of the recipe for The Hew
  York Review of Books
* Fix #2041 (Error fetching news la repubblica on MacOSX)
* Fix #2038 (calibre built for Foresight Linux)
* Fix #2034 (LRFMetaFile conflict on "objects")
* Create RSS feed for calibre release. Also new recipe for The
  Register by vgrama
* MOBI Input: Strip <street> and <address> tags as ADE refuses to
  hadle them gracefully when converted to EPUB
* EPUB Output: Strip <form> tags since ADE runs screaming when it
  sees one.
* Fixes #2029 (IHT resetting P505)
* Implement #2036 (Add PDB support to the Stanza content server)
* Fix #2051 (Can't input date before 14 September 1752)


-------------------------------------------------------------------
Sat Mar 07 15:32:00 CET 2009 - toms@suse.de

Update to version 0.4.143 (06 Mar, 2009):
* Fix #1998 ([ERROR] CSSStyleRule: No start { of style declaration
  found:)
* MOBI Input:Fix extraction of Table of Contents for MOBI files
  that have their TOC at the start of the book instead of the end
* RTF Input:Fix conversion of Euro symbol in CP-1252 encoded RTF
  files
* Implement sub-sorting. So if you want to sort by author and then
  sub sort by series, you can now click first on series and then
  on author to acheive this. Implement #1810 (Advanced Sorting?) 
* Fix calibre.app to work correctly even when it is moved into a
  path that has spaces in it
* Fix #1977 (Error on converting zip with html to ePUB u'invalid
  literal for float(): +2)
* New recipe for El Universal by Darko Miletic
* MOBI Input: Handle poor quality PRC files from Baen
  better. Images are now correctly extracted despite the missing
  image_offset and metadata embedded in the content is used when
  converting (though not when simply reading metadata as this
  would be too slow) 
* Fix #1981 (Problems whit unicone titles)
* Fix #1983 (Schedule news download - user and password fields)
* Fix #1995 (Type Error?: Argument must be string or unicode.)


-------------------------------------------------------------------
Wed Mar 04 19:35:00 CET 2009 - toms@suse.de

Updated to version 0.4.142 (03 Mar, 2009):
* Linux install:calibre_postinstall now installs desktop
  integration even for non-root user
* Fix #1949 (Calibre hangs with 'Type Error?')
* Fix #1938 (Error in lrs2lrf)
* Fix #1933 (Text is not centered when converting from MOBI to
  LIT)
* New recipe for Newstimes by Darko Miletic
* MOBI Input:Improve detection of Table of Contents. Fixes #1936
  (Since Calibre 0.4.134 medatada in reader doesn't works)
* Fix calibre holding file handles on the Cybook, preventing
  it from being ejected
* New recipe for Soldiers by Darko Miletic
* New recipe for The Onion, by Darko Miletic
* MOBI Input:Fix #1921 (Mobi to Epub conversion)
* Fix regression in config dialog when setting the save single
  format option
* Fix #1960 (html2epub limits in number of files allowed)
* Fix #1962 (calibre set_metadata not writing book field into
  database)
* Implement support for LIT atoms
* Fix #1940 (Setting cover image for mobi file via GUI broken)


-------------------------------------------------------------------
Wed Feb 26 14:45:00 CET 2009 - toms@suse.de

- SPEC: Changed RPM group to Productivity/Other to match with
- FBReader
- Updated to 0.4.141:
  * Refuse to set metadata in DRMed MOBI files as this can lead to
    files that dont work on the device
  * Implement #1929 (OSX: Meta Information? shall be accesible by
    hitting Command(Apple)+I)
  * Fix #1934 (Would like to assign a year (not a full date) to
    a title)
  * Fix #1886 (Value Error?: invalid literal for float(): size)
    and #1887
  * New recipe for La Mujer De mi Vida by Darko Miletic
  * Move MOBI output out of beta status, since it's pretty stable
  * Make PDF conversion on OSX more robust. Fixes #1927
    (PDF->MOBI traceback)
  * Fix #1926 (Author column sorts by original name instead of
    latest database entry)
  * Initial support for the Kindle 2
  * New recipe for Courrier International and updated Le Monde
    by Mathieu Godlewski

- Changes from Version 0.4.140 (23 Feb, 2009):
  * Updated recipe for New York Review of Books to use
    subscription based content
  * New recipes for E-Novine and Al Jazeera by Darko Miletic
  * Cybook Gen3:Fix thumbnail generation.
  * New recipe for Borba by Darko Miletic
  * Fix #1804 (calibredb list - with umlauts in title) and
    return valid metadata for PRC files that have no EXTH record
  * New recipe for Windows Super Site? by Hypernova
  * Fix handling of commas in author name when sending books
    to device. Fixes #1914 (author name scrambled?)
  * Fix bug causing add books to report spurious duplicates on
    OS X
  * Add support for sending Topaz books to the Kindle

-------------------------------------------------------------------
Tue Feb 24 19:33:00 CET 2009 - toms@suse.de

- Added python-setuptools into the list of required packages.
  Many thanks to Mike Fabian!


-------------------------------------------------------------------
Sun Feb 22 19:33:00 CET 2009 - toms@suse.de

- Added .desktop file with PNG graphics
- Fixed SPEC file, corrected indendation
- Fixed description


-------------------------------------------------------------------
Sat Feb 21 21:06:00 CET 2009 - toms@suse.de

- Updated to version 0.4.139 (20 Feb, 2009)
- Corrected SPEC and patch file


-------------------------------------------------------------------
Sat Feb  7 16:43:00 CET 2009 - toms@suse.de

- Initial package 0.4.134 (07 Feb, 2009)
