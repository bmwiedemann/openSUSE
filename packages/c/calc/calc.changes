-------------------------------------------------------------------
Wed Oct 13 10:32:02 UTC 2021 - Adam Majer <adam.majer@suse.de>

- Drop explicit -march definition (bsc#1191604, bsc#1100677)

-------------------------------------------------------------------
Wed Oct 13 08:26:35 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.14.0.3:
  * Added builtin functions to convert between degrees and
    degrees, minutes and seconds under the config("mod")
    See help/d2dms and help/d2dm.
  * Added builtin functions to convert between gradians and
    gradians, minutes and seconds under the config("mod")
    See help/g2gms and help/g2gm.
  * Added builtin functions to convert between hours and
    hours, minutes and seconds under the config("mod")
    See help/h2hms and help/h2hm.
  * Renumbered regression tests 3408 thru 3437, to 9102 thru 9131.
  * Updated Added hms.cal resource file to use h2hms() builtin.
  * Updated Added dms.cal resource file to use d2dms() builtin.
  * Fix minor typo in help/mod SYNOPSIS.
  * Fix minor typo in help/quo SYNOPSIS.
  * Added a few more examples to help/strcmp.
  * Added builtin functions to convert between degrees, minutes and
    seconds and degrees under the config("mod")
    See help/dms2d and help/dm2d.
  * Added builtin functions to convert between gradians, minutes and
    seconds and gradians under the config("mod")
    See help/g2gms and help/g2gm.
  * Added builtin functions to convert between hours, minutes and
    seconds and hours under the config("mod"):
    See help/hms2h and help/hm2h.

-------------------------------------------------------------------
Thu Sep  9 07:06:50 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.14.0.2:
  * The clean and clobber makefile rules no longer list custom/Makefile
    as a dependency.
  * Unfortunately due to the complex dependency issues between
    Makefile, Makefile.ship and custom/Makefile, parallel GNU make
    is NOT recommended.
  * Fixed a few typos in CHANGES.
  * As a side note: We stayed v2.13.x was kept for only a short time.
    The move to 2.14.x was motivated by non-compatible changes due to
    the default order of CALCRC, plus some new builtin functions.
  * More changes are likely, so we might see another v2.14.0.x release
    before things are declared "recommended stable".
  * Not that we wan to discourage people from trying v2.14.0, you should
    try it.  We just want things to become stable and well field tested
    before we reach the "recommended stable" release state.

-------------------------------------------------------------------
Tue Sep  7 10:11:36 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.14.0.0:
  * The :-separated default CALCRC value has been reversed.
    The default CALCRC was:
    ${CALC_SHAREDIR}/startup:~/.calcrc:./.calcinit
    The default CALCRC is now:
    ./.calcinit:~/.calcrc:${CALC_SHAREDIR}/startup
    See "help environment" for details.
  * Added engineering mode as per a GitHub pull request:
    ; config("mode","eng"),
    ; 10^41
    	100e39
    or for example:
    ; base(1000),
    ; 2^23209-1
  	~402.87411577898877818187e6984
    For more information see: help base
  * Added regression test code for engineering mode.  Improved and
    expanded regression test code related to the base() and base2()
    builtin functions.
  * Fixed a critical bug in the above mentioned pull request where
    a call to base2(1000) would make calc unstable and likely to
    dump core.

-------------------------------------------------------------------
Fri May 14 08:52:48 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.13.0.1:
  * Replaced /usr/local with the use of ${PREFIX} in calc Makefiles.
    The ${PREFIX} is not the same as ${T}.  The ${T} specifies
    a top level directory under which calc installs things.
    While usually ${T} is empty, it can be specific path
    as if calc where "chrooted" during an install.
    The ${PREFIX} value, during install, is a path between
    the top level ${T} install directory and the object
    such as an include file.

  * Corrected a few more typos in Makefile comments.
    - Added Makefile.local, a file with a single comment.  The main
     Makefile includes Makefile.local just before the first all rule.
     One may override any Makefile setting by modifying Makefile.local.
     For example, Makefile.local could force BLD_TYPE:
     HAVE_STRING_H:= YES
     HAVE_TIMES_H:= YES
     SED:= /usr/local/bin/nsed
    - Added ${LOC_MKF} to specify the make of the file that is
      included just before the all file.  So one could place
      the above override lines into a different file and call
      make changing the ${LOC_MKF} value.  For example:
    - make LOC_MKF=Makefile.private clobber all chk
    - Updated HOWTO.INSTALL to mention Makefile.local.

-------------------------------------------------------------------
Wed Apr  7 07:41:36 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.13.0.0:
  * Fixed typo (missing quotes) in the env rule.
  * Fixed intendation problem in CHANGES.
  * Combined 2.12.9.1 changes into the 2.12.8.2 to 2.12.9.0
    range, and thus renamed the range to 2.12.8.2 to 2.12.9.1.
  * Fixed issues related to building Makefile.simple.
  * Fixed how the Makefile variable MANPATH is set for macOS.
  * Added a bunch of information to the near bottom of HOWTO.INSTALL
    on calc Makefiles.  This information discusses the various
    Makefiles found in the calc source.
  * Added comments in various calc Makefiles about their origin.
    In particular, for Makefiles that are constructed such as
    Makefile.simple, custom/Makefile and custom/Makefile.simple
    there are comments about how they were made.
  * For all calc Makefiles, including those in sub-directories,
    near the top there is now a line of the form:
    # SRC: ... some message about the origin ...
  * Fixed how the calc(1) man page is installed under macOS.
  * Fixed how calc man page in ${CATDIR} is formed.
  * Fixed how Makefile.simple is formed.
  * Fixed the #! calc script argument processing.  The initial #!
    line must end in a -f.  For example, if calc is in /usr/local/bin/calc,
    then the following would be the first line of a calc script:
  * It is common that -q be usde with a calc script, so assuming the
    same /usr/local/bin/calc path
  * Use of -s in the #! first line of a calc script is not needed
    since -f implies -f.
  * The argv() will now return values more typical of C's main().
    Before it returned one less than the number of arguments.  Now,
    for example, when calc is given 2 args, argv() will return 3.
  * The value of argv(0) will be the path to calc, or in the
    case of a #! calc cscript, it will return the name of the script.
  * Updated the calc man page and help/argv to reflect the
    above changes.
  * Improved the formatting of the calc man page.
  * Fixed the formation of the win32 sub-directory via the win32_hsrc
    Makefile rule.
  * Due to incompatible changes to the argv() function, and #! calc
    scripts, we are setting the version to the next minor number:
- Remove checksum.sha-256

-------------------------------------------------------------------
Fri Mar 12 08:54:39 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.12.19.0:
  * Added notes to help/unexpected about:
    display() will limit the number of digits printed after decimal point
    %d will format after the decimal point for non-integer numeric values
    %x will format as fractions for non-integer numeric values
    fprintf(fd, "%d\n", huge_value) may need fflush(fd) to finish
  * Fixed Makefile dependencies for the args.h rule.
  * Fixed Makefile cases where echo with -n is used.  On some systems,
    /bin/sh does not use -n, so we must call /bin/echo -n instead
    via the ${ECHON} Makefile variable.
  * Add missing standard tools to sub-Makefiles to make them
    easier to invoke directly.
  * Sort lists of standard tool Makefile variables and remove duplicates.
  * Declare the SHELL at the top of Makefiles.
  * Fixed the depend rule in the custom Makefile.
  * Improved the messages produced by the depend in the Makefiles.
  * Changed the UNUSED define in have_unused.h to be a macro with
    a parameter.  Changed all use of UNUSED in *.c to be UNUSED(x).
  * Removed need for HAVE_UNUSED in building the have_unused.h file.
  * CCBAN is given to ${CC} in order to control if banned.h is in effect.
  * The banned.h attempts to ban the use of certain dangerous functions
    that, if improperly used, could compromise the computational integrity
    if calculations.
  * In the case of calc, we are motivated in part by the desire for calc
    to correctly calculate: even during extremely long calculations.
  * If UNBAN is NOT defined, then calling certain functions
    will result in a call to a non-existent function (link error).

-------------------------------------------------------------------
Mon Feb 22 10:57:23 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.12.8.2:
  * Calc can now correctly compile without CUSTOM being defined

-------------------------------------------------------------------
Tue Feb 16 11:21:53 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.12.8.1:
  * Fixed how the *.tar.bz2 are formed.  The calc-2.12.8.0.tar.bz2 file
    that was formed for calc version 2.12.8.0 was missing most files.
  * Expanded 'make chk' to also verify that 'make distchk' and 'make
    distlist' execute successfully.  This will help check a regression
    of the bug that produced the bogus calc-2.12.8.0.tar.bz2 file.
  * Added additional regression tests related 0^(zero_expression)==1.

-------------------------------------------------------------------
Tue Feb 16 11:20:00 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.12.8.0:
  * Fixed a mistake in "help intro" where some inserted text changed
    the value of "." and thus made the next result incorrect.
  * Clarified in "help factor" that 1 is returned if no
    factor below the limit was found.
  * Removed Makefile variable ${MAKEFILE_REV}.
  * The missing cscript/square.calc file has been restored.
  * Fixed compiler errors and warnings related to GCC.  In particular,
    gcc/9.3.1 and gcc/10.2.1 now compile calc without any compiler
    errors or warnings, even with -Werror -Wextra -pedantic.
  * To print out information about the calc compilation
    environment, we added the following make rule:
  * make calcinfo
  * Improved how 'make debug' operates.
  * Created a new calc bug report Email address.  Created a new
    calc question Email address.  Created a new calc contribution
    Email address.  See the BUGS file for details.
  * Added "help questions" to print the QUESTIONS help file.
  * If the environment variable $CALCHELP is defined and is non-empty,
    then calc help files will be in the directory by the $CALCHISTFILE
    environment variable.
  * If the environment variable $CALCCUSTOMHELP is defined and is
    non-empty, then custom calc help files will be in the directory
    by the $CALCCUSTOMHELP environment variable.
  * Fixed a number of typos in text and in source code comments.

-------------------------------------------------------------------
Sun Feb 14 19:08:34 UTC 2021 - Bernhard Wiedemann <bwiedemann@suse.com>

- Build with march=corei7 instead of native 
  to avoid compile-time CPU-detection (boo#1100677)

-------------------------------------------------------------------
Thu Feb  4 08:22:25 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.12.7.6:
  * The missing cscript/square.calc file has been restored.

-------------------------------------------------------------------
Thu Feb  4 08:20:34 UTC 2021 - Michael Vetter <mvetter@suse.com>

- Update to 2.12.7.5:
  * Requiring calc shell scripts to use -s -f at the end of the
    initial #! line.
  * Fixed /tmp/mersenne example in calc(1) man page.
  * Added make variable ${ARCH_CFLAGS}.  The ${ARCH_CFLAGS} is
    added after ${CCMISC} and before ${EXTRA_CFLAGS} when building
    the ${CFLAGS} for compiling C code.  are ${CC} when compiling
    C files.  The default value is:
  * By default, the calc history file is located in ~/.calc_history.
    Now, if the environment variable $CALCHISTFILE is defined
    and is non-empty, then calc history file will be defined
    by the $CALCHISTFILE environment variable.
  * Calc as defined 0^0 as 1.  However in the past, 0 raised to
    an expression that evaluated to zero returned 1.  The result
    was that 0^0 was different than 0^(6-6) or even 0^(0).
    Now, calc will return 1 for 0^(0) and 0^zero when zero == 0.

-------------------------------------------------------------------
Thu Nov 29 11:53:30 UTC 2018 - mvetter@suse.com

- new stable release 2.12.7.2:
  + Fixed a segfault when getpwuid() returned NULL during initialization
  + Corrected Changes notes

-------------------------------------------------------------------
Mon Nov  5 08:11:58 UTC 2018 - dnh@opensuse.org

- new stable release 2.12.7.0
  + The qprintnum() function now takes outdigits as a [optional] 3rd
    argument.
  + enhanced printf
  + various documentation updates
  + various fixes of build

-------------------------------------------------------------------
Sat Oct 20 05:44:25 UTC 2018 - dnh@opensuse.org

- update to 2.12.6.10
   + minor improvements

-------------------------------------------------------------------
Tue Oct 16 16:07:46 UTC 2018 - dnh@opensuse.org

- update to 2.12.6.9
   + various fixes and improvements, e.g. a number of core dump bugs

-------------------------------------------------------------------
Tue Oct  2 06:53:27 UTC 2018 - dnh@opensuse.org

- update to 2.12.6.8
   + various fixes and improvements

-------------------------------------------------------------------
Thu Mar 29 13:34:22 UTC 2018 - dnh@opensuse.org

- update to 2.12.6.7
   + various fixes and improvements (e.g. inputbuffer length)

-------------------------------------------------------------------
Tue Jan 30 13:26:53 UTC 2018 - dnh@opensuse.org

- update to 2.12.6.5
- drop upstreamed calc-qmath-sequence-point.patch

-------------------------------------------------------------------
Thu Jan 18 13:19:26 UTC 2018 - dnh@opensuse.org

- update to 2.12.6.4
   + Fixed a man page warning about ./myfile
   + Improved gen_v1(h,n) in lucas.cal for cases where h is not a multiple of 3. 
   + Optimized the search for v(1) when h is a multiple of 3.

-------------------------------------------------------------------
Thu Sep  7 04:08:05 UTC 2017 - dnh@opensuse.org

- update to 2.12.6.3
   + Improved gen_v1(h,n) in lucas.cal to use an even faster search method
   + Improved checking in lucas.cal
   + Fixed an C code indenting issue in zfunc.c

-------------------------------------------------------------------
Tue Aug  1 16:13:44 UTC 2017 - Greg.Freemyer@gmail.com

- trivial doc fix

-------------------------------------------------------------------
Sun Jul 23 21:32:46 UTC 2017 - dnh@opensuse.org

- update to 2.12.6.1

-------------------------------------------------------------------
Tue Jun 6 12:00:05 UTC 2016 - dnh@opensuse.org

- update to 2.12.5.6

-------------------------------------------------------------------
Tue May 17 17:34:05 UTC 2016 - dnh@opensuse.org

- update to 2.12.5.4
  +    Recompile to match current RHEL7.2 libc and friends
  +    Upstream made this release in order to update binary files not used in openSUSE
  +    No actual code change, other than the version number was bumped

-------------------------------------------------------------------
Mon Feb 15 13:04:32 UTC 2016 - eshmarnev@suse.com

- add calc-rpmlintrc package to spec file

-------------------------------------------------------------------
Sat Feb 13 06:06:28 UTC 2016 - dnh@opensuse.org

- update to 2.12.5.3
- add calc-qmath-sequence-point.patch
- replace calc-2.12.3.3-no-rpath.patch by using LD_SHARE=""
- add test for checksum
- bit of reworking the spec/merging with my old one (which is based
  on the include upstream calc.spec.in)

-------------------------------------------------------------------
Sun Aug  2 15:56:19 UTC 2015 - mpluskal@suse.com

- Use url for source
- Cleanup spec file with spec-cleaner

-------------------------------------------------------------------
Thu Dec 25 14:34:02 UTC 2014 - p.drouand@gmail.com

- Update to version 2.12.5.0
  + See Changes file for full list of changes

-------------------------------------------------------------------
Tue Oct  1 16:29:42 UTC 2013 - Greg.Freemyer@gmail.com

- update to calc-2.12.4.13
  * major code cleanup and a few new functions
  * See Changes file for full list of changes
- added %doc section to %files
- added README.openSUSE
- changed the libname from libcalc2_12_4_3 to libcalc%soname
- changed -n libcalc-devel to devel 
- added Requires: %{libname} = %{version} to devel section

-------------------------------------------------------------------
Fri May 24 02:21:05 UTC 2013 - Greg.Freemyer@gmail.com

- update to calc-2.12.4.8
  * fixes a bug uncovered in calc which caused script failures when calc
    was called within a while loop in BASH if the while loop was fed from
    stdin, due to calc's redirection/inheritance of stdin and no option to
    change this behavior.

-------------------------------------------------------------------
Thu Dec 27 10:49:37 UTC 2012 - dvaleev@suse.com

- build with -DHAVE_NO_FPOS. Don't use fgetpos() and fsetpos() but 
  use fseek() and ftell() instead. The code that generates 
  fposval.h is completely broken. It tries to detect the size of 
  fpos_t but fails on ppc.

-------------------------------------------------------------------
Tue Sep  4 19:31:03 UTC 2012 - Greg.Freemyer@gmail.com

- ran thru spec-cleaner

-------------------------------------------------------------------
Wed Aug 29 22:13:24 UTC 2012 - Greg.Freemyer@gmail.com

- update to calc-2.12.4.3
  - minor bug fixes

-------------------------------------------------------------------
Tue Sep 30 14:46:54 CEST 2008 - mmarek@suse.cz

- kill rpath in installed binaries
- compile with $RPM_OPT_FLAGS
- hardlink duplicate files in /usr/share/calc/
- don't package /usr/include

-------------------------------------------------------------------
Tue Sep  2 11:51:55 CEST 2008 - mmarek@suse.cz

- added missing ldconfig calls

-------------------------------------------------------------------
Thu Aug 21 13:40:28 CEST 2008 - mmarek@suse.cz

- packaged  calc-2.12.3.3

