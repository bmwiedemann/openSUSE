Index: b/kernel.c
===================================================================
--- a/kernel.c
+++ b/kernel.c
@@ -1067,13 +1067,21 @@ verify_version(void)
 
 	if (!(sp = symbol_search("linux_banner")))
 		error(FATAL, "linux_banner symbol does not exist?\n");
-	else if ((sp->type == 'R') || (sp->type == 'r') ||
-		(THIS_KERNEL_VERSION >= LINUX(2,6,11) && (sp->type == 'D' || sp->type == 'd')) ||
-		 (machine_type("ARM") && sp->type == 'T') ||
-		 (machine_type("ARM64")))
-		linux_banner = symbol_value("linux_banner");
-	else
-		get_symbol_data("linux_banner", sizeof(ulong), &linux_banner);
+	else {
+		switch (get_symbol_type("linux_banner", NULL, NULL))
+		{
+		case TYPE_CODE_ARRAY:
+			linux_banner = sp->value;
+			break;
+		case TYPE_CODE_PTR:
+			get_symbol_data("linux_banner", sizeof(ulong), &linux_banner);
+			break;
+		default:
+			error(WARNING, "linux_banner is unknown type\n");
+			linux_banner = sp->value;
+			break;
+		}
+	}
 
 	if (!IS_KVADDR(linux_banner))
 		error(WARNING, "invalid linux_banner pointer: %lx\n", 
