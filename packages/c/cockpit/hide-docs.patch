From cf16dead8c862fdf0f61a1c7ac0e8804933c812a Mon Sep 17 00:00:00 2001
From: Jacek Tomasiak <jacek.tomasiak@gmail.com>
Date: Mon, 14 Mar 2022 12:02:17 +0100
Subject: [PATCH] Hide links pointing to RHEL docs (bsc#1197003)

---
 pkg/kdump/manifest.json          | 2 +-
 pkg/networkmanager/manifest.json | 2 +-
 pkg/packagekit/manifest.json     | 2 +-
 pkg/shell/indexes.js             | 2 +-
 pkg/storaged/manifest.json       | 2 +-
 pkg/systemd/manifest.json        | 6 +++---
 pkg/users/manifest.json          | 2 +-
 7 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/pkg/kdump/manifest.json b/pkg/kdump/manifest.json
index 01e5320e83f..116eb96dbdc 100644
--- a/pkg/kdump/manifest.json
+++ b/pkg/kdump/manifest.json
@@ -6,7 +6,7 @@
     "tools": {
         "index": {
             "label": "Kernel Dump",
-            "docs": [
+            "docs-rh": [
                 {
                     "label": "Configuring kdump",
                     "url": "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/configuring-kdump-in-the-web-console_system-management-using-the-rhel-8-web-console"
diff --git a/pkg/networkmanager/manifest.json b/pkg/networkmanager/manifest.json
index 3e295e9f186..8c7eef6e3b8 100644
--- a/pkg/networkmanager/manifest.json
+++ b/pkg/networkmanager/manifest.json
@@ -8,7 +8,7 @@
         "index": {
             "label": "Networking",
             "order": 40,
-            "docs": [
+            "docs-rh": [
                 {
                     "label": "Managing networking bonds",
                     "url": "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/configuring-network-bonds-using-the-web-console_system-management-using-the-rhel-8-web-console"
diff --git a/pkg/packagekit/manifest.json b/pkg/packagekit/manifest.json
index e538b4d7044..2204ae26198 100644
--- a/pkg/packagekit/manifest.json
+++ b/pkg/packagekit/manifest.json
@@ -8,7 +8,7 @@
     "tools": {
         "index": {
             "label": "Software Updates",
-            "docs": [
+            "docs-rh": [
                 {
                     "label": "Managing software updates",
                     "url": "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/managing-software-updates-in-the-web-console_system-management-using-the-rhel-8-web-console"
diff --git a/pkg/shell/indexes.js b/pkg/shell/indexes.js
index adc3c165533..19d912e9bd2 100644
--- a/pkg/shell/indexes.js
+++ b/pkg/shell/indexes.js
@@ -413,7 +413,7 @@ function MachinesIndex(index_options, machines, loader, mdialogs) {
         if (os_release.DOCUMENTATION_URL)
             create_item(cockpit.format(_("$0 documentation"), os_release.NAME), os_release.DOCUMENTATION_URL);
 
-        create_item(_("Web Console"), "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/index");
+        // create_item(_("Web Console"), "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/index");
 
         docs.forEach(e => create_item(_(e.label), e.url));
 
diff --git a/pkg/storaged/manifest.json b/pkg/storaged/manifest.json
index a554051798d..ef3c205222a 100644
--- a/pkg/storaged/manifest.json
+++ b/pkg/storaged/manifest.json
@@ -8,7 +8,7 @@
         "index": {
             "label": "Storage",
             "order": 30,
-            "docs": [
+            "docs-rh": [
                 {
                     "label": "Managing partitions",
                     "url": "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/managing-partitions-using-the-web-console_system-management-using-the-rhel-8-web-console"
diff --git a/pkg/systemd/manifest.json b/pkg/systemd/manifest.json
index 0c768360e79..a6e8a9cc17f 100644
--- a/pkg/systemd/manifest.json
+++ b/pkg/systemd/manifest.json
@@ -9,7 +9,7 @@
         "index": {
             "label": "Overview",
             "order": 10,
-            "docs": [
+            "docs-rh": [
                 {
                     "label": "Configuring system settings",
                     "url": "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/getting-started-with-the-rhel-8-web-console_system-management-using-the-rhel-8-web-console"
@@ -32,7 +32,7 @@
         "services": {
             "label": "Services",
             "order": 100,
-            "docs": [
+            "docs-rh": [
                 {
                     "label": "Managing services",
                     "url": "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/managing-services-in-the-web-console_system-management-using-the-rhel-8-web-console"
@@ -51,7 +51,7 @@
         "logs": {
             "label": "Logs",
             "order": 20,
-            "docs": [
+            "docs-rh": [
                 {
                     "label": "Reviewing logs",
                     "url": "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/reviewing-logs_system-management-using-the-rhel-8-web-console"
diff --git a/pkg/users/manifest.json b/pkg/users/manifest.json
index bfb5336770a..ccc408dec19 100644
--- a/pkg/users/manifest.json
+++ b/pkg/users/manifest.json
@@ -7,7 +7,7 @@
         "index": {
             "label": "Accounts",
             "order": 70,
-            "docs": [
+            "docs-rh": [
                 {
                     "label": "Managing user accounts",
                     "url": "https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel_8_web_console/managing-user-accounts-in-the-web-console_system-management-using-the-rhel-8-web-console"
