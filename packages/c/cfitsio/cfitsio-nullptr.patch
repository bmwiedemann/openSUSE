
github.com/HEASARC/cfitsio/commit/b4e8f7f


From b4e8f7ff49761b3c89782a4e7a722400e75bea85 Mon Sep 17 00:00:00 2001
From: Craig Gordon <craig.a.gordon@nasa.gov>
Date: Thu, 16 Jan 2025 16:28:11 -0500
Subject: [PATCH] Converted all variables named 'nullptr' to 'nullpointer'.

It was pointed out on Github that the upcoming gcc-15 now considers
'nullptr' to be a reserved keyword by default, as per the C23 standard.
---
 putcol.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/putcol.c b/putcol.c
index 098b7dc0..e218d2ed 100644
--- a/putcol.c
+++ b/putcol.c
@@ -1226,7 +1226,7 @@ int ffiter(int n_cols,
     long rept, rowrept, width, tnull, naxes[9] = {1,1,1,1,1,1,1,1,1}, groups;
     double zeros = 0.;
     char message[FLEN_ERRMSG], keyname[FLEN_KEYWORD], nullstr[FLEN_VALUE];
-    char **stringptr, *nullptr, *cptr;
+    char **stringptr, *nullpointer, *cptr;
 
     if (*status > 0)
         return(*status);
@@ -2081,24 +2081,24 @@ int ffiter(int n_cols,
           {
             stringptr = cols[jj].array;
             dataptr = stringptr + 1;
-            nullptr = *stringptr;
+            nullpointer = *stringptr;
             nbytes = 2;
           }
           else
           {
             dataptr = (char *) cols[jj].array + col[jj].nullsize;
-            nullptr = (char *) cols[jj].array;
+            nullpointer = (char *) cols[jj].array;
             nbytes = col[jj].nullsize;
           }
 
-          if (memcmp(nullptr, &zeros, nbytes) ) 
+          if (memcmp(nullpointer, &zeros, nbytes) ) 
           {
             /* null value flag not zero; must check for and write nulls */
             if (hdutype == IMAGE_HDU)   
             {
                 if (ffppn(cols[jj].fptr, cols[jj].datatype, 
                       felement, cols[jj].repeat * ntodo, dataptr,
-                      nullptr, &tstatus) > 0)
+                      nullpointer, &tstatus) > 0)
                 break;
             }
             else
@@ -2113,7 +2113,7 @@ int ffiter(int n_cols,
 
                 if (ffpcn(cols[jj].fptr, cols[jj].datatype, cols[jj].colnum, frow,
                       felement, cols[jj].repeat * ntodo, dataptr,
-                      nullptr, &tstatus) > 0)
+                      nullpointer, &tstatus) > 0)
                 break;
             }
           }

