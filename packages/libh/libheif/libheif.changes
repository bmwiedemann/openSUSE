-------------------------------------------------------------------
Mon May 22 19:32:26 UTC 2023 - Arjen de Korte <suse+build@de-korte.org>

- update to 1.16.2:
  * adds an option to heif-convert to set the PNG compression level
  * fixes a few build issues with some compilers
  * fixes the --encoder option in heif-enc
  * fixes heif_item_get_properties_of_type and
    heif_item_get_transformation_properties

-------------------------------------------------------------------
Wed May  3 11:14:59 UTC 2023 - Arjen de Korte <suse+build@de-korte.org>

- Package the optional plugins in separate packages, so it is possible
  to install a minimal version of the library without pulling in the
  libraries needed by the plugins only.
- BuildRequires pkgconfig(libwebp) as it is required to make sharp-yuv
  work.

-------------------------------------------------------------------
Wed May  3 07:38:09 UTC 2023 - Dirk Müller <dmueller@suse.com>

- update to 1.16.1:
  * Small maintenance update that fixes building the gdk-pixbuf
    loader.
  * The source package name has also been changed back to the old
    naming scheme.
  * Support for HEIFv2 regions (rgan) and user annotations
    (udes). This enables to annotate regions in the image with
    several geometric primitives and assign user text
    descriptions to them. Thank you @bradh for the contributions.
    Mask support will be added soon.
  * Previously, chroma was downsampled and upsampled with a
    simple nearest-neighbor method. We now included the sharp-yuv
    chroma downsampling algorithm. This gives improved image
    quality when images are downsampled to 4:2:0 and upsampled
    with bilinear interpolation. Thank you @maryla-uc for the
    contributions.
  * The bilinear chroma upsampling and averaging downsampling
    algorithms are also new. You can choose what to use.
  * We added experimental support for decoding uncompressed
    images according to ISO/IEC 23001-17:2023. This is work in
    progress and currently decoding only. Thank you @bradh for
    the contributions.
  * There are new APIs to query the image transformations. Thus,
    you may choose to get the original image and apply the
    transformations yourself.
  * A longstanding bug writing non-compliant 'ispe' boxes (image
    size) has been fixed. Files should be standard compliant now.
  * When building binary packages, you can now make use of a
    CMake presets to set a default configuration.
  * The deprecated autotools build files have been removed.

-------------------------------------------------------------------
Thu Mar 30 18:46:30 UTC 2023 - Arjen de Korte <suse+build@de-korte.org>

- update to 1.15.2
  * Fixes an incompatibility with AOM v3.6.0.
  * A couple of smaller fixes.

-------------------------------------------------------------------
Thu Feb 28 15:21:03 UTC 2023 - Manfred Hollstein <manfred.h@gmx.net>

- Remove no longer existing files avif.xml and heif.xml from the
  files list

-------------------------------------------------------------------
Thu Feb 16 18:49:09 UTC 2023 - Arjen de Korte <suse+build@de-korte.org>

- update to 1.15.1
  * fix compilation without plugins

- update to 1.15.0
  * codec plugin system now also works with Windows
  * heif_convert: manually choose which decoder should be used
  * support for CLLI (content light level box), MDCV (mastering
    display colour volume), PASP (pixel aspect) information
  * ICC profile support in gdk-pixbuf loader
  * various fixes

- build with plugins enabled on Tumbleweed
- remove upstreamed patches
  - 2ca02a128b2f76f7f293aa86a2ce1e04a8306c65.patch
  - b6812284a2d70f29a5121ec3dbe652da07fdbbb7.patch

-------------------------------------------------------------------
Thu Feb  2 19:25:04 UTC 2023 - Manfred Hollstein <manfred.h@gmx.net>

- Use chrpath during build to delete otherwise illegal runtime
  directories stored as RPATH in the executables

-------------------------------------------------------------------
Fri Jan 27 14:32:03 UTC 2023 - Dirk Müller <dmueller@suse.com>

- add 2ca02a128b2f76f7f293aa86a2ce1e04a8306c65.patch
      b6812284a2d70f29a5121ec3dbe652da07fdbbb7.patch: (bsc#1206945)
  * replace internal API with public API and fix typo (Fixes #745)

-------------------------------------------------------------------
Fri Jan 27 12:03:34 UTC 2023 - Arjen de Korte <suse+build@de-korte.org>

- The fix for rpath error for the examples sub-package was mistakenly
  moved

-------------------------------------------------------------------
Fri Jan 20 14:37:00 UTC 2023 - Arjen de Korte <suse+build@de-korte.org>

- Add missing BuildRequires for SVT-AV1 support for Tumbleweed (only
  for x86_64)

-------------------------------------------------------------------
Sun Jan 15 12:31:38 UTC 2023 - Arjen de Korte <suse+build@de-korte.org>

- Disable dynamic plugin interface and build plugins statically instead
  (boo#1206945)

-------------------------------------------------------------------
Sat Jan  7 16:16:22 UTC 2023 - Dirk Müller <dmueller@suse.com>

- update to v1.14.2:
  * A function name typo in the C++ wrapper was corrected in v1.14.1, but
    the old function name should not have been removed from the API
  * (ColorProfile_nclx::set_color_primaries()). The old name is added to the
    API again in this release.

-------------------------------------------------------------------
Tue Jan  3 12:43:46 UTC 2023 - Dirk Müller <dmueller@suse.com>

- update to v1.14.1:
  * various issues is the build system
  * encoding images smaller than 64x64 with svt-av1
  * the 'quality' parameter for svt-av1
  * a potentially wrong image orientation for PNG inputs
  * crash on non-null terminated XMP input
  * HDR RGB to YCbCr conversion coefficients for limited range coefficients

-------------------------------------------------------------------
Sat Dec  3 10:35:42 UTC 2022 - Dirk Müller <dmueller@suse.com>

- update to 1.14.0:
  * adds SVT-AV1 encoder as AVIF backend
  * dynamic plugin interface for installing codecs independently from libheif (currently Unix only)
  * add XMP header compression (using zlib)
  * library should now be initialized with heif_init()
  * heif_convert: extract EXIF and XMP to separate files
  * heif_enc: add benchmarking function to compare codecs
  * copy EXIF/XMP between HEIC/AVIF files and JPEG/PNG in all kinds of combinations
  * remove EXIF orientation tag from input when converting to HEIC/AVIF and
  * generate irot/imir boxes matching the input orientation 

-------------------------------------------------------------------
Thu Nov  3 01:53:22 UTC 2022 - Yifan Jiang <yfjiang@suse.com>

- The newly added thumbnailer is not only useful for gnome, so
  rename the sub-package gnome-heif-thumbnailer to heif-thumbnailer
  before its debut
- Supplement libeheif1 with heif-thumbnailer

-------------------------------------------------------------------
Tue Nov  1 18:10:22 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Create a gnome-heif-thumbnailer sub-package (boo#1204865)

-------------------------------------------------------------------
Mon Oct 31 08:41:43 UTC 2022 - Michael Vetter <mvetter@suse.com>

- Update to 1.13.0:
  * pay attention to the correct chroma sample positions
  * heif_image now holds a list of decoding warnings
  * use AOM AOM_USAGE_ALL_INTRA mode instead of AOM_USAGE_GOOD_QUALITY
  * 'strict' decoding mode with more checks for standard conformity of input
  * support for EXIF data >64k in JPEG output
  * proper library initialization and cleanup
  * separate quality settings for alpha channel (AOM)
  * improve color conversion speed (no lroundf)
  * build and packaging fixes
- Remove 0f8496f22d284e1a69df12fe0b72f375aed31315.patch: contained
- boo#1204865: No HEIC image preview in nautilus fixed by update

-------------------------------------------------------------------
Fri Aug 26 12:51:15 UTC 2022 - Andreas Schneider <asn@cryptomilk.org>

- Support version 1.0.0 of dav1d
- Added 0f8496f22d284e1a69df12fe0b72f375aed31315.patch

-------------------------------------------------------------------
Fri Aug 12 16:13:06 UTC 2022 - David Haller <dnh@opensuse.org>

- Fix rpath error for the examples sub-package

-------------------------------------------------------------------
Fri May 27 16:27:00 UTC 2022 - Stanislav Brabec <sbrabec@suse.com>

- Add missing gdk-pixbuf loader scriptlets (bsc#1199987).
- Recommend gdk-pixbuf-loader-libheif whenever both related
  packages are installed.

-------------------------------------------------------------------
Fri Jun 11 17:55:11 UTC 2021 - Bjørn Lie <bjorn.lie@gmail.com>

- Update to version 1.12.0:
  + Check for MIAF conformance and add as compatible brand.
  + Signaling of premultiplied alpha.
  + Parse AV1 obu_sequence_header for av1C box.
  + Write pixi box in AVIFs.
  + Save alpha as monochrome in AVIF if possible.
  + Many build fixes.

-------------------------------------------------------------------
Wed Apr  7 23:21:55 UTC 2021 - Dirk Müller <dmueller@suse.com>

- update to 1.11.0:
  * fix writing ispe box in HEIFs
  * nclx output profile encoding parameters
  * change the way nclx profiles is written so that macOS can read them
  * API for listing file brands and checking file type
  * fix heif_image_handle_get_depth_image_representation_info()

-------------------------------------------------------------------
Fri Jan  8 07:26:59 UTC 2021 - Dominique Leuenberger <dimstar@opensuse.org>

- Add baselibs.conf: generate libheif1-32bit, which is a new
  dependency for ImageMagick-32bit after that one now enabled
  libheif support.

-------------------------------------------------------------------
Fri Dec 25 15:20:28 UTC 2020 - Bjørn Lie <bjorn.lie@gmail.com>

- Build with dav1d and rav1e support, do this via:
  + Add pkgconfig(dav1d) BuildRequires.
  + Add conditional pkgconfig(rav1e) BuildRequires (currently
    Tumbleweed only).
- Drop libheif-lang Recommends: Package does not exist.

-------------------------------------------------------------------
Thu Dec 17 16:54:31 UTC 2020 - malcolmlewis@opensuse.org

- Re-download tarball and check with osc service runall
  download_files, all ok.

-------------------------------------------------------------------
Wed Dec 16 14:16:35 UTC 2020 - malcolmlewis@opensuse.org

- Updated to version 1.10.0:
  * New API: may access all (vendor-dependent) auxiliary images
    (e.g. hdrgainmap, semanticskinmatte, ...).
  * When ICC profile is present, will now write two color boxes
   (nclx and ICC) into AVIF files. Also reads files with two color
   boxes.
  * Alpha image is now saved as monochrome.
  * Loading of 16bit greyscale PNGs in heif_enc.
  * Deprecated heif_enc option "-E".
  * Remove dependency on alloca().
  * Bug fixes.

-------------------------------------------------------------------
Sun Nov  1 15:21:34 UTC 2020 - malcolmlewis@opensuse.org

- Add build condition to enable additional options, codecs and
  example binaries.
- Remove rav1e and dav1d support for the moment as still WIP.

-------------------------------------------------------------------
Tue Oct 13 16:49:04 UTC 2020 - Andreas Schneider <asn@cryptomilk.org>

- Fix the License

-------------------------------------------------------------------
Mon Oct 12 20:12:32 UTC 2020 - Andreas Schneider <asn@cryptomilk.org>

- Only build with AV1-AVIF support
- Update to version 1.9.1
  * https://github.com/strukturag/libheif/releases/tag/v1.9.1
- fixed CVE-2020-23109 [bsc#1192382]
  (bca0162018df9a32d21c05aad1fa203881fa7813)

-------------------------------------------------------------------
Wed Jul 08 15:54:52 UTC 2018 - plinnell@opensuse.org

- initial package for 1.3.2
