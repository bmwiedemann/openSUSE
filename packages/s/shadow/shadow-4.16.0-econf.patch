Index: shadow-4.16.0/lib/getdef.c
===================================================================
--- shadow-4.16.0.orig/lib/getdef.c
+++ shadow-4.16.0/lib/getdef.c
@@ -482,7 +482,7 @@ static void def_load (void)
 	 */
 	def_loaded = true;
 
-	error = econf_readDirs (&defs_file, vendordir, sysconfdir, "login", "defs", " \t", "#");
+	error = econf_readConfig (&defs_file, vendordir, sysconfdir, "login", "defs", " \t", "#");
 	if (error) {
 		if (error == ECONF_NOFILE)
 			return;
