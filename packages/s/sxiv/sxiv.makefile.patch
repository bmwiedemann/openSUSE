Index: sxiv-24/Makefile
===================================================================
--- sxiv-24.orig/Makefile
+++ sxiv-24/Makefile
@@ -7,7 +7,7 @@ PREFIX = /usr/local
 MANPREFIX = $(PREFIX)/share/man
 
 CC = cc
-DEF_CFLAGS = -std=c99 -Wall -pedantic
+DEF_CFLAGS = -Wall
 DEF_CPPFLAGS = -I/usr/include/freetype2
 
 # autoreload backend: inotify/nop
@@ -20,7 +20,7 @@ HAVE_GIFLIB = 1
 HAVE_LIBEXIF = 1
 
 ALL_CFLAGS = $(DEF_CFLAGS) $(CFLAGS)
-REQ_CPPFLAGS = -I. -D_XOPEN_SOURCE=700 -DVERSION=\"$(VERSION)\" \
+REQ_CPPFLAGS = -I. -D_GNU_SOURCE -DVERSION=\"$(VERSION)\" \
   -DHAVE_GIFLIB=$(HAVE_GIFLIB) -DHAVE_LIBEXIF=$(HAVE_LIBEXIF)
 ALL_CPPFLAGS = $(REQ_CPPFLAGS) $(DEF_CPPFLAGS) $(CPPFLAGS)
 
@@ -73,6 +73,7 @@ install: all
 	mkdir -p $(DESTDIR)$(PREFIX)/share/sxiv/exec
 	cp exec/* $(DESTDIR)$(PREFIX)/share/sxiv/exec/
 	chmod 755 $(DESTDIR)$(PREFIX)/share/sxiv/exec/*
+	install -m 644 sxiv.desktop -D $(DESTDIR)$(PREFIX)/share/applications/sxiv.desktop
 
 uninstall:
 	@echo "REMOVE bin/sxiv"
