-------------------------------------------------------------------
Mon Dec 12 23:24:45 UTC 2022 - william.brown@suse.com

- Update to version 0.3.3~20:
  * Fix azure deps
  * Force concurrent disk cache by default
  * Add experimental concurrent cache support
  * Ignore RPM env vars by default
  * Relax the assert_cmd dep - Closes: #1465 (#1466)
  * Update src/config.rs
  * Update src/config.rs
  * Fix typo
  * feat: Migrate azure to opendal based
  * Implement storage upon opendal Operator
  * Fix some typos
  * docs: move local into its own files
  * docs: move gha into its own files
  * docs: move azure into its own files
  * docs: move gcs into its own files
  * docs: move memcached into its own files
  * docs: move redis into its own files
  * docs: move s3 into its own files
  * docs: Enrich docs for s3 services
  * refactor: Integrate with opendal for s3 (#1412)
  * Disable the aarch64-unknown-linux-musl task for now Closes: #1458
  * update of the version
  * Remove bash dependency in test scripts
  * enable gha actions storage for the default feature set
  * Bump assert_cmd from 2.0.6 to 2.0.7
  * Bump env_logger from 0.9.3 to 0.10.0
  * Bump nix from 0.25.0 to 0.26.1
  * Bump serde from 1.0.148 to 1.0.149
  * Bump libc from 0.2.137 to 0.2.138
  * Bump async-trait from 0.1.58 to 0.1.59
  * Revert changes to cargo toml
  * Update lockfile
  * Remove openssl dependency when enabling GCS
  * Add configurable server timeout
  * fix https://github.com/mozilla/sccache/issues/1437
  * better support for toolchains with symlinks
  * remove unused aws-types
  * Remove unused sha-1 from dependencies
  * Update README.md to explain GHA cache behavior
  * Revert "handle symlinks when hashing the toolchain"
  * Revert "server: canonicalize path for compiler_info cache"
  * Revert "add tests for symlinks"
  * Revert "fix `invalid character in crate name` in test_symlinks"
  * Revert "fix --stop-server in test_symlinks"
  * Revert "fix test_symlinks when rustup is in PATH"
  * Revert "fix compatibility with bash 3 / macos 11 ci"
  * Bump assert_cmd from 2.0.5 to 2.0.6
  * Document the sccache process
  * Bump predicates from 2.1.1 to 2.1.2
  * Bump chrono from 0.4.22 to 0.4.23
  * Revert Cargo.lock
  * Update gha-toolkit and docs
  * Add support for GitHub Actions cache
  * Bump sha-1 from 0.10.0 to 0.10.1
  * Bump serde from 1.0.147 to 1.0.148
  * Update winapi
  * Update .github/dependabot.yml
  * Update .github/dependabot.yml
  * Update dependabot.yml
  * Reduce depandapot PR frequency
  * cargo update -p rouille
  * cargo update some indirect dependencies
  * Lower the ubuntu-18.04 version
  * Require openssl >= 0.10.9
  * adjust the CI to use 1.60
  * Fix a chrono warning:
  * update to Rust 1.60 as minimal version
  * Bump crossbeam-utils from 0.8.12 to 0.8.14
  * Revert "add cargo-deny configuration"
  * Revert "move from sha-1 (unmaintained) => sha1"
  * Revert "run cargo-deny in the ci"
  * run cargo-deny in the ci
  * move from sha-1 (unmaintained) => sha1
  * add cargo-deny configuration
  * Bump zstd from 0.11.2+zstd.1.5.2 to 0.12.0+zstd.1.5.2
  * Enable connection reuse in s3 client
  * Bump cc from 1.0.76 to 1.0.77
  * readme: remove `#` from shields.io url
  * Some minor github updates (#1401)
  * fix compatibility with bash 3 / macos 11 ci
  * fix test_symlinks when rustup is in PATH
  * fix --stop-server in test_symlinks
  * fix `invalid character in crate name` in test_symlinks
  * add tests for symlinks
  * server: canonicalize path for compiler_info cache
  * handle symlinks when hashing the toolchain
  * Improve the doc
  * Make `SCCACHE_S3_USE_SSL` optional
  * Bring back `SCCACHE_S3_USE_SSL`
  * Bump uuid from 1.2.1 to 1.2.2
  * Remove a strayed `cfg(feature = "s3")`
  * Set executable bit for binaries in release artifacts
  * Make s3 related tests sequential
  * Minimize Cargo.lock changes
  * Add some tests for s3
  * Update aws-* crates to latest version
  * New S3 backend

-------------------------------------------------------------------
Mon Nov 14 00:01:29 UTC 2022 - william.brown@suse.com

- Update to version 0.3.1~3:
  * Force concurrent disk cache by default
  * Add experimental concurrent cache support
  * Ignore RPM env vars by default
  * Revert "test: add a test for bc"
  * Revert "add .bc as C++ extension"
  * with gcs: document the process
  * test: add a test for bc
  * test: add the support for extra args
  * Install gcc & clang for the test_sccache_command test
  * add .bc as C++ extension See: https://github.com/llvm/llvm-project/issues/58518#issuecomment-1312181006

-------------------------------------------------------------------
Mon Sep 26 01:56:18 UTC 2022 - william.brown@suse.com

- Update to version 0.3.0~git5.14a4b8b:
  - improve disk cache performance
- Update of vendored dependencies
- bsc#1196972 - CVE-2022-24713 - Regex denial of service
- bsc#1194119 - CVE-2021-45710 - tokio data race with memory corruption

-------------------------------------------------------------------
Mon Jun 20 03:22:06 UTC 2022 - William Brown <william.brown@suse.com>

- Automatic update of vendored dependencies

-------------------------------------------------------------------
Tue May 24 06:28:56 UTC 2022 - William Brown <william.brown@suse.com>

- Automatic update of vendored dependencies

-------------------------------------------------------------------
Mon May 23 02:11:35 UTC 2022 - william.brown@suse.com

- Update to version 0.3.0~git4.e5e233f:
  * Force concurrent disk cache by default
  * Ignore some env vars
  * Add experimental concurrent cache support
  * Increase the MSRV and bump dependencies (#1137)
- Remove 0001-Ignore-some-env-vars.patch as it is on the maint branch

-------------------------------------------------------------------
Wed May 04 23:39:03 UTC 2022 - william.brown@suse.com

- Update to version 0.3.0~git0.f6e36e6:
  * (cargo-release) version 0.3.0
  * Rewrite dist client interface to uniformly use async (#1166)
  * Use clang -fminimize-whitespace to increase cache hits. (#1162)
  * Replace usages of blocking `reqwest` to be async instead (#1164)
  * Verify if a compile input is pure rlib or mixed rlib+staticlib before trimming (#1159)
  * Handle new 'rustc -Z ls' output lines (#1157)
  * Mark -std and -pedantic as pass-through flags for MSVC (#1151)
  * Ignore lockfiles of test crates used in the integration tests (#1149)
  * nvcc: support -ccbin / --compiler-bindir (#1147)
  * Revert "Automatically remove "awaiting response" label on-comment (#1129)" (#1142)

-------------------------------------------------------------------
Thu Apr 21 23:28:32 UTC 2022 - William Brown <william.brown@suse.com>

- Change sources to zst compression

-------------------------------------------------------------------
Tue Apr  5 05:31:37 UTC 2022 - William Brown <william.brown@suse.com>

- Automatic update of vendored dependencies

-------------------------------------------------------------------
Sun Mar 27 01:25:36 UTC 2022 - William Brown <william.brown@suse.com>

- 0001-Ignore-some-env-vars.patch - sccache will ignore rebuilds if
  env vars change. As a result, we need to filter a number of values
  that rpm/osc-build injects that change frequently that disrupts
  the ability for sccache to cache effectively.

-------------------------------------------------------------------
Fri Mar 25 05:23:56 UTC 2022 - William Brown <william.brown@suse.com>

- Ungate sccache from other arches

-------------------------------------------------------------------
Mon Mar 14 04:28:25 UTC 2022 - william.brown@suse.com

- Update to resolve bsc#1196972 CVE-2022-24713 - Regex DOS

-------------------------------------------------------------------
Wed Mar 02 05:08:34 UTC 2022 - william.brown@suse.com

- Update vendored dependencies

-------------------------------------------------------------------
Tue Feb 15 03:08:15 UTC 2022 - william.brown@suse.com

- Update vendor.tar to resolve:
  * RUSTSEC-2021-0093: crossbeam-deque, cvss: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H, class: ['memory-corruption']
  * RUSTSEC-2021-0020: hyper, cvss: CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H, class: ['format-injection']
  * RUSTSEC-2021-0078: hyper, cvss: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:L/A:N, class: []
  * RUSTSEC-2021-0079: hyper, cvss: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:H/A:H, class: []
  * RUSTSEC-2021-0119: nix, cvss: None, class: ['memory-corruption']
  * RUSTSEC-2021-0003: smallvec, cvss: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H, class: ['memory-corruption']
  * RUSTSEC-2021-0080: tar, cvss: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:H/A:N, class: []
  * RUSTSEC-2020-0031: tiny_http, cvss: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:N, class: []
  * RUSTSEC-2021-0124: tokio, cvss: None, class: ['memory-corruption', 'thread-safety']
  * RUSTSEC-2021-0124: tokio, cvss: None, class: ['memory-corruption', 'thread-safety']

-------------------------------------------------------------------
Thu Jan 06 07:05:06 UTC 2022 - william.brown@suse.com

- resolve bsc#1194119 (CVE-2021-45710)

-------------------------------------------------------------------
Thu Dec 16 04:40:45 UTC 2021 - wbrown@suse.de

- Update to version 0.2.15~git0.6b6d2f7:
  * (cargo-release) version 0.2.15
  * Update docs/Releasing.md
  * Workaround tiny_http issue #151 by disabling HTTP pipelining
  * Upgrade itertools to 0.10
  * Run `cargo update`
  * Add C compiler versions to the hash calculation when available
  * Move lru-disk-cache to an internal module
  * Fix clippy warnings in lru-disk-cache
  * Still read config file from Library/Preferences if it exists
  * Revert "Upgrade redis to 0.18"

-------------------------------------------------------------------
Thu Dec 16 00:25:03 UTC 2021 - William Brown <william.brown@suse.com>

- Enable build on s390x, remove support for gcs which depends on ring.

-------------------------------------------------------------------
Fri Nov 26 12:56:12 UTC 2021 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Enable build also on armv6

-------------------------------------------------------------------
Tue Nov 16 15:21:57 UTC 2021 - Johannes Segitz <jsegitz@suse.com>

- Added hardening to systemd service(s) (bsc#1181400). Modified:
  * sccache-dist-builder.service
  * sccache-dist-scheduler.service

-------------------------------------------------------------------
Wed Nov  3 00:07:45 UTC 2021 - William Brown <william.brown@suse.com>

- Update license string in rpm
- Update vendor libraries

-------------------------------------------------------------------
Thu Oct 21 23:49:46 UTC 2021 - William Brown <william.brown@suse.com>

- Extend supported arches for potential OBS usage

-------------------------------------------------------------------
Mon Oct 11 05:34:00 UTC 2021 - wbrown@suse.de

- Set _service to use automatic vendor updates
- Set exclusive arches to match tier 1

-------------------------------------------------------------------
Tue Sep 28 00:57:24 UTC 2021 - William Brown <william.brown@suse.com>

- Change from rust-packaging to cargo-packaging

-------------------------------------------------------------------
Mon Jul  5 05:15:58 UTC 2021 - William Brown <william.brown@suse.com>

- Update vendored dependencies to resolve
  -- potential memory corruption ( RUSTSEC-2021-0003 )
  -- potential format injection ( RUSTSEC-2021-0020 )
  -- potential request smuggling ( RUSTSEC-2020-0031 )

-------------------------------------------------------------------
Tue Jun 22 03:36:07 UTC 2021 - William Brown <william.brown@suse.com>

- Allow extra architectures with sccache

-------------------------------------------------------------------
Wed Jan 13 01:34:41 UTC 2021 - wbrown@suse.de

- Update to version 0.2.15~git1.22a176c:
  * (cargo-release) start next development iteration 0.2.16-alpha.0
  * (cargo-release) version 0.2.15
  * Update docs/Releasing.md
  * Workaround tiny_http issue #151 by disabling HTTP pipelining
  * Upgrade itertools to 0.10
  * Run `cargo update`
  * Add C compiler versions to the hash calculation when available
  * Move lru-disk-cache to an internal module
  * Fix clippy warnings in lru-disk-cache
  * Still read config file from Library/Preferences if it exists

-------------------------------------------------------------------
Tue Dec 22 03:22:20 UTC 2020 - wbrown@suse.de

- Update to version 0.2.14~git0.655ef1a:
  * (cargo-release) version 0.2.14
  * Remove [patch] section for the purpose of release
  * Upgrade zstd to 0.6
  * Run `cargo update`
  * Bump lru-disk-cache version
  * Fix a few more clippy warnings
  * Make lru_disk_cache::Error's impl Display match what it was before 65bb3b6
  * Ignore both -FS and -MP on MSVC
  * Use a full path relative to `cwd` for extra hash files
  * Set the current directory of the server to the directory containing the executable

-------------------------------------------------------------------
Wed Nov 25 14:25:45 UTC 2020 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Fix build on non-x86_64 archs

-------------------------------------------------------------------
Fri Nov 20 00:29:39 UTC 2020 - William Brown <william.brown@suse.com>

- Fix service file commit definition
- Correct spec file example install

-------------------------------------------------------------------
Thu Nov 19 02:34:37 UTC 2020 - wbrown@suse.de

- Update to version 0.2.13~git474.6628e1f:
  * New entry in ServerStartup enum to indicate AddrInUse Error (#840)
  * Revert "Bump to tiny-http 0.7.0 (#830)" because it caused a regression, #846.
  * Include -fsanitizer-blacklist in common_args
  * Consume sanitizer blacklist as extra hash in msvc (#842)
  * In case we fail to read the compressed content from the cache, treat the failure as a forced
    recache. This prevents us from failing build jobs unconditionally if cache entries are corrupt
    (or in case of other sporadic failures), in which case we should continue on with
    force-recompiling and recaching. (#836)
  * Bump to tiny-http 0.7.0 (#830)
  * Modify logging to use SCCACHE_LOG. (#822)
  * Implement `g++` and `clang++` behavior when used on a `.c` input file. Fixes #803 (#818)
  * clang: Allow chrome plugin arguments (#817)
  * Add known caveats section to readme (#815)

-------------------------------------------------------------------
Wed Nov 18 21:50:56 UTC 2020 - William Brown <william.brown@suse.com>

- Configure features to generate sccache-dist for distributed builds.
- Add systemd unit files for builder and scheduler and example configs.

-------------------------------------------------------------------
Wed Nov 18 05:17:42 UTC 2020 - William Brown <william.brown@suse.com>

- Add --features=all to allow all cache backends to be used.

-------------------------------------------------------------------
Tue Nov 17 04:56:20 UTC 2020 - William Brown <william.brown@suse.com>

- Add support for obs cargo vendor to make packaging easier.
  * osc service ra - now can update the source files.
- Improvements to spec file.
- Fix invalid license string.

-------------------------------------------------------------------
Fri May 22 13:44:53 UTC 2020 - Sumit Jamgade <sjamgade@suse.com>

- Initial Package
