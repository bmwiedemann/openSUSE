Index: sshpass-1.05/main.c
===================================================================
--- sshpass-1.05.orig/main.c
+++ sshpass-1.05/main.c
@@ -430,6 +430,10 @@ void write_pass( int fd )
 		write_pass_fd( srcfd, fd );
 		close( srcfd );
 	    }
+		else {
+		fprintf(stderr, "sshpass: -f option given but file %s not found\n", args.pwsrc.filename);
+		exit(1);
+		}
 	}
 	break;
     case PWT_PASS:
