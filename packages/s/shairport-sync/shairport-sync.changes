-------------------------------------------------------------------
Mon Jun 24 14:19:17 UTC 2019 - Hillwood Yang <hillwood@opensuse.org>

- Update version to 3.3.1
  * Fix a bug in the MQTT documentation and add sanity checking for the port
    chosen -- thanks to David Crook.
  * Fix a bug that caused manual format and rate settings to be ignored --
    thanks to Jörg Krause.
  * Add missing support for format settings S24_LE, S24_BE, S32_LE and S32_BE.
  * Fix a bug that caused dither to be too loud.
  * Fix error message for invalid 
  * Automatic Format and Speed Selection for alsa devices. Using the alsa back
    end, when you specify the output device, Shairport Sync will now, by
    default, select the best output format and speed. For instance, if your
    output device is capable of 32-bit operation, it will be selected. In some
    situations, this will give a noticeable improvement in sound quality – see
    the discussion of audio improvements below. The greatest bit depth will
    always be selected, and the lowest speed that is a multiple of 44,100.
  * Audio Transient Reduction: A Disable Standby feature to eliminate certain
    faint-but-annoying audible pops and clicks has been added for alsa devices.
    The setting prevents an output device entering standby mode and thus
    minimises standby/busy transitions, which can sometimes be heard. It is
    pretty impressive, especially combined with fixes to the dithering code
    described below. If you can enable 24- or 32-bit audio output to your output
    device, you can get even better results. This feature is available in the
    ALSA back end (standard in Linux) when it is driving output devices that can
    provide precision delay information, i.e. most hardware output devices and
    possibly some virtual devices.
  * New active/inactive program hooks. Basically, these are "deglitched"
    replacements for play start/play end program hooks. When a play session
    starts, the system goes active. When the play session ends, the system
    remains active for a period determined by the active_state_timeout setting,
    10 seconds by default. If another play session starts before the period
    elapses, the system stays active; otherwise the system goes inactive. The
    hooks are performed when the system goes active or inactive.
  * A new MQTT client interface, with support for metadata and for some remote
    control commands.
  * A new Jack Audio back end.
  * PulseAudio: A new option for the pa backend to allow the specification of
    the audio sink.
  * CYGWIN: An updated and enhanced installation procedure to install Shairport
    Sync as a Cygwin service.
  * Opt-in default for certain added features: If support for soxr, metadata or
    the Apple ALAC decoder is included during building (i.e. at the ./configure
    stage), then the features are enabled by default at run time. The features
    are (1) soxr interpolation – chosen automatically if the device is fast
    enough, (2) the Apple ALAC decoder and (3) metadata, which is implied when
    you include support for metadata, D-Bus, MPRIS or MQTT features.
  * Shairport Sync can now receive AirPlay streams consisting of raw PCM – 16
    bit stereo frames at 44,100 samples per second. Packets must be 352 frames
    exactly.
  * Improved support for big-endian CPUs by adding support for explicit -endian
    formats, i.e. S16_LE, S16_BE, S24_LE, S24_BE, S32_LE, S32_BE.
  * Add a list of alsa hardware devices found to the alsa backend help section
    in the shairport-sync -h text. (Linux only – doesn't work on
    FreeBSD/OpenBSD.)
  * Replace the existing watchdog, which only offered partial coverage, with a
    much more robust thread-based watchdog.
  * Allow a reported remote processing time of zero.
  * Fix a logical error that could cause an endless loop during a flush.
  * Ensure a player thread is correctly initialised before allowing it to be
    cancelled cleanly.
  * Ensure the player thread always has a cancellation point so that it should
    always be possible to ask it to terminate.
  * If a play session is interrupted, wait for it to terminate for up to three
    seconds.
  * If a play session is interrupted, ensure the new session uses a different
    set of UDP ports. This is to ensure that data from the interrupted session –
    which might be still in transit – doesn't enter the new session.
  * Make all ALSA command sequences un-cancellable. This is to ensure that ALSA
    subsystem will not be left in a partially-initialised state if Shairport
    Sync terminates abruptly.
  * When a connection is terminated abruptly, ensure that all the UDP ports is
    use are closed properly.
  * Impose timeouts on both reading and writing to the supervisory RTSP
    connection governing a session.
  * When closing the RTSP connection due to an error, close it immediately,
    without waiting for a full TCP handshake, because, if the other end has
    erred, the handshake may never come.
  * Fix a parameter initialisation error in a situation where there is no
    hardware mixer.
  * Fix an MQTT-related crash by ignoring unrecognised commands.
  * Fix a compilation error and a warning when using the --with-convolution
    configuration option.
  * A compilation problem in OpenBSD has been fixed by changing the order of
    some include files.
  * Fix a problem when calling the program to be run when the volume control is
    changed. Thanks to shaven for the report.
  * Remove unrecognised options from FreeBSD and OpenBSD compilation
    instructions.
  * Ensure the compiler flag HAVE_LIBSOXR is defined if the --with-soxr
    configuration flag is used and pkg-config is in use.
  * Fix a bug in the dbus native interface which would silently switch soxr
    interpolation to basic.
  * Fix a mutex lock bug in the metadata hub. No known effects.
  * Fix an arithmetic overflow in frame rate calculations that could occur after
    2^32 frames – approximately 27 hours at 44,100 frames per second.
  * A number of memory leaks have been identified and removed.
  * An incorrect warning about using the deprecated general statistics options
    has been fixed.


-------------------------------------------------------------------
Mon Mar 18 21:21:48 UTC 2019 - Jan Engelhardt <jengelh@inai.de>

- Transform bash-specific sh code to POSIX sh in scriptlets.
- Do not hide errors from useradd.
- Reduce hard scriptlet dependency on systemd;
  %service_* does not need it.

-------------------------------------------------------------------
Sun Feb 10 10:27:18 UTC 2019 - Tomáš Chvátal <tchvatal@suse.com>

- Really use upstream tarball from the source url

-------------------------------------------------------------------
Wed Feb  6 13:16:47 UTC 2019 - Tuukka Pasanen <tuukka.pasanen@ilmi.fi>

- Update to release 3.2.2
  Version 3.2 introduces two big new features – MPRIS support and a "native" Shairport
  Sync D-Bus interface. MPRIS offers a standard set of facilities for implementing remote
  control and the native D-Bus interface allows local programs to interact
  directly with Shairport Sync.
  When used with either of these interfaces, Shairport Sync offers access
  to the remote control commands available to control the source, and also
  offers access to metadata, including titles and cover art. These new features
  are experimental, but are already useful.

  This release of Shairport Sync contains important bug fixes and stability
  improvements and is recommended for all users. If offers better synchronisation,
  better compatibility with third-party AirPlay sources, greater stability when
  used with YouTube and macOS system sound, faster resynchronisation, better
  performance on noisy or congested networks and many other improvements.

  A quick INSTALL guide for the Raspberry Pi, a how-to CAR INSTALL guide and
  a note about installing to OpenBSD have been added.

- See https://github.com/mikebrady/shairport-sync/releases for details

-------------------------------------------------------------------
Mon Jul 30 18:15:58 UTC 2018 - jengelh@inai.de

- Avoid repeating name in summary (rpmlint).

-------------------------------------------------------------------
Mon Jun 11 13:48:36 UTC 2018 - hillwood@opensuse.org

- Initial package for 3.2rc10.
- Add drop-user-config.patch, move configuring user account to rpm spec.
- Add firewalld profile.
- Add README.SUSE
