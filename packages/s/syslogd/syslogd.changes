-------------------------------------------------------------------
Tue Dec 27 13:21:16 UTC 2022 - Ludwig Nussel <lnussel@suse.com>

- Replace transitional %usrmerged macro with regular version check (boo#1206798)

-------------------------------------------------------------------
Wed Oct 19 11:57:37 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Update ot version 1.5.1
  ChangeLog for version 1.5.1
    Many thanks to Rainer Gerhards, rsyslog project lead, for
    identifying a problem with how rsyslog's rsyslogd and sysklogd's
    syslogd check for invalid priority values (CVE-2014-3634).
  ChangeLog for version 1.5
  * Fix file descriptor leak in klogd
  * Improve argument list processing
  * Prevent potential buffer overflow in reading messages from the
    kernel log ringbuffer
  * Ensure that "len" is not placed in a register, and that the endtty()
    signal handler is not installed too early which could cause a
    segmentation fault or worse
  * klogd will reconnect to the logger (mostly syslogd) after it went
    away during operation
  * On heavily loaded system syslog will not spit out error messages
    anymore when recvfrom() results in EAGAIN
  * Makefile improvements
  * Local copy of module.h
  * Improved manpage
  * Always log with syslogd's timezone and locale
  * Remove trailing newline when forwarding messages
  * Continue working properly if /etc/service is missing and ignore
    network activity
  * Continue writing to log files as soon as space becomes available
    again after a filled up disk
  * Removed test to detect control characters> 0x20 as this prevented
    characters encoded in UTF-8 to be properly passed through
  * Only resolve the local domain when accepting messages from remote
  * Properly accompany the MARK message with the facility
  * Improved daemonise routine in klogd to stabilise startup
  * klogd will not change the console log level anymore unless -c is given
  * Added back /usr/src/linux/System.map as fall-back location
  * Rewrite the module symbol parser to read from /proc/kallsyms
  * Notify the waiting parent process if the client dies
  * Complete rewrite of the oops kernel module for Linux 2.6
  * Only read kernel symbols from /proc/kallsyms if no System.map
    has been read
  * Improved symbol lookup
  * Prevent named pipes from becoming the controlling tty
  * Fixing a race condition in syslogd discovered in UML
  * Improved README.linux
  * Added boundary checks in klogd
  * Don't block on the network socket in case of packet loss
  * Don't crash when filesize limit is reached (e.g. without LFS)
  * Fix spurious hanging syslogd in connection with futex and NPTL
    introduced in recent glibc versions and Linux 2.6 (details)
  * Improved syslog.conf(5) manpage
  * Use socklen_t where appropriate
  * Use newer query_module function rather than stepping through /dev/kmem.
  * Remove special treatment of the percent sign in klogd 
- Remove patches now upstream solved
  * klogd-obsolete.patch
  * sysklogd-1.4.1-fileleak.patch
  * sysklogd-1.4.1-ksym.patch
  * sysklogd-1.4.1-no_SO_BSDCOMPAT.diff
  * sysklogd-1.4.1-owl-crunch_list.diff
  * sysklogd-1.4.1-preserve_percents.patch
  * sysklogd-1.4.1-utf8.patch
- Port patches
  * sysklogd-1.4.1-CVE-2014-3634.patch
  * sysklogd-1.4.1-clearing.patch
  * sysklogd-1.4.1-dgram.patch
  * sysklogd-1.4.1-dns.patch
  * sysklogd-1.4.1-dontsleep.patch
  * sysklogd-1.4.1-forw.patch
  * sysklogd-1.4.1-klogd24.dif
  * sysklogd-1.4.1-ksyslogsize.diff
  * sysklogd-1.4.1-large.patch
  * sysklogd-1.4.1-nofortify.patch
  * sysklogd-1.4.1-reload.dif
  * sysklogd-1.4.1-reopen.patch
  * sysklogd-1.4.1-showpri.patch
  * sysklogd-1.4.1-signal.dif
  * sysklogd-1.4.1-sparc.patch
  * sysklogd-1.4.1-sysmap-prior-to-2.5.patch
  * sysklogd-1.4.1-systemd-multi.dif
  * sysklogd-1.4.1-systemd-sock-name.patch
  * sysklogd-1.4.1-systemd.dif
  * sysklogd-1.4.1-unix_sockets.patch
  * sysklogd-1.4.1.dif
  * sysklogd-ipv6.diff

-------------------------------------------------------------------
Thu Oct 13 06:32:11 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Check ownership of initrd.msg before adding it to boot.msg (bsc#1204245) 

-------------------------------------------------------------------
Wed Aug 31 12:40:57 UTC 2022 - Stefan Schubert <schubi@suse.com>

- Migration to /usr/etc: Saving user changed configuration files
  in /etc and restoring them while an RPM update.

-------------------------------------------------------------------
Tue Jun 21 12:20:58 UTC 2022 - Stefan Schubert <schubi@suse.com>

- Moved logrotate files from user specific directory /etc/logrotate.d
  to vendor specific directory /usr/etc/logrotate.d.

-------------------------------------------------------------------
Tue Apr 19 14:51:10 UTC 2022 - Marcus Meissner <meissner@suse.com>

- https urls, added gpg signature (but not the keyring, could not
  find it)

-------------------------------------------------------------------
Fri Mar  4 07:22:27 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Switch from obsolete standard output type syslog over to journal (boo#1196467) 

-------------------------------------------------------------------
Tue Nov 30 13:20:31 UTC 2021 - Johannes Segitz <jsegitz@suse.com>

- Remove PrivateDevices, ProtectClock and ProtectKernelLogs=true
  from klog.service and ProtectKernelLogs from klogd.service
  (bsc#1193172)

-------------------------------------------------------------------
Wed Nov 24 10:22:12 UTC 2021 - Johannes Segitz <jsegitz@suse.com>

- Added hardening to systemd service(s) (bsc#1181400). Modified:
  * klog.service
  * klogd.service
  * syslogd.service

-------------------------------------------------------------------
Tue Nov 24 17:03:30 UTC 2020 - Ludwig Nussel <lnussel@suse.de>

- prepare usrmerge (boo#1029961)
- replace broken rcsyslog script with rcsyslogd link

-------------------------------------------------------------------
Wed Aug 19 07:15:13 UTC 2020 - Dr. Werner Fink <werner@suse.de>

- Set permission also in file list for /etc/syslog.conf 

-------------------------------------------------------------------
Thu Feb 27 18:10:13 UTC 2020 - Michael Ströder <michael@stroeder.com>

- Removed create option from logrotate.syslog to let logrotate
  preserve file system ACLs

-------------------------------------------------------------------
Tue Dec 11 02:04:18 UTC 2018 - Jan Engelhardt <jengelh@inai.de>

- Set /bin/bash as scriptlet interpreter where needed.

-------------------------------------------------------------------
Tue Nov 20 22:47:25 CET 2018 - sbrabec@suse.com

- Use setlogcons and dmesg instead of klogconsole;
  perform migration of sysconfig/boot file (boo#1116277).

-------------------------------------------------------------------
Thu Nov 23 13:42:15 UTC 2017 - rbrown@suse.com

- Replace references to /var/adm/fillup-templates with new 
  %_fillupdir macro (boo#1069468)

-------------------------------------------------------------------
Thu Apr  6 09:34:44 UTC 2017 - werner@suse.de

- Use socket activation API of the libsystemd 

-------------------------------------------------------------------
Thu Mar  9 07:43:33 UTC 2017 - werner@suse.de

- Require user and group news
 
-------------------------------------------------------------------
Thu Jul 21 10:31:27 UTC 2016 - tchvatal@suse.com

- Add requires on klogd, previously in requires(pre); should fix
  issue found in sr#412257

-------------------------------------------------------------------
Mon Jun 27 12:22:47 UTC 2016 - tchvatal@suse.com

- Cleanup various rpmlint warnings
- Use upstream url and sources
- Remove the omv files, not needed

-------------------------------------------------------------------
Mon Jan 25 14:22:13 UTC 2016 - schwab@suse.de

- klogd-obsolete.patch: avoid use of obsolete function get_kernel_syms

-------------------------------------------------------------------
Fri May  8 13:43:30 UTC 2015 - werner@suse.de

- Reintroduce /etc/sysconfig/boot for having KLOGCONSOLE_PARAMS back 

-------------------------------------------------------------------
Wed May  6 08:04:35 UTC 2015 - werner@suse.de

- Modernize systemd service units 

-------------------------------------------------------------------
Wed Mar 11 09:08:48 UTC 2015 - werner@suse.de

- Be aware that klog.service should be handled by the
  systemd rpm macros 

-------------------------------------------------------------------
Thu Oct  9 13:01:26 UTC 2014 - werner@suse.de

- Update patch sysklogd-1.4.1-CVE-2014-3634.patch (boo#899756)

-------------------------------------------------------------------
Mon Sep 29 14:14:14 UTC 2014 - schwab@suse.de

- sysklogd-1.4.1-reload.dif: remove bogus use of feature test macro
- sysklogd-1.4.1.dif: refresh
- sysklogd-1.4.1-glibc.patch: remove obsolete patch

-------------------------------------------------------------------
Wed Sep 24 08:07:49 UTC 2014 - werner@suse.de

- Add patch sysklogd-1.4.1-CVE-2014-3634.patch bsc#897262,
  CVE-2014-3634 rsyslog/syslogd: remote syslog PRI vulnerability

-------------------------------------------------------------------
Mon Sep 15 13:07:38 UTC 2014 - werner@suse.de

- Add patch sysklogd-1.4.1-glibc.patch
  newer glibc versions do not set nor use _BSD_SOURCE anymore

-------------------------------------------------------------------
Mon Sep  1 09:17:40 UTC 2014 - werner@suse.de

- Klog service: Move the Alias tag from Unit section to the Install
  section bnc#893741

-------------------------------------------------------------------
Fri Aug 22 15:35:06 UTC 2014 - werner@suse.de

- Add syslogd-rpmlintrc to sourcelist to shut up stupid factory auto

-------------------------------------------------------------------
Fri Aug 22 14:37:57 UTC 2014 - mt@suse.de

- Stop syslog.socket in %preun to avoid the daemon we uninstall
  gets started by a log message due to dependencies (bnc#840815).

-------------------------------------------------------------------
Sun May 11 05:28:49 UTC 2014 - coolo@suse.com

- use %_rundir macro

-------------------------------------------------------------------
Wed Jan 15 14:12:57 UTC 2014 - werner@suse.de

- Change klogd.service to use BindsTo instead of BindTo  

-------------------------------------------------------------------
Mon Dec  9 09:40:03 UTC 2013 - werner@suse.de

- Replace `Names' with `Alias' in klog.service (bnc#854315)

-------------------------------------------------------------------
Mon Jul 15 13:13:56 UTC 2013 - werner@suse.de

- New rpm had removed "prereq" flag from installation script bits
  that is that `Requires(prereq)' is not valid anymore :(((

-------------------------------------------------------------------
Fri Feb 22 14:44:27 UTC 2013 - mt@suse.com

- Updated syslog service activation description in the syslog(8)
  manual page (bnc#804299).

-------------------------------------------------------------------
Thu Jan 10 15:53:27 UTC 2013 - mt@suse.com

- When exists, remove the broken link in multi-user.target.wants
  pointing to the common syslog.service file, which syslog-service
  package were providing before (bnc#790805).

-------------------------------------------------------------------
Wed Jan  9 14:05:53 UTC 2013 - mt@suse.com

- Enable syslogd.service and create the syslog.service alias link
  in post install -- regardless of a preset config (bnc#790805).

-------------------------------------------------------------------
Sat Jan  5 22:31:09 UTC 2013 - opensuse@cboltz.de

- Fixed typo in syslog.8 manual page

-------------------------------------------------------------------
Thu Nov 22 17:10:08 UTC 2012 - mt@suse.com

- Fixed service file to use $ADDITIONAL_SOCKET without {} around
  as systemd expands them differently (bnc#788330).

-------------------------------------------------------------------
Tue Nov 20 11:37:54 UTC 2012 - mt@suse.com

- Added version 2.0 to syslog-service to solve build problems
  of depending syslog daemon packages on openSUSE < 12.3, which
  require the 1.x syslog-service version with LSB init scripts.

-------------------------------------------------------------------
Tue Nov 13 09:18:14 UTC 2012 - mt@suse.com

- Dropped SYSLOG_DAEMON variable from /etc/sysconfig/syslog.
  The syslogd package provides a specific syslogd.service file
  and creates an alias to syslog.service while activation now
  (bnc#788330).
- Dropped SYSLOG_REQUIRES_NETWORK, syslogd requires network.
- Updated documentation in syslog.8 manual page.
- Adopted logrotation and svcinfo files to use systemctl.
- Dropped /etc/init.d/syslog and earlysyslog init scripts,
  added /sbin/rcsyslog as compatibility forwarder to systemctl.
- Changed to install in /usr/sbin, compatibility link in /sbin.
- Changed to use _unitdir macro to install systemd unit files.

-------------------------------------------------------------------
Thu Oct 18 09:51:21 UTC 2012 - coolo@suse.com

- buildrequire systemd by pkgconfig provides to get systemd-mini
  in build environment (to break cycle)

-------------------------------------------------------------------
Wed Oct 17 13:33:09 UTC 2012 - werner@suse.de

- Avoid logrotate to exec for similar entries several times (bnc#713584) 

-------------------------------------------------------------------
Wed Mar  7 14:22:13 UTC 2012 - werner@suse.de

- Restart the syslog service only from post of the klogd package if
  the needed script is available (bnc#750478) Thanks to Lars Müller.
- Some cleanup due rpm lint warnings

-------------------------------------------------------------------
Tue Mar  6 12:33:27 UTC 2012 - werner@suse.de

- Add `su news news' to logrotate entry for news log file (bnc#750263) 

-------------------------------------------------------------------
Mon Feb 20 19:43:28 UTC 2012 - mt@suse.com

- Detect if we have to use the new /run/systemd/journal/syslog
  socket instead of the /dev/log under newer systemd versions.

-------------------------------------------------------------------
Mon Feb 20 12:25:12 UTC 2012 - mt@suse.com

- syslog-service: Added SYSLOG_REQUIRES_NETWORK variable allowing
  the user to configure (override) whether the syslog daemon config
  requires network or can be started early. Default is to detect
  it for syslogd and syslog-ng and to just start rsyslogd early
  with its normal config. Removed the rsyslog.early.conf use as it
  is usually not needed [enable on-disk queues] (bnc#728565).

-------------------------------------------------------------------
Fri Feb  3 16:31:30 UTC 2012 - werner@suse.de

- Do not use early configuration setup for networkless configuration
  (bnc #728565)

-------------------------------------------------------------------
Tue Nov 22 08:17:38 UTC 2011 - werner@suse.de

- Add pre requires for fillup and insserv to klogd package (bnc#731541) 

-------------------------------------------------------------------
Mon Nov  7 10:04:35 UTC 2011 - werner@suse.de

- Invert network/early logic for rsyslog (bnc#728565)

-------------------------------------------------------------------
Mon Oct 24 08:29:15 UTC 2011 - werner@suse.de

- Wrap touch command with correct umask (bnc#725875) 

-------------------------------------------------------------------
Fri Oct 21 09:15:14 UTC 2011 - werner@suse.de

- Help the bash by using TMPDIR=/run to avoid trouble with the
  temporary files used for here-documents (bnc#724610) 

-------------------------------------------------------------------
Tue Sep 20 08:38:55 UTC 2011 - werner@suse.de

- Add syslink to /dev/null for earlysyslog service unit to avoid
  to start it twice with systemd
- Do not disable SysV service links with systemd
- For syslog service unit add conflicts witjh syslog-ng and rsyslog
  service units

-------------------------------------------------------------------
Fri Sep  2 08:23:34 UTC 2011 - werner@suse.de

- Fix sysvinit boot script as klogd is not required anymore for
  rsyslogd and syslog-ng (bnc#715648)

-------------------------------------------------------------------
Thu Sep  1 11:41:23 UTC 2011 - werner@suse.de

- Opps, move /etc/sysconfig/syslogd -> /etc/sysconfig/syslog

-------------------------------------------------------------------
Wed Aug 24 11:24:09 UTC 2011 - mt@suse.de

- Improved syslog-service package summary

-------------------------------------------------------------------
Mon Aug 22 13:07:16 UTC 2011 - werner@suse.de

- Package split: klogd -> klogd + syslog-service because the
  service boot scripts and service unit files do belong to all
  system logger daemons.

-------------------------------------------------------------------
Mon Aug 22 11:10:10 UTC 2011 - werner@suse.de

- Check for klogd buitin service for syslog-ng and not syslogd
- Remove the klogd enable/disable service links if required 

-------------------------------------------------------------------
Fri Aug 19 12:32:29 UTC 2011 - werner@suse.de

- Make klogd.service and syslog.service static files and let
  systemd include syslog.core within syslog.service, only the
  syslog.core will be generated depending on /etc/sysconfig/syslog
- Do not touch the files as long as syslog.service or klogd.service
  are active 

-------------------------------------------------------------------
Wed Aug 17 15:45:58 UTC 2011 - werner@suse.de

- Add generator script for better support with systemd 

-------------------------------------------------------------------
Tue Jun 28 08:51:31 UTC 2011 - aj@suse.de

- Fix build - create ghost dir during install

-------------------------------------------------------------------
Mon Jun  6 13:11:31 UTC 2011 - mt@suse.de

- Disabled klogd in /etc/init.d/syslog, when the syslog-ng.conf
  config file reads /proc/kmsg directly.

-------------------------------------------------------------------
Fri May 27 11:47:47 UTC 2011 - lnussel@suse.de

- don't use /var/lock/subsys

-------------------------------------------------------------------
Fri May 27 07:53:38 UTC 2011 - mt@suse.de

- Removed touch of obsolete /var/log/boot.log from spec post.

-------------------------------------------------------------------
Thu Jan 20 09:37:15 UTC 2011 - mt@suse.de

- Improved systemd socket activation support to support multiple
  sockets and activation in forking mode (bnc#656104)

-------------------------------------------------------------------
Tue Nov 30 11:08:19 CET 2010 - werner@suse.de

- Make network a should have dependency of syslog service

-------------------------------------------------------------------
Fri Nov 26 17:29:37 CET 2010 - werner@suse.de

- Add systemd support that is that syslogd check for systemd log
  sockets (bnc#656104)

-------------------------------------------------------------------
Wed Sep 29 08:12:16 UTC 2010 - aj@suse.de

- Create /var/run/rsyslog in case it's on tmpfs.

-------------------------------------------------------------------
Wed Aug 11 13:40:55 UTC 2010 - puzel@novell.com

- logrotate.syslog: redirect output of postrotate script to 
  /dev/null (bnc#626318)

-------------------------------------------------------------------
Fri Jul 16 17:22:27 CEST 2010 - werner@suse.de

- Newer killproc sends only SIGTERM as required by LSB if -TERM is
  specified on the command line.  Use the default which is SIGTERM

-------------------------------------------------------------------
Tue May  4 15:58:23 CEST 2010 - pczanik@fang.fa.gau.hu

- modify /etc/init.d/syslog for syslog-ng
  for https://features.opensuse.org/303793 compliance

-------------------------------------------------------------------
Mon Apr 12 12:28:46 CEST 2010 - werner@suse.de

- Reformat boot script

-------------------------------------------------------------------
Wed Mar 31 20:47:31 CEST 2010 - pczanik@genesi-usa.com

- modify /etc/init.d/syslog for syslog-ng 3.X

-------------------------------------------------------------------
Mon Mar 29 16:48:18 CEST 2010 - werner@suse.de

- Do not lose signals during reseting signal flag (bnc#568150)

-------------------------------------------------------------------
Tue Jan 19 11:31:32 CET 2010 - werner@suse.de

- Forward read-only root file system patch from SLES11-SP1
- Correct time stamps of the patches

-------------------------------------------------------------------
Sun Dec 20 17:25:22 CET 2009 - jengelh@medozas.de

- enable parallel build

-------------------------------------------------------------------
Fri Dec 18 17:59:42 CET 2009 - agruen@suse.de

- Add read-only root filesystem support (fate#307235) using bind
  mounts.

-------------------------------------------------------------------
Tue Nov 24 17:16:07 UTC 2009 - crrodriguez@opensuse.org

- refresh patches again 

-------------------------------------------------------------------
Tue Nov  3 19:09:47 UTC 2009 - coolo@novell.com

- updated patches to apply with fuzz=0

-------------------------------------------------------------------
Wed Sep  9 21:47:47 CEST 2009 - mt@suse.de

- Added rsyslogd to the list of daemons in SYSLOG_DAEMON variable
  meta-data in sysconfig/syslog file, updated syslog.8 man page,
  improved rsyslogd native mode usage in the syslog init-script.

-------------------------------------------------------------------
Tue Aug 11 23:47:12 CEST 2009 - jeffm@suse.de

- klogd: Silence System.map and symbol lookup warnings on modern
  kernels (bnc#505421)

-------------------------------------------------------------------
Thu Oct 16 12:07:20 CEST 2008 - werner@suse.de

- Let's avoid currants in shell code of boot script (bnc#435525)

-------------------------------------------------------------------
Thu Oct  2 16:15:24 CEST 2008 - mt@suse.de

- Fixed start in /etc/init.d/syslog script to restart rsyslogd
  with correct config when running in early mode (bnc#431599),
  changed to use earlysyslog in runleves 2 and 3 as well.

-------------------------------------------------------------------
Wed Sep  3 14:29:46 CEST 2008 - mt@suse.de

- Added log files used by syslog-ng (and rsyslog) daemons to the
  /etc/logrotate.d/syslog file. Added logrotate to klogd requires.
- Added rsyslog support to the /etc/init.d/syslog and earlysyslog
  init scripts.

-------------------------------------------------------------------
Fri Aug 22 15:24:08 CEST 2008 - ro@suse.de

- remove deprecated options from fillup_and_insserv call 

-------------------------------------------------------------------
Wed Aug 13 11:03:28 CEST 2008 - werner@suse.de

- Fix boot script and use correct Stop tags

-------------------------------------------------------------------
Fri May 30 12:32:52 CEST 2008 - werner@suse.de

- No flock() as this seems to be broken in newer glibc (bnc#395114)
- No fortify, make sylog function of klogd private (bnc#395666)

-------------------------------------------------------------------
Wed May 28 12:15:37 CEST 2008 - werner@suse.de

- Be able to write errors on writing pid file to tty (bnc#394787)

-------------------------------------------------------------------
Tue May 20 16:56:47 CEST 2008 - mt@suse.de

- Added syslog(8) meta manual page to klogd package describing the
  syslog service (SYSLOG_DAEMON variable) handling (bnc#373960).

-------------------------------------------------------------------
Thu May  8 16:59:36 CEST 2008 - werner@suse.de

- Clean syslog boot script and replace mkfifo with mknod (bnc#382236)

-------------------------------------------------------------------
Thu Apr  3 11:08:30 CEST 2008 - mkoenig@suse.de

- readd removed defines for svcinfo path

-------------------------------------------------------------------
Tue Apr  1 16:10:22 CEST 2008 - mkoenig@suse.de

- remove dir /usr/share/omc/svcinfo.d as it is provided now
  by filesystem 

-------------------------------------------------------------------
Wed Mar 26 17:53:11 CET 2008 - werner@suse.de

- Do not exit within signal handlers
- Avoid race condition between fork() and signal handling
- Use setsid() only once

-------------------------------------------------------------------
Thu Jan 24 11:40:04 CET 2008 - werner@suse.de

- Add missing prerequirements (bug #355801)

-------------------------------------------------------------------
Thu Aug  9 17:19:05 CEST 2007 - olh@suse.de

- remove inclusion of asm/bitops.h

-------------------------------------------------------------------
Mon Jun 18 13:43:58 CEST 2007 - coolo@suse.de

- don't sleep during boot - and rather sync the logfile

-------------------------------------------------------------------
Mon May 14 13:36:34 CEST 2007 - mt@suse.de

- Bug #256671: Changed default value of SYSLOG_DAEMON variable in
  /etc/sysconfig/syslog to "" (autodetect), adopted description.
  Added check to init scripts, that sets SYSLOG_DAEMON variable
  to one of the currently installed daemons in case it is empty
  or not up-to-date. Added reset of the variable in rpm postun.

-------------------------------------------------------------------
Tue Jan  9 13:32:17 CET 2007 - mt@suse.de

- Changed to install syslog.xml to /usr/share/omc/svcinfo.d,
  fate #301833.

-------------------------------------------------------------------
Thu Jan  4 18:03:47 CET 2007 - mt@suse.de

- Added syslogd path to processInformation tag in syslog.xml and
  moved it to klogd file list; used by syslog-ng too (FATE #301833)
- Improved run-time switch from syslogd to syslog-ng (bug #166933)

-------------------------------------------------------------------
Mon Dec 11 14:04:50 CET 2006 - mskibbe@suse.de

- add service xml file 

-------------------------------------------------------------------
Wed Nov 15 14:19:14 CET 2006 - werner@suse.de

- Require rcnetwork due rcsyslog script does it (bug #214297)

-------------------------------------------------------------------
Wed Sep 13 13:10:09 CEST 2006 - mt@suse.de

- Feature #300891: Remove SuSEconfig dependency of syslog-ng
  * Adopted /etc/init.d/syslog script to append additional
    sockets using -a options for syslog-ng as well.

-------------------------------------------------------------------
Thu Aug 24 12:00:13 CEST 2006 - werner@suse.de

- Just use <linux/bitops.h> to to the same

-------------------------------------------------------------------
Fri Aug 18 15:12:58 CEST 2006 - aj@suse.de

- Fix build.

-------------------------------------------------------------------
Tue Jul 11 16:37:58 CEST 2006 - werner@suse.de

- Enable run-time switch from syslogd to syslog-ng (bug #166933)

-------------------------------------------------------------------
Mon May 22 20:52:39 CEST 2006 - schwab@suse.de

- Don't strip binaries.

-------------------------------------------------------------------
Wed Feb 15 13:49:55 CET 2006 - mt@suse.de

- Added log rotation for /var/log/news/news.* files

-------------------------------------------------------------------
Wed Feb  8 18:24:12 CET 2006 - werner@suse.de

- Prevent directly the fortified cpp macros of the system syslog
  function and revert the skip of _FORTIFY_SOURCE.
  
-------------------------------------------------------------------
Wed Feb  8 15:08:35 CET 2006 - werner@suse.de

- Skip _FORTIFY_SOURCE for klogd/syslogd to be able to use
  our own functions without any filter (bug #147363)

-------------------------------------------------------------------
Wed Jan 25 21:30:59 CET 2006 - mls@suse.de

- converted neededforbuild to BuildRequires

-------------------------------------------------------------------
Tue Dec 20 16:55:25 CET 2005 - ro@suse.de

- remove explicit requires for devs 

-------------------------------------------------------------------
Wed Oct  5 11:09:44 CEST 2005 - werner@suse.de

- Enable 64 bit file interface

-------------------------------------------------------------------
Thu Sep 29 03:15:27 CEST 2005 - dmueller@suse.de

- add norootforbuild

-------------------------------------------------------------------
Tue Sep 20 14:56:54 CEST 2005 - werner@suse.de

- Avoid broken function implementation by fortified header

-------------------------------------------------------------------
Mon Jul 25 17:49:56 CEST 2005 - mt@suse.de

- Bug #94743: Added note to the logrotate.syslog file about
  changing log file permissions in case syslog-ng is used.

-------------------------------------------------------------------
Fri Jun 17 14:15:40 CEST 2005 - werner@suse.de

- Use -fpie/-pie

-------------------------------------------------------------------
Tue May 24 11:36:47 CEST 2005 - werner@suse.de

- Fix of the priority and facility patch: do not pass SHOWPRI flag
  if no no facility and priority values are used (bug #85453).

-------------------------------------------------------------------
Tue Apr 19 09:05:38 CEST 2005 - aj@suse.de

- Fix messages.

-------------------------------------------------------------------
Wed Mar  9 11:43:50 CET 2005 - ro@suse.de

- added split-provides for klogd

-------------------------------------------------------------------
Tue Mar  8 18:25:27 CET 2005 - mt@suse.de

- Bug #71264: added stop_on_removal/restart_on_removal to
  the spec file, fixed try-restart action in the init script

-------------------------------------------------------------------
Mon Mar  7 18:04:40 CET 2005 - mt@suse.de

- Bug #71085: removed syslog requirement from klogd sub-package

-------------------------------------------------------------------
Fri Feb 11 18:41:03 CET 2005 - mt@suse.de

- fixed rpm post-install script to switch SYSLOG_DAEMON to
  ourself if it is set to a daemon that is not installed
  (happens if we replace a syslog-ng installed before)
- fixed init scripts to not to report failures on stop

-------------------------------------------------------------------
Fri Feb 11 15:53:41 CET 2005 - ro@suse.de

- split off klogd package
- provide "syslog" 

-------------------------------------------------------------------
Thu Jan 27 12:56:45 CET 2005 - werner@suse.de

- Add UTF8 compatibility (bug #49980)
- Make early syslog more smooth for e.g. rcsyslog restart

-------------------------------------------------------------------
Tue Jan 25 01:56:57 CET 2005 - ro@suse.de

- change klogd params from "-2" to "-x" by default 

-------------------------------------------------------------------
Thu Jan 20 17:23:55 CET 2005 - coolo@suse.de

- only skip syslog start when booting into init 5

-------------------------------------------------------------------
Mon Jan 10 18:00:20 CET 2005 - coolo@suse.de

- add an early syslog that is started before network and checks
  for hostnames in syslog.conf

-------------------------------------------------------------------
Thu Dec 16 17:10:39 CET 2004 - werner@suse.de

- Add preserve percents patch to fix bug #49228
- Be sure that recvfrom() is awaken by SIGALRM and SIGTERM

-------------------------------------------------------------------
Tue Nov 16 15:10:08 CET 2004 - werner@suse.de

- Quieten the build

-------------------------------------------------------------------
Fri Oct 15 15:39:51 CEST 2004 - werner@suse.de

- Add two patches from sgi (bug #46783)
  * Add logging on UNIX sockets
  * Add priority and facility marks in the log messages
 
-------------------------------------------------------------------
Thu Aug 19 17:50:32 CEST 2004 - od@suse.de

- removed creation of unused /dev/:[0-5]; GetDevices of
  xorg-x11.rpm uses /dev/tty0 to find the virtual terminal of a
  local X-server (#43931)

-------------------------------------------------------------------
Thu Jul 29 17:28:36 CEST 2004 - od@suse.de

- klogd now reads log buffer size from kernel. Falls back to
  probing as in dmesg (#39761).

-------------------------------------------------------------------
Tue May 18 14:21:16 CEST 2004 - werner@suse.de

- Correct last change

-------------------------------------------------------------------
Mon May 17 13:46:04 CEST 2004 - werner@suse.de

- No more symbol and EIP translation for 2.6 kernels (#40651)

-------------------------------------------------------------------
Mon Apr 19 13:59:14 CEST 2004 - werner@suse.de

- Fix syslogd argument list handling (fix from Solar Designer)

-------------------------------------------------------------------
Wed Mar 24 18:14:30 CET 2004 - werner@suse.de

- Be prepared for udev (bug #36671)

-------------------------------------------------------------------
Thu Jan 29 13:06:38 CET 2004 - werner@suse.de

- Enable sample-s390.conf also for s390x (aka zSeries?, bug #34153)

-------------------------------------------------------------------
Mon Sep 29 10:57:24 CEST 2003 - kukuk@suse.de

- Use SO_BSDCOMPAT only if defined

-------------------------------------------------------------------
Tue Sep 16 17:13:40 CEST 2003 - werner@suse.de

- Clean last klogd24.dif

-------------------------------------------------------------------
Tue Sep  9 18:54:37 CEST 2003 - werner@suse.de

- Is there a 128bit lseek around? Use some workarounds to get lseek
  working above LONG_MAX on x86_64 on /dev/kmem (kernel bug?)

-------------------------------------------------------------------
Mon Sep  8 21:30:54 CEST 2003 - werner@suse.de

- Use special seek routine for signless addresses, fixes
  crash on i386.

-------------------------------------------------------------------
Wed Sep  3 12:21:06 CEST 2003 - werner@suse.de

- Change symbol addresses to __off64_t and sizes to size_t (#28639)

-------------------------------------------------------------------
Tue Aug 26 15:36:25 CEST 2003 - mt@suse.de

- bug #28949: added new 'Config' meta data to sysconfig file
- bug #27971: reconnect to log socket if a write fails with
  ECONNREFUSED or ENOTCONN, e.g. if the log socket has been
  reopened by "rcsyslog reload" while syslog-ng is used.
  new patch file: sysklogd-1.4.1-reopen.patch

-------------------------------------------------------------------
Fri Aug 15 15:26:15 CEST 2003 - kukuk@suse.de

- Add devs to PreReq and don't create xconsole device itself

-------------------------------------------------------------------
Thu Aug  7 12:56:48 CEST 2003 - werner@suse.de

- Change permissions of mail log files (bug #28561)

-------------------------------------------------------------------
Mon Jul 28 14:55:54 CEST 2003 - werner@suse.de

- Fix trivial bug #27072: use warning instead of warn

-------------------------------------------------------------------
Fri Jul 25 09:44:36 CEST 2003 - schwab@suse.de

- Fix uses of chown in %post script.

-------------------------------------------------------------------
Fri Jul 18 17:49:30 CEST 2003 - werner@suse.de

- Add DNS timeout patch from Olaf Kirch

-------------------------------------------------------------------
Tue May 20 15:43:49 CEST 2003 - werner@suse.de

- Use large file support, gnore signal SIGXFSZ (bug #26960)

-------------------------------------------------------------------
Wed May 14 14:35:38 CEST 2003 - kukuk@suse.de

- Fix klogd to build independend of installed kernel headers. klogd
  still does not work with 2.5.xx correct.

-------------------------------------------------------------------
Wed Apr 16 10:59:07 CEST 2003 - coolo@suse.de

- fixing s390 build

-------------------------------------------------------------------
Wed Apr 16 09:36:28 CEST 2003 - coolo@suse.de

- use BuildRoot

-------------------------------------------------------------------
Mon Feb 24 18:06:09 CET 2003 - schwab@suse.de

- Add workaround for use of kernel headers.

-------------------------------------------------------------------
Fri Jan 31 12:37:46 CET 2003 - werner@suse.de

- Add some code for supporting syslog-ng
- Split off boot script and sysconfig file from patch

-------------------------------------------------------------------
Wed Jan  8 13:13:46 CET 2003 - werner@suse.de

- bug #22695: add missed meta data within sysconfig file
- bug #22551: do not let read any user /var/log/messages

-------------------------------------------------------------------
Wed Dec 11 15:39:58 CET 2002 - werner@suse.de

- New log files for sorting priorities of mail messages (# 22394)

-------------------------------------------------------------------
Tue Nov  5 14:12:02 CET 2002 - ro@suse.de

- fillup/sysconfig.syslog: set kernel loglevel to 7 on s390/s390x 

-------------------------------------------------------------------
Mon Oct 14 11:22:53 CEST 2002 - ro@suse.de

- moved logrotate config for syslog's files to this package
- changed create to 640 for /var/log/mail (#20816) 

-------------------------------------------------------------------
Mon Oct  7 15:21:57 CEST 2002 - olh@suse.de

- honor the increased LOG_BUF_LEN in kernel/printk.c (#19888)
  LOG_BUFFER_SIZE=131072

-------------------------------------------------------------------
Tue Sep 10 09:18:32 CEST 2002 - olh@suse.de

- provides syslog for hotplug

-------------------------------------------------------------------
Wed Aug 28 05:52:53 CEST 2002 - nashif@suse.de

- fixed PreReq to use macros

-------------------------------------------------------------------
Fri Aug 23 15:02:41 CEST 2002 - werner@suse.de

- Enable the `-2' of klogd option for clean and untraced oops.

-------------------------------------------------------------------
Fri Aug 16 14:16:53 CEST 2002 - werner@suse.de

- Add PreReq (bug #18004)
- Change order of main and ipv6 patch

-------------------------------------------------------------------
Fri Aug  2 13:08:40 CEST 2002 - kukuk@suse.de

- Add patch to enable IPv6 support (based on the USAGI version
  plus some fixes for IPv4 only).

-------------------------------------------------------------------
Wed Jul 17 17:52:03 CEST 2002 - poeml@suse.de

- run with additional sockets from SYSLOGD_ADDITIONAL_SOCKET_* that
  other packages can fill up into /etc/sysconfig/syslog

-------------------------------------------------------------------
Mon Mar  4 18:12:58 CET 2002 - zoz@suse.de

- Change Required from $network to network

-------------------------------------------------------------------
Mon Mar  4 10:51:59 CET 2002 - ro@suse.de

- postinstall-script: disable perl-hack (-p for fillup_and_insserv)
- no extra insserv call

-------------------------------------------------------------------
Thu Feb 14 16:29:42 CET 2002 - werner@suse.de

- Fix the bug fix

-------------------------------------------------------------------
Thu Feb 14 14:24:53 CET 2002 - werner@suse.de

- Fix bug #12747: move to fillup_and_insserv and sysconfig scheme

-------------------------------------------------------------------
Wed Sep 19 23:32:38 CEST 2001 - ro@suse.de

- fixed typo in rc_script SYSLOGD_PARAM -> SYSLOGD_PARAMS (#10950)

-------------------------------------------------------------------
Thu Aug 30 14:13:03 CEST 2001 - werner@suse.de

- Fix bug #9096
- Make TAB a printable character

-------------------------------------------------------------------
Fri Jun 15 18:17:19 CEST 2001 - schwab@suse.de

- Don't define __KERNEL__.

-------------------------------------------------------------------
Tue May 29 13:41:43 CEST 2001 - werner@suse.de

- Update to version 1.4.1
- Porting our patches to this version

-------------------------------------------------------------------
Fri Apr 27 16:35:07 MEST 2001 - mt@suse.de

- added syslog-ng hook in init script

-------------------------------------------------------------------
Tue Apr 17 13:54:31 CEST 2001 - werner@suse.de

- Avoid zero bytes from kernel messages

-------------------------------------------------------------------
Thu Jan 11 13:01:54 CET 2001 - werner@suse.de

- Correct deep or relative symlink rcsyslog

-------------------------------------------------------------------
Thu Jan 11 12:29:39 CET 2001 - werner@suse.de

- Move syslogd and klogd to /sbin
- Change Required from $remote_fs to $network

-------------------------------------------------------------------
Thu Dec  7 15:09:21 CET 2000 - werner@suse.de

- Change boot.log to localmessages and add local0 upto local7

-------------------------------------------------------------------
Mon Dec  4 01:15:13 CET 2000 - ro@suse.de

- added var/log/boot.log 

-------------------------------------------------------------------
Tue Nov 28 18:08:50 CET 2000 - ro@suse.de

- fixed startscript 

-------------------------------------------------------------------
Mon Nov 13 10:01:09 CET 2000 - ro@suse.de

- fixed to compile on 2.4 kernel header 

-------------------------------------------------------------------
Tue Oct 17 23:28:08 GMT 2000 - bk@suse.de

- add sample-s390.conf for s390.

-------------------------------------------------------------------
Thu Sep 14 12:42:23 CEST 2000 - werner@suse.de

- Fix format handling within Syslog()

-------------------------------------------------------------------
Wed Sep 13 19:11:56 CEST 2000 - werner@suse.de

- Fix the two printline bugs in syslogd.c

-------------------------------------------------------------------
Tue Sep 12 20:00:25 CEST 2000 - werner@suse.de

- Fix missed format

-------------------------------------------------------------------
Wed May 24 18:59:09 CEST 2000 - schwab@suse.de

- Fix resource leak.

-------------------------------------------------------------------
Tue Feb 29 16:25:48 CET 2000 - schwab@suse.de

- Fix type of last arg to recvfrom 
- Add group tag.

-------------------------------------------------------------------
Sun Feb 27 16:06:31 CET 2000 - kukuk@suse.de

- Move /usr/man -> /usr/share/man

-------------------------------------------------------------------
Fri Feb 11 22:47:05 CET 2000 - werner@suse.de

- The pid file is /var/run/syslogd.pid not /var/run/syslogd.conf

-------------------------------------------------------------------
Wed Nov 17 17:33:11 MET 1999 - kukuk@suse.de

- Add fix to syslogd for SIGHUP race condition

-------------------------------------------------------------------
Thu Nov  4 18:06:17 CET 1999 - werner@suse.de

- next typo fix in comment in /etc/syslogd.conf

-------------------------------------------------------------------
Thu Nov  4 14:49:18 CET 1999 - bs@suse.de

- typo fix in comment in /etc/syslogd.conf

-------------------------------------------------------------------
Tue Oct 26 15:44:21 MEST 1999 - mge@suse.de

- (sysklogd-1.3-forw.patch) Andreas Siegert <afx@suse.de>
  Added -t flag that triggers tagging of forwarded messages with 
  the sending hosts name as seen by the forwarder. Useful for 
  relaying syslog from DMZs through the firwall to an internal 
  loghost. Format is "<""hostname"

-------------------------------------------------------------------
Fri Oct  8 19:33:39 CEST 1999 - werner@suse.de

- New version 1.3.33

-------------------------------------------------------------------
Fri Oct  1 00:04:39 CEST 1999 - werner@suse.de

- Udatet version of nodos patch

-------------------------------------------------------------------
Fri Sep 24 20:25:12 CEST 1999 - werner@suse.de

- Disable *.alert message on root tty's

-------------------------------------------------------------------
Mon Sep 13 17:23:57 CEST 1999 - bs@suse.de

- ran old prepare_spec on spec file to switch to new prepare_spec.

-------------------------------------------------------------------
Fri Sep 10 12:38:54 CEST 1999 - ro@suse.de

- fixed nodos patch 

------------------------------------------------------------------
Mon Sep  6 23:59:48 CEST 1999 - werner@suse.de

- Avoid possible crash if no kernel symbols are available.

------------------------------------------------------------------
Fri Sep  3 23:47:54 CEST 1999 - werner@suse.de

- Update to new version 1.3.32
- Add sparc patch
- Add security patch (DOS)
- Make it work with alpha (time_t and size_t)
- wallmsg() only for user processes marked in utmp
- The last character of al kernel log is ascii null
- Lock fd of the socket to the syslogd

------------------------------------------------------------------
Thu Sep  2 20:56:28 CEST 1999 - werner@suse.de

- Use RPM_OPT_FLAGS
- Use a pipe to redirect console message to xconsole
- Make reading of ring buffer an (undocumented) option (-r
  reading, -R reading and clearing, both one shot)

------------------------------------------------------------------
Tue Aug 31 22:07:43 CEST 1999 - werner@suse.de

- Use 16k buffer because newer kernels do have such a big log
- Avoid trouble due longjmp and fork with a few variables

------------------------------------------------------------------
Tue Aug 31 18:37:38 CEST 1999 - werner@suse.de

- Use sysctl argument 3 (Read up to the last 4k of messages in the
  ring buffer) instead of 2 (Read from the log) if one shot method
  for klogd is used.

-------------------------------------------------------------------
Sat Aug 21 14:36:16 CEST 1999 - garloff@suse.de

- syslog.conf: Only write *.crit synchronously

-------------------------------------------------------------------
Fri Jan  8 12:15:35 MET 1999 - florian@suse.de

- /var/log/news should be owned by news.news

-------------------------------------------------------------------
Thu Jan  7 11:54:34 MET 1999 - bs@suse.de

- fixed comment in syslog.conf

-------------------------------------------------------------------
Mon Dec 14 23:02:34 MET 1998 - ro@suse.de

- removed noreplace from syslogd.conf: necessary change for news-logs

-------------------------------------------------------------------
Fri Dec 11 15:41:32 MET 1998 - ro@suse.de

- split up news logs

-------------------------------------------------------------------
Wed Dec  9 15:40:56 MET 1998 - ro@suse.de

- changed syslog.conf to back to suse-defaults

-------------------------------------------------------------------
Tue Dec  8 18:06:02 MET 1998 - ro@suse.de

- updated init script and added link rcsyslog

-------------------------------------------------------------------
Mon Dec  7 10:29:41 MET 1998 - ro@suse.de

- update to 1.3-30
- syslog.conf marked as config(noreplace)

-------------------------------------------------------------------
Fri Dec  4 19:38:07 MET 1998 - ro@suse.de

- bootscript: silently restart if already running on "start"

-------------------------------------------------------------------
Wed Dec  2 21:36:47 MET 1998 - werner@suse.de

- New boot script syslog

-------------------------------------------------------------------
Mon Jun 22 16:07:39 MEST 1998 - ro@suse.de

- used patches from trevor@jpj.net to build for glibc:
 - renamed syslogd's dprintf to syslog_dprintf
 - don't declare sys_errlist
 - use sys/time.h instead of linux/time.h

-------------------------------------------------------------------
Tue Mar 10 15:54:17 MET 1998 - ro@suse.de

- react if KERNEL_LOGLEVEL=""
- added SYSLOGD_PARAMS

-------------------------------------------------------------------
Tue Mar 10 13:17:56 MET 1998 - ro@suse.de

- added KERNEL_LOGLEVEL to fillup for rc.config and rcfile

-------------------------------------------------------------------
Fri Feb 27 14:45:49 MET 1998 - florian@suse.de

- removed duplicate entry for news messages in syslog.conf

-------------------------------------------------------------------
Wed Oct 22 16:54:10 MEST 1997 - ro@suse.de

- removed doinst.sh from specfile-filelist


----------------------------------------------------------------------------
Sun Jun  1 17:06:19 CEST 1997 - bs@suse.de

- don't include log files under var/log but touch them in doinst.sh

----------------------------------------------------------------------------
Thu May 29 14:13:25 CEST 1997 - bs@suse.de

- cleared var/log/warn


----------------------------------------------------------------------------
Wed Apr 30 15:57:14 CEST 1997 - florian@suse.de


- add lots of fixes from debian and other places

- new /etc/syslog.conf: mail/news messages are in separate files


----------------------------------------------------------------------------
Wed Apr 30 11:51:45 CEST 1997 - bs@suse.de

added & when starting syslogd.


----------------------------------------------------------------------------
Sat Nov 16 13:50:50 CET 1996 - bs@suse.de


runlevel value changed to S09 and K35

----------------------------------------------------------------------------
Thu Oct 17 16:05:09 CEST 1996 - florian@suse.de


- klogd liest jetzt wieder die System.map ein.

- Neue Option "-x", mit der man das Lesen der System.map
  abschalten kann.

- Start- und Stop-Scripte sind jetzt im Paket und nicht mehr in
  aaa_base.tgz.
