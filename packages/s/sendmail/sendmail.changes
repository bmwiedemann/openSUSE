-------------------------------------------------------------------
Wed Dec 28 16:41:20 UTC 2022 - Stefan Schubert <schubi@suse.com>

- Migration of PAM settings to /usr/lib/pam.d.

-------------------------------------------------------------------
Tue Oct 25 09:32:15 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Remove maybe perilous shell script code from sm-client.pre (boo#1202937) 

-------------------------------------------------------------------
Wed Oct  5 12:16:22 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Use group(mail) and user(mail) only on modern distributions

-------------------------------------------------------------------
Fri Sep 16 14:06:55 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Do not start sendmail-client as user mail as this one is not
  allowed to check port smtp aka 25
- Fix sm-client.pre script as ports are not only numbers but
  also alias names 

-------------------------------------------------------------------
Fri Sep 16 13:26:12 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Rework system service unit files
  * sendmail-client now use user and group mail which requires
  * /etc/mail/system/ becomes readable by all users e.g. mail
  * sendmail now uses -bD to avoid a fork, this requires Type=exec 
- Various bug fixes
- Require user and group mail for post and verify scriptlets
- Add a %ghost for /run/sendmail whic his created by
  tmpfile systemd configuration of sendmail

-------------------------------------------------------------------
Tue Sep  6 09:12:58 UTC 2022 - Ludwig Nussel <lnussel@suse.de>

- Own /var/spool/mail (boo#1179574)

-------------------------------------------------------------------
Thu Jul 14 08:23:00 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Avoid older alias.db
- Avoid that sendmail can not write its pid file 
- Allow sendmail and its helper like maildrop and procmail
  to write into the users mail folder

-------------------------------------------------------------------
Tue Feb  1 14:31:18 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Allow mail delivery below /home again, that is disable
  "ProtectHome=read-only" for now

-------------------------------------------------------------------
Tue Jan 25 10:10:35 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- No snapshots

-------------------------------------------------------------------
Tue Jan 18 09:34:48 UTC 2022 - Dr. Werner Fink <werner@suse.de>

- Update to final version sendmail 8.17.1
  * Several potential memory leaks and other similar problems
    (mostly in error handling code) have been fixed.
     Problems reported by Tomas Korbar of RedHat.
- Port patches to new version
  * sendmail-8.14.7-select.dif
  * sendmail-8.17.1.dif

-------------------------------------------------------------------
Tue Nov 16 15:35:19 UTC 2021 - Johannes Segitz <jsegitz@suse.com>

- Added hardening to systemd service(s) (bsc#1181400). Modified:
  * sendmail-client.service
  * sendmail.service

-------------------------------------------------------------------
Tue Jul  6 14:47:19 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Require libopenssl-1_1-devel on older SLE-11 

-------------------------------------------------------------------
Thu Jul  1 10:59:08 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Re-add 'sysvinit(network)' build dependency 

-------------------------------------------------------------------
Tue Jun 29 09:36:04 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Use %set_permissions on path /var/spool/clientmqueue/ as well (boo#1187809) 

-------------------------------------------------------------------
Fri Jun 25 09:44:58 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Update to pre version sendmail 8.17.1 (8.17.0.3) (boo#1187688)
  * Deprecation notice: due to compatibility problems with some
    third party code, we plan to finally switch from K&R
    to ANSI C. If you are using sendmail on a system
    which does not have a compiler for ANSI C contact us
    with details as soon as possible so we can determine
    how to proceed.
  * Experimental support for SMTPUTF8 (EAI, see RFC 6530-6533)
    is available when using the compile time option USE_EAI
    (see also devtools/Site/site.config.m4.sample for other
    required settings) and the cf option SMTPUTF8.
    If a mail submission via the command line requires
    the use of SMTPUTF8, e.g., because a header uses UTF-8
    encoding, but the addresses on the command line are all
    ASCII, then the new option -U must be used, and
    the cf option SMTPUTF8 must be set in submit.cf.
    Please test and provide feedback.
  * Experimental support for SMTP MTA Strict Transport Security
    (MTA-STS, see RFC 8461) is available when using
    - the compile time option _FFR_MTA_STS (which requires
      STARTTLS, MAP_REGEX, SOCKETMAP, and _FFR_TLS_ALTNAMES),
    - FEATURE(sts), which implicitly sets the cf option
      StrictTransportSecurity,
    - postfix-mta-sts-resolver, see
    https://github.com/Snawoot/postfix-mta-sts-resolver.git
  * New ruleset check_other which is called for all unknown SMTP
    commands in the server and for commands which do not
    have specific rulesets, e.g., NOOP and VERB.
  * New ruleset clt_features which can be used to select features
    in the SMTP client per server.  Currently only two
    flags are available: D/M to disable DANE/MTA-STS,
    respectively.
  * Avoid leaking session macros for an envelope between
    delivery attempts to different servers.  This problem
    could have affected check_compat.
  * Avoid leaking actual SMTP replies between delivery attempts
    to different servers which could cause bogus logging
    of reply= entries.
  * Change default SMTP reply code for STARTTLS related problems
    from 403 to 454 to better match the RFCs.
  * Fix a theoretical buffer overflow when encountering an
    unknown/unsupported socket address family on an
    operating system where sa_data is larger than 30
    (the standard is 14).  Based on patch by Toomas Soome.
  * Previously the commands GET, POST, CONNECT, or USER terminate
    a connection immediately only if sent as first command.
    Now this is also done if any of these is sent directly
    after STARTTLS or if the 'h' option is set via
    srv_features.
  * CDB map locking has been changed so a sendmail process which
    does have a CDB map open does not block an in-place
    update of the map by makemap.  The simple workaround
    for that problem in earlier versions is to create
    the map under a different name and then move it
    into place.
  * CONFIG: New FEATURE(`check_other') to provide a default
    check_other ruleset.
  * CONFIG: FEATURE(`tls_failures') is deprecated and will be
    removed in future versions because it has a fundamental
    problem: it is message oriented but STARTTLS is
    session oriented.  For example, having multiple
    RCPTs in one envelope for different destinations,
    with different temporary errors, does not work
    properly, as the persistent macro applies to all
    RCPTs and hence implicitly to all destinations (servers).
    The option TLSFallbacktoClear should be used if needed.
  * MAIL.LOCAL: Enhance some error messages to simplify
    troubleshooting.
  * Portability:
    Add support for Darwin 19 & 20.
    NOTE: File locking using fcntl() does not interoperate
      with Berkeley DB 5.x (and probably later).  Use
      CDB, flock() (-DHASFLOCK), or an earlier Berkeley
      DB version.  Problem noted by Harald Hannelius.
  * New Files:
    cf/feature/check_other.m4
    cf/feature/sts.m4
    devtools/OS/Darwin.19.x
    devtools/OS/Darwin.20.x
    include/sm/ixlen.h
    libsm/ilenx.c
    libsm/lowercase.c
    libsm/strcaseeq.c
    libsm/t-ixlen.c
    libsm/t-ixlen.sh
    libsm/t-streq.c
    libsm/t-streq.sh
    libsm/utf8_valid.c
    libsm/uxtext_unquote.c
    libsm/xleni.c
    libsmutil/t-lockfile.c
    libsmutil/t-lockfile-0.sh
    libsmutil/t-maplock-0.sh
  * New compile time option NO_EOH_FIELDS to disable the special
    meaning of the headers Message: and Text: to denote the
    end of the message header.
  * CONTRIB: AuthRealm.p0 has been modified for 8.16.1 by Anne Bennett.
  * CONTRIB: Added cidrexpand -O option for suppressing duplicates from
    a CIDR expansion that overlaps a later entry and -S option
    for skipping comments exactly like makemap does.
  * Portability:
    Add support for Darwin 19 (Mac OS X 10.15).
    Use proper FreeBSD version define to allow for cross
    compiling.  Fix from Brooks Davis of the FreeBSD
    project.
  * New Files:
    devtools/OS/Darwin.19.x
- Modify patches
  * sendmail-8.14.7-select.dif
  * sendmail-fd-passing-libmilter.patch
- Modify and renama patch sendmail-8.16.1.dif which is now sendmail-8.17.1.dif
- Enable experimental support for SMTPUTF8 as well
  SMTP MTA Strict Transport Security
- Update keyring
- Make it build for older products as well

-------------------------------------------------------------------
Fri Jun  4 12:45:51 UTC 2021 - Callum Farmer <gmbr3@opensuse.org>

- sendmail-suse.tar.bz2: don't set /var/spool/mail perms, it is
  part of filesystem

-------------------------------------------------------------------
Fri May 28 13:28:07 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- sendmail-suse.tar.bz2: add file tmpfile which will be installed
  in tmpfiles.d as sendmail.conf.  With this /run/sendmail will
  be created at boot.
- Fix locations in permissions files to fit _libexecdir change (boo#1186592)

-------------------------------------------------------------------
Thu May 27 08:26:42 UTC 2021 - Matthias Gerstner <matthias.gerstner@suse.com>

- sendmail-suse.tar.bz2: add trailing slash to permissions entries for
  /var/spool/mail, because it is a directory and `chkstat` expects trailing
  slashes for directories.

-------------------------------------------------------------------
Sun May 16 14:08:29 UTC 2021 - Callum Farmer <gmbr3@opensuse.org>

- Remove /var/mail to /var/spool/mail patch

-------------------------------------------------------------------
Tue Mar 23 16:04:45 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Make IPv6 work even with IPv4 in parallel 

-------------------------------------------------------------------
Tue Feb  9 08:24:10 UTC 2021 - Dominique Leuenberger <dimstar@opensuse.org>

- Fix up build dependencies. The construct:
    %%if %%{undefined systemd_requires}\n%%global with_sysvinit 1
  does not work as intended. The OBS scheduler for example does not
  have all the macros coming from 'random' rpmmacro files/packages
  (systemd-rpm-macros in this case) present, as such for OBS,
  systemd_requires is undefined, which in turn pulls in
  insserv_prereq. The build itself then does not use it though, as
  at this time, the correct macros are known (inside the build VM).
- As we're at it: replace systemd_requires with systemd_ordering:
  people installing sendmail into a container do not require
  systemd as a dependency there. But for people installing sendmail
  in a transaction together with systemd, we prefer systemd to be
  installed first.

-------------------------------------------------------------------
Fri Jan 29 10:46:23 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Correct path of update script for older products/distributions

-------------------------------------------------------------------
Wed Jan 27 14:18:48 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Add qtool perl script from contrib as this is very handy
- Make GLIBC_VERSION macro work again

-------------------------------------------------------------------
Wed Jan 27 09:21:03 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Move SMTPD_LISTEN_REMOTE hack into valid code of update script
- Change location of update script in fillup/sysconfig files

-------------------------------------------------------------------
Tue Jan 26 18:32:51 UTC 2021 - Dr. Werner Fink <werner@suse.de>

- Add better support for IPv6
- Fix bug in udage of fillup_only macro to get sysconfig file for
  sendmail written by fillup 

-------------------------------------------------------------------
Tue Oct 27 14:38:07 UTC 2020 - Matthias Gerstner <matthias.gerstner@suse.com>

- cleanup the sendmail permissions profile:
  - /var/run/sendmail was last used in SLE-11 with systemv init, is no longer
    required.
  - /var/spool/clientmqueue is now owned by the system-user-mail package.
    Nobody is calling %set_permissions and %verify_permissions on this
    directory anymore, therefore the permissions entry is useless.
  - /var/spool/mail is the same for all permissions profiles and also managed
    by systemd-tmpfiles via the filesystem package (fs-var.conf).

-------------------------------------------------------------------
Thu Oct  8 07:58:21 UTC 2020 - Matthias Gerstner <matthias.gerstner@suse.com>

- adjust permissions.d entries to new %libexedir location (bsc#1171164).

-------------------------------------------------------------------
Tue Jul 28 11:20:52 UTC 2020 - Dr. Werner Fink <werner@suse.de>

- Fix same strange permissions below /usr/share/sendmail 

-------------------------------------------------------------------
Tue Jul 28 07:54:33 UTC 2020 - Dr. Werner Fink <werner@suse.de>

- Update to sendmail 8.16.1 2020/07/05 (boo#1174572)
   SECURITY: If sendmail tried to reuse an SMTP session which had
           already been closed by the server, then the connection
           cache could have invalid information about the session.
           One possible consequence was that STARTTLS was not
           used even if offered.  This problem has been fixed
           by clearing out all relevant status information
           when a closed session is encountered.
   OpenSSL versions before 0.9.8 are no longer supported.
   OpenSSL version 1.1.0 and 1.1.1 are supported.
   Initial support for DANE (see RFC 7672 et.al.) is available if
           the compile time option DANE is set.  Only TLSA RR 3-1-x
           is currently implemented.
   New options SSLEngine and SSLEnginePath to support OpenSSL engines.
           Note: this feature has so far only been tested with the
           "chil" engine; please report problems with other engines
           if you encounter any.
   New option CRLPath to specify a directory which contains
           hashes pointing to certificate revocations files.
           Based on patch from Al Smith.
   New rulesets tls_srv_features and tls_clt_features which
           can return a (semicolon separated) list of TLS related
           options, e.g., CipherList, CertFile, KeyFile,
           see doc/op/op.me for details.
   To automatically handle TLS interoperability problems for outgoing
           mail, sendmail can now immediately try a connection again
           without STARTTLS after a TLS handshake failure.
           This can be configured globally via the option
           TLSFallbacktoClear or per session via the 'C' flag
           of tls_clt_features.
           This also adds the new value "CLEAR" for the macro
           {verify}: STARTTLS has been disabled internally for
           a clear text delivery attempt.
   Apply Timeout.starttls also to the server waiting for the TLS
           handshake to begin.  Based on patch from Simon Hradecky.
   New compile time option TLS_EC to enable the use of elliptic
           curve cryptography in STARTTLS (previously available as
           _FFR_TLS_EC).
   Handle MIME boundaries specified in headers which contain CRLF.
   Fix detection of loopback net (it was broken when compiled
           with NETINET6) and only set the macros {if_addr_out}
           and {if_family_out} if the interface of the outgoing
           connection does not belong to the loopback net.
   Fix logic to enable a milter to delete a recipient in
           DeliveryMode=interactive even if it might be subject
           to alias expansion.
   Log name of a milter making changes (this was missing for
           some functions).
   Log the actual reply of a server when an SMTP delivery problem
           occurs in a "reply=" field if possible.
   Log user= for failed AUTH attempts if possible.  Based on
           patch from Packet Hack, Jim Hranicky, Kevin A. McGrail,
           and Joe Quinn.
   Add CDB as map type. Note: CDB is a "Constant DataBase", i.e.,
           no changes can be made after it is created, hence it
           does not work with vacation(1) nor editmap(8) (except
           for query mode).
   Fix some memory leaks (mostly in error cases) and properly handle
           copied varargs in sm_io_vfprintf(). The issues were found
           using Coverity Scan and reported (including patches) by
           Ondřej Lysoněk of Red Hat.
   Do not override ServerSSLOptions and ClientSSLOptions when they
           are specified on the command line.  Based on patch from
           Hiroki Sato.
   Add RFC7505 Null MX support for domains that declare they do not
           accept mail.
   New compile time option LDAP_NETWORK_TIMEOUT which is set
           automatically when LDAPMAP is used and
           LDAP_OPT_NETWORK_TIMEOUT is available to enable the
           new -c option for LDAP maps to specify the network timeout.
   CONFIG: New FEATURE(`tls_session_features') to enable standard
           rules for tls_srv_features and tls_clt_features; for
           details see cf/README.
   CONFIG: New options confSSL_ENGINE and confSSL_ENGINE_PATH
           for SSLEngine and SSLEnginePath, respectively.
   CONFIG: New options confDANE to enable DANE support.
   CONFIG: New option confTLS_FALLBACK_TO_CLEAR for TLSFallbacktoClear.
   CONFIG: New extension CITag: for TLS restrictions, see cf/README
           for details.
   CONFIG: FEATURE(`blacklist_recipients') renamed to
           FEATURE(`blocklist_recipients').
   CONTRIB: cidrexpand updated to support IPv6 CIDR ranges and to
           canonicalize IPv6 addresses; if cidrexpand is used with IPv6
           addresses then UseCompressedIPv6Addresses must be disabled.
   DOC: The dns map can return multiple values in a single result
           if the -z option is used.
   DOC: Note to set MustQuoteChars=. due to DKIM signatures.
   LIBMILTER: Fix typo in a macro. Patch from Ignacio Goyret
           of Alcatel-Lucent.
   LIBMILTER: Fix reference in xxfi_negotiate documentation.
           Patch from Sven Neuhaus.
   LIBMILTER: Fix function name in smfi_addrcpt_par documentation.
           Patch from G.W. Haywood.
   LIBMILTER: Fix a potential memory leak in smfi_setsymlist().
           Patch from Martin Svec.
   MAKEMAP: New map type "implicit" refers to the first available type,
           i.e., it depends on the compile time options NEWDB, DBM,
           and CDB. This can be used in conjunction with the
           "implicit" map type in sendmail.cf.
           Note: makemap, libsmdb, and sendmail must be compiled
           with the same options (and library versions of course).
   Portability:
           Add support for Darwin 14-18 (Mac OS X 10.x).
           New option HAS_GETHOSTBYNAME2: set if your system
           supports gethostbyname2(2).
           Set SM_CONF_SEM=2 for FreeBSD 12 and later due to
           changes in sys/sem.h
           On Linux set MAXHOSTNAMELEN (the maximum length
           of a FQHN) to 256 if it is less than that value.
   Added Files:
           cf/feature/blocklist_recipients.m4
           cf/feature/tls_failures.m4
           devtools/OS/Darwin.14.x
           devtools/OS/Darwin.15.x
           devtools/OS/Darwin.16.x
           libsmdb/smcdb.c
           sendmail/ratectrl.h
- Add upstream keyring and verify source signature
- Use DANE and TLS_EC
- Remove obsolete patches now solved upstream
  * 8.15.2.mci.p0
  * sendmail-8.15.2-glibc-2.30.patch
  * sendmail-8.15.2-openssl-1.1.0-ecdhe-fix.patch
  * sendmail-8.15.2-openssl-1.1.0-fix.patch
- Port patches
  * sendmail-8.14.7-select.dif
  * sendmail-fd-passing-libmilter.patch
- Port and rename patch sendmail-8.15.2.dif which is now sendmail-8.16.1.dif

-------------------------------------------------------------------
Tue Jun 23 20:19:45 UTC 2020 - Callum Farmer <callumjfarmer13@gmail.com>

- Fixes for %_libexecdir changing to /usr/libexec
- Spec file cleanups

-------------------------------------------------------------------
Wed Jun 10 13:24:21 UTC 2020 - Matthias Gerstner <matthias.gerstner@suse.com>

- sendmail-suse.tar.bz2: fix rpmlint warning W: permissions-dir-without-slash
  for /var/spool/clientmqueue. This wasn't noticed before, because the
  directory is not packaged by sendmail but by system-user-mail.

-------------------------------------------------------------------
Thu Jan 30 10:36:21 UTC 2020 - Dr. Werner Fink <werner@suse.de>

- Add upstream patch 8.15.2.mci.p0 (boo#1164084)
  * If sendmail tried to reuse an SMTP session which had already been
    closed by the server, then the connection cache could have invalid
    information about the session.  One possible consequence was that
    STARTTLS was not used even if offered. 

-------------------------------------------------------------------
Thu Dec 19 14:47:17 UTC 2019 - Dominique Leuenberger <dimstar@opensuse.org>

- BuildRequire pkgconfig(libsystemd) instead of systemd-devel:
  Allow OBS to shortcut through the -mini flavors.

-------------------------------------------------------------------
Mon Oct 14 10:25:24 UTC 2019 - Dr. Werner Fink <werner@suse.de>

- Avoid recursion trouble in spec file cause by undefined _lto_cflags 

-------------------------------------------------------------------
Sat Sep 28 07:32:14 UTC 2019 - Dr. Werner Fink <werner@suse.de>

- Add patch sendmail-8.15.2-glibc-2.30.patch
  * The former deprecated macro RES_USE_INET6 is gone with glibc 2.30

-------------------------------------------------------------------
Mon Sep  9 08:00:18 UTC 2019 - Dr. Werner Fink <werner@suse.de>

- Use FAT LTO objects in order to provide proper static library. 

-------------------------------------------------------------------
Fri Jul 26 09:37:21 UTC 2019 - matthias.gerstner@suse.com

- removal of SuSEfirewall2 service, since SuSEfirewall2 has been replaced by
  firewalld, see [1].

  [1]: https://lists.opensuse.org/opensuse-factory/2019-01/msg00490.html

-------------------------------------------------------------------
Fri Jan  4 11:53:28 UTC 2019 - Dr. Werner Fink <werner@suse.de>

-  Remove alias to mail-transfer-agent.target (boo#1116675)

-------------------------------------------------------------------
Fri Jul 27 07:56:17 UTC 2018 - jengelh@inai.de

- Replace exec rm by delete/print.

-------------------------------------------------------------------
Mon Jul 16 08:09:53 UTC 2018 - werner@suse.de

- Remove left over from last patch
- Group daemon is required 

-------------------------------------------------------------------
Tue Dec  5 05:30:57 UTC 2017 - bwiedemann@suse.com

- Add sendmail-8.15.2-reproducible.patch to make package build reproducible

-------------------------------------------------------------------
Wed Nov 29 10:55:02 UTC 2017 - werner@suse.de

- Add _FFR_TLS_EC m4 macro definition for site configuration as
  well (boo#1070065) 

-------------------------------------------------------------------
Thu Nov 23 13:43:24 UTC 2017 - rbrown@suse.com

- Replace references to /var/adm/fillup-templates with new 
  %_fillupdir macro (boo#1069468)

-------------------------------------------------------------------
Thu Nov  9 10:21:44 UTC 2017 - werner@suse.de

- Apply former patches only if openssl 1.1.0+ are installed 

-------------------------------------------------------------------
Wed Nov  8 15:42:28 UTC 2017 - vcizek@suse.com

- support build with openssl 1.1 (bsc#1067222)
  * add patches from Fedora:
    sendmail-8.15.2-openssl-1.1.0-fix.patch
    sendmail-8.15.2-openssl-1.1.0-ecdhe-fix.patch (rh#1473971)

-------------------------------------------------------------------
Thu Aug 17 09:01:30 CEST 2017 - kukuk@suse.de

- Add libnsl-devel build requires for glibc obsoleting libnsl

-------------------------------------------------------------------
Wed Jul 19 10:53:07 UTC 2017 - werner@suse.de

-  Change requirements for libmilter and sendmail-devel as
   the library is also used by other MTA like postfix (boo#1049188)

-------------------------------------------------------------------
Thu May 11 06:14:34 UTC 2017 - werner@suse.de

- Require user and group mail 

-------------------------------------------------------------------
Wed Apr 12 13:36:38 UTC 2017 - werner@suse.de

- Add bitdomain and uudomain to possible targets for refresh 

-------------------------------------------------------------------
Wed Apr 12 08:43:12 UTC 2017 - werner@suse.de

- Change spec file name scheme used for getting soname down into
  libmilter

-------------------------------------------------------------------
Tue Apr 11 11:33:02 UTC 2017 - jengelh@inai.de

- Replace a find|xargs rm by -delete

-------------------------------------------------------------------
Thu Mar 23 09:34:38 UTC 2017 - werner@suse.de

- New package libmilter1_0 for the shared library version of
  libmilter, the  Sendmail Content Management API 
- Also new package libmilter-doc for the substantial documentation
  about Sendmail Content Management API (milter)
- Make sendmail-tls a noarch package

-------------------------------------------------------------------
Mon Mar  6 10:08:23 UTC 2017 - werner@suse.de

- Require m4 at build time 

-------------------------------------------------------------------
Mon Feb 20 10:55:11 CET 2017 - kukuk@suse.de

- Don't use insserv together with systemd

-------------------------------------------------------------------
Mon Sep 26 13:54:13 UTC 2016 - werner@suse.de

- Use _unitdir macro instead asking pkg config of systemd

-------------------------------------------------------------------
Tue Jul 19 13:50:21 UTC 2016 - dimstar@opensuse.org

- Fix License: Even https://spdx.org/licenses/Sendmail.html lists
  "Sendmail" as the valid identifier. Same as
  http://license.opensuse.org/ does. "Sendmail License" is in the
  column "Full Name". The License: tag requires the identifier.
- Fix some more rpmlint warnings:
  + sendmail: W: suse-missing-rclink sendmail:
    - Ship /usr/sbin/rcsendmail symlink to /usr/sbin/service
  + sendmail: W: suse-missing-rclink sendmail-client
    - Ship /usr/sbin/rcsendmail-client symlink to /usr/sbin/service
  + sendmail: W: suse-wrong-suse-capitalisation:
    - Rename README.SuSE to README.SUSE (fix spelling also inside
      the file).
  + sendmail: W: permissions-dir-without-slash
    - Fix permissions and permissions.paranoid inside
      sendmail-suse.tar.bz2.
  + sendmail: W: systemd-service-without-service_del_postun:
    - Add corresponding macros to postun script when not building
      with sysvinit support.
  + sendmail: W: systemd-service-without-service_add_pre:
    - Add corresponding macros to pre script when not building
      with sysvinit support.

-------------------------------------------------------------------
Thu Jun 16 13:46:21 UTC 2016 - tchvatal@suse.com

- Drop unused patch:
  * sendmail-8.14.7-warning.patch

-------------------------------------------------------------------
Thu Jun 16 13:45:25 UTC 2016 - tchvatal@suse.com

- Split uucp to separate package, no technical reason for it to not
  stand on its own
- Drop uucp related patches:
  + uucp-1.07-contrib.dif
  + uucp-1.07-cu.patch
  + uucp-1.07-grade.patch
  + uucp-1.07-lockdev.patch
  + uucp-1.07.dif
  + uucp-texinfo-5.0.patch
  + drop_ftime.patch

-------------------------------------------------------------------
Thu May 19 12:40:21 UTC 2016 - werner@suse.de

- Do not use http://license.opensuse.org/ as reference for the Sendmail
  license even if stated by rpmlint but https://spdx.org/licenses/Sendmail.html 

-------------------------------------------------------------------
Thu Apr 14 14:49:20 UTC 2016 - werner@suse.de

- Avoid warning from chkstat due slash on directory path as last character

-------------------------------------------------------------------
Thu Apr 14 07:42:10 UTC 2016 - werner@suse.de

- Update to sendmail 8.15.2 (boo#975416)
  * If FEATURE(`nopercenthack') is used then some bogus input triggered
    a recursion which was caught and logged as
    SYSERR: rewrite: excessive recursion (max 50) ...
    Fix based on patch from Ondrej Holas.
  * DHParameters now by default uses an included 2048 bit prime.
    The value 'none' previously caused a log entry claiming
    there was an error "cannot read or set DH parameters".
    Also note that this option applies to the server side only.
  * The U= mailer field didn't accept group names containing hyphens,
    underbars, or periods.  Based on patch from David Gwynne
    of the University of Queensland.
  * CONFIG: Allow connections from IPv6:0:0:0:0:0:0:0:1 to relay again.
    Patch from Lars-Johan Liman of Netnod Internet Exchange.
  * CONFIG: New option UseCompressedIPv6Addresses to select between
    compressed and uncompressed IPv6 addresses.  The default
    value depends on the compile-time option IPV6_FULL:
    For 1 the default is False, for 0 it is True, thus
    preserving the current behaviour.  Based on patch from
    John Beck of Oracle.
  * CONFIG: Account for IPv6 localhost addresses in
    FEATURE(`block_bad_helo').  Suggested by Andrey Chernov
    from FreeBSD and Robert Scheck from the Fedora Project.
  * CONFIG: Account for IPv6 localhost addresses in check_mail ruleset.
  * LIBMILTER: Deal with more invalid protocol data to avoid potential
    crashes.  Problem noted by Dimitri Kirchner.
  * LIBMILTER: Allow a milter to specify an empty macro list ("", not
    NULL) in smfi_setsymlist() so no macro is sent for the
    selected stage.
  * MAKEMAP: A change to check TrustedUser in fewer cases which was
    made in 2013 caused a potential regression when makemap
    was run as root (which should not be done anyway).
  * SECURITY: Properly set the close-on-exec flag for file descriptors
    (except stdin, stdout, and stderr) before executing mailers.
  * If header rewriting fails due to a temporary map lookup failure,
    queue the mail for later retry instead of sending it
    without rewriting the header.  Note: this is done
    while the mail is being sent and hence the transaction
    is aborted, which only works for SMTP/LMTP mailers
    hence the handling of temporary map failures is
    suppressed for other mailers. SMTP/LMTP servers may
    complain about aborted transactions when this problem
    occurs.
    See also "DNS Lookups" in sendmail/TUNING.
  * Incompatible Change: Use uncompressed IPv6 addresses by default,
    i.e., they will not contain "::".  For example,
    instead of ::1 it will be 0:0:0:0:0:0:0:1.  This
    permits a zero subnet to have a more specific match,
    such as different map entries for IPv6:0:0 vs IPv6:0.
    This change requires that configuration data
    (including maps, files, classes, custom ruleset,
    etc) must use the same format, so make certain such
    configuration data is updated before using 8.15.
    As a very simple check search for patterns like
    'IPv6:[0-9a-fA-F:]*::' and 'IPv6::'. If necessary,
    the prior format can be retained by compiling with:
    APPENDDEF(`conf_sendmail_ENVDEF', `-DIPV6_FULL=0')
    in your devtools/Site/site.config.m4 file.
  * If a connection to the MTA is dropped by the client before its
    hostname can be validated, treat it as "may be forged",
    so that the unvalidated hostname is not passed to a
    milter in xxfi_connect().
  * Add a timeout for communication with socket map servers
    which can be specified using the -d option.
  * Add a compile time option HESIOD_ALLOW_NUMERIC_LOGIN to allow
    numeric logins even if HESIOD is enabled.
 - sendmail 8.15.1
  * The new option CertFingerprintAlgorithm specifies the finger-
    print algorithm (digest) to use for the presented cert.
    If the option is not set, md5 is used and the macro
    {cert_md5} contains the cert fingerprint.
    However, if the option is set, the specified algorithm
    (e.g., sha1) is used and the macro {cert_fp} contains
    the cert fingerprint.
    That is, as long as the option is not set, the behaviour
    does not change, but otherwise, {cert_md5} is superseded
    by {cert_fp} even if you set CertFingerprintAlgorithm
    to md5.
  * The options ServerSSLOptions and ClientSSLOptions can be used
    to set SSL options for the server and client side
    respectively. See SSL_CTX_set_options(3) for a list.
    Note: this change turns on SSL_OP_NO_SSLv2 and
    SSL_OP_NO_TICKET for the client. See doc/op/op.me
    for details.
  * The option CipherList sets the list of ciphers for STARTTLS.
    See ciphers(1) for possible values.
  * Do not log "STARTTLS: internal error: tls_verify_cb: ssl == NULL"
    if a CRLFfile is in use (and LogLevel is 14 or higher.)
  * Store a more specific TLS protocol version in ${tls_version}
    instead of a generic one, e.g., TLSv1 instead of
    TLSv1/SSLv3.
  * Properly set {client_port} value on little endian machines.
    Patch from Kelsey Cummings of Sonic.net.
  * Per RFC 3848, indicate in the Received: header whether SSL or
    SMTP AUTH was negotiated by setting the protocol clause
    to ESMTPS, ESMTPA, or ESMTPSA instead of ESMTP.
  * If the 'C' flag is listed as TLSSrvOptions the requirement for the
    TLS server to have a cert is removed.  This only works
    under very specific circumstances and should only be used
    if the consequences are understood, e.g., clients
    may not work with a server using this.
  * The options ClientCertFile, ClientKeyFile, ServerCertFile, and
    ServerKeyFile can take a second file name, which must be
    separated from the first with a comma (note: do not use
    any spaces) to set up a second cert/key pair. This can
    be used to have certs of different types, e.g., RSA
    and DSA.
  * A new map type "arpa" is available to reverse an IP (IPv4 or IPv6)
    address. It returns the string for the PTR lookup, but
    without trailing {ip6,in-addr}.arpa.
  * New operation mode  'C' just checks the configuration file, e.g.,
    sendmail -C new.cf -bC
    will perform a basic syntax/consistency check of new.cf.
  * The mailer flag 'I' is deprecated and will be removed in a
    future version.
  * Allow local (not just TCP) socket connections to the server, e.g.,
    O DaemonPortOptions=Family=local, Addr=/var/mta/server.sock
    can be used.
  * If the new option MaxQueueAge is set to a value greater than zero,
    entries in the queue will be retried during a queue run
    only if the individual retry time has been reached which
    is doubled for each attempt.  The maximum retry time is
    limited by the specified value.
  * New DontBlameSendmail option GroupReadableDefaultAuthInfoFile
    to relax requirement for DefaultAuthInfo file.
  * Reset timeout after receiving a message to appropriate value if
    STARTTLS is in use.  Based on patch by Kelsey Cummings
    of Sonic.net.
  * Report correct error messages from the LDAP library for a range of
    small negative return values covering those used by OpenLDAP.
  * Fix compilation with Berkeley DB 5.0 and 6.0.  Patch from
    Allan E Johannesen of Worcester Polytechnic Institute.
  * CONFIG: FEATURE(`nopercenthack') takes one parameter: reject or
    nospecial which describes whether to disallow "%" in the
    local part of an address.
  * DEVTOOLS: Fix regression in auto-detection of libraries when only
    shared libraries are available.  Problem reported by
    Bryan Costales.
  * LIBMILTER: Mark communication socket as close-on-exec in case
    a user's filter starts other applications.
    Based on patch from Paul Howarth.
- Modified patches
   sendmail-8.14.9.dif becomes sendmail-8.15.2.dif
   sendmail-8.14.7-select.dif
   sendmail-8.14.8-m4header.patch
   sendmail-fd-passing-libmilter.patch
  Removed patches
   sendmail-db6.diff
   sendmail-8.14.7-warning.patch

-------------------------------------------------------------------
Tue Dec  1 12:08:52 UTC 2015 - werner@suse.de

-  Do not enforce dependencies like for amavis and saslauthd

-------------------------------------------------------------------
Mon May 26 11:54:39 UTC 2014 - werner@suse.de

- Add patch sendmail-fd-passing-libmilter.patch from Debian sendmail
  maintainer Mikhail Gusarov to support systemd socket activation
  support also in libmilter (bnc#879790)
- Be aware that /var/run is a symbolic link to /run a tmpfs file
  system

-------------------------------------------------------------------
Fri May 23 09:03:04 UTC 2014 - werner@suse.de

- Update to sendmail 8.14.9
  * Properly set the close-on-exec flag for file descriptors
    (except stdin, stdout, and stderr) before executing mailers.
  * Fix a misformed comment in conf.c: "/*" within comment
    which may cause a compilation error on some systems.
    Problem reported by John Beck of Oracle.
  * Fix regression in auto-detection of libraries when only
    shared libraries are available.  Problem reported by
    Bryan Costales.
- Modify patch sendmail-8.14.8.dif which is now sendmail-8.14.9.dif

-------------------------------------------------------------------
Wed Apr  2 09:59:06 UTC 2014 - werner@suse.de

- In systemd mail-transfer-agent.target is gone even if there are
  MTAs around which will be started without socket/bus activation 

-------------------------------------------------------------------
Tue Apr  1 08:56:06 UTC 2014 - werner@suse.de

- Update to sendmail 8.14.8 (bnc#871258)
  * Properly initialize all OpenSSL algorithms for versions before
    OpenSSL 0.9.8o. Without this SHA2 algorithms may not
    work properly, causing for example failures for certs
    that use sha256WithRSAEncryption as signature algorithm.
  * When looking up hostnames, ensure only to return those records
    for the requested family (AF_INET or AF_INET6).
    On system that have NEEDSGETIPNODE and NETINET6
    this may have failed and cause delivery problems.
    Problem noted by Kees Cook.
  * A new mailer flag '!' is available to suppress an MH hack
    that drops an explicit From: header if it is the
    same as what sendmail would generate.
  * Add an FFR (for future release) to use uncompressed IPv6 addresses,
    i.e., they will not contain "::".  For example, instead
    of ::1 it will be 0:0:0:0:0:0:0:1.  This means that
    configuration data (including maps, files, classes,
    custom ruleset, etc) have to use the same format.
    This will be turned on in 8.15.  It can be enabled in 8.14
    by compiling with:
    APPENDDEF(`conf_sendmail_ENVDEF', `-D_FFR_IPV6_FULL')
    in your devtools/Site/site.config.m4 file.
  * Add an additional case for the WorkAroundBrokenAAAA check when
    dealing with broken nameservers by ignoring SERVFAIL
    errors returned on T_AAAA (IPv6) lookups at delivery time.
    Problem noted by Pavel Timofeev of OCS.
  * If available, pass LOGIN_SETCPUMASK and LOGIN_SETLOGINCLASS to
    setusercontext() on deliveries as a different user.
    Patch from Edward Tomasz Napierala from FreeBSD.
  * Add support for DHParameters 2048-bit primes.
  * CONFIG: Accept IPv6 literals when evaluating the HELO/EHLO argument
    in FEATURE(`block_bad_helo').  Suggested by Andrey Chernov.
  * LIBSMDB: Add a missing check for malloc() in libsmdb/smndbm.c.
    Patch from Bill Parker.
  * LIBSMDB: Fix minor memory leaks in libsmdb/ if allocations
    fail.  Patch from John Beck of Oracle.
  * Portability:
    On Linux use socklen_t as the type for the 3rd argument
    for getsockname/getpeername if the glibc version is at
    least 2.1.
- Add patch sendmail-8.14.8-m4header.patch from upstream
- Update patch sendmail-8.14.7.dif to sendmail-8.14.8.dif
- Modify the service files to be able to restart if a reload fails
  as well as use sync targets nss-user-lookup.target and
  nss-lookup.target. Also propagate reload from main service to
  client service and install both

-------------------------------------------------------------------
Sun Mar 23 14:40:34 UTC 2014 - werner@suse.de

- Use _GNU_SOURCE in CFLAGS and %_smp_mflags at make, maybe related
  to bnc#865232, that is do not reset signal handler but SA_RESTART

-------------------------------------------------------------------
Wed Dec 18 08:03:28 UTC 2013 - werner@suse.de

- Do not use remote-fs.target but local-fs.target to make sure that
  failing remote/cifs shares let sendmail fail (bnc#855688)

-------------------------------------------------------------------
Tue Oct  8 12:00:16 UTC 2013 - werner@suse.de

- Add config.starttls script to ask mail/imap server for certificates 

-------------------------------------------------------------------
Tue Oct  1 08:34:03 UTC 2013 - werner@suse.de

- Add saslauthd as optional requirement in the systemd service unit
- Add SENDMAIL_MTA_MODIFIER and SENDMAIL_MTA_SSL_PORT to configuration
- Split off SuSE specific file into a own tar ball
- Avoid SysVinit boot scripts on systemd based systems

-------------------------------------------------------------------
Mon Sep  9 12:32:40 UTC 2013 - werner@suse.de

- Edit existing /etc/sysconfig/sendmail to add Command line (bnc#839033)
- Add a config.sendmail script which calls the update script verbosely

-------------------------------------------------------------------
Thu Aug  8 08:50:50 UTC 2013 - werner@suse.de

- Use /etc/os-release instead of /etc/SuSE-release (bnc#833953) 

-------------------------------------------------------------------
Mon Jul 15 13:13:56 UTC 2013 - werner@suse.de

- New rpm had removed "prereq" flag from installation script bits
  that is that `Requires(prereq)' is not valid anymore :(((

-------------------------------------------------------------------
Sun Jun 16 02:09:59 UTC 2013 - jengelh@inai.de

- sendmail-8.14.7.dif forces the use of SSL and SASL libraries,
  so make sure the BuildRequires are there

-------------------------------------------------------------------
Fri Jun 14 01:19:51 UTC 2013 - jengelh@inai.de

- Add sendmail-db6.diff to fix compile abort with db >= 5

-------------------------------------------------------------------
Tue May 28 16:05:35 UTC 2013 - fcrozat@suse.com

- Fix errors in systemd services (bnc#820858).

-------------------------------------------------------------------
Tue Apr 23 16:27:59 UTC 2013 - werner@suse.de

- Remove FAQ.sendmail-8.14 but use a html link to upstream support

-------------------------------------------------------------------
Tue Apr 23 07:51:42 UTC 2013 - werner@suse.de

- Update to sendmail 8.14.7
  * Drop support for IPv4-mapped IPv6 addresses to prevent the MTA
    from using a mapped address over a legitimate IPv6 address
    and to enforce the proper semantics over the IPv6
    connection.  Problem noted by Ulrich Sporlein.
  * Fix a regression introduced in 8.14.6: the wrong list of
    macros was sent to a milter in the EHLO stage.
    Problem found by Fabrice Bellet, reported via RedHat
    (Jaroslav Skarvada).
  * Fix handling of ORCPT parameter for DSNs: xtext decoding
    was not performed and a wrong syntax check was applied
    to the "addr-type" field.  Problem noted by Dan Lukes
    of Obludarium.
  * Fix handling of NUL characters in the MIME conversion functions
    so that message bodies containing them will be sent
    on properly. Note: this usually also affects mails
    that are not converted as those functions are used
    for other purposes too.  Problem noted by Elchonon
    Edelson of Lockheed Martin.
  * Do not perform "duplicate" elimination of recipients if they
    resolve to the error mailer using a temporary failure
    (4xy) via ruleset 0.  Problem noted by Akira Takahashi
    of IIJ.
  * CONTRIB: Updated version of etrn.pl script from John Beck
    of Oracle.
- Update to sendmail 8.14.6
  * Fix a regression introduced in 8.14.5: if a server offers
    two AUTH lines, the MTA would not read them after
    STARTTLS has been used and hence SMTP AUTH for
    the client side would fail.  Problem noted by Lena.
  * Do not cache hostnames internally in a non case sensitive way
    as that may cause addresses to change from lower case
    to upper case or vice versa. These header modifications
    can cause problems with milters that rely on receiving
    headers in the same way as they are being sent out such
    as a DKIM signing milter.
  * If MaxQueueChildren is set then it was possible that new queue
    runners could not be started anymore because an
    internal counter was subject to a race condition.
  * If a milter decreases the timeout it waits for a communication
    with the MTA, the MTA might experience a write() timeout.
    In some situations, the resulting error might have been
    ignored.  Problem noted by Werner Wiethege.
    Note: decreasing the communication timeout in a milter
    should not be done without considering the potential
    problems.
  * smfi_setsymlist() now properly sets the list of macros for
    the milter which invoked it, instead of a global
    list for all milters.  Problem reported by
    David Shrimpton of the University of Queensland.
  * If Timeout.resolver.retrans is set to a value larger than 20,
    then resolver.retry was temporarily set to 0 for
    gethostbyaddr() lookups. Now it is set to 1 instead.
    Patch from Peter.
  * If sendmail could not lock the statistics file due to a system
    error, and sendmail later sends a DSN for a mail that
    triggered such an error, then sendmail tried to access
    memory that was freed before (causing a crash on some
    systems).  Problem reported by Ryan Stone.
  * Do not log negative values for size= nor pri= to avoid confusing
    log parsers, instead limit the values to LONG_MAX.
  * Account for an API change in newer versions of Cyrus-SASL.
    Patch from Hajimu UMEMOTO from FreeBSD.
  * Do not try to resolve link-local addresses for IPv4 (just as it
    is done for IPv6).  Patch from John Beck of Oracle.
  * Improve logging of client and server STARTTLS connection failures
    that may be due to incompatible cipher lists by including
    the reason for the failure in a single log line.  Suggested
    by James Carey of Boeing.
- Drop sendmail-8.14.5-auth2.patch0 as this is part of 8.14.6
- Add sendmail-8.14.7-warning.patch to avoid useless gcc warning
- Refresh sendmail-8.14.7-select.dif
- Refresh sendmail-8.14.7.dif

-------------------------------------------------------------------
Fri Oct 26 15:02:19 UTC 2012 - coolo@suse.com

- explicit buildrequire on groff, called from spec file

-------------------------------------------------------------------
Thu Oct 11 09:24:38 UTC 2012 - coolo@suse.com

- buildrequire netcfg explicitly

-------------------------------------------------------------------
Fri Jul 13 16:22:57 UTC 2012 - werner@suse.de

- Make if build even with older distributions 

-------------------------------------------------------------------
Fri Jul 13 15:27:54 UTC 2012 - werner@suse.de

- Use UTF-8 messages 

-------------------------------------------------------------------
Fri Jul 13 14:52:55 UTC 2012 - werner@suse.de

- Do not depend on broken umask in rpm scriptlets

-------------------------------------------------------------------
Tue Jun 19 15:05:38 UTC 2012 - werner@suse.de

- Make SuSEconfig.sendmail a standalone update script (fate#313548)

-------------------------------------------------------------------
Fri May 25 15:37:22 UTC 2012 - werner@suse.de

- Help to do systemctl the obvoisly (bnc#754544) 

-------------------------------------------------------------------
Thu Feb  9 13:31:50 UTC 2012 - cfarrell@suse.com

- license update: SUSE-Sendmail
  SUSE- proprietary prefix added until Sendmail is accepted as valid SPDX
  license at http://www.spdx.org/licenses

-------------------------------------------------------------------
Mon Nov 21 10:55:39 UTC 2011 - werner@suse.de

- Allow sendmail to authenticate as client to various mail servers
  in TLS mode even if servers send 2 headers (bnc#731658)

-------------------------------------------------------------------
Thu Aug 18 13:32:41 UTC 2011 - werner@suse.de

- Expand systemd configuration at build time 

-------------------------------------------------------------------
Fri Aug 12 14:47:38 UTC 2011 - werner@suse.de

- Use Pre exec files for configuration on the fly

-------------------------------------------------------------------
Thu Aug 11 15:17:58 UTC 2011 - werner@suse.de

- Socket activation does not work for sendmail even with -bs
  on the command line of sendmail and StandardInput=socket

-------------------------------------------------------------------
Mon Aug  8 15:14:52 UTC 2011 - werner@suse.de

- The approach of using makefiles requires make for sendmail 

-------------------------------------------------------------------
Fri Aug  5 12:23:05 UTC 2011 - werner@suse.de

- Make /var/run a ghost entry in spec as this is a tmpfs now and
  create it at start of sendmail if it does not exist (bnc#710279)
- First try of using systemd unit configration files for both
  sendmail MTA and sendmail MT client.  Try to start them on
  demand using systemd unit socket files for both local and remote
  network as well as systemd unit path file for local mail queue

-------------------------------------------------------------------
Tue May 31 11:44:31 CEST 2011 - werner@suse.de

- Update to sendmail 8.14.5
  * Do not cache SMTP extensions across connections as the cache is
    based on hostname which may not be a unique identifier for a
    server, i.e., different machines may have the same hostname but
    provide different SMTP extensions.  Problem noted by Jim Hermann.
  * Avoid an out-of-bounds access in case a resolver reply for a DNS
    map lookup returns a size larger than 1K.  Based on a patch
    from Dr. Werner Fink of SuSE.
  * If a job is aborted using the interrupt signal (e.g., control-C
    from the keyboard), perform minimal cleanup to avoid invoking
    functions that are not signal-safe. Note: in previous versions
    the mail might have been queued up already and would be
    delivered subsequently, now an interrupt will always remove the
    queue files and thus prevent delivery.
  * Per RFC 6176, when operating as a TLS client, do not offer SSLv2.
  * Since TLS session resumption is never used as a client, disable
    use of RFC 4507-style session tickets.
  * Work around gcc4 versions which reverse 25 years of history and
    no longer align char buffers on the stack, breaking calls to
    resolver functions on strict alignment platforms.
    Found by Stuart Henderson of OpenBSD.
  * Read at most two AUTH lines from a server greeting (up to two
    lines are read because servers may use "AUTH mechs" and
    "AUTH=mechs"). Otherwise a malicious server may exhaust the
    memory of the client.  Bug report by Nils of MWR InfoSecurity.
  * Avoid triggering an assertion in the OpenLDAP code when the
    connection to an LDAP server is lost while making a query.
    Problem noted and patch provided by Andy Fiddaman.
  * If ConnectOnlyTo is set and sendmail is compiled with NETINET6
    it would try to use an IPv6 address if an IPv4 (or unparseable)
    address is specified.
  * If SASLv2 is used, make sure that the macro {auth_authen} is
    stored in xtext format to avoid problems with parsing it.
    Problem noted by Christophe Wolfhugel.
  * CONFIG: FEATURE(`ldap_routing') in 8.14.4 tried to add a missing
    -T<TMPF> that is required, but failed for some cases that did
    not use LDAP.  This change has been undone until a better
    solution can be implemented.  Problem found by Andy Fiddaman.
  * CONTRIB: qtool.pl: Deal with H entries that do not have a letter
    between the question marks.  Patch from Stefan Christensen.
  * DOC: Use a better description for the -i option in sendmail.
    Patch from Mitchell Berger.
- Add defines for nanaosleep and socklen_t for linux in conf.h

-------------------------------------------------------------------
Tue Dec  7 21:23:06 UTC 2010 - coolo@novell.com

- prereq init scripts network and syslog

-------------------------------------------------------------------
Thu Sep 30 11:45:28 UTC 2010 - rhafer@novell.com

- Removed version-specific libdb-4_5-devel from BuildRequires to be
  able to build against newer libdb Versions.

-------------------------------------------------------------------
Fri Jul 16 17:22:27 CEST 2010 - werner@suse.de

- Newer killproc sends only SIGTERM as required by LSB if -TERM is
  specified on the command line.  Use the default which is SIGTERM
  followed by SIGKILL if the timeout of 5 seconds is reached.

-------------------------------------------------------------------
Fri Feb  5 19:12:40 CET 2010 - werner@suse.de

- Use upstream patch for bnc#559517

-------------------------------------------------------------------
Wed Jan 27 14:36:13 CET 2010 - werner@suse.de

- Update to bug fix release sendmail 8.14.4
  * Handle bogus certificates containing NUL characters
    in CNs by placing a string indicating a bad certificate
    in the {cn_subject} or {cn_issuer} macro.  Patch inspired
    by Matthias Andree's changes for fetchmail.
  * During the generation of a queue identifier an integer overflow
    could occur which might result in bogus characters
    being used.  Based on patch from John Vannoy of
    Pepperdine University.
  * Prevent a crash when a hostname lookup returns a seemingly
    valid result which contains a NULL pointer (this seems
    to be happening on some Linux versions).
  * Fix overflow of an internal array when parsing some replies
    from a milter.  Problem found by Scott Rotondo
  * Fix handling of `b' modifier for DaemonPortOptions on little
    endian machines for loopback address.  Patch from
    John Beck of Sun Microsystems.
  * Fix a potential memory leak in libsmdb/smdb1.c found by parfait.
    Based on patch from Jonathan Gray of OpenBSD.
  * Fix memory leak that occurred when smfi_setsymlist()
    was used.  Based on patch by Dan Lukes.
- Add patch to avoid overflow of buffer for DNS resolver (bnc#559517)

-------------------------------------------------------------------
Tue Nov 11 17:10:11 CET 2008 - ro@suse.de

- drop klogd prereq (prereq cycle) 

-------------------------------------------------------------------
Mon Nov 10 15:42:31 CET 2008 - ro@suse.de

- drop sysconfig prereq 

-------------------------------------------------------------------
Tue Sep 30 15:18:11 CEST 2008 - werner@suse.de

- Use -fPIC for libraries (bnc#428289)

-------------------------------------------------------------------
Mon Aug 25 00:27:18 CEST 2008 - ro@suse.de

- fix fillup_and_insserv options 

-------------------------------------------------------------------
Wed Aug  6 13:41:29 CEST 2008 - varkoly@suse.de

- (bnc#414960) sendmail doesn't have any "Name: " tag in firewall definition 

-------------------------------------------------------------------
Wed Jul 30 16:04:30 CEST 2008 - werner@suse.de

- Make boot script know about new upcoming startpar and insserv

-------------------------------------------------------------------
Wed Jul 16 14:10:54 CEST 2008 - werner@suse.de

- Make poll25 more fail safe

-------------------------------------------------------------------
Thu Jun 19 13:46:23 CEST 2008 - werner@suse.de

- Make /bin/fuser required (bnc#401477)

-------------------------------------------------------------------
Tue May  6 18:32:10 CEST 2008 - werner@suse.de

- Update to bug fix release sendmail 8.14.3:

  * the MTA accessed storage after it free()d it. This was a
    regression introduced in 8.14.2.
  * ruleset processing: the function cataddr() could cause the
    addition of the BlankSub character between some tokens when
    it should not happen and thus failures in rule matching.
  * the libmilter state engine did not deal correctly with
    milters that requested the omission of protocol steps during
    the negotiation callback.

-------------------------------------------------------------------
Fri Feb 22 13:17:45 CET 2008 - werner@suse.de

- Make the name `smtp' of the smtp port to a real m4 string

-------------------------------------------------------------------
Wed Feb 20 19:02:58 CET 2008 - werner@suse.de

- Clean up spec file
- Add support for an other MTA port, be sure the client can connect
  to the new port of the MTA

-------------------------------------------------------------------
Mon Feb 18 15:57:07 CET 2008 - werner@suse.de

- Don't forget port even if sendmail listen only local (bnc#362642)

-------------------------------------------------------------------
Fri Dec 14 14:08:30 CET 2007 - werner@suse.de

- Update to release sendmail 8.14.1
  * fix an important bug in the milter function smfi_chgfrom()
    which could cause the loss of a message body.
  * fix the handling of queued messages with 8 bit characters in
    From: or To: header which could be "mistaken" for internal
    control characters during a queue run and trigger various
    consistency checks.
  * fix the handling of lines longer than MAXLINE-1 characters in
    certain cases. 

-------------------------------------------------------------------
Fri Jul 20 07:47:51 CEST 2007 - coolo@suse.de

- don't build require openldap2. all we need is a client

-------------------------------------------------------------------
Tue Jun 19 11:42:56 CEST 2007 - werner@suse.de

- sendmail rc script provides smtp

-------------------------------------------------------------------
Thu May 10 11:36:34 CEST 2007 - werner@suse.de

- Replace old RBL's with new RBL's (bug #272246)

-------------------------------------------------------------------
Tue Apr 24 18:34:09 CEST 2007 - werner@suse.de

- Add smtp configuration for pam (bug #247352)
- Add sendmail configuration for SuSEfirewall (bug #247352)

-------------------------------------------------------------------
Mon Apr 16 12:10:45 CEST 2007 - werner@suse.de

- Update the boot script dependcies (bug #262215)

-------------------------------------------------------------------
Thu Apr  5 17:05:39 CEST 2007 - werner@suse.de

- Update to release sendmail 8.14.1
- Add port check for polling smtp port (fate #302078)

-------------------------------------------------------------------
Fri Feb 16 16:10:27 CET 2007 - werner@suse.de

- Branch new package rmail from sendmail source
- Split off uucp spec file from this spec file

-------------------------------------------------------------------
Mon Feb 12 17:22:04 CET 2007 - werner@suse.de

- Make it build nonroot

-------------------------------------------------------------------
Thu Feb  1 15:13:53 CET 2007 - werner@suse.de

- Add socket mapping for usage of Cyrus IMAP server (#241060)

-------------------------------------------------------------------
Fri Jan 19 19:25:41 CET 2007 - werner@suse.de

- update uucp configuration 

-------------------------------------------------------------------
Thu Aug 10 11:44:42 CEST 2006 - werner@suse.de

- Update to bug fix release sendmail 8.13.8
- Remove update messages

-------------------------------------------------------------------
Thu Jun 22 16:27:37 CEST 2006 - werner@suse.de

- Do not touch db files if makemap fails

-------------------------------------------------------------------
Tue Jun 20 14:13:23 CEST 2006 - werner@suse.de

- Update to sendmail version 8.13.7
- Add some more comments to the dnsbl feature due no longer
  available free providers of DNS based rejection list.
- Move the `accept unresolvable/unqualified domains/senders' from
  the expensive.m4 feature toward to the nodns.m4 hack.
- Add a comment that the nodns.m4 hack should be used in
  conjunction with a smart host

-------------------------------------------------------------------
Mon Jun 19 17:11:41 CEST 2006 - werner@suse.de

- The symlink /etc/mail/aliases is config(noreplace) (bug #185589)

-------------------------------------------------------------------
Tue May 30 14:11:37 CEST 2006 - werner@suse.de

- Proper update of the fix for VU#146718 (bug #173998)

-------------------------------------------------------------------
Wed May 24 22:21:32 CEST 2006 - schwab@suse.de

- Don't strip binaries.

-------------------------------------------------------------------
Wed May 10 13:47:37 CEST 2006 - werner@suse.de

- VU#146718: Fix sendmail denial of service with MIME (bug #173998)

-------------------------------------------------------------------
Thu Mar 23 14:24:37 CET 2006 - werner@suse.de

- Touch data source file instead of removeing data base (#160285)

-------------------------------------------------------------------
Wed Mar 22 17:34:56 CET 2006 - werner@suse.de

- Use official sendmail 8.3.16 instead of the patched version for
  the security issue CERT VU834865 (#156417)

-------------------------------------------------------------------
Mon Mar 20 13:45:50 CET 2006 - werner@suse.de

- Get CERT VU834865 patch working on s390x
- Avoid invalid timeval's if select() catch EINTR

-------------------------------------------------------------------
Thu Mar  9 15:32:34 CET 2006 - werner@suse.de

- Fix race condition in signal handling CERT VU834865 (#156417)

-------------------------------------------------------------------
Tue Feb  7 16:09:58 CET 2006 - werner@suse.de

- Increase polling time for active port 25 to 10 seconds (#148563)

-------------------------------------------------------------------
Wed Jan 25 21:30:57 CET 2006 - mls@suse.de

- converted neededforbuild to BuildRequires

-------------------------------------------------------------------
Fri Nov 11 17:47:14 CET 2005 - werner@suse.de

- Do not use localhost as remote host with fuser

-------------------------------------------------------------------
Fri Nov 11 15:30:59 CET 2005 - werner@suse.de

- Move /var/run/sendmail/statistics to /var/lib/sendmail/

-------------------------------------------------------------------
Thu Oct 13 18:12:19 CEST 2005 - werner@suse.de

- Update sendmail to version 8.13.5
- Update sendmail faq

-------------------------------------------------------------------
Fri Sep 30 17:08:57 CEST 2005 - werner@suse.de

- I do not rewrite ldpa interface of sendmail with not documented
  ldap function calls, therefore set LDAP_DEPRECATED

-------------------------------------------------------------------
Tue Jun 28 17:54:00 CEST 2005 - werner@suse.de

- Make UUCP massage size an sysconfig option

-------------------------------------------------------------------
Mon Jun 20 13:09:05 CEST 2005 - werner@suse.de

- Add some clearing words to the comment for what is accepted for
  relaying with sendmail.

-------------------------------------------------------------------
Mon Jun 20 12:11:50 CEST 2005 - kukuk@suse.de

- Use -fPIE instead of -fpie

-------------------------------------------------------------------
Fri Jun 17 14:32:20 CEST 2005 - werner@suse.de

- Use -fpie/-pie

-------------------------------------------------------------------
Sun May  1 10:44:25 CEST 2005 - werner@suse.de

- Wait on port 25 of localhost to be sure that sendmail has
  open this port before we start the queue runner.

-------------------------------------------------------------------
Wed Mar 30 18:45:48 CEST 2005 - ro@suse.de

- fix version number for devel subpackage 

-------------------------------------------------------------------
Wed Mar 30 15:22:47 CEST 2005 - werner@suse.de

- Update to sendmail version 8.13.4
- Update sendmail faq

-------------------------------------------------------------------
Sun Feb 27 23:07:04 CET 2005 - ro@suse.de

- package /usr/bin/cu as 755 

-------------------------------------------------------------------
Wed Feb 23 18:21:32 CET 2005 - werner@suse.de

- Add permissions file sendmail.paranoid to be able to disable MTA

-------------------------------------------------------------------
Wed Jan 26 15:56:08 CET 2005 - werner@suse.de

- Update to sendmail 8.13.3
- Add official close_wait patch

-------------------------------------------------------------------
Sat Jan 15 21:00:25 CET 2005 - schwab@suse.de

- Use <owner>:<group> in permissions file.

-------------------------------------------------------------------
Thu Dec 16 16:24:52 CET 2004 - werner@suse.de

- Update to sendmail 8.13.2
- Make it work

-------------------------------------------------------------------
Tue Dec 14 14:56:03 CET 2004 - werner@suse.de

- Fix problem with two different session of one sendmail binary by
  using new ignore feature of start/killproc (bug #48790)

-------------------------------------------------------------------
Thu Nov 11 02:03:10 CET 2004 - ro@suse.de

- adapt permssions in filelist to permissions in permissions file

-------------------------------------------------------------------
Wed Sep 15 12:06:08 CEST 2004 - werner@suse.de

- Better description of the sendmail options for both master daemon
  and client runner, shorten client sleeping time (bug #45309)

-------------------------------------------------------------------
Tue Aug 31 18:14:39 CEST 2004 - werner@suse.de

- Do only local port message and only in case of an update
  from a system without this feature.

-------------------------------------------------------------------
Tue Aug 31 14:18:49 CEST 2004 - werner@suse.de

- Move forward to new update messages scheme

-------------------------------------------------------------------
Tue Aug 31 00:44:17 CEST 2004 - ro@suse.de

- temporary solution: comment out all update mails

-------------------------------------------------------------------
Mon Aug  2 15:36:57 CEST 2004 - werner@suse.de

- Update to sendmail 8.13.1
- Make access_db feature an option to avoud trouble with the
  default of the new  and automatic enabled greet_pause feature

-------------------------------------------------------------------
Fri Jul 30 14:19:16 CEST 2004 - werner@suse.de

- Remove /var/spool/clientmqueue from file list because this one
  is provided by RPM filesystem for the uid/gid mail.
- Update FAQ.sendmail-8.12 to newest version.

-------------------------------------------------------------------
Thu Jul 29 18:21:23 CEST 2004 - werner@suse.de

- Add switch for masquerade_entire_domain and domaintable
  feature to SuSEconfig of sendmail.
- Add missed statistics file for sendmail client (bug #40584)

-------------------------------------------------------------------
Fri Apr  2 13:45:50 CEST 2004 - werner@suse.de

- Add linux.submit.mc and generate the shipped submit.cf out of
  them. This should avoid missing SuSEconfig runs or customers
  which do not move the submit.cf.SuSEconfig over the submit.cf.
  (bugs #37952, #32348).

-------------------------------------------------------------------
Thu Mar 18 19:47:57 CET 2004 - werner@suse.de

- SusEconfig.sendmail: return exit status of failed commands
  (bug #36492)

-------------------------------------------------------------------
Fri Feb 13 17:20:32 CET 2004 - werner@suse.de

- Fix amavis package name (bug #34544)

-------------------------------------------------------------------
Wed Dec 17 18:26:14 CET 2003 - werner@suse.de

- Fix typos (bug #32344, #32345)
- Changes within SMTP AUTH
  * Add comment about rpm to be installed
    cyrus-sasl-(gssapi|otp|digestmd5|crammd5|plain)
  * Add an all option for all AUTH mechanisms
  * Make TLS and SASL work together
- Test for dialup hosts
  * Add confTRY_NULL_MX_LIST for MSP
  * Add generics domain feature for MSP

-------------------------------------------------------------------
Mon Oct  6 15:38:45 CEST 2003 - werner@suse.de

- Remove backshlash in linux.mc (bug #32037)

-------------------------------------------------------------------
Thu Sep 18 17:01:54 CEST 2003 - werner@suse.de

- Update to 8.12.10 due security fixes

-------------------------------------------------------------------
Wed Sep 17 12:23:25 CEST 2003 - werner@suse.de

- Security fix for sendmail (prescan2)

-------------------------------------------------------------------
Wed Sep  3 13:04:38 CEST 2003 - werner@suse.de

- Add try-restart option for update (bug #29044)

-------------------------------------------------------------------
Fri Aug 29 00:27:37 CEST 2003 - mmj@suse.de

- Add sysconfig metadata [#28899]

-------------------------------------------------------------------
Thu Aug 28 11:36:55 CEST 2003 - mmj@suse.de

- Sendmail requires m4, which is no longer default [#29454]

-------------------------------------------------------------------
Mon Jul 28 15:58:56 CEST 2003 - werner@suse.de

- Fix amavis(d) typo

-------------------------------------------------------------------
Mon Jul 28 15:01:03 CEST 2003 - werner@suse.de

- Fix chown usage

-------------------------------------------------------------------
Tue Jul 22 16:32:30 CEST 2003 - werner@suse.de

- Fix bug #27117: use asci file as reference for mode of db
- Move from amavis(d) to amavis-new

-------------------------------------------------------------------
Mon Jun 30 16:28:00 CEST 2003 - werner@suse.de

- Add manual pages again

-------------------------------------------------------------------
Thu Jun 26 10:42:22 CEST 2003 - kukuk@suse.de

- Don't create .dif files

-------------------------------------------------------------------
Fri Jun 13 13:29:31 CEST 2003 - kukuk@suse.de

- Fix spec file to build again

-------------------------------------------------------------------
Thu Apr 24 12:20:23 CEST 2003 - ro@suse.de

- fix install_info --delete call and move from preun to postun

-------------------------------------------------------------------
Tue Apr 15 15:43:12 CEST 2003 - werner@suse.de

- Update to 8.12.9 (including the last two security patches)
- Update FAQ
- Add SENDMAIL_ALLMASQUERADE for servers using yp, DNS (etc/aliases,
  /etc/hosts)
- Add /etc/mail/local-host-names for masquerade and generic domain

-------------------------------------------------------------------
Tue Apr  1 17:07:38 CEST 2003 - draht@suse.de

- sendmail.8.12-prescan.patch fixes another overflow security problem.

-------------------------------------------------------------------
Wed Feb 26 14:11:00 CET 2003 - werner@suse.de

- Security fix to avoid remote root access

-------------------------------------------------------------------
Wed Feb 12 12:42:17 CET 2003 - werner@suse.de

- The same procedure? The same procedure as every spec: Use
  preun not post for removing info entry

-------------------------------------------------------------------
Tue Feb 11 18:48:12 CET 2003 - werner@suse.de

- Fix bug #22765: better description in auth-info

-------------------------------------------------------------------
Tue Feb 11 17:33:03 CET 2003 - werner@suse.de

- Expand Amavis check

-------------------------------------------------------------------
Wed Jan 15 19:08:48 CET 2003 - werner@suse.de

- Remove backup file of patch before installation

-------------------------------------------------------------------
Wed Jan 15 11:49:05 CET 2003 - werner@suse.de

- Be sure that library directory exist on all architecture

-------------------------------------------------------------------
Tue Jan 14 17:42:36 CET 2003 - werner@suse.de

- Update to senbdmail 8.12.7
- Re-enable IPv6 support
- Make GLIBC_VERSION macro work (sigh!)
- Use BuildRoot
- Use meta tags for sysconfig files (bug #22687)

-------------------------------------------------------------------
Tue Jan 14 11:32:47 CET 2003 - werner@suse.de

- Add some more comments about smtp auth, correct replacement
  off encoded passphrase
- Switch to SASL2

-------------------------------------------------------------------
Fri Nov 29 17:13:59 CET 2002 - werner@suse.de

- SMRSH should check the called program
- Fix bug #20475: now we've three sendmail processes:
  one master, one client for controlling the clientmqueue
  and its child for handling clientmqueue.

-------------------------------------------------------------------
Mon Sep  9 16:21:24 CEST 2002 - werner@suse.de

- sendmail depends on yp information (bug #18913)

-------------------------------------------------------------------
Mon Sep  2 16:42:36 CEST 2002 - werner@suse.de

- Switch to bugfix release 8.12.6

-------------------------------------------------------------------
Tue Aug 27 16:46:34 CEST 2002 - werner@suse.de

- Be paranoid: -fno-strict-aliasing on all platforms (bug #17432)

-------------------------------------------------------------------
Mon Aug 26 13:26:42 CEST 2002 - werner@suse.de

- Make amavis optional due its only available on i386 (bug #18337)
- Rename require `ntp' to `$time' (bug #18337)

-------------------------------------------------------------------
Mon Aug 26 12:22:06 CEST 2002 - werner@suse.de

- Move NULLCLIENT from /etc/sysconfig/mail to
  /etc/sysconfig/sendmail  because  sendmail and postfix use this
  on different.
- Add a line to the comment for NULLCLIENT to get correct values.
  (bug #18301)

-------------------------------------------------------------------
Fri Aug 16 14:00:37 CEST 2002 - werner@suse.de

- Add PreReq (bug #17990)

-------------------------------------------------------------------
Wed Aug 14 18:51:48 CEST 2002 - werner@suse.de

- Don't be fooled by "no" for variable values (bug #17749)

-------------------------------------------------------------------
Mon Aug  5 18:21:24 CEST 2002 - werner@suse.de

- Temporary fix for s390 to get makemap working

-------------------------------------------------------------------
Thu Jul 18 11:12:30 CEST 2002 - werner@suse.de

- Make nullclient work

-------------------------------------------------------------------
Tue Jul 16 17:26:19 CEST 2002 - werner@suse.de

- Add some more comments for localhost and masquerade (bug #16952)
- Add DNS RBL support to SuSEconfig.sendmail (bug #16951)
- Make last change work

-------------------------------------------------------------------
Mon Jul 15 09:10:06 CEST 2002 - kukuk@suse.de

- Remove /etc/aliases from filelist

-------------------------------------------------------------------
Thu Jul 11 17:00:29 CEST 2002 - werner@suse.de

- Try to use db4

-------------------------------------------------------------------
Thu Jul 11 12:00:45 CEST 2002 - werner@suse.de

- Enable trusted user file in both MSP and MTA (bug #16930)
- Use confTRUSTED_USERS in MSP
- Add changes from Volker Kuhlmann <kuhlmav@elec.canterbury.ac.nz>
  for supporting black lists with SuSEconfig

-------------------------------------------------------------------
Tue Jul  9 17:11:36 CEST 2002 - werner@suse.de

- Add /etc/aliases.d/ and a scanner in SuSeconfig.sendmail to
  get files therein into /etc/sendmail.cf. Add check in
  /etc/mail/Makefile ... (bug #15921)

-------------------------------------------------------------------
Tue Jul  9 13:24:40 CEST 2002 - werner@suse.de

- Add sanity check for NULLCLIENT redirect (bug #16871)
- Add user vscan to trusted user list (bug #16496)
- Update to sendmail 8.12.5

-------------------------------------------------------------------
Thu Jul  4 14:53:23 CEST 2002 - ro@suse.de

- fix compilation with openldap-2.1 

-------------------------------------------------------------------
Tue Apr 30 16:37:32 CEST 2002 - werner@suse.de

- Fix path of cyrus deliver program (bug# 16056)
- Add m4 option for both sendmail.cf and submit.cf  (bug# 15409)

-------------------------------------------------------------------
Wed Apr 24 16:50:22 CEST 2002 - werner@suse.de

- Update ot bugfix release 8.12.3
- Correction of the SMTP AUTH db generation

-------------------------------------------------------------------
Tue Apr  9 17:21:25 CEST 2002 - werner@suse.de

- Oops: move autoconf change log entry to uucp change log

-------------------------------------------------------------------
Thu Mar 28 12:50:41 CET 2002 - werner@suse.de

- Add Obsoltes for sendmail-tls (bug #15579)

-------------------------------------------------------------------
Wed Mar 13 14:14:12 CET 2002 - werner@suse.de

- Avoid header rewrite for sendmail client (fix bug #14910)

-------------------------------------------------------------------
Tue Mar  5 12:00:34 CET 2002 - werner@suse.de

- Force insserv call (fix bug #14359)

-------------------------------------------------------------------
Fri Mar  1 16:51:16 CET 2002 - werner@suse.de

- As requested: Add mailman and mailman-owner to aliases

-------------------------------------------------------------------
Fri Mar  1 11:40:53 CET 2002 - pthomas@suse.de

- Fix small typo in mail sent after installation.

-------------------------------------------------------------------
Wed Feb 27 14:40:00 CET 2002 - werner@suse.de

- Be sure that we catch all rc.config variables
- Be sure that the new required sendmail options will be included
  in SENDMAIL_ARGS

-------------------------------------------------------------------
Tue Feb 26 16:12:12 CET 2002 - werner@suse.de

- More work for SMTPD_LISTEN_REMOTE: if the old system has
  SMTP=yes in /etc/rc.config we remember this decision at
  pre install time and change the default for SMTPD_LISTEN_REMOTE
  from "no" to "yes" at post install time.

-------------------------------------------------------------------
Tue Feb 26 13:04:22 CET 2002 - werner@suse.de

- Fix bug #13905: With 8.12 we need to add our domain used in
  FROM_HEADER in the class G (generic domains)

-------------------------------------------------------------------
Mon Feb 25 14:35:45 CET 2002 - werner@suse.de

- Export %_lib to site.config.m4 to make it work on ia64.

-------------------------------------------------------------------
Mon Feb 25 11:50:33 CET 2002 - werner@suse.de

- fix bug #13830: catch EINTR on select.

-------------------------------------------------------------------
Thu Feb 21 19:04:53 CET 2002 - werner@suse.de

- Add SMTPD_LISTEN_REMOTE to be able to switch off remote
  mail connections.

-------------------------------------------------------------------
Wed Feb 20 14:03:48 CET 2002 - werner@suse.de

- Fix bug #13188 and #13521: Avoid mail loss by running both
  sendmail master and client.
- Add and correct comments
- Install sendmail/SECURITY
- Fix bug #12462 by new configure option SENDMAIL_LUSER to map
  local mail with unknown local recipients.

-------------------------------------------------------------------
Thu Feb 14 17:28:29 CET 2002 - werner@suse.de

- Correct comment about full qualified hostname which is located
  in /etc/HOSTNAME now.

-------------------------------------------------------------------
Wed Feb 13 15:37:51 CET 2002 - werner@suse.de

- Run two daemons: one for sendmail server acts and one for the
  new client msp acts to deserve mails to port 25
- Insserv by default, because the server daemons must listen on
  port 25 for the msp sendmail client used by  MTA's.
- Create /etc/mal/submit.cf to get nocanonify, nodns, and
  masquerade into /etc/mal/submit.cf

-------------------------------------------------------------------
Sun Feb 10 12:17:02 CET 2002 - ro@suse.de

- new option for bz2 tar is "j" 

-------------------------------------------------------------------
Tue Feb  5 01:21:52 CET 2002 - ro@suse.de

- rename old rc.config variable names on update

-------------------------------------------------------------------
Wed Jan 30 15:22:28 CET 2002 - werner@suse.de

- Remove YAST_ASK (#12972)

-------------------------------------------------------------------
Mon Jan 28 15:30:21 CET 2002 - werner@suse.de

- sysconfig.mail changes
- remove rc.config from README's

-------------------------------------------------------------------
Wed Jan 23 17:52:15 CET 2002 - werner@suse.de

- Minor changes like including new features into linux.mc
  and using the official MILTER macro of 8.12.2.

-------------------------------------------------------------------
Mon Jan 21 16:59:24 CET 2002 - werner@suse.de

- Package split into sendmail and sendmail-devel
- Notify if user has /etc/mail/sendmail.ct or /etc/mail/sendmail.cw
- Correct LICENSE in PDB

-------------------------------------------------------------------
Sun Jan 20 22:19:24 MET 2002 - link@suse.de

- for compiling a milter client, we need /usr/lib/libsm.a and
  /usr/include/sm  

-------------------------------------------------------------------
Fri Jan 18 16:55:52 CET 2002 - werner@suse.de

- Use clientmqueue interface, that means there is a user and
  group mail together with group writable directory for group
  mail and sendmail is sgid mail.
- Implement STARTTLS and SASL interface for client and server side
- Move /etc/mail/default-auth-info to /etc/mail/auth/auth-info(.db)
  and use the FEATURE(authinfo) not DefaultAuthInfo
- Use /etc/mail/certs/ for STARTTLS data
- Install editmap
- Use FEATURE(delay_checks) in dialup.m4
- Use `.' at the end of MAIL_HUP, LOCAL_RELAY, and SMART_HOST if
  a FQDN is used.
- Fix bug #10601: Use content of /etc/HOSTNAME if FQDN

-------------------------------------------------------------------
Thu Jan 17 19:47:44 CET 2002 - werner@suse.de

- Update to 8.12.2
  Use official MILTER now
  Use SM_CONF_SHM, EGD for STARTTLS, and DNSMAP
- Move from sendmail.ct and sendmail.cw to local-host-names
  and local-host-names
- Enable STARTTLS, and SASL by default
- Make NULLCLIENT and SMTP-AUTH a configure option
- Remove rc.config from any comment
- DOMAIN macro should be called before MAILER macro
- Use /etc/sysconfig/mail and /etc/sysconfig/amavis
- Make it compile

-------------------------------------------------------------------
Tue Jan 15 15:44:14 CET 2002 - egmont@suselinux.hu

- removed colons from startup/shutdown messages

-------------------------------------------------------------------
Fri Dec 14 01:10:28 CET 2001 - ro@suse.de

- moved rc.config.d -> sysconfig, removed SMTP variable 

-------------------------------------------------------------------
Thu Nov 22 18:33:08 CET 2001 - werner@suse.de

- Do not escape backquote within linux.mc (#12429)

-------------------------------------------------------------------
Thu Aug 30 12:26:53 CEST 2001 - werner@suse.de

- More on bug #9097

-------------------------------------------------------------------
Wed Aug 22 13:08:14 CEST 2001 - werner@suse.de

- Security update to 8.11.6 (bugtraq id 3163)

-------------------------------------------------------------------
Tue Aug 14 16:23:28 CEST 2001 - werner@suse.de

- Update to 8.11.5
- Fix bug #9097

-------------------------------------------------------------------
Wed Jun 27 15:54:56 CEST 2001 - werner@suse.de

- More re-ordering of cpp directives

-------------------------------------------------------------------
Wed Jun 27 11:38:24 CEST 2001 - werner@suse.de

- Re-order cpp directive to be not included within printf

-------------------------------------------------------------------
Wed Jun  6 17:07:58 CEST 2001 - werner@suse.de

- Simple fix in sendmail.nissl script
- Add hops fix

-------------------------------------------------------------------
Wed May  9 20:29:35 CEST 2001 - mfabian@suse.de

- bzip2 sources

-------------------------------------------------------------------
Thu Apr 26 11:20:42 CEST 2001 - werner@suse.de

- Add missed entries in /etc/mail/linux.mc

-------------------------------------------------------------------
Thu Apr  5 15:26:17 CEST 2001 - werner@suse.de

- Add alias for amavis

-------------------------------------------------------------------
Wed Apr  4 12:43:35 CEST 2001 - werner@suse.de

- Add message about libwrap and sendmail if host.allow is used

-------------------------------------------------------------------
Thu Mar 29 18:03:26 CEST 2001 - werner@suse.de

- Add interface for amavis
- Move mfapi.h to /usr/include/libmilter/

-------------------------------------------------------------------
Wed Mar 21 19:34:24 CET 2001 - werner@suse.de

- Update to sendmail 8.11.3
- Add libmilter.a and co

-------------------------------------------------------------------
Thu Mar 15 18:10:01 CET 2001 - ro@suse.de

- changed for openldap2 

-------------------------------------------------------------------
Thu Mar 15 01:08:35 CET 2001 - ro@suse.de

- fixed neededforbuild for openldap

-------------------------------------------------------------------
Fri Feb 23 13:54:26 CET 2001 - werner@suse.de

- Check for YAST_ASK value for all variables used be SuSEconfig

-------------------------------------------------------------------
Wed Jan 17 17:04:28 CET 2001 - werner@suse.de

- Change init.d location in sendmails permission file

-------------------------------------------------------------------
Tue Jan  9 23:40:10 CET 2001 - ro@suse.de

- re-added sfio compile fix from Andreas Schwab 

-------------------------------------------------------------------
Tue Jan  9 19:01:51 CET 2001 - werner@suse.de

- Update to 8.11.2 due BUG fixes
  * Sendmail, Inc. and the Sendmail Consortium are proud to 
    announce the release of sendmail 8.11.2. This is a maintenance 
    release which contains bug fixes for problems found after 
    8.11.1 was released.

-------------------------------------------------------------------
Mon Dec 18 12:56:46 CET 2000 - werner@suse.de

- Add touch of *.db file to set mtime of those files

-------------------------------------------------------------------
Mon Dec 11 17:07:12 CET 2000 - werner@suse.de

- Add LSB header to init script

-------------------------------------------------------------------
Tue Dec  5 23:13:56 PST 2000 - bk@suse.de

- add /usr/lib/sendmail.d/bin (like /usr/lib/sendmail.d) to %files

-------------------------------------------------------------------
Tue Nov 28 14:29:53 CET 2000 - kukuk@suse.de

- Move init script to /etc/init.d

-------------------------------------------------------------------
Fri Nov 24 17:48:48 CET 2000 - werner@suse.de

- Update to 8.11.1
- Add a Makefile for /etc/mail/
- Minor changes within suse-linux.m4

-------------------------------------------------------------------
Mon Nov  6 02:44:54 CET 2000 - ro@suse.de

- fixed neededforbuild 

-------------------------------------------------------------------
Wed Sep 27 14:25:56 CEST 2000 - werner@suse.de

- Fix VERSIONID format handling

-------------------------------------------------------------------

Mon Sep 11 14:43:42 CEST 2000 - werner@suse.de

- Fix some typos in README.SuSE (Thanks to Pavel Janik)

-------------------------------------------------------------------
Tue Sep  5 13:08:13 CEST 2000 - werner@suse.de

- correct FAQ name

-------------------------------------------------------------------
Mon Sep  4 15:53:26 CEST 2000 - werner@suse.de

- Update to 8.11.0
  * Hopefully reverse lookup works even with IPv6
  * Adapted the patches of 8.10.2
- Add MASQUERADE_DOMAINS for masquerade of disjoint namespaces
- Move /var/run/sendmail.control to /var/run/sendmail/control

-------------------------------------------------------------------
Tue Jul 25 11:45:04 CEST 2000 - werner@suse.de

- Add missed helpfile to file list.
- Correct two typo's

-------------------------------------------------------------------
Fri Jul 14 12:41:23 CEST 2000 - werner@suse.de

- Use FQHOSTNAME in /etc/rc.config or /etc/HOSTNAME before calling
  hostname because the hostname maybe configured but not active.

-------------------------------------------------------------------
Tue Jul 11 15:22:38 CEST 2000  - werner@suse.de

- Set Timeout.ident to `0s' for SuSE Linux because many sites do
  not run identd or have disabled auth/ident protocol

-------------------------------------------------------------------
Tue Jun 20 16:46:58 CEST 2000 - werner@suse.de

- Remove FROM_HEADER from /etc/rc.config.d/sendmail.rc.config
  (bug #2881)

-------------------------------------------------------------------
Mon Jun 19 15:37:27 CEST 2000 - werner@suse.de

- Security update to 8.10.2

-------------------------------------------------------------------
Wed May 10 15:58:52 CEST 2000 - werner@suse.de

- Add a README.SuSE at /usr/share/doc/packages/sendmail/
- Make sendmail accept sticky but group writable directories
- Correct order of mailers in SuSEconfig script

-------------------------------------------------------------------
Tue May  9 11:49:53 CEST 2000 - werner@suse.de

- Add loud comment to hopefully weak up otherwise not thinking
  system adiminstrators.
- Use dummy domains only within linux.mc.

-------------------------------------------------------------------
Fri Apr 14 19:13:25 CEST 2000 - werner@suse.de

- New version 8.10.1 (some security fixes)

-------------------------------------------------------------------
Fri Apr 14 18:17:47 CEST 2000 - werner@suse.de

- Add tcpd into neededforbuild

-------------------------------------------------------------------
Thu Apr  6 20:58:58 CEST 2000 - werner@suse.de

- Update to version 8.10.0 of sendmail
  * convert SuSE patches if not already in there
  * change our extensions to the new version (e.g. bsmtp, fido)
  * add mail500 mailer for (open)ldap
  * local mailer shouldn't use MX records
  * a few fixes withion the M4 macro tools
  * fix configure script
  * make libc5/nis+ changes dynamically
  * add example /etc/mail/relay-domains
  * add some informations on various files in /etc/mail/
  * move /etc/smrsh/ to /usr/lib/sendmail.d/bin/
  * install helpfile into /usr/lib/sendmail.d/
  * do NOT build and install vacation, we have our own

-------------------------------------------------------------------
Tue Feb 29 19:53:55 CET 2000 - schwab@suse.de

- Fix inconsistent printf format/arguments.

-------------------------------------------------------------------
Mon Feb 28 14:31:27 CET 2000 - werner@suse.de

- Add patch which avoid alignment problems

-------------------------------------------------------------------
Mon Feb 21 16:19:42 CET 2000 - ke@suse.de

- add Copyright tag to the uucp subpackage
- beautify Group tags

-------------------------------------------------------------------
Mon Feb 14 08:59:54 CET 2000 - ro@suse.de

- move man to /usr/share using macro 

-------------------------------------------------------------------
Fri Feb 11 22:35:12 CET 2000 - werner@suse.de

- Fix m4 source path during installation

-------------------------------------------------------------------
Mon Jan 10 18:31:23 CET 2000 - werner@suse.de

- Correct stupid ` ' bug ;^)

-------------------------------------------------------------------
Thu Dec 23 16:27:46 CET 1999 - werner@suse.de

- Move DOMAIN(generic) from suse-linux.m4 to linux.mc and
  SuSEconfig.sendmail
- Add /etc/mail/README.linux to the rpm binary file.

-------------------------------------------------------------------
Tue Dec 14 13:52:25 CET 1999 - ro@suse.de

- create directory /var/lib/uucp (no longer in aaa_dir) 

-------------------------------------------------------------------
Thu Dec  2 19:48:05 CET 1999 - werner@suse.de

- Make it ready for 5.3 (libc5)

-------------------------------------------------------------------
Mon Nov  8 10:52:41 CET 1999 - werner@suse.de

- Fix some permissions

-------------------------------------------------------------------
Fri Nov  5 15:16:55 CET 1999 - schwab@suse.de

- Fix typo in %post

-------------------------------------------------------------------
Wed Nov  3 18:52:30 CET 1999 - werner@suse.de

- Workaround for fillup kludge

-------------------------------------------------------------------
Wed Nov  3 18:52:30 CET 1999 - werner@suse.de

- really disable tcpwrapper

-------------------------------------------------------------------
Tue Nov  2 16:10:51 CET 1999 - werner@suse.de

- Adapted the db1 patch to the last change

-------------------------------------------------------------------
Mon Nov  1 23:27:33 MET 1999 - werner@suse.de

- Currently disabled: libwrap from tcpd (feature for next SuSE)
- Don't use passwd in service switches because currently not used
  by sendmail

-------------------------------------------------------------------
Fri Oct 29 16:39:21 CEST 1999 - werner@suse.de

- Remove doubled alias `abuse'

-------------------------------------------------------------------
Thu Oct 28 21:57:52 CEST 1999 - werner@suse.de

- Add some more comments
- Split nocanonify and nodns to support configurations found
  with an update.
- Still unresolved: Usage of TCPWRAPPER

-------------------------------------------------------------------
Wed Oct 27 23:44:49 CEST 1999 - werner@suse.de

- Add linebreak in warning

-------------------------------------------------------------------
Wed Oct 27 20:51:17 CEST 1999 - werner@suse.de

- Add description for SENDMAIL_GENERICS_DOMAIN

-------------------------------------------------------------------
Wed Oct 27 19:42:50 CEST 1999 - werner@suse.de

- Fix some minor bugs:
  * source /etc/rc.config.d/sendmail.rc.config if available
  * Expand AliasFile for ldap
  * Locate AliasFile at /etc/aliases
  * Add some more comments about nis, nisplus in service.switch
  * Make FEATURE ldap usable

-------------------------------------------------------------------
Tue Oct 26 22:50:28 CEST 1999 - werner@suse.de

- Add some patches
  * ldap.893.patch (some fixes for ldap support)
  * mime.c.patch.893 (avoid buffer overflow die mime mails)
  * mrbl.p3.893 (enable multiple realtime blackhole list)
  * util.c.893.patch (avoid freeing of pointer in signal handler)
- Add own changes
  * a new feature/ldap.m4 for (open)ldap support
  * a new feature/expensive.m4 (expensive smtp)
  * a new feature/dialup.m4 (defer delivery mode)
  * a new hack/nodns.m4 (combine nocanonify and service-nodns.switch)
  * add service-nodns.switch and service.switch (passwd with nis)
    in /etc/mail/
  * add a new ostype/suse-linux.m4 with our default configuration
  * change /etc/mail/linux.mc, /etc/mail/linux.nullclient.mc,
    and /sbin/conf.d/SuSEconfig to fit new suse-linux.m4
  * add some anti-spam possibilities in /etc/mail/linux.mc
  * make IP_SRCROUTE work for newer kernels and glibc
  * make USESETEUID and HASSETREUID work for the
    appropiate kernel and glibc version.
  * add IP adresses 127.x.x.x for relaying in /etc/mail/access
  * change permissions for /var/spool/mqueue
  * use `.hoststat' directory
  * use DOMAIN(generic)
  * add some default aliases (abuse and spam)
  * use wrapper library (/etc/hosts.allow and /etc/hosts.deny)
  * enable nisplus support
  * enable ldap support
  * add text version of intro, op, and usenix

-------------------------------------------------------------------
Mon Sep 20 17:41:26 CEST 1999 - ro@suse.de

- added provides smtp_daemon

-------------------------------------------------------------------
Mon Sep 13 17:23:57 CEST 1999 - bs@suse.de

- ran old prepare_spec on spec file to switch to new prepare_spec.

-------------------------------------------------------------------
Fri Sep 10 15:33:45 CEST 1999 - uli@suse.de

- fixed manpath in Linux.ppc

-------------------------------------------------------------------
Thu Aug  5 11:38:25 MEST 1999 - uli@suse.de

- updated FAQ

-------------------------------------------------------------------
Thu Jul 22 13:11:17 MEST 1999 - bs@suse.de

- switched back to prior version, because /etc/mail/linux.mc is mentioned
  in our manual.

-------------------------------------------------------------------
Tue Jul 20 16:22:39 MEST 1999 - florian@suse.de

- better configuration and anti spam option
- delete FAQ from distribution
- sample config files only in /usr/doc

-------------------------------------------------------------------
Mon Jul 12 13:35:48 MEST 1999 - ro@suse.de

- do not pre-format man-pages

-------------------------------------------------------------------
Thu Jun 10 16:16:44 MEST 1999 - ro@suse.de

- fixed build for libc5

-------------------------------------------------------------------
Tue May 18 09:01:51 MEST 1999 - ro@suse.de

- updated db1-patch

-------------------------------------------------------------------
Fri May 14 12:24:05 MEST 1999 - choeger@suse.de

- add on for SuSEconfig.sendmail for DoD Sites
  FEATURE(\`accept_unresolvable_domains')dnl
  FEATURE(\`accept_unqualified_senders')dnl
  will be set if SENDMAIL_EXPENSIVE=yes

-------------------------------------------------------------------
Tue Apr  6 19:33:33 MEST 1999 - choeger@suse.de

- removed feature nodns, because it's declared as no-op

-------------------------------------------------------------------
Sun Apr  4 16:11:03 MEST 1999 - choeger@suse.de

- new package sendmail-8.9.3
- new feature /etc/mail/access

-------------------------------------------------------------------
Wed Feb 17 16:43:12 MET 1999 - ro@suse.de

- removed rmail and rmail.8 (moved to package uucp)
- build uucp from same specfile

-------------------------------------------------------------------
Mon Jan 11 10:46:23 MET 1999 - ro@suse.de

- Makefile.Linux: objdir changed to Linux.2.* (respect alpha)

-------------------------------------------------------------------
Mon Dec 14 02:54:05 MET 1998 - bs@suse.de

- created notify message
- fixed comment in rc.config

-------------------------------------------------------------------
Thu Dec 10 10:52:57 MET 1998 - florian@suse.de

- update check.tar.gz to the newest version
- use /var/spool/mqueue instead of /var/mqueue
- add statistics prog sendmail.nissl
- mv smrsh prog dir to /etc/smrsh
- add userdb
- etc/aliases: add more logic and fix some paths
- add /tmp-race-fixes to expn.pl
- mv /etc/mail/sendmail.st /var/log/
- fix some paths in sendmail docu
- add LUSER_RELAY example to /etc/mail/linux.mc
- add bug-fixes if someone recompiles with TCPWRAPPERS defined
- add SENDMAIL_GENERICS_DOMAIN to rc.config
- change most files in /etc/mail to config(noreplace)
- dynamic linking against -lresolv -lnsl
- do not compile with XDEBUG


-------------------------------------------------------------------
Mon Dec  7 18:01:12 MET 1998 - ro@suse.de

- updated init-script
- build for libc5 as well as for glibc

-------------------------------------------------------------------
Sat Dec  5 13:37:08 MET 1998 - bs@suse.de

- mark /etc/sendmail.cf and /etc/aliases as "noreplace".
- mark mailertable, virtusertable, genericstable as "noreplace".
- skipped notice mail for sys admin.
- don't include *.db
- SuSEconfig.sendmail: fixed problem, if *.db do not exist.

-------------------------------------------------------------------
Thu Nov  5 10:04:59 MET 1998 - ro@suse.de

- use -ldb (db1 exists only for glibc-2.1)

-------------------------------------------------------------------
Tue Sep 29 18:04:11 MEST 1998 - ro@suse.de

- BETA ONLY: use /usr/include/db1 and -ldb1
  use -lresolv and -lnsl

-------------------------------------------------------------------
Wed Mar  4 12:16:36 MET 1998 - florian@suse.de

- add newer anti-spam rules
- comment out majordomo-entries in /etc/aliases
- do not use "smtp:" for nullclient file

-------------------------------------------------------------------
Mon Mar  2 12:49:30 MET 1998 - florian@suse.de

- marked /etc/mail/aliases as %config

-------------------------------------------------------------------
Mon Feb  9 13:13:06 MET 1998 - florian@suse.de

- newer /etc/mail/README
- newer anti-spam rules
- make all database files optional in linux.mc
- do not use the "-f" option for the database files
- use the new SuSE-functions to check with md5sums if a new sendmail.cf
  should be written

-------------------------------------------------------------------
Fri Jan 16 11:43:26 MET 1998 - bs@suse.de

- minor bugfix in /sbin/conf.d/SuSEconfig.sendmail 
  (exit if no rc.config exists)

----------------------------------------------------------------------------
Thu Nov 27 19:32:57 MET 1997 - florian@suse.de

- fix some typos in docu files
- update to newest version of Anti-Spam support

----------------------------------------------------------------------------
Wed Nov 19 12:55:00 MET 1997 - florian@suse.de

- enable NIS support

----------------------------------------------------------------------------
Sun Nov 16 23:02:59 MET 1997 - florian@suse.de

- update /etc/mail/README


----------------------------------------------------------------------------
Mon Oct 27 12:27:38 MET 1997 - florian@suse.de

- update to sendmail 8.8.8
- first start for a docu file in /etc/mail/README
- new parameters in rc.config (/var/adm/fillup-templates/rc.config.sendmail)
- per default additional database files in /etc/mail are used
- /sbin/conf.d/SuSEconfig.sendmail gernerates /etc/sendmail.cf
- add support for anti-spam macros from Claus Aßmann
- sample /etc/mail/linux.mc for complex email setups


----------------------------------------------------------------------------
Sun Apr 27 15:19:41 CEST 1997 - bs@suse.de

start sendmail in background in sbin/init.d/sendmail

----------------------------------------------------------------------------
Thu Feb 27 12:30:11 CET 1997 - bs@suse.de


added alias faxmaster

----------------------------------------------------------------------------
Wed Jan 22 22:24:11 CET 1997 - florian@suse.de


- add uucp and mdom to the list of trusted users

- update to version 8.8.5

- add slightly better /etc/aliases


----------------------------------------------------------------------------
Tue Dec  3 16:07:28 CET 1996 - florian@suse.de

- update to 8.8.4 (due to a security hole)

----------------------------------------------------------------------------
Mon Nov 18 13:45:34 CET 1996 - florian@suse.de

- update to 8.8.3 (due to a big security hole)

----------------------------------------------------------------------------
Thu Oct 17 16:05:09 CEST 1996 - florian@suse.de


- Update auf neue Version 8.8.2.

- Vorbereitung von mehr Konfigurationsmoeglichkeiten in rc.config.




----------------------------------------------------------------------------
Tue Sep 24 11:58:15 MET DST 1996 - florian@suse.de


- added two small patches from Eric Allman(?)


----------------------------------------------------------------------------
Sat Sep 21 01:18:40 MET DST 1996 - florian@suse.de


- update to newer version


----------------------------------------------------------------------------
Tue Sep  3 16:43:00 MET DST 1996 - florian@suse.de


- added security fix
- use "FEATURE(nocanonify)" instead of editing the .cf file

