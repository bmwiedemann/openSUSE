-------------------------------------------------------------------
Mon Apr 08 14:18:32 UTC 2024 - lnussel@suse.com

- Update to version 1+git20240408.49e4021:
  * Update requirements
  * Measure manually initrd if pcrlock fails
  * Set SYSTEMD_LOG_LEVEL if verbose
  * Only error out on empty machine-id when actually used
  * feat: add basic boot assessment
  * fix: use new os-release and machine-id files
  * dracut call: --add-device belongs to --sysroot
  * Make sdbootutil usable with no snapshot Systems

-------------------------------------------------------------------
Thu Mar 21 13:50:54 UTC 2024 - lnussel@suse.com

- Update to version 1+git20240321.04bfbac:
  * Warning if make-policy do not register all PCRs

-------------------------------------------------------------------
Wed Mar 20 10:02:58 UTC 2024 - lnussel@suse.com

- Update to version 1+git20240320.8b35615:
  * Revert "Remove GRUB2 package conflict"

-------------------------------------------------------------------
Thu Mar 14 14:14:31 UTC 2024 - lnussel@suse.com

- Update to version 1+git20240314.3472899:
  * Add minimal grub configuration
  * Add systemd.machine_id to kernel command line
  * Add SNAPSHOT parameter to bootloader command
  * Remove GRUB2 package conflict
  * Resolve some shellcheck issues
  * Remove unused variable
  * Change tempfile name
  * needs-update and update meets grub2
  * Consider grub2 when installing the bootloader
  * Add grub2 detector and command
  * fix: delete correct initrd file after installation
  * feat: add add-all-kernels-clean function
  * refactor: use snapshot as argument for all commands
  * Set SYSTEMD_LOG_LEVEL=warning for pcrlock
  * Don't require /etc/sysconfig/fde-tools for pcr-oracle
  * add loader.conf to locking
  * Make sure there are actually entries
  * Prefer pcr-oracle if it's actually configured
  * Don't log to syslog ourselves
  * Fix typo
  * fix: remove Tumbleweed version from regular entries

-------------------------------------------------------------------
Thu Feb 15 15:04:42 UTC 2024 - lnussel@suse.com

- Update to version 1+git20240215.cb7e392:
  * Add --no-random-seed argument

-------------------------------------------------------------------
Wed Feb 14 08:58:18 UTC 2024 - lnussel@suse.com

- Update to version 1+git20240214.ba81e0e:
  * Fix pcr-oracle use
  * Add device when generating initrd for snapshots
  * Use systemd-pcrlock
  * Pre-built initrd support
  * Add subvolumes_prefix support

-------------------------------------------------------------------
Tue Jan 23 07:46:31 UTC 2024 - lnussel@suse.com

- Update to version 1+git20240122.c0d8f76:
  * Integrate with kernel-install
  * Rework kernel listing a bit
  * Add checks to list-entries
  * List entries for current system only by default
  * Fall back to loader.conf if setting efivar failed
  * Runtime determine kernel image name
  * Add list-snapshots
  * Add list-entries command

-------------------------------------------------------------------
Mon Jan 22 12:58:40 UTC 2024 - lnussel@suse.com

- Update to version 1+git20240118.7e744b4:
  * Bind mount /etc inside the snapshot

-------------------------------------------------------------------
Thu Dec 21 16:24:56 UTC 2023 - lnussel@suse.com

- Update to version 1+git20231221.42797ab:
  * Do not fail if LUKS2 section is empty

-------------------------------------------------------------------
Thu Dec 14 13:40:50 UTC 2023 - lnussel@suse.com

- Update to version 1+git20231214.b186b2d:
  * Fix exit code
  * Revert "Add pcr predictions to initrd for now"

-------------------------------------------------------------------
Wed Dec 13 16:12:47 UTC 2023 - lnussel@suse.com

- Update to version 1+git20231213.2a07af6:
  * Add update-predictions command
  * Predict all the entries

-------------------------------------------------------------------
Mon Dec 11 07:48:29 UTC 2023 - lnussel@suse.com

- Update to version 1+git20231211.01c6a76:
  * Add ExclusiveArch for 64-bit EFI architectures

-------------------------------------------------------------------
Wed Nov 29 10:40:23 UTC 2023 - lnussel@suse.com

- Update to version 1+git20231129.d7f3909:
  * Add pcr predictions to initrd for now
  * Generate new TPM2 predictions with pcr-oracle
  * Update file triggers
  * Fix exit code of update command
  * Add a %transfiletriggerin to update EFI binaries
  * Update help text

-------------------------------------------------------------------
Tue Nov 14 17:10:32 UTC 2023 - lnussel@suse.com

- Update to version 1+git20231114.6bcf1d3:
  * Fix quoting when calling dracut

-------------------------------------------------------------------
Thu Nov 02 14:57:57 UTC 2023 - lnussel@suse.de

- Update to version 1+git20231102.beb4c19:
  * Update sdboot in snapper hook
  * Install command with specific snapshot
  * Install sdbootutil marker next to loader
  * In t-u mode, don't call sdbootutil in rpm scriptlets

-------------------------------------------------------------------
Thu Oct 26 07:55:11 UTC 2023 - lnussel@suse.com

- Update to version 1+git20231026.f43c33c:
  * Fix generating initrd for random snapshots

-------------------------------------------------------------------
Mon Oct 23 12:36:16 UTC 2023 - lnussel@suse.de

- Update to version 1+git20231023.873adb9:
  * Use correct image name on aarch64

-------------------------------------------------------------------
Thu Oct 19 06:15:45 UTC 2023 - Fabian Vogt <fvogt@suse.de>

- Add changes from gh#openSUSE/sdbootutil#21:
  * sdbootutil.spec: Add missing efibootmgr dependency
  * sdbootutil.spec: Make sdbootutil-snapper a hard dependency

-------------------------------------------------------------------
Thu Oct 12 15:02:17 UTC 2023 - lnussel@suse.de

- Update to version 1+git20231005.890f70c:
  * Add --no-reuse-initrd option
  * Refactor boot descriptive entries
  * feat: more descriptive bootmenu entries
  * Remove stray set -x
  * speed up snapper list
  * Fix misleading comment
  * Fix helptext

-------------------------------------------------------------------
Thu Aug 17 12:02:02 UTC 2023 - lnussel@suse.de

- Update to version 1+git20230817.2a3cd34:
  * Ignore errors from efibootmgr
  * Update spec file
  * Add marker to flag installation using sdbootutil
  * Refactor and fix boot entry installation
  * Don't exit in warn()
  * feat: use arg_esp_path directly
  * fix: get esp_device from bootctl
  * fix: only install shim for secure boot
  * feat: create only non-existing entries & pass correct ESP partition
  * fix: make efibootmgr silent
  * feat: create boot menu entries when installed

-------------------------------------------------------------------
Mon Aug 14 13:24:43 UTC 2023 - lnussel@suse.com

- Update to version 1+git20230814.38973c7:
  * Support purge-kernels
  * Fix postun
  * Remove debug logging

-------------------------------------------------------------------
Mon Aug  7 07:38:45 UTC 2023 - Fabian Vogt <fvogt@suse.com>

- Only install the snapper plugin if sdbootutil is requested
- Bypass git, owner is not available ATM

-------------------------------------------------------------------
Thu Jul 27 14:32:09 UTC 2023 - lnussel@suse.com

- Update to version 1+git20230727.a0e666f:
  * Set and honor $SYSTEMD_ESP_PATH
  * rpm-script: don't remove kernel on reinstalls

-------------------------------------------------------------------
Wed Jul 26 16:22:10 UTC 2023 - lnussel@suse.com

- Update to version 1+git20230726.a994d2e:
  * Fix installing extra kernels in MicroOS
  * Replace file triggers with scriptlet
  * Fix cleanup of rollback files
  * Don't install unchanged files
  * Add is-bootable and list-kernels commands
  * Add ARCHITECTURE.md which explains how the setup works
  * Add default loader config when installed

-------------------------------------------------------------------
Mon Jul 17 09:16:02 UTC 2023 - lnussel@suse.com

- Update to version 1+git20230717.dac075e:
  * Install default boot loader in non-secure-boot case too

-------------------------------------------------------------------
Thu Jul 13 12:04:12 UTC 2023 - lnussel@suse.de

- Update to version 1+git20230713.df6eaca:
  * Update features
  * Call stty only in interactive mode
  * silence stty errors

-------------------------------------------------------------------
Thu Jul 13 08:09:49 UTC 2023 - lnussel@suse.de

- Update to version 1+git20230713.356f0c5:
  * Fix rpm dependencies

-------------------------------------------------------------------
Tue Jul 11 11:41:45 UTC 2023 - lnussel@suse.com

- Update to version 1+git20230711.f5c7e48:
  * Fix setting root and rootflags

-------------------------------------------------------------------
Tue Jul 11 09:08:51 UTC 2023 - lnussel@suse.com

- Update to version 1+git20230626.1ef6b4d:
  * creating /etc/kernel directory
  * Update help screen

-------------------------------------------------------------------
Thu Jun 15 11:25:16 UTC 2023 - lnussel@suse.de

- Update to version 1+git20230615.587e134:
  * Handle out of space

-------------------------------------------------------------------
Thu Jun 15 10:57:25 UTC 2023 - Ludwig Nussel <lnussel@suse.de>

- initial package
