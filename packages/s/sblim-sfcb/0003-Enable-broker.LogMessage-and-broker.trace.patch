From f1642ce4a36d0aa86ee5c12d13e2224960025cb5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Klaus=20K=C3=A4mpf?= <kkaempf@suse.de>
Date: Thu, 5 Aug 2010 12:23:45 +0200
Subject: [PATCH 03/25] Enable broker.LogMessage and broker.trace

---
 brokerEnc.c | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

diff --git a/brokerEnc.c b/brokerEnc.c
index 9115e71d0d3d..32e7345afb64 100644
--- a/brokerEnc.c
+++ b/brokerEnc.c
@@ -219,19 +219,21 @@ __beft_getMessage(const CMPIBroker * broker,
 
 static CMPIStatus __beft_logMessage
     (const CMPIBroker * broker, int severity, const char *id,
-     const char *text, const CMPIString *string) {
-  CMPIStatus      rc = { CMPI_RC_ERR_NOT_SUPPORTED, NULL };
-  _SFCB_ENTER(TRACE_ENCCALLS, "logMessage");
-  _SFCB_TRACE(1, ("This operation is not yet supported."));
+     const char *text, const CMPIString *string)
+{
+  CMPIStatus rc = {CMPI_RC_OK,NULL};
+  _SFCB_ENTER(TRACE_ENCCALLS,id);
+  _SFCB_TRACE(severity,((char *)text));
   _SFCB_RETURN(rc);
 }
 
 static CMPIStatus __beft_trace
     (const CMPIBroker * broker, int level, const char *component,
-     const char *text, const CMPIString *string) {
-  CMPIStatus      rc = { CMPI_RC_ERR_NOT_SUPPORTED, NULL };
-  _SFCB_ENTER(TRACE_ENCCALLS, "trace");
-  _SFCB_TRACE(1, ("This operation is not yet supported."));
+     const char *text, const CMPIString *string)
+{
+  CMPIStatus rc = {CMPI_RC_OK,NULL};
+  _SFCB_ENTER(TRACE_ENCCALLS,component);
+  _SFCB_TRACE(level,((char *)text));
   _SFCB_RETURN(rc);
 }
 
-- 
2.15.0

