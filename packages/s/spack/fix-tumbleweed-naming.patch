From e752e8f95a5fecf223e2849beeb8bd7cef234c60 Mon Sep 17 00:00:00 2001
From: Christian Goll <cgoll@suse.de>
Date: Wed, 11 Nov 2020 20:29:55 +0100
Subject: [PATCH 1/4] fix tumbleweed naming

---
 lib/spack/spack/operating_systems/linux_distro.py | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/lib/spack/spack/operating_systems/linux_distro.py b/lib/spack/spack/operating_systems/linux_distro.py
index a6608e6d3..dfa09b16e 100644
--- a/lib/spack/spack/operating_systems/linux_distro.py
+++ b/lib/spack/spack/operating_systems/linux_distro.py
@@ -33,6 +33,11 @@ def __init__(self):
 
         if 'ubuntu' in distname:
             version = '.'.join(version[0:2])
+        # openSUSE Tumbleweed is a rolling release which can change
+        # more than once in a week, so set version to tumbleweed
+        elif 'opensuse-tumbleweed' in distname:
+            distname = 'opensuse'
+            version = 'tumbleweed'
         else:
             version = version[0]
 
-- 
2.26.2

