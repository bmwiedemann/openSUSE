--- configure.in
+++ configure.in
@@ -1,4 +1,5 @@
 dnl Process this file with autoconf to produce a configure script.
+AC_PREREQ(2.57)
 AC_INIT(src/sdlmm.h)
 
 dnl Automake / package stuff
@@ -15,6 +16,31 @@
 esac
 
 #
+# Configuration header
+#
+
+AH_TOP([
+#ifndef SDLMM_CONFIG_H
+#define SDLMM_CONFIG_H
+#if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 7)
+#define RCSID(X) \
+ static char *rcsid __attribute__ ((unused)) =X
+#elif __GNUC__ == 2
+#define RCSID(X) \
+ static char *rcsid = X; \
+ static void *use_rcsid=(&use_rcsid, (void *)&rcsid)
+#else
+#define RCSID(X) \
+ static char *rcsid = X
+#endif
+
+#undef ASSERTIONS
+])
+AH_BOTTOM([
+#endif // SDLMM_CONFIG_H
+])
+
+#
 # Making releases:
 #   MICRO_VERSION += 1;
 #   INTERFACE_AGE += 1;
