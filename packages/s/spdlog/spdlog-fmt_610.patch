From 1aa9ea92e20142a1ce2f2e1ac40ed1fa781fac19 Mon Sep 17 00:00:00 2001
From: gabime <gmelman1@gmail.com>
Date: Tue, 3 Dec 2019 00:35:28 +0200
Subject: [PATCH] Fix #1340

---
 include/spdlog/details/circular_q.h            | 1 +
 include/spdlog/details/pattern_formatter-inl.h | 2 --
 include/spdlog/details/thread_pool-inl.h       | 1 +
 3 files changed, 2 insertions(+), 2 deletions(-)

Index: spdlog-1.4.2/include/spdlog/details/circular_q.h
===================================================================
--- spdlog-1.4.2.orig/include/spdlog/details/circular_q.h
+++ spdlog-1.4.2/include/spdlog/details/circular_q.h
@@ -5,6 +5,7 @@
 #pragma once
 
 #include <vector>
+#include <cassert>
 
 namespace spdlog {
 namespace details {
Index: spdlog-1.4.2/include/spdlog/details/pattern_formatter-inl.h
===================================================================
--- spdlog-1.4.2.orig/include/spdlog/details/pattern_formatter-inl.h
+++ spdlog-1.4.2/include/spdlog/details/pattern_formatter-inl.h
@@ -72,8 +72,6 @@ public:
 private:
     void pad_it(size_t count)
     {
-        // count = std::min(count, spaces_.size());
-        assert(count <= spaces_.size());
         fmt_helper::append_string_view(string_view_t(spaces_.data(), count), dest_);
     }
 
Index: spdlog-1.4.2/include/spdlog/details/thread_pool-inl.h
===================================================================
--- spdlog-1.4.2.orig/include/spdlog/details/thread_pool-inl.h
+++ spdlog-1.4.2/include/spdlog/details/thread_pool-inl.h
@@ -8,6 +8,7 @@
 #endif
 
 #include "spdlog/common.h"
+#include <cassert>
 
 namespace spdlog {
 namespace details {
