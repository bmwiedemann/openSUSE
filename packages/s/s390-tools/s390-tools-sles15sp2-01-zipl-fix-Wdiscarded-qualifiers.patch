Subject: [PATCH] [FEAT VS1804] zipl: fix -Wdiscarded-qualifiers
From: Marc Hartmayer <mhartmay@linux.ibm.com>

Summary:     genprotimg: Introduce new tool for the creation of PV images
Description: genprotimg takes a kernel, host-key documents, optionally an
             initrd, optionally a file with the kernel command line, and it
             generates a single, loadable image file. The image consists of a
             concatenation of a plain text boot loader, the encrypted
             components for kernel, initrd, and cmdline, and the
             integrity-protected PV header, containing metadata necessary for
             running the guest in PV mode. It's possible to use this image file
             as a kernel for zIPL or for a direct kernel boot using QEMU.
Upstream-ID: bbc46edaf53c2c148b5c94a2414f6847f67f856a
Problem-ID:  VS1804

Upstream-Description:

             zipl: fix -Wdiscarded-qualifiers

             Reported by GCC 9.2.1 when building with '-Wdiscarded-qualifiers'.

             job.c: In function 'get_job_from_config_file':
             job.c:1810:14: warning: assignment discards 'const' qualifier from pointer target type [-Wdiscarded-qualifiers]

             Signed-off-by: Marc Hartmayer <mhartmay@linux.ibm.com>
             Reviewed-by: Stefan Haberland <sth@linux.ibm.com>
             Signed-off-by: Jan HÃ¶ppner <hoeppner@linux.ibm.com>


Signed-off-by: Marc Hartmayer <mhartmay@linux.ibm.com>
---
 zipl/src/job.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/zipl/src/job.c
+++ b/zipl/src/job.c
@@ -1796,7 +1796,7 @@ get_job_from_config_file(struct command_
 {
 	struct scan_token* scan;
 	struct scan_token* new_scan;
-	char* filename;
+	const char *filename;
 	char *blsdir;
 	char* source;
 	int rc, scan_size;
