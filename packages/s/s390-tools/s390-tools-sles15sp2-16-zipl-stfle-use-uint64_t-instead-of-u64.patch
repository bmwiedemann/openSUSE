Subject: [PATCH] [FEAT VS1804] zipl: stfle: use uint64_t instead of u64
From: Marc Hartmayer <mhartmay@linux.ibm.com>

Summary:     genprotimg: Introduce new tool for the creation of PV images
Description: genprotimg takes a kernel, host-key documents, optionally an
             initrd, optionally a file with the kernel command line, and it
             generates a single, loadable image file. The image consists of a
             concatenation of a plain text boot loader, the encrypted
             components for kernel, initrd, and cmdline, and the
             integrity-protected PV header, containing metadata necessary for
             running the guest in PV mode. It's possible to use this image file
             as a kernel for zIPL or for a direct kernel boot using QEMU.
Upstream-ID: 9d1baaa594d796ca9fe6bdf1282c78e4b2ff5234
Problem-ID:  VS1804

Upstream-Description:

             zipl: stfle: use uint64_t instead of u64

             As the definition of `stfle_fac_list` in the lowcore uses uint64_t, we
             should also use uint64_t for the `stfle_fac_list` parameter of the
             `stfle/__stfle_asm` function.

             Signed-off-by: Marc Hartmayer <mhartmay@linux.ibm.com>
             Reviewed-by: Stefan Haberland <sth@linux.ibm.com
             Signed-off-by: Jan HÃ¶ppner <hoeppner@linux.ibm.com>


Signed-off-by: Marc Hartmayer <mhartmay@linux.ibm.com>
---
 zipl/boot/s390.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/zipl/boot/s390.h
+++ b/zipl/boot/s390.h
@@ -452,7 +452,7 @@ static inline int test_facility(unsigned
 	return __test_facility(nr, &S390_lowcore.stfle_fac_list);
 }
 
-static inline unsigned long __stfle_asm(u64 *stfle_fac_list, int size)
+static inline unsigned long __stfle_asm(uint64_t *stfle_fac_list, int size)
 {
 	register unsigned long reg0 asm("0") = size - 1;
 
@@ -469,7 +469,7 @@ static inline unsigned long __stfle_asm(
  * @stfle_fac_list: array where facility list can be stored
  * @size: size of passed in array in double words
  */
-static inline void stfle(u64 *stfle_fac_list, int size)
+static inline void stfle(uint64_t *stfle_fac_list, int size)
 {
 	unsigned long nr;
 
