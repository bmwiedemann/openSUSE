<revisionlist>
  <revision rev="1" vrev="1">
    <srcmd5>878efcba4be9d30882151e56734f564c</srcmd5>
    <version>unknown</version>
    <time>1371736276</time>
    <user>coolo</user>
    <comment>add link</comment>
  </revision>
  <revision rev="2" vrev="3">
    <srcmd5>878efcba4be9d30882151e56734f564c</srcmd5>
    <version>unknown</version>
    <time>1379664759</time>
    <user>adrianSuSE</user>
    <comment>Split 13.1 from Factory</comment>
  </revision>
  <revision rev="3" vrev="4">
    <srcmd5>b2b77e54ac60ab364aa3d6fe1f21f46d</srcmd5>
    <version>2</version>
    <time>1391781401</time>
    <user>coolo</user>
  </revision>
  <revision rev="4" vrev="5">
    <srcmd5>5bc770bf96cc4ff524374b38dcfda697</srcmd5>
    <version>2</version>
    <time>1392111994</time>
    <user>coolo</user>
    <comment>- Make systemd rpm macros package a separate to avoid rebuild of
  the full package tree if systemd package change</comment>
    <requestid>221246</requestid>
  </revision>
  <revision rev="5" vrev="6">
    <srcmd5>e1f0f27c854b4e60935aa87976944bcd</srcmd5>
    <version>2</version>
    <time>1393601124</time>
    <user>scarabeus_factory</user>
    <comment>- Require coreutils as rm and touch are used</comment>
    <requestid>224203</requestid>
  </revision>
  <revision rev="6" vrev="7">
    <srcmd5>ec3f948643cc54fd997a0a86cd22c66e</srcmd5>
    <version>2</version>
    <time>1396770839</time>
    <user>coolo</user>
    <comment>- Add a %_ntpunitsdir macro 

- Add support to not restart services if running in YaST2 or
  if DISABLE_RESTART_ON_UPDATE is set to yes [bnc#858429]</comment>
    <requestid>227774</requestid>
  </revision>
  <revision rev="7" vrev="9">
    <srcmd5>ec3f948643cc54fd997a0a86cd22c66e</srcmd5>
    <version>2</version>
    <time>1409303442</time>
    <user>adrianSuSE</user>
    <comment>Split 13.2 from Factory</comment>
  </revision>
  <revision rev="8" vrev="10">
    <srcmd5>3c9d24ec998cebaebf0be23d74ba2001</srcmd5>
    <version>2</version>
    <time>1413739644</time>
    <user>coolo</user>
    <comment>1</comment>
    <requestid>256919</requestid>
  </revision>
  <revision rev="9" vrev="11">
    <srcmd5>44878f44db63c2e1c62abfe015519b0d</srcmd5>
    <version>2</version>
    <time>1417438825</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>263010</requestid>
  </revision>
  <revision rev="10" vrev="12">
    <srcmd5>2ae40ae6278b216a0dfea6601d06d0f5</srcmd5>
    <version>2</version>
    <time>1422594048</time>
    <user>dimstar_suse</user>
    <comment>1</comment>
    <requestid>280857</requestid>
  </revision>
  <revision rev="11" vrev="13">
    <srcmd5>22cc3d6f0fb06746d2767987c8bd2d49</srcmd5>
    <version>2</version>
    <time>1437477878</time>
    <user>coolo</user>
    <comment>1</comment>
    <requestid>315790</requestid>
  </revision>
  <revision rev="12" vrev="1">
    <srcmd5>553954c45e478174024baa3ab43f5a35</srcmd5>
    <version>3</version>
    <time>1442638295</time>
    <user>coolo</user>
    <comment>1</comment>
    <requestid>320740</requestid>
  </revision>
  <revision rev="13" vrev="2">
    <srcmd5>c8f4855803bbb153d79e0dcc2875735e</srcmd5>
    <version>3</version>
    <time>1444833269</time>
    <user>dimstar_suse</user>
    <comment>1</comment>
    <requestid>332066</requestid>
  </revision>
  <revision rev="14" vrev="3">
    <srcmd5>2b4666f0123434f39e32dba899a986b3</srcmd5>
    <version>3</version>
    <time>1448553640</time>
    <user>dimstar_suse</user>
    <comment>- Support of DISABLE_STOP_ON_REMOVAL and DISABLE_RESTART_ON_UPDATE 
  from /etc/sysconfig/service (bsc#955996)</comment>
    <requestid>345465</requestid>
  </revision>
  <revision rev="15" vrev="4">
    <srcmd5>ea345afdbc61bb983db4de62932ed174</srcmd5>
    <version>3</version>
    <time>1457179494</time>
    <user>dimstar_suse</user>
    <comment>- Allow the packagers to specify the options -f and -n on the
  macros %service_del_preun(), %service_del_postun(), %systemd_post(),
  and %systemd_preun() (boo#968405) 

- Also honor DISABLE_STOP_ON_REMOVAL and DISABLE_RESTART_ON_UPDATE
  when specified by a package directly in the .spec file. Some
  package know that a restart of their service is fatal
  (boo#968405).</comment>
    <requestid>365189</requestid>
  </revision>
  <revision rev="16" vrev="5">
    <srcmd5>e469d3b770dbaa44f037d0de3c49caf1</srcmd5>
    <version>3</version>
    <time>1465750211</time>
    <user>dimstar_suse</user>
    <comment>1</comment>
    <requestid>400387</requestid>
  </revision>
  <revision rev="17" vrev="6">
    <srcmd5>fe83626e7cc0c754cad588a950315cd4</srcmd5>
    <version>3</version>
    <time>1484818533</time>
    <user>dimstar_suse</user>
    <comment>1</comment>
    <requestid>449718</requestid>
  </revision>
  <revision rev="18" vrev="7">
    <srcmd5>de73fd7855d1de773f7b590a93f407d1</srcmd5>
    <version>3</version>
    <time>1490132555</time>
    <user>dimstar_suse</user>
    <comment>1</comment>
    <requestid>479261</requestid>
  </revision>
  <revision rev="19" vrev="8">
    <srcmd5>e22e9b8dc80b3af24d7200d7bb8ae029</srcmd5>
    <version>3</version>
    <time>1497273018</time>
    <user>dimstar_suse</user>
    <comment>1</comment>
    <requestid>501312</requestid>
  </revision>
  <revision rev="20" vrev="9">
    <srcmd5>7ef65e54f3d2bfe00d2f4741465162a3</srcmd5>
    <version>3</version>
    <time>1510659628</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>540274</requestid>
  </revision>
  <revision rev="21" vrev="10">
    <srcmd5>0284ea95476eb8c553184011a57adfa8</srcmd5>
    <version>3</version>
    <time>1511273865</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>542585</requestid>
  </revision>
  <revision rev="22" vrev="11">
    <srcmd5>e88b43e6e9feff945ef0fc15bbb8404b</srcmd5>
    <version>3</version>
    <time>1514907099</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>557293</requestid>
  </revision>
  <revision rev="23" vrev="12">
    <srcmd5>721e7425b0355a93c01f15adf366b65e</srcmd5>
    <version>3</version>
    <time>1516970062</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>568183</requestid>
  </revision>
  <revision rev="24" vrev="13">
    <srcmd5>5b4a313535726c39ff7509899dd34e95</srcmd5>
    <version>3</version>
    <time>1518812790</time>
    <user>dimstar_suse</user>
    <comment>- Fix %systemd_post(): it's never called during package removal
  Also make it useful by restoring its original implementation.
- Import more definitions from upstream (v237)
- Fix system_user_post macro for usage with RPM 4.14, backport from
  https://github.com/systemd/systemd/commit/e67ba783.
- Move macros.systemd in /usr/lib/rpm
  The file is not supposed to be customized by the user.
- Make %systemd_add_pre() more similar to %systemd_add_post()
  The main advantage is that we pass only one argument to
  systemd-sysv-convert script. The later can now be improved/rewritten
  to handle only one argument and return a useful exit status.
- Make sure to apply presets if packages start shipping units during upgrades (bsc#1071543)
  If a package started shipping units during upgrade only sysv
  migration was done. However if the package didn't ship any sysv
  scripts before no presets were applied.
  Now during upgrades, preset are always applied (still only during
  the first time the units are installed) then followed by the sysv
  migration machinery.
  The downside of this is that migrated services can have symlinks in
  both runlevel.target.wants/ (created by the sysv migration) and in
  the directory specified by the [Install] sections (created by
  &quot;systemctl preset&quot;)...
  The whole thing should be rewritten.
- Make sure to clean up &quot;new-in-upgrade&quot; tag file (bsc#1059627)
  The tag file might have been incorrectly left by a preceding update.
- Restore previous changes
- Revert previous changes
  Also added reasons why the previous changes would be needed.
- Don't execute systemd-tmpfiles if we run in transactional update
  mode
  If you do transactional updates, it doesn't make any sense to
  execute the tmpfiles. They will only create a lot of directories,
  files or symlinks in empty directories without any use and later
  hidden under the real mount points. With transactional updates, you
  should do such things always during the boot phase, as designed by
  systemd (and like Fedora and RHEL doing, but in their use case it's
  in my opinion a bug).
- Remove a useless test in %service_add_pre()
  The test was placed where the condition '[ &quot;$FIRST_ARG&quot; -gt 1 ]' was
  always true.
- BuildIgnore systemd-rpm-macros: a small cycle that can be
  avoided. system-rpm-macros is being pulled in by rpm-build as
  conveniance to the packagers.
- Reference bsc#956849 to please the new OBS 'sanity' check (bsc#1041386)
  %tmpfiles_create is already part of the version shipped by Factory
  so there's nothing to do here execpt mentioning (bsc#956849).
- Kill preset macros
  The last users have been fixed so these macros are no more used by
  any package.
  The introduction of them was a bad idea and only the branding preset
  package is still using a similar mechanism but at least it's now
  self contained in this package. Also the package calls now a shell
  script instead of rpm macros.
  Upstream is working on making this completely obsolete so the preset
  branding package could be cleaned up for good.
- RPM group fix
- %service_add_post() suppress daemon-reload when in installation 
  system (bsc#982343)
- Allow the packagers to specify the options -f and -n on the
  macros %service_del_preun(), %service_del_postun(), %systemd_post(),
  and %systemd_preun() (boo#968405) 
- Also honor DISABLE_STOP_ON_REMOVAL and DISABLE_RESTART_ON_UPDATE
  when specified by a package directly in the .spec file. Some
  package know that a restart of their service is fatal
  (boo#968405).
- Support of DISABLE_STOP_ON_REMOVAL and DISABLE_RESTART_ON_UPDATE 
  from /etc/sysconfig/service (bsc#955996)
- Skip %systemd_preset_* during the clean installation to prevent
  presetting of all services (boo#946216).
- Add %systemd_preset_pre and %systemd_preset_posttrans that will
  do one shot presetting of all services with changed system
  preset. It makes possible to to fix bad default service state
  (bnc#900935#c46, FATE#318949, FATE#317727, bnc#921075).
- Increment version to 3.
- Check for presence/executability of systemd programs before
  executing them, and do not suppress warnings/errors resulting
  from them.
- Update with new macros from systemd 218
- Remove empty sections from specfile
- Mark /etc/rpm/macros.systemd as configuration file 
- Apply then delete patch systemd-daemon-reload-before-service-restart.patch
- Add orignal systemd macros as well (boo#807164)
- make systemd aware of changed unit file content after update
  add systemd-daemon-reload-before-service-restart.patch 
 
- Add a %_ntpunitsdir macro 
- Add support to not restart services if running in YaST2 or
  if DISABLE_RESTART_ON_UPDATE is set to yes [bnc#858429]
- Require coreutils as rm and touch are used
- Make systemd rpm macros package a separate to avoid rebuild of
  the full package tree if systemd package change 
- Resync with systemd v205 macros
- New package with systemd rpm macros to avoid unnecessary build time
  dependencies
</comment>
    <requestid>576778</requestid>
  </revision>
  <revision rev="25" vrev="14">
    <srcmd5>a13436e18db50e099f3bae776c9927ca</srcmd5>
    <version>3</version>
    <time>1527276830</time>
    <user>dimstar_suse</user>
    <comment>- remove confusing --user before --global
  Backport from
  https://github.com/systemd/systemd/commit/28d36da64a7a23a55e8d0a139f2620384fd058b3.
  This was spotted in bsc#1090785.
- Fix %systemd_post(): it's never called during package removal
  Also make it useful by restoring its original implementation.
- Import more definitions from upstream (v237)
- Fix system_user_post macro for usage with RPM 4.14, backport from
  https://github.com/systemd/systemd/commit/e67ba783.
- Move macros.systemd in /usr/lib/rpm
  The file is not supposed to be customized by the user.
- Make %systemd_add_pre() more similar to %systemd_add_post()
  The main advantage is that we pass only one argument to
  systemd-sysv-convert script. The later can now be improved/rewritten
  to handle only one argument and return a useful exit status.
- Make sure to apply presets if packages start shipping units during upgrades (bsc#1071543)
  If a package started shipping units during upgrade only sysv
  migration was done. However if the package didn't ship any sysv
  scripts before no presets were applied.
  Now during upgrades, preset are always applied (still only during
  the first time the units are installed) then followed by the sysv
  migration machinery.
  The downside of this is that migrated services can have symlinks in
  both runlevel.target.wants/ (created by the sysv migration) and in
  the directory specified by the [Install] sections (created by
  &quot;systemctl preset&quot;)...
  The whole thing should be rewritten.
- Make sure to clean up &quot;new-in-upgrade&quot; tag file (bsc#1059627)
  The tag file might have been incorrectly left by a preceding update.
- Restore previous changes
- Revert previous changes
  Also added reasons why the previous changes would be needed.
- Don't execute systemd-tmpfiles if we run in transactional update
  mode
  If you do transactional updates, it doesn't make any sense to
  execute the tmpfiles. They will only create a lot of directories,
  files or symlinks in empty directories without any use and later
  hidden under the real mount points. With transactional updates, you
  should do such things always during the boot phase, as designed by
  systemd (and like Fedora and RHEL doing, but in their use case it's
  in my opinion a bug).
- Remove a useless test in %service_add_pre()
  The test was placed where the condition '[ &quot;$FIRST_ARG&quot; -gt 1 ]' was
  always true.
- BuildIgnore systemd-rpm-macros: a small cycle that can be
  avoided. system-rpm-macros is being pulled in by rpm-build as
  conveniance to the packagers.
- Reference bsc#956849 to please the new OBS 'sanity' check (bsc#1041386)
  %tmpfiles_create is already part of the version shipped by Factory
  so there's nothing to do here execpt mentioning (bsc#956849).
- Kill preset macros
  The last users have been fixed so these macros are no more used by
  any package.
  The introduction of them was a bad idea and only the branding preset
  package is still using a similar mechanism but at least it's now
  self contained in this package. Also the package calls now a shell
  script instead of rpm macros.
  Upstream is working on making this completely obsolete so the preset
  branding package could be cleaned up for good.
- RPM group fix
- %service_add_post() suppress daemon-reload when in installation 
  system (bsc#982343)
- Allow the packagers to specify the options -f and -n on the
  macros %service_del_preun(), %service_del_postun(), %systemd_post(),
  and %systemd_preun() (boo#968405) 
- Also honor DISABLE_STOP_ON_REMOVAL and DISABLE_RESTART_ON_UPDATE
  when specified by a package directly in the .spec file. Some
  package know that a restart of their service is fatal
  (boo#968405).
- Support of DISABLE_STOP_ON_REMOVAL and DISABLE_RESTART_ON_UPDATE 
  from /etc/sysconfig/service (bsc#955996)
- Skip %systemd_preset_* during the clean installation to prevent
  presetting of all services (boo#946216).
- Add %systemd_preset_pre and %systemd_preset_posttrans that will
  do one shot presetting of all services with changed system
  preset. It makes possible to to fix bad default service state
  (bnc#900935#c46, FATE#318949, FATE#317727, bnc#921075).
- Increment version to 3.
- Check for presence/executability of systemd programs before
  executing them, and do not suppress warnings/errors resulting
  from them.
- Update with new macros from systemd 218
- Remove empty sections from specfile
- Mark /etc/rpm/macros.systemd as configuration file 
- Apply then delete patch systemd-daemon-reload-before-service-restart.patch
- Add orignal systemd macros as well (boo#807164)
- make systemd aware of changed unit file content after update
  add systemd-daemon-reload-before-service-restart.patch 
 
- Add a %_ntpunitsdir macro 
- Add support to not restart services if running in YaST2 or
  if DISABLE_RESTART_ON_UPDATE is set to yes [bnc#858429]
- Require coreutils as rm and touch are used
- Make systemd rpm macros package a separate to avoid rebuild of
  the full package tree if systemd package change 
- Resync with systemd v205 macros
- New package with systemd rpm macros to avoid unnecessary build time
  dependencies
</comment>
    <requestid>611238</requestid>
  </revision>
  <revision rev="26" vrev="15">
    <srcmd5>365840dcf7d5bb31b3716a35e48c91c0</srcmd5>
    <version>3</version>
    <time>1544440933</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>653628</requestid>
  </revision>
  <revision rev="27" vrev="1">
    <srcmd5>bc8a40c8cb4a70cda046313a80e315c5</srcmd5>
    <version>4</version>
    <time>1551686909</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>680402</requestid>
  </revision>
  <revision rev="28" vrev="2">
    <srcmd5>5506d87c531c894d7acde79defe19f64</srcmd5>
    <version>4</version>
    <time>1552599735</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>684199</requestid>
  </revision>
  <revision rev="29" vrev="3">
    <srcmd5>9efa05c70f64597395c3c6aa2094855e</srcmd5>
    <version>4</version>
    <time>1598886886</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>829086</requestid>
  </revision>
  <revision rev="30" vrev="1">
    <srcmd5>c9ff345ccef0d78bef651dab39be7eeb</srcmd5>
    <version>4.1</version>
    <time>1602155251</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>839132</requestid>
  </revision>
  <revision rev="31" vrev="1">
    <srcmd5>abd3b337427e06d542c2096e5a598b4c</srcmd5>
    <version>8</version>
    <time>1606142192</time>
    <user>dimstar_suse</user>
    <comment>- Bump version to 8

- Introduce %service_del_postun_with_restart()
  It's the counterpart of %service_del_postun_without_restart() and
  replaces the '-f' option of %service_del_postun().
- Expand %service_del_postun_without_restart in %service_del_postun

- Add a missing space in %_restart_on_update()

- Bump version to 7

- Dont apply presets when migrating from a disabled initscript (bsc#1178481)

- Bump version to 6

- Test for the presence of systemd only once in %service_add_post

- No need to run 'systemd-sysv-convert --save' in %service_add_pre anymore
  Due to the fact that the initscripts being removed during package
  updates are still available in %post, systemd-sysv-convert has been
  reworked so it's only needed to call it in %post.

- Make rpmbuild load our own macros.systemd to import %{%_unitdir} properly
  Ideally we should also own other %{_*dir} paths...
- Stop owning /usr/lib/systemd directory as no package other than
  systemd is supposed to put files there.

- DISABLE_RESTART_ON_UDPATE is no more read from the (build) environment
  %service_del_postun_without_restart is the interface that should be
  used by packages that need to prevent theirs services from being</comment>
    <requestid>847458</requestid>
  </revision>
  <revision rev="32" vrev="1">
    <srcmd5>d97a6b6981ca1f1c3d612eb76364bb99</srcmd5>
    <version>9</version>
    <time>1606648715</time>
    <user>dimstar_suse</user>
    <comment>- Bump version to 9

- daemon-reload is not needed in %service_add_post
  Applying presets, ie enabling/disabling units, doesn't require to
  update units loaded in PID1 memory. It's actually needed after and
  it's done implicitly by `systemctl preset`.

- Rename the tag file used to detect when presets need to be applied
  Rather than placing these tags directly under /run, let's place them
  under /run/systemd/rpm. This also has the benefit to make the
  workaround for bsc#1059627 no more needed.

- %service_del_preun doesn't accept -f/-n options anymore
  The few package calling %service_del_preun with '-f' or '-n' option
  have been fixed. These options are not needed anymore.</comment>
    <requestid>850414</requestid>
  </revision>
  <revision rev="33" vrev="1">
    <srcmd5>f9508e6bd64c8ac3448938608297273f</srcmd5>
    <version>10</version>
    <time>1613581782</time>
    <user>dimstar_suse</user>
    <comment>- Bump version to 10

- Make upstream %systemd_{pre,post,preun,postun} aliases to their SUSE
  counterparts
  Packagers can now choose to use the upstream or the SUSE variants
  indifferently. For consistency the SUSE variants should be preferred
  since almost all SUSE packages already use them but the upstream
  versions might be usefull in certain cases where packages need to
  support multiple distros based on RPM.

- Improve the logic used to apply the presets (bsc#1177039)
  Before presests were applied at a) package installation b) new units
  introduced via a package update (but after making sure that it was
  not a SysV initscript being converted).
  The problem is that a) didn't handle package a renaming or split
  properly since the package with the new name is installed rather
  being updated and therefore the presets were applied even if they
  were already with the old name.
  We now cover this case (and the other ones) by applying presets only
  if the units are new and the services are not being migrated. This
  regardless of whether this happens during an install or an update.</comment>
    <requestid>871420</requestid>
  </revision>
  <revision rev="34" vrev="1">
    <srcmd5>5187291d34b4cb813b7ff713ea71ffd9</srcmd5>
    <version>11</version>
    <time>1615489608</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 11

- Don't pass -f to rm in %service_add_post nor %systemd_user_post

- Add a %systemd_user_pre macro that creates a
  /run/systemd/rpm/needs-user-preset/$service file for each new
  service being installed so %systemd_user_post can call
  `systemctl --global preset $service` properly for newly
  installed user services (boo#1183051, boo#1183012).

- Fix %systemd_user_post. The --global parameter was handled as if
  it was another service name so %systemd_user_post wasn't working
  properly. Replace %systemd_user_post with the code from
  %service_add_post it was being expanded to but correctly passing
  --global to systemctl (boo#1183051, boo#1182661).</comment>
    <requestid>877267</requestid>
  </revision>
  <revision rev="35" vrev="1">
    <srcmd5>a8f73dc11b38a900350a8ab96b95d755</srcmd5>
    <version>12</version>
    <time>1621805419</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 12

- Introduce %sysusers_create_package
  %sysusers_create and %sysusers_create_inline are now deprecated and
  the new macro should be used instead.
  Upstream commit 07a7d4a0040d221ff09e527e91c112b4ffab1dba.
- Introduce %tmpfiles_create_package
  %%tmpfiles_create is now deprecreated and the new macros should be
  used instead.
  Upstream commit 0f78fee8d039000b987848a558fbaa15d916e14e.

- %sysusers_create_inline: use here-docs instead of echo (bsc#1186282)
  Upstream commit dd2490ae12ad1e1795ecbf8f8944b950da9c8d06.</comment>
    <requestid>894598</requestid>
  </revision>
  <revision rev="36" vrev="1">
    <srcmd5>762017d1277a88d864843f5f15cbcf78</srcmd5>
    <version>13</version>
    <time>1625338232</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 13

- Make use of &quot;Suggests:&quot; in %systemd_ordering
  Until libzypp supports &quot;OrderWithRequires:&quot;, we need to specify a
  similar ordering constraint that can be understood by the dep solver
  as well. Hence the use of &quot;Suggests:&quot; in %systemd_ordering
  (workaround for bsc#1187332).</comment>
    <requestid>903200</requestid>
  </revision>
  <revision rev="37" vrev="2">
    <srcmd5>86d2cc7802be7c20bab5ce1186d34b12</srcmd5>
    <version>13</version>
    <time>1635167801</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>922188</requestid>
  </revision>
  <revision rev="38" vrev="1">
    <srcmd5>5822984f1f6e94d1fabc780aa4057694</srcmd5>
    <version>14</version>
    <time>1637535075</time>
    <user>dimstar_suse</user>
    <comment>- Bump version to 14

- Introduce %_systemd_util_dir
  It's a backport of upstream commit 3bc66bfa0136e370a8f7b06c3b69a52f5636ef82.</comment>
    <requestid>931955</requestid>
  </revision>
  <revision rev="39" vrev="1">
    <srcmd5>6cb106d659128d6c0e9b1531b0eb0cba</srcmd5>
    <version>15</version>
    <time>1642835866</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 15

- %sysusers_create_inline was wrongly marked as deprecated
- %sysusers_create can be useful in certain cases and won't go away until we'll
  move to file triggers. So don't mark it as deprecated too</comment>
    <requestid>947356</requestid>
  </revision>
  <revision rev="40" vrev="1">
    <srcmd5>32cce3c862db1ece92c7cfac2380e9c9</srcmd5>
    <version>16</version>
    <time>1645294873</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 16

- Drop enablement symlink migration support of SysV init scripts
  This was announced here:
  https://lists.opensuse.org/archives/list/factory@lists.opensuse.org/thread/3ERUP5ZZJ6PPA36L3HVN46BH6U6JL74O/</comment>
    <requestid>955694</requestid>
  </revision>
  <revision rev="41" vrev="1">
    <srcmd5>6ea10fac82075c3ae7521335a281bed8</srcmd5>
    <version>17</version>
    <time>1665420185</time>
    <user>favogt_factory</user>
    <comment>- Bump to version 17

- Fix syntax error in %tmpfiles_create_package() (bsc#1203945)</comment>
    <requestid>1007693</requestid>
  </revision>
  <revision rev="42" vrev="1">
    <srcmd5>cd4a84a4798a78fa7244d97305b8dd70</srcmd5>
    <version>18</version>
    <time>1669378269</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 18

- Add %_user_tmpfilesdir macro</comment>
    <requestid>1037703</requestid>
  </revision>
  <revision rev="43" vrev="1">
    <srcmd5>8b3e80dfb8000cd0ec82d1f0ae2e655d</srcmd5>
    <version>19</version>
    <time>1674927762</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 19

- `udevadm hwdb` is deprecated, use `systemd-hwdb` instead.</comment>
    <requestid>1061222</requestid>
  </revision>
  <revision rev="44" vrev="1">
    <srcmd5>253978f0e98b100df868699677811aff</srcmd5>
    <version>20</version>
    <time>1680536718</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 20

- %service_del_postun: make sure to restart services if /etc/sysconfig/service
  is not present.

- Drop support for -n/-f options in %service_del_postun
  These options have been deprecated since a long time and the last package
  relying on them (drkonqi5) in the Factory repository has been updated.</comment>
    <requestid>1075207</requestid>
  </revision>
  <revision rev="45" vrev="1">
    <srcmd5>0e97c822d1d3732fd96836f0d606af94</srcmd5>
    <version>22</version>
    <time>1684952482</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 22

- Make sure that (future) users of %sysctl_apply() and %binfmt_apply() will call
  the macros with arguments.

- Test the presence of /run/systemd/system to check whether we're operating
  during transactional updates. Hence the behavior is the same when operating in
  a chroot or during transactional updates.
- Leave %sysctl_apply() and %binfmt_apply() empty (bsc#1211272)
  Only the former has very few users currently and none of them has specific
  code relying on the new sysctl values to be effective between the macros and
  the file triggers.

- Bump to version 21

- Rely on 'systemd-update-helper' shell script to implement %service_* macros
  The helper was introduced by upstream commit 6d825ab2d42d3219e49a1. The main
  advantage is that we no more need to rebuild all packages to update the macro
  definitions.
  Internally the script relies on file triggers for 'daemon-reload' operations
  and for restarting units (when needed).
- Update other macros to reflect the fact that systemd package provides file
  triggers for sysusers, tmpfiles, hwdb, and journal catalog.</comment>
    <requestid>1087187</requestid>
  </revision>
  <revision rev="46" vrev="1">
    <srcmd5>8bc0aeca686f9a45cbd5cda9cf426b4a</srcmd5>
    <version>23</version>
    <time>1686927193</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 23

- Restore the check that prevents systemd-tmpfiles to run during transactional updates
  The check has been mistakenly dropped during the switch to file-triggers.</comment>
    <requestid>1093498</requestid>
  </revision>
  <revision rev="47" vrev="1">
    <srcmd5>c289f2bea589ac9c36483e9e95f6c9a3</srcmd5>
    <version>24</version>
    <time>1687549940</time>
    <user>dimstar_suse</user>
    <comment>- Bump to version 24

- Drop %tmpfiles_create_package
  It can't work during transactional updates because the paths that
  systemd-tmpfiles usually operates on (such as /var) can't be changed. It
  appears that the only user of this macro doesn't really need this macro so
  let's drop it.

- Drop %sysusers_create_inline
  It's deprecated and the only user of this macro is being converted to
  %sysusers_create_package. So drop it now before the deprecated macro attracts
  more users.

- Unlike systemd-tmpfiles call in %tmpfiles_create_package(), systemd-sysusers
  must always be called by %sysusers_create_package() even on transactional
  systems since it's part of the macro contract. Writing to /etc is not
  recommended on such systems but it has to work anyways.</comment>
    <requestid>1094319</requestid>
  </revision>
  <revision rev="48" vrev="1">
    <srcmd5>44416cb1b5550e36679d179bfb86486d</srcmd5>
    <version>26</version>
    <time>1752178209</time>
    <user>anag_factory</user>
    <comment>- Bump version to 26

- Introduce %udev_trigger_with_reload() for packages that need to trigger events
  in theirs scriplets. The new macro automatically triggers a reload of the udev
  rule files as this step is often overlooked by packages (bsc#1237143).

- Bump to version 25

- Turn %tmpfiles_create/%sysusers_create into NOPs
  The 2 following macros have also been converted into NOPs since we moved to
  file triggers. Some packages might have assumed that their effects were
  effective as soon as the macros return. However such assumption on tmpfiles
  can't work on transactional systems anyways where changes must take place on
  reboot.
  
  When a system user/group needs to be created in %%pre, so proper ownership are
  used when package's files are installed, &quot;sysusers_create_package()&quot; should be
  used.</comment>
    <requestid>1291291</requestid>
  </revision>
</revisionlist>
