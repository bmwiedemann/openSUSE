From 360fab6bf82c9bd2b377e6a1cb89f889ff5c7740 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Dirk=20M=C3=BCller?= <dirk@dmllr.de>
Date: Tue, 9 Aug 2022 13:23:05 +0200
Subject: [PATCH] Install spglib pkgconfig into LIBDIR
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The pkgconfig file is architecture specific, so it needs
to be installed into libdir/pkgconfig. On Red Hat/SUSE
like distributions libdir is actually $prefix/lib64 on
64bit platforms.

Signed-off-by: Dirk MÃ¼ller <dirk@dmllr.de>
---
 CMakeLists.txt  | 2 +-
 spglib.pc.cmake | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 33f5ae3..2ff1caf 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -132,5 +132,5 @@ endif()
 configure_file(spglib.pc.cmake ${CMAKE_CURRENT_BINARY_DIR}/spglib.pc)
 install(
   FILES  ${CMAKE_CURRENT_BINARY_DIR}/spglib.pc
-  DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/pkgconfig
+  DESTINATION ${CMAKE_INSTALL_FULL_LIBDIR}/pkgconfig
   COMPONENT pkgconfig)
diff --git a/spglib.pc.cmake b/spglib.pc.cmake
index ce7b9d8..5a72864 100644
--- a/spglib.pc.cmake
+++ b/spglib.pc.cmake
@@ -1,5 +1,5 @@
 Name: ${PROJECT_NAME}
 Description: The spglib library
 Version: ${PROJECT_VERSION}
-Libs: -L${CMAKE_INSTALL_PREFIX}/lib -lsymspg
+Libs: -L${CMAKE_INSTALL_FULL_LIBDIR} -lsymspg
 Cflags: -I${CMAKE_INSTALL_PREFIX}/include
-- 
2.37.1

