From: Ana Guerrero Lopez <aguerrero@suse.com>
Date: Wed Sep  4 11:28:43 CEST 2019
Subject: Fix flags order 
Patch-mainline: Not yet
References: https://github.com/sylabs/singularity/pull/4375

GO_MODFLAGS should be provided to the go subcommand, and not directly
to go.

Signed-off-by: Ana Guerrero Lopez <aguerrero@suse.com>
--- a/src/github.com/sylabs/singularity/mlocal/frags/build_scripts.mk.orig	2019-09-04 11:17:26.293034517 +0200
+++ b/src/github.com/sylabs/singularity/mlocal/frags/build_scripts.mk	2019-09-04 11:19:04.977038577 +0200
@@ -7,7 +7,7 @@
 $(SOURCEDIR)/scripts/go-test: export GO_TAGS := $(GO_TAGS)
 $(SOURCEDIR)/scripts/go-test: $(SOURCEDIR)/scripts/go-test.in $(SOURCEDIR)/scripts/expand-env.go
 	@echo ' GEN $@'
-	$(V) $(GO) $(GO_MODFLAGS) run $(SOURCEDIR)/scripts/expand-env.go < $< > $@
+	$(V) $(GO) run $(GO_MODFLAGS) $(SOURCEDIR)/scripts/expand-env.go < $< > $@
 	$(V) chmod +x $@
 
 ALL += $(SOURCEDIR)/scripts/go-test
