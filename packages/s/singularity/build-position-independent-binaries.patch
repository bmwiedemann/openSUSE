Subject: build position independent binaries
Date: 2020.05.26
---
 src/github.com/sylabs/singularity/mlocal/frags/go_common_opts.mk | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)
diff --git a/src/github.com/sylabs/singularity/mlocal/frags/go_common_opts.mk b/src/github.com/sylabs/singularity/mlocal/frags/go_common_opts.mk
index 87359af..045563a 100644
--- a/src/github.com/sylabs/singularity/mlocal/frags/go_common_opts.mk
+++ b/src/github.com/sylabs/singularity/mlocal/frags/go_common_opts.mk
@@ -3,7 +3,7 @@
 GO_TAGS := containers_image_openpgp sylog oci_engine singularity_engine fakeroot_engine
 GO_TAGS_SUID := containers_image_openpgp sylog singularity_engine fakeroot_engine
 GO_LDFLAGS :=
-GO_BUILDMODE := -buildmode=default
+GO_BUILDMODE := -buildmode=pie
 GO_GCFLAGS := -gcflags=github.com/sylabs/singularity/...="-trimpath $(SOURCEDIR)=>github.com/sylabs/singularity@v0.0.0"
 GO_ASMFLAGS := -asmflags=github.com/sylabs/singularity/...="-trimpath $(SOURCEDIR)=>github.com/sylabs/singularity@v0.0.0"
 GO_MODFLAGS := $(if $(wildcard $(SOURCEDIR)/vendor/modules.txt),-mod=vendor,-mod=readonly)
