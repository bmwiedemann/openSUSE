From bde0933ee733e2c0aa4eeec5833e7fb54f1d2acf Mon Sep 17 00:00:00 2001
From: Daniel Espinosa Ortiz <esodan@gmail.com>
Date: Fri, 8 Feb 2019 13:51:51 -0600
Subject: [PATCH] fix behavior of --enable-gdaui-gi

---
 configure.ac | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

diff --git a/configure.ac b/configure.ac
index 0990e1b96..ce761503b 100644
--- a/configure.ac
+++ b/configure.ac
@@ -475,7 +475,16 @@ GOBJECT_INTROSPECTION_CHECK([1.30.0])
 
 AC_ARG_ENABLE([gdaui-gi],
     AS_HELP_STRING([--disable-gdaui-gi[=@<:@yes/no@:>@]], [Disable GObject Introspection for libgda-ui [default=no]]),
-    [disable_gdaui_gi=yes],[disable_gdaui_gi=no])
+    [
+      if test x$enableval = xyes
+      then
+        disable_gdaui_gi=no
+      else
+        disable_gdaui_gi=yes
+      fi
+    ],[
+      disable_gdaui_gi=no
+    ])
 
 if test x$found_introspection != xyes
 then

