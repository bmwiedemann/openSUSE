From 340b8a1d6aaa164bc27bdb8811cc00d729ca2e45 Mon Sep 17 00:00:00 2001
From: Jaroslav Kysela <perex@perex.cz>
Date: Mon, 30 Mar 2020 16:51:45 +0200
Subject: [PATCH 05/10] update README files

- UCM validator
- UCM paths for ucm2/

Signed-off-by: Jaroslav Kysela <perex@perex.cz>
---
 README.md      |  6 ++++++
 ucm2/README.md | 34 +++++++++++++++++++++++++++++++---
 2 files changed, 37 insertions(+), 3 deletions(-)

diff --git a/README.md b/README.md
index 574c93ca4189..c5afd963a7aa 100644
--- a/README.md
+++ b/README.md
@@ -2,3 +2,9 @@
 ## ALSA Use Case Manager configuration
 
 ![Validate UCM configuration](https://github.com/alsa-project/alsa-ucm-conf/workflows/Validate%20UCM%20configuration/badge.svg?branch=master)
+
+The UCM configurations are automatically valited using the UCM validator
+available at https://github.com/alsa-project/alsa-tests/tree/master/python/ucm-validator .
+
+If you create a pull request for new hardware, please, add also the
+alsa-info.sh output to emulate this hardware in the UCM validator.
diff --git a/ucm2/README.md b/ucm2/README.md
index 3aefdf7e5c02..fc2a1785c6ce 100644
--- a/ucm2/README.md
+++ b/ucm2/README.md
@@ -7,9 +7,37 @@ Library directories:
   codecs/
   dsps/
 
-Those directories are not inspected for the list of
-available UCM configurations. They contain files
-included from other UCMs.
+Those directories are not inspected for the list of available UCM
+configurations. They contain files included from other UCMs.
+
+UCM master configuration path lookup (by priority):
+
+- {ucm_card_name}/{long_card_name}.conf
+- {ucm_card_name}/{ucm_card_name}.conf
+- {driver_name}/{long_card_name}.conf
+- {driver_name}/{driver_name}.conf
+
+For example:
+
+- USB-Audio/Dell-WD15-Dock.conf
+-- special configuration for the Dell docking station with USB soundcard
+- TwoCardsMix/TwoCardsMix.conf
+-- virtual UCM from two soundcards
+
+Note: For the driver configurations, use always the real driver name
+not the ucm card name configuration paths!
+
+The driver name can be obtained using procfs like:
+
+````
+  cat /proc/asound/cards
+  1 [NVidia         ]: HDA-Intel - HDA NVidia
+                       HDA NVidia at 0xb5080000 irq 17
+
+  driver name: HDA-Intel
+  card short name: HDA NVidia
+  card long name: HDA NVidia at 0xb5080000 irq 17
+````
 
 Syntax, value names
 -------------------
-- 
2.16.4

