# This is /etc/apache2/listen-nss.conf
#
# This file is read from /etc/apache2/conf.d/mod_nss.conf ,
# the starting point for all configuration of mod_nss.
#
# Please have a look at the top section of the file
# /etc/apache2/conf.d/mod_nss.conf for information and
# instructions about how to enable mod_nss.
#
#
# There are two conditions that have to be met for the Listen directive
# below to become active:
# a) The server define "SSL" is present; this means that the apache process
#    is launched with the commandline arguments "-D SSL".
# b) The nss apache module is loaded, which happens automatically if you add
#    the name of the module ("nss") to the variable APACHE_MODULES in
#    /etc/sysconfig/apache2
#
# An equivalent section for mod_ssl (openssl based support for SSL/TLS)
# is contained in the file /etc/apache2/listen.conf, with the dependency to
# the module "ssl" loaded ("<IfModule mod_ssl.c>").
# 
# The difference between this file and listen.conf is that listen.conf is 
# read (included) from apache's main configuration file /etc/apache2/httpd.conf,
# while _this_ file is included from /etc/apache2/conf.d/mod_nss.conf .

<IfDefine SSL>
    <IfDefine !NOSSL>
	# mod_ssl may be active and has triggered the Listen directive for 443.
	# In this case we refrain from doing a second Listen, as the 
	# correspondance between the bound port and the VirtualHost does 
	# not happen here anyway.
	<IfModule !mod_ssl.c>
            <IfModule mod_nss.c>

                Listen 443

            </IfModule>
        </IfModule>
    </IfDefine>
</IfDefine>


