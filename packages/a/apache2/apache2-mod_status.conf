#
# Allow server status reports generated by mod_status,
# with the URL of http://servername/server-status
#
# see https://httpd.apache.org/docs/2.4/mod/mod_status.html
#
<IfModule mod_status.c>
    <IfModule mod_lua.c>
        <IfDefine LUA_STATUS>
            AddHandler lua-script .lua
            LuaMapHandler ^/server-status/?$ /usr/share/apache2/lua-server-status/server-status.lua
        </IfDefine>
    </IfModule>
    <IfDefine !LUA_STATUS>
        <IfDefine EXTENDED_STATUS>
            ExtendedStatus on
        </IfDefine>
        <Location /server-status>
            SetHandler server-status
        </Location>
    </IfDefine>
    <Location /server-status>
        <IfModule !mod_access_compat.c>
            Require local
        </IfModule>
        <IfModule mod_access_compat.c>
            Order deny,allow
            Deny from all
            Allow from localhost
         </IfModule>
    </Location>
</IfModule>
