From 004d085c675c56f866f008dbf712ee7503de5b27 Mon Sep 17 00:00:00 2001
From: Mingjie Shen <shen497@purdue.edu>
Date: Wed, 6 Dec 2023 16:49:26 -0500
Subject: [PATCH] alsactl: fix potential buffer overwrite

The 'call to sprintf' operation on line 413 requires 21 bytes
but the destination is only 16 bytes.

Fixes: https://github.com/alsa-project/alsa-utils/pull/247
Signed-off-by: Mingjie Shen <shen497@purdue.edu>
Signed-off-by: Jaroslav Kysela <perex@perex.cz>
---
 alsactl/alsactl.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/alsactl/alsactl.c b/alsactl/alsactl.c
index a854c0bdc16f..8ad991a0f36b 100644
--- a/alsactl/alsactl.c
+++ b/alsactl/alsactl.c
@@ -242,7 +242,7 @@ int main(int argc, char *argv[])
 	char *cfgfile = SYS_ASOUNDRC;
 	char *initfile = DATADIR "/init/00main";
 	char *pidfile = SYS_PIDFILE;
-	char *cardname, ncardname[16];
+	char *cardname, ncardname[21];
 	char *cmd;
 	char *const *extra_args;
 	const char *const *tmp;
-- 
2.35.3

