---
 at.1.in |    5 +++++
 at.c    |   11 ++++++++---
 panic.c |    2 +-
 3 files changed, 14 insertions(+), 4 deletions(-)

Index: at-3.2.0/at.1.in
===================================================================
--- at-3.2.0.orig/at.1.in
+++ at-3.2.0/at.1.in
@@ -33,6 +33,8 @@ at, batch, atq, atrm \- queue, examine,
 .RB [ \-V ]
 .RB [ \-q
 .IR queue ]
+.RB [ -o
+.IR timeformat ]
 .br
 .B at
 .RB [ \-rd ]
@@ -269,6 +271,9 @@ Times displayed will be in the format "T
 .B
 \-c
 cats the jobs listed on the command line to standard output.
+.TP 8
+.BI \-o " fmt"
+strftime-like time format used for the job list
 .SH FILES
 .I @ATJBD@
 .br
Index: at-3.2.0/at.c
===================================================================
--- at-3.2.0.orig/at.c
+++ at-3.2.0/at.c
@@ -136,6 +136,7 @@ char *atinput = (char *) 0;	/* where to
 char atqueue = 0;		/* which queue to examine for jobs (atq) */
 char atverify = 0;		/* verify time instead of queuing job */
 char *mail_rcpt = (char *) 0;   /* user to send mail to */
+char *timeformat = TIMEFORMAT_POSIX;	/* time format (atq) */
 
 /* Function declarations */
 
@@ -534,7 +535,7 @@ writefile(time_t runtimer, char queue)
     /* This line maybe superfluous after commit 11cb731bb560eb7bff4889c5528d5f776606b0d3 */
     runtime = localtime(&runtimer);
 
-    strftime(timestr, TIMESIZE, TIMEFORMAT_POSIX, runtime);
+    strftime(timestr, TIMESIZE, timeformat, runtime);
     fprintf(stderr, "job %ld at %s\n", jobno, timestr);
 
     /* Signal atd, if present. Usual precautions taken... */
@@ -648,7 +649,7 @@ list_jobs(long *joblist, int len)
 	runtimer = 60 * (time_t) ctm;
 	runtime = localtime(&runtimer);
 
-	strftime(timestr, TIMESIZE, TIMEFORMAT_POSIX, runtime);
+	strftime(timestr, TIMESIZE, timeformat, runtime);
 
 	if ((pwd = getpwuid(buf.st_uid)))
 	  printf("%ld\t%s %c %s\n", jobno, timestr, queue, pwd->pw_name);
@@ -845,7 +846,7 @@ main(int argc, char **argv)
      */
     if (strcmp(pgm, "atq") == 0) {
 	program = ATQ;
-	options = "hq:V";
+	options = "hq:Vo:";
     } else if (strcmp(pgm, "atrm") == 0) {
 	program = ATRM;
 	options = "hV";
@@ -931,6 +932,10 @@ main(int argc, char **argv)
 	    }
 	    break;
 
+	case 'o':
+	    timeformat = optarg;
+            break;
+
 	default:
 	    usage();
 	    break;
Index: at-3.2.0/panic.c
===================================================================
--- at-3.2.0.orig/panic.c
+++ at-3.2.0/panic.c
@@ -96,7 +96,7 @@ usage(void)
             "       at [-V] [-q x] [-f file] [-u username] [-mMlbv] -t time\n"
     	    "       at -c job ...\n"
 	    "       at [-V] -l [job ...]\n"
-	    "       atq [-V] [-q x]\n"
+	    "       atq [-V] [-q x] [-o timeformat]\n"
 	    "       at [ -rd ] job ...\n"
 	    "       atrm [-V] job ...\n"
 	    "       batch\n");
