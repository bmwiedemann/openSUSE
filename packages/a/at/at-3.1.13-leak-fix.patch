---
 at.c |    4 ++++
 1 file changed, 4 insertions(+)

Index: at-3.2.0/at.c
===================================================================
--- at-3.2.0.orig/at.c
+++ at-3.2.0/at.c
@@ -658,6 +658,9 @@ list_jobs(long *joblist, int len)
 	else
 	  printf("%ld\t%s %c\n", jobno, timestr, queue);
     }
+    
+    closedir(spool);
+    
     PRIV_END
 }
 
@@ -740,6 +743,7 @@ process_jobs(int argc, char **argv, int
 				putchar(ch);
 			    }
 			    done = 1;
+			    fclose(fp);
 			}
 			else {
 			    perr("Cannot open %.500s", dirent->d_name);
