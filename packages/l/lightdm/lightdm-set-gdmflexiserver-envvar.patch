Set the GDMFLEXISERVER environment variable for the gdmflexiserver wrapper.

--- a/src/Makefile.am
+++ b/src/Makefile.am
@@ -85,6 +85,7 @@ lightdm_CFLAGS = \
 	$(WARN_CFLAGS) \
 	$(LIGHTDM_CFLAGS) \
 	-I"$(top_srcdir)/common" \
+	-DPKGLIBEXEC_DIR=\"$(pkglibexecdir)\" \
 	-DSBIN_DIR=\"$(sbindir)\" \
 	-DUSERS_DIR=\"$(localstatedir)/lib/lightdm-data\" \
 	-DLOG_DIR=\"$(localstatedir)/log/lightdm\" \
--- a/src/session-child.c
+++ b/src/session-child.c
@@ -622,6 +622,8 @@ session_child_run (int argc, char **argv
         pam_putenv (pam_handle, value);
     }
 
+    pam_putenv (pam_handle, g_strdup_printf ("GDMFLEXISERVER=%s", PKGLIBEXEC_DIR "/gdmflexiserver"));
+
     /* Catch terminate signal and pass it to the child */
     signal (SIGTERM, signal_cb);
 
