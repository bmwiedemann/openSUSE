Index: ledger-3.2.1/CMakeLists.txt
===================================================================
--- ledger-3.2.1.orig/CMakeLists.txt
+++ ledger-3.2.1/CMakeLists.txt
@@ -19,7 +19,11 @@ endif()
 
 enable_testing()
 
-add_definitions(-std=c++11)
+set(CMAKE_CXX_STANDARD 11)
+cmake_policy(SET CMP0063 NEW)
+set(CMAKE_CXX_VISIBILITY_PRESET hidden)
+SET(CMAKE_VISIBILITY_INLINES_HIDDEN 1)
+
 if (CYGWIN)
   add_definitions(-U__STRICT_ANSI__)
 endif()
