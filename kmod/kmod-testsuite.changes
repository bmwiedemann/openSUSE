-------------------------------------------------------------------
Tue Feb 12 19:41:20 UTC 2019 - Michal Suchanek <msuchanek@suse.com>

- Enable PKCS#7 signature parsing again - requires openssl
- Fix testsuite build - requires kernel-default-devel

-------------------------------------------------------------------
Fri Feb  8 00:31:29 UTC 2019 - Jan Engelhardt <jengelh@inai.de>

- Update to new upstream release 26
  * depmod now handles parallel invocations better by protecting
    the temporary files being used.
  * modprobe has a new --show-exports option. Under the hood,
    this reads the .symtab and .strtab sections rather than
    __versions so it shows useful data even if kernel is
    configured without modversions (CONFIG_MODVERSIONS).
  * modinfo supports PKCS#7 parsing by using openssl.
- Replaced the asn1c-based parser by an openssl-based PKCS
  parser.
- Remove libkmod-signature-Fix-crash-when-module-signature-is.patch,
  libkmod-signature-pkcs-7-fix-crash-when-signer-info-.patch,
  libkmod-signature-implement-pkcs7-parsing-with-asn1c.patch
  (not accepted upstream)
- Remove enum.patch,
  depmod-Prevent-module-dependency-files-corruption-du.patch,
  depmod-Prevent-module-dependency-files-missing-durin.patch,
  depmod-shut-up-gcc-insufficinet-buffer-warning.patch
  (accepted upstream)

-------------------------------------------------------------------
Fri Dec  7 14:55:21 UTC 2018 - Michal Suchanek <msuchanek@suse.de>

- Fix module dependency file corruption on parallel invocation (bsc#1118629).
- Add depmod-Prevent-module-dependency-files-corruption-du.patch
- Add depmod-Prevent-module-dependency-files-missing-durin.patch
- Add depmod-shut-up-gcc-insufficinet-buffer-warning.patch

-------------------------------------------------------------------
Wed Jul 18 08:51:06 UTC 2018 - jengelh@inai.de

- Remove enum padding constants, add enum.patch.

-------------------------------------------------------------------
Fri Jun  8 21:37:14 UTC 2018 - vlad.botanic@gmail.com

- allow 'modprobe -c' print the status of "allow_unsupported_modules" option.
  Add 0012-modprobe-print-unsupported-status.patch

-------------------------------------------------------------------
Fri Apr  6 10:43:42 UTC 2018 - msuchanek@suse.com

- Fix crash when PKCS#7 signer name is not present in signature (bsc#1088244)
  Add libkmod-signature-pkcs-7-fix-crash-when-signer-info-.patch

-------------------------------------------------------------------
Fri Mar 16 13:08:14 CET 2018 - ro@suse.de

- for sle, buildexclude the 32bit platforms in kmod-testsuite, 
  they have no kernel binaries anyway (bnc#1085640)

-------------------------------------------------------------------
Thu Mar  8 16:34:16 UTC 2018 - msuchanek@suse.com

- Fix PKCS#7 signature display in modinfo (bsc#1077693).
  * Add libkmod-signature-implement-pkcs7-parsing-with-asn1c.patch
  * Add libkmod-signature-Fix-crash-when-module-signature-is.patch
  * Refresh 0010-modprobe-Implement-allow-unsupported-modules.patch

-------------------------------------------------------------------
Thu Feb  1 13:49:25 UTC 2018 - msuchanek@suse.com

- Update to kmod v25

-------------------------------------------------------------------
Thu Jul  6 08:07:50 UTC 2017 - jengelh@inai.de

- Update to new upstream release 24
  * libkmod: fix  use of strcpy
  * depmod: fix string overflow
  * depmod: ignore related modules in depmod_report_cycles
  * libkmod: Fix handling of quotes in kernel command line
  * libkmod-config: replace 0/1 with bool
  * depmod: handle nested loops
- Drop 0001-use-correct-sort-method-in-test-array.patch,
  0002-depmod-ignore-related-modules-in-depmod_report_cycle.patch,
  0009-libkmod-Implement-filtering-of-unsupported-modules-o.patch
  (applied upstream)

-------------------------------------------------------------------
Tue Nov 22 09:13:47 UTC 2016 - yousaf.kaukab@suse.com

- 0001-testsuite-depmod-add-module-dependency-outside-cycli.patch:
  Add test case where cyclic and non-cyclic dependencies are present
  at the same time. (boo#1008186) 

-------------------------------------------------------------------
Thu Mar 31 16:53:28 UTC 2016 - normand@linux.vnet.ibm.com

- Ignore make check error of ppc64 architecture, bypass boo#897845

-------------------------------------------------------------------
Mon Dec  7 14:27:13 UTC 2015 - jengelh@inai.de

- Update to new upstream release 22
* support `insmod -f`
* depmod: do not fall back to uname on bad version

-------------------------------------------------------------------
Sat Nov  7 10:40:29 UTC 2015 - jengelh@inai.de

- Update to new upstream release 21
* Cache built modules so it is easier to run "make check" on
  build servers by distro maintainers. If kmod is configured with
  --disable-test-modules, the modules from cache will be used by
  "make check". No changes to the tests are needed and all of
  them can run fine.
- Specify KDIR explicitly to resolve build failure with `osc build`
  (because kmod uses `uname -r` and the kernel versions need not
  match between build env and local host)

-------------------------------------------------------------------
Tue Apr 21 12:43:39 UTC 2015 - mmarek@suse.cz

- Run the kmod testsuite in a separate build, to avoid a buildloop
  with the kernel.

