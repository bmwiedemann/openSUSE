Index: b/src/cpp/image.cpp
===================================================================
--- a/src/cpp/image.cpp
+++ b/src/cpp/image.cpp
@@ -93,7 +93,11 @@ PYBIND11_MODULE(image, m)
         .value("bgr24", image::format_enum::format_bgr24)
 #endif
         .export_values()
+#if PYBIND11_VERSION_MAJOR >= 2 && PYBIND11_VERSION_MINOR >= 6
+        .def("__str__", &format_to_str, "Image format used by PIL converters.", py::prepend());
+#else
         .def("__str__", &format_to_str, "Image format used by PIL converters.");
+#endif
 
     py::class_<image>(m, "image", py::buffer_protocol())
         .def(py::init<>())
@@ -114,4 +118,4 @@ PYBIND11_MODULE(image, m)
     m.def("supported_image_formats", &image::image::supported_image_formats);
 }
 
-} // namespace poppler
\ No newline at end of file
+} // namespace poppler
