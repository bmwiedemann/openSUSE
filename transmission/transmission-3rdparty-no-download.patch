Index: transmission-2.94/CMakeLists.txt
===================================================================
--- transmission-2.94.orig/CMakeLists.txt
+++ transmission-2.94/CMakeLists.txt
@@ -337,7 +337,7 @@ if(ENABLE_UTP)
     tr_add_external_auto_library(UTP utp
         PATCH_COMMAND "${CMAKE_COMMAND}" -E copy "${THIRD_PARTY_DIR}/utp.cmake" "<SOURCE_DIR>/CMakeLists.txt"
               COMMAND "${CMAKE_COMMAND}" -E copy "${THIRD_PARTY_DIR}/utp_config.h" "<SOURCE_DIR>/utp_config.h"
-              COMMAND "${CMAKE_COMMAND}" -E chdir "<SOURCE_DIR>" patch -p1 --binary -i "${THIRD_PARTY_DIR}/utp-01-ticket-5002.patch"
+              #COMMAND "${CMAKE_COMMAND}" -E chdir "<SOURCE_DIR>" patch -p1 --binary -i "${THIRD_PARTY_DIR}/utp-01-ticket-5002.patch"
               COMMAND "${CMAKE_COMMAND}" -E chdir "<SOURCE_DIR>" patch -p1 --binary -i "${THIRD_PARTY_DIR}/utp-02-win32.patch"
               COMMAND "${CMAKE_COMMAND}" -E chdir "<SOURCE_DIR>" patch -p1 --binary -i "${THIRD_PARTY_DIR}/utp-03-msvc14.patch")
 endif()
Index: transmission-2.94/cmake/TrMacros.cmake
===================================================================
--- transmission-2.94.orig/cmake/TrMacros.cmake
+++ transmission-2.94/cmake/TrMacros.cmake
@@ -92,7 +92,8 @@ macro(tr_add_external_auto_library ID LI
 
         ExternalProject_Add(
             ${${ID}_UPSTREAM_TARGET}
-            ${${ID}_UPSTREAM}
+            #${${ID}_UPSTREAM}
+            SOURCE_DIR "${CMAKE_SOURCE_DIR}/third-party/${LIBNAME}"
             ${ARGN}
             PREFIX "${${ID}_PREFIX}"
             CMAKE_ARGS
