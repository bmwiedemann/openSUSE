From 0fc57bba3ce353d48801f435ff4eb422183c4703 Mon Sep 17 00:00:00 2001
From: Mark Harfouche <mark.harfouche@gmail.com>
Date: Tue, 30 Apr 2019 09:18:19 -0400
Subject: Fixup the test for the warnings for scipy 1.3 and the
 matrix subsclass

---
 skimage/segmentation/tests/test_random_walker.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/skimage/segmentation/tests/test_random_walker.py b/skimage/segmentation/tests/test_random_walker.py
index f2f731cdc7..43ddcec523 100644
--- a/skimage/segmentation/tests/test_random_walker.py
+++ b/skimage/segmentation/tests/test_random_walker.py
@@ -15,7 +15,7 @@
 PYAMG_MISSING_WARNING = r'pyamg|\A\Z'
 PYAMG_OR_SCIPY_WARNING = SCIPY_RANK_WARNING + '|' + PYAMG_MISSING_WARNING
 
-if (Version(np.__version__) >= '1.15.0'):
+if Version(np.__version__) >= '1.15.0' and Version(scipy.__version__) < '1.3':
     NUMPY_MATRIX_WARNING = 'matrix subclass'
 else:
     NUMPY_MATRIX_WARNING = None
@@ -352,7 +352,7 @@ def test_trivial_cases():
             output_labels = random_walker(img, markers)
     assert np.all(output_labels[markers == 1] == 1)
     # Here 0-labeled pixels could not be determined (no connexion to seed)
-    assert np.all(output_labels[markers == 0] == -1) 
+    assert np.all(output_labels[markers == 0] == -1)
     with expected_warnings(["Returning provided labels"]):
         test = random_walker(img, markers, return_full_prob=True)
 
