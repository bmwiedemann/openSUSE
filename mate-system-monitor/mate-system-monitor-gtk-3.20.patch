--- a/configure.ac
+++ b/configure.ac
@@ -28,11 +28,11 @@ LT_PREREQ([2.2])
 LT_INIT
 
 # Package dependencies
-GLIB_REQUIRED=2.50.0
+GLIB_REQUIRED=2.48.0
 LIBGTOP_REQUIRED=2.23.1
 GIOMM_REQUIRED=2.26.0
 GLIBMM_REQUIRED=2.22
-GTK_REQUIRED=3.22.0
+GTK_REQUIRED=3.20.0
 GTKMM_REQUIRED=3.8.1
 LIBWNCK_REQUIRED=3.0.0
 LIBXML_REQUIRED=2.0
--- a/src/interface.cpp
+++ b/src/interface.cpp
@@ -758,7 +758,24 @@ create_main_window (ProcData *procdata)
 void
 do_popup_menu (ProcData *procdata, GdkEventButton *event)
 {
+#if GTK_CHECK_VERSION (3, 22, 0)
     gtk_menu_popup_at_pointer (GTK_MENU (procdata->popup_menu), NULL);
+#else
+    guint button;
+    guint32 event_time;
+
+    if (event != NULL) {
+        button = event->button;
+        event_time = event->time;
+    } else {
+        button = 0;
+        event_time = GDK_CURRENT_TIME;
+    }
+
+    gtk_menu_popup (GTK_MENU (procdata->popup_menu),
+                    NULL, NULL, NULL, NULL,
+                    button, event_time);
+#endif
 }
 
 void
