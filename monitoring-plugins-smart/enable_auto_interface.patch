--- check_smart.orig	2014-07-30 12:17:59.552149808 +0200
+++ check_smart	2014-07-30 12:39:42.339693193 +0200
@@ -96,7 +96,7 @@
 
         # Allow all device types currently supported by smartctl
         # See http://sourceforge.net/apps/trac/smartmontools/wiki/Supported_RAID-Controllers
-        if ($opt_i =~ m/(ata|scsi|3ware|areca|hpt|cciss|megaraid|sat)/) {
+        if ($opt_i =~ m/(ata|auto|scsi|3ware|areca|hpt|cciss|megaraid|sat)/) {
                 $interface = $opt_i;
         } else {
                 print "invalid interface $opt_i for $opt_d!\n\n";
@@ -249,7 +249,7 @@
 
     # separate metric-gathering and output analysis for ATA vs SCSI SMART output
     # Yeah - but megaraid is the same output as ata
-    if ($interface =~ m/(ata|megaraid|sat)/) {
+    if ($interface =~ m/(ata|auto|megaraid|sat)/) {
         foreach my $line(@output){
             # get lines that look like this:
             #    9 Power_On_Minutes        0x0032   241   241   000    Old_age   Always       -       113h+12m
@@ -393,7 +393,7 @@
 
 sub print_help {
         print_revision($basename,$revision);
-        print "\nUsage: $basename {-d=<block device>|-g=<block device regex>} -i=(ata|scsi|3ware,N|areca,N|hpt,L/M/N|cciss,N|megaraid,N) [-b N] [--debug]\n\n";
+        print "\nUsage: $basename {-d=<block device>|-g=<block device regex>} -i=(ata|auto|scsi|3ware,N|areca,N|hpt,L/M/N|cciss,N|megaraid,N) [-b N] [--debug]\n\n";
         print "At least one of the below. -d supersedes -g\n";
         print "  -d/--device: a physical block device to be SMART monitored, eg /dev/sda\n";
         print "  -g/--global: a regular expression name of physical devices to be SMART monitored\n";
