From e67faca2c0ca955f56cbd22e90941cdcbdc12597 Mon Sep 17 00:00:00 2001
From: Rod Smith <rodsmith@rodsbooks.com>
Date: Sat, 16 Apr 2022 09:32:04 -0400
Subject: [PATCH] Updated guid.cc to deal with minor change in libuuid

---
 NEWS    | 3 +++
 guid.cc | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

Index: gptfdisk-1.0.9/NEWS
===================================================================
--- gptfdisk-1.0.9.orig/NEWS
+++ gptfdisk-1.0.9/NEWS
@@ -1,6 +1,8 @@
 1.0.10 (?/??/2022):
 -------------------
 
+- Updated guid.cc to deal with minor change in libuuid.
+
 - Fixed problem that caused sgdisk to crash with errors about being unable
   to read the disk's partition table when compiled with the latest popt
   (commit 740, which is pre-release as I type; presumably version 1.19 and
Index: gptfdisk-1.0.9/guid.cc
===================================================================
--- gptfdisk-1.0.9.orig/guid.cc
+++ gptfdisk-1.0.9/guid.cc
@@ -141,7 +141,7 @@ void GUIDData::Zero(void) {
 void GUIDData::Randomize(void) {
    int i, uuidGenerated = 0;
 
-#ifdef _UUID_UUID_H
+#if defined (_UUID_UUID_H) || defined (_UL_LIBUUID_UUID_H)
    uuid_generate(uuidData);
    ReverseBytes(&uuidData[0], 4);
    ReverseBytes(&uuidData[4], 2);
