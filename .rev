<revisionlist>
  <revision rev="1" vrev="1">
    <srcmd5>11538cbb80a8e52cc3f2ed1cc782adf9</srcmd5>
    <version>0.0.1</version>
    <time>1512546950</time>
    <user>dimstar_suse</user>
    <comment>- Change package name to `rmt-server` to not conflict with the unix tool `rmt`
- Update summary and description
- Fix 'env-script-interpreter' rpmlint error
- Ignore 'env-script-interpreter' for bundled scripts
- Remove leftover .keep files
- Replace %__-type macro indirections.
- Do not ignore errors from useradd/groupadd.
- Avoid running fdupes over partition boundaries.
- Compact description, find-delete calls and %systemd_* calls.
- Initial version 0.0.1 
</comment>
    <requestid>547768</requestid>
  </revision>
  <revision rev="2" vrev="2">
    <srcmd5>bc76be53d6bdeb997a090fb4a55d31f8</srcmd5>
    <version>0.0.1</version>
    <time>1513015074</time>
    <user>dimstar_suse</user>
    <comment>- Exclude Build for i586: does not build and is not supported on
  32bit intel archs.

- Initial version 0.0.1 (forwarded request 556004 from dimstar)</comment>
    <requestid>556006</requestid>
  </revision>
  <revision rev="3" vrev="3">
    <srcmd5>290d8c3bc23b8000c4130ce2e8c8b0f2</srcmd5>
    <version>0.0.1</version>
    <time>1513677516</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>558062</requestid>
  </revision>
  <revision rev="4" vrev="1">
    <srcmd5>d6cf0ff996e0df9b777abf961092abbb</srcmd5>
    <version>0.0.3</version>
    <time>1518601877</time>
    <user>dimstar_suse</user>
    <comment>- version 0.0.3
- Added nginx integration
- Added systemd timers for rmt-server-sync and rmt-server-mirror
- Added custom repository integration

- version 0.0.2
- Use cached metadata when possible (bsc#1066669)</comment>
    <requestid>576054</requestid>
  </revision>
  <revision rev="5" vrev="2">
    <srcmd5>463a53b4c0f7b5cd5a5094952d3c396f</srcmd5>
    <version>0.0.3</version>
    <time>1519145800</time>
    <user>dimstar_suse</user>
    <comment>- Use correct service for systemd timers</comment>
    <requestid>578277</requestid>
  </revision>
  <revision rev="6" vrev="3">
    <srcmd5>34318d9035ea60227079968d4235a3fd</srcmd5>
    <version>0.0.3</version>
    <time>1520021479</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>581716</requestid>
  </revision>
  <revision rev="7" vrev="1">
    <srcmd5>39ce7d6d7a3a85a8406fd4b7b12125e8</srcmd5>
    <version>0.0.5</version>
    <time>1523447996</time>
    <user>maxlin_factory</user>
    <comment>- Only enable free modules in migrations for SLE 15
  https://github.com/SUSE/rmt/pull/132 

- version 0.0.5
- Allow access to the API only via HTTPS, add directories to store SSL
  keys &amp; certificates, add clientSetup4RMT.sh script
  https://github.com/SUSE/rmt/pull/122

- Add the offline migration endpoint for upgrading major SLES versions.
  https://github.com/SUSE/rmt/pull/121
- Use the recommended systemd service type (&quot;simple&quot; instead of
  &quot;forking&quot;).
  https://github.com/SUSE/rmt/pull/129
- Don't create a local licenses directory if the repo has no licenses.
  Closes bsc#1087707.
  https://github.com/SUSE/rmt/pull/126
- Don't allow duplicate activations to exist in the DB.
  https://github.com/SUSE/rmt/pull/119

- Version 0.0.4
- Fix nginx config to point to correct root location
  See: https://github.com/SUSE/rmt/issues/113
- Add message to help output about collecting feedback from users
- Only allow one activation to exist for a given system-service
  combination.
- Update loofah and rails-html-sanitizer gems due to CVEs.
- Add proper foreign key constraints where applicable.

- Do not build for s390 (bsc#1082150)</comment>
    <requestid>594894</requestid>
  </revision>
  <revision rev="8" vrev="1">
    <srcmd5>628e2d2f4694115878e944d0adac2687</srcmd5>
    <version>0.0.7</version>
    <time>1524838158</time>
    <user>dimstar_suse</user>
    <comment>- Added supportconfig plugin
  See: https://github.com/SUSE/rmt/pull/146
- Rename organizations_products.json to organizations_products_unscoped.json (fixes bsc#1088687)
  See: https://github.com/SUSE/rmt/pull/151
- Improved log formatting in journald
  See: https://github.com/SUSE/rmt/pull/145

- version 0.0.7
- Fixed offline repository sync with usb (bsc#1089038)
  See: https://github.com/SUSE/rmt/pull/147
- Removed unique index for uuid in HwInfo table
  See: https://github.com/SUSE/rmt/pull/142
- &quot;rmt-cli products enable ...&quot; enables recommended extensions in SLE 15
  See: https://github.com/SUSE/rmt/pull/141
- Added RMT header in requests for Connect API
  See: https://github.com/SUSE/rmt/pull/139

- version 0.0.6
- storing hardware info
  https://github.com/SUSE/rmt/pull/138</comment>
    <requestid>601636</requestid>
  </revision>
  <revision rev="9" vrev="1">
    <srcmd5>d62bfddd2c628ac650a85735372e2d48</srcmd5>
    <version>1.0.0</version>
    <time>1526737380</time>
    <user>dimstar_suse</user>
    <comment>- Bump version to 1.0.0 (bsc#1093879)
- Make rmt-server recommend yast2-rmt
- Add the post-install message about running yast2-rmt
- Add new script rmt-data-import for migration from SMT to RMT
- Split off usage instruction into MANUAL.md
- Squash migrations into one
- Small improvements on CLI responses
- Rename clientSetup4RMT.sh =&gt; rmt-client-setup
- Add use-ruby-2.5-in-rmt-data-import.patch

- Don't check if a product has repos and that they are mirrored
  when deactivating.
  See: https://github.com/SUSE/rmt/pull/168

- Show custom repositories and product bindings in supportconfig
  plugin output
- Add CSV output option
  See: https://github.com/SUSE/rmt/pull/158

- Rename of service files
  rmt.service -&gt; rmt-server.service
  rmt-migration.service -&gt; rmt-server-migration.service
  See: https://github.com/SUSE/rmt/pull/159

- RMT server binds to 127.0.0.1, not 0.0.0.0
  See: https://github.com/SUSE/rmt/pull/158

- Lockfile handling with File#flock
  See: https://github.com/SUSE/rmt/pull/157</comment>
    <requestid>610308</requestid>
  </revision>
  <revision rev="10" vrev="1">
    <srcmd5>25beff38f41f335c3c698acc0c443350</srcmd5>
    <version>1.0.2</version>
    <time>1530087732</time>
    <user>dimstar_suse</user>
    <comment>- Version 1.0.2
- Improved handling of errors during mirroring (bsc#1096967)
- Set correct permissions for product.license directory (bsc#1097367)
- Log version on service startup

- Version 1.0.1
- Use curl instead of wget in rmt-client-setup (bsc#1094348)</comment>
    <requestid>619136</requestid>
  </revision>
  <revision rev="11" vrev="1">
    <srcmd5>7d264f4f91acf20c3c1d124f1101a819</srcmd5>
    <version>1.0.3</version>
    <time>1530567230</time>
    <user>dimstar_suse</user>
    <comment>- Version 1.0.3
- Fix duplicate migration paths (bsc#1097824)</comment>
    <requestid>620196</requestid>
  </revision>
  <revision rev="12" vrev="1">
    <srcmd5>da47a88f1de384c76ac4d37090da1504</srcmd5>
    <version>1.0.5</version>
    <time>1532681843</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>625432</requestid>
  </revision>
  <revision rev="13" vrev="1">
    <srcmd5>df2df0a4839ec4fa3583af49ce43856d</srcmd5>
    <version>1.0.6</version>
    <time>1535705040</time>
    <user>dimstar_suse</user>
    <comment>- Version 1.0.6
- Change file paths to new locations to make RMT work with
  read-only rootfs (bsc#1102198)
- Change file permissions for rmt.conf (bsc#1104232)

- sort all list outputs alphabetically (bsc#1088680)
- Include 'last_seen_at' field in API systems output, for</comment>
    <requestid>631740</requestid>
  </revision>
  <revision rev="14" vrev="2">
    <srcmd5>85b131ce5e2e4ac99f5490a2d0fe01e7</srcmd5>
    <version>1.0.6</version>
    <time>1537360205</time>
    <user>maxlin_factory</user>
    <comment>- Nginx forwards to IPv4 address only (bsc#1107100)</comment>
    <requestid>636372</requestid>
  </revision>
  <revision rev="15" vrev="1">
    <srcmd5>57d3e21917fb887823d3c23e7aa8702b</srcmd5>
    <version>1.0.7</version>
    <time>1542124816</time>
    <user>dimstar_suse</user>
    <comment>- Version 1.0.7
- Import migration_extra attribute from SCC API
- Dependency gems security updates:
  - Update loofah to 2.2.3 (CVE-2018-16468)
  - Update rack to 2.0.6 (CVE-2018-16470)
  - Update nokogiri to 1.8.5 (CVE-2018-14404)

- Added flag `--all-modules` to the `products enable` command to
  enable all free modules/extensions.

- Improved exception handling when HTTP request fails due to
  a network or SSL validity issue</comment>
    <requestid>648444</requestid>
  </revision>
  <revision rev="16" vrev="1">
    <srcmd5>7a32c526760abf20506cd7f7b23221d5</srcmd5>
    <version>1.1.0</version>
    <time>1544190011</time>
    <user>dimstar_suse</user>
    <comment>- Version 1.1.0

- Bugfix: Alias commands in short form no longer raise an exception
  * remove -&gt; rm -&gt; r
  * list -&gt; ls -&gt; l

- Added ability to enable/disable multiple repositories at the
  same time.

- The command `rmt-cli products list` is more compact for smaller
  screens.

- Remove the &quot;No product license found&quot; message when mirroring.
  It's not useful for users, and it was just causing confusion,
  as many people mistook it for an error.

- Register to SLP if a server running on this host (bsc#1113760)

- Modules for migration are being sorted in the correct order

- Added the ability to localize RMT

- Add bash completion for rmt-cli

- Added ability to enable/disable multiple products at the same time

- Offline migrations will automatically add additional modules
  to the client systems depending on the base product</comment>
    <requestid>656016</requestid>
  </revision>
  <revision rev="17" vrev="1">
    <srcmd5>3016d6f89f93667d8d23cb3de23634c0</srcmd5>
    <version>1.1.1</version>
    <time>1548064666</time>
    <user>dimstar_suse</user>
    <comment>- Cut version 1.1.1 

- Fix some migration problems which caused some extensions / modules
  to be dropped. (bsc#1118584, bsc#1118579)

- Fix listing of enabled for mirroring for non-mirrored products. (bsc#1102193)

- Include online migration paths into offline migration (bsc#1117106)

- Sync products that do not have base product (bsc#1109307)

- Repository table using context relevant values instead of true and
  false.</comment>
    <requestid>666467</requestid>
  </revision>
  <revision rev="18" vrev="1">
    <srcmd5>8d457b83d3bce396cd5e2c02ab153df2</srcmd5>
    <version>1.2.2</version>
    <time>1551784993</time>
    <user>dimstar_suse</user>
    <comment>- Version 1.2.2
- Set CURLOPT_LOW_SPEED_LIMIT to prevent downloads from getting stuck (bsc#1107806)
- Removed use-ruby-2.5-in-rails.patch, use-ruby-2.5-in-rmt-data-import.patch and
   use-ruby-2.5-in-rmt-cli.patch as they are no longer needed.

- Version 1.2.1
- Truncate the RMT lockfile when writing a new PID (bsc#1125770)
- Zypper authentication plugin (fate#326629)
- Fix nested serializers in system/activations
- Fix HTTP vhost config

- Version 1.2.0
- Legacy zypper XML endpoint for backward compatibility
  with SMT (fate#326629)
- Instance verification plugin in rmt-server-pubcloud (fate#326629)

- Version 1.1.3
- Fix missing trailing slashes on custom repository import from SMT
  (bsc#1118745)

- Version 1.1.2
- Fix product version display (bsc#1117722)

- Cut version 1.1.1</comment>
    <requestid>681402</requestid>
  </revision>
  <revision rev="19" vrev="1">
    <srcmd5>f1093b39bac4005eb0035f0fbcf5a70d</srcmd5>
    <version>2.1.4</version>
    <time>1558129465</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.1.4
- Fix duplicate nginx location in rmt-server-pubcloud (bsc#1135222)

- Version 2.1.3
- Mirror additional repos that were enabled during mirroring (bsc#1132690)

- Version 2.1.2
- Make service IDs consistent across different RMT instances (bsc#1134428)

- Version 2.1.1
- Make SMT data import scripts faster (bsc#1134190)

- Version 2.1.0
- Updated dependency nokogiri to 1.10.3 (CVE-2019-11068)
- Allow RMT registration to work under HTTP as well as HTTPS.

- Version 2.0.0
- Breaking Change: Added headers to generated CSV files

- Version 1.2.8
- Offline migration from SLE 15 to SLE 15 SP1 will add Python2 module 

- Version 1.2.7
- Online migrations will automatically add additional modules
  to the client systems depending on the base product

- Version 1.2.6
- Fix incorrect triggering of registration sharing (bsc#1129392)
- Add a script to manually test registration sharing</comment>
    <requestid>703695</requestid>
  </revision>
  <revision rev="20" vrev="2">
    <srcmd5>f1ff3ae10bfa367b1431cc06c99ad11c</srcmd5>
    <version>2.1.4</version>
    <time>1558516612</time>
    <user>dimstar_suse</user>
    <comment>- Updated dependency nokogiri to 1.10.3 (CVE-2019-11068: bsc#1132160)
- Updated rails to version 5.1.6.2 (CVE-2019-5419: bsc#1129271)</comment>
    <requestid>704427</requestid>
  </revision>
  <revision rev="21" vrev="1">
    <srcmd5>5f0ad4c97ffaecc85442ae8d443d044e</srcmd5>
    <version>2.2.0</version>
    <time>1561406019</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>711708</requestid>
  </revision>
  <revision rev="22" vrev="1">
    <srcmd5>e81df1afee5921d7b07707415ac9c07e</srcmd5>
    <version>2.2.1</version>
    <time>1562843675</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>713243</requestid>
  </revision>
  <revision rev="23" vrev="1">
    <srcmd5>fac9bdb9a9ef4389b6db65926b68674b</srcmd5>
    <version>2.3.1</version>
    <time>1563018557</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.3.1
- Fix mirroring logic when errors are encountered (bsc#1140492)
- Refactor RMT::Mirror to download metadata/licenses in parallel

- Version 2.3.0
- Check repo metadata GPG signatures during mirroring (bsc#1132690)
- Add rmt-server-config subpackage with nginx configs (fate#327816, bsc#1136081)

- Fix create UUID when system_uuid file empty (bsc#1138316)
- Updated dependency nokogiri to 1.10.3 (CVE-2019-11068: bsc#1132160)
- Updated rails to version 5.1.6.2 (CVE-2019-5419: bsc#1129271)</comment>
    <requestid>714638</requestid>
  </revision>
  <revision rev="24" vrev="1">
    <srcmd5>aad89422e3a5843dc9f4156f906d3182</srcmd5>
    <version>2.3.3</version>
    <time>1564994108</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>720058</requestid>
  </revision>
  <revision rev="25" vrev="1">
    <srcmd5>57b30e67b40a371d355e1969b27576c7</srcmd5>
    <version>2.3.5</version>
    <time>1565864949</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>723316</requestid>
  </revision>
  <revision rev="26" vrev="1">
    <srcmd5>209860502ca3b894ca50cbfbc0e9ae82</srcmd5>
    <version>2.4.1</version>
    <time>1567680237</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>728262</requestid>
  </revision>
  <revision rev="27" vrev="1">
    <srcmd5>ae94b722764761845868aebbf748d5e3</srcmd5>
    <version>2.4.2</version>
    <time>1568805187</time>
    <user>maxlin_factory</user>
    <comment>- Version 2.4.2
- Fixed system listing when architecture is not well referenced
  (bsc#1141122)
- Added rmt-client-setup-res for RES8 systems</comment>
    <requestid>731538</requestid>
  </revision>
  <revision rev="28" vrev="1">
    <srcmd5>3d3288354a4af12d9bb37705732e0932</srcmd5>
    <version>2.5.4</version>
    <time>1582112466</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.5.4
- Fix migrations in case adding migration_extra column failed (bsc#1162296)

- Version 2.5.3
- low_speed_time and low_speed_limit can be configured

- Version 2.5.2
- Fix offline migration (CVE-2019-18904: bsc#1160922)
- Ensure download of signature file from custom repositories

- Version 2.5.1
- Relax systemd units dependencies (bsc#1160673)

- Version 2.5.0
- Add `rmt-cli scc sync-systems` command

- Version 2.4.5
- rmt-server-pubcloud: escape paths in regex

- Version 2.4.4
- Verbose error reporting for SCC API errors (bsc#1157119)

- Version 2.4.3
- rmt-server-pubcloud: Relax zypper auth plugin checks; produce detailed logs
- rmt-server-pubcloud: Allow access to SLES 12 SP1 repos when SLES 11 was activated

- Fix dependency to removed boot_cli_i18n file (bsc#1136020)
- Offline migration from SLE 15 to SLE 15 SP1 will add Python2 module</comment>
    <requestid>775075</requestid>
  </revision>
  <revision rev="29" vrev="1">
    <srcmd5>8e213cce56bbdaa1baffba957a93d901</srcmd5>
    <version>2.5.5</version>
    <time>1584176130</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>784599</requestid>
  </revision>
  <revision rev="30" vrev="1">
    <srcmd5>581c54b7f1350219b45cbbcd6e2aa57c</srcmd5>
    <version>2.5.6</version>
    <time>1585995966</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.5.6
- Align supported subscription types with SCC:
  'test', 'full', 'evaluation', 'oem', 'internal', 'partner'
  (bsc#1168554)

- BuildRequire pkgconfig(systemd) instead of systemd: allow OBS to
  shortcut through the -mini flavors.</comment>
    <requestid>791171</requestid>
  </revision>
  <revision rev="31" vrev="1">
    <srcmd5>83e438726551c98c6a07ab4c2a4516ef</srcmd5>
    <version>2.5.10</version>
    <time>1593458154</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>817735</requestid>
  </revision>
  <revision rev="32" vrev="1">
    <srcmd5>107e39f7766980815a3775f9576c9518</srcmd5>
    <version>2.5.12</version>
    <time>1595578182</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>822508</requestid>
  </revision>
  <revision rev="33" vrev="1">
    <srcmd5>39a8d67ebede7c3495ea80a3f7f6b760</srcmd5>
    <version>2.5.14</version>
    <time>1599210736</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>831687</requestid>
  </revision>
  <revision rev="34" vrev="1">
    <srcmd5>a1243102ff5bee275ed16c078c472a10</srcmd5>
    <version>2.5.20</version>
    <time>1600701531</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>835201</requestid>
  </revision>
  <revision rev="35" vrev="1">
    <srcmd5>c847ecfa05490c4e1c0ac6694f0bd9c8</srcmd5>
    <version>2.6.5</version>
    <time>1603202905</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.6.5
- Solved potential bug of SCC repository URLs changing over time. RMT
  now self heals by removing the previous invalid repository and
  creating the correct one.

- Version 2.6.4
- Add web server settings to /etc/rmt.conf:
  Now it's possible to configure the minimum and maximum threads count as well
  the number of web server workers to be booted through /etc/rmt.conf.

- Version 2.6.3
- Instead of using an MD5 of URLs for custom repository friendly_ids,
  RMT now builds an ID from the name.

- Version 2.6.2
- Fix RMT file caching based on timestamps:
  Previously, RMT sent GET requests with the header 'If-Modified-Since' to a
  repository server and if the response had a 304 (Not Modified), it would copy
  a file from the local cache instead of downloading. However, if the local file
  timestamp accidentally changed to a date newer than the one on the repository
  server, RMT would have an outdated file, which caused some errors.
  Now, RMT makes HEAD requests to the repositories servers and inspect the
  'Last-Modified' header to decide whether to download a file or copy it from
  cache, by comparing the equalness of timestamps.


- Version 2.6.1
- Fixed an issue where relative paths supplied to `rmt-cli import repos`
  caused the command to fail.</comment>
    <requestid>842502</requestid>
  </revision>
  <revision rev="36" vrev="1">
    <srcmd5>17964adad66b49c9171c0fbd4ca7f7e8</srcmd5>
    <version>2.6.6</version>
    <time>1613427618</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.6.6
- Add filter options for product listing and bash completion for new flags</comment>
    <requestid>872417</requestid>
  </revision>
  <revision rev="37" vrev="2">
    <srcmd5>a6825b772ba20df19d915c1a7a59ecd6</srcmd5>
    <version>2.6.6</version>
    <time>1613677306</time>
    <user>dimstar_suse</user>
    <comment>- Fix rpath build issues
- Resubmit version 2.6.6</comment>
    <requestid>873453</requestid>
  </revision>
  <revision rev="38" vrev="1">
    <srcmd5>286d18d64c7353d2af93339a3d0a6ed4</srcmd5>
    <version>2.6.7</version>
    <time>1617132193</time>
    <user>RBrownSUSE</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>881839</requestid>
  </revision>
  <revision rev="39" vrev="1">
    <srcmd5>e198adb54683d51cecc6d0063933267b</srcmd5>
    <version>2.6.8</version>
    <time>1617910355</time>
    <user>RBrownSUSE</user>
    <comment>- Version 2.6.8
- Fixing wrong handling of ids starting with numeric characters (bsc#1182736)
</comment>
    <requestid>883813</requestid>
  </revision>
  <revision rev="40" vrev="1">
    <srcmd5>6cacfd6b640e13369c76ceefc2d19616</srcmd5>
    <version>2.6.9</version>
    <time>1621355227</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.6.9
- Fix: Don't append slash to custom repository urls 
- Add enabled attribute to syncing process
  This fixes wrong marked repositories when syncing
  This references bsc#1184814
- Enable 'Installer-Updates' repositories when
  enabling a product, so they can get used by
  the installer to patch the installation system itself.
  This references bsc#1184814
- Version 2.6.8
- Fixing wrong handling of ids starting with numeric characters (bsc#1182736)
- Version 2.6.7
- Clean out `subscriptions` table only if replacement data is already
  available (bsc#1183615)
- Raise an error when there is an extension activated which has no
  migration successor (like LTSS)
- Include installed modules to the solution tree when doing
  an offline migration. (bsc#1179523)
- Do not raise an exception when mirroring
  if info missing is in alpha or beta stage
  This references bsc#1180018
- Fix rpath build issues
- Resubmit version 2.6.6
- Version 2.6.6
- Add filter options for product listing and bash completion for new flags
- Version 2.6.5
- Solved potential bug of SCC repository URLs changing over time. RMT
  now self heals by removing the previous invalid repository and
  creating the correct one.
- Version 2.6.4
- Add web server settings to /etc/rmt.conf:
  Now it's possible to configure the minimum and maximum threads count as well
  the number of web server workers to be booted through /etc/rmt.conf.
- Version 2.6.3
- Instead of using an MD5 of URLs for custom repository friendly_ids,
  RMT now builds an ID from the name.
- Version 2.6.2
- Fix RMT file caching based on timestamps:
  Previously, RMT sent GET requests with the header 'If-Modified-Since' to a
  repository server and if the response had a 304 (Not Modified), it would copy
  a file from the local cache instead of downloading. However, if the local file
  timestamp accidentally changed to a date newer than the one on the repository
  server, RMT would have an outdated file, which caused some errors.
  Now, RMT makes HEAD requests to the repositories servers and inspect the
  'Last-Modified' header to decide whether to download a file or copy it from
  cache, by comparing the equalness of timestamps.
- Version 2.6.1
- Fixed an issue where relative paths supplied to `rmt-cli import repos`
  caused the command to fail.
- Version 2.6.0
- Friendlier IDs for custom repositories:
  In an effort to simplify the handling of SCC and custom repositories,
  RMT now has friendly IDs. For SCC repositories, it's the same SCC ID
  as before. For custom repositories, it can either be user provided
  or RMT generated (MD5 of the provided URL).
  Benefits:
  * `rmt-cli mirror repositories` now works for custom repositories.
  * Custom repository IDs can be the same across RMT instances.
  * No more confusing &quot;SCC ID&quot; vs &quot;ID&quot; in `rmt-cli` output.
  Deprecation Warnings:
  * RMT now uses a different ID for custom repositories than before.
    RMT still supports that old ID, but it's recommended to start
    using the new ID to ensure future compatibility.
- Version 2.5.20
- Updated rails from 6.0.3.2 to 6.0.3.3:
  - actionview (CVE-2020-15169)
- Version 2.5.19
- RMT now has the ability to remove local systems with the command
  `rmt-cli systems remove`.
- Version 2.5.18
- Fixed exit code for `rmt-cli mirror` and its subcommands. Now it exits with 1
  whenever an error occurrs during mirroring
- Improved message logging for `rtm-cli mirror`. Instead of logging an error
  when it occurs, the command summarize all errors at the end of execution. Now
  log messages have colors to better identify failure/success.
- Version 2.5.17
- RMT no longer provides the installer updates repository to systems via its
  zypper service. This repository is used during the installation process, as
  it provides an up-to-date installation experience, but it has no use on an
  already installed system.
- Version 2.5.16
- Updated RMT's rails and puma dependencies.
  - puma (CVE-2020-11076, CVE-2020-11077, CVE-2020-5249, CVE-2020-5247
    CVE-2019-16770)
  - actionpack (CVE-2020-8185, CVE-2020-8164, CVE-2020-8166)
  - actionview (CVE-2020-8167, CVE-2020-5267, CVE-2019-5418, CVE-2019-5419)
  - activesupport (CVE-2020-8165)
  - railties (CVE-2019-5420)
- Version 2.5.15
- RMT now checks if repositories are fully mirrored during the
  activation process. Previously, RMT only checked if the repositories
  were enabled to be mirrored, but not that they were actually mirrored.
  In this case, RMTs were not able to provide the repository data which
  systems assumed it had.
- Version 2.5.14
- Enable 'Installer-Updates' repositories by default
- Fixed deprecation warning when thor encountered an error. Also,
  instead of returning 0 for thor errors, rmt-cli will return 1
  instead.
- Version 2.5.13
- Added `rmt-cli repos clean` command to remove locally mirrored files
  of repositories which are not marked to be mirrored.
- Previously, RMT didn't track deduplicated files in its database. Now,
  to accommodate `rmt-cli repos clean`, RMT will track all mirrored
  files.
- Move the nginx reload to the configuration package which contain
  nginx config files, don't reload nginx unconditionally from main
  package.
- Version 2.5.12
- Update rack to version 2.2.3 (CVE-2020-8184: bsc#1173351)
- Update Rails to version 5.2.4.3:
  - actionpack (CVE-2020-8164: bsc#1172177)
  - actionpack (CVE-2020-8166: bsc#1172182)
  - activesupport (CVE-2020-8165: bsc#1172186)
  - actionview (CVE-2020-8167: bsc#1172184)
- Version 2.5.11
- rmt-server-pubcloud:
  - SLES11 EOL
  - Extension activation verification based on the available subscriptions
  - Added a manual instance verification script
- Version 2.5.10
- Support rmt-server to run with Ruby 2.7 (Factory/Tumbleweed):
  - Bump gem 'config' version from 1.7.2 to 2.2.1 to fix incompatibility Ruby
    2.7 OpenStruct class;
  - Bump gem 'typhoeus' version from 1.3.1 to 1.4.0 in order to also bump gem
    'ethon' version, which caused a 'rb_safe_level' warning on Ruby 2.7;
  - Fix &quot;last arg as keyword arg&quot; Ruby 2.7 warning on source code;
  - Disable &quot;deprecated&quot; warnings from Ruby 2.7; Rails 5.1 generates a lot of
    warnings with Ruby 2.7, mainly due to &quot;capturing the given block with
    Proc.new&quot;, which is deprecated;
  - Improve RPM spec to consider only the distribution default Ruby version
    configured in OBS;
  - Improve RPM spec to remove Ruby 2.7 warnings regarding 'bundler.
- Move nginx/vhosts.d directory to correct sub-package. They
  are needed together with nginx, not rmt-server.
- Fix dependencies especially for containerized usage:
  - mariadb and nginx are not hard requires, could run on another host
- Fix generic dependencies:
  - systemd ordering was missing
  - shadow is required for pre-install
- Set cloud_povider info when registering the instance
- Version 2.5.9
- rmt-server-pubcloud: enforce strict authentication
- Version 2.5.8
- Use repomd_parser gem to remove repository metadata parsing code.
- Version 2.5.7
- Use DB locks intead of lockfiles (bsc#1165548)
- Version 2.5.6
- Align supported subscription types with SCC:
  'test', 'full', 'evaluation', 'oem', 'internal', 'partner'
  (bsc#1168554)
- Version 2.5.5
- Add `rmt-cli products show` command to show detailed product information
- Version 2.5.4
- Fix migrations in case adding migration_extra column failed (bsc#1162296)
- BuildRequire pkgconfig(systemd) instead of systemd: allow OBS to
  shortcut through the -mini flavors.
- Version 2.5.3
- low_speed_time and low_speed_limit can be configured
- Version 2.5.2
- Fix offline migration (CVE-2019-18904: bsc#1160922)
- Ensure download of signature file from custom repositories
- Version 2.5.1
- Relax systemd units dependencies (bsc#1160673)
- Version 2.5.0
- Add `rmt-cli scc sync-systems` command
- Version 2.4.5
- rmt-server-pubcloud: escape paths in regex
- Version 2.4.4
- Verbose error reporting for SCC API errors (bsc#1157119)
- Version 2.4.3
- rmt-server-pubcloud: Relax zypper auth plugin checks; produce detailed logs
- rmt-server-pubcloud: Allow access to SLES 12 SP1 repos when SLES 11 was activated
- Version 2.4.2
- Fixed system listing when architecture is not well referenced
  (bsc#1141122)
- Added rmt-client-setup-res for RES8 systems
- Version 2.4.1
- Preserve cached metadata timestamps (bsc#1146611)
- Version 2.4.0
- Allow to mirror individual products/repositories (bsc#1138863)
Fri Aug  16 11:07:26 UTC 2019 - tmuntaner@suse.com
- Version 2.3.7
- RMT now uses mirror_src to determine whether or not to download
  source packages. (bsc#1145688)
- Version 2.3.6
- Make Rails log level configurable; set default log level to INFO
- Version 2.3.5
- Fix RMT installer_repo call for empty release_type parameter (bsc#1136178)
- Version 2.3.4
- Clean up download queue on metadata download errors (bsc#1142641)
- Fix plain HTTP PubCloud config
- Version 2.3.3
- Removed release stage from names to be consistent with SCC (bsc#1136168)
  * Generate friendly_name as needed
  * Drops friendly_name column from database
- Version 2.3.2
- PubCloud nginx config improvements:
  * Proxy only the known routes to the backend
  * Disable error logging for /repo
  * Serve smt.crt over HTTPS
- Version 2.3.1
- Fix mirroring logic when errors are encountered (bsc#1140492)
- Refactor RMT::Mirror to download metadata/licenses in parallel
- Version 2.3.0
- Check repo metadata GPG signatures during mirroring (bsc#1132690)
- Add rmt-server-config subpackage with nginx configs (fate#327816, bsc#1136081)
- Version 2.2.1
- Fix dependency to removed boot_cli_i18n file (bsc#1136020)
- Version 2.2.0
- Add `rmt-cli systems list` command to list registered systems
- Version 2.1.5
- Fix create UUID when system_uuid file empty (bsc#1138316)
- Version 2.1.4
- Fix duplicate nginx location in rmt-server-pubcloud (bsc#1135222)
- Version 2.1.3
- Mirror additional repos that were enabled during mirroring (bsc#1132690)
- Version 2.1.2
- Make service IDs consistent across different RMT instances (bsc#1134428)
- Version 2.1.1
- Make SMT data import scripts faster (bsc#1134190)
- Version 2.1.0
- Updated dependency nokogiri to 1.10.3 (CVE-2019-11068: bsc#1132160)
- Allow RMT registration to work under HTTP as well as HTTPS.
- Version 2.0.0
- Breaking Change: Added headers to generated CSV files
- Version 1.2.8
- Offline migration from SLE 15 to SLE 15 SP1 will add Python2 module
- Version 1.2.7
- Online migrations will automatically add additional modules
  to the client systems depending on the base product
- Version 1.2.6
- Fix incorrect triggering of registration sharing (bsc#1129392)
- Add a script to manually test registration sharing
- Version 1.2.5
- Updated rails to version 5.1.6.2 (CVE-2019-5419: bsc#1129271)
- Version 1.2.4
- Supply log severity to journald
- Version 1.2.3
- Fix license mirroring issue in some non-SUSE repositories (bsc#1128858)
- Added the ability to mirror the SUMA product tree.
- Version 1.2.2
- Set CURLOPT_LOW_SPEED_LIMIT to prevent downloads from getting stuck (bsc#1107806)
- Removed use-ruby-2.5-in-rails.patch, use-ruby-2.5-in-rmt-data-import.patch and
   use-ruby-2.5-in-rmt-cli.patch as they are no longer needed.
- Version 1.2.1
- Truncate the RMT lockfile when writing a new PID (bsc#1125770)
- Zypper authentication plugin (fate#326629)
- Fix nested serializers in system/activations
- Fix HTTP vhost config
- Version 1.2.0
- Legacy zypper XML endpoint for backward compatibility
  with SMT (fate#326629)
- Instance verification plugin in rmt-server-pubcloud (fate#326629)
- Version 1.1.3
- Fix missing trailing slashes on custom repository import from SMT
  (bsc#1118745)
- Version 1.1.2
- Fix product version display (bsc#1117722)
- Cut version 1.1.1
- Fix some migration problems which caused some extensions / modules
  to be dropped. (bsc#1118584, bsc#1118579)
- Fix listing of enabled for mirroring for non-mirrored products. (bsc#1102193)
- Include online migration paths into offline migration (bsc#1117106)
- Sync products that do not have base product (bsc#1109307)
- Repository table using context relevant values instead of true and
  false.
- Version 1.1.0
- Bugfix: Alias commands in short form no longer raise an exception
  * remove -&gt; rm -&gt; r
  * list -&gt; ls -&gt; l
- Added ability to enable/disable multiple repositories at the
  same time.
- The command `rmt-cli products list` is more compact for smaller
  screens.
- Remove the &quot;No product license found&quot; message when mirroring.
  It's not useful for users, and it was just causing confusion,
  as many people mistook it for an error.
- Register to SLP if a server running on this host (bsc#1113760)
- Modules for migration are being sorted in the correct order
- Added the ability to localize RMT
- Add bash completion for rmt-cli
- Added ability to enable/disable multiple products at the same time
- Version 1.0.7
- Import migration_extra attribute from SCC API
- Offline migrations will automatically add additional modules
  to the client systems depending on the base product
- Dependency gems security updates:
  - Update loofah to 2.2.3 (CVE-2018-16468)
  - Update rack to 2.0.6 (CVE-2018-16470)
  - Update nokogiri to 1.8.5 (CVE-2018-14404)
- Added flag `--all-modules` to the `products enable` command to
  enable all free modules/extensions.
- Improved exception handling when HTTP request fails due to
  a network or SSL validity issue
- Version 1.0.6
- Change file paths to new locations to make RMT work with
  read-only rootfs (bsc#1102198)
- Change file permissions for rmt.conf (bsc#1104232)
- Nginx forwards to IPv4 address only (bsc#1107100)
- Version 1.0.5
- sort all list outputs alphabetically (bsc#1088680)
- Include 'last_seen_at' field in API systems output, for
  consistency with SCC
- Version 1.0.4
- Only show post-install message on initial install
- Version 1.0.3
- Fix duplicate migration paths (bsc#1097824)
- Version 1.0.2
- Improved handling of errors during mirroring (bsc#1096967)
- Set correct permissions for product.license directory (bsc#1097367)
- Log version on service startup
- Version 1.0.1
- Use curl instead of wget in rmt-client-setup (bsc#1094348)
- Bump version to 1.0.0 (bsc#1093879)
- Make rmt-server recommend yast2-rmt
- Add the post-install message about running yast2-rmt
- Add new script rmt-data-import for migration from SMT to RMT
- Split off usage instruction into MANUAL.md
- Squash migrations into one
- Small improvements on CLI responses
- Rename clientSetup4RMT.sh =&gt; rmt-client-setup
- Add use-ruby-2.5-in-rmt-data-import.patch
- Don't check if a product has repos and that they are mirrored
  when deactivating.
  See: https://github.com/SUSE/rmt/pull/168
- Show custom repositories and product bindings in supportconfig
  plugin output
- Add CSV output option
  See: https://github.com/SUSE/rmt/pull/158
- Rename of service files
  rmt.service -&gt; rmt-server.service
  rmt-migration.service -&gt; rmt-server-migration.service
  See: https://github.com/SUSE/rmt/pull/159
- RMT server binds to 127.0.0.1, not 0.0.0.0
  See: https://github.com/SUSE/rmt/pull/158
- Lockfile handling with File#flock
  See: https://github.com/SUSE/rmt/pull/157
- Added lockfile feature for mirror, sync &amp; import commands
- Removed ability to change user/group through configuration (GH-144)
  See: https://github.com/SUSE/rmt/pull/154
- Added supportconfig plugin
  See: https://github.com/SUSE/rmt/pull/146
- Rename organizations_products.json to organizations_products_unscoped.json (fixes bsc#1088687)
  See: https://github.com/SUSE/rmt/pull/151
- Improved log formatting in journald
  See: https://github.com/SUSE/rmt/pull/145
- version 0.0.7
- Fixed offline repository sync with usb (bsc#1089038)
  See: https://github.com/SUSE/rmt/pull/147
- Removed unique index for uuid in HwInfo table
  See: https://github.com/SUSE/rmt/pull/142
- &quot;rmt-cli products enable ...&quot; enables recommended extensions in SLE 15
  See: https://github.com/SUSE/rmt/pull/141
- Added RMT header in requests for Connect API
  See: https://github.com/SUSE/rmt/pull/139
- version 0.0.6
- storing hardware info
  https://github.com/SUSE/rmt/pull/138
- Only enable free modules in migrations for SLE 15
  https://github.com/SUSE/rmt/pull/132
- version 0.0.5
- Allow access to the API only via HTTPS, add directories to store SSL
  keys &amp; certificates, add clientSetup4RMT.sh script
  https://github.com/SUSE/rmt/pull/122
- Add the offline migration endpoint for upgrading major SLES versions.
  https://github.com/SUSE/rmt/pull/121
- Use the recommended systemd service type (&quot;simple&quot; instead of
  &quot;forking&quot;).
  https://github.com/SUSE/rmt/pull/129
- Don't create a local licenses directory if the repo has no licenses.
  Closes bsc#1087707.
  https://github.com/SUSE/rmt/pull/126
- Don't allow duplicate activations to exist in the DB.
  https://github.com/SUSE/rmt/pull/119
- Version 0.0.4
- Fix nginx config to point to correct root location
  See: https://github.com/SUSE/rmt/issues/113
- Add message to help output about collecting feedback from users
- Only allow one activation to exist for a given system-service
  combination.
- Update loofah and rails-html-sanitizer gems due to CVEs.
- Add proper foreign key constraints where applicable.
- Do not build for s390 (bsc#1082150)
- Use correct service for systemd timers
- RMT on SLE12 also uses ruby 2.5
  - Removed use-ruby-2.4-in-rails.patch and use-ruby-2.4-in-rmt-cli.patch as
    they are no longer needed.
- Fixed systemd timers for SLES 12 and Leap
- version 0.0.3
- Added nginx integration
- Added systemd timers for rmt-server-sync and rmt-server-mirror
- Added custom repository integration
- version 0.0.2
- Use cached metadata when possible (bsc#1066669)
- Dont package build logs to make build reproducible
- Exclude Build for i586: does not build and is not supported on
  32bit intel archs.
- Change package name to `rmt-server` to not conflict with the unix tool `rmt`
- Update summary and description
- Fix 'env-script-interpreter' rpmlint error
- Ignore 'env-script-interpreter' for bundled scripts
- Remove leftover .keep files
- Replace %__-type macro indirections.
- Do not ignore errors from useradd/groupadd.
- Avoid running fdupes over partition boundaries.
- Compact description, find-delete calls and %systemd_* calls.
- Initial version 0.0.1
</comment>
    <requestid>893979</requestid>
  </revision>
  <revision rev="41" vrev="2">
    <srcmd5>6194d1643e411dbb30580e954b23946f</srcmd5>
    <version>2.6.9</version>
    <time>1622536626</time>
    <user>dimstar_suse</user>
    <comment>- Fix: Store authorization tokens when adding custom repositories
- Fix: Don't append slash to custom repository urls</comment>
    <requestid>895562</requestid>
  </revision>
  <revision rev="42" vrev="1">
    <srcmd5>eab31a6701f071ffb65f937270f0bfe2</srcmd5>
    <version>2.6.10</version>
    <time>1622839470</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.6.10
- Fix: Rails 6.1 zeitwerk autoloading errors
This references bsc#1186798</comment>
    <requestid>897523</requestid>
  </revision>
  <revision rev="43" vrev="1">
    <srcmd5>9053c4ed331e9feaa25b9f6ad1457bab</srcmd5>
    <version>2.6.11</version>
    <time>1627492906</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>908906</requestid>
  </revision>
  <revision rev="44" vrev="2">
    <srcmd5>dab46f2e323bbe5bfc058c4f495674cc</srcmd5>
    <version>2.6.11</version>
    <time>1628023747</time>
    <user>dimstar_suse</user>
    <comment>- Fix: Don't create suma and repo symlinks at install stage, instead
  only link them at the post stage if they don't exist (bsc#1188043)</comment>
    <requestid>909990</requestid>
  </revision>
  <revision rev="45" vrev="1">
    <srcmd5>3b2699655668dae30ea60e51a5f567c7</srcmd5>
    <version>2.6.12</version>
    <time>1630525034</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>915441</requestid>
  </revision>
  <revision rev="46" vrev="1">
    <srcmd5>b3df064bf5dd82b75b408cf6d7408305</srcmd5>
    <version>2.6.13</version>
    <time>1632849387</time>
    <user>dimstar_suse</user>
    <comment></comment>
    <requestid>922026</requestid>
  </revision>
  <revision rev="47" vrev="1">
    <srcmd5>5c3bd40bb924ef2b1ccdd96aeadcae60</srcmd5>
    <version>2.7.0</version>
    <time>1635956756</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>928884</requestid>
  </revision>
  <revision rev="48" vrev="2">
    <srcmd5>279078c8cd3bc901e4c7ab6ef480d204</srcmd5>
    <version>2.7.0</version>
    <time>1637372356</time>
    <user>dimstar_suse</user>
    <comment>PubCloud:
- Update the way allowed paths are checked
  SUMA requested a new feature where it is possible to validate
  all versions of the same product and arch (that are allowed to that system)

PubCloud:
- De-register BYOS systems using RMT as a proxy from SCC
- De-activate a single product from a BYOS proxy system

PubCloud:
- Add the handling of the BYOS systems that use RMT as a SCC proxy
  In order to do that:
- New boolean column in systems table in db: proxy_byos
- Skip the sync with SCC (using that column)
- Registration of the system to SCC (announce system call and
  then use SCC credentials)
- Activation of products
- Check subscription is active/valid for a product/repo to be accessed

- Re-fix broken symlinks: This version fixes the bug-fix</comment>
    <requestid>932561</requestid>
  </revision>
  <revision rev="49" vrev="1">
    <srcmd5>c34b4df28947b4f26a933d4fcea8af90</srcmd5>
    <version>2.7.2</version>
    <time>1644965864</time>
    <user>dimstar_suse</user>
    <comment>- Fix build using ruby 3.x (boo#1195318).
- Version 2.7.1
- Remove products with a negative ID during migration
- Changes to RMT/connect API: RMT returns HTTP status code 422 whenever a system
  tries to register/activate a product with an expired subscription.
- Mirror metadata retry. This fixes bsc#1188578
- Update the way allowed paths are checked
  SUMA requested a new feature where it is possible to validate
  all versions of the same product and arch (that are allowed to that system)
- De-register BYOS systems using RMT as a proxy from SCC
- De-activate a single product from a BYOS proxy system</comment>
    <requestid>955055</requestid>
  </revision>
  <revision rev="50" vrev="1">
    <srcmd5>620452d492978472ef86241d29105951</srcmd5>
    <version>2.7.1</version>
    <time>1646158027</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>958319</requestid>
  </revision>
  <revision rev="51" vrev="1">
    <srcmd5>e5218b8a7713d6aac906e285fb09876f</srcmd5>
    <version>2.8.0</version>
    <time>1648665359</time>
    <user>dimstar_suse</user>
    <comment>Automatic submission by obs-autosubmit</comment>
    <requestid>965849</requestid>
  </revision>
  <revision rev="52" vrev="2">
    <srcmd5>937fe9c2b10d0a8bddfd9158cd650c4e</srcmd5>
    <version>2.8.0</version>
    <time>1649949907</time>
    <user>dimstar_suse</user>
    <comment>- Version 2.8.0
- Forwarding information of registered systems to SCC more efficiently in batches
- Syncing the systems' most recent last seen timestamps to SCC
- Optional '--no-confirmation' switch to skip user confirmation when cleaning repository data
- Fix &quot;rmt-cli systems list --csv -a&quot; for RMTs with millions of systems (bsc#1191552)
- Enable nginx configs to serve on IPv6
- Enable users with old versions of RMT to sync systems with SCC by default
- Fix build using ruby 3.x (boo#1195318).
</comment>
    <requestid>969900</requestid>
  </revision>
</revisionlist>
