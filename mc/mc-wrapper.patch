---
 contrib/Makefile.am |    4 ++--
 contrib/mc.sh.in    |    9 ++++++++-
 2 files changed, 10 insertions(+), 3 deletions(-)

Index: mc-4.8.14/contrib/Makefile.am
===================================================================
--- mc-4.8.14.orig/contrib/Makefile.am	2015-03-24 19:02:18.000000000 +0100
+++ mc-4.8.14/contrib/Makefile.am	2015-03-24 19:05:14.000000000 +0100
@@ -22,10 +22,10 @@ EXTRA_DIST = \
 	$(noinst_DATA)
 
 mc.csh: $(top_builddir)/config.status $(srcdir)/mc.csh.in
-	sed "s%@""pkglibexecdir@%$(pkglibexecdir)%" $(srcdir)/mc.csh.in > mc.csh
+	sed "s%@""datadir@%$(datadir)%" $(srcdir)/mc.csh.in > mc.csh
 
 mc.sh: $(top_builddir)/config.status $(srcdir)/mc.sh.in
-	sed "s%@""pkglibexecdir@%$(pkglibexecdir)%" $(srcdir)/mc.sh.in > mc.sh
+	sed "s%@""datadir@%$(datadir)%" $(srcdir)/mc.sh.in > mc.sh
 
 mc-wrapper.csh: $(top_builddir)/config.status $(srcdir)/mc-wrapper.csh.in
 	sed "s%@""bindir@%$(bindir)%" $(srcdir)/mc-wrapper.csh.in > mc-wrapper.csh
Index: mc-4.8.14/contrib/mc.sh.in
===================================================================
--- mc-4.8.14.orig/contrib/mc.sh.in	2015-03-24 19:01:42.000000000 +0100
+++ mc-4.8.14/contrib/mc.sh.in	2015-03-24 19:02:18.000000000 +0100
@@ -1,3 +1,10 @@
 # Don't define aliases in plain Bourne shell
 [ -n "${BASH_VERSION}${KSH_VERSION}${ZSH_VERSION}" ] || return 0
-alias mc='. @pkglibexecdir@/mc-wrapper.sh'
+mc()
+{
+. @datadir@/mc/mc-wrapper.sh
+}
+if [ -n "$BASH_VERSION" ]
+then
+    export -f mc
+fi
