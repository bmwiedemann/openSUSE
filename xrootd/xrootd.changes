-------------------------------------------------------------------
Sun Jul  1 08:16:43 UTC 2018 - bugs@vdm-design.de

- Add patch xrootd-gcc8-fix.patch to fix build with gcc8

-------------------------------------------------------------------
Wed Mar  7 18:58:32 UTC 2018 - bugs@vdm-design.de

- Fix build for factory, rpc/types.h is gone from glibc-devel,
  use the one from tirpc-devel instead

-------------------------------------------------------------------
Fri Dec 22 18:51:02 UTC 2017 - bugs@vdm-design.de

- Disable crypto for Leap 15 and Tumbleweed to make it build again
  newer openssl versions are not supported by version < 4

-------------------------------------------------------------------
Thu Nov 23 13:54:23 UTC 2017 - rbrown@suse.com

- Replace references to /var/adm/fillup-templates with new 
  %_fillupdir macro (boo#1069468)

-------------------------------------------------------------------
Sun Jun 19 11:57:32 UTC 2016 - bugs@vdm-design.de

- Fix compilation with GCC6 in Tumbleweed, by applying patch
  xrootd-gcc6-fix.patch
  Patch taken from https://sft.its.cern.ch/jira/browse/ROOT-8184
  Fix is included in upstream version 4.3.0. We do not update to
  this version, as other packages that use xrootd do not compile
  against versions >= 4.0
- Fixes bnc#985167

-------------------------------------------------------------------
Wed Jun 25 13:40:42 UTC 2014 - bugs@vdm-design.de

- Remove %ghost entry in /var/run to fix rpmlint error

-------------------------------------------------------------------
Sun Jan 26 08:25:01 UTC 2014 - bugs@vdm-design.de

- Update to version 3.3.6
   * Prevent SEGV when error occurs during stat (issue #70)
   * Prevent SEGV in redirect monitoring (issue #61)
   * Set reasonable linux thread limit and warn it we cannot do so.
   * Support for C++11 (narrowing fixes, unique_ptr vs. auto_ptr)
   * Support for CMake 2.8.12 (interface link libraries)
   * Fix minor Coverity issues in XrdCl
   * Fix a rarely occuring segfault when forking XrdCl under heavy load
   * Fix various issues related to group name retrieval (issues #51, #52, #53)
   * Make XrdSys/XrdSysIOEvents.hh private - could not have been used anyways
   * Add a sysconfig template to preload custom allocators in order to fix
     memory issues on RHEL6
   * Allow up to 63 characters for a site name

-------------------------------------------------------------------
Mon Oct 14 08:08:24 UTC 2013 - bugs@vdm-design.de

- Update to version 3.3.4
   * Serialize sss authentication client initialization to prevent race
     conditions
   * Actually cancel the JobManager threads while stopping it - this affected
     client side fork handling (new client)
   * Restore original meaning of -adler and -md5 to xrdcp (issue #44)
   * Append CGI info when retrying at a server that handshaked but never
     respnded to the request (xrdcp)
   * Do socket accepts asynchronously to prevent DNS resolution from blocking
     accepts (issue #33)
   * Warn about incomplete dirlist responses (xrdfs)
   * Cast the utilization statistics to uint16_t before printing to
     print actual numbers instead of letters corresponding to ASCII codes
     (xrdfs)
   * When calling File::Stat use file handle instead of path
   * Improve handling of malformed kXR_readv responses (new client)
   * Explain parameters of xrdcopy --tpc (documentation, issue #46)

-------------------------------------------------------------------
Thu Sep  5 18:59:10 CEST 2013 - mls@suse.de

- add libperl_requires, as we link against libperl and thus
  need a specific version of perl

-------------------------------------------------------------------
Sat Apr 27 11:32:39 UTC 2013 - bugs@vdm-design.de

- Update to version 3.3.2
    * Fix the opaque information setting in xrdcp using -OD (issue #1)
    * Fix compilation on Solaris 11 (issue #7)
    * Fix issues with semaphore locking during thread cancelation on MaxOSX (issue #10)
    * Solve locking problems in the built-in poller (issue #4)
    * Solve performance issues in the new client. Note: this actually changes some low level public interfaces, so the soname of libXrdCl.so has been bumped to libXrdCl.so.1. The xrootd.org RPMs also provide the old libXrdCl.so.0 in order to preserve the binary compatibility with the clients linked against it.

-------------------------------------------------------------------
Thu Mar 07 16:21:00 UTC 2013 - bugs@vdm-design.de

- update to version 3.3.1
   * Correct XrdClient ABI incompatibility issue introduced in 3.3.0
   * Install additional private headers

-------------------------------------------------------------------
Mon Mar  4 09:50:32 UTC 2013 - cfarrell@suse.com

- license update: LGPL-3.0+
  See the LICENSE file (prior to September 2012 BSD - now, license is
  LGPL-3.0+)

-------------------------------------------------------------------
Sat Feb 23 10:10:00 UTC 2013 - bugs@vdm-design.de

- update to version 3.3.0
  * Changelog: http://xrootd.cern.ch/cgi-bin/cgit.cgi/xrootd/tree/docs/ReleaseNotes.txt?id=v3.3.0

-------------------------------------------------------------------
Thu Dec 13 11:39:00 UTC 2012 - bugs@vdm-design.de

- update to version 3.2.7
  * For OpenSSL versions prior to 1, make the 'default' and 'old' hash
    algorithm result the same. This fixes Savannah bug #98997.
  * Do not rebuild the full chain when the CRL is invalidated; also, make
    sure that the invalid CRL object in only deleted when no longer in use.
    Fixes bug #99074.
  * Allow for null fields in the cgi string.
  * Add missing return statement to avoid SEGV during write error recovery
    under certain circumstances. Fixes bug #99002.

-------------------------------------------------------------------
Fri Nov  9 10:32:22 UTC 2012 - bugs@vdm-design.de

- update to version 3.2.6
   * GSI authentication: fix possible race condition while re-loading CA
     certificates; fix also related memory leaks.
   * GSI authentication: make sure the CA cache is not initialized twice (e.g.
     server and client inside there), and that the cache entry pointers are
     always initialized.
   * Crypto OpenSSL modules: use more appropriate way to read the RSA complete key,
     solving various issues for RH6 and derivations, included SL(C)6.
   * Make sure redirect opaque information is passed along for all filename
     based requests. This is required for DPM and EOS N2N services to work
     in all cases (most importantly, stat).
   * Make sure buffer ends with null byte before read suspension. This only
     occurs on very heavily loaded connections.
   * Fix the fast response queue so that it doesn't run out of response
     slots causing a big performance penalty. This is a high priority fix.
   * Properly detect external process failure and report correct error status
     to a client.  This also fixes bug report #91141.
   * [XRootDPosix] Make sure to use a supplied cache even when no cache
     directives given.
   * Make sure to return a usable path string via XrdOucCacheIO::Path().
   * Actually support 4 different redirect destinations.
   * Transparent support for new name hashing algorithm adopted in openssl
     1.0.0x (GSI authentication protocol)
   * Verbosity levels revised for GSI and PWD authentication protocols.
   * Notification of initialization option for GSI and PWD authentication
     protocols.
   * Do not repudiate file existence on an "cancelled" error during open.
     this patch addresses overloaded dCache pool nodes.

-------------------------------------------------------------------
Mon Oct  8 08:10:22 UTC 2012 - bugs@vdm-design.de

- fix licence
- update to version 3.2.5
   * Make realoading gridmapfile atomic (protect from segfault)
   * Propagate to clients proper range of errors during read/write operations
   * Fix segfault when handling writes to files that have not been opened

-------------------------------------------------------------------
Tue Sep 11 08:44:21 UTC 2012 - bugs@vdm-design.de

- Update to version 3.2.4
  * Work around a dead-lock in the client fork handlers.

-------------------------------------------------------------------
Wed Sep  5 10:47:30 UTC 2012 - bugs@vdm-design.de

- Update to version 3.2.3
   * Make sure read statistics are updated for sendfile() and mmap I/O.
   * Make sure refresh thread is dead before deleting deleting the keytab to
     avoid SEGV's.
   * Add missing include for compiling with gcc-4.7 (from Sebastien Binet).
     This patch is required for successful compilation.
   * Avoid segfaults when limiting number of redirections caused by failed
     authorization.
   * Avoid deadlock in the client fork handlers.
   * Correct monitor initialization test to start monitor under all configs.
   * Fix a memory leak in the client handshake algorithm.
   * Fuse: Use default TTL values for data server connection and load
     balance server connection.

-------------------------------------------------------------------
Wed Jun 20 08:47:19 UTC 2012 - bugs@vdm-design.de

- update to version 3.2.2
   * Correct test whether or not to initialize redirect monitoring. The old
     code never initialized it this disabling redirect monitoring.
   * Backport frm notification fix that stalled stage-in requests from commit
     69e38cfd6b8bb024dd34f8eb28a666fbf97f346b
   * Prevent SEGV when xrd.monitor rbuff value not specified
   * Prevent xrdcp hangs when doing exterme copy from server to server.
   * In case of 'limited proxy' look for VOMS attributes also in the parent
     proxy.
   * Correct log processing for sites that use the root directory as the
     stomping ground for newly created files.

-------------------------------------------------------------------
Wed Jun 13 14:52:53 UTC 2012 - bugs@vdm-design.de

- update to upstream version 3.2.1

-------------------------------------------------------------------
Mon Feb 20 20:14:15 UTC 2012 - bugs@vdm-design.de

- Add spec file based on the one distributed with the sources
 
