diff -purN peazip-6.6.1.src.orig/rmd160.pas peazip-6.6.1.src/rmd160.pas
--- peazip-6.6.1.src.orig/rmd160.pas	2018-11-27 15:51:25.463922229 +0100
+++ peazip-6.6.1.src/rmd160.pas	2018-11-27 15:55:25.321937426 +0100
@@ -125,7 +125,7 @@ implementation
 
 
 {$ifdef FPC}
-  {$ifndef CPUARM}
+  {$if not(defined(CPUARM)) and not(defined(CPUAARCH64))}
     {$asmmode intel}
   {$endif}
 {$endif}
diff -purN peazip-6.6.1.src.orig/tsc.pas peazip-6.6.1.src/tsc.pas
--- peazip-6.6.1.src.orig/tsc.pas	2018-11-27 15:51:25.463922229 +0100
+++ peazip-6.6.1.src/tsc.pas	2018-11-27 16:05:25.150978582 +0100
@@ -95,7 +95,7 @@ function  _CheckRDTSC: boolean;
 
 implementation
 
-{$ifdef CPUARM}
+{$if defined(CPUARM) or defined(CPUAARCH64)}
 
 {$ifdef WINCE}
 
