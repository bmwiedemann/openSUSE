-------------------------------------------------------------------
Tue Mar 28 19:46:26 UTC 2023 - Egbert Eich <eich@suse.com>

- Update to version 14.0.0
  For information on changes consult the release notes of
  its sub-packages.
  * Remove obsolete:
    Fix-control-reaches-end-of-non-void-function-error.patch
    Make-include-and-library-path-configurable-using-Cmake-variables.patch
- Add Make-sure-standard-types-are-defined-in-c.patch:
  Not app Trilinos package include the type definition they
  require by rely on 'coinidential' inclusion. This can lead
  to errors.

-------------------------------------------------------------------
Sat Oct  8 07:54:44 UTC 2022 - Andreas Schwab <schwab@suse.de>

- Adjust disk constraints for riscv64

-------------------------------------------------------------------
Wed Aug 31 12:14:28 UTC 2022 - Guillaume GARDET <guillaume.gardet@opensuse.org>

- Update disk size to match current needs and fix build on aarch64

-------------------------------------------------------------------
Mon Jun 27 15:18:16 UTC 2022 - Egbert Eich <eich@suse.com>

- Fix dependency settings: due to missing packages the macro
  %{req_equal} returned empty.
- Fix HPC environment module dependency.

-------------------------------------------------------------------
Fri Apr  1 15:32:15 UTC 2022 - Egbert Eich <eich@suse.com>

- Tie %python_flavor to python3 on Leap/SLE 15 < SP3
  (bsc#1197781).

-------------------------------------------------------------------
Mon Feb  7 07:07:18 UTC 2022 - Egbert Eich <eich@suse.com>

- Make use of the newly introduced %%hpc_pyton_sitelib macro.

-------------------------------------------------------------------
Wed Feb  2 16:19:43 UTC 2022 - Egbert Eich <eich@suse.com>

- Fix python modules to use the right include and lib dir:
  Make-include-and-library-path-configurable-using-Cmake-variables.patch
  See also: https://github.com/gsjaardema/seacas/pull/279
- Make sure python modules for serial and MPI variants don't
  overlap.
  NOTE: mpi-selector is not setting PYTHONPATH!
- Free package of all python2 traces.

-------------------------------------------------------------------
Sun Jan 30 10:54:03 UTC 2022 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Lower disk and memory constraints to match actual requirements,
  dito %limit_build (now 16 GByte disk and 5 GByte memory).
- Add memoryperjob constraint for a worker preselection, so
  limit_build only lowers the number of jobs slightly.
- Fix cmake files for non-HPC MPI build.
- Add openmpi4 non-HPC flavor

-------------------------------------------------------------------
Fri Jan 14 09:43:20 UTC 2022 - Egbert Eich <eich@suse.com>

- Update to version 13.2.0
  For information on changes consult the release notes of
  its sub-packages.
  * Remove: Make-kokkos-build-reproducible.patch
            Add-missing-ENV-DESTDIR.patch
  * Add: Fix-control-reaches-end-of-non-void-function-error.patch
         Convert-python2-isms-to-python3.patch
	 Not-a-shell-script.patch
- Add dependency for library package to devel package.
- Fix cmake include path (boo#1194648):
  cmake/tribits/core/package_arch/TribitsWriteClientExportFiles.cmake
  uses a logic to calculate the relative path elements between
  the cmake directory and the installation directory. This works
  only if Trilinos_INSTALL_LIB_DIR is relative, while other parts
  of the code allow it to be absolute.
  See also: https://github.com/trilinos/Trilinos/issues/10100
- Fix doc building.

-------------------------------------------------------------------
Tue Mar 23 23:15:05 UTC 2021 - Egbert Eich <eich@suse.com>

- Update to version 13.0.1
  For information on changes consult the release notes of
  its sub-packages.

-------------------------------------------------------------------
Tue Feb 16 14:41:27 UTC 2021 - Egbert Eich <eich@suse.com>

- Remove /etc/ld.so.conf file that existed for non-HPC, non-MPI.
  It is no longer needed $_lib/trilinos no longer exists.

-------------------------------------------------------------------
Wed Feb  3 19:34:50 UTC 2021 - Egbert Eich <eich@suse.com>

- Change 'Requires:' to other HPC packages to %requires_eq to depend
  on the exact version. This should take care of HPC packages ignoring
  proper ABI versioning.

-------------------------------------------------------------------
Wed Oct 14 05:25:56 UTC 2020 - Egbert Eich <eich@suse.com>

- Update to version 13.0.0
  For information on changes consult the release notes of
  its sub-packages.
- Update patches:
  * Replace: reproducible.patch by
    Make-kokkos-build-reproducible.patch
  * Remove: reproducible-docs.patch,
    no longer applicable
  * Remove: Fix-Makefiles-for-gmake-4.3.patch,
    no longer applicable
  * Remove: trilinos-11.14.3-no-return-in-non-void.patch,
    int main() -> void main() conversion makes no sense.
  * Add: Add-missing-ENV-DESTDIR.patch
    DESTDIR isn't taken into account.

-------------------------------------------------------------------
Fri Sep 11 06:22:46 UTC 2020 - Egbert Eich <eich@suse.com>

- Add build support for gcc10 to HPC build (bsc#1174439).
- Add openmpi4 flavors.
- Revert: Use memoryperjob constraint instead of %limit_build macro.
  This would attempt to find a work whose memory matches the number
  of jobs available * memoryperjob. Such workers may not exist.
- Use 'module load netcdf' - this is now the load command for
  all variants of netcdf.

-------------------------------------------------------------------
Thu Aug 20 09:08:15 UTC 2020 - Martin Liška <mliska@suse.cz>

- Use memoryperjob constraint instead of %limit_build macro.

-------------------------------------------------------------------
Tue Aug 11 18:16:44 UTC 2020 - Bernhard Wiedemann <bwiedemann@suse.com>

- Add reproducible.patch to override build date (boo#1047218)
- Add reproducible-docs.patch to sort the file list (boo#1041090)

-------------------------------------------------------------------
Thu May  7 18:51:54 UTC 2020 - Egbert Eich <eich@suse.com>

- Again try to fix up dependencies after removing the
  base package.
- Let (non-HPC) trilinos-devel conflict with kokkos-devel

-------------------------------------------------------------------
Tue May  5 12:11:46 UTC 2020 - Egbert Eich <eich@suse.com>

- Fix dependencies for devel package after eliminating the
  base package:
  * Remove dependency to base package
  * for HPC add dependency to library package

-------------------------------------------------------------------
Thu Apr 30 04:43:33 UTC 2020 - Egbert Eich <eich@suse.com>

- Don't use ninja as cmake generator for Leap/SLE < 15.2
  as it doesn't support fortran.

-------------------------------------------------------------------
Mon Apr 27 04:57:53 UTC 2020 - Egbert Eich <eich@suse.com>

- Eliminate trilinos base package, move %doc and %license files
  to the lib-package and remaining binary files to the devel-package.

-------------------------------------------------------------------
Sun Apr 26 19:10:18 UTC 2020 - Egbert Eich <eich@suse.com>

- Fix build for gmake 4.3 in a backward compatible way (boo#1170523),
  Fix-Makefiles-for-gmake-4.3.patch was added.

-------------------------------------------------------------------
Fri Apr 24 13:12:14 UTC 2020 - Christoph Junghans <junghans@votca.org>

- nvcc_wrapper is a compiler wrapper and should go in -devel
  package
- fix "extra tokens" RPM build errors 

-------------------------------------------------------------------
Fri Apr 10 06:46:37 UTC 2020 - Oliver Kurz <okurz@suse.com>

- Use ninja as cmake builder for potential speedup

-------------------------------------------------------------------
Thu Dec 12 22:42:46 UTC 2019 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Replace open coded job limit (<= 4) by macro from memory-constraints
- Remove physicalmemory _constraints
- Reduce _constraints for documentation packages.
- Fix openmpi(1) builds for Leap/SLE <= 15.1

-------------------------------------------------------------------
Tue Dec  3 10:12:12 UTC 2019 - Egbert Eich <eich@suse.com>

- Add support for gcc8 builds for HPC.
- Add support for gcc8 and gcc9 builds for HPC (jsc#SLE-7766,
  jsc#SLE-8604).

-------------------------------------------------------------------
Thu Nov 28 16:20:55 UTC 2019 - Egbert Eich <eich@suse.com>

- Disable openmpi1 builds for SLE/Leap > 15.1.
- Enable openmpi3 builds for Leap and SLE > 15.1 (jsc#SLE-7773).

-------------------------------------------------------------------
Thu Oct  3 04:22:38 UTC 2019 - Michel Normand <normand@linux.vnet.ibm.com>

- update _constraints for ppc64 for 22GB disk
  to avoid out of disk space build error.

-------------------------------------------------------------------
Wed Aug 28 12:41:02 UTC 2019 - Ana Guerrero Lopez <aguerrero@suse.com>

- Update to version 12.14.1. (jsc#SLE-8513)
  Trilinos is composed of 60 different packages. To see the changes 
  you need to check the release notes of every package under packages/
- Remove patches, upstream has fixed this problem in a different way
  * Trilinos-trilinos-aarch64.patch

-------------------------------------------------------------------
Wed Jul 17 10:12:17 UTC 2019 - Michel Normand <normand@linux.vnet.ibm.com>

- Add BuildRequires libopenblas-gnu-hpc >=  0.3.6 for hpc to  avoid
  to build when openblas library not available (ppc64)

-------------------------------------------------------------------
Sat Jul  6 20:44:20 UTC 2019 - Jan Engelhardt <jengelh@inai.de>

- Update descriptions.

-------------------------------------------------------------------
Fri Jul  5 09:47:57 UTC 2019 - Ana Guerrero Lopez <aguerrero@suse.com>

- Disable ePetra package. There is a incompatibility with OMP 4.0 and
  GCC 9 that must be fixed.
  More information at https://github.com/trilinos/Trilinos/issues/5390

-------------------------------------------------------------------
Wed Mar  6 16:56:55 UTC 2019 - Egbert Eich <eich@suse.com>

- Disable ROL package for SLE builds.

-------------------------------------------------------------------
Wed Mar  6 10:39:31 UTC 2019 - Ana Guerrero Lopez <aguerrero@suse.com>

- Disable gtest. Gtest is already provided as a separate package
  with the same name and provides a library /usr/lib64/libgtest.so 
  that was conflicting with the one generated by trilinos-devel.
- Remove leftover Requires in the non HPC mpi flavours.

-------------------------------------------------------------------
Tue Mar  5 15:41:57 UTC 2019 - Chris Coutinho <c.coutinho@redstack.nl>

- Fix serial build: devel package was not pulling in libtrilinos12 due
  to misplaced 'Requires: %libname' line
- Enable Trilinos ROL package

-------------------------------------------------------------------
Wed Feb 27 14:49:47 UTC 2019 - Egbert Eich <eich@suse.com>

- Readd HPC master package for documentation.
- Use %{hpc_init} for building documentation.
- Use bconds to documentation builds to improve readablility.
- Expand use of script sanitization, remove patch.

-------------------------------------------------------------------
Fri Feb 22 08:03:34 UTC 2019 - Ana Guerrero Lopez <aguerrero@suse.com>

- Build documentation in two separates flavor one for non-HPC 
  and another one for HPC. documentation and documentation-hpc
  respectively.
  * Only install the BuildRequires to build the documentation
  * Add separate %prep, %build and %install for building 
    the documentation
- Use ExcludeArch to disable build in some architectures. 
  Add 390x to the list.
- Add patch fix_shebangs.patch

-------------------------------------------------------------------
Thu Feb 14 00:16:56 UTC 2019 - Stefan Brüns <stefan.bruens@rwth-aachen.de>

- Hide qt4 BuildRequires behind bcond (currently off)
- Spec file cleanup (whitespace, remove duplicate BuildRequires)
- Fix summary/description of doc subpackage, make it noarch

-------------------------------------------------------------------
Wed Feb  6 18:13:31 UTC 2019 - eich@suse.com

- Properly create and tear down default version links when the
  HPC master packages are installed/uninstalled (bsc#1124519).
- Reflect package name changes for scriptlets as well: run
  ldconfig from the correct package.
- Make summary and descriptions more precise.
- Sanitize python scripts assuming pyhton2 support.
- Fix %%smp_nflags setting: lmit to 4 parallel builds.
- Fix package dependencies.
- Limit openmpi builds on SLE to version 2. (Due to limited
  number of suitable workers limit all openmpi builds to
  version 2 only for now).
- Module files: prepend CPATH, C_INCLUDE_PATH, CPLUS_INCLUDE_PATH
  elements.
- Consolidate use of openmpi1, openmpi2, openmpi3 for non-HPC builds.
- Fix package groups.

-------------------------------------------------------------------
Wed Jan 10 16:30:06 UTC 2018 - cgoll@suse.com

- Update of trilinos to 11.14.3
  * Tuechos - LAPACK: Added _GEQP3 (QR with column pivoting).
  * Kokkos - Fix missing file in install
  * Thyra  - Fix a backwards compatibility issue with a missing header file.
- Convert package to HPC (FATE#324185)
- Fix the non-HPC builds - The build configuration needed to be
  changed, the dropped elements were left for reference in a
  comment.
- Disable non-HPC builds for SLE.
- Add constraints for minimal memory.
- Limit the number of parallel build threads: OBS machines with large memory
  typically have many CPUs. If many CPUs build we will need even more memory.

-------------------------------------------------------------------
Sun Nov 22 16:41:39 UTC 2015 - scorot@free.fr

- version 11.4.3
  * Tuechos
    - LAPACK: Added _GEQP3 (QR with column pivoting). 
  * Kokkos
    - Fix missing file in install
  * Thyra
    - Fix a backwards compatibility issue with a missing header
      file.
- update build requirements according to recent scalapack and
  blacs changes. Blacs is deprecated and provided in scalapack
- disable pyTrilinos since it wont build anymore on recent product
- enable hwloc support on openSUSE >= 13.2
- enable matio support
- rebase no-return-in-non-void.patch

-------------------------------------------------------------------
Tue Jul 16 20:54:50 UTC 2013 - scorot@free.fr

- update to version 11.2.5
  * SEACAS
    - Fix parallel-aware exodus build activation

-------------------------------------------------------------------
Sat Jun 22 16:23:57 UTC 2013 - scorot@free.fr

- update to version 11.2.4
  * Teuchos
    - Fix cdotc_ declarations
  * Triutils
    - Fix issue with ambiguous abs() calls in 64bit. 
- build PyTrilinos for serial version
- rebase patch0 no-return-in-non-void.patch
- remove patch cdoc.path fixed upstream
- add patch stringcompare.patch
- build html documentation and put it in a doc subpackage

-------------------------------------------------------------------
Fri May 24 19:34:30 UTC 2013 - scorot@free.fr

- update to version 11.2.3
  * EpetraExt
    - Fix reindexing with the row and column GID set is not the
      same.
    - Fixed singleton filter to not generate a separate linear
      problem if no singletons are detected.
  * Intrepid
    - MiniTensor: Fixed coeffcients of Pade Approximant for the
      exponential. 
- rebase patch0
- add patch2 trilinos-11.2.3-cdotc.patch
- update files list

-------------------------------------------------------------------
Sat Feb  2 13:04:01 UTC 2013 - scorot@free.fr

- build openmpi parallel version 

-------------------------------------------------------------------
Sun Jan 27 12:08:12 UTC 2013 - scorot@free.fr

- enable mumps and glpk support in trilinos
- explicitly enable QT and netcdf support in trilinos
- enable C and fortran interfaces

-------------------------------------------------------------------
Sat Jan 26 18:59:41 UTC 2013 - scorot@free.fr

- enable zoltan in trilinos
- build requires libqt4-devel anf netcfd-devel

-------------------------------------------------------------------
Mon Jan 21 20:05:00 UTC 2013 - scorot@free.fr

- enable superlu support

-------------------------------------------------------------------
Sun Jan 20 18:15:07 UTC 2013 - scorot@free.fr

- re-enable rpath check since no-rpath.pacth seems to work
- add patches informations in spec file
- add TODO comment in spec file  

-------------------------------------------------------------------
Sat Jan 19 23:10:06 UTC 2013 - scorot@free.fr

- first package version 11.0.3

